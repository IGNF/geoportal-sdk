/*!
 * @brief French Geoportal SDK based on OpenLayers (2D) and iTowns (3D) libraries
 *
 * This software is released under the licence CeCILL-B (Free BSD compatible)
 * @see http://www.cecill.info/licences/Licence_CeCILL-B_V1-en.txt
 * @see http://www.cecill.info/licences/Licence_CeCILL-B_V1-fr.txt
 * @see http://www.cecill.info/
 *
 * @copyright copyright (c) IGN
 * @license CeCILL-B
 * @author IGN
 * @version 3.5.4
 * @date 05/06/2024
 * @build
 *    date   : 6/5/2024, 5:05:28 PM
 *    branch : tags/3.5.4
 *    commit : 36e4c02
 *    dirty  : true
 */
/*!
 * geoportal-extensions-openlayers. See https://github.com/IGNF/geoportal-extensions
 * @license https://github.com/IGNF/geoportal-extensions/blob/master/LICENCE.md
 * @version 3.4.4
 */
/*!
 * @overview  ol-mapbox-style - Use Mapbox Style objects with OpenLayers
 * @copyright Copyright (c) 2016 openlayers
 * @license   BSD 2-Clause "Simplified" License
 *            See https://raw.githubusercontent.com/openlayers/ol-mapbox-style/master/LICENSE
 * @version   6.7.0
 */
/*!
 * @overview   OpenLayers. See http://openlayers.org/
 * @copyright  Copyright 2005-present, OpenLayers Contributors All rights reserved.
 * @license    BSD 2-Clause "Simplified" License
 *             See https://raw.githubusercontent.com/openlayers/openlayers/master/LICENCE.md
 * @version    6.9.0
 */
/*!
 * Sortable -- JavaScript library for reorderable drag-and-drop lists on modern
 * browsers and touch devices. No jQuery required. Supports Meteor, AngularJS,
 * React, Polymer, Vue, Knockout and any CSS library, e.g. Bootstrap.
 *
 * Released under MIT LICENSE
 *
 * Copyright Lebedev Konstantin <ibnRubaXa@gmail.com>
 * https://github.com/SortableJS/Sortable
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 *
 * @version v1.8.4
 */
/*!
 * @overview  es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.4
 */
/*!
 * @overview   Proj4js - Javascript reprojection library.
 *
 * @authors
 * - Mike Adair madairATdmsolutions.ca
 * - Richard Greenwood richATgreenwoodmap.com
 * - Didier Richard didier.richardATign.fr
 * - Stephen Irons stephen.ironsATclear.net.nz
 * - Olivier Terral oterralATgmail.com
 * - Calvin Metcalf cmetcalfATappgeo.com
 *
 * @copyright Copyright (c) 2014, Mike Adair, Richard Greenwood, Didier Richard, Stephen Irons, Olivier Terral and Calvin Metcalf
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/proj4js/proj4js/master/LICENSE.md
 * @version   2.7.5
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("node-fetch"),require("xmldom")):"function"==typeof define&&define.amd?define("Gp",["require","require"],t):"object"==typeof exports?exports.Gp=t(require("node-fetch"),require("xmldom")):e.Gp=t(e[void 0],e[void 0])}(window,(function(e,t){return function(e){function t(t){for(var o,r,i=t[0],a=t[1],s=0,c=[];s<i.length;s++)r=i[s],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&c.push(n[r][0]),n[r]=0;for(o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o]);for(l&&l(t);c.length;)c.shift()()}var o={},n={1:0};function r(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.e=function(e){var t=[],o=n[e];if(0!==o)if(o)t.push(o[2]);else{var i=new Promise((function(t,r){o=n[e]=[t,r]}));t.push(o[2]=i);var a,s=document.createElement("script");s.charset="utf-8",s.timeout=120,r.nc&&s.setAttribute("nonce",r.nc),s.src=function(e){return r.p+""+({0:"chunk-geotiff"}[e]||e)+".js"}(e);var l=new Error;a=function(t){s.onerror=s.onload=null,clearTimeout(c);var o=n[e];if(0!==o){if(o){var r=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+r+": "+i+")",l.name="ChunkLoadError",l.type=r,l.request=i,o[1](l)}n[e]=void 0}};var c=setTimeout((function(){a({type:"timeout",target:s})}),12e4);s.onerror=s.onload=a,document.head.appendChild(s)}return Promise.all(t)},r.m=e,r.c=o,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(o,n,function(t){return e[t]}.bind(null,n));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r.oe=function(e){throw console.error(e),e};var i=window.webpackJsonpGp=window.webpackJsonpGp||[],a=i.push.bind(i);i.push=t,i=i.slice();for(var s=0;s<i.length;s++)t(i[s]);var l=a;return r(r.s=0)}({"./node_modules/@mapbox/mapbox-gl-style-spec/dist/index.es.js":function(e,t,o){"use strict";(function(e,n){o.d(t,"a",(function(){return Q})),o.d(t,"b",(function(){return Ao})),o.d(t,"c",(function(){return $o})),o.d(t,"d",(function(){return ho})),o.d(t,"e",(function(){return en})),o.d(t,"f",(function(){return r}));var r={$version:8,$root:{version:{required:!0,type:"enum",values:[8],doc:"Style specification version number. Must be 8.",example:8},name:{type:"string",doc:"A human-readable name for the style.",example:"Bright"},metadata:{type:"*",doc:"Arbitrary properties useful to track with the stylesheet, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'mapbox:'."},center:{type:"array",value:"number",doc:"Default map center in longitude and latitude.  The style center will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:[-73.9749,40.7736]},zoom:{type:"number",doc:"Default zoom level.  The style zoom will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:12.5},bearing:{type:"number",default:0,period:360,units:"degrees",doc:'Default bearing, in degrees. The bearing is the compass direction that is "up"; for example, a bearing of 90Â° orients the map so that east is up. This value will be used only if the map has not been positioned by other means (e.g. map options or user interaction).',example:29},pitch:{type:"number",default:0,units:"degrees",doc:"Default pitch, in degrees. Zero is perpendicular to the surface, for a look straight down at the map, while a greater value like 60 looks ahead towards the horizon. The style pitch will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:50},light:{type:"light",doc:"The global light source.",example:{anchor:"viewport",color:"white",intensity:.4}},terrain:{type:"terrain",doc:"A global modifier that elevates layers and markers based on a DEM data source."},fog:{type:"fog",doc:"A global effect that fades layers and markers based on their distance to the camera. The fog can be used to approximate the effect of atmosphere on distant objects and enhance the depth perception of the map when used with terrain or 3D features."},sources:{required:!0,type:"sources",doc:"Data source specifications.",example:{"mapbox-streets":{type:"vector",url:"mapbox://mapbox.mapbox-streets-v6"}}},sprite:{type:"string",doc:"A base URL for retrieving the sprite image and metadata. The extensions `.png`, `.json` and scale factor `@2x.png` will be automatically appended. This property is required if any layer uses the `background-pattern`, `fill-pattern`, `line-pattern`, `fill-extrusion-pattern`, or `icon-image` properties. The URL must be absolute, containing the [scheme, authority and path components](https://en.wikipedia.org/wiki/URL#Syntax).",example:"mapbox://sprites/mapbox/bright-v8"},glyphs:{type:"string",doc:"A URL template for loading signed-distance-field glyph sets in PBF format. The URL must include `{fontstack}` and `{range}` tokens. This property is required if any layer uses the `text-field` layout property. The URL must be absolute, containing the [scheme, authority and path components](https://en.wikipedia.org/wiki/URL#Syntax).",example:"mapbox://fonts/mapbox/{fontstack}/{range}.pbf"},transition:{type:"transition",doc:"A global transition definition to use as a default across properties, to be used for timing transitions between one value and the next when no property-specific transition is set. Collision-based symbol fading is controlled independently of the style's `transition` property.",example:{duration:300,delay:0}},layers:{required:!0,type:"array",value:"layer",doc:"Layers will be drawn in the order of this array.",example:[{id:"water",source:"mapbox-streets","source-layer":"water",type:"fill",paint:{"fill-color":"#00ffff"}}]}},sources:{"*":{type:"source",doc:"Specification of a data source. For vector and raster sources, either TileJSON or a URL to a TileJSON must be provided. For image and video sources, a URL must be provided. For GeoJSON sources, a URL or inline GeoJSON must be provided."}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{doc:"A vector tile source."}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://<Tileset ID>`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL."},scheme:{type:"enum",values:{xyz:{doc:"Slippy map tilenames scheme."},tms:{doc:"OSGeo spec scheme."}},default:"xyz",doc:"Influences the y direction of the tile coordinates. The global-mercator (aka Spherical Mercator) profile is assumed."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},promoteId:{type:"promoteId",doc:"A property to use as a feature id (for feature state). Either a property name, or an object of the form `{<sourceLayer>: <propertyName>}`. If specified as a string for a vector tile source, the same property is used across all its source layers."},volatile:{type:"boolean",default:!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},source_raster:{type:{required:!0,type:"enum",values:{raster:{doc:"A raster tile source."}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://<Tileset ID>`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},tileSize:{type:"number",default:512,units:"pixels",doc:"The minimum visual size to display tiles for this layer. Only configurable for raster layers."},scheme:{type:"enum",values:{xyz:{doc:"Slippy map tilenames scheme."},tms:{doc:"OSGeo spec scheme."}},default:"xyz",doc:"Influences the y direction of the tile coordinates. The global-mercator (aka Spherical Mercator) profile is assumed."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},volatile:{type:"boolean",default:!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{doc:"A RGB-encoded raster DEM source"}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://<Tileset ID>`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},tileSize:{type:"number",default:512,units:"pixels",doc:"The minimum visual size to display tiles for this layer. Only configurable for raster layers."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},encoding:{type:"enum",values:{terrarium:{doc:"Terrarium format PNG tiles. See https://aws.amazon.com/es/public-datasets/terrain/ for more info."},mapbox:{doc:"Mapbox Terrain RGB tiles. See https://www.mapbox.com/help/access-elevation-data/#mapbox-terrain-rgb for more info."}},default:"mapbox",doc:"The encoding used by this source. Mapbox Terrain RGB is used by default"},volatile:{type:"boolean",default:!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{doc:"A GeoJSON data source."}},doc:"The data type of the GeoJSON source."},data:{type:"*",doc:"A URL to a GeoJSON file, or inline GeoJSON."},maxzoom:{type:"number",default:18,doc:"Maximum zoom level at which to create vector tiles (higher means greater detail at high zoom levels)."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},buffer:{type:"number",default:128,maximum:512,minimum:0,doc:"Size of the tile buffer on each side. A value of 0 produces no buffer. A value of 512 produces a buffer as wide as the tile itself. Larger values produce fewer rendering artifacts near tile edges and slower performance."},filter:{type:"*",doc:"An expression for filtering features prior to processing them for rendering."},tolerance:{type:"number",default:.375,doc:"Douglas-Peucker simplification tolerance (higher means simpler geometries and faster performance)."},cluster:{type:"boolean",default:!1,doc:"If the data is a collection of point features, setting this to true clusters the points by radius into groups. Cluster groups become new `Point` features in the source with additional properties:\n * `cluster` Is `true` if the point is a cluster \n * `cluster_id` A unqiue id for the cluster to be used in conjunction with the [cluster inspection methods](https://www.mapbox.com/mapbox-gl-js/api/#geojsonsource#getclusterexpansionzoom)\n * `point_count` Number of original points grouped into this cluster\n * `point_count_abbreviated` An abbreviated point count"},clusterRadius:{type:"number",default:50,minimum:0,doc:"Radius of each cluster if clustering is enabled. A value of 512 indicates a radius equal to the width of a tile."},clusterMaxZoom:{type:"number",doc:"Max zoom on which to cluster points if clustering is enabled. Defaults to one zoom less than maxzoom (so that last zoom features are not clustered). Clusters are re-evaluated at integer zoom levels so setting clusterMaxZoom to 14 means the clusters will be displayed until z15."},clusterMinPoints:{type:"number",doc:"Minimum number of points necessary to form a cluster if clustering is enabled. Defaults to `2`."},clusterProperties:{type:"*",doc:'An object defining custom properties on the generated clusters if clustering is enabled, aggregating values from clustered points. Has the form `{"property_name": [operator, map_expression]}`. `operator` is any expression function that accepts at least 2 operands (e.g. `"+"` or `"max"`) â it accumulates the property value from clusters/points the cluster contains; `map_expression` produces the value of a single point.\n\nExample: `{"sum": ["+", ["get", "scalerank"]]}`.\n\nFor more advanced use cases, in place of `operator`, you can use a custom reduce expression that references a special `["accumulated"]` value, e.g.:\n`{"sum": [["+", ["accumulated"], ["get", "sum"]], ["get", "scalerank"]]}`'},lineMetrics:{type:"boolean",default:!1,doc:"Whether to calculate line distance metrics. This is required for line layers that specify `line-gradient` values."},generateId:{type:"boolean",default:!1,doc:"Whether to generate ids for the geojson features. When enabled, the `feature.id` property will be auto assigned based on its index in the `features` array, over-writing any previous values."},promoteId:{type:"promoteId",doc:"A property to use as a feature id (for feature state). Either a property name, or an object of the form `{<sourceLayer>: <propertyName>}`."}},source_video:{type:{required:!0,type:"enum",values:{video:{doc:"A video data source."}},doc:"The data type of the video source."},urls:{required:!0,type:"array",value:"string",doc:"URLs to video content in order of preferred format."},coordinates:{required:!0,doc:"Corners of video specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},source_image:{type:{required:!0,type:"enum",values:{image:{doc:"An image data source."}},doc:"The data type of the image source."},url:{required:!0,type:"string",doc:"URL that points to an image."},coordinates:{required:!0,doc:"Corners of image specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},layer:{id:{type:"string",doc:"Unique layer name.",required:!0},type:{type:"enum",values:{fill:{doc:"A filled polygon with an optional stroked border.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},line:{doc:"A stroked line.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},symbol:{doc:"An icon or a text label.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},circle:{doc:"A filled circle.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},heatmap:{doc:"A heatmap.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"fill-extrusion":{doc:"An extruded (3D) polygon.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},raster:{doc:"Raster map textures such as satellite imagery.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},hillshade:{doc:"Client-side hillshading visualization based on DEM data. Currently, the implementation only supports Mapbox Terrain RGB and Mapzen Terrarium tiles.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},background:{doc:"The background color or pattern of the map.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},sky:{doc:"A spherical dome around the map that is always rendered behind all other layers.","sdk-support":{"basic functionality":{js:"2.0.0"}}}},doc:"Rendering type of this layer.",required:!0},metadata:{type:"*",doc:"Arbitrary properties useful to track with the layer, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'mapbox:'."},source:{type:"string",doc:"Name of a source description to be used for this layer. Required for all layer types except `background`."},"source-layer":{type:"string",doc:"Layer to use from a vector tile source. Required for vector tile sources; prohibited for all other source types, including GeoJSON sources."},minzoom:{type:"number",minimum:0,maximum:24,doc:"The minimum zoom level for the layer. At zoom levels less than the minzoom, the layer will be hidden."},maxzoom:{type:"number",minimum:0,maximum:24,doc:"The maximum zoom level for the layer. At zoom levels equal to or greater than the maxzoom, the layer will be hidden."},filter:{type:"filter",doc:"A expression specifying conditions on source features. Only features that match the filter are displayed. Zoom expressions in filters are only evaluated at integer zoom levels. The `feature-state` expression is not supported in filter expressions."},layout:{type:"layout",doc:"Layout properties for the layer."},paint:{type:"paint",doc:"Default paint properties for this layer."}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],layout_background:{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_sky:{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"2.0.0"}},"property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"},"data-driven styling":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.2.0",ios:"5.9.0",macos:"0.16.0"},"data-driven styling":{js:"1.2.0",android:"9.2.0",ios:"5.9.0",macos:"0.16.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},"property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},"property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{doc:"A cap with a squared-off end which is drawn to the exact endpoint of the line."},round:{doc:"A cap with a rounded end which is drawn beyond the endpoint of the line at a radius of one-half of the line's width and centered on the endpoint of the line."},square:{doc:"A cap with a squared-off end which is drawn beyond the endpoint of the line at a distance of one-half of the line's width."}},default:"butt",doc:"The display of line endings.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"2.3.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-join":{type:"enum",values:{bevel:{doc:"A join with a squared-off end which is drawn beyond the endpoint of the line at a distance of one-half of the line's width."},round:{doc:"A join with a rounded end which is drawn beyond the endpoint of the line at a radius of one-half of the line's width and centered on the endpoint of the line."},miter:{doc:"A join with a sharp, angled corner which is drawn with the outer sides beyond the endpoint of the path until they meet."}},default:"miter",doc:"The display of lines when joining.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,doc:"Used to automatically convert miter joins to bevel joins for sharp angles.",requires:[{"line-join":"miter"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,doc:"Used to automatically convert round joins to miter joins for shallow angles.",requires:[{"line-join":"round"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"},"data-driven styling":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{doc:"The label is placed at the point where the geometry is located."},line:{doc:"The label is placed along the line of the geometry. Can only be used on `LineString` and `Polygon` geometries."},"line-center":{doc:"The label is placed at the center of the line of the geometry. Can only be used on `LineString` and `Polygon` geometries. Note that a single feature in a vector tile may contain multiple line geometries."}},default:"point",doc:"Label placement relative to its geometry.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`line-center` value":{js:"0.47.0",android:"6.4.0",ios:"4.3.0",macos:"0.10.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",doc:"Distance between two symbol anchors.",requires:[{"symbol-placement":"line"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,doc:"If true, the symbols will not cross tile edges to avoid mutual collisions. Recommended in layers that don't have enough padding in the vector tile to prevent collisions, or if it is a point symbol layer placed after a line symbol layer. When using a client that supports global collision detection, like Mapbox GL JS version 0.42.0 or greater, enabling this property is not needed to prevent clipped labels at tile boundaries.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with lower sort keys are drawn and placed first.  When `icon-allow-overlap` or `text-allow-overlap` is `false`, features with a lower sort key will have priority during placement. When `icon-allow-overlap` or `text-allow-overlap` is set to `true`, features with a higher sort key will overlap over features with a lower sort key.","sdk-support":{"basic functionality":{js:"0.53.0",android:"7.4.0",ios:"4.11.0",macos:"0.14.0"},"data-driven styling":{js:"0.53.0",android:"7.4.0",ios:"4.11.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{doc:"Sorts symbols by `symbol-sort-key` if set. Otherwise, sorts symbols by their y-position relative to the viewport if `icon-allow-overlap` or `text-allow-overlap` is set to `true` or `icon-ignore-placement` or `text-ignore-placement` is `false`."},"viewport-y":{doc:"Sorts symbols by their y-position relative to the viewport if `icon-allow-overlap` or `text-allow-overlap` is set to `true` or `icon-ignore-placement` or `text-ignore-placement` is `false`."},source:{doc:"Sorts symbols by `symbol-sort-key` if set. Otherwise, no sorting is applied; symbols are rendered in the same order as the source data."}},default:"auto",doc:"Determines whether overlapping symbols in the same layer are rendered in the order that they appear in the data source or by their y-position relative to the viewport. To control the order and prioritization of symbols otherwise, use `symbol-sort-key`.","sdk-support":{"basic functionality":{js:"0.49.0",android:"6.6.0",ios:"4.5.0",macos:"0.12.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,doc:"If true, the icon will be visible even if it collides with other previously drawn symbols.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,doc:"If true, other symbols can be visible even if they collide with the icon.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,doc:"If true, text will display without their corresponding icons when the icon collides with other symbols and the text does not.",requires:["icon-image","text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{doc:"When `symbol-placement` is set to `point`, aligns icons east-west. When `symbol-placement` is set to `line` or `line-center`, aligns icon x-axes with the line."},viewport:{doc:"Produces icons whose x-axes are aligned with the x-axis of the viewport, regardless of the value of `symbol-placement`."},auto:{doc:"When `symbol-placement` is set to `point`, this is equivalent to `viewport`. When `symbol-placement` is set to `line` or `line-center`, this is equivalent to `map`."}},default:"auto",doc:"In combination with `symbol-placement`, determines the rotation behavior of icons.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",doc:"Scales the original size of the icon by the provided factor. The new pixel size of the image will be the original pixel size multiplied by `icon-size`. 1 is the original size; 3 triples the size of the image.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{doc:"The icon is displayed at its intrinsic aspect ratio."},width:{doc:"The icon is scaled in the x-dimension to fit the width of the text."},height:{doc:"The icon is scaled in the y-dimension to fit the height of the text."},both:{doc:"The icon is scaled in both x- and y-dimensions."}},default:"none",doc:"Scales the icon to fit around the associated text.",requires:["icon-image","text-field"],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"},"stretchable icons":{js:"1.6.0",android:"9.2.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",doc:"Size of the additional area added to dimensions determined by `icon-text-fit`, in clockwise order: top, right, bottom, left.",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",doc:"Name of image in sprite to use for drawing an image background.",tokens:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",doc:"Rotates the icon clockwise.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",doc:"Size of the additional area around the icon bounding box used for detecting symbol collisions.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,doc:"If true, the icon may be flipped to prevent it from being rendered upside-down.",requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],doc:"Offset distance of icon from its anchor. Positive values indicate right and down, while negative values indicate left and up. Each component is multiplied by the value of `icon-size` to obtain the final offset in pixels. When combined with `icon-rotate` the offset will be as if the rotated direction was up.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{doc:"The center of the icon is placed closest to the anchor."},left:{doc:"The left side of the icon is placed closest to the anchor."},right:{doc:"The right side of the icon is placed closest to the anchor."},top:{doc:"The top of the icon is placed closest to the anchor."},bottom:{doc:"The bottom of the icon is placed closest to the anchor."},"top-left":{doc:"The top left corner of the icon is placed closest to the anchor."},"top-right":{doc:"The top right corner of the icon is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the icon is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the icon is placed closest to the anchor."}},default:"center",doc:"Part of the icon placed closest to the anchor.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{doc:"The icon is aligned to the plane of the map."},viewport:{doc:"The icon is aligned to the plane of the viewport."},auto:{doc:"Automatically matches the value of `icon-rotation-alignment`."}},default:"auto",doc:"Orientation of icon when map is pitched.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{doc:"The text is aligned to the plane of the map."},viewport:{doc:"The text is aligned to the plane of the viewport."},auto:{doc:"Automatically matches the value of `text-rotation-alignment`."}},default:"auto",doc:"Orientation of text when map is pitched.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{doc:"When `symbol-placement` is set to `point`, aligns text east-west. When `symbol-placement` is set to `line` or `line-center`, aligns text x-axes with the line."},viewport:{doc:"Produces glyphs whose x-axes are aligned with the x-axis of the viewport, regardless of the value of `symbol-placement`."},auto:{doc:"When `symbol-placement` is set to `point`, this is equivalent to `viewport`. When `symbol-placement` is set to `line` or `line-center`, this is equivalent to `map`."}},default:"auto",doc:"In combination with `symbol-placement`, determines the rotation behavior of the individual glyphs forming the text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,doc:"Value to use for a text label. If a plain `string` is provided, it will be treated as a `formatted` with default/inherited formatting options.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],doc:"Font stack to use for displaying text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",doc:"Font size.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",doc:"The maximum line width for text wrapping.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",doc:"Text leading value for multi-line text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"2.3.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{type:"number",default:0,units:"ems",doc:"Text tracking amount.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{doc:"The text is aligned towards the anchor position."},left:{doc:"The text is aligned to the left."},center:{doc:"The text is centered."},right:{doc:"The text is aligned to the right."}},default:"center",doc:"Text justification options.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"},auto:{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,doc:"Radial offset of text, in the direction of the symbol's anchor. Useful in combination with `text-variable-anchor`, which defaults to using the two-dimensional `text-offset` if present.","sdk-support":{"basic functionality":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"},"data-driven styling":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{doc:"The center of the text is placed closest to the anchor."},left:{doc:"The left side of the text is placed closest to the anchor."},right:{doc:"The right side of the text is placed closest to the anchor."},top:{doc:"The top of the text is placed closest to the anchor."},bottom:{doc:"The bottom of the text is placed closest to the anchor."},"top-left":{doc:"The top left corner of the text is placed closest to the anchor."},"top-right":{doc:"The top right corner of the text is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the text is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the text is placed closest to the anchor."}},requires:["text-field",{"symbol-placement":["point"]}],doc:"To increase the chance of placing high-priority labels on the map, you can provide an array of `text-anchor` locations: the renderer will attempt to place the label at each location, in order, before moving onto the next label. Use `text-justify: auto` to choose justification based on anchor position. To apply an offset, use the `text-radial-offset` or the two-dimensional `text-offset`.","sdk-support":{"basic functionality":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{doc:"The center of the text is placed closest to the anchor."},left:{doc:"The left side of the text is placed closest to the anchor."},right:{doc:"The right side of the text is placed closest to the anchor."},top:{doc:"The top of the text is placed closest to the anchor."},bottom:{doc:"The bottom of the text is placed closest to the anchor."},"top-left":{doc:"The top left corner of the text is placed closest to the anchor."},"top-right":{doc:"The top right corner of the text is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the text is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the text is placed closest to the anchor."}},default:"center",doc:"Part of the text placed closest to the anchor.",requires:["text-field",{"!":"text-variable-anchor"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",doc:"Maximum angle change between adjacent characters.",requires:["text-field",{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{doc:"If a text's language supports horizontal writing mode, symbols with point placement would be laid out horizontally."},vertical:{doc:"If a text's language supports vertical writing mode, symbols with point placement would be laid out vertically."}},doc:"The property allows control over a symbol's orientation. Note that the property values act as a hint, so that a symbol whose language doesnât support the provided orientation will be laid out in its natural orientation. Example: English point symbol will be rendered horizontally even if array value contains single 'vertical' enum value. The order of elements in an array define priority order for the placement of an orientation variant.",requires:["text-field",{"symbol-placement":["point"]}],"sdk-support":{"basic functionality":{js:"1.3.0",android:"8.3.0",ios:"5.3.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",doc:"Rotates the text clockwise.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",doc:"Size of the additional area around the text bounding box used for detecting symbol collisions.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,doc:"If true, the text may be flipped vertically to prevent it from being rendered upside-down.",requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{doc:"The text is not altered."},uppercase:{doc:"Forces all letters to be displayed in uppercase."},lowercase:{doc:"Forces all letters to be displayed in lowercase."}},default:"none",doc:"Specifies how to capitalize text, similar to the CSS `text-transform` property.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",doc:"Offset distance of text from its anchor. Positive values indicate right and down, while negative values indicate left and up. If used with text-variable-anchor, input values will be taken as absolute values. Offsets along the x- and y-axis will be applied automatically based on the anchor position.",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,doc:"If true, the text will be visible even if it collides with other previously drawn symbols.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,doc:"If true, other symbols can be visible even if they collide with the text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,doc:"If true, icons will display without their corresponding text when the text collides with other symbols and the icon does not.",requires:["text-field","icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},"property-type":"constant"}},filter:{type:"array",value:"*",doc:"A filter selects specific features from a layer."},filter_operator:{type:"enum",values:{"==":{doc:'`["==", key, value]` equality: `feature[key] = value`'},"!=":{doc:'`["!=", key, value]` inequality: `feature[key] â  value`'},">":{doc:'`[">", key, value]` greater than: `feature[key] > value`'},">=":{doc:'`[">=", key, value]` greater than or equal: `feature[key] â¥ value`'},"<":{doc:'`["<", key, value]` less than: `feature[key] < value`'},"<=":{doc:'`["<=", key, value]` less than or equal: `feature[key] â¤ value`'},in:{doc:'`["in", key, v0, ..., vn]` set inclusion: `feature[key] â {v0, ..., vn}`'},"!in":{doc:'`["!in", key, v0, ..., vn]` set exclusion: `feature[key] â {v0, ..., vn}`'},all:{doc:'`["all", f0, ..., fn]` logical `AND`: `f0 â§ ... â§ fn`'},any:{doc:'`["any", f0, ..., fn]` logical `OR`: `f0 â¨ ... â¨ fn`'},none:{doc:'`["none", f0, ..., fn]` logical `NOR`: `Â¬f0 â§ ... â§ Â¬fn`'},has:{doc:'`["has", key]` `feature[key]` exists'},"!has":{doc:'`["!has", key]` `feature[key]` does not exist'},within:{doc:'`["within", object]` feature geometry is within object geometry'}},doc:"The filter operator."},geometry_type:{type:"enum",values:{Point:{doc:"Filter to point geometries."},LineString:{doc:"Filter to line geometries."},Polygon:{doc:"Filter to polygon geometries."}},doc:"The geometry type for the filter to select."},function:{expression:{type:"expression",doc:"An expression."},stops:{type:"array",doc:"An array of stops.",value:"function_stop"},base:{type:"number",default:1,minimum:0,doc:"The exponential base of the interpolation curve. It controls the rate at which the result increases. Higher values make the result increase more towards the high end of the range. With `1` the stops are interpolated linearly."},property:{type:"string",doc:"The name of a feature property to use as the function input.",default:"$zoom"},type:{type:"enum",values:{identity:{doc:"Return the input value as the output value."},exponential:{doc:"Generate an output by interpolating between stops just less than and just greater than the function input."},interval:{doc:"Return the output value of the stop just less than the function input."},categorical:{doc:"Return the output value of the stop equal to the function input."}},doc:"The interpolation strategy to use in function evaluation.",default:"exponential"},colorSpace:{type:"enum",values:{rgb:{doc:"Use the RGB color space to interpolate color values"},lab:{doc:"Use the LAB color space to interpolate color values."},hcl:{doc:"Use the HCL color space to interpolate color values, interpolating the Hue, Chroma, and Luminance channels individually."}},doc:"The color space in which colors interpolated. Interpolating colors in perceptual color spaces like LAB and HCL tend to produce color ramps that look more consistent and produce colors that can be differentiated more easily than those interpolated in RGB space.",default:"rgb"},default:{type:"*",required:!1,doc:"A value to serve as a fallback function result when a value isn't otherwise available. It is used in the following circumstances:\n* In categorical functions, when the feature value does not match any of the stop domain values.\n* In property and zoom-and-property functions, when a feature does not contain a value for the specified property.\n* In identity functions, when the feature value is not valid for the style property (for example, if the function is being used for a `circle-color` property but the feature property value is not a string or not a valid color).\n* In interval or exponential property and zoom-and-property functions, when the feature value is not numeric.\nIf no default is provided, the style property's default is used in these circumstances."}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2,doc:"Zoom level and value pair."},expression:{type:"array",value:"*",minimum:1,doc:"An expression defines a function that can be used for data-driven style properties or feature filters."},expression_name:{doc:"",type:"enum",values:{let:{doc:'Binds expressions to named variables, which can then be referenced in the result expression using ["var", "variable_name"].',group:"Variable binding","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},var:{doc:'References variable bound using "let".',group:"Variable binding","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},literal:{doc:"Provides a literal array or object value.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},array:{doc:"Asserts that the input is an array (optionally with a specific item type and length).  If, when the input expression is evaluated, it is not of the asserted type, then this assertion will cause the whole expression to be aborted.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},at:{doc:"Retrieves an item from an array.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},in:{doc:"Determines whether an item exists in an array or a substring exists in a string.",group:"Lookup","sdk-support":{"basic functionality":{js:"1.6.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}}},"index-of":{doc:"Returns the first position at which an item can be found in an array or a substring can be found in a string, or `-1` if the input cannot be found. Accepts an optional index from where to begin the search.",group:"Lookup","sdk-support":{"basic functionality":{js:"1.10.0"}}},slice:{doc:"Returns an item from an array or a substring from a string from a specified start index, or between a start index and an end index if set. The return value is inclusive of the start index but not of the end index.",group:"Lookup","sdk-support":{"basic functionality":{js:"1.10.0"}}},case:{doc:"Selects the first output whose corresponding test condition evaluates to true, or the fallback value otherwise.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},match:{doc:'Selects the output for which the label value matches the input value, or the fallback value if no match is found. The input can be any expression (for example, `["get", "building_type"]`). Each label must be unique, and must be either:\n - a single literal value; or\n - an array of literal values, the values of which must be all strings or all numbers (for example `[100, 101]` or `["c", "b"]`).\n\nThe input matches if any of the values in the array matches using strict equality, similar to the `"in"` operator.\nIf the input type does not match the type of the labels, the result will be the fallback value.',group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},coalesce:{doc:"Evaluates each expression in turn until the first non-null value is obtained, and returns that value.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},step:{doc:'Produces discrete, stepped results by evaluating a piecewise-constant function defined by pairs of input and output values ("stops"). The `input` may be any numeric expression (e.g., `["get", "population"]`). Stop inputs must be numeric literals in strictly ascending order. Returns the output value of the stop just less than the input, or the first output if the input is less than the first stop.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},interpolate:{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). The `input` may be any numeric expression (e.g., `["get", "population"]`). Stop inputs must be numeric literals in strictly ascending order. The output type must be `number`, `array<number>`, or `color`.\n\nInterpolation types:\n- `["linear"]`: Interpolates linearly between the pair of stops just less than and just greater than the input.\n- `["exponential", base]`: Interpolates exponentially between the stops just less than and just greater than the input. `base` controls the rate at which the output increases: higher values make the output increase more towards the high end of the range. With values close to 1 the output increases linearly.\n- `["cubic-bezier", x1, y1, x2, y2]`: Interpolates using the cubic bezier curve defined by the given control points.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"interpolate-hcl":{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). Works like `interpolate`, but the output type must be `color`, and the interpolation is performed in the Hue-Chroma-Luminance color space.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.49.0"}}},"interpolate-lab":{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). Works like `interpolate`, but the output type must be `color`, and the interpolation is performed in the CIELAB color space.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.49.0"}}},ln2:{doc:"Returns mathematical constant ln(2).",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},pi:{doc:"Returns the mathematical constant pi.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},e:{doc:"Returns the mathematical constant e.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},typeof:{doc:"Returns a string describing the type of the given value.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},string:{doc:"Asserts that the input value is a string. If multiple values are provided, each one is evaluated in order until a string is obtained. If none of the inputs are strings, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},number:{doc:"Asserts that the input value is a number. If multiple values are provided, each one is evaluated in order until a number is obtained. If none of the inputs are numbers, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},boolean:{doc:"Asserts that the input value is a boolean. If multiple values are provided, each one is evaluated in order until a boolean is obtained. If none of the inputs are booleans, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},object:{doc:"Asserts that the input value is an object. If multiple values are provided, each one is evaluated in order until an object is obtained. If none of the inputs are objects, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},collator:{doc:"Returns a `collator` for use in locale-dependent comparison operations. The `case-sensitive` and `diacritic-sensitive` options default to `false`. The `locale` argument specifies the IETF language tag of the locale to use. If none is provided, the default locale is used. If the requested locale is not available, the `collator` will use a system-defined fallback locale. Use `resolved-locale` to test the results of locale fallback behavior.",group:"Types","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},format:{doc:'Returns a `formatted` string for displaying mixed-format text in the `text-field` property. The input may contain a string literal or expression, including an [`\'image\'`](#types-image) expression. Strings may be followed by a style override object that supports the following properties:\n- `"text-font"`: Overrides the font stack specified by the root layout property.\n- `"text-color"`: Overrides the color specified by the root paint property.\n- `"font-scale"`: Applies a scaling factor on `text-size` as specified by the root layout property.',group:"Types","sdk-support":{"basic functionality":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"text-font":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"font-scale":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"text-color":{js:"1.3.0",android:"7.3.0",ios:"4.10.0",macos:"0.14.0"},image:{js:"1.6.0",android:"8.6.0",ios:"5.7.0",macos:"0.15.0"}}},image:{doc:"Returns an `image` type for use in `icon-image`, `*-pattern` entries and as a section in the `format` expression. If set, the `image` argument will check that the requested image exists in the style and will return either the resolved image name or `null`, depending on whether or not the image is currently in the style. This validation process is synchronous and requires the image to have been added to the style before requesting it in the `image` argument.",group:"Types","sdk-support":{"basic functionality":{js:"1.4.0",android:"8.6.0",ios:"5.7.0",macos:"0.15.0"}}},"number-format":{doc:"Converts the input number into a string representation using the providing formatting rules. If set, the `locale` argument specifies the locale to use, as a BCP 47 language tag. If set, the `currency` argument specifies an ISO 4217 code to use for currency-style formatting. If set, the `min-fraction-digits` and `max-fraction-digits` arguments specify the minimum and maximum number of fractional digits to include.",group:"Types","sdk-support":{"basic functionality":{js:"0.54.0"}}},"to-string":{doc:'Converts the input value to a string. If the input is `null`, the result is `""`. If the input is a boolean, the result is `"true"` or `"false"`. If the input is a number, it is converted to a string as specified by the ["NumberToString" algorithm](https://tc39.github.io/ecma262/#sec-tostring-applied-to-the-number-type) of the ECMAScript Language Specification. If the input is a color, it is converted to a string of the form `"rgba(r,g,b,a)"`, where `r`, `g`, and `b` are numerals ranging from 0 to 255, and `a` ranges from 0 to 1. Otherwise, the input is converted to a string in the format specified by the [`JSON.stringify`](https://tc39.github.io/ecma262/#sec-json.stringify) function of the ECMAScript Language Specification.',group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-number":{doc:'Converts the input value to a number, if possible. If the input is `null` or `false`, the result is 0. If the input is `true`, the result is 1. If the input is a string, it is converted to a number as specified by the ["ToNumber Applied to the String Type" algorithm](https://tc39.github.io/ecma262/#sec-tonumber-applied-to-the-string-type) of the ECMAScript Language Specification. If multiple values are provided, each one is evaluated in order until the first successful conversion is obtained. If none of the inputs can be converted, the expression is an error.',group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-boolean":{doc:"Converts the input value to a boolean. The result is `false` when then input is an empty string, 0, `false`, `null`, or `NaN`; otherwise it is `true`.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-rgba":{doc:"Returns a four-element array containing the input color's red, green, blue, and alpha components, in that order.",group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-color":{doc:"Converts the input value to a color. If multiple values are provided, each one is evaluated in order until the first successful conversion is obtained. If none of the inputs can be converted, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},rgb:{doc:"Creates a color value from red, green, and blue components, which must range between 0 and 255, and an alpha component of 1. If any component is out of range, the expression is an error.",group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},rgba:{doc:"Creates a color value from red, green, blue components, which must range between 0 and 255, and an alpha component which must range between 0 and 1. If any component is out of range, the expression is an error.",group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},get:{doc:"Retrieves a property value from the current feature's properties, or from another object if a second argument is provided. Returns null if the requested property is missing.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},has:{doc:"Tests for the presence of an property value in the current feature's properties, or from another object if a second argument is provided.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},length:{doc:"Gets the length of an array or string.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},properties:{doc:'Gets the feature properties object.  Note that in some cases, it may be more efficient to use ["get", "property_name"] directly.',group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"feature-state":{doc:"Retrieves a property value from the current feature's state. Returns null if the requested property is not present on the feature's state. A feature's state is not part of the GeoJSON or vector tile data, and must be set programmatically on each feature. Features are identified by their `id` attribute, which must be an integer or a string that can be cast to an integer. Note that [\"feature-state\"] can only be used with paint properties that support data-driven styling.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.46.0"}}},"geometry-type":{doc:"Gets the feature's geometry type: `Point`, `MultiPoint`, `LineString`, `MultiLineString`, `Polygon`, `MultiPolygon`.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},id:{doc:"Gets the feature's id, if it has one.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},zoom:{doc:'Gets the current zoom level.  Note that in style layout and paint properties, ["zoom"] may only appear as the input to a top-level "step" or "interpolate" expression.',group:"Zoom","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"heatmap-density":{doc:"Gets the kernel density estimation of a pixel in a heatmap layer, which is a relative measure of how many data points are crowded around a particular pixel. Can only be used in the `heatmap-color` property.",group:"Heatmap","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"line-progress":{doc:"Gets the progress along a gradient line. Can only be used in the `line-gradient` property.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.6.0",macos:"0.12.0"}}},"sky-radial-progress":{doc:"Gets the distance of a point on the sky from the sun position. Returns 0 at sun position and 1 when the distance reaches `sky-gradient-radius`. Can only be used in the `sky-gradient` property.",group:"sky","sdk-support":{"basic functionality":{js:"2.0.0"}}},accumulated:{doc:"Gets the value of a cluster property accumulated so far. Can only be used in the `clusterProperties` option of a clustered GeoJSON source.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.53.0"}}},"+":{doc:"Returns the sum of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"*":{doc:"Returns the product of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"-":{doc:"For two inputs, returns the result of subtracting the second input from the first. For a single input, returns the result of subtracting it from 0.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"/":{doc:"Returns the result of floating point division of the first input by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"%":{doc:"Returns the remainder after integer division of the first input by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"^":{doc:"Returns the result of raising the first input to the power specified by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},sqrt:{doc:"Returns the square root of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},log10:{doc:"Returns the base-ten logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},ln:{doc:"Returns the natural logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},log2:{doc:"Returns the base-two logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},sin:{doc:"Returns the sine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},cos:{doc:"Returns the cosine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},tan:{doc:"Returns the tangent of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},asin:{doc:"Returns the arcsine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},acos:{doc:"Returns the arccosine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},atan:{doc:"Returns the arctangent of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},min:{doc:"Returns the minimum value of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},max:{doc:"Returns the maximum value of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},round:{doc:'Rounds the input to the nearest integer. Halfway values are rounded away from zero. For example, `["round", -1.5]` evaluates to -2.',group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},abs:{doc:"Returns the absolute value of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},ceil:{doc:"Returns the smallest integer that is greater than or equal to the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},floor:{doc:"Returns the largest integer that is less than or equal to the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},distance:{doc:"Returns the shortest distance in meters between the evaluated feature and the input geometry. The input value can be a valid GeoJSON of type `Point`, `MultiPoint`, `LineString`, `MultiLineString`, `Polygon`, `MultiPolygon`, `Feature`, or `FeatureCollection`. Distance values returned may vary in precision due to loss in precision from encoding geometries, particularly below zoom level 13.",group:"Math","sdk-support":{"basic functionality":{android:"9.2.0",ios:"5.9.0",macos:"0.16.0"}}},"==":{doc:"Returns `true` if the input values are equal, `false` otherwise. The comparison is strictly typed: values of different runtime types are always considered unequal. Cases where the types are known to be different at parse time are considered invalid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"!=":{doc:"Returns `true` if the input values are not equal, `false` otherwise. The comparison is strictly typed: values of different runtime types are always considered unequal. Cases where the types are known to be different at parse time are considered invalid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},">":{doc:"Returns `true` if the first input is strictly greater than the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"<":{doc:"Returns `true` if the first input is strictly less than the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},">=":{doc:"Returns `true` if the first input is greater than or equal to the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"<=":{doc:"Returns `true` if the first input is less than or equal to the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},all:{doc:"Returns `true` if all the inputs are `true`, `false` otherwise. The inputs are evaluated in order, and evaluation is short-circuiting: once an input expression evaluates to `false`, the result is `false` and no further input expressions are evaluated.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},any:{doc:"Returns `true` if any of the inputs are `true`, `false` otherwise. The inputs are evaluated in order, and evaluation is short-circuiting: once an input expression evaluates to `true`, the result is `true` and no further input expressions are evaluated.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"!":{doc:"Logical negation. Returns `true` if the input is `false`, and `false` if the input is `true`.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},within:{doc:"Returns `true` if the evaluated feature is fully contained inside a boundary of the input geometry, `false` otherwise. The input value can be a valid GeoJSON of type `Polygon`, `MultiPolygon`, `Feature`, or `FeatureCollection`. Supported features for evaluation:\n- `Point`: Returns `false` if a point is on the boundary or falls outside the boundary.\n- `LineString`: Returns `false` if any part of a line falls outside the boundary, the line intersects the boundary, or a line's endpoint is on the boundary.",group:"Decision","sdk-support":{"basic functionality":{js:"1.9.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}}},"is-supported-script":{doc:"Returns `true` if the input string is expected to render legibly. Returns `false` if the input string contains sections that cannot be rendered without potential loss of meaning (e.g. Indic scripts that require complex text shaping, or right-to-left scripts if the the `mapbox-gl-rtl-text` plugin is not in use in Mapbox GL JS).",group:"String","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.6.0"}}},upcase:{doc:"Returns the input string converted to uppercase. Follows the Unicode Default Case Conversion algorithm and the locale-insensitive case mappings in the Unicode Character Database.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},downcase:{doc:"Returns the input string converted to lowercase. Follows the Unicode Default Case Conversion algorithm and the locale-insensitive case mappings in the Unicode Character Database.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},concat:{doc:"Returns a `string` consisting of the concatenation of the inputs. Each input is converted to a string as if by `to-string`.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"resolved-locale":{doc:"Returns the IETF language tag of the locale being used by the provided `collator`. This can be used to determine the default system locale, or to determine if a requested locale was successfully loaded.",group:"String","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}}}},fog:{range:{type:"array",default:[.5,10],minimum:-20,maximum:20,length:2,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},doc:"The start and end distance range in which fog fades from fully transparent to fully opaque. The distance to the point at the center of the map is defined as zero, so that negative range values are closer to the camera, and positive values are farther away.",example:[.5,10],"sdk-support":{"basic functionality":{js:"2.3.0"}}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"The color of the fog. Using opacity is recommended only for smoothly transitioning fog on/off as anything less than 100% opacity results in more tiles loaded and drawn.","sdk-support":{"basic functionality":{js:"2.3.0"}}},"horizon-blend":{type:"number","property-type":"data-constant",default:.1,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Horizon blend applies a smooth fade from the color of the fog to the color of the sky. A value of zero leaves a sharp transition from fog to sky. Increasing the value blends the color of fog into increasingly high angles of the sky.","sdk-support":{"basic functionality":{js:"2.3.0"}}}},light:{anchor:{type:"enum",default:"viewport",values:{map:{doc:"The position of the light source is aligned to the rotation of the map."},viewport:{doc:"The position of the light source is aligned to the rotation of the viewport."}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]},doc:"Whether extruded geometries are lit relative to the map or viewport.",example:"map","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},doc:"Position of the light source relative to lit (extruded) geometries, in [r radial coordinate, a azimuthal angle, p polar angle] where r indicates the distance from the center of the base of an object to its light, a indicates the position of the light relative to 0Â° (0Â° when `light.anchor` is set to `viewport` corresponds to the top of the viewport, or 0Â° when `light.anchor` is set to `map` corresponds to due north, and degrees proceed clockwise), and p indicates the height of the light (from 0Â°, directly above, to 180Â°, directly below).",example:[1.5,90,80],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Color tint for lighting extruded geometries.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Intensity of lighting (on a scale from 0 to 1). Higher numbers will present as more extreme contrast.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}}},terrain:{source:{type:"string",doc:"Name of a source of `raster_dem` type to be used for terrain elevation.",required:!0,"sdk-support":{"basic functionality":{js:"2.0.0"}}},exaggeration:{type:"number","property-type":"data-constant",default:1,minimum:0,maximum:1e3,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Exaggerates the elevation of the terrain by multiplying the data from the DEM with this value.","sdk-support":{"basic functionality":{js:"2.0.0"}}}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,doc:"Whether or not the fill should be antialiased.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity of the entire fill layer. In contrast to the `fill-color`, this value will also affect the 1px stroke around the fill, if the stroke is used.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",doc:"The color of the filled part of this layer. This color can be specified as `rgba` with an alpha component and the color's opacity will not affect the opacity of the 1px stroke, if it is used.",transition:!0,requires:[{"!":"fill-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.19.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",doc:"The outline color of the fill. Matches the value of `fill-color` if unspecified.",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.19.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{doc:"The fill is translated relative to the map."},viewport:{doc:"The fill is translated relative to the viewport."}},doc:"Controls the frame of reference for `fill-translate`.",default:"map",requires:["fill-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing image fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity of the entire fill extrusion layer. This is rendered on a per-layer, not per-feature, basis, and data-driven styling is not available.",transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",doc:"The base color of the extruded fill. The extrusion's surfaces will be shaded differently based on this color in combination with the root `light` settings. If this color is specified as `rgba` with an alpha component, the alpha component will be ignored; use `fill-extrusion-opacity` to set layer opacity.",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up (on the flat plane), respectively.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{doc:"The fill extrusion is translated relative to the map."},viewport:{doc:"The fill extrusion is translated relative to the viewport."}},doc:"Controls the frame of reference for `fill-extrusion-translate`.",default:"map",requires:["fill-extrusion-translate"],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing images on extruded fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",doc:"The height with which to extrude this layer.",transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",doc:"The height with which to extrude the base of this layer. Must be less than or equal to `fill-extrusion-height`.",transition:!0,requires:["fill-extrusion-height"],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,doc:"Whether to apply a vertical gradient to the sides of a fill-extrusion layer. If true, sides will be shaded slightly darker farther down.",transition:!1,"sdk-support":{"basic functionality":{js:"0.50.0",ios:"4.7.0",macos:"0.13.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",doc:"The opacity at which the line will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",doc:"The color with which the line will be drawn.",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.23.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{doc:"The line is translated relative to the map."},viewport:{doc:"The line is translated relative to the viewport."}},doc:"Controls the frame of reference for `line-translate`.",default:"map",requires:["line-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",doc:"Stroke thickness.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,doc:"Draws a line casing outside of a line's actual path. Value indicates the width of the inner gap.",transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,doc:"The line's offset. For linear features, a positive value offsets the line to the right, relative to the direction of the line, and a negative value to the left. For polygon features, a positive value results in an inset, and a negative value results in an outset.",transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.12.1",android:"3.0.0",ios:"3.1.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Blur applied to the line, in pixels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",doc:"Specifies the lengths of the alternating dashes and gaps that form the dash pattern. The lengths are later scaled by the line width. To convert a dash length to pixels, multiply the length by the current line width. Note that GeoJSON sources with `lineMetrics: true` specified won't render dashed lines to the expected scale. Also note that zoom-dependent expressions will be evaluated only at integer zoom levels.",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"2.3.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing image lines. For seamless patterns, image width must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",doc:'Defines a gradient with which to color a line feature. Can only be used with GeoJSON sources that specify `"lineMetrics": true`.',transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],"sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.4.0",macos:"0.11.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",doc:"Circle radius.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",doc:"The fill color of the circle.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,doc:"Amount to blur the circle. 1 blurs the circle such that only the centerpoint is full opacity.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",doc:"The opacity at which the circle will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{doc:"The circle is translated relative to the map."},viewport:{doc:"The circle is translated relative to the viewport."}},doc:"Controls the frame of reference for `circle-translate`.",default:"map",requires:["circle-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{doc:"Circles are scaled according to their apparent distance to the camera."},viewport:{doc:"Circles are not scaled."}},default:"map",doc:"Controls the scaling behavior of the circle when the map is pitched.","sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{doc:"The circle is aligned to the plane of the map."},viewport:{doc:"The circle is aligned to the plane of the viewport."}},default:"viewport",doc:"Orientation of circle when map is pitched.","sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"The width of the circle's stroke. Strokes are placed outside of the `circle-radius`.","sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",doc:"The stroke color of the circle.",transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",doc:"The opacity of the circle's stroke.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",doc:"Radius of influence of one heatmap point in pixels. Increasing the value makes the heatmap smoother, but less detailed.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,doc:"A measure of how much an individual point contributes to the heatmap. A value of 10 would be equivalent to having 10 points of weight 1 in the same spot. Especially useful when combined with clustering.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,doc:"Similar to `heatmap-weight` but controls the intensity of the heatmap globally. Primarily used for adjusting the heatmap based on zoom level.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],doc:'Defines the color of each pixel based on its density value in a heatmap.  Should be an expression that uses `["heatmap-density"]` as input.',transition:!1,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",doc:"The global opacity at which the heatmap layer will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{doc:"The opacity at which the icon will be drawn.",type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,doc:"The color of the icon. This can only be used with sdf icons.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,doc:"The color of the icon's halo. Icon halos can only be used with SDF icons.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Distance of halo to the icon outline.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Fade out the halo towards the outside.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"Distance that the icon's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{doc:"Icons are translated relative to the map."},viewport:{doc:"Icons are translated relative to the viewport."}},doc:"Controls the frame of reference for `icon-translate`.",default:"map",requires:["icon-image","icon-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",doc:"The opacity at which the text will be drawn.",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",doc:"The color with which the text will be drawn.",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,doc:"The color of the text's halo, which helps it stand out from backgrounds.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Distance of halo to the font outline. Max text halo width is 1/4 of the font-size.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"The halo's fadeout distance towards the outside.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"Distance that the text's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{doc:"The text is translated relative to the map."},viewport:{doc:"The text is translated relative to the viewport."}},doc:"Controls the frame of reference for `text-translate`.",default:"map",requires:["text-field","text-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",doc:"The opacity at which the image will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",doc:"Rotates hues around the color wheel.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",doc:"Increase or reduce the brightness of the image. The value is the minimum brightness.",default:0,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",doc:"Increase or reduce the brightness of the image. The value is the maximum brightness.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",doc:"Increase or reduce the saturation of the image.",default:0,minimum:-1,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",doc:"Increase or reduce the contrast of the image.",default:0,minimum:-1,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",doc:"The resampling/interpolation method to use for overscaling, also known as texture magnification filter",values:{linear:{doc:"(Bi)linear filtering interpolates pixel values using the weighted average of the four closest original source pixels creating a smooth but blurry look when overscaled"},nearest:{doc:"Nearest neighbor filtering interpolates pixel values using the nearest original source pixel creating a sharp but pixelated look when overscaled"}},default:"linear","sdk-support":{"basic functionality":{js:"0.47.0",android:"6.3.0",ios:"4.2.0",macos:"0.9.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",doc:"Fade duration when a new tile is added.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,doc:"The direction of the light source used to generate the hillshading with 0 as the top of the viewport if `hillshade-illumination-anchor` is set to `viewport` and due north if `hillshade-illumination-anchor` is set to `map`.",transition:!1,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{doc:"The hillshade illumination is relative to the north direction."},viewport:{doc:"The hillshade illumination is relative to the top of the viewport."}},default:"viewport",doc:"Direction of light source when map is rotated.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",doc:"Intensity of the hillshade",default:.5,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",doc:"The shading color of areas that face away from the light source.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",doc:"The shading color of areas that faces towards the light source.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",doc:"The shading color used to accentuate rugged terrain like sharp cliffs and gorges.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",doc:"The color with which the background will be drawn.",transition:!0,requires:[{"!":"background-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing an image background. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity at which the background will be drawn.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_sky:{"sky-type":{type:"enum",values:{gradient:{doc:"Renders the sky with a gradient that can be configured with `sky-gradient-radius` and `sky-gradient`."},atmosphere:{doc:"Renders the sky with a simulated atmospheric scattering algorithm, the sun direction can be attached to the light position or explicitly set through `sky-atmosphere-sun`."}},default:"atmosphere",doc:"The type of the sky","sdk-support":{"basic functionality":{js:"2.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{type:"array",value:"number",length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,doc:"Position of the sun center [a azimuthal angle, p polar angle]. The azimuthal angle indicates the position of the sun relative to 0Â° north, where degrees proceed clockwise. The polar angle indicates the height of the sun, where 0Â° is directly above, at zenith, and 90Â° at the horizon. When this property is ommitted, the sun center is directly inherited from the light position.","sdk-support":{"basic functionality":{js:"2.0.0"}},requires:[{"sky-type":"atmosphere"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{type:"number",requires:[{"sky-type":"atmosphere"}],default:10,minimum:0,maximum:100,transition:!1,doc:"Intensity of the sun as a light source in the atmosphere (on a scale from 0 to a 100). Setting higher values will brighten up the sky.","sdk-support":{"basic functionality":{js:"2.0.0"}},"property-type":"data-constant"},"sky-gradient-center":{type:"array",requires:[{"sky-type":"gradient"}],value:"number",default:[0,0],length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,doc:"Position of the gradient center [a azimuthal angle, p polar angle]. The azimuthal angle indicates the position of the gradient center relative to 0Â° north, where degrees proceed clockwise. The polar angle indicates the height of the gradient center, where 0Â° is directly above, at zenith, and 90Â° at the horizon.","sdk-support":{"basic functionality":{js:"2.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{type:"number",requires:[{"sky-type":"gradient"}],default:90,minimum:0,maximum:180,transition:!1,doc:"The angular distance (measured in degrees) from `sky-gradient-center` up to which the gradient extends. A value of 180 causes the gradient to wrap around to the opposite direction from `sky-gradient-center`.","sdk-support":{"basic functionality":{js:"2.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient":{type:"color",default:["interpolate",["linear"],["sky-radial-progress"],.8,"#87ceeb",1,"white"],doc:"Defines a radial color gradient with which to color the sky. The color values can be interpolated with an expression using `sky-radial-progress`. The range [0, 1] for the interpolant covers a radial distance (in degrees) of [0, `sky-gradient-radius`] centered at the position specified by `sky-gradient-center`.",transition:!1,requires:[{"sky-type":"gradient"}],"sdk-support":{"basic functionality":{js:"2.0.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{type:"color",default:"white",doc:"A color applied to the atmosphere sun halo. The alpha channel describes how strongly the sun halo is represented in an atmosphere sky layer.",transition:!1,requires:[{"sky-type":"atmosphere"}],"sdk-support":{"basic functionality":{js:"2.0.0"}},"property-type":"data-constant"},"sky-atmosphere-color":{type:"color",default:"white",doc:"A color used to tweak the main atmospheric scattering coefficients. Using white applies the default coefficients giving the natural blue color to the atmosphere. This color affects how heavily the corresponding wavelength is represented during scattering. The alpha channel describes the density of the atmosphere, with 1 maximum density and 0 no density.",transition:!1,requires:[{"sky-type":"atmosphere"}],"sdk-support":{"basic functionality":{js:"2.0.0"}},"property-type":"data-constant"},"sky-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity of the entire sky layer.",transition:!0,"sdk-support":{"basic functionality":{js:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds",doc:"Time allotted for transitions to complete."},delay:{type:"number",default:0,minimum:0,units:"milliseconds",doc:"Length of time before a transition begins."}},"property-type":{"data-driven":{type:"property-type",doc:"Property is interpolable and can be represented using a property expression."},"cross-faded":{type:"property-type",doc:"Property is non-interpolable; rather, its values will be cross-faded to smoothly transition between integer zooms."},"cross-faded-data-driven":{type:"property-type",doc:"Property is non-interpolable; rather, its values will be cross-faded to smoothly transition between integer zooms. It can be represented using a property expression."},"color-ramp":{type:"property-type",doc:"Property should be specified using a color ramp from which the output color can be sampled based on a property calculation."},"data-constant":{type:"property-type",doc:"Property is interpolable but cannot be represented using a property expression."},constant:{type:"property-type",doc:"Property is constant across all zoom levels and property values."}},promoteId:{"*":{type:"string",doc:"A name of a feature property to use as ID for feature state."}}};var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};function a(e){var t={exports:{}};return e(t,t.exports),t.exports}function s(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets option of @rollup/plugin-commonjs appropriately for this require call to behave properly.')}
/*! https://mths.be/punycode v1.3.2 by @mathias */var l=a((function(e,t){!function(o){var n=t&&!t.nodeType&&t,r=e&&!e.nodeType&&e,a="object"==typeof i&&i;a.global!==a&&a.window!==a&&a.self!==a||(o=a);var s,l,c=2147483647,u=/^xn--/,d=/[^\x20-\x7E]/,h=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},f=Math.floor,g=String.fromCharCode;function m(e){throw RangeError(p[e])}function y(e,t){for(var o=e.length,n=[];o--;)n[o]=t(e[o]);return n}function v(e,t){var o=e.split("@"),n="";return o.length>1&&(n=o[0]+"@",e=o[1]),n+y((e=e.replace(h,".")).split("."),t).join(".")}function _(e){for(var t,o,n=[],r=0,i=e.length;r<i;)(t=e.charCodeAt(r++))>=55296&&t<=56319&&r<i?56320==(64512&(o=e.charCodeAt(r++)))?n.push(((1023&t)<<10)+(1023&o)+65536):(n.push(t),r--):n.push(t);return n}function b(e){return y(e,(function(e){var t="";return e>65535&&(t+=g((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=g(e)})).join("")}function A(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function C(e,t,o){var n=0;for(e=o?f(e/700):e>>1,e+=f(e/t);e>455;n+=36)e=f(e/35);return f(n+36*e/(e+38))}function w(e){var t,o,n,r,i,a,s,l,u,d,h,p=[],g=e.length,y=0,v=128,_=72;for((o=e.lastIndexOf("-"))<0&&(o=0),n=0;n<o;++n)e.charCodeAt(n)>=128&&m("not-basic"),p.push(e.charCodeAt(n));for(r=o>0?o+1:0;r<g;){for(i=y,a=1,s=36;r>=g&&m("invalid-input"),((l=(h=e.charCodeAt(r++))-48<10?h-22:h-65<26?h-65:h-97<26?h-97:36)>=36||l>f((c-y)/a))&&m("overflow"),y+=l*a,!(l<(u=s<=_?1:s>=_+26?26:s-_));s+=36)a>f(c/(d=36-u))&&m("overflow"),a*=d;_=C(y-i,t=p.length+1,0==i),f(y/t)>c-v&&m("overflow"),v+=f(y/t),y%=t,p.splice(y++,0,v)}return b(p)}function E(e){var t,o,n,r,i,a,s,l,u,d,h,p,y,v,b,w=[];for(p=(e=_(e)).length,t=128,o=0,i=72,a=0;a<p;++a)(h=e[a])<128&&w.push(g(h));for(n=r=w.length,r&&w.push("-");n<p;){for(s=c,a=0;a<p;++a)(h=e[a])>=t&&h<s&&(s=h);for(s-t>f((c-o)/(y=n+1))&&m("overflow"),o+=(s-t)*y,t=s,a=0;a<p;++a)if((h=e[a])<t&&++o>c&&m("overflow"),h==t){for(l=o,u=36;!(l<(d=u<=i?1:u>=i+26?26:u-i));u+=36)b=l-d,v=36-d,w.push(g(A(d+b%v,0))),l=f(b/v);w.push(g(A(l,0))),i=C(o,y,n==r),o=0,++n}++o,++t}return w.join("")}if(s={version:"1.3.2",ucs2:{decode:_,encode:b},decode:w,encode:E,toASCII:function(e){return v(e,(function(e){return d.test(e)?"xn--"+E(e):e}))},toUnicode:function(e){return v(e,(function(e){return u.test(e)?w(e.slice(4).toLowerCase()):e}))}},n&&r)if(e.exports==n)r.exports=s;else for(l in s)s.hasOwnProperty(l)&&(n[l]=s[l]);else o.punycode=s}(i)})),c=function(e){return"string"==typeof e},u=function(e){return"object"==typeof e&&null!==e},d=function(e){return null===e},h=function(e){return null==e};function p(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var f=function(e,t,o,n){t=t||"&",o=o||"=";var r={};if("string"!=typeof e||0===e.length)return r;var i=/\+/g;e=e.split(t);var a=1e3;n&&"number"==typeof n.maxKeys&&(a=n.maxKeys);var s=e.length;a>0&&s>a&&(s=a);for(var l=0;l<s;++l){var c,u,d,h,f=e[l].replace(i,"%20"),g=f.indexOf(o);g>=0?(c=f.substr(0,g),u=f.substr(g+1)):(c=f,u=""),d=decodeURIComponent(c),h=decodeURIComponent(u),p(r,d)?Array.isArray(r[d])?r[d].push(h):r[d]=[r[d],h]:r[d]=h}return r},g=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},m=function(e,t,o,n){return t=t||"&",o=o||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(n){var r=encodeURIComponent(g(n))+o;return Array.isArray(e[n])?e[n].map((function(e){return r+encodeURIComponent(g(e))})).join(t):r+encodeURIComponent(g(e[n]))})).join(t):n?encodeURIComponent(g(n))+o+encodeURIComponent(g(e)):""},y=a((function(e,t){t.decode=t.parse=f,t.encode=t.stringify=m}));function v(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var _=/^([a-z0-9.+-]+:)/i,b=/:[0-9]*$/,A=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,C=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),w=["'"].concat(C),E=["%","/","?",";","#"].concat(w),I=["/","?","#"],O=/^[+a-z0-9A-Z_-]{0,63}$/,S=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,x={javascript:!0,"javascript:":!0},j={javascript:!0,"javascript:":!0},P={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function T(e,t,o){if(e&&u(e)&&e instanceof v)return e;var n=new v;return n.parse(e,t,o),n}v.prototype.parse=function(e,t,o){if(!c(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var n=e.indexOf("?"),r=-1!==n&&n<e.indexOf("#")?"?":"#",i=e.split(r);i[0]=i[0].replace(/\\/g,"/");var a=e=i.join(r);if(a=a.trim(),!o&&1===e.split("#").length){var s=A.exec(a);if(s)return this.path=a,this.href=a,this.pathname=s[1],s[2]?(this.search=s[2],this.query=t?y.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var u=_.exec(a);if(u){var d=(u=u[0]).toLowerCase();this.protocol=d,a=a.substr(u.length)}if(o||u||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var h="//"===a.substr(0,2);!h||u&&j[u]||(a=a.substr(2),this.slashes=!0)}if(!j[u]&&(h||u&&!P[u])){for(var p,f,g=-1,m=0;m<I.length;m++){-1!==(v=a.indexOf(I[m]))&&(-1===g||v<g)&&(g=v)}-1!==(f=-1===g?a.lastIndexOf("@"):a.lastIndexOf("@",g))&&(p=a.slice(0,f),a=a.slice(f+1),this.auth=decodeURIComponent(p)),g=-1;for(m=0;m<E.length;m++){var v;-1!==(v=a.indexOf(E[m]))&&(-1===g||v<g)&&(g=v)}-1===g&&(g=a.length),this.host=a.slice(0,g),a=a.slice(g),this.parseHost(),this.hostname=this.hostname||"";var b="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!b)for(var C=this.hostname.split(/\./),T=(m=0,C.length);m<T;m++){var M=C[m];if(M&&!M.match(O)){for(var R="",L=0,k=M.length;L<k;L++)M.charCodeAt(L)>127?R+="x":R+=M[L];if(!R.match(O)){var G=C.slice(0,m),D=C.slice(m+1),N=M.match(S);N&&(G.push(N[1]),D.unshift(N[2])),D.length&&(a="/"+D.join(".")+a),this.hostname=G.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),b||(this.hostname=l.toASCII(this.hostname));var F=this.port?":"+this.port:"",U=this.hostname||"";this.host=U+F,this.href+=this.host,b&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==a[0]&&(a="/"+a))}if(!x[d])for(m=0,T=w.length;m<T;m++){var B=w[m];if(-1!==a.indexOf(B)){var z=encodeURIComponent(B);z===B&&(z=escape(B)),a=a.split(B).join(z)}}var V=a.indexOf("#");-1!==V&&(this.hash=a.substr(V),a=a.slice(0,V));var W=a.indexOf("?");if(-1!==W?(this.search=a.substr(W),this.query=a.substr(W+1),t&&(this.query=y.parse(this.query)),a=a.slice(0,W)):t&&(this.search="",this.query={}),a&&(this.pathname=a),P[d]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){F=this.pathname||"";var q=this.search||"";this.path=F+q}return this.href=this.format(),this},v.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",o=this.pathname||"",n=this.hash||"",r=!1,i="";this.host?r=e+this.host:this.hostname&&(r=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&u(this.query)&&Object.keys(this.query).length&&(i=y.stringify(this.query));var a=this.search||i&&"?"+i||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||P[t])&&!1!==r?(r="//"+(r||""),o&&"/"!==o.charAt(0)&&(o="/"+o)):r||(r=""),n&&"#"!==n.charAt(0)&&(n="#"+n),a&&"?"!==a.charAt(0)&&(a="?"+a),t+r+(o=o.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(a=a.replace("#","%23"))+n},v.prototype.resolve=function(e){return this.resolveObject(T(e,!1,!0)).format()},v.prototype.resolveObject=function(e){if(c(e)){var t=new v;t.parse(e,!1,!0),e=t}for(var o=new v,n=Object.keys(this),r=0;r<n.length;r++){var i=n[r];o[i]=this[i]}if(o.hash=e.hash,""===e.href)return o.href=o.format(),o;if(e.slashes&&!e.protocol){for(var a=Object.keys(e),s=0;s<a.length;s++){var l=a[s];"protocol"!==l&&(o[l]=e[l])}return P[o.protocol]&&o.hostname&&!o.pathname&&(o.path=o.pathname="/"),o.href=o.format(),o}if(e.protocol&&e.protocol!==o.protocol){if(!P[e.protocol]){for(var u=Object.keys(e),p=0;p<u.length;p++){var f=u[p];o[f]=e[f]}return o.href=o.format(),o}if(o.protocol=e.protocol,e.host||j[e.protocol])o.pathname=e.pathname;else{for(var g=(e.pathname||"").split("/");g.length&&!(e.host=g.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==g[0]&&g.unshift(""),g.length<2&&g.unshift(""),o.pathname=g.join("/")}if(o.search=e.search,o.query=e.query,o.host=e.host||"",o.auth=e.auth,o.hostname=e.hostname||e.host,o.port=e.port,o.pathname||o.search){var m=o.pathname||"",y=o.search||"";o.path=m+y}return o.slashes=o.slashes||e.slashes,o.href=o.format(),o}var _=o.pathname&&"/"===o.pathname.charAt(0),b=e.host||e.pathname&&"/"===e.pathname.charAt(0),A=b||_||o.host&&e.pathname,C=A,w=o.pathname&&o.pathname.split("/")||[],E=(g=e.pathname&&e.pathname.split("/")||[],o.protocol&&!P[o.protocol]);if(E&&(o.hostname="",o.port=null,o.host&&(""===w[0]?w[0]=o.host:w.unshift(o.host)),o.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===g[0]?g[0]=e.host:g.unshift(e.host)),e.host=null),A=A&&(""===g[0]||""===w[0])),b)o.host=e.host||""===e.host?e.host:o.host,o.hostname=e.hostname||""===e.hostname?e.hostname:o.hostname,o.search=e.search,o.query=e.query,w=g;else if(g.length)w||(w=[]),w.pop(),w=w.concat(g),o.search=e.search,o.query=e.query;else if(!h(e.search)){if(E)o.hostname=o.host=w.shift(),(T=!!(o.host&&o.host.indexOf("@")>0)&&o.host.split("@"))&&(o.auth=T.shift(),o.host=o.hostname=T.shift());return o.search=e.search,o.query=e.query,d(o.pathname)&&d(o.search)||(o.path=(o.pathname?o.pathname:"")+(o.search?o.search:"")),o.href=o.format(),o}if(!w.length)return o.pathname=null,o.search?o.path="/"+o.search:o.path=null,o.href=o.format(),o;for(var I=w.slice(-1)[0],O=(o.host||e.host||w.length>1)&&("."===I||".."===I)||""===I,S=0,x=w.length;x>=0;x--)"."===(I=w[x])?w.splice(x,1):".."===I?(w.splice(x,1),S++):S&&(w.splice(x,1),S--);if(!A&&!C)for(;S--;S)w.unshift("..");!A||""===w[0]||w[0]&&"/"===w[0].charAt(0)||w.unshift(""),O&&"/"!==w.join("/").substr(-1)&&w.push("");var T,M=""===w[0]||w[0]&&"/"===w[0].charAt(0);E&&(o.hostname=o.host=M?"":w.length?w.shift():"",(T=!!(o.host&&o.host.indexOf("@")>0)&&o.host.split("@"))&&(o.auth=T.shift(),o.host=o.hostname=T.shift()));return(A=A||o.host&&w.length)&&!M&&w.unshift(""),w.length?o.pathname=w.join("/"):(o.pathname=null,o.path=null),d(o.pathname)&&d(o.search)||(o.path=(o.pathname?o.pathname:"")+(o.search?o.search:"")),o.auth=e.auth||o.auth,o.slashes=o.slashes||e.slashes,o.href=o.format(),o},v.prototype.parseHost=function(){var e=this.host,t=b.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};function M(e,...t){for(const o of t)for(const t in o)e[t]=o[t];return e}class R extends Error{constructor(e,t){super(t),this.message=t,this.key=e}}class L{constructor(e,t=[]){this.parent=e,this.bindings={};for(const[e,o]of t)this.bindings[e]=o}concat(e){return new L(this,e)}get(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(e+" not found in scope.")}has(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)}}const k={kind:"null"},G={kind:"number"},D={kind:"string"},N={kind:"boolean"},F={kind:"color"},U={kind:"object"},B={kind:"value"},z={kind:"collator"},V={kind:"formatted"},W={kind:"resolvedImage"};function q(e,t){return{kind:"array",itemType:e,N:t}}function Y(e){if("array"===e.kind){const t=Y(e.itemType);return"number"==typeof e.N?`array<${t}, ${e.N}>`:"value"===e.itemType.kind?"array":`array<${t}>`}return e.kind}const H=[k,G,D,N,F,V,U,q(B),W];function X(e,t){if("error"===t.kind)return null;if("array"===e.kind){if("array"===t.kind&&(0===t.N&&"value"===t.itemType.kind||!X(e.itemType,t.itemType))&&("number"!=typeof e.N||e.N===t.N))return null}else{if(e.kind===t.kind)return null;if("value"===e.kind)for(const e of H)if(!X(e,t))return null}return`Expected ${Y(e)} but found ${Y(t)} instead.`}function Z(e,t){return t.some(t=>t.kind===e.kind)}function K(e,t){return t.some(t=>"null"===t?null===e:"array"===t?Array.isArray(e):"object"===t?e&&!Array.isArray(e)&&"object"==typeof e:t===typeof e)}var J=a((function(e,t){var o={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function n(e){return(e=Math.round(e))<0?0:e>255?255:e}function r(e){return e<0?0:e>1?1:e}function i(e){return"%"===e[e.length-1]?n(parseFloat(e)/100*255):n(parseInt(e))}function a(e){return"%"===e[e.length-1]?r(parseFloat(e)/100):r(parseFloat(e))}function s(e,t,o){return o<0?o+=1:o>1&&(o-=1),6*o<1?e+(t-e)*o*6:2*o<1?t:3*o<2?e+(t-e)*(2/3-o)*6:e}try{t.parseCSSColor=function(e){var t,r=e.replace(/ /g,"").toLowerCase();if(r in o)return o[r].slice();if("#"===r[0])return 4===r.length?(t=parseInt(r.substr(1),16))>=0&&t<=4095?[(3840&t)>>4|(3840&t)>>8,240&t|(240&t)>>4,15&t|(15&t)<<4,1]:null:7===r.length&&(t=parseInt(r.substr(1),16))>=0&&t<=16777215?[(16711680&t)>>16,(65280&t)>>8,255&t,1]:null;var l=r.indexOf("("),c=r.indexOf(")");if(-1!==l&&c+1===r.length){var u=r.substr(0,l),d=r.substr(l+1,c-(l+1)).split(","),h=1;switch(u){case"rgba":if(4!==d.length)return null;h=a(d.pop());case"rgb":return 3!==d.length?null:[i(d[0]),i(d[1]),i(d[2]),h];case"hsla":if(4!==d.length)return null;h=a(d.pop());case"hsl":if(3!==d.length)return null;var p=(parseFloat(d[0])%360+360)%360/360,f=a(d[1]),g=a(d[2]),m=g<=.5?g*(f+1):g+f-g*f,y=2*g-m;return[n(255*s(y,m,p+1/3)),n(255*s(y,m,p)),n(255*s(y,m,p-1/3)),h];default:return null}}return null}}catch(e){}}));class Q{constructor(e,t,o,n=1){this.r=e,this.g=t,this.b=o,this.a=n}static parse(e){if(!e)return;if(e instanceof Q)return e;if("string"!=typeof e)return;const t=J.parseCSSColor(e);return t?new Q(t[0]/255*t[3],t[1]/255*t[3],t[2]/255*t[3],t[3]):void 0}toString(){const[e,t,o,n]=this.toArray();return`rgba(${Math.round(e)},${Math.round(t)},${Math.round(o)},${n})`}toArray(){const{r:e,g:t,b:o,a:n}=this;return 0===n?[0,0,0,0]:[255*e/n,255*t/n,255*o/n,n]}}Q.black=new Q(0,0,0,1),Q.white=new Q(1,1,1,1),Q.transparent=new Q(0,0,0,0),Q.red=new Q(1,0,0,1),Q.blue=new Q(0,0,1,1);class ${constructor(e,t,o){this.sensitivity=e?t?"variant":"case":t?"accent":"base",this.locale=o,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(e,t){return this.collator.compare(e,t)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class ee{constructor(e,t,o,n,r){this.text=e,this.image=t,this.scale=o,this.fontStack=n,this.textColor=r}}class te{constructor(e){this.sections=e}static fromString(e){return new te([new ee(e,null,null,null,null)])}isEmpty(){return 0===this.sections.length||!this.sections.some(e=>0!==e.text.length||e.image&&0!==e.image.name.length)}static factory(e){return e instanceof te?e:te.fromString(e)}toString(){return 0===this.sections.length?"":this.sections.map(e=>e.text).join("")}serialize(){const e=["format"];for(const t of this.sections){if(t.image){e.push(["image",t.image.name]);continue}e.push(t.text);const o={};t.fontStack&&(o["text-font"]=["literal",t.fontStack.split(",")]),t.scale&&(o["font-scale"]=t.scale),t.textColor&&(o["text-color"]=["rgba"].concat(t.textColor.toArray())),e.push(o)}return e}}class oe{constructor(e){this.name=e.name,this.available=e.available}toString(){return this.name}static fromString(e){return e?new oe({name:e,available:!1}):null}serialize(){return["image",this.name]}}function ne(e,t,o,n){if(!("number"==typeof e&&e>=0&&e<=255&&"number"==typeof t&&t>=0&&t<=255&&"number"==typeof o&&o>=0&&o<=255)){return`Invalid rgba value [${("number"==typeof n?[e,t,o,n]:[e,t,o]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}return void 0===n||"number"==typeof n&&n>=0&&n<=1?null:`Invalid rgba value [${[e,t,o,n].join(", ")}]: 'a' must be between 0 and 1.`}function re(e){if(null===e)return!0;if("string"==typeof e)return!0;if("boolean"==typeof e)return!0;if("number"==typeof e)return!0;if(e instanceof Q)return!0;if(e instanceof $)return!0;if(e instanceof te)return!0;if(e instanceof oe)return!0;if(Array.isArray(e)){for(const t of e)if(!re(t))return!1;return!0}if("object"==typeof e){for(const t in e)if(!re(e[t]))return!1;return!0}return!1}function ie(e){if(null===e)return k;if("string"==typeof e)return D;if("boolean"==typeof e)return N;if("number"==typeof e)return G;if(e instanceof Q)return F;if(e instanceof $)return z;if(e instanceof te)return V;if(e instanceof oe)return W;if(Array.isArray(e)){const t=e.length;let o;for(const t of e){const e=ie(t);if(o){if(o===e)continue;o=B;break}o=e}return q(o||B,t)}return U}function ae(e){const t=typeof e;return null===e?"":"string"===t||"number"===t||"boolean"===t?String(e):e instanceof Q||e instanceof te||e instanceof oe?e.toString():JSON.stringify(e)}class se{constructor(e,t){this.type=e,this.value=t}static parse(e,t){if(2!==e.length)return t.error(`'literal' expression requires exactly one argument, but found ${e.length-1} instead.`);if(!re(e[1]))return t.error("invalid value");const o=e[1];let n=ie(o);const r=t.expectedType;return"array"!==n.kind||0!==n.N||!r||"array"!==r.kind||"number"==typeof r.N&&0!==r.N||(n=r),new se(n,o)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof Q?["rgba"].concat(this.value.toArray()):this.value instanceof te?this.value.serialize():this.value}}class le{constructor(e){this.name="ExpressionEvaluationError",this.message=e}toJSON(){return this.message}}const ce={string:D,number:G,boolean:N,object:U};class ue{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");let o,n=1;const r=e[0];if("array"===r){let r,i;if(e.length>2){const o=e[1];if("string"!=typeof o||!(o in ce)||"object"===o)return t.error('The item type argument of "array" must be one of string, number, boolean',1);r=ce[o],n++}else r=B;if(e.length>3){if(null!==e[2]&&("number"!=typeof e[2]||e[2]<0||e[2]!==Math.floor(e[2])))return t.error('The length argument to "array" must be a positive integer literal',2);i=e[2],n++}o=q(r,i)}else o=ce[r];const i=[];for(;n<e.length;n++){const o=t.parse(e[n],n,B);if(!o)return null;i.push(o)}return new ue(o,i)}evaluate(e){for(let t=0;t<this.args.length;t++){const o=this.args[t].evaluate(e);if(!X(this.type,ie(o)))return o;if(t===this.args.length-1)throw new le(`Expected value to be of type ${Y(this.type)}, but found ${Y(ie(o))} instead.`)}return null}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}serialize(){const e=this.type,t=[e.kind];if("array"===e.kind){const o=e.itemType;if("string"===o.kind||"number"===o.kind||"boolean"===o.kind){t.push(o.kind);const n=e.N;("number"==typeof n||this.args.length>1)&&t.push(n)}}return t.concat(this.args.map(e=>e.serialize()))}}class de{constructor(e){this.type=V,this.sections=e}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const o=e[1];if(!Array.isArray(o)&&"object"==typeof o)return t.error("First argument must be an image or text section.");const n=[];let r=!1;for(let o=1;o<=e.length-1;++o){const i=e[o];if(r&&"object"==typeof i&&!Array.isArray(i)){r=!1;let e=null;if(i["font-scale"]&&(e=t.parse(i["font-scale"],1,G),!e))return null;let o=null;if(i["text-font"]&&(o=t.parse(i["text-font"],1,q(D)),!o))return null;let a=null;if(i["text-color"]&&(a=t.parse(i["text-color"],1,F),!a))return null;const s=n[n.length-1];s.scale=e,s.font=o,s.textColor=a}else{const i=t.parse(e[o],1,B);if(!i)return null;const a=i.type.kind;if("string"!==a&&"value"!==a&&"null"!==a&&"resolvedImage"!==a)return t.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");r=!0,n.push({content:i,scale:null,font:null,textColor:null})}}return new de(n)}evaluate(e){return new te(this.sections.map(t=>{const o=t.content.evaluate(e);return ie(o)===W?new ee("",o,null,null,null):new ee(ae(o),null,t.scale?t.scale.evaluate(e):null,t.font?t.font.evaluate(e).join(","):null,t.textColor?t.textColor.evaluate(e):null)}))}eachChild(e){for(const t of this.sections)e(t.content),t.scale&&e(t.scale),t.font&&e(t.font),t.textColor&&e(t.textColor)}outputDefined(){return!1}serialize(){const e=["format"];for(const t of this.sections){e.push(t.content.serialize());const o={};t.scale&&(o["font-scale"]=t.scale.serialize()),t.font&&(o["text-font"]=t.font.serialize()),t.textColor&&(o["text-color"]=t.textColor.serialize()),e.push(o)}return e}}class he{constructor(e){this.type=W,this.input=e}static parse(e,t){if(2!==e.length)return t.error("Expected two arguments.");const o=t.parse(e[1],1,D);return o?new he(o):t.error("No image name provided.")}evaluate(e){const t=this.input.evaluate(e),o=oe.fromString(t);return o&&e.availableImages&&(o.available=e.availableImages.indexOf(t)>-1),o}eachChild(e){e(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const pe={"to-boolean":N,"to-color":F,"to-number":G,"to-string":D};class fe{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const o=e[0];if(("to-boolean"===o||"to-string"===o)&&2!==e.length)return t.error("Expected one argument.");const n=pe[o],r=[];for(let o=1;o<e.length;o++){const n=t.parse(e[o],o,B);if(!n)return null;r.push(n)}return new fe(n,r)}evaluate(e){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(e));if("color"===this.type.kind){let t,o;for(const n of this.args){if(t=n.evaluate(e),o=null,t instanceof Q)return t;if("string"==typeof t){const o=e.parseColor(t);if(o)return o}else if(Array.isArray(t)&&(o=t.length<3||t.length>4?`Invalid rbga value ${JSON.stringify(t)}: expected an array containing either three or four numeric values.`:ne(t[0],t[1],t[2],t[3]),!o))return new Q(t[0]/255,t[1]/255,t[2]/255,t[3])}throw new le(o||`Could not parse color from value '${"string"==typeof t?t:String(JSON.stringify(t))}'`)}if("number"===this.type.kind){let t=null;for(const o of this.args){if(t=o.evaluate(e),null===t)return 0;const n=Number(t);if(!isNaN(n))return n}throw new le(`Could not convert ${JSON.stringify(t)} to number.`)}return"formatted"===this.type.kind?te.fromString(ae(this.args[0].evaluate(e))):"resolvedImage"===this.type.kind?oe.fromString(ae(this.args[0].evaluate(e))):ae(this.args[0].evaluate(e))}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}serialize(){if("formatted"===this.type.kind)return new de([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new he(this.args[0]).serialize();const e=["to-"+this.type.kind];return this.eachChild(t=>{e.push(t.serialize())}),e}}const ge=["Unknown","Point","LineString","Polygon"];class me{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?"number"==typeof this.feature.type?ge[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(e){let t=this._parseColorCache[e];return t||(t=this._parseColorCache[e]=Q.parse(e)),t}}class ye{constructor(e,t,o,n){this.name=e,this.type=t,this._evaluate=o,this.args=n}evaluate(e){return this._evaluate(e,this.args)}eachChild(e){this.args.forEach(e)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(e=>e.serialize()))}static parse(e,t){const o=e[0],n=ye.definitions[o];if(!n)return t.error(`Unknown expression "${o}". If you wanted a literal array, use ["literal", [...]].`,0);const r=Array.isArray(n)?n[0]:n.type,i=Array.isArray(n)?[[n[1],n[2]]]:n.overloads,a=i.filter(([t])=>!Array.isArray(t)||t.length===e.length-1);let s=null;for(const[n,i]of a){s=new Ue(t.registry,t.path,null,t.scope);const a=[];let l=!1;for(let t=1;t<e.length;t++){const o=e[t],r=Array.isArray(n)?n[t-1]:n.type,i=s.parse(o,1+a.length,r);if(!i){l=!0;break}a.push(i)}if(!l)if(Array.isArray(n)&&n.length!==a.length)s.error(`Expected ${n.length} arguments, but found ${a.length} instead.`);else{for(let e=0;e<a.length;e++){const t=Array.isArray(n)?n[e]:n.type,o=a[e];s.concat(e+1).checkSubtype(t,o.type)}if(0===s.errors.length)return new ye(o,r,i,a)}}if(1===a.length)t.errors.push(...s.errors);else{const o=(a.length?a:i).map(([e])=>{return t=e,Array.isArray(t)?`(${t.map(Y).join(", ")})`:`(${Y(t.type)}...)`;var t}).join(" | "),n=[];for(let o=1;o<e.length;o++){const r=t.parse(e[o],1+n.length);if(!r)return null;n.push(Y(r.type))}t.error(`Expected arguments of type ${o}, but found (${n.join(", ")}) instead.`)}return null}static register(e,t){ye.definitions=t;for(const o in t)e[o]=ye}}class ve{constructor(e,t,o){this.type=z,this.locale=o,this.caseSensitive=e,this.diacriticSensitive=t}static parse(e,t){if(2!==e.length)return t.error("Expected one argument.");const o=e[1];if("object"!=typeof o||Array.isArray(o))return t.error("Collator options argument must be an object.");const n=t.parse(void 0!==o["case-sensitive"]&&o["case-sensitive"],1,N);if(!n)return null;const r=t.parse(void 0!==o["diacritic-sensitive"]&&o["diacritic-sensitive"],1,N);if(!r)return null;let i=null;return o.locale&&(i=t.parse(o.locale,1,D),!i)?null:new ve(n,r,i)}evaluate(e){return new $(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)}eachChild(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)}outputDefined(){return!1}serialize(){const e={};return e["case-sensitive"]=this.caseSensitive.serialize(),e["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(e.locale=this.locale.serialize()),["collator",e]}}function _e(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.max(e[2],t[0]),e[3]=Math.max(e[3],t[1])}function be(e,t){return!(e[0]<=t[0])&&(!(e[2]>=t[2])&&(!(e[1]<=t[1])&&!(e[3]>=t[3])))}function Ae(e,t){const o=(180+e[0])/360;const n=(r=e[1],(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+r*Math.PI/360)))/360);var r;const i=Math.pow(2,t.z);return[Math.round(o*i*8192),Math.round(n*i*8192)]}function Ce(e,t,o){const n=e[0]-t[0],r=e[1]-t[1],i=e[0]-o[0],a=e[1]-o[1];return n*a-i*r==0&&n*i<=0&&r*a<=0}function we(e,t){let o=!1;for(let a=0,s=t.length;a<s;a++){const s=t[a];for(let t=0,a=s.length;t<a-1;t++){if(Ce(e,s[t],s[t+1]))return!1;n=e,r=s[t],i=s[t+1],r[1]>n[1]!=i[1]>n[1]&&n[0]<(i[0]-r[0])*(n[1]-r[1])/(i[1]-r[1])+r[0]&&(o=!o)}}var n,r,i;return o}function Ee(e,t){for(let o=0;o<t.length;o++)if(we(e,t[o]))return!0;return!1}function Ie(e,t,o,n){const r=e[0]-o[0],i=e[1]-o[1],a=t[0]-o[0],s=t[1]-o[1],l=n[0]-o[0],c=n[1]-o[1],u=r*c-l*i,d=a*c-l*s;return u>0&&d<0||u<0&&d>0}function Oe(e,t,o,n){const r=[t[0]-e[0],t[1]-e[1]],i=[n[0]-o[0],n[1]-o[1]];return 0!=(a=i)[0]*(s=r)[1]-a[1]*s[0]&&!(!Ie(e,t,o,n)||!Ie(o,n,e,t));var a,s}function Se(e,t,o){for(const n of o)for(let o=0;o<n.length-1;++o)if(Oe(e,t,n[o],n[o+1]))return!0;return!1}function xe(e,t){for(let o=0;o<e.length;++o)if(!we(e[o],t))return!1;for(let o=0;o<e.length-1;++o)if(Se(e[o],e[o+1],t))return!1;return!0}function je(e,t){for(let o=0;o<t.length;o++)if(xe(e,t[o]))return!0;return!1}function Pe(e,t,o){const n=[];for(let r=0;r<e.length;r++){const i=[];for(let n=0;n<e[r].length;n++){const a=Ae(e[r][n],o);_e(t,a),i.push(a)}n.push(i)}return n}function Te(e,t,o){const n=[];for(let r=0;r<e.length;r++){const i=Pe(e[r],t,o);n.push(i)}return n}function Me(e,t,o,n){if(e[0]<o[0]||e[0]>o[2]){const t=.5*n;let r=e[0]-o[0]>t?-n:o[0]-e[0]>t?n:0;0===r&&(r=e[0]-o[2]>t?-n:o[2]-e[0]>t?n:0),e[0]+=r}_e(t,e)}function Re(e,t,o,n){const r=8192*Math.pow(2,n.z),i=[8192*n.x,8192*n.y],a=[];for(const n of e)for(const e of n){const n=[e.x+i[0],e.y+i[1]];Me(n,t,o,r),a.push(n)}return a}function Le(e,t,o,n){const r=8192*Math.pow(2,n.z),i=[8192*n.x,8192*n.y],a=[];for(const o of e){const e=[];for(const n of o){const o=[n.x+i[0],n.y+i[1]];_e(t,o),e.push(o)}a.push(e)}if(t[2]-t[0]<=r/2){(s=t)[0]=s[1]=1/0,s[2]=s[3]=-1/0;for(const e of a)for(const n of e)Me(n,t,o,r)}var s;return a}class ke{constructor(e,t){this.type=N,this.geojson=e,this.geometries=t}static parse(e,t){if(2!==e.length)return t.error(`'within' expression requires exactly one argument, but found ${e.length-1} instead.`);if(re(e[1])){const t=e[1];if("FeatureCollection"===t.type)for(let e=0;e<t.features.length;++e){const o=t.features[e].geometry.type;if("Polygon"===o||"MultiPolygon"===o)return new ke(t,t.features[e].geometry)}else if("Feature"===t.type){const e=t.geometry.type;if("Polygon"===e||"MultiPolygon"===e)return new ke(t,t.geometry)}else if("Polygon"===t.type||"MultiPolygon"===t.type)return new ke(t,t)}return t.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(e){if(null!=e.geometry()&&null!=e.canonicalID()){if("Point"===e.geometryType())return function(e,t){const o=[1/0,1/0,-1/0,-1/0],n=[1/0,1/0,-1/0,-1/0],r=e.canonicalID();if("Polygon"===t.type){const i=Pe(t.coordinates,n,r),a=Re(e.geometry(),o,n,r);if(!be(o,n))return!1;for(const e of a)if(!we(e,i))return!1}if("MultiPolygon"===t.type){const i=Te(t.coordinates,n,r),a=Re(e.geometry(),o,n,r);if(!be(o,n))return!1;for(const e of a)if(!Ee(e,i))return!1}return!0}(e,this.geometries);if("LineString"===e.geometryType())return function(e,t){const o=[1/0,1/0,-1/0,-1/0],n=[1/0,1/0,-1/0,-1/0],r=e.canonicalID();if("Polygon"===t.type){const i=Pe(t.coordinates,n,r),a=Le(e.geometry(),o,n,r);if(!be(o,n))return!1;for(const e of a)if(!xe(e,i))return!1}if("MultiPolygon"===t.type){const i=Te(t.coordinates,n,r),a=Le(e.geometry(),o,n,r);if(!be(o,n))return!1;for(const e of a)if(!je(e,i))return!1}return!0}(e,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}function Ge(e){if(e instanceof ye){if("get"===e.name&&1===e.args.length)return!1;if("feature-state"===e.name)return!1;if("has"===e.name&&1===e.args.length)return!1;if("properties"===e.name||"geometry-type"===e.name||"id"===e.name)return!1;if(/^filter-/.test(e.name))return!1}if(e instanceof ke)return!1;let t=!0;return e.eachChild(e=>{t&&!Ge(e)&&(t=!1)}),t}function De(e){if(e instanceof ye&&"feature-state"===e.name)return!1;let t=!0;return e.eachChild(e=>{t&&!De(e)&&(t=!1)}),t}function Ne(e,t){if(e instanceof ye&&t.indexOf(e.name)>=0)return!1;let o=!0;return e.eachChild(e=>{o&&!Ne(e,t)&&(o=!1)}),o}class Fe{constructor(e,t){this.type=t.type,this.name=e,this.boundExpression=t}static parse(e,t){if(2!==e.length||"string"!=typeof e[1])return t.error("'var' expression requires exactly one string literal argument.");const o=e[1];return t.scope.has(o)?new Fe(o,t.scope.get(o)):t.error(`Unknown variable "${o}". Make sure "${o}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(e){return this.boundExpression.evaluate(e)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}class Ue{constructor(e,t=[],o,n=new L,r=[]){this.registry=e,this.path=t,this.key=t.map(e=>`[${e}]`).join(""),this.scope=n,this.errors=r,this.expectedType=o}parse(e,t,o,n,r={}){return t?this.concat(t,o,n)._parse(e,r):this._parse(e,r)}_parse(e,t){function o(e,t,o){return"assert"===o?new ue(t,[e]):"coerce"===o?new fe(t,[e]):e}if(null!==e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e||(e=["literal",e]),Array.isArray(e)){if(0===e.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const n=e[0];if("string"!=typeof n)return this.error(`Expression name must be a string, but found ${typeof n} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const r=this.registry[n];if(r){let n=r.parse(e,this);if(!n)return null;if(this.expectedType){const e=this.expectedType,r=n.type;if("string"!==e.kind&&"number"!==e.kind&&"boolean"!==e.kind&&"object"!==e.kind&&"array"!==e.kind||"value"!==r.kind)if("color"!==e.kind&&"formatted"!==e.kind&&"resolvedImage"!==e.kind||"value"!==r.kind&&"string"!==r.kind){if(this.checkSubtype(e,r))return null}else n=o(n,e,t.typeAnnotation||"coerce");else n=o(n,e,t.typeAnnotation||"assert")}if(!(n instanceof se)&&"resolvedImage"!==n.type.kind&&function e(t){if(t instanceof Fe)return e(t.boundExpression);if(t instanceof ye&&"error"===t.name)return!1;if(t instanceof ve)return!1;if(t instanceof ke)return!1;const o=t instanceof fe||t instanceof ue;let n=!0;if(t.eachChild(t=>{n=o?n&&e(t):n&&t instanceof se}),!n)return!1;return Ge(t)&&Ne(t,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script"])}(n)){const e=new me;try{n=new se(n.type,n.evaluate(e))}catch(e){return this.error(e.message),null}}return n}return this.error(`Unknown expression "${n}". If you wanted a literal array, use ["literal", [...]].`,0)}return void 0===e?this.error("'undefined' value invalid. Use null instead."):"object"==typeof e?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error(`Expected an array, but found ${typeof e} instead.`)}concat(e,t,o){const n="number"==typeof e?this.path.concat(e):this.path,r=o?this.scope.concat(o):this.scope;return new Ue(this.registry,n,t||null,r,this.errors)}error(e,...t){const o=`${this.key}${t.map(e=>`[${e}]`).join("")}`;this.errors.push(new R(o,e))}checkSubtype(e,t){const o=X(e,t);return o&&this.error(o),o}}function Be(e,t){const o=e.length-1;let n,r,i=0,a=o,s=0;for(;i<=a;)if(s=Math.floor((i+a)/2),n=e[s],r=e[s+1],n<=t){if(s===o||t<r)return s;i=s+1}else{if(!(n>t))throw new le("Input is not a number.");a=s-1}return 0}class ze{constructor(e,t,o){this.type=e,this.input=t,this.labels=[],this.outputs=[];for(const[e,t]of o)this.labels.push(e),this.outputs.push(t)}static parse(e,t){if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");const o=t.parse(e[1],1,G);if(!o)return null;const n=[];let r=null;t.expectedType&&"value"!==t.expectedType.kind&&(r=t.expectedType);for(let o=1;o<e.length;o+=2){const i=1===o?-1/0:e[o],a=e[o+1],s=o,l=o+1;if("number"!=typeof i)return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',s);if(n.length&&n[n.length-1][0]>=i)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',s);const c=t.parse(a,l,r);if(!c)return null;r=r||c.type,n.push([i,c])}return new ze(r,o,n)}evaluate(e){const t=this.labels,o=this.outputs;if(1===t.length)return o[0].evaluate(e);const n=this.input.evaluate(e);if(n<=t[0])return o[0].evaluate(e);const r=t.length;if(n>=t[r-1])return o[r-1].evaluate(e);return o[Be(t,n)].evaluate(e)}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}serialize(){const e=["step",this.input.serialize()];for(let t=0;t<this.labels.length;t++)t>0&&e.push(this.labels[t]),e.push(this.outputs[t].serialize());return e}}var Ve=We;function We(e,t,o,n){this.cx=3*e,this.bx=3*(o-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(n-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=n,this.p2x=o,this.p2y=n}function qe(e,t,o){return e*(1-o)+t*o}We.prototype.sampleCurveX=function(e){return((this.ax*e+this.bx)*e+this.cx)*e},We.prototype.sampleCurveY=function(e){return((this.ay*e+this.by)*e+this.cy)*e},We.prototype.sampleCurveDerivativeX=function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},We.prototype.solveCurveX=function(e,t){var o,n,r,i,a;for(void 0===t&&(t=1e-6),r=e,a=0;a<8;a++){if(i=this.sampleCurveX(r)-e,Math.abs(i)<t)return r;var s=this.sampleCurveDerivativeX(r);if(Math.abs(s)<1e-6)break;r-=i/s}if((r=e)<(o=0))return o;if(r>(n=1))return n;for(;o<n;){if(i=this.sampleCurveX(r),Math.abs(i-e)<t)return r;e>i?o=r:n=r,r=.5*(n-o)+o}return r},We.prototype.solve=function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))};var Ye=Object.freeze({__proto__:null,number:qe,color:function(e,t,o){return new Q(qe(e.r,t.r,o),qe(e.g,t.g,o),qe(e.b,t.b,o),qe(e.a,t.a,o))},array:function(e,t,o){return e.map((e,n)=>qe(e,t[n],o))}});const He=6/29,Xe=3*He*He,Ze=Math.PI/180,Ke=180/Math.PI;function Je(e){return e>.008856451679035631?Math.pow(e,1/3):e/Xe+4/29}function Qe(e){return e>He?e*e*e:Xe*(e-4/29)}function $e(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function et(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function tt(e){const t=et(e.r),o=et(e.g),n=et(e.b),r=Je((.4124564*t+.3575761*o+.1804375*n)/.95047),i=Je((.2126729*t+.7151522*o+.072175*n)/1);return{l:116*i-16,a:500*(r-i),b:200*(i-Je((.0193339*t+.119192*o+.9503041*n)/1.08883)),alpha:e.a}}function ot(e){let t=(e.l+16)/116,o=isNaN(e.a)?t:t+e.a/500,n=isNaN(e.b)?t:t-e.b/200;return t=1*Qe(t),o=.95047*Qe(o),n=1.08883*Qe(n),new Q($e(3.2404542*o-1.5371385*t-.4985314*n),$e(-.969266*o+1.8760108*t+.041556*n),$e(.0556434*o-.2040259*t+1.0572252*n),e.alpha)}function nt(e,t,o){const n=t-e;return e+o*(n>180||n<-180?n-360*Math.round(n/360):n)}const rt={forward:tt,reverse:ot,interpolate:function(e,t,o){return{l:qe(e.l,t.l,o),a:qe(e.a,t.a,o),b:qe(e.b,t.b,o),alpha:qe(e.alpha,t.alpha,o)}}},it={forward:function(e){const{l:t,a:o,b:n}=tt(e),r=Math.atan2(n,o)*Ke;return{h:r<0?r+360:r,c:Math.sqrt(o*o+n*n),l:t,alpha:e.a}},reverse:function(e){const t=e.h*Ze,o=e.c;return ot({l:e.l,a:Math.cos(t)*o,b:Math.sin(t)*o,alpha:e.alpha})},interpolate:function(e,t,o){return{h:nt(e.h,t.h,o),c:qe(e.c,t.c,o),l:qe(e.l,t.l,o),alpha:qe(e.alpha,t.alpha,o)}}};var at=Object.freeze({__proto__:null,lab:rt,hcl:it});class st{constructor(e,t,o,n,r){this.type=e,this.operator=t,this.interpolation=o,this.input=n,this.labels=[],this.outputs=[];for(const[e,t]of r)this.labels.push(e),this.outputs.push(t)}static interpolationFactor(e,t,o,n){let r=0;if("exponential"===e.name)r=lt(t,e.base,o,n);else if("linear"===e.name)r=lt(t,1,o,n);else if("cubic-bezier"===e.name){const i=e.controlPoints;r=new Ve(i[0],i[1],i[2],i[3]).solve(lt(t,1,o,n))}return r}static parse(e,t){let[o,n,r,...i]=e;if(!Array.isArray(n)||0===n.length)return t.error("Expected an interpolation type expression.",1);if("linear"===n[0])n={name:"linear"};else if("exponential"===n[0]){const e=n[1];if("number"!=typeof e)return t.error("Exponential interpolation requires a numeric base.",1,1);n={name:"exponential",base:e}}else{if("cubic-bezier"!==n[0])return t.error("Unknown interpolation type "+String(n[0]),1,0);{const e=n.slice(1);if(4!==e.length||e.some(e=>"number"!=typeof e||e<0||e>1))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);n={name:"cubic-bezier",controlPoints:e}}}if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");if(r=t.parse(r,2,G),!r)return null;const a=[];let s=null;"interpolate-hcl"===o||"interpolate-lab"===o?s=F:t.expectedType&&"value"!==t.expectedType.kind&&(s=t.expectedType);for(let e=0;e<i.length;e+=2){const o=i[e],n=i[e+1],r=e+3,l=e+4;if("number"!=typeof o)return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',r);if(a.length&&a[a.length-1][0]>=o)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',r);const c=t.parse(n,l,s);if(!c)return null;s=s||c.type,a.push([o,c])}return"number"===s.kind||"color"===s.kind||"array"===s.kind&&"number"===s.itemType.kind&&"number"==typeof s.N?new st(s,o,n,r,a):t.error(`Type ${Y(s)} is not interpolatable.`)}evaluate(e){const t=this.labels,o=this.outputs;if(1===t.length)return o[0].evaluate(e);const n=this.input.evaluate(e);if(n<=t[0])return o[0].evaluate(e);const r=t.length;if(n>=t[r-1])return o[r-1].evaluate(e);const i=Be(t,n),a=t[i],s=t[i+1],l=st.interpolationFactor(this.interpolation,n,a,s),c=o[i].evaluate(e),u=o[i+1].evaluate(e);return"interpolate"===this.operator?Ye[this.type.kind.toLowerCase()](c,u,l):"interpolate-hcl"===this.operator?it.reverse(it.interpolate(it.forward(c),it.forward(u),l)):rt.reverse(rt.interpolate(rt.forward(c),rt.forward(u),l))}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}serialize(){let e;e="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const t=[this.operator,e,this.input.serialize()];for(let e=0;e<this.labels.length;e++)t.push(this.labels[e],this.outputs[e].serialize());return t}}function lt(e,t,o,n){const r=n-o,i=e-o;return 0===r?0:1===t?i/r:(Math.pow(t,i)-1)/(Math.pow(t,r)-1)}class ct{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expectected at least one argument.");let o=null;const n=t.expectedType;n&&"value"!==n.kind&&(o=n);const r=[];for(const n of e.slice(1)){const e=t.parse(n,1+r.length,o,void 0,{typeAnnotation:"omit"});if(!e)return null;o=o||e.type,r.push(e)}const i=n&&r.some(e=>X(n,e.type));return new ct(i?B:o,r)}evaluate(e){let t,o=null,n=0;for(const r of this.args)if(n++,o=r.evaluate(e),o&&o instanceof oe&&!o.available&&(t||(t=o.name),o=null,n===this.args.length&&(o=t)),null!==o)break;return o}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}serialize(){const e=["coalesce"];return this.eachChild(t=>{e.push(t.serialize())}),e}}class ut{constructor(e,t){this.type=t.type,this.bindings=[].concat(e),this.result=t}evaluate(e){return this.result.evaluate(e)}eachChild(e){for(const t of this.bindings)e(t[1]);e(this.result)}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found ${e.length-1} instead.`);const o=[];for(let n=1;n<e.length-1;n+=2){const r=e[n];if("string"!=typeof r)return t.error(`Expected string, but found ${typeof r} instead.`,n);if(/[^a-zA-Z0-9_]/.test(r))return t.error("Variable names must contain only alphanumeric characters or '_'.",n);const i=t.parse(e[n+1],n+1);if(!i)return null;o.push([r,i])}const n=t.parse(e[e.length-1],e.length-1,t.expectedType,o);return n?new ut(o,n):null}outputDefined(){return this.result.outputDefined()}serialize(){const e=["let"];for(const[t,o]of this.bindings)e.push(t,o.serialize());return e.push(this.result.serialize()),e}}class dt{constructor(e,t,o){this.type=e,this.index=t,this.input=o}static parse(e,t){if(3!==e.length)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const o=t.parse(e[1],1,G),n=t.parse(e[2],2,q(t.expectedType||B));if(!o||!n)return null;const r=n.type;return new dt(r.itemType,o,n)}evaluate(e){const t=this.index.evaluate(e),o=this.input.evaluate(e);if(t<0)throw new le(`Array index out of bounds: ${t} < 0.`);if(t>=o.length)throw new le(`Array index out of bounds: ${t} > ${o.length-1}.`);if(t!==Math.floor(t))throw new le(`Array index must be an integer, but found ${t} instead.`);return o[t]}eachChild(e){e(this.index),e(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}class ht{constructor(e,t){this.type=N,this.needle=e,this.haystack=t}static parse(e,t){if(3!==e.length)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const o=t.parse(e[1],1,B),n=t.parse(e[2],2,B);return o&&n?Z(o.type,[N,D,G,k,B])?new ht(o,n):t.error(`Expected first argument to be of type boolean, string, number or null, but found ${Y(o.type)} instead`):null}evaluate(e){const t=this.needle.evaluate(e),o=this.haystack.evaluate(e);if(!o)return!1;if(!K(t,["boolean","string","number","null"]))throw new le(`Expected first argument to be of type boolean, string, number or null, but found ${Y(ie(t))} instead.`);if(!K(o,["string","array"]))throw new le(`Expected second argument to be of type array or string, but found ${Y(ie(o))} instead.`);return o.indexOf(t)>=0}eachChild(e){e(this.needle),e(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}class pt{constructor(e,t,o){this.type=G,this.needle=e,this.haystack=t,this.fromIndex=o}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const o=t.parse(e[1],1,B),n=t.parse(e[2],2,B);if(!o||!n)return null;if(!Z(o.type,[N,D,G,k,B]))return t.error(`Expected first argument to be of type boolean, string, number or null, but found ${Y(o.type)} instead`);if(4===e.length){const r=t.parse(e[3],3,G);return r?new pt(o,n,r):null}return new pt(o,n)}evaluate(e){const t=this.needle.evaluate(e),o=this.haystack.evaluate(e);if(!K(t,["boolean","string","number","null"]))throw new le(`Expected first argument to be of type boolean, string, number or null, but found ${Y(ie(t))} instead.`);if(!K(o,["string","array"]))throw new le(`Expected second argument to be of type array or string, but found ${Y(ie(o))} instead.`);if(this.fromIndex){const n=this.fromIndex.evaluate(e);return o.indexOf(t,n)}return o.indexOf(t)}eachChild(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)}outputDefined(){return!1}serialize(){if(null!=this.fromIndex&&void 0!==this.fromIndex){const e=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),e]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}class ft{constructor(e,t,o,n,r,i){this.inputType=e,this.type=t,this.input=o,this.cases=n,this.outputs=r,this.otherwise=i}static parse(e,t){if(e.length<5)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if(e.length%2!=1)return t.error("Expected an even number of arguments.");let o,n;t.expectedType&&"value"!==t.expectedType.kind&&(n=t.expectedType);const r={},i=[];for(let a=2;a<e.length-1;a+=2){let s=e[a];const l=e[a+1];Array.isArray(s)||(s=[s]);const c=t.concat(a);if(0===s.length)return c.error("Expected at least one branch label.");for(const e of s){if("number"!=typeof e&&"string"!=typeof e)return c.error("Branch labels must be numbers or strings.");if("number"==typeof e&&Math.abs(e)>Number.MAX_SAFE_INTEGER)return c.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if("number"==typeof e&&Math.floor(e)!==e)return c.error("Numeric branch labels must be integer values.");if(o){if(c.checkSubtype(o,ie(e)))return null}else o=ie(e);if(void 0!==r[String(e)])return c.error("Branch labels must be unique.");r[String(e)]=i.length}const u=t.parse(l,a,n);if(!u)return null;n=n||u.type,i.push(u)}const a=t.parse(e[1],1,B);if(!a)return null;const s=t.parse(e[e.length-1],e.length-1,n);return s?"value"!==a.type.kind&&t.concat(1).checkSubtype(o,a.type)?null:new ft(o,n,a,r,i,s):null}evaluate(e){const t=this.input.evaluate(e);return(ie(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)}eachChild(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)}outputDefined(){return this.outputs.every(e=>e.outputDefined())&&this.otherwise.outputDefined()}serialize(){const e=["match",this.input.serialize()],t=Object.keys(this.cases).sort(),o=[],n={};for(const e of t){const t=n[this.cases[e]];void 0===t?(n[this.cases[e]]=o.length,o.push([this.cases[e],[e]])):o[t][1].push(e)}const r=e=>"number"===this.inputType.kind?Number(e):e;for(const[t,n]of o)1===n.length?e.push(r(n[0])):e.push(n.map(r)),e.push(this.outputs[t].serialize());return e.push(this.otherwise.serialize()),e}}class gt{constructor(e,t,o){this.type=e,this.branches=t,this.otherwise=o}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found only ${e.length-1}.`);if(e.length%2!=0)return t.error("Expected an odd number of arguments.");let o;t.expectedType&&"value"!==t.expectedType.kind&&(o=t.expectedType);const n=[];for(let r=1;r<e.length-1;r+=2){const i=t.parse(e[r],r,N);if(!i)return null;const a=t.parse(e[r+1],r+1,o);if(!a)return null;n.push([i,a]),o=o||a.type}const r=t.parse(e[e.length-1],e.length-1,o);return r?new gt(o,n,r):null}evaluate(e){for(const[t,o]of this.branches)if(t.evaluate(e))return o.evaluate(e);return this.otherwise.evaluate(e)}eachChild(e){for(const[t,o]of this.branches)e(t),e(o);e(this.otherwise)}outputDefined(){return this.branches.every(([e,t])=>t.outputDefined())&&this.otherwise.outputDefined()}serialize(){const e=["case"];return this.eachChild(t=>{e.push(t.serialize())}),e}}class mt{constructor(e,t,o,n){this.type=e,this.input=t,this.beginIndex=o,this.endIndex=n}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const o=t.parse(e[1],1,B),n=t.parse(e[2],2,G);if(!o||!n)return null;if(!Z(o.type,[q(B),D,B]))return t.error(`Expected first argument to be of type array or string, but found ${Y(o.type)} instead`);if(4===e.length){const r=t.parse(e[3],3,G);return r?new mt(o.type,o,n,r):null}return new mt(o.type,o,n)}evaluate(e){const t=this.input.evaluate(e),o=this.beginIndex.evaluate(e);if(!K(t,["string","array"]))throw new le(`Expected first argument to be of type array or string, but found ${Y(ie(t))} instead.`);if(this.endIndex){const n=this.endIndex.evaluate(e);return t.slice(o,n)}return t.slice(o)}eachChild(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)}outputDefined(){return!1}serialize(){if(null!=this.endIndex&&void 0!==this.endIndex){const e=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),e]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}function yt(e,t){return"=="===e||"!="===e?"boolean"===t.kind||"string"===t.kind||"number"===t.kind||"null"===t.kind||"value"===t.kind:"string"===t.kind||"number"===t.kind||"value"===t.kind}function vt(e,t,o,n){return 0===n.compare(t,o)}function _t(e,t,o){const n="=="!==e&&"!="!==e;return class r{constructor(e,t,o){this.type=N,this.lhs=e,this.rhs=t,this.collator=o,this.hasUntypedArgument="value"===e.type.kind||"value"===t.type.kind}static parse(e,t){if(3!==e.length&&4!==e.length)return t.error("Expected two or three arguments.");const o=e[0];let i=t.parse(e[1],1,B);if(!i)return null;if(!yt(o,i.type))return t.concat(1).error(`"${o}" comparisons are not supported for type '${Y(i.type)}'.`);let a=t.parse(e[2],2,B);if(!a)return null;if(!yt(o,a.type))return t.concat(2).error(`"${o}" comparisons are not supported for type '${Y(a.type)}'.`);if(i.type.kind!==a.type.kind&&"value"!==i.type.kind&&"value"!==a.type.kind)return t.error(`Cannot compare types '${Y(i.type)}' and '${Y(a.type)}'.`);n&&("value"===i.type.kind&&"value"!==a.type.kind?i=new ue(a.type,[i]):"value"!==i.type.kind&&"value"===a.type.kind&&(a=new ue(i.type,[a])));let s=null;if(4===e.length){if("string"!==i.type.kind&&"string"!==a.type.kind&&"value"!==i.type.kind&&"value"!==a.type.kind)return t.error("Cannot use collator to compare non-string types.");if(s=t.parse(e[3],3,z),!s)return null}return new r(i,a,s)}evaluate(r){const i=this.lhs.evaluate(r),a=this.rhs.evaluate(r);if(n&&this.hasUntypedArgument){const t=ie(i),o=ie(a);if(t.kind!==o.kind||"string"!==t.kind&&"number"!==t.kind)throw new le(`Expected arguments for "${e}" to be (string, string) or (number, number), but found (${t.kind}, ${o.kind}) instead.`)}if(this.collator&&!n&&this.hasUntypedArgument){const e=ie(i),o=ie(a);if("string"!==e.kind||"string"!==o.kind)return t(r,i,a)}return this.collator?o(r,i,a,this.collator.evaluate(r)):t(r,i,a)}eachChild(e){e(this.lhs),e(this.rhs),this.collator&&e(this.collator)}outputDefined(){return!0}serialize(){const t=[e];return this.eachChild(e=>{t.push(e.serialize())}),t}}}const bt=_t("==",(function(e,t,o){return t===o}),vt),At=_t("!=",(function(e,t,o){return t!==o}),(function(e,t,o,n){return!vt(0,t,o,n)})),Ct=_t("<",(function(e,t,o){return t<o}),(function(e,t,o,n){return n.compare(t,o)<0})),wt=_t(">",(function(e,t,o){return t>o}),(function(e,t,o,n){return n.compare(t,o)>0})),Et=_t("<=",(function(e,t,o){return t<=o}),(function(e,t,o,n){return n.compare(t,o)<=0})),It=_t(">=",(function(e,t,o){return t>=o}),(function(e,t,o,n){return n.compare(t,o)>=0}));class Ot{constructor(e,t,o,n,r){this.type=D,this.number=e,this.locale=t,this.currency=o,this.minFractionDigits=n,this.maxFractionDigits=r}static parse(e,t){if(3!==e.length)return t.error("Expected two arguments.");const o=t.parse(e[1],1,G);if(!o)return null;const n=e[2];if("object"!=typeof n||Array.isArray(n))return t.error("NumberFormat options argument must be an object.");let r=null;if(n.locale&&(r=t.parse(n.locale,1,D),!r))return null;let i=null;if(n.currency&&(i=t.parse(n.currency,1,D),!i))return null;let a=null;if(n["min-fraction-digits"]&&(a=t.parse(n["min-fraction-digits"],1,G),!a))return null;let s=null;return n["max-fraction-digits"]&&(s=t.parse(n["max-fraction-digits"],1,G),!s)?null:new Ot(o,r,i,a,s)}evaluate(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))}eachChild(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const e={};return this.locale&&(e.locale=this.locale.serialize()),this.currency&&(e.currency=this.currency.serialize()),this.minFractionDigits&&(e["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(e["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),e]}}class St{constructor(e){this.type=G,this.input=e}static parse(e,t){if(2!==e.length)return t.error(`Expected 1 argument, but found ${e.length-1} instead.`);const o=t.parse(e[1],1);return o?"array"!==o.type.kind&&"string"!==o.type.kind&&"value"!==o.type.kind?t.error(`Expected argument of type string or array, but found ${Y(o.type)} instead.`):new St(o):null}evaluate(e){const t=this.input.evaluate(e);if("string"==typeof t)return t.length;if(Array.isArray(t))return t.length;throw new le(`Expected value to be of type string or array, but found ${Y(ie(t))} instead.`)}eachChild(e){e(this.input)}outputDefined(){return!1}serialize(){const e=["length"];return this.eachChild(t=>{e.push(t.serialize())}),e}}const xt={"==":bt,"!=":At,">":wt,"<":Ct,">=":It,"<=":Et,array:ue,at:dt,boolean:ue,case:gt,coalesce:ct,collator:ve,format:de,image:he,in:ht,"index-of":pt,interpolate:st,"interpolate-hcl":st,"interpolate-lab":st,length:St,let:ut,literal:se,match:ft,number:ue,"number-format":Ot,object:ue,slice:mt,step:ze,string:ue,"to-boolean":fe,"to-color":fe,"to-number":fe,"to-string":fe,var:Fe,within:ke};function jt(e,[t,o,n,r]){t=t.evaluate(e),o=o.evaluate(e),n=n.evaluate(e);const i=r?r.evaluate(e):1,a=ne(t,o,n,i);if(a)throw new le(a);return new Q(t/255*i,o/255*i,n/255*i,i)}function Pt(e,t){return e in t}function Tt(e,t){const o=t[e];return void 0===o?null:o}function Mt(e){return{type:e}}function Rt(e){return{result:"success",value:e}}function Lt(e){return{result:"error",value:e}}function kt(e){return"data-driven"===e["property-type"]||"cross-faded-data-driven"===e["property-type"]}function Gt(e){return!!e.expression&&e.expression.parameters.indexOf("zoom")>-1}function Dt(e){return!!e.expression&&e.expression.interpolated}function Nt(e){return e instanceof Number?"number":e instanceof String?"string":e instanceof Boolean?"boolean":Array.isArray(e)?"array":null===e?"null":typeof e}function Ft(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function Ut(e){return e}function Bt(e,t){const o="color"===t.type,n=e.stops&&"object"==typeof e.stops[0][0],r=n||void 0!==e.property,i=n||!r,a=e.type||(Dt(t)?"exponential":"interval");if(o&&((e=M({},e)).stops&&(e.stops=e.stops.map(e=>[e[0],Q.parse(e[1])])),e.default?e.default=Q.parse(e.default):e.default=Q.parse(t.default)),e.colorSpace&&"rgb"!==e.colorSpace&&!at[e.colorSpace])throw new Error("Unknown color space: "+e.colorSpace);let s,l,c;if("exponential"===a)s=qt;else if("interval"===a)s=Wt;else if("categorical"===a){s=Vt,l=Object.create(null);for(const t of e.stops)l[t[0]]=t[1];c=typeof e.stops[0][0]}else{if("identity"!==a)throw new Error(`Unknown function type "${a}"`);s=Yt}if(n){const o={},n=[];for(let t=0;t<e.stops.length;t++){const r=e.stops[t],i=r[0].zoom;void 0===o[i]&&(o[i]={zoom:i,type:e.type,property:e.property,default:e.default,stops:[]},n.push(i)),o[i].stops.push([r[0].value,r[1]])}const r=[];for(const e of n)r.push([o[e].zoom,Bt(o[e],t)]);const i={name:"linear"};return{kind:"composite",interpolationType:i,interpolationFactor:st.interpolationFactor.bind(void 0,i),zoomStops:r.map(e=>e[0]),evaluate:({zoom:o},n)=>qt({stops:r,base:e.base},t,o).evaluate(o,n)}}if(i){const o="exponential"===a?{name:"exponential",base:void 0!==e.base?e.base:1}:null;return{kind:"camera",interpolationType:o,interpolationFactor:st.interpolationFactor.bind(void 0,o),zoomStops:e.stops.map(e=>e[0]),evaluate:({zoom:o})=>s(e,t,o,l,c)}}return{kind:"source",evaluate(o,n){const r=n&&n.properties?n.properties[e.property]:void 0;return void 0===r?zt(e.default,t.default):s(e,t,r,l,c)}}}function zt(e,t,o){return void 0!==e?e:void 0!==t?t:void 0!==o?o:void 0}function Vt(e,t,o,n,r){return zt(typeof o===r?n[o]:void 0,e.default,t.default)}function Wt(e,t,o){if("number"!==Nt(o))return zt(e.default,t.default);const n=e.stops.length;if(1===n)return e.stops[0][1];if(o<=e.stops[0][0])return e.stops[0][1];if(o>=e.stops[n-1][0])return e.stops[n-1][1];const r=Be(e.stops.map(e=>e[0]),o);return e.stops[r][1]}function qt(e,t,o){const n=void 0!==e.base?e.base:1;if("number"!==Nt(o))return zt(e.default,t.default);const r=e.stops.length;if(1===r)return e.stops[0][1];if(o<=e.stops[0][0])return e.stops[0][1];if(o>=e.stops[r-1][0])return e.stops[r-1][1];const i=Be(e.stops.map(e=>e[0]),o),a=function(e,t,o,n){const r=n-o,i=e-o;return 0===r?0:1===t?i/r:(Math.pow(t,i)-1)/(Math.pow(t,r)-1)}(o,n,e.stops[i][0],e.stops[i+1][0]),s=e.stops[i][1],l=e.stops[i+1][1];let c=Ye[t.type]||Ut;if(e.colorSpace&&"rgb"!==e.colorSpace){const t=at[e.colorSpace];c=(e,o)=>t.reverse(t.interpolate(t.forward(e),t.forward(o),a))}return"function"==typeof s.evaluate?{evaluate(...e){const t=s.evaluate.apply(void 0,e),o=l.evaluate.apply(void 0,e);if(void 0!==t&&void 0!==o)return c(t,o,a)}}:c(s,l,a)}function Yt(e,t,o){return"color"===t.type?o=Q.parse(o):"formatted"===t.type?o=te.fromString(o.toString()):"resolvedImage"===t.type?o=oe.fromString(o.toString()):Nt(o)===t.type||"enum"===t.type&&t.values[o]||(o=void 0),zt(o,e.default,t.default)}ye.register(xt,{error:[{kind:"error"},[D],(e,[t])=>{throw new le(t.evaluate(e))}],typeof:[D,[B],(e,[t])=>Y(ie(t.evaluate(e)))],"to-rgba":[q(G,4),[F],(e,[t])=>t.evaluate(e).toArray()],rgb:[F,[G,G,G],jt],rgba:[F,[G,G,G,G],jt],has:{type:N,overloads:[[[D],(e,[t])=>Pt(t.evaluate(e),e.properties())],[[D,U],(e,[t,o])=>Pt(t.evaluate(e),o.evaluate(e))]]},get:{type:B,overloads:[[[D],(e,[t])=>Tt(t.evaluate(e),e.properties())],[[D,U],(e,[t,o])=>Tt(t.evaluate(e),o.evaluate(e))]]},"feature-state":[B,[D],(e,[t])=>Tt(t.evaluate(e),e.featureState||{})],properties:[U,[],e=>e.properties()],"geometry-type":[D,[],e=>e.geometryType()],id:[B,[],e=>e.id()],zoom:[G,[],e=>e.globals.zoom],"heatmap-density":[G,[],e=>e.globals.heatmapDensity||0],"line-progress":[G,[],e=>e.globals.lineProgress||0],"sky-radial-progress":[G,[],e=>e.globals.skyRadialProgress||0],accumulated:[B,[],e=>void 0===e.globals.accumulated?null:e.globals.accumulated],"+":[G,Mt(G),(e,t)=>{let o=0;for(const n of t)o+=n.evaluate(e);return o}],"*":[G,Mt(G),(e,t)=>{let o=1;for(const n of t)o*=n.evaluate(e);return o}],"-":{type:G,overloads:[[[G,G],(e,[t,o])=>t.evaluate(e)-o.evaluate(e)],[[G],(e,[t])=>-t.evaluate(e)]]},"/":[G,[G,G],(e,[t,o])=>t.evaluate(e)/o.evaluate(e)],"%":[G,[G,G],(e,[t,o])=>t.evaluate(e)%o.evaluate(e)],ln2:[G,[],()=>Math.LN2],pi:[G,[],()=>Math.PI],e:[G,[],()=>Math.E],"^":[G,[G,G],(e,[t,o])=>Math.pow(t.evaluate(e),o.evaluate(e))],sqrt:[G,[G],(e,[t])=>Math.sqrt(t.evaluate(e))],log10:[G,[G],(e,[t])=>Math.log(t.evaluate(e))/Math.LN10],ln:[G,[G],(e,[t])=>Math.log(t.evaluate(e))],log2:[G,[G],(e,[t])=>Math.log(t.evaluate(e))/Math.LN2],sin:[G,[G],(e,[t])=>Math.sin(t.evaluate(e))],cos:[G,[G],(e,[t])=>Math.cos(t.evaluate(e))],tan:[G,[G],(e,[t])=>Math.tan(t.evaluate(e))],asin:[G,[G],(e,[t])=>Math.asin(t.evaluate(e))],acos:[G,[G],(e,[t])=>Math.acos(t.evaluate(e))],atan:[G,[G],(e,[t])=>Math.atan(t.evaluate(e))],min:[G,Mt(G),(e,t)=>Math.min(...t.map(t=>t.evaluate(e)))],max:[G,Mt(G),(e,t)=>Math.max(...t.map(t=>t.evaluate(e)))],abs:[G,[G],(e,[t])=>Math.abs(t.evaluate(e))],round:[G,[G],(e,[t])=>{const o=t.evaluate(e);return o<0?-Math.round(-o):Math.round(o)}],floor:[G,[G],(e,[t])=>Math.floor(t.evaluate(e))],ceil:[G,[G],(e,[t])=>Math.ceil(t.evaluate(e))],"filter-==":[N,[D,B],(e,[t,o])=>e.properties()[t.value]===o.value],"filter-id-==":[N,[B],(e,[t])=>e.id()===t.value],"filter-type-==":[N,[D],(e,[t])=>e.geometryType()===t.value],"filter-<":[N,[D,B],(e,[t,o])=>{const n=e.properties()[t.value],r=o.value;return typeof n==typeof r&&n<r}],"filter-id-<":[N,[B],(e,[t])=>{const o=e.id(),n=t.value;return typeof o==typeof n&&o<n}],"filter->":[N,[D,B],(e,[t,o])=>{const n=e.properties()[t.value],r=o.value;return typeof n==typeof r&&n>r}],"filter-id->":[N,[B],(e,[t])=>{const o=e.id(),n=t.value;return typeof o==typeof n&&o>n}],"filter-<=":[N,[D,B],(e,[t,o])=>{const n=e.properties()[t.value],r=o.value;return typeof n==typeof r&&n<=r}],"filter-id-<=":[N,[B],(e,[t])=>{const o=e.id(),n=t.value;return typeof o==typeof n&&o<=n}],"filter->=":[N,[D,B],(e,[t,o])=>{const n=e.properties()[t.value],r=o.value;return typeof n==typeof r&&n>=r}],"filter-id->=":[N,[B],(e,[t])=>{const o=e.id(),n=t.value;return typeof o==typeof n&&o>=n}],"filter-has":[N,[B],(e,[t])=>t.value in e.properties()],"filter-has-id":[N,[],e=>null!==e.id()&&void 0!==e.id()],"filter-type-in":[N,[q(D)],(e,[t])=>t.value.indexOf(e.geometryType())>=0],"filter-id-in":[N,[q(B)],(e,[t])=>t.value.indexOf(e.id())>=0],"filter-in-small":[N,[D,q(B)],(e,[t,o])=>o.value.indexOf(e.properties()[t.value])>=0],"filter-in-large":[N,[D,q(B)],(e,[t,o])=>function(e,t,o,n){for(;o<=n;){const r=o+n>>1;if(t[r]===e)return!0;t[r]>e?n=r-1:o=r+1}return!1}(e.properties()[t.value],o.value,0,o.value.length-1)],all:{type:N,overloads:[[[N,N],(e,[t,o])=>t.evaluate(e)&&o.evaluate(e)],[Mt(N),(e,t)=>{for(const o of t)if(!o.evaluate(e))return!1;return!0}]]},any:{type:N,overloads:[[[N,N],(e,[t,o])=>t.evaluate(e)||o.evaluate(e)],[Mt(N),(e,t)=>{for(const o of t)if(o.evaluate(e))return!0;return!1}]]},"!":[N,[N],(e,[t])=>!t.evaluate(e)],"is-supported-script":[N,[D],(e,[t])=>{const o=e.globals&&e.globals.isSupportedScript;return!o||o(t.evaluate(e))}],upcase:[D,[D],(e,[t])=>t.evaluate(e).toUpperCase()],downcase:[D,[D],(e,[t])=>t.evaluate(e).toLowerCase()],concat:[D,Mt(B),(e,t)=>t.map(t=>ae(t.evaluate(e))).join("")],"resolved-locale":[D,[z],(e,[t])=>t.evaluate(e).resolvedLocale()]});class Ht{constructor(e,t){var o;this.expression=e,this._warningHistory={},this._evaluator=new me,this._defaultValue=t?"color"===(o=t).type&&Ft(o.default)?new Q(0,0,0,0):"color"===o.type?Q.parse(o.default)||null:void 0===o.default?null:o.default:null,this._enumValues=t&&"enum"===t.type?t.values:null}evaluateWithoutErrorHandling(e,t,o,n,r,i){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=o,this._evaluator.canonical=n,this._evaluator.availableImages=r||null,this._evaluator.formattedSection=i,this.expression.evaluate(this._evaluator)}evaluate(e,t,o,n,r,i){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=o||null,this._evaluator.canonical=n,this._evaluator.availableImages=r||null,this._evaluator.formattedSection=i||null;try{const e=this.expression.evaluate(this._evaluator);if(null==e||"number"==typeof e&&e!=e)return this._defaultValue;if(this._enumValues&&!(e in this._enumValues))throw new le(`Expected value to be one of ${Object.keys(this._enumValues).map(e=>JSON.stringify(e)).join(", ")}, but found ${JSON.stringify(e)} instead.`);return e}catch(e){return this._warningHistory[e.message]||(this._warningHistory[e.message]=!0,"undefined"!=typeof console&&console.warn(e.message)),this._defaultValue}}}function Xt(e){return Array.isArray(e)&&e.length>0&&"string"==typeof e[0]&&e[0]in xt}function Zt(e,t){const o=new Ue(xt,[],t?function(e){const t={color:F,string:D,number:G,enum:D,boolean:N,formatted:V,resolvedImage:W};if("array"===e.type)return q(t[e.value]||B,e.length);return t[e.type]}(t):void 0),n=o.parse(e,void 0,void 0,void 0,t&&"string"===t.type?{typeAnnotation:"coerce"}:void 0);return n?Rt(new Ht(n,t)):Lt(o.errors)}class Kt{constructor(e,t){this.kind=e,this._styleExpression=t,this.isStateDependent="constant"!==e&&!De(t.expression)}evaluateWithoutErrorHandling(e,t,o,n,r,i){return this._styleExpression.evaluateWithoutErrorHandling(e,t,o,n,r,i)}evaluate(e,t,o,n,r,i){return this._styleExpression.evaluate(e,t,o,n,r,i)}}class Jt{constructor(e,t,o,n){this.kind=e,this.zoomStops=o,this._styleExpression=t,this.isStateDependent="camera"!==e&&!De(t.expression),this.interpolationType=n}evaluateWithoutErrorHandling(e,t,o,n,r,i){return this._styleExpression.evaluateWithoutErrorHandling(e,t,o,n,r,i)}evaluate(e,t,o,n,r,i){return this._styleExpression.evaluate(e,t,o,n,r,i)}interpolationFactor(e,t,o){return this.interpolationType?st.interpolationFactor(this.interpolationType,e,t,o):0}}function Qt(e,t){if("error"===(e=Zt(e,t)).result)return e;const o=e.value.expression,n=Ge(o);if(!n&&!kt(t))return Lt([new R("","data expressions not supported")]);const r=Ne(o,["zoom"]);if(!r&&!Gt(t))return Lt([new R("","zoom expressions not supported")]);const i=function e(t){let o=null;if(t instanceof ut)o=e(t.result);else if(t instanceof ct){for(const n of t.args)if(o=e(n),o)break}else(t instanceof ze||t instanceof st)&&t.input instanceof ye&&"zoom"===t.input.name&&(o=t);if(o instanceof R)return o;return t.eachChild(t=>{const n=e(t);n instanceof R?o=n:!o&&n?o=new R("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):o&&n&&o!==n&&(o=new R("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),o}(o);if(!i&&!r)return Lt([new R("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(i instanceof R)return Lt([i]);if(i instanceof st&&!Dt(t))return Lt([new R("",'"interpolate" expressions cannot be used with this property')]);if(!i)return Rt(new Kt(n?"constant":"source",e.value));const a=i instanceof st?i.interpolation:void 0;return Rt(new Jt(n?"camera":"composite",e.value,i.labels,a))}class $t{constructor(e,t){this._parameters=e,this._specification=t,M(this,Bt(this._parameters,this._specification))}static deserialize(e){return new $t(e._parameters,e._specification)}static serialize(e){return{_parameters:e._parameters,_specification:e._specification}}}function eo(e){return"object"==typeof e?["literal",e]:e}function to(e,t){let o=e.stops;if(!o)return function(e,t){const o=["get",e.property];if(void 0===e.default)return"string"===t.type?["string",o]:o;if("enum"===t.type)return["match",o,Object.keys(t.values),o,e.default];{const n=["color"===t.type?"to-color":t.type,o,eo(e.default)];return"array"===t.type&&n.splice(1,0,t.value,t.length||null),n}}(e,t);const n=o&&"object"==typeof o[0][0],r=n||void 0!==e.property,i=n||!r;return o=o.map(e=>!r&&t.tokens&&"string"==typeof e[1]?[e[0],lo(e[1])]:[e[0],eo(e[1])]),n?function(e,t,o){const n={},r={},i=[];for(let t=0;t<o.length;t++){const a=o[t],s=a[0].zoom;void 0===n[s]&&(n[s]={zoom:s,type:e.type,property:e.property,default:e.default},r[s]=[],i.push(s)),r[s].push([a[0].value,a[1]])}if("exponential"===so({},t)){const o=[oo(e),["linear"],["zoom"]];for(const e of i){const i=ro(n[e],t,r[e]);ao(o,e,i,!1)}return o}{const e=["step",["zoom"]];for(const o of i){const i=ro(n[o],t,r[o]);ao(e,o,i,!0)}return io(e),e}}(e,t,o):i?function(e,t,o,n=["zoom"]){const r=so(e,t);let i,a=!1;if("interval"===r)i=["step",n],a=!0;else{if("exponential"!==r)throw new Error(`Unknown zoom function type "${r}"`);{const t=void 0!==e.base?e.base:1;i=[oo(e),1===t?["linear"]:["exponential",t],n]}}for(const e of o)ao(i,e[0],e[1],a);return io(i),i}(e,t,o):ro(e,t,o)}function oo(e){switch(e.colorSpace){case"hcl":return"interpolate-hcl";case"lab":return"interpolate-lab";default:return"interpolate"}}function no(e,t){const o=eo((n=e.default,r=t.default,void 0!==n?n:void 0!==r?r:void 0));var n,r;return void 0===o&&"resolvedImage"===t.type?"":o}function ro(e,t,o){const n=so(e,t),r=["get",e.property];if("categorical"===n&&"boolean"==typeof o[0][0]){const n=["case"];for(const e of o)n.push(["==",r,e[0]],e[1]);return n.push(no(e,t)),n}if("categorical"===n){const n=["match",r];for(const e of o)ao(n,e[0],e[1],!1);return n.push(no(e,t)),n}if("interval"===n){const t=["step",["number",r]];for(const e of o)ao(t,e[0],e[1],!0);return io(t),void 0===e.default?t:["case",["==",["typeof",r],"number"],t,eo(e.default)]}if("exponential"===n){const t=void 0!==e.base?e.base:1,n=[oo(e),1===t?["linear"]:["exponential",t],["number",r]];for(const e of o)ao(n,e[0],e[1],!1);return void 0===e.default?n:["case",["==",["typeof",r],"number"],n,eo(e.default)]}throw new Error("Unknown property function type "+n)}function io(e){"step"===e[0]&&3===e.length&&(e.push(0),e.push(e[3]))}function ao(e,t,o,n){e.length>3&&t===e[e.length-2]||(n&&2===e.length||e.push(t),e.push(o))}function so(e,t){return e.type?e.type:t.expression.interpolated?"exponential":"interval"}function lo(e){const t=["concat"],o=/{([^{}]+)}/g;let n=0;for(let r=o.exec(e);null!==r;r=o.exec(e)){const i=e.slice(n,o.lastIndex-r[0].length);n=o.lastIndex,i.length>0&&t.push(i),t.push(["get",r[1]])}if(1===t.length)return e;if(n<e.length)t.push(e.slice(n));else if(2===t.length)return["to-string",t[1]];return t}function co(e){if(!0===e||!1===e)return!0;if(!Array.isArray(e)||0===e.length)return!1;switch(e[0]){case"has":return e.length>=2&&"$id"!==e[1]&&"$type"!==e[1];case"in":return e.length>=3&&("string"!=typeof e[1]||Array.isArray(e[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==e.length||Array.isArray(e[1])||Array.isArray(e[2]);case"any":case"all":for(const t of e.slice(1))if(!co(t)&&"boolean"!=typeof t)return!1;return!0;default:return!0}}const uo={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function ho(e){if(null==e)return{filter:()=>!0,needGeometry:!1};co(e)||(e=fo(e));const t=Zt(e,uo);if("error"===t.result)throw new Error(t.value.map(e=>`${e.key}: ${e.message}`).join(", "));return{filter:(e,o,n)=>t.value.evaluate(e,o,{},n),needGeometry:function e(t){if(!Array.isArray(t))return!1;if("within"===t[0])return!0;for(let o=1;o<t.length;o++)if(e(t[o]))return!0;return!1}(e)}}function po(e,t){return e<t?-1:e>t?1:0}function fo(e){if(!e)return!0;const t=e[0];if(e.length<=1)return"any"!==t;var o;return"=="===t?go(e[1],e[2],"=="):"!="===t?vo(go(e[1],e[2],"==")):"<"===t||">"===t||"<="===t||">="===t?go(e[1],e[2],t):"any"===t?(o=e.slice(1),["any"].concat(o.map(fo))):"all"===t?["all"].concat(e.slice(1).map(fo)):"none"===t?["all"].concat(e.slice(1).map(fo).map(vo)):"in"===t?mo(e[1],e.slice(2)):"!in"===t?vo(mo(e[1],e.slice(2))):"has"===t?yo(e[1]):"!has"===t?vo(yo(e[1])):"within"!==t||e}function go(e,t,o){switch(e){case"$type":return["filter-type-"+o,t];case"$id":return["filter-id-"+o,t];default:return["filter-"+o,e,t]}}function mo(e,t){if(0===t.length)return!1;switch(e){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some(e=>typeof e!=typeof t[0])?["filter-in-large",e,["literal",t.sort(po)]]:["filter-in-small",e,["literal",t]]}}function yo(e){switch(e){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",e]}}function vo(e){return["!",e]}var _o=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function bo(e,t){const o={};for(const t in e)"ref"!==t&&(o[t]=e[t]);return _o.forEach(e=>{e in t&&(o[e]=t[e])}),o}function Ao(e){e=e.slice();const t=Object.create(null);for(let o=0;o<e.length;o++)t[e[o].id]=e[o];for(let o=0;o<e.length;o++)"ref"in e[o]&&(e[o]=bo(e[o],t[e[o].ref]));return e}class Co{constructor(e,t,o,n){this.message=(e?e+": ":"")+o,n&&(this.identifier=n),null!=t&&t.__line__&&(this.line=t.__line__)}}class wo{constructor(e){this.error=e,this.message=e.message;const t=e.message.match(/line (\d+)/);this.line=t?parseInt(t[1],10):0}}function Eo(e){const t=e.key,o=e.value;return o?[new Co(t,o,"constants have been deprecated as of v8")]:[]}function Io(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}function Oo(e){if(Array.isArray(e))return e.map(Oo);if(e instanceof Object&&!(e instanceof Number||e instanceof String||e instanceof Boolean)){const t={};for(const o in e)t[o]=Oo(e[o]);return t}return Io(e)}function So(e){const t=e.key,o=e.value,n=e.valueSpec||{},r=e.objectElementValidators||{},i=e.style,a=e.styleSpec;let s=[];const l=Nt(o);if("object"!==l)return[new Co(t,o,`object expected, ${l} found`)];for(const e in o){const l=e.split(".")[0],c=n[l]||n["*"];let u;if(r[l])u=r[l];else if(n[l])u=qo;else if(r["*"])u=r["*"];else{if(!n["*"]){s.push(new Co(t,o[e],`unknown property "${e}"`));continue}u=qo}s=s.concat(u({key:(t?t+".":t)+e,value:o[e],valueSpec:c,style:i,styleSpec:a,object:o,objectKey:e},o))}for(const e in n)r[e]||n[e].required&&void 0===n[e].default&&void 0===o[e]&&s.push(new Co(t,o,`missing required property "${e}"`));return s}function xo(e){const t=e.value,o=e.valueSpec,n=e.style,r=e.styleSpec,i=e.key,a=e.arrayElementValidator||qo;if("array"!==Nt(t))return[new Co(i,t,`array expected, ${Nt(t)} found`)];if(o.length&&t.length!==o.length)return[new Co(i,t,`array length ${o.length} expected, length ${t.length} found`)];if(o["min-length"]&&t.length<o["min-length"])return[new Co(i,t,`array length at least ${o["min-length"]} expected, length ${t.length} found`)];let s={type:o.value,values:o.values,minimum:o.minimum,maximum:o.maximum};r.$version<7&&(s.function=o.function),"object"===Nt(o.value)&&(s=o.value);let l=[];for(let e=0;e<t.length;e++)l=l.concat(a({array:t,arrayIndex:e,value:t[e],valueSpec:s,style:n,styleSpec:r,key:`${i}[${e}]`}));return l}function jo(e){const t=e.key,o=e.value,n=e.valueSpec;let r=Nt(o);if("number"===r&&o!=o&&(r="NaN"),"number"!==r)return[new Co(t,o,`number expected, ${r} found`)];if("minimum"in n){let r=n.minimum;if("array"===Nt(n.minimum)){const t=e.arrayIndex;r=n.minimum[t]}if(o<r)return[new Co(t,o,`${o} is less than the minimum value ${r}`)]}if("maximum"in n){let r=n.maximum;if("array"===Nt(n.maximum)){const t=e.arrayIndex;r=n.maximum[t]}if(o>r)return[new Co(t,o,`${o} is greater than the maximum value ${r}`)]}return[]}function Po(e){const t=e.valueSpec,o=Io(e.value.type);let n,r,i,a={};const s="categorical"!==o&&void 0===e.value.property,l=!s,c="array"===Nt(e.value.stops)&&"array"===Nt(e.value.stops[0])&&"object"===Nt(e.value.stops[0][0]),u=So({key:e.key,value:e.value,valueSpec:e.styleSpec.function,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{stops:function(e){if("identity"===o)return[new Co(e.key,e.value,'identity function may not have a "stops" property')];let t=[];const n=e.value;t=t.concat(xo({key:e.key,value:n,valueSpec:e.valueSpec,style:e.style,styleSpec:e.styleSpec,arrayElementValidator:d})),"array"===Nt(n)&&0===n.length&&t.push(new Co(e.key,n,"array must have at least one stop"));return t},default:function(e){return qo({key:e.key,value:e.value,valueSpec:t,style:e.style,styleSpec:e.styleSpec})}}});return"identity"===o&&s&&u.push(new Co(e.key,e.value,'missing required property "property"')),"identity"===o||e.value.stops||u.push(new Co(e.key,e.value,'missing required property "stops"')),"exponential"===o&&e.valueSpec.expression&&!Dt(e.valueSpec)&&u.push(new Co(e.key,e.value,"exponential functions not supported")),e.styleSpec.$version>=8&&(l&&!kt(e.valueSpec)?u.push(new Co(e.key,e.value,"property functions not supported")):s&&!Gt(e.valueSpec)&&u.push(new Co(e.key,e.value,"zoom functions not supported"))),"categorical"!==o&&!c||void 0!==e.value.property||u.push(new Co(e.key,e.value,'"property" property is required')),u;function d(e){let o=[];const n=e.value,s=e.key;if("array"!==Nt(n))return[new Co(s,n,`array expected, ${Nt(n)} found`)];if(2!==n.length)return[new Co(s,n,`array length 2 expected, length ${n.length} found`)];if(c){if("object"!==Nt(n[0]))return[new Co(s,n,`object expected, ${Nt(n[0])} found`)];if(void 0===n[0].zoom)return[new Co(s,n,"object stop key must have zoom")];if(void 0===n[0].value)return[new Co(s,n,"object stop key must have value")];if(i&&i>Io(n[0].zoom))return[new Co(s,n[0].zoom,"stop zoom values must appear in ascending order")];Io(n[0].zoom)!==i&&(i=Io(n[0].zoom),r=void 0,a={}),o=o.concat(So({key:s+"[0]",value:n[0],valueSpec:{zoom:{}},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{zoom:jo,value:h}}))}else o=o.concat(h({key:s+"[0]",value:n[0],valueSpec:{},style:e.style,styleSpec:e.styleSpec},n));return Xt(Oo(n[1]))?o.concat([new Co(s+"[1]",n[1],"expressions are not allowed in function stops.")]):o.concat(qo({key:s+"[1]",value:n[1],valueSpec:t,style:e.style,styleSpec:e.styleSpec}))}function h(e,i){const s=Nt(e.value),l=Io(e.value),c=null!==e.value?e.value:i;if(n){if(s!==n)return[new Co(e.key,c,`${s} stop domain type must match previous stop domain type ${n}`)]}else n=s;if("number"!==s&&"string"!==s&&"boolean"!==s)return[new Co(e.key,c,"stop domain value must be a number, string, or boolean")];if("number"!==s&&"categorical"!==o){let n=`number expected, ${s} found`;return kt(t)&&void 0===o&&(n+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Co(e.key,c,n)]}return"categorical"!==o||"number"!==s||isFinite(l)&&Math.floor(l)===l?"categorical"!==o&&"number"===s&&void 0!==r&&l<r?[new Co(e.key,c,"stop domain values must appear in ascending order")]:(r=l,"categorical"===o&&l in a?[new Co(e.key,c,"stop domain values must be unique")]:(a[l]=!0,[])):[new Co(e.key,c,"integer expected, found "+l)]}}function To(e){const t=("property"===e.expressionContext?Qt:Zt)(Oo(e.value),e.valueSpec);if("error"===t.result)return t.value.map(t=>new Co(`${e.key}${t.key}`,e.value,t.message));const o=t.value.expression||t.value._styleExpression.expression;if("property"===e.expressionContext&&"text-font"===e.propertyKey&&!o.outputDefined())return[new Co(e.key,e.value,`Invalid data expression for "${e.propertyKey}". Output values must be contained as literals within the expression.`)];if("property"===e.expressionContext&&"layout"===e.propertyType&&!De(o))return[new Co(e.key,e.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===e.expressionContext&&!De(o))return[new Co(e.key,e.value,'"feature-state" data expressions are not supported with filters.')];if(e.expressionContext&&0===e.expressionContext.indexOf("cluster")){if(!Ne(o,["zoom","feature-state"]))return[new Co(e.key,e.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===e.expressionContext&&!Ge(o))return[new Co(e.key,e.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Mo(e){const t=e.key,o=e.value,n=e.valueSpec,r=[];return Array.isArray(n.values)?-1===n.values.indexOf(Io(o))&&r.push(new Co(t,o,`expected one of [${n.values.join(", ")}], ${JSON.stringify(o)} found`)):-1===Object.keys(n.values).indexOf(Io(o))&&r.push(new Co(t,o,`expected one of [${Object.keys(n.values).join(", ")}], ${JSON.stringify(o)} found`)),r}function Ro(e){return co(Oo(e.value))?To(M({},e,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function e(t){const o=t.value,n=t.key;if("array"!==Nt(o))return[new Co(n,o,`array expected, ${Nt(o)} found`)];const r=t.styleSpec;let i,a=[];if(o.length<1)return[new Co(n,o,"filter array must have at least 1 element")];switch(a=a.concat(Mo({key:n+"[0]",value:o[0],valueSpec:r.filter_operator,style:t.style,styleSpec:t.styleSpec})),Io(o[0])){case"<":case"<=":case">":case">=":o.length>=2&&"$type"===Io(o[1])&&a.push(new Co(n,o,`"$type" cannot be use with operator "${o[0]}"`));case"==":case"!=":3!==o.length&&a.push(new Co(n,o,`filter array for operator "${o[0]}" must have 3 elements`));case"in":case"!in":o.length>=2&&(i=Nt(o[1]),"string"!==i&&a.push(new Co(n+"[1]",o[1],`string expected, ${i} found`)));for(let e=2;e<o.length;e++)i=Nt(o[e]),"$type"===Io(o[1])?a=a.concat(Mo({key:`${n}[${e}]`,value:o[e],valueSpec:r.geometry_type,style:t.style,styleSpec:t.styleSpec})):"string"!==i&&"number"!==i&&"boolean"!==i&&a.push(new Co(`${n}[${e}]`,o[e],`string, number, or boolean expected, ${i} found`));break;case"any":case"all":case"none":for(let r=1;r<o.length;r++)a=a.concat(e({key:`${n}[${r}]`,value:o[r],style:t.style,styleSpec:t.styleSpec}));break;case"has":case"!has":i=Nt(o[1]),2!==o.length?a.push(new Co(n,o,`filter array for "${o[0]}" operator must have 2 elements`)):"string"!==i&&a.push(new Co(n+"[1]",o[1],`string expected, ${i} found`));break;case"within":i=Nt(o[1]),2!==o.length?a.push(new Co(n,o,`filter array for "${o[0]}" operator must have 2 elements`)):"object"!==i&&a.push(new Co(n+"[1]",o[1],`object expected, ${i} found`))}return a}(e)}function Lo(e,t){const o=e.key,n=e.style,r=e.styleSpec,i=e.value,a=e.objectKey,s=r[`${t}_${e.layerType}`];if(!s)return[];const l=a.match(/^(.*)-transition$/);if("paint"===t&&l&&s[l[1]]&&s[l[1]].transition)return qo({key:o,value:i,valueSpec:r.transition,style:n,styleSpec:r});const c=e.valueSpec||s[a];if(!c)return[new Co(o,i,`unknown property "${a}"`)];let u;if("string"===Nt(i)&&kt(c)&&!c.tokens&&(u=/^{([^}]+)}$/.exec(i)))return[new Co(o,i,`"${a}" does not support interpolation syntax\nUse an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(u[1])} }\`.`)];const d=[];return"symbol"===e.layerType&&("text-field"===a&&n&&!n.glyphs&&d.push(new Co(o,i,'use of "text-field" requires a style "glyphs" property')),"text-font"===a&&Ft(Oo(i))&&"identity"===Io(i.type)&&d.push(new Co(o,i,'"text-font" does not support identity functions'))),d.concat(qo({key:e.key,value:i,valueSpec:c,style:n,styleSpec:r,expressionContext:"property",propertyType:t,propertyKey:a}))}function ko(e){return Lo(e,"paint")}function Go(e){return Lo(e,"layout")}function Do(e){let t=[];const o=e.value,n=e.key,r=e.style,i=e.styleSpec;o.type||o.ref||t.push(new Co(n,o,'either "type" or "ref" is required'));let a=Io(o.type);const s=Io(o.ref);if(o.id){const i=Io(o.id);for(let a=0;a<e.arrayIndex;a++){const e=r.layers[a];Io(e.id)===i&&t.push(new Co(n,o.id,`duplicate layer id "${o.id}", previously used at line ${e.id.__line__}`))}}if("ref"in o){let e;["type","source","source-layer","filter","layout"].forEach(e=>{e in o&&t.push(new Co(n,o[e],`"${e}" is prohibited for ref layers`))}),r.layers.forEach(t=>{Io(t.id)===s&&(e=t)}),e?e.ref?t.push(new Co(n,o.ref,"ref cannot reference another ref layer")):a=Io(e.type):t.push(new Co(n,o.ref,`ref layer "${s}" not found`))}else if("background"!==a&&"sky"!==a)if(o.source){const e=r.sources&&r.sources[o.source],i=e&&Io(e.type);e?"vector"===i&&"raster"===a?t.push(new Co(n,o.source,`layer "${o.id}" requires a raster source`)):"raster"===i&&"raster"!==a?t.push(new Co(n,o.source,`layer "${o.id}" requires a vector source`)):"vector"!==i||o["source-layer"]?"raster-dem"===i&&"hillshade"!==a?t.push(new Co(n,o.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==a||!o.paint||!o.paint["line-gradient"]||"geojson"===i&&e.lineMetrics||t.push(new Co(n,o,`layer "${o.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):t.push(new Co(n,o,`layer "${o.id}" must specify a "source-layer"`)):t.push(new Co(n,o.source,`source "${o.source}" not found`))}else t.push(new Co(n,o,'missing required property "source"'));return t=t.concat(So({key:n,value:o,valueSpec:i.layer,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":()=>[],type:()=>qo({key:n+".type",value:o.type,valueSpec:i.layer.type,style:e.style,styleSpec:e.styleSpec,object:o,objectKey:"type"}),filter:Ro,layout:e=>So({layer:o,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":e=>Go(M({layerType:a},e))}}),paint:e=>So({layer:o,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":e=>ko(M({layerType:a},e))}})}})),t}function No(e){const t=e.value,o=e.key,n=Nt(t);return"string"!==n?[new Co(o,t,`string expected, ${n} found`)]:[]}const Fo={promoteId:function({key:e,value:t}){if("string"===Nt(t))return No({key:e,value:t});{const o=[];for(const n in t)o.push(...No({key:`${e}.${n}`,value:t[n]}));return o}}};function Uo(e){const t=e.value,o=e.key,n=e.styleSpec,r=e.style;if(!t.type)return[new Co(o,t,'"type" is required')];const i=Io(t.type);let a;switch(i){case"vector":case"raster":case"raster-dem":return a=So({key:o,value:t,valueSpec:n["source_"+i.replace("-","_")],style:e.style,styleSpec:n,objectElementValidators:Fo}),a;case"geojson":if(a=So({key:o,value:t,valueSpec:n.source_geojson,style:r,styleSpec:n,objectElementValidators:Fo}),t.cluster)for(const e in t.clusterProperties){const[n,r]=t.clusterProperties[e],i="string"==typeof n?[n,["accumulated"],["get",e]]:n;a.push(...To({key:`${o}.${e}.map`,value:r,expressionContext:"cluster-map"})),a.push(...To({key:`${o}.${e}.reduce`,value:i,expressionContext:"cluster-reduce"}))}return a;case"video":return So({key:o,value:t,valueSpec:n.source_video,style:r,styleSpec:n});case"image":return So({key:o,value:t,valueSpec:n.source_image,style:r,styleSpec:n});case"canvas":return[new Co(o,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Mo({key:o+".type",value:t.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:r,styleSpec:n})}}function Bo(e){const t=e.value,o=e.styleSpec,n=o.light,r=e.style;let i=[];const a=Nt(t);if(void 0===t)return i;if("object"!==a)return i=i.concat([new Co("light",t,`object expected, ${a} found`)]),i;for(const e in t){const a=e.match(/^(.*)-transition$/);i=a&&n[a[1]]&&n[a[1]].transition?i.concat(qo({key:e,value:t[e],valueSpec:o.transition,style:r,styleSpec:o})):n[e]?i.concat(qo({key:e,value:t[e],valueSpec:n[e],style:r,styleSpec:o})):i.concat([new Co(e,t[e],`unknown property "${e}"`)])}return i}function zo(e){const t=e.value,o=e.key,n=e.style,r=e.styleSpec,i=r.terrain;let a=[];const s=Nt(t);if(void 0===t)return a;if("object"!==s)return a=a.concat([new Co("terrain",t,`object expected, ${s} found`)]),a;for(const e in t){const o=e.match(/^(.*)-transition$/);a=o&&i[o[1]]&&i[o[1]].transition?a.concat(qo({key:e,value:t[e],valueSpec:r.transition,style:n,styleSpec:r})):i[e]?a.concat(qo({key:e,value:t[e],valueSpec:i[e],style:n,styleSpec:r})):a.concat([new Co(e,t[e],`unknown property "${e}"`)])}if(t.source){const e=n.sources&&n.sources[t.source],r=e&&Io(e.type);e?"raster-dem"!==r&&a.push(new Co(o,t.source,`terrain cannot be used with a source of type ${r}, it only be used with a "raster-dem" source type`)):a.push(new Co(o,t.source,`source "${t.source}" not found`))}else a.push(new Co(o,t,'terrain is missing required property "source"'));return a}function Vo(e){const t=e.value,o=e.style,n=e.styleSpec,r=n.fog;let i=[];const a=Nt(t);if(void 0===t)return i;if("object"!==a)return i=i.concat([new Co("fog",t,`object expected, ${a} found`)]),i;for(const e in t){const a=e.match(/^(.*)-transition$/);i=a&&r[a[1]]&&r[a[1]].transition?i.concat(qo({key:e,value:t[e],valueSpec:n.transition,style:o,styleSpec:n})):r[e]?i.concat(qo({key:e,value:t[e],valueSpec:r[e],style:o,styleSpec:n})):i.concat([new Co(e,t[e],`unknown property "${e}"`)])}return i}const Wo={"*":()=>[],array:xo,boolean:function(e){const t=e.value,o=e.key,n=Nt(t);return"boolean"!==n?[new Co(o,t,`boolean expected, ${n} found`)]:[]},number:jo,color:function(e){const t=e.key,o=e.value,n=Nt(o);return"string"!==n?[new Co(t,o,`color expected, ${n} found`)]:null===J.parseCSSColor(o)?[new Co(t,o,`color expected, "${o}" found`)]:[]},constants:Eo,enum:Mo,filter:Ro,function:Po,layer:Do,object:So,source:Uo,light:Bo,terrain:zo,fog:Vo,string:No,formatted:function(e){return 0===No(e).length?[]:To(e)},resolvedImage:function(e){return 0===No(e).length?[]:To(e)}};function qo(e){const t=e.value,o=e.valueSpec,n=e.styleSpec;if(o.expression&&Ft(Io(t)))return Po(e);if(o.expression&&Xt(Oo(t)))return To(e);if(o.type&&Wo[o.type])return Wo[o.type](e);return So(M({},e,{valueSpec:o.type?n[o.type]:o}))}function Yo(e){const t=e.value,o=e.key,n=No(e);return n.length||(-1===t.indexOf("{fontstack}")&&n.push(new Co(o,t,'"glyphs" url must include a "{fontstack}" token')),-1===t.indexOf("{range}")&&n.push(new Co(o,t,'"glyphs" url must include a "{range}" token'))),n}function Ho(e,t=r){let o=[];return o=o.concat(qo({key:"",value:e,valueSpec:t.$root,styleSpec:t,style:e,objectElementValidators:{glyphs:Yo,"*":()=>[]}})),e.constants&&(o=o.concat(Eo({key:"constants",value:e.constants,style:e,styleSpec:t}))),Xo(o)}function Xo(e){return[].concat(e).sort((e,t)=>e.line-t.line)}function Zo(e){return function(...t){return Xo(e.apply(this,t))}}Ho.source=Zo(Uo),Ho.light=Zo(Bo),Ho.terrain=Zo(zo),Ho.fog=Zo(Vo),Ho.layer=Zo(Do),Ho.filter=Zo(Ro),Ho.paintProperty=Zo(ko),Ho.layoutProperty=Zo(Go);var Ko=a((function(e,t){var o=function(){var e=function(e,t,o,n){for(o=o||{},n=e.length;n--;o[e[n]]=t);return o},t=[1,12],o=[1,13],n=[1,9],r=[1,10],i=[1,11],a=[1,14],s=[1,15],l=[14,18,22,24],c=[18,22],u=[22,24],d={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(e,t,o,n,r,i,a){var s=i.length-1;switch(r){case 1:this.$=new String(e.replace(/\\(\\|")/g,"$1").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b")),this.$.__line__=this._$.first_line;break;case 2:this.$=new Number(e),this.$.__line__=this._$.first_line;break;case 3:this.$=null;break;case 4:this.$=new Boolean(!0),this.$.__line__=this._$.first_line;break;case 5:this.$=new Boolean(!1),this.$.__line__=this._$.first_line;break;case 6:return this.$=i[s-1];case 13:this.$={},Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 14:case 19:this.$=i[s-1],Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 15:this.$=[i[s-2],i[s]];break;case 16:this.$={},this.$[i[s][0]]=i[s][1];break;case 17:this.$=i[s-2],i[s-2][i[s][0]]=i[s][1];break;case 18:this.$=[],Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 20:this.$=[i[s]];break;case 21:this.$=i[s-2],i[s-2].push(i[s])}},table:[{3:5,4:t,5:6,6:o,7:3,8:n,9:4,10:r,11:i,12:1,13:2,15:7,16:8,17:a,23:s},{1:[3]},{14:[1,16]},e(l,[2,7]),e(l,[2,8]),e(l,[2,9]),e(l,[2,10]),e(l,[2,11]),e(l,[2,12]),e(l,[2,3]),e(l,[2,4]),e(l,[2,5]),e([14,18,21,22,24],[2,1]),e(l,[2,2]),{3:20,4:t,18:[1,17],19:18,20:19},{3:5,4:t,5:6,6:o,7:3,8:n,9:4,10:r,11:i,13:23,15:7,16:8,17:a,23:s,24:[1,21],25:22},{1:[2,6]},e(l,[2,13]),{18:[1,24],22:[1,25]},e(c,[2,16]),{21:[1,26]},e(l,[2,18]),{22:[1,28],24:[1,27]},e(u,[2,20]),e(l,[2,14]),{3:20,4:t,20:29},{3:5,4:t,5:6,6:o,7:3,8:n,9:4,10:r,11:i,13:30,15:7,16:8,17:a,23:s},e(l,[2,19]),{3:5,4:t,5:6,6:o,7:3,8:n,9:4,10:r,11:i,13:31,15:7,16:8,17:a,23:s},e(c,[2,17]),e(c,[2,15]),e(u,[2,21])],defaultActions:{16:[2,6]},parseError:function(e,t){if(!t.recoverable)throw new Error(e);this.trace(e)},parse:function(e){var t=this,o=[0],n=[null],r=[],i=this.table,a="",s=0,l=0,c=2,u=1,d=r.slice.call(arguments,1),h=Object.create(this.lexer),p={yy:{}};for(var f in this.yy)Object.prototype.hasOwnProperty.call(this.yy,f)&&(p.yy[f]=this.yy[f]);h.setInput(e,p.yy),p.yy.lexer=h,p.yy.parser=this,void 0===h.yylloc&&(h.yylloc={});var g=h.yylloc;r.push(g);var m=h.options&&h.options.ranges;function y(){var e;return"number"!=typeof(e=h.lex()||u)&&(e=t.symbols_[e]||e),e}"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var v,_,b,A,C,w,E,I,O={};;){if(_=o[o.length-1],this.defaultActions[_]?b=this.defaultActions[_]:(null==v&&(v=y()),b=i[_]&&i[_][v]),void 0===b||!b.length||!b[0]){var S="";for(C in I=[],i[_])this.terminals_[C]&&C>c&&I.push("'"+this.terminals_[C]+"'");S=h.showPosition?"Parse error on line "+(s+1)+":\n"+h.showPosition()+"\nExpecting "+I.join(", ")+", got '"+(this.terminals_[v]||v)+"'":"Parse error on line "+(s+1)+": Unexpected "+(v==u?"end of input":"'"+(this.terminals_[v]||v)+"'"),this.parseError(S,{text:h.match,token:this.terminals_[v]||v,line:h.yylineno,loc:g,expected:I})}if(b[0]instanceof Array&&b.length>1)throw new Error("Parse Error: multiple actions possible at state: "+_+", token: "+v);switch(b[0]){case 1:o.push(v),n.push(h.yytext),r.push(h.yylloc),o.push(b[1]),v=null,l=h.yyleng,a=h.yytext,s=h.yylineno,g=h.yylloc;break;case 2:if(w=this.productions_[b[1]][1],O.$=n[n.length-w],O._$={first_line:r[r.length-(w||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(w||1)].first_column,last_column:r[r.length-1].last_column},m&&(O._$.range=[r[r.length-(w||1)].range[0],r[r.length-1].range[1]]),void 0!==(A=this.performAction.apply(O,[a,l,s,p.yy,b[1],n,r].concat(d))))return A;w&&(o=o.slice(0,-1*w*2),n=n.slice(0,-1*w),r=r.slice(0,-1*w)),o.push(this.productions_[b[1]][0]),n.push(O.$),r.push(O._$),E=i[o[o.length-2]][o[o.length-1]],o.push(E);break;case 3:return!0}}return!0}},h={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,o=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),o.length-1&&(this.yylineno-=o.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:o?(o.length===n.length?this.yylloc.first_column:0)+n[n.length-o.length].length-o[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var o,n,r;if(this.options.backtrack_lexer&&(r={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(r.yylloc.range=this.yylloc.range.slice(0))),(n=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],o=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),o)return o;if(this._backtrack){for(var i in r)this[i]=r[i];return!1}return!1},next:function(){if(this.done)return this.EOF;var e,t,o,n;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),i=0;i<r.length;i++)if((o=this._input.match(this.rules[r[i]]))&&(!t||o[0].length>t[0].length)){if(t=o,n=i,this.options.backtrack_lexer){if(!1!==(e=this.test_match(o,r[i])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,r[n]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return e||this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(e,t,o,n){switch(o){case 0:break;case 1:return 6;case 2:return t.yytext=t.yytext.substr(1,t.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}};function p(){this.yy={}}return d.lexer=h,p.prototype=d,d.Parser=p,new p}();void 0!==s&&(t.parser=o,t.Parser=o.Parser,t.parse=function(){return o.parse.apply(o,arguments)})}));function Jo(e){if(e instanceof String||"string"==typeof e||e instanceof n)try{return Ko.parse(e.toString())}catch(e){throw new wo(e)}return e}function Qo(e,t=r){let o=e;try{o=Jo(o)}catch(e){return[e]}return Ho(o,t)}new Set(["vector","raster","raster-dem"]);const $o={StyleExpression:Ht,isExpression:Xt,isExpressionFilter:co,createExpression:Zt,createPropertyExpression:Qt,normalizePropertyExpression:function(e,t){if(Ft(e))return new $t(e,t);if(Xt(e)){const o=Qt(e,t);if("error"===o.result)throw new Error(o.value.map(e=>`${e.key}: ${e.message}`).join(", "));return o.value}{let o=e;return"string"==typeof e&&"color"===t.type&&(o=Q.parse(e)),{kind:"constant",evaluate:()=>o}}},ZoomConstantExpression:Kt,ZoomDependentExpression:Jt,StylePropertyFunction:$t},en={convertFunction:to,createFunction:Bt,isFunction:Ft};Qo.parsed=Qo,Qo.latest=Qo}).call(this,o("./node_modules/webpack/buildin/global.js"),o("./node_modules/buffer/index.js").Buffer)},"./node_modules/@petamoriken/float16/browser/float16.js":function(e,t){
/*! @petamoriken/float16 v3.8.7 | MIT License - https://github.com/petamoriken/float16 */
!function(e){"use strict";function t(e){return(t,...o)=>n(e,t,o)}function o(e,o){return t(s(e,o).get)}const{apply:n,construct:r,defineProperty:i,get:a,getOwnPropertyDescriptor:s,getPrototypeOf:l,has:c,ownKeys:u,set:d,setPrototypeOf:h}=Reflect,p=Proxy,{EPSILON:f,MAX_SAFE_INTEGER:g,isFinite:m,isNaN:y}=Number,{iterator:v,species:_,toStringTag:b,for:A}=Symbol,C=Object,{create:w,defineProperty:E,freeze:I,is:O}=C,S=C.prototype,x=S.__lookupGetter__?t(S.__lookupGetter__):(e,t)=>{if(null==e)throw we("Cannot convert undefined or null to object");let o=C(e);do{const e=s(o,t);if(void 0!==e)return j(e,"get")?e.get:void 0}while(null!==(o=l(o)))},j=C.hasOwn||t(S.hasOwnProperty),P=Array,T=P.isArray,M=P.prototype,R=t(M.join),L=t(M.push),k=t(M.toLocaleString),G=M[v],D=t(G),{abs:N,trunc:F}=Math,U=ArrayBuffer,B=U.isView,z=U.prototype,V=t(z.slice),W=o(z,"byteLength"),q="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:null,Y=q&&o(q.prototype,"byteLength"),H=l(Uint8Array),X=H.from,Z=H.prototype,K=Z[v],J=t(Z.keys),Q=t(Z.values),$=t(Z.entries),ee=t(Z.set),te=t(Z.reverse),oe=t(Z.fill),ne=t(Z.copyWithin),re=t(Z.sort),ie=t(Z.slice),ae=t(Z.subarray),se=o(Z,"buffer"),le=o(Z,"byteOffset"),ce=o(Z,"length"),ue=o(Z,b),de=Uint8Array,he=Uint16Array,pe=(...e)=>n(X,he,e),fe=Uint32Array,ge=Float32Array,me=l([][v]()),ye=t(me.next),ve=t(function*(){}().next),_e=l(me),be=DataView.prototype,Ae=t(be.getUint16),Ce=t(be.setUint16),we=TypeError,Ee=RangeError,Ie=WeakSet,Oe=Ie.prototype,Se=t(Oe.add),xe=t(Oe.has),je=WeakMap,Pe=je.prototype,Te=t(Pe.get),Me=t(Pe.has),Re=t(Pe.set),Le=new je,ke=w(null,{next:{value:function(){const e=Te(Le,this);return ye(e)}},[v]:{value:function(){return this}}});function Ge(e){if(e[v]===G&&me.next===ye)return e;const t=w(ke);return Re(Le,t,D(e)),t}const De=new je,Ne=w(_e,{next:{value:function(){const e=Te(De,this);return ve(e)},writable:!0,configurable:!0}});for(const e of u(me))"next"!==e&&E(Ne,e,s(me,e));function Fe(e){const t=w(Ne);return Re(De,t,e),t}function Ue(e){return null!==e&&"object"==typeof e||"function"==typeof e}function Be(e){return null!==e&&"object"==typeof e}function ze(e){return void 0!==ue(e)}function Ve(e){const t=ue(e);return"BigInt64Array"===t||"BigUint64Array"===t}function We(e){if(null===q)return!1;try{return Y(e),!0}catch(e){return!1}}function qe(e){return function(e){try{return!T(e)&&(W(e),!0)}catch(e){return!1}}(e)||We(e)}function Ye(e){return!!T(e)&&(e[v]===G&&me.next===ye)}function He(e){if("string"!=typeof e)return!1;const t=+e;return e===t+""&&(!!m(t)&&t===F(t))}const Xe=A("__Float16Array__");const Ze=1/f;const Ke=.0009765625*Ze;function Je(e){const t=+e;if(!m(t)||0===t)return t;const o=t>0?1:-1,n=N(t);if(n<6103515625e-14)return o*function(e){return e+Ze-Ze}(n/5.960464477539063e-8)*5.960464477539063e-8;const r=(1+Ke)*n,i=r-(r-n);return i>65504||y(i)?o*(1/0):o*i}const Qe=new U(4),$e=new ge(Qe),et=new fe(Qe),tt=new he(512),ot=new de(512);for(let e=0;e<256;++e){const t=e-127;t<-24?(tt[e]=0,tt[256|e]=32768,ot[e]=24,ot[256|e]=24):t<-14?(tt[e]=1024>>-t-14,tt[256|e]=1024>>-t-14|32768,ot[e]=-t-1,ot[256|e]=-t-1):t<=15?(tt[e]=t+15<<10,tt[256|e]=t+15<<10|32768,ot[e]=13,ot[256|e]=13):t<128?(tt[e]=31744,tt[256|e]=64512,ot[e]=24,ot[256|e]=24):(tt[e]=31744,tt[256|e]=64512,ot[e]=13,ot[256|e]=13)}function nt(e){$e[0]=Je(e);const t=et[0],o=t>>23&511;return tt[o]+((8388607&t)>>ot[o])}const rt=new fe(2048);for(let e=1;e<1024;++e){let t=e<<13,o=0;for(;0==(8388608&t);)t<<=1,o-=8388608;t&=-8388609,o+=947912704,rt[e]=t|o}for(let e=1024;e<2048;++e)rt[e]=939524096+(e-1024<<13);const it=new fe(64);for(let e=1;e<31;++e)it[e]=e<<23;it[31]=1199570944,it[32]=2147483648;for(let e=33;e<63;++e)it[e]=2147483648+(e-32<<23);it[63]=3347054592;const at=new he(64);for(let e=1;e<64;++e)32!==e&&(at[e]=1024);function st(e){const t=e>>10;return et[0]=rt[at[t]+(1023&e)]+it[t],$e[0]}function lt(e){const t=+e;return y(t)||0===t?0:F(t)}function ct(e){const t=lt(e);return t<0?0:t<g?t:g}function ut(e,t){if(!Ue(e))throw we("This is not an object");const o=e.constructor;if(void 0===o)return t;if(!Ue(o))throw we("The constructor property value is not an object");const n=o[_];return null==n?t:n}function dt(e){if(We(e))return!1;try{return V(e,0,0),!1}catch(e){}return!0}function ht(e,t){const o=y(e),n=y(t);if(o&&n)return 0;if(o)return 1;if(n)return-1;if(e<t)return-1;if(e>t)return 1;if(0===e&&0===t){const o=O(e,0),n=O(t,0);if(!o&&n)return-1;if(o&&!n)return 1}return 0}const pt=new je;function ft(e){return Me(pt,e)||!B(e)&&function(e){if(!Be(e))return!1;const t=l(e);if(!Be(t))return!1;const o=t.constructor;if(void 0===o)return!1;if(!Ue(o))throw we("The constructor property value is not an object");return c(o,Xe)}(e)}function gt(e){if(!ft(e))throw we("This is not a Float16Array object")}function mt(e,t){const o=ft(e),n=ze(e);if(!o&&!n)throw we("Species constructor didn't return TypedArray object");if("number"==typeof t){let n;if(o){const t=yt(e);n=ce(t)}else n=ce(e);if(n<t)throw we("Derived constructor created TypedArray object which was too small length")}if(Ve(e))throw we("Cannot mix BigInt and other types, use explicit conversions")}function yt(e){const t=Te(pt,e);if(void 0!==t){if(dt(se(t)))throw we("Attempting to access detached ArrayBuffer");return t}const o=e.buffer;if(dt(o))throw we("Attempting to access detached ArrayBuffer");const n=r(At,[o,e.byteOffset,e.length],e.constructor);return Te(pt,n)}function vt(e){const t=ce(e),o=[];for(let n=0;n<t;++n)o[n]=st(e[n]);return o}const _t=new Ie;for(const e of u(Z)){if(e===b)continue;const t=s(Z,e);j(t,"get")&&"function"==typeof t.get&&Se(_t,t.get)}const bt=I({get:(e,t,o)=>He(t)&&j(e,t)?st(a(e,t)):xe(_t,x(e,t))?a(e,t):a(e,t,o),set:(e,t,o,n)=>He(t)&&j(e,t)?d(e,t,nt(o)):d(e,t,o,n),getOwnPropertyDescriptor(e,t){if(He(t)&&j(e,t)){const o=s(e,t);return o.value=st(o.value),o}return s(e,t)},defineProperty:(e,t,o)=>He(t)&&j(e,t)&&j(o,"value")?(o.value=nt(o.value),i(e,t,o)):i(e,t,o)});class At{constructor(e,t,o){let n;if(ft(e))n=r(he,[yt(e)],new.target);else if(Ue(e)&&!qe(e)){let t,o;if(ze(e)){t=e,o=ce(e);if(dt(se(e)))throw we("Attempting to access detached ArrayBuffer");if(Ve(e))throw we("Cannot mix BigInt and other types, use explicit conversions");const i=new U(2*o);n=r(he,[i],new.target)}else{const i=e[v];if(null!=i&&"function"!=typeof i)throw we("@@iterator property is not callable");null!=i?Ye(e)?(t=e,o=e.length):(t=[...e],o=t.length):(t=e,o=ct(t.length)),n=r(he,[o],new.target)}for(let e=0;e<o;++e)n[e]=nt(t[e])}else n=r(he,arguments,new.target);const i=new p(n,bt);return Re(pt,i,n),i}static from(e,...t){if(!c(this,Xe))throw we("This constructor is not a subclass of Float16Array");if(this===At){if(ft(e)&&0===t.length){const t=yt(e),o=new he(se(t),le(t),ce(t));return new At(se(ie(o)))}if(0===t.length)return new At(se(pe(e,nt)));const o=t[0],r=t[1];return new At(se(pe(e,(function(e,...t){return nt(n(o,this,[e,...Ge(t)]))}),r)))}let o,r;const i=e[v];if(null!=i&&"function"!=typeof i)throw we("@@iterator property is not callable");if(null!=i)Ye(e)?(o=e,r=e.length):ze(a=e)&&a[v]===K&&me.next===ye?(o=e,r=ce(e)):(o=[...e],r=o.length);else{if(null==e)throw we("Cannot convert undefined or null to object");o=C(e),r=ct(o.length)}var a;const s=new this(r);if(0===t.length)for(let e=0;e<r;++e)s[e]=o[e];else{const e=t[0],i=t[1];for(let t=0;t<r;++t)s[t]=n(e,i,[o[t],t])}return s}static of(...e){if(!c(this,Xe))throw we("This constructor is not a subclass of Float16Array");const t=e.length;if(this===At){const o=new At(t),n=yt(o);for(let o=0;o<t;++o)n[o]=nt(e[o]);return o}const o=new this(t);for(let n=0;n<t;++n)o[n]=e[n];return o}keys(){gt(this);const e=yt(this);return J(e)}values(){gt(this);const e=yt(this);return Fe(function*(){for(const t of Q(e))yield st(t)}())}entries(){gt(this);const e=yt(this);return Fe(function*(){for(const[t,o]of $(e))yield[t,st(o)]}())}at(e){gt(this);const t=yt(this),o=ce(t),n=lt(e),r=n>=0?n:o+n;if(!(r<0||r>=o))return st(t[r])}with(e,t){gt(this);const o=yt(this),n=ce(o),r=lt(e),i=r>=0?r:n+r,a=+t;if(i<0||i>=n)throw Ee("Offset is out of bounds");const s=new he(se(o),le(o),ce(o)),l=new At(se(ie(s)));return yt(l)[i]=nt(a),l}map(e,...t){gt(this);const o=yt(this),r=ce(o),i=t[0],a=ut(o,At);if(a===At){const t=new At(r),a=yt(t);for(let t=0;t<r;++t){const r=st(o[t]);a[t]=nt(n(e,i,[r,t,this]))}return t}const s=new a(r);mt(s,r);for(let t=0;t<r;++t){const r=st(o[t]);s[t]=n(e,i,[r,t,this])}return s}filter(e,...t){gt(this);const o=yt(this),r=ce(o),i=t[0],a=[];for(let t=0;t<r;++t){const r=st(o[t]);n(e,i,[r,t,this])&&L(a,r)}const s=new(ut(o,At))(a);return mt(s),s}reduce(e,...t){gt(this);const o=yt(this),n=ce(o);if(0===n&&0===t.length)throw we("Reduce of empty array with no initial value");let r,i;0===t.length?(r=st(o[0]),i=1):(r=t[0],i=0);for(let t=i;t<n;++t)r=e(r,st(o[t]),t,this);return r}reduceRight(e,...t){gt(this);const o=yt(this),n=ce(o);if(0===n&&0===t.length)throw we("Reduce of empty array with no initial value");let r,i;0===t.length?(r=st(o[n-1]),i=n-2):(r=t[0],i=n-1);for(let t=i;t>=0;--t)r=e(r,st(o[t]),t,this);return r}forEach(e,...t){gt(this);const o=yt(this),r=ce(o),i=t[0];for(let t=0;t<r;++t)n(e,i,[st(o[t]),t,this])}find(e,...t){gt(this);const o=yt(this),r=ce(o),i=t[0];for(let t=0;t<r;++t){const r=st(o[t]);if(n(e,i,[r,t,this]))return r}}findIndex(e,...t){gt(this);const o=yt(this),r=ce(o),i=t[0];for(let t=0;t<r;++t){const r=st(o[t]);if(n(e,i,[r,t,this]))return t}return-1}findLast(e,...t){gt(this);const o=yt(this),r=ce(o),i=t[0];for(let t=r-1;t>=0;--t){const r=st(o[t]);if(n(e,i,[r,t,this]))return r}}findLastIndex(e,...t){gt(this);const o=yt(this),r=ce(o),i=t[0];for(let t=r-1;t>=0;--t){const r=st(o[t]);if(n(e,i,[r,t,this]))return t}return-1}every(e,...t){gt(this);const o=yt(this),r=ce(o),i=t[0];for(let t=0;t<r;++t)if(!n(e,i,[st(o[t]),t,this]))return!1;return!0}some(e,...t){gt(this);const o=yt(this),r=ce(o),i=t[0];for(let t=0;t<r;++t)if(n(e,i,[st(o[t]),t,this]))return!0;return!1}set(e,...t){gt(this);const o=yt(this),n=lt(t[0]);if(n<0)throw Ee("Offset is out of bounds");if(null==e)throw we("Cannot convert undefined or null to object");if(Ve(e))throw we("Cannot mix BigInt and other types, use explicit conversions");if(ft(e))return ee(yt(this),yt(e),n);if(ze(e)){if(dt(se(e)))throw we("Attempting to access detached ArrayBuffer")}const r=ce(o),i=C(e),a=ct(i.length);if(n===1/0||a+n>r)throw Ee("Offset is out of bounds");for(let e=0;e<a;++e)o[e+n]=nt(i[e])}reverse(){gt(this);const e=yt(this);return te(e),this}toReversed(){gt(this);const e=yt(this),t=new he(se(e),le(e),ce(e)),o=new At(se(ie(t))),n=yt(o);return te(n),o}fill(e,...t){gt(this);const o=yt(this);return oe(o,nt(e),...Ge(t)),this}copyWithin(e,t,...o){gt(this);const n=yt(this);return ne(n,e,t,...Ge(o)),this}sort(e){gt(this);const t=yt(this),o=void 0!==e?e:ht;return re(t,(e,t)=>o(st(e),st(t))),this}toSorted(e){gt(this);const t=yt(this);if(void 0!==e&&"function"!=typeof e)throw new we("The comparison function must be either a function or undefined");const o=void 0!==e?e:ht,n=new he(se(t),le(t),ce(t)),r=new At(se(ie(n))),i=yt(r);return re(i,(e,t)=>o(st(e),st(t))),r}slice(e,t){gt(this);const o=yt(this),n=ut(o,At);if(n===At){const n=new he(se(o),le(o),ce(o));return new At(se(ie(n,e,t)))}const r=ce(o),i=lt(e),a=void 0===t?r:lt(t);let s,l;s=i===-1/0?0:i<0?r+i>0?r+i:0:r<i?r:i,l=a===-1/0?0:a<0?r+a>0?r+a:0:r<a?r:a;const c=l-s>0?l-s:0,u=new n(c);if(mt(u,c),0===c)return u;if(dt(se(o)))throw we("Attempting to access detached ArrayBuffer");let d=0;for(;s<l;)u[d]=st(o[s]),++s,++d;return u}subarray(e,t){gt(this);const o=yt(this),n=ut(o,At),r=new he(se(o),le(o),ce(o)),i=ae(r,e,t),a=new n(se(i),le(i),ce(i));return mt(a),a}indexOf(e,...t){gt(this);const o=yt(this),n=ce(o);let r=lt(t[0]);if(r===1/0)return-1;r<0&&(r+=n,r<0&&(r=0));for(let t=r;t<n;++t)if(j(o,t)&&st(o[t])===e)return t;return-1}lastIndexOf(e,...t){gt(this);const o=yt(this),n=ce(o);let r=t.length>=1?lt(t[0]):n-1;if(r===-1/0)return-1;r>=0?r=r<n-1?r:n-1:r+=n;for(let t=r;t>=0;--t)if(j(o,t)&&st(o[t])===e)return t;return-1}includes(e,...t){gt(this);const o=yt(this),n=ce(o);let r=lt(t[0]);if(r===1/0)return!1;r<0&&(r+=n,r<0&&(r=0));const i=y(e);for(let t=r;t<n;++t){const n=st(o[t]);if(i&&y(n))return!0;if(n===e)return!0}return!1}join(e){gt(this);const t=vt(yt(this));return R(t,e)}toLocaleString(...e){gt(this);const t=vt(yt(this));return k(t,...Ge(e))}get[b](){if(ft(this))return"Float16Array"}}E(At,"BYTES_PER_ELEMENT",{value:2}),E(At,Xe,{}),h(At,H);const Ct=At.prototype;function wt(e){return Je(e)}E(Ct,"BYTES_PER_ELEMENT",{value:2}),E(Ct,v,{value:Ct.values,writable:!0,configurable:!0}),h(Ct,Z),e.Float16Array=At,e.f16round=wt,e.getFloat16=function(e,t,...o){return st(Ae(e,t,...Ge(o)))},e.hfround=wt,e.isFloat16Array=ft,e.isTypedArray=function(e){return ze(e)||ft(e)},e.setFloat16=function(e,t,o,...n){return Ce(e,t,nt(o),...Ge(n))},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}({})},"./node_modules/@xmldom/xmldom/lib/conventions.js":function(e,t,o){"use strict";function n(e,t){return void 0===t&&(t=Object),t&&"function"==typeof t.freeze?t.freeze(e):e}var r=n({HTML:"text/html",isHTML:function(e){return e===r.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),i=n({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(e){return e===i.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});t.assign=function(e,t){if(null===e||"object"!=typeof e)throw new TypeError("target is not an object");for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},t.find=function(e,t,o){if(void 0===o&&(o=Array.prototype),e&&"function"==typeof o.find)return o.find.call(e,t);for(var n=0;n<e.length;n++)if(Object.prototype.hasOwnProperty.call(e,n)){var r=e[n];if(t.call(void 0,r,n,e))return r}},t.freeze=n,t.MIME_TYPE=r,t.NAMESPACE=i},"./node_modules/@xmldom/xmldom/lib/dom-parser.js":function(e,t,o){var n=o("./node_modules/@xmldom/xmldom/lib/conventions.js"),r=o("./node_modules/@xmldom/xmldom/lib/dom.js"),i=o("./node_modules/@xmldom/xmldom/lib/entities.js"),a=o("./node_modules/@xmldom/xmldom/lib/sax.js"),s=r.DOMImplementation,l=n.NAMESPACE,c=a.ParseError,u=a.XMLReader;function d(e){return e.replace(/\r[\n\u0085]/g,"\n").replace(/[\r\u0085\u2028]/g,"\n")}function h(e){this.options=e||{locator:{}}}function p(){this.cdata=!1}function f(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function g(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function m(e,t,o){return"string"==typeof e?e.substr(t,o):e.length>=t+o||t?new java.lang.String(e,t,o)+"":e}function y(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}h.prototype.parseFromString=function(e,t){var o=this.options,n=new u,r=o.domBuilder||new p,a=o.errorHandler,s=o.locator,c=o.xmlns||{},h=/\/x?html?$/.test(t),f=h?i.HTML_ENTITIES:i.XML_ENTITIES;s&&r.setDocumentLocator(s),n.errorHandler=function(e,t,o){if(!e){if(t instanceof p)return t;e=t}var n={},r=e instanceof Function;function i(t){var i=e[t];!i&&r&&(i=2==e.length?function(o){e(t,o)}:e),n[t]=i&&function(e){i("[xmldom "+t+"]\t"+e+g(o))}||function(){}}return o=o||{},i("warning"),i("error"),i("fatalError"),n}(a,r,s),n.domBuilder=o.domBuilder||r,h&&(c[""]=l.HTML),c.xml=c.xml||l.XML;var m=o.normalizeLineEndings||d;return e&&"string"==typeof e?n.parse(m(e),c,f):n.errorHandler.error("invalid doc source"),r.doc},p.prototype={startDocument:function(){this.doc=(new s).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,o,n){var r=this.doc,i=r.createElementNS(e,o||t),a=n.length;y(this,i),this.currentElement=i,this.locator&&f(this.locator,i);for(var s=0;s<a;s++){e=n.getURI(s);var l=n.getValue(s),c=(o=n.getQName(s),r.createAttributeNS(e,o));this.locator&&f(n.getLocator(s),c),c.value=c.nodeValue=l,i.setAttributeNode(c)}},endElement:function(e,t,o){var n=this.currentElement;n.tagName;this.currentElement=n.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var o=this.doc.createProcessingInstruction(e,t);this.locator&&f(this.locator,o),y(this,o)},ignorableWhitespace:function(e,t,o){},characters:function(e,t,o){if(e=m.apply(this,arguments)){if(this.cdata)var n=this.doc.createCDATASection(e);else n=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(e)&&this.doc.appendChild(n),this.locator&&f(this.locator,n)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,o){e=m.apply(this,arguments);var n=this.doc.createComment(e);this.locator&&f(this.locator,n),y(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,o){var n=this.doc.implementation;if(n&&n.createDocumentType){var r=n.createDocumentType(e,t,o);this.locator&&f(this.locator,r),y(this,r),this.doc.doctype=r}},warning:function(e){console.warn("[xmldom warning]\t"+e,g(this.locator))},error:function(e){console.error("[xmldom error]\t"+e,g(this.locator))},fatalError:function(e){throw new c(e,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(e){p.prototype[e]=function(){return null}})),t.__DOMHandler=p,t.normalizeLineEndings=d,t.DOMParser=h},"./node_modules/@xmldom/xmldom/lib/dom.js":function(e,t,o){var n=o("./node_modules/@xmldom/xmldom/lib/conventions.js"),r=n.find,i=n.NAMESPACE;function a(e){return""!==e}function s(e,t){return e.hasOwnProperty(t)||(e[t]=!0),e}function l(e){if(!e)return[];var t=function(e){return e?e.split(/[\t\n\f\r ]+/).filter(a):[]}(e);return Object.keys(t.reduce(s,{}))}function c(e,t){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}function u(e,t){var o=e.prototype;if(!(o instanceof t)){function n(){}n.prototype=t.prototype,c(o,n=new n),e.prototype=o=n}o.constructor!=e&&("function"!=typeof e&&console.error("unknown Class:"+e),o.constructor=e)}var d={},h=d.ELEMENT_NODE=1,p=d.ATTRIBUTE_NODE=2,f=d.TEXT_NODE=3,g=d.CDATA_SECTION_NODE=4,m=d.ENTITY_REFERENCE_NODE=5,y=d.ENTITY_NODE=6,v=d.PROCESSING_INSTRUCTION_NODE=7,_=d.COMMENT_NODE=8,b=d.DOCUMENT_NODE=9,A=d.DOCUMENT_TYPE_NODE=10,C=d.DOCUMENT_FRAGMENT_NODE=11,w=d.NOTATION_NODE=12,E={},I={},O=(E.INDEX_SIZE_ERR=(I[1]="Index size error",1),E.DOMSTRING_SIZE_ERR=(I[2]="DOMString size error",2),E.HIERARCHY_REQUEST_ERR=(I[3]="Hierarchy request error",3)),S=(E.WRONG_DOCUMENT_ERR=(I[4]="Wrong document",4),E.INVALID_CHARACTER_ERR=(I[5]="Invalid character",5),E.NO_DATA_ALLOWED_ERR=(I[6]="No data allowed",6),E.NO_MODIFICATION_ALLOWED_ERR=(I[7]="No modification allowed",7),E.NOT_FOUND_ERR=(I[8]="Not found",8)),x=(E.NOT_SUPPORTED_ERR=(I[9]="Not supported",9),E.INUSE_ATTRIBUTE_ERR=(I[10]="Attribute in use",10));E.INVALID_STATE_ERR=(I[11]="Invalid state",11),E.SYNTAX_ERR=(I[12]="Syntax error",12),E.INVALID_MODIFICATION_ERR=(I[13]="Invalid modification",13),E.NAMESPACE_ERR=(I[14]="Invalid namespace",14),E.INVALID_ACCESS_ERR=(I[15]="Invalid access",15);function j(e,t){if(t instanceof Error)var o=t;else o=this,Error.call(this,I[e]),this.message=I[e],Error.captureStackTrace&&Error.captureStackTrace(this,j);return o.code=e,t&&(this.message=this.message+": "+t),o}function P(){}function T(e,t){this._node=e,this._refresh=t,M(this)}function M(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!==t){var o=e._refresh(e._node);if(ye(e,"length",o.length),!e.$$length||o.length<e.$$length)for(var n=o.length;n in e;n++)Object.prototype.hasOwnProperty.call(e,n)&&delete e[n];c(o,e),e._inc=t}}function R(){}function L(e,t){for(var o=e.length;o--;)if(e[o]===t)return o}function k(e,t,o,n){if(n?t[L(t,n)]=o:t[t.length++]=o,e){o.ownerElement=e;var r=e.ownerDocument;r&&(n&&z(r,e,n),function(e,t,o){e&&e._inc++,o.namespaceURI===i.XMLNS&&(t._nsMap[o.prefix?o.localName:""]=o.value)}(r,e,o))}}function G(e,t,o){var n=L(t,o);if(!(n>=0))throw new j(S,new Error(e.tagName+"@"+o));for(var r=t.length-1;n<r;)t[n]=t[++n];if(t.length=r,e){var i=e.ownerDocument;i&&(z(i,e,o),o.ownerElement=null)}}function D(){}function N(){}function F(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function U(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(U(e,t))return!0}while(e=e.nextSibling)}function B(){this.ownerDocument=this}function z(e,t,o,n){e&&e._inc++,o.namespaceURI===i.XMLNS&&delete t._nsMap[o.prefix?o.localName:""]}function V(e,t,o){if(e&&e._inc){e._inc++;var n=t.childNodes;if(o)n[n.length++]=o;else{for(var r=t.firstChild,i=0;r;)n[i++]=r,r=r.nextSibling;n.length=i,delete n[n.length]}}}function W(e,t){var o=t.previousSibling,n=t.nextSibling;return o?o.nextSibling=n:e.firstChild=n,n?n.previousSibling=o:e.lastChild=o,t.parentNode=null,t.previousSibling=null,t.nextSibling=null,V(e.ownerDocument,e),t}function q(e){return e&&e.nodeType===N.DOCUMENT_TYPE_NODE}function Y(e){return e&&e.nodeType===N.ELEMENT_NODE}function H(e){return e&&e.nodeType===N.TEXT_NODE}function X(e,t){var o=e.childNodes||[];if(r(o,Y)||q(t))return!1;var n=r(o,q);return!(t&&n&&o.indexOf(n)>o.indexOf(t))}function Z(e,t){var o=e.childNodes||[];if(r(o,(function(e){return Y(e)&&e!==t})))return!1;var n=r(o,q);return!(t&&n&&o.indexOf(n)>o.indexOf(t))}function K(e,t,o){if(!function(e){return e&&(e.nodeType===N.DOCUMENT_NODE||e.nodeType===N.DOCUMENT_FRAGMENT_NODE||e.nodeType===N.ELEMENT_NODE)}(e))throw new j(O,"Unexpected parent node type "+e.nodeType);if(o&&o.parentNode!==e)throw new j(S,"child not in parent");if(!function(e){return e&&(Y(e)||H(e)||q(e)||e.nodeType===N.DOCUMENT_FRAGMENT_NODE||e.nodeType===N.COMMENT_NODE||e.nodeType===N.PROCESSING_INSTRUCTION_NODE)}(t)||q(t)&&e.nodeType!==N.DOCUMENT_NODE)throw new j(O,"Unexpected node type "+t.nodeType+" for parent node type "+e.nodeType)}function J(e,t,o){var n=e.childNodes||[],i=t.childNodes||[];if(t.nodeType===N.DOCUMENT_FRAGMENT_NODE){var a=i.filter(Y);if(a.length>1||r(i,H))throw new j(O,"More than one element or text in fragment");if(1===a.length&&!X(e,o))throw new j(O,"Element in fragment can not be inserted before doctype")}if(Y(t)&&!X(e,o))throw new j(O,"Only one element can be added and only after doctype");if(q(t)){if(r(n,q))throw new j(O,"Only one doctype is allowed");var s=r(n,Y);if(o&&n.indexOf(s)<n.indexOf(o))throw new j(O,"Doctype can only be inserted before an element");if(!o&&s)throw new j(O,"Doctype can not be appended since element is present")}}function Q(e,t,o){var n=e.childNodes||[],i=t.childNodes||[];if(t.nodeType===N.DOCUMENT_FRAGMENT_NODE){var a=i.filter(Y);if(a.length>1||r(i,H))throw new j(O,"More than one element or text in fragment");if(1===a.length&&!Z(e,o))throw new j(O,"Element in fragment can not be inserted before doctype")}if(Y(t)&&!Z(e,o))throw new j(O,"Only one element can be added and only after doctype");if(q(t)){if(r(n,(function(e){return q(e)&&e!==o})))throw new j(O,"Only one doctype is allowed");var s=r(n,Y);if(o&&n.indexOf(s)<n.indexOf(o))throw new j(O,"Doctype can only be inserted before an element")}}function $(e,t,o,n){K(e,t,o),e.nodeType===N.DOCUMENT_NODE&&(n||J)(e,t,o);var r=t.parentNode;if(r&&r.removeChild(t),t.nodeType===C){var i=t.firstChild;if(null==i)return t;var a=t.lastChild}else i=a=t;var s=o?o.previousSibling:e.lastChild;i.previousSibling=s,a.nextSibling=o,s?s.nextSibling=i:e.firstChild=i,null==o?e.lastChild=a:o.previousSibling=a;do{i.parentNode=e}while(i!==a&&(i=i.nextSibling));return V(e.ownerDocument||e,e),t.nodeType==C&&(t.firstChild=t.lastChild=null),t}function ee(){this._nsMap={}}function te(){}function oe(){}function ne(){}function re(){}function ie(){}function ae(){}function se(){}function le(){}function ce(){}function ue(){}function de(){}function he(){}function pe(e,t){var o=[],n=9==this.nodeType&&this.documentElement||this,r=n.prefix,i=n.namespaceURI;if(i&&null==r&&null==(r=n.lookupPrefix(i)))var a=[{namespace:i,prefix:null}];return me(this,o,e,t,a),o.join("")}function fe(e,t,o){var n=e.prefix||"",r=e.namespaceURI;if(!r)return!1;if("xml"===n&&r===i.XML||r===i.XMLNS)return!1;for(var a=o.length;a--;){var s=o[a];if(s.prefix===n)return s.namespace!==r}return!0}function ge(e,t,o){e.push(" ",t,'="',o.replace(/[<>&"\t\n\r]/g,F),'"')}function me(e,t,o,n,r){if(r||(r=[]),n){if(!(e=n(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case h:var a=e.attributes,s=a.length,l=e.firstChild,c=e.tagName,u=c;if(!(o=i.isHTML(e.namespaceURI)||o)&&!e.prefix&&e.namespaceURI){for(var d,y=0;y<a.length;y++)if("xmlns"===a.item(y).name){d=a.item(y).value;break}if(!d)for(var w=r.length-1;w>=0;w--){if(""===(E=r[w]).prefix&&E.namespace===e.namespaceURI){d=E.namespace;break}}if(d!==e.namespaceURI)for(w=r.length-1;w>=0;w--){var E;if((E=r[w]).namespace===e.namespaceURI){E.prefix&&(u=E.prefix+":"+c);break}}}t.push("<",u);for(var I=0;I<s;I++){"xmlns"==(O=a.item(I)).prefix?r.push({prefix:O.localName,namespace:O.value}):"xmlns"==O.nodeName&&r.push({prefix:"",namespace:O.value})}for(I=0;I<s;I++){var O,S,x;if(fe(O=a.item(I),0,r))ge(t,(S=O.prefix||"")?"xmlns:"+S:"xmlns",x=O.namespaceURI),r.push({prefix:S,namespace:x});me(O,t,o,n,r)}if(c===u&&fe(e,0,r))ge(t,(S=e.prefix||"")?"xmlns:"+S:"xmlns",x=e.namespaceURI),r.push({prefix:S,namespace:x});if(l||o&&!/^(?:meta|link|img|br|hr|input)$/i.test(c)){if(t.push(">"),o&&/^script$/i.test(c))for(;l;)l.data?t.push(l.data):me(l,t,o,n,r.slice()),l=l.nextSibling;else for(;l;)me(l,t,o,n,r.slice()),l=l.nextSibling;t.push("</",u,">")}else t.push("/>");return;case b:case C:for(l=e.firstChild;l;)me(l,t,o,n,r.slice()),l=l.nextSibling;return;case p:return ge(t,e.name,e.value);case f:return t.push(e.data.replace(/[<&>]/g,F));case g:return t.push("<![CDATA[",e.data,"]]>");case _:return t.push("\x3c!--",e.data,"--\x3e");case A:var j=e.publicId,P=e.systemId;if(t.push("<!DOCTYPE ",e.name),j)t.push(" PUBLIC ",j),P&&"."!=P&&t.push(" ",P),t.push(">");else if(P&&"."!=P)t.push(" SYSTEM ",P,">");else{var T=e.internalSubset;T&&t.push(" [",T,"]"),t.push(">")}return;case v:return t.push("<?",e.target," ",e.data,"?>");case m:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function ye(e,t,o){e[t]=o}j.prototype=Error.prototype,c(E,j),P.prototype={length:0,item:function(e){return e>=0&&e<this.length?this[e]:null},toString:function(e,t){for(var o=[],n=0;n<this.length;n++)me(this[n],o,e,t);return o.join("")},filter:function(e){return Array.prototype.filter.call(this,e)},indexOf:function(e){return Array.prototype.indexOf.call(this,e)}},T.prototype.item=function(e){return M(this),this[e]||null},u(T,P),R.prototype={length:0,item:P.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var o=this[t];if(o.nodeName==e)return o}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new j(x);var o=this.getNamedItem(e.nodeName);return k(this._ownerElement,this,e,o),o},setNamedItemNS:function(e){var t,o=e.ownerElement;if(o&&o!=this._ownerElement)throw new j(x);return t=this.getNamedItemNS(e.namespaceURI,e.localName),k(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return G(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var o=this.getNamedItemNS(e,t);return G(this._ownerElement,this,o),o},getNamedItemNS:function(e,t){for(var o=this.length;o--;){var n=this[o];if(n.localName==t&&n.namespaceURI==e)return n}return null}},D.prototype={hasFeature:function(e,t){return!0},createDocument:function(e,t,o){var n=new B;if(n.implementation=this,n.childNodes=new P,n.doctype=o||null,o&&n.appendChild(o),t){var r=n.createElementNS(e,t);n.appendChild(r)}return n},createDocumentType:function(e,t,o){var n=new ae;return n.name=e,n.nodeName=e,n.publicId=t||"",n.systemId=o||"",n}},N.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return $(this,e,t)},replaceChild:function(e,t){$(this,e,t,Q),t&&this.removeChild(t)},removeChild:function(e){return W(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return function e(t,o,n){var r=new o.constructor;for(var i in o)if(Object.prototype.hasOwnProperty.call(o,i)){var a=o[i];"object"!=typeof a&&a!=r[i]&&(r[i]=a)}o.childNodes&&(r.childNodes=new P);switch(r.ownerDocument=t,r.nodeType){case h:var s=o.attributes,l=r.attributes=new R,c=s.length;l._ownerElement=r;for(var u=0;u<c;u++)r.setAttributeNode(e(t,s.item(u),!0));break;case p:n=!0}if(n)for(var d=o.firstChild;d;)r.appendChild(e(t,d,n)),d=d.nextSibling;return r}(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==f&&e.nodeType==f?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var o=t._nsMap;if(o)for(var n in o)if(Object.prototype.hasOwnProperty.call(o,n)&&o[n]===e)return n;t=t.nodeType==p?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var o=t._nsMap;if(o&&Object.prototype.hasOwnProperty.call(o,e))return o[e];t=t.nodeType==p?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},c(d,N),c(d,N.prototype),B.prototype={nodeName:"#document",nodeType:b,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==C){for(var o=e.firstChild;o;){var n=o.nextSibling;this.insertBefore(o,t),o=n}return e}return $(this,e,t),e.ownerDocument=this,null===this.documentElement&&e.nodeType===h&&(this.documentElement=e),e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),W(this,e)},replaceChild:function(e,t){$(this,e,t,Q),e.ownerDocument=this,t&&this.removeChild(t),Y(e)&&(this.documentElement=e)},importNode:function(e,t){return function e(t,o,n){var r;switch(o.nodeType){case h:(r=o.cloneNode(!1)).ownerDocument=t;case C:break;case p:n=!0}r||(r=o.cloneNode(!1));if(r.ownerDocument=t,r.parentNode=null,n)for(var i=o.firstChild;i;)r.appendChild(e(t,i,n)),i=i.nextSibling;return r}(this,e,t)},getElementById:function(e){var t=null;return U(this.documentElement,(function(o){if(o.nodeType==h&&o.getAttribute("id")==e)return t=o,!0})),t},getElementsByClassName:function(e){var t=l(e);return new T(this,(function(o){var n=[];return t.length>0&&U(o.documentElement,(function(r){if(r!==o&&r.nodeType===h){var i=r.getAttribute("class");if(i){var a=e===i;if(!a){var s=l(i);a=t.every((c=s,function(e){return c&&-1!==c.indexOf(e)}))}a&&n.push(r)}}var c})),n}))},createElement:function(e){var t=new ee;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.localName=e,t.childNodes=new P,(t.attributes=new R)._ownerElement=t,t},createDocumentFragment:function(){var e=new ue;return e.ownerDocument=this,e.childNodes=new P,e},createTextNode:function(e){var t=new ne;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new re;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new ie;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var o=new de;return o.ownerDocument=this,o.tagName=o.nodeName=o.target=e,o.nodeValue=o.data=t,o},createAttribute:function(e){var t=new te;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new ce;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var o=new ee,n=t.split(":"),r=o.attributes=new R;return o.childNodes=new P,o.ownerDocument=this,o.nodeName=t,o.tagName=t,o.namespaceURI=e,2==n.length?(o.prefix=n[0],o.localName=n[1]):o.localName=t,r._ownerElement=o,o},createAttributeNS:function(e,t){var o=new te,n=t.split(":");return o.ownerDocument=this,o.nodeName=t,o.name=t,o.namespaceURI=e,o.specified=!0,2==n.length?(o.prefix=n[0],o.localName=n[1]):o.localName=t,o}},u(B,N),ee.prototype={nodeType:h,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var o=this.ownerDocument.createAttribute(e);o.value=o.nodeValue=""+t,this.setAttributeNode(o)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===C?this.insertBefore(e,null):function(e,t){return t.parentNode&&t.parentNode.removeChild(t),t.parentNode=e,t.previousSibling=e.lastChild,t.nextSibling=null,t.previousSibling?t.previousSibling.nextSibling=t:e.firstChild=t,e.lastChild=t,V(e.ownerDocument,e,t),t}(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var o=this.getAttributeNodeNS(e,t);o&&this.removeAttributeNode(o)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var o=this.getAttributeNodeNS(e,t);return o&&o.value||""},setAttributeNS:function(e,t,o){var n=this.ownerDocument.createAttributeNS(e,t);n.value=n.nodeValue=""+o,this.setAttributeNode(n)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new T(this,(function(t){var o=[];return U(t,(function(n){n===t||n.nodeType!=h||"*"!==e&&n.tagName!=e||o.push(n)})),o}))},getElementsByTagNameNS:function(e,t){return new T(this,(function(o){var n=[];return U(o,(function(r){r===o||r.nodeType!==h||"*"!==e&&r.namespaceURI!==e||"*"!==t&&r.localName!=t||n.push(r)})),n}))}},B.prototype.getElementsByTagName=ee.prototype.getElementsByTagName,B.prototype.getElementsByTagNameNS=ee.prototype.getElementsByTagNameNS,u(ee,N),te.prototype.nodeType=p,u(te,N),oe.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(I[O])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,o){o=this.data.substring(0,e)+o+this.data.substring(e+t),this.nodeValue=this.data=o,this.length=o.length}},u(oe,N),ne.prototype={nodeName:"#text",nodeType:f,splitText:function(e){var t=this.data,o=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var n=this.ownerDocument.createTextNode(o);return this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling),n}},u(ne,oe),re.prototype={nodeName:"#comment",nodeType:_},u(re,oe),ie.prototype={nodeName:"#cdata-section",nodeType:g},u(ie,oe),ae.prototype.nodeType=A,u(ae,N),se.prototype.nodeType=w,u(se,N),le.prototype.nodeType=y,u(le,N),ce.prototype.nodeType=m,u(ce,N),ue.prototype.nodeName="#document-fragment",ue.prototype.nodeType=C,u(ue,N),de.prototype.nodeType=v,u(de,N),he.prototype.serializeToString=function(e,t,o){return pe.call(e,t,o)},N.prototype.toString=pe;try{if(Object.defineProperty){Object.defineProperty(T.prototype,"length",{get:function(){return M(this),this.$$length}}),Object.defineProperty(N.prototype,"textContent",{get:function(){return function e(t){switch(t.nodeType){case h:case C:var o=[];for(t=t.firstChild;t;)7!==t.nodeType&&8!==t.nodeType&&o.push(e(t)),t=t.nextSibling;return o.join("");default:return t.nodeValue}}(this)},set:function(e){switch(this.nodeType){case h:case C:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),ye=function(e,t,o){e["$$"+t]=o}}}catch(e){}t.DocumentType=ae,t.DOMException=j,t.DOMImplementation=D,t.Element=ee,t.Node=N,t.NodeList=P,t.XMLSerializer=he},"./node_modules/@xmldom/xmldom/lib/entities.js":function(e,t,o){"use strict";var n=o("./node_modules/@xmldom/xmldom/lib/conventions.js").freeze;t.XML_ENTITIES=n({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=n({Aacute:"Ã",aacute:"Ã¡",Abreve:"Ä",abreve:"Ä",ac:"â¾",acd:"â¿",acE:"â¾Ì³",Acirc:"Ã",acirc:"Ã¢",acute:"Â´",Acy:"Ð",acy:"Ð°",AElig:"Ã",aelig:"Ã¦",af:"â¡",Afr:"ð",afr:"ð",Agrave:"Ã",agrave:"Ã ",alefsym:"âµ",aleph:"âµ",Alpha:"Î",alpha:"Î±",Amacr:"Ä",amacr:"Ä",amalg:"â¨¿",AMP:"&",amp:"&",And:"â©",and:"â§",andand:"â©",andd:"â©",andslope:"â©",andv:"â©",ang:"â ",ange:"â¦¤",angle:"â ",angmsd:"â¡",angmsdaa:"â¦¨",angmsdab:"â¦©",angmsdac:"â¦ª",angmsdad:"â¦«",angmsdae:"â¦¬",angmsdaf:"â¦­",angmsdag:"â¦®",angmsdah:"â¦¯",angrt:"â",angrtvb:"â¾",angrtvbd:"â¦",angsph:"â¢",angst:"Ã",angzarr:"â¼",Aogon:"Ä",aogon:"Ä",Aopf:"ð¸",aopf:"ð",ap:"â",apacir:"â©¯",apE:"â©°",ape:"â",apid:"â",apos:"'",ApplyFunction:"â¡",approx:"â",approxeq:"â",Aring:"Ã",aring:"Ã¥",Ascr:"ð",ascr:"ð¶",Assign:"â",ast:"*",asymp:"â",asympeq:"â",Atilde:"Ã",atilde:"Ã£",Auml:"Ã",auml:"Ã¤",awconint:"â³",awint:"â¨",backcong:"â",backepsilon:"Ï¶",backprime:"âµ",backsim:"â½",backsimeq:"â",Backslash:"â",Barv:"â«§",barvee:"â½",Barwed:"â",barwed:"â",barwedge:"â",bbrk:"âµ",bbrktbrk:"â¶",bcong:"â",Bcy:"Ð",bcy:"Ð±",bdquo:"â",becaus:"âµ",Because:"âµ",because:"âµ",bemptyv:"â¦°",bepsi:"Ï¶",bernou:"â¬",Bernoullis:"â¬",Beta:"Î",beta:"Î²",beth:"â¶",between:"â¬",Bfr:"ð",bfr:"ð",bigcap:"â",bigcirc:"â¯",bigcup:"â",bigodot:"â¨",bigoplus:"â¨",bigotimes:"â¨",bigsqcup:"â¨",bigstar:"â",bigtriangledown:"â½",bigtriangleup:"â³",biguplus:"â¨",bigvee:"â",bigwedge:"â",bkarow:"â¤",blacklozenge:"â§«",blacksquare:"âª",blacktriangle:"â´",blacktriangledown:"â¾",blacktriangleleft:"â",blacktriangleright:"â¸",blank:"â£",blk12:"â",blk14:"â",blk34:"â",block:"â",bne:"=â¥",bnequiv:"â¡â¥",bNot:"â«­",bnot:"â",Bopf:"ð¹",bopf:"ð",bot:"â¥",bottom:"â¥",bowtie:"â",boxbox:"â§",boxDL:"â",boxDl:"â",boxdL:"â",boxdl:"â",boxDR:"â",boxDr:"â",boxdR:"â",boxdr:"â",boxH:"â",boxh:"â",boxHD:"â¦",boxHd:"â¤",boxhD:"â¥",boxhd:"â¬",boxHU:"â©",boxHu:"â§",boxhU:"â¨",boxhu:"â´",boxminus:"â",boxplus:"â",boxtimes:"â ",boxUL:"â",boxUl:"â",boxuL:"â",boxul:"â",boxUR:"â",boxUr:"â",boxuR:"â",boxur:"â",boxV:"â",boxv:"â",boxVH:"â¬",boxVh:"â«",boxvH:"âª",boxvh:"â¼",boxVL:"â£",boxVl:"â¢",boxvL:"â¡",boxvl:"â¤",boxVR:"â ",boxVr:"â",boxvR:"â",boxvr:"â",bprime:"âµ",Breve:"Ë",breve:"Ë",brvbar:"Â¦",Bscr:"â¬",bscr:"ð·",bsemi:"â",bsim:"â½",bsime:"â",bsol:"\\",bsolb:"â§",bsolhsub:"â",bull:"â¢",bullet:"â¢",bump:"â",bumpE:"âª®",bumpe:"â",Bumpeq:"â",bumpeq:"â",Cacute:"Ä",cacute:"Ä",Cap:"â",cap:"â©",capand:"â©",capbrcup:"â©",capcap:"â©",capcup:"â©",capdot:"â©",CapitalDifferentialD:"â",caps:"â©ï¸",caret:"â",caron:"Ë",Cayleys:"â­",ccaps:"â©",Ccaron:"Ä",ccaron:"Ä",Ccedil:"Ã",ccedil:"Ã§",Ccirc:"Ä",ccirc:"Ä",Cconint:"â°",ccups:"â©",ccupssm:"â©",Cdot:"Ä",cdot:"Ä",cedil:"Â¸",Cedilla:"Â¸",cemptyv:"â¦²",cent:"Â¢",CenterDot:"Â·",centerdot:"Â·",Cfr:"â­",cfr:"ð ",CHcy:"Ð§",chcy:"Ñ",check:"â",checkmark:"â",Chi:"Î§",chi:"Ï",cir:"â",circ:"Ë",circeq:"â",circlearrowleft:"âº",circlearrowright:"â»",circledast:"â",circledcirc:"â",circleddash:"â",CircleDot:"â",circledR:"Â®",circledS:"â",CircleMinus:"â",CirclePlus:"â",CircleTimes:"â",cirE:"â§",cire:"â",cirfnint:"â¨",cirmid:"â«¯",cirscir:"â§",ClockwiseContourIntegral:"â²",CloseCurlyDoubleQuote:"â",CloseCurlyQuote:"â",clubs:"â£",clubsuit:"â£",Colon:"â·",colon:":",Colone:"â©´",colone:"â",coloneq:"â",comma:",",commat:"@",comp:"â",compfn:"â",complement:"â",complexes:"â",cong:"â",congdot:"â©­",Congruent:"â¡",Conint:"â¯",conint:"â®",ContourIntegral:"â®",Copf:"â",copf:"ð",coprod:"â",Coproduct:"â",COPY:"Â©",copy:"Â©",copysr:"â",CounterClockwiseContourIntegral:"â³",crarr:"âµ",Cross:"â¨¯",cross:"â",Cscr:"ð",cscr:"ð¸",csub:"â«",csube:"â«",csup:"â«",csupe:"â«",ctdot:"â¯",cudarrl:"â¤¸",cudarrr:"â¤µ",cuepr:"â",cuesc:"â",cularr:"â¶",cularrp:"â¤½",Cup:"â",cup:"âª",cupbrcap:"â©",CupCap:"â",cupcap:"â©",cupcup:"â©",cupdot:"â",cupor:"â©",cups:"âªï¸",curarr:"â·",curarrm:"â¤¼",curlyeqprec:"â",curlyeqsucc:"â",curlyvee:"â",curlywedge:"â",curren:"Â¤",curvearrowleft:"â¶",curvearrowright:"â·",cuvee:"â",cuwed:"â",cwconint:"â²",cwint:"â±",cylcty:"â­",Dagger:"â¡",dagger:"â ",daleth:"â¸",Darr:"â¡",dArr:"â",darr:"â",dash:"â",Dashv:"â«¤",dashv:"â£",dbkarow:"â¤",dblac:"Ë",Dcaron:"Ä",dcaron:"Ä",Dcy:"Ð",dcy:"Ð´",DD:"â",dd:"â",ddagger:"â¡",ddarr:"â",DDotrahd:"â¤",ddotseq:"â©·",deg:"Â°",Del:"â",Delta:"Î",delta:"Î´",demptyv:"â¦±",dfisht:"â¥¿",Dfr:"ð",dfr:"ð¡",dHar:"â¥¥",dharl:"â",dharr:"â",DiacriticalAcute:"Â´",DiacriticalDot:"Ë",DiacriticalDoubleAcute:"Ë",DiacriticalGrave:"`",DiacriticalTilde:"Ë",diam:"â",Diamond:"â",diamond:"â",diamondsuit:"â¦",diams:"â¦",die:"Â¨",DifferentialD:"â",digamma:"Ï",disin:"â²",div:"Ã·",divide:"Ã·",divideontimes:"â",divonx:"â",DJcy:"Ð",djcy:"Ñ",dlcorn:"â",dlcrop:"â",dollar:"$",Dopf:"ð»",dopf:"ð",Dot:"Â¨",dot:"Ë",DotDot:"â",doteq:"â",doteqdot:"â",DotEqual:"â",dotminus:"â¸",dotplus:"â",dotsquare:"â¡",doublebarwedge:"â",DoubleContourIntegral:"â¯",DoubleDot:"Â¨",DoubleDownArrow:"â",DoubleLeftArrow:"â",DoubleLeftRightArrow:"â",DoubleLeftTee:"â«¤",DoubleLongLeftArrow:"â¸",DoubleLongLeftRightArrow:"âº",DoubleLongRightArrow:"â¹",DoubleRightArrow:"â",DoubleRightTee:"â¨",DoubleUpArrow:"â",DoubleUpDownArrow:"â",DoubleVerticalBar:"â¥",DownArrow:"â",Downarrow:"â",downarrow:"â",DownArrowBar:"â¤",DownArrowUpArrow:"âµ",DownBreve:"Ì",downdownarrows:"â",downharpoonleft:"â",downharpoonright:"â",DownLeftRightVector:"â¥",DownLeftTeeVector:"â¥",DownLeftVector:"â½",DownLeftVectorBar:"â¥",DownRightTeeVector:"â¥",DownRightVector:"â",DownRightVectorBar:"â¥",DownTee:"â¤",DownTeeArrow:"â§",drbkarow:"â¤",drcorn:"â",drcrop:"â",Dscr:"ð",dscr:"ð¹",DScy:"Ð",dscy:"Ñ",dsol:"â§¶",Dstrok:"Ä",dstrok:"Ä",dtdot:"â±",dtri:"â¿",dtrif:"â¾",duarr:"âµ",duhar:"â¥¯",dwangle:"â¦¦",DZcy:"Ð",dzcy:"Ñ",dzigrarr:"â¿",Eacute:"Ã",eacute:"Ã©",easter:"â©®",Ecaron:"Ä",ecaron:"Ä",ecir:"â",Ecirc:"Ã",ecirc:"Ãª",ecolon:"â",Ecy:"Ð­",ecy:"Ñ",eDDot:"â©·",Edot:"Ä",eDot:"â",edot:"Ä",ee:"â",efDot:"â",Efr:"ð",efr:"ð¢",eg:"âª",Egrave:"Ã",egrave:"Ã¨",egs:"âª",egsdot:"âª",el:"âª",Element:"â",elinters:"â§",ell:"â",els:"âª",elsdot:"âª",Emacr:"Ä",emacr:"Ä",empty:"â",emptyset:"â",EmptySmallSquare:"â»",emptyv:"â",EmptyVerySmallSquare:"â«",emsp:"â",emsp13:"â",emsp14:"â",ENG:"Å",eng:"Å",ensp:"â",Eogon:"Ä",eogon:"Ä",Eopf:"ð¼",eopf:"ð",epar:"â",eparsl:"â§£",eplus:"â©±",epsi:"Îµ",Epsilon:"Î",epsilon:"Îµ",epsiv:"Ïµ",eqcirc:"â",eqcolon:"â",eqsim:"â",eqslantgtr:"âª",eqslantless:"âª",Equal:"â©µ",equals:"=",EqualTilde:"â",equest:"â",Equilibrium:"â",equiv:"â¡",equivDD:"â©¸",eqvparsl:"â§¥",erarr:"â¥±",erDot:"â",Escr:"â°",escr:"â¯",esdot:"â",Esim:"â©³",esim:"â",Eta:"Î",eta:"Î·",ETH:"Ã",eth:"Ã°",Euml:"Ã",euml:"Ã«",euro:"â¬",excl:"!",exist:"â",Exists:"â",expectation:"â°",ExponentialE:"â",exponentiale:"â",fallingdotseq:"â",Fcy:"Ð¤",fcy:"Ñ",female:"â",ffilig:"ï¬",fflig:"ï¬",ffllig:"ï¬",Ffr:"ð",ffr:"ð£",filig:"ï¬",FilledSmallSquare:"â¼",FilledVerySmallSquare:"âª",fjlig:"fj",flat:"â­",fllig:"ï¬",fltns:"â±",fnof:"Æ",Fopf:"ð½",fopf:"ð",ForAll:"â",forall:"â",fork:"â",forkv:"â«",Fouriertrf:"â±",fpartint:"â¨",frac12:"Â½",frac13:"â",frac14:"Â¼",frac15:"â",frac16:"â",frac18:"â",frac23:"â",frac25:"â",frac34:"Â¾",frac35:"â",frac38:"â",frac45:"â",frac56:"â",frac58:"â",frac78:"â",frasl:"â",frown:"â¢",Fscr:"â±",fscr:"ð»",gacute:"Çµ",Gamma:"Î",gamma:"Î³",Gammad:"Ï",gammad:"Ï",gap:"âª",Gbreve:"Ä",gbreve:"Ä",Gcedil:"Ä¢",Gcirc:"Ä",gcirc:"Ä",Gcy:"Ð",gcy:"Ð³",Gdot:"Ä ",gdot:"Ä¡",gE:"â§",ge:"â¥",gEl:"âª",gel:"â",geq:"â¥",geqq:"â§",geqslant:"â©¾",ges:"â©¾",gescc:"âª©",gesdot:"âª",gesdoto:"âª",gesdotol:"âª",gesl:"âï¸",gesles:"âª",Gfr:"ð",gfr:"ð¤",Gg:"â",gg:"â«",ggg:"â",gimel:"â·",GJcy:"Ð",gjcy:"Ñ",gl:"â·",gla:"âª¥",glE:"âª",glj:"âª¤",gnap:"âª",gnapprox:"âª",gnE:"â©",gne:"âª",gneq:"âª",gneqq:"â©",gnsim:"â§",Gopf:"ð¾",gopf:"ð",grave:"`",GreaterEqual:"â¥",GreaterEqualLess:"â",GreaterFullEqual:"â§",GreaterGreater:"âª¢",GreaterLess:"â·",GreaterSlantEqual:"â©¾",GreaterTilde:"â³",Gscr:"ð¢",gscr:"â",gsim:"â³",gsime:"âª",gsiml:"âª",Gt:"â«",GT:">",gt:">",gtcc:"âª§",gtcir:"â©º",gtdot:"â",gtlPar:"â¦",gtquest:"â©¼",gtrapprox:"âª",gtrarr:"â¥¸",gtrdot:"â",gtreqless:"â",gtreqqless:"âª",gtrless:"â·",gtrsim:"â³",gvertneqq:"â©ï¸",gvnE:"â©ï¸",Hacek:"Ë",hairsp:"â",half:"Â½",hamilt:"â",HARDcy:"Ðª",hardcy:"Ñ",hArr:"â",harr:"â",harrcir:"â¥",harrw:"â­",Hat:"^",hbar:"â",Hcirc:"Ä¤",hcirc:"Ä¥",hearts:"â¥",heartsuit:"â¥",hellip:"â¦",hercon:"â¹",Hfr:"â",hfr:"ð¥",HilbertSpace:"â",hksearow:"â¤¥",hkswarow:"â¤¦",hoarr:"â¿",homtht:"â»",hookleftarrow:"â©",hookrightarrow:"âª",Hopf:"â",hopf:"ð",horbar:"â",HorizontalLine:"â",Hscr:"â",hscr:"ð½",hslash:"â",Hstrok:"Ä¦",hstrok:"Ä§",HumpDownHump:"â",HumpEqual:"â",hybull:"â",hyphen:"â",Iacute:"Ã",iacute:"Ã­",ic:"â£",Icirc:"Ã",icirc:"Ã®",Icy:"Ð",icy:"Ð¸",Idot:"Ä°",IEcy:"Ð",iecy:"Ðµ",iexcl:"Â¡",iff:"â",Ifr:"â",ifr:"ð¦",Igrave:"Ã",igrave:"Ã¬",ii:"â",iiiint:"â¨",iiint:"â­",iinfin:"â§",iiota:"â©",IJlig:"Ä²",ijlig:"Ä³",Im:"â",Imacr:"Äª",imacr:"Ä«",image:"â",ImaginaryI:"â",imagline:"â",imagpart:"â",imath:"Ä±",imof:"â·",imped:"Æµ",Implies:"â",in:"â",incare:"â",infin:"â",infintie:"â§",inodot:"Ä±",Int:"â¬",int:"â«",intcal:"âº",integers:"â¤",Integral:"â«",intercal:"âº",Intersection:"â",intlarhk:"â¨",intprod:"â¨¼",InvisibleComma:"â£",InvisibleTimes:"â¢",IOcy:"Ð",iocy:"Ñ",Iogon:"Ä®",iogon:"Ä¯",Iopf:"ð",iopf:"ð",Iota:"Î",iota:"Î¹",iprod:"â¨¼",iquest:"Â¿",Iscr:"â",iscr:"ð¾",isin:"â",isindot:"âµ",isinE:"â¹",isins:"â´",isinsv:"â³",isinv:"â",it:"â¢",Itilde:"Ä¨",itilde:"Ä©",Iukcy:"Ð",iukcy:"Ñ",Iuml:"Ã",iuml:"Ã¯",Jcirc:"Ä´",jcirc:"Äµ",Jcy:"Ð",jcy:"Ð¹",Jfr:"ð",jfr:"ð§",jmath:"È·",Jopf:"ð",jopf:"ð",Jscr:"ð¥",jscr:"ð¿",Jsercy:"Ð",jsercy:"Ñ",Jukcy:"Ð",jukcy:"Ñ",Kappa:"Î",kappa:"Îº",kappav:"Ï°",Kcedil:"Ä¶",kcedil:"Ä·",Kcy:"Ð",kcy:"Ðº",Kfr:"ð",kfr:"ð¨",kgreen:"Ä¸",KHcy:"Ð¥",khcy:"Ñ",KJcy:"Ð",kjcy:"Ñ",Kopf:"ð",kopf:"ð",Kscr:"ð¦",kscr:"ð",lAarr:"â",Lacute:"Ä¹",lacute:"Äº",laemptyv:"â¦´",lagran:"â",Lambda:"Î",lambda:"Î»",Lang:"âª",lang:"â¨",langd:"â¦",langle:"â¨",lap:"âª",Laplacetrf:"â",laquo:"Â«",Larr:"â",lArr:"â",larr:"â",larrb:"â¤",larrbfs:"â¤",larrfs:"â¤",larrhk:"â©",larrlp:"â«",larrpl:"â¤¹",larrsim:"â¥³",larrtl:"â¢",lat:"âª«",lAtail:"â¤",latail:"â¤",late:"âª­",lates:"âª­ï¸",lBarr:"â¤",lbarr:"â¤",lbbrk:"â²",lbrace:"{",lbrack:"[",lbrke:"â¦",lbrksld:"â¦",lbrkslu:"â¦",Lcaron:"Ä½",lcaron:"Ä¾",Lcedil:"Ä»",lcedil:"Ä¼",lceil:"â",lcub:"{",Lcy:"Ð",lcy:"Ð»",ldca:"â¤¶",ldquo:"â",ldquor:"â",ldrdhar:"â¥§",ldrushar:"â¥",ldsh:"â²",lE:"â¦",le:"â¤",LeftAngleBracket:"â¨",LeftArrow:"â",Leftarrow:"â",leftarrow:"â",LeftArrowBar:"â¤",LeftArrowRightArrow:"â",leftarrowtail:"â¢",LeftCeiling:"â",LeftDoubleBracket:"â¦",LeftDownTeeVector:"â¥¡",LeftDownVector:"â",LeftDownVectorBar:"â¥",LeftFloor:"â",leftharpoondown:"â½",leftharpoonup:"â¼",leftleftarrows:"â",LeftRightArrow:"â",Leftrightarrow:"â",leftrightarrow:"â",leftrightarrows:"â",leftrightharpoons:"â",leftrightsquigarrow:"â­",LeftRightVector:"â¥",LeftTee:"â£",LeftTeeArrow:"â¤",LeftTeeVector:"â¥",leftthreetimes:"â",LeftTriangle:"â²",LeftTriangleBar:"â§",LeftTriangleEqual:"â´",LeftUpDownVector:"â¥",LeftUpTeeVector:"â¥ ",LeftUpVector:"â¿",LeftUpVectorBar:"â¥",LeftVector:"â¼",LeftVectorBar:"â¥",lEg:"âª",leg:"â",leq:"â¤",leqq:"â¦",leqslant:"â©½",les:"â©½",lescc:"âª¨",lesdot:"â©¿",lesdoto:"âª",lesdotor:"âª",lesg:"âï¸",lesges:"âª",lessapprox:"âª",lessdot:"â",lesseqgtr:"â",lesseqqgtr:"âª",LessEqualGreater:"â",LessFullEqual:"â¦",LessGreater:"â¶",lessgtr:"â¶",LessLess:"âª¡",lesssim:"â²",LessSlantEqual:"â©½",LessTilde:"â²",lfisht:"â¥¼",lfloor:"â",Lfr:"ð",lfr:"ð©",lg:"â¶",lgE:"âª",lHar:"â¥¢",lhard:"â½",lharu:"â¼",lharul:"â¥ª",lhblk:"â",LJcy:"Ð",ljcy:"Ñ",Ll:"â",ll:"âª",llarr:"â",llcorner:"â",Lleftarrow:"â",llhard:"â¥«",lltri:"âº",Lmidot:"Ä¿",lmidot:"Å",lmoust:"â°",lmoustache:"â°",lnap:"âª",lnapprox:"âª",lnE:"â¨",lne:"âª",lneq:"âª",lneqq:"â¨",lnsim:"â¦",loang:"â¬",loarr:"â½",lobrk:"â¦",LongLeftArrow:"âµ",Longleftarrow:"â¸",longleftarrow:"âµ",LongLeftRightArrow:"â·",Longleftrightarrow:"âº",longleftrightarrow:"â·",longmapsto:"â¼",LongRightArrow:"â¶",Longrightarrow:"â¹",longrightarrow:"â¶",looparrowleft:"â«",looparrowright:"â¬",lopar:"â¦",Lopf:"ð",lopf:"ð",loplus:"â¨­",lotimes:"â¨´",lowast:"â",lowbar:"_",LowerLeftArrow:"â",LowerRightArrow:"â",loz:"â",lozenge:"â",lozf:"â§«",lpar:"(",lparlt:"â¦",lrarr:"â",lrcorner:"â",lrhar:"â",lrhard:"â¥­",lrm:"â",lrtri:"â¿",lsaquo:"â¹",Lscr:"â",lscr:"ð",Lsh:"â°",lsh:"â°",lsim:"â²",lsime:"âª",lsimg:"âª",lsqb:"[",lsquo:"â",lsquor:"â",Lstrok:"Å",lstrok:"Å",Lt:"âª",LT:"<",lt:"<",ltcc:"âª¦",ltcir:"â©¹",ltdot:"â",lthree:"â",ltimes:"â",ltlarr:"â¥¶",ltquest:"â©»",ltri:"â",ltrie:"â´",ltrif:"â",ltrPar:"â¦",lurdshar:"â¥",luruhar:"â¥¦",lvertneqq:"â¨ï¸",lvnE:"â¨ï¸",macr:"Â¯",male:"â",malt:"â ",maltese:"â ",Map:"â¤",map:"â¦",mapsto:"â¦",mapstodown:"â§",mapstoleft:"â¤",mapstoup:"â¥",marker:"â®",mcomma:"â¨©",Mcy:"Ð",mcy:"Ð¼",mdash:"â",mDDot:"âº",measuredangle:"â¡",MediumSpace:"â",Mellintrf:"â³",Mfr:"ð",mfr:"ðª",mho:"â§",micro:"Âµ",mid:"â£",midast:"*",midcir:"â«°",middot:"Â·",minus:"â",minusb:"â",minusd:"â¸",minusdu:"â¨ª",MinusPlus:"â",mlcp:"â«",mldr:"â¦",mnplus:"â",models:"â§",Mopf:"ð",mopf:"ð",mp:"â",Mscr:"â³",mscr:"ð",mstpos:"â¾",Mu:"Î",mu:"Î¼",multimap:"â¸",mumap:"â¸",nabla:"â",Nacute:"Å",nacute:"Å",nang:"â â",nap:"â",napE:"â©°Ì¸",napid:"âÌ¸",napos:"Å",napprox:"â",natur:"â®",natural:"â®",naturals:"â",nbsp:"Â ",nbump:"âÌ¸",nbumpe:"âÌ¸",ncap:"â©",Ncaron:"Å",ncaron:"Å",Ncedil:"Å",ncedil:"Å",ncong:"â",ncongdot:"â©­Ì¸",ncup:"â©",Ncy:"Ð",ncy:"Ð½",ndash:"â",ne:"â ",nearhk:"â¤¤",neArr:"â",nearr:"â",nearrow:"â",nedot:"âÌ¸",NegativeMediumSpace:"â",NegativeThickSpace:"â",NegativeThinSpace:"â",NegativeVeryThinSpace:"â",nequiv:"â¢",nesear:"â¤¨",nesim:"âÌ¸",NestedGreaterGreater:"â«",NestedLessLess:"âª",NewLine:"\n",nexist:"â",nexists:"â",Nfr:"ð",nfr:"ð«",ngE:"â§Ì¸",nge:"â±",ngeq:"â±",ngeqq:"â§Ì¸",ngeqslant:"â©¾Ì¸",nges:"â©¾Ì¸",nGg:"âÌ¸",ngsim:"âµ",nGt:"â«â",ngt:"â¯",ngtr:"â¯",nGtv:"â«Ì¸",nhArr:"â",nharr:"â®",nhpar:"â«²",ni:"â",nis:"â¼",nisd:"âº",niv:"â",NJcy:"Ð",njcy:"Ñ",nlArr:"â",nlarr:"â",nldr:"â¥",nlE:"â¦Ì¸",nle:"â°",nLeftarrow:"â",nleftarrow:"â",nLeftrightarrow:"â",nleftrightarrow:"â®",nleq:"â°",nleqq:"â¦Ì¸",nleqslant:"â©½Ì¸",nles:"â©½Ì¸",nless:"â®",nLl:"âÌ¸",nlsim:"â´",nLt:"âªâ",nlt:"â®",nltri:"âª",nltrie:"â¬",nLtv:"âªÌ¸",nmid:"â¤",NoBreak:"â ",NonBreakingSpace:"Â ",Nopf:"â",nopf:"ð",Not:"â«¬",not:"Â¬",NotCongruent:"â¢",NotCupCap:"â­",NotDoubleVerticalBar:"â¦",NotElement:"â",NotEqual:"â ",NotEqualTilde:"âÌ¸",NotExists:"â",NotGreater:"â¯",NotGreaterEqual:"â±",NotGreaterFullEqual:"â§Ì¸",NotGreaterGreater:"â«Ì¸",NotGreaterLess:"â¹",NotGreaterSlantEqual:"â©¾Ì¸",NotGreaterTilde:"âµ",NotHumpDownHump:"âÌ¸",NotHumpEqual:"âÌ¸",notin:"â",notindot:"âµÌ¸",notinE:"â¹Ì¸",notinva:"â",notinvb:"â·",notinvc:"â¶",NotLeftTriangle:"âª",NotLeftTriangleBar:"â§Ì¸",NotLeftTriangleEqual:"â¬",NotLess:"â®",NotLessEqual:"â°",NotLessGreater:"â¸",NotLessLess:"âªÌ¸",NotLessSlantEqual:"â©½Ì¸",NotLessTilde:"â´",NotNestedGreaterGreater:"âª¢Ì¸",NotNestedLessLess:"âª¡Ì¸",notni:"â",notniva:"â",notnivb:"â¾",notnivc:"â½",NotPrecedes:"â",NotPrecedesEqual:"âª¯Ì¸",NotPrecedesSlantEqual:"â ",NotReverseElement:"â",NotRightTriangle:"â«",NotRightTriangleBar:"â§Ì¸",NotRightTriangleEqual:"â­",NotSquareSubset:"âÌ¸",NotSquareSubsetEqual:"â¢",NotSquareSuperset:"âÌ¸",NotSquareSupersetEqual:"â£",NotSubset:"ââ",NotSubsetEqual:"â",NotSucceeds:"â",NotSucceedsEqual:"âª°Ì¸",NotSucceedsSlantEqual:"â¡",NotSucceedsTilde:"â¿Ì¸",NotSuperset:"ââ",NotSupersetEqual:"â",NotTilde:"â",NotTildeEqual:"â",NotTildeFullEqual:"â",NotTildeTilde:"â",NotVerticalBar:"â¤",npar:"â¦",nparallel:"â¦",nparsl:"â«½â¥",npart:"âÌ¸",npolint:"â¨",npr:"â",nprcue:"â ",npre:"âª¯Ì¸",nprec:"â",npreceq:"âª¯Ì¸",nrArr:"â",nrarr:"â",nrarrc:"â¤³Ì¸",nrarrw:"âÌ¸",nRightarrow:"â",nrightarrow:"â",nrtri:"â«",nrtrie:"â­",nsc:"â",nsccue:"â¡",nsce:"âª°Ì¸",Nscr:"ð©",nscr:"ð",nshortmid:"â¤",nshortparallel:"â¦",nsim:"â",nsime:"â",nsimeq:"â",nsmid:"â¤",nspar:"â¦",nsqsube:"â¢",nsqsupe:"â£",nsub:"â",nsubE:"â«Ì¸",nsube:"â",nsubset:"ââ",nsubseteq:"â",nsubseteqq:"â«Ì¸",nsucc:"â",nsucceq:"âª°Ì¸",nsup:"â",nsupE:"â«Ì¸",nsupe:"â",nsupset:"ââ",nsupseteq:"â",nsupseteqq:"â«Ì¸",ntgl:"â¹",Ntilde:"Ã",ntilde:"Ã±",ntlg:"â¸",ntriangleleft:"âª",ntrianglelefteq:"â¬",ntriangleright:"â«",ntrianglerighteq:"â­",Nu:"Î",nu:"Î½",num:"#",numero:"â",numsp:"â",nvap:"ââ",nVDash:"â¯",nVdash:"â®",nvDash:"â­",nvdash:"â¬",nvge:"â¥â",nvgt:">â",nvHarr:"â¤",nvinfin:"â§",nvlArr:"â¤",nvle:"â¤â",nvlt:"<â",nvltrie:"â´â",nvrArr:"â¤",nvrtrie:"âµâ",nvsim:"â¼â",nwarhk:"â¤£",nwArr:"â",nwarr:"â",nwarrow:"â",nwnear:"â¤§",Oacute:"Ã",oacute:"Ã³",oast:"â",ocir:"â",Ocirc:"Ã",ocirc:"Ã´",Ocy:"Ð",ocy:"Ð¾",odash:"â",Odblac:"Å",odblac:"Å",odiv:"â¨¸",odot:"â",odsold:"â¦¼",OElig:"Å",oelig:"Å",ofcir:"â¦¿",Ofr:"ð",ofr:"ð¬",ogon:"Ë",Ograve:"Ã",ograve:"Ã²",ogt:"â§",ohbar:"â¦µ",ohm:"Î©",oint:"â®",olarr:"âº",olcir:"â¦¾",olcross:"â¦»",oline:"â¾",olt:"â§",Omacr:"Å",omacr:"Å",Omega:"Î©",omega:"Ï",Omicron:"Î",omicron:"Î¿",omid:"â¦¶",ominus:"â",Oopf:"ð",oopf:"ð ",opar:"â¦·",OpenCurlyDoubleQuote:"â",OpenCurlyQuote:"â",operp:"â¦¹",oplus:"â",Or:"â©",or:"â¨",orarr:"â»",ord:"â©",order:"â´",orderof:"â´",ordf:"Âª",ordm:"Âº",origof:"â¶",oror:"â©",orslope:"â©",orv:"â©",oS:"â",Oscr:"ðª",oscr:"â´",Oslash:"Ã",oslash:"Ã¸",osol:"â",Otilde:"Ã",otilde:"Ãµ",Otimes:"â¨·",otimes:"â",otimesas:"â¨¶",Ouml:"Ã",ouml:"Ã¶",ovbar:"â½",OverBar:"â¾",OverBrace:"â",OverBracket:"â´",OverParenthesis:"â",par:"â¥",para:"Â¶",parallel:"â¥",parsim:"â«³",parsl:"â«½",part:"â",PartialD:"â",Pcy:"Ð",pcy:"Ð¿",percnt:"%",period:".",permil:"â°",perp:"â¥",pertenk:"â±",Pfr:"ð",pfr:"ð­",Phi:"Î¦",phi:"Ï",phiv:"Ï",phmmat:"â³",phone:"â",Pi:"Î ",pi:"Ï",pitchfork:"â",piv:"Ï",planck:"â",planckh:"â",plankv:"â",plus:"+",plusacir:"â¨£",plusb:"â",pluscir:"â¨¢",plusdo:"â",plusdu:"â¨¥",pluse:"â©²",PlusMinus:"Â±",plusmn:"Â±",plussim:"â¨¦",plustwo:"â¨§",pm:"Â±",Poincareplane:"â",pointint:"â¨",Popf:"â",popf:"ð¡",pound:"Â£",Pr:"âª»",pr:"âº",prap:"âª·",prcue:"â¼",prE:"âª³",pre:"âª¯",prec:"âº",precapprox:"âª·",preccurlyeq:"â¼",Precedes:"âº",PrecedesEqual:"âª¯",PrecedesSlantEqual:"â¼",PrecedesTilde:"â¾",preceq:"âª¯",precnapprox:"âª¹",precneqq:"âªµ",precnsim:"â¨",precsim:"â¾",Prime:"â³",prime:"â²",primes:"â",prnap:"âª¹",prnE:"âªµ",prnsim:"â¨",prod:"â",Product:"â",profalar:"â®",profline:"â",profsurf:"â",prop:"â",Proportion:"â·",Proportional:"â",propto:"â",prsim:"â¾",prurel:"â°",Pscr:"ð«",pscr:"ð",Psi:"Î¨",psi:"Ï",puncsp:"â",Qfr:"ð",qfr:"ð®",qint:"â¨",Qopf:"â",qopf:"ð¢",qprime:"â",Qscr:"ð¬",qscr:"ð",quaternions:"â",quatint:"â¨",quest:"?",questeq:"â",QUOT:'"',quot:'"',rAarr:"â",race:"â½Ì±",Racute:"Å",racute:"Å",radic:"â",raemptyv:"â¦³",Rang:"â«",rang:"â©",rangd:"â¦",range:"â¦¥",rangle:"â©",raquo:"Â»",Rarr:"â ",rArr:"â",rarr:"â",rarrap:"â¥µ",rarrb:"â¥",rarrbfs:"â¤ ",rarrc:"â¤³",rarrfs:"â¤",rarrhk:"âª",rarrlp:"â¬",rarrpl:"â¥",rarrsim:"â¥´",Rarrtl:"â¤",rarrtl:"â£",rarrw:"â",rAtail:"â¤",ratail:"â¤",ratio:"â¶",rationals:"â",RBarr:"â¤",rBarr:"â¤",rbarr:"â¤",rbbrk:"â³",rbrace:"}",rbrack:"]",rbrke:"â¦",rbrksld:"â¦",rbrkslu:"â¦",Rcaron:"Å",rcaron:"Å",Rcedil:"Å",rcedil:"Å",rceil:"â",rcub:"}",Rcy:"Ð ",rcy:"Ñ",rdca:"â¤·",rdldhar:"â¥©",rdquo:"â",rdquor:"â",rdsh:"â³",Re:"â",real:"â",realine:"â",realpart:"â",reals:"â",rect:"â­",REG:"Â®",reg:"Â®",ReverseElement:"â",ReverseEquilibrium:"â",ReverseUpEquilibrium:"â¥¯",rfisht:"â¥½",rfloor:"â",Rfr:"â",rfr:"ð¯",rHar:"â¥¤",rhard:"â",rharu:"â",rharul:"â¥¬",Rho:"Î¡",rho:"Ï",rhov:"Ï±",RightAngleBracket:"â©",RightArrow:"â",Rightarrow:"â",rightarrow:"â",RightArrowBar:"â¥",RightArrowLeftArrow:"â",rightarrowtail:"â£",RightCeiling:"â",RightDoubleBracket:"â§",RightDownTeeVector:"â¥",RightDownVector:"â",RightDownVectorBar:"â¥",RightFloor:"â",rightharpoondown:"â",rightharpoonup:"â",rightleftarrows:"â",rightleftharpoons:"â",rightrightarrows:"â",rightsquigarrow:"â",RightTee:"â¢",RightTeeArrow:"â¦",RightTeeVector:"â¥",rightthreetimes:"â",RightTriangle:"â³",RightTriangleBar:"â§",RightTriangleEqual:"âµ",RightUpDownVector:"â¥",RightUpTeeVector:"â¥",RightUpVector:"â¾",RightUpVectorBar:"â¥",RightVector:"â",RightVectorBar:"â¥",ring:"Ë",risingdotseq:"â",rlarr:"â",rlhar:"â",rlm:"â",rmoust:"â±",rmoustache:"â±",rnmid:"â«®",roang:"â­",roarr:"â¾",robrk:"â§",ropar:"â¦",Ropf:"â",ropf:"ð£",roplus:"â¨®",rotimes:"â¨µ",RoundImplies:"â¥°",rpar:")",rpargt:"â¦",rppolint:"â¨",rrarr:"â",Rrightarrow:"â",rsaquo:"âº",Rscr:"â",rscr:"ð",Rsh:"â±",rsh:"â±",rsqb:"]",rsquo:"â",rsquor:"â",rthree:"â",rtimes:"â",rtri:"â¹",rtrie:"âµ",rtrif:"â¸",rtriltri:"â§",RuleDelayed:"â§´",ruluhar:"â¥¨",rx:"â",Sacute:"Å",sacute:"Å",sbquo:"â",Sc:"âª¼",sc:"â»",scap:"âª¸",Scaron:"Å ",scaron:"Å¡",sccue:"â½",scE:"âª´",sce:"âª°",Scedil:"Å",scedil:"Å",Scirc:"Å",scirc:"Å",scnap:"âªº",scnE:"âª¶",scnsim:"â©",scpolint:"â¨",scsim:"â¿",Scy:"Ð¡",scy:"Ñ",sdot:"â",sdotb:"â¡",sdote:"â©¦",searhk:"â¤¥",seArr:"â",searr:"â",searrow:"â",sect:"Â§",semi:";",seswar:"â¤©",setminus:"â",setmn:"â",sext:"â¶",Sfr:"ð",sfr:"ð°",sfrown:"â¢",sharp:"â¯",SHCHcy:"Ð©",shchcy:"Ñ",SHcy:"Ð¨",shcy:"Ñ",ShortDownArrow:"â",ShortLeftArrow:"â",shortmid:"â£",shortparallel:"â¥",ShortRightArrow:"â",ShortUpArrow:"â",shy:"Â­",Sigma:"Î£",sigma:"Ï",sigmaf:"Ï",sigmav:"Ï",sim:"â¼",simdot:"â©ª",sime:"â",simeq:"â",simg:"âª",simgE:"âª ",siml:"âª",simlE:"âª",simne:"â",simplus:"â¨¤",simrarr:"â¥²",slarr:"â",SmallCircle:"â",smallsetminus:"â",smashp:"â¨³",smeparsl:"â§¤",smid:"â£",smile:"â£",smt:"âªª",smte:"âª¬",smtes:"âª¬ï¸",SOFTcy:"Ð¬",softcy:"Ñ",sol:"/",solb:"â§",solbar:"â¿",Sopf:"ð",sopf:"ð¤",spades:"â ",spadesuit:"â ",spar:"â¥",sqcap:"â",sqcaps:"âï¸",sqcup:"â",sqcups:"âï¸",Sqrt:"â",sqsub:"â",sqsube:"â",sqsubset:"â",sqsubseteq:"â",sqsup:"â",sqsupe:"â",sqsupset:"â",sqsupseteq:"â",squ:"â¡",Square:"â¡",square:"â¡",SquareIntersection:"â",SquareSubset:"â",SquareSubsetEqual:"â",SquareSuperset:"â",SquareSupersetEqual:"â",SquareUnion:"â",squarf:"âª",squf:"âª",srarr:"â",Sscr:"ð®",sscr:"ð",ssetmn:"â",ssmile:"â£",sstarf:"â",Star:"â",star:"â",starf:"â",straightepsilon:"Ïµ",straightphi:"Ï",strns:"Â¯",Sub:"â",sub:"â",subdot:"âª½",subE:"â«",sube:"â",subedot:"â«",submult:"â«",subnE:"â«",subne:"â",subplus:"âª¿",subrarr:"â¥¹",Subset:"â",subset:"â",subseteq:"â",subseteqq:"â«",SubsetEqual:"â",subsetneq:"â",subsetneqq:"â«",subsim:"â«",subsub:"â«",subsup:"â«",succ:"â»",succapprox:"âª¸",succcurlyeq:"â½",Succeeds:"â»",SucceedsEqual:"âª°",SucceedsSlantEqual:"â½",SucceedsTilde:"â¿",succeq:"âª°",succnapprox:"âªº",succneqq:"âª¶",succnsim:"â©",succsim:"â¿",SuchThat:"â",Sum:"â",sum:"â",sung:"âª",Sup:"â",sup:"â",sup1:"Â¹",sup2:"Â²",sup3:"Â³",supdot:"âª¾",supdsub:"â«",supE:"â«",supe:"â",supedot:"â«",Superset:"â",SupersetEqual:"â",suphsol:"â",suphsub:"â«",suplarr:"â¥»",supmult:"â«",supnE:"â«",supne:"â",supplus:"â«",Supset:"â",supset:"â",supseteq:"â",supseteqq:"â«",supsetneq:"â",supsetneqq:"â«",supsim:"â«",supsub:"â«",supsup:"â«",swarhk:"â¤¦",swArr:"â",swarr:"â",swarrow:"â",swnwar:"â¤ª",szlig:"Ã",Tab:"\t",target:"â",Tau:"Î¤",tau:"Ï",tbrk:"â´",Tcaron:"Å¤",tcaron:"Å¥",Tcedil:"Å¢",tcedil:"Å£",Tcy:"Ð¢",tcy:"Ñ",tdot:"â",telrec:"â",Tfr:"ð",tfr:"ð±",there4:"â´",Therefore:"â´",therefore:"â´",Theta:"Î",theta:"Î¸",thetasym:"Ï",thetav:"Ï",thickapprox:"â",thicksim:"â¼",ThickSpace:"ââ",thinsp:"â",ThinSpace:"â",thkap:"â",thksim:"â¼",THORN:"Ã",thorn:"Ã¾",Tilde:"â¼",tilde:"Ë",TildeEqual:"â",TildeFullEqual:"â",TildeTilde:"â",times:"Ã",timesb:"â ",timesbar:"â¨±",timesd:"â¨°",tint:"â­",toea:"â¤¨",top:"â¤",topbot:"â¶",topcir:"â«±",Topf:"ð",topf:"ð¥",topfork:"â«",tosa:"â¤©",tprime:"â´",TRADE:"â¢",trade:"â¢",triangle:"âµ",triangledown:"â¿",triangleleft:"â",trianglelefteq:"â´",triangleq:"â",triangleright:"â¹",trianglerighteq:"âµ",tridot:"â¬",trie:"â",triminus:"â¨º",TripleDot:"â",triplus:"â¨¹",trisb:"â§",tritime:"â¨»",trpezium:"â¢",Tscr:"ð¯",tscr:"ð",TScy:"Ð¦",tscy:"Ñ",TSHcy:"Ð",tshcy:"Ñ",Tstrok:"Å¦",tstrok:"Å§",twixt:"â¬",twoheadleftarrow:"â",twoheadrightarrow:"â ",Uacute:"Ã",uacute:"Ãº",Uarr:"â",uArr:"â",uarr:"â",Uarrocir:"â¥",Ubrcy:"Ð",ubrcy:"Ñ",Ubreve:"Å¬",ubreve:"Å­",Ucirc:"Ã",ucirc:"Ã»",Ucy:"Ð£",ucy:"Ñ",udarr:"â",Udblac:"Å°",udblac:"Å±",udhar:"â¥®",ufisht:"â¥¾",Ufr:"ð",ufr:"ð²",Ugrave:"Ã",ugrave:"Ã¹",uHar:"â¥£",uharl:"â¿",uharr:"â¾",uhblk:"â",ulcorn:"â",ulcorner:"â",ulcrop:"â",ultri:"â¸",Umacr:"Åª",umacr:"Å«",uml:"Â¨",UnderBar:"_",UnderBrace:"â",UnderBracket:"âµ",UnderParenthesis:"â",Union:"â",UnionPlus:"â",Uogon:"Å²",uogon:"Å³",Uopf:"ð",uopf:"ð¦",UpArrow:"â",Uparrow:"â",uparrow:"â",UpArrowBar:"â¤",UpArrowDownArrow:"â",UpDownArrow:"â",Updownarrow:"â",updownarrow:"â",UpEquilibrium:"â¥®",upharpoonleft:"â¿",upharpoonright:"â¾",uplus:"â",UpperLeftArrow:"â",UpperRightArrow:"â",Upsi:"Ï",upsi:"Ï",upsih:"Ï",Upsilon:"Î¥",upsilon:"Ï",UpTee:"â¥",UpTeeArrow:"â¥",upuparrows:"â",urcorn:"â",urcorner:"â",urcrop:"â",Uring:"Å®",uring:"Å¯",urtri:"â¹",Uscr:"ð°",uscr:"ð",utdot:"â°",Utilde:"Å¨",utilde:"Å©",utri:"âµ",utrif:"â´",uuarr:"â",Uuml:"Ã",uuml:"Ã¼",uwangle:"â¦§",vangrt:"â¦",varepsilon:"Ïµ",varkappa:"Ï°",varnothing:"â",varphi:"Ï",varpi:"Ï",varpropto:"â",vArr:"â",varr:"â",varrho:"Ï±",varsigma:"Ï",varsubsetneq:"âï¸",varsubsetneqq:"â«ï¸",varsupsetneq:"âï¸",varsupsetneqq:"â«ï¸",vartheta:"Ï",vartriangleleft:"â²",vartriangleright:"â³",Vbar:"â««",vBar:"â«¨",vBarv:"â«©",Vcy:"Ð",vcy:"Ð²",VDash:"â«",Vdash:"â©",vDash:"â¨",vdash:"â¢",Vdashl:"â«¦",Vee:"â",vee:"â¨",veebar:"â»",veeeq:"â",vellip:"â®",Verbar:"â",verbar:"|",Vert:"â",vert:"|",VerticalBar:"â£",VerticalLine:"|",VerticalSeparator:"â",VerticalTilde:"â",VeryThinSpace:"â",Vfr:"ð",vfr:"ð³",vltri:"â²",vnsub:"ââ",vnsup:"ââ",Vopf:"ð",vopf:"ð§",vprop:"â",vrtri:"â³",Vscr:"ð±",vscr:"ð",vsubnE:"â«ï¸",vsubne:"âï¸",vsupnE:"â«ï¸",vsupne:"âï¸",Vvdash:"âª",vzigzag:"â¦",Wcirc:"Å´",wcirc:"Åµ",wedbar:"â©",Wedge:"â",wedge:"â§",wedgeq:"â",weierp:"â",Wfr:"ð",wfr:"ð´",Wopf:"ð",wopf:"ð¨",wp:"â",wr:"â",wreath:"â",Wscr:"ð²",wscr:"ð",xcap:"â",xcirc:"â¯",xcup:"â",xdtri:"â½",Xfr:"ð",xfr:"ðµ",xhArr:"âº",xharr:"â·",Xi:"Î",xi:"Î¾",xlArr:"â¸",xlarr:"âµ",xmap:"â¼",xnis:"â»",xodot:"â¨",Xopf:"ð",xopf:"ð©",xoplus:"â¨",xotime:"â¨",xrArr:"â¹",xrarr:"â¶",Xscr:"ð³",xscr:"ð",xsqcup:"â¨",xuplus:"â¨",xutri:"â³",xvee:"â",xwedge:"â",Yacute:"Ã",yacute:"Ã½",YAcy:"Ð¯",yacy:"Ñ",Ycirc:"Å¶",ycirc:"Å·",Ycy:"Ð«",ycy:"Ñ",yen:"Â¥",Yfr:"ð",yfr:"ð¶",YIcy:"Ð",yicy:"Ñ",Yopf:"ð",yopf:"ðª",Yscr:"ð´",yscr:"ð",YUcy:"Ð®",yucy:"Ñ",Yuml:"Å¸",yuml:"Ã¿",Zacute:"Å¹",zacute:"Åº",Zcaron:"Å½",zcaron:"Å¾",Zcy:"Ð",zcy:"Ð·",Zdot:"Å»",zdot:"Å¼",zeetrf:"â¨",ZeroWidthSpace:"â",Zeta:"Î",zeta:"Î¶",Zfr:"â¨",zfr:"ð·",ZHcy:"Ð",zhcy:"Ð¶",zigrarr:"â",Zopf:"â¤",zopf:"ð«",Zscr:"ðµ",zscr:"ð",zwj:"â",zwnj:"â"}),t.entityMap=t.HTML_ENTITIES},"./node_modules/@xmldom/xmldom/lib/index.js":function(e,t,o){var n=o("./node_modules/@xmldom/xmldom/lib/dom.js");t.DOMImplementation=n.DOMImplementation,t.XMLSerializer=n.XMLSerializer,t.DOMParser=o("./node_modules/@xmldom/xmldom/lib/dom-parser.js").DOMParser},"./node_modules/@xmldom/xmldom/lib/sax.js":function(e,t,o){var n=o("./node_modules/@xmldom/xmldom/lib/conventions.js").NAMESPACE,r=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,i=new RegExp("[\\-\\.0-9"+r.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),a=new RegExp("^"+r.source+i.source+"*(?::"+r.source+i.source+"*)?$");function s(e,t){this.message=e,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,s)}function l(){}function c(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function u(e,t,o,r,i,a){function s(e,t,n){o.attributeNames.hasOwnProperty(e)&&a.fatalError("Attribute "+e+" redefined"),o.addValue(e,t.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,i),n)}for(var l,c=++t,u=0;;){var d=e.charAt(c);switch(d){case"=":if(1===u)l=e.slice(t,c),u=3;else{if(2!==u)throw new Error("attribute equal must after attrName");u=3}break;case"'":case'"':if(3===u||1===u){if(1===u&&(a.warning('attribute value must after "="'),l=e.slice(t,c)),t=c+1,!((c=e.indexOf(d,t))>0))throw new Error("attribute value no end '"+d+"' match");s(l,h=e.slice(t,c),t-1),u=5}else{if(4!=u)throw new Error('attribute value must after "="');s(l,h=e.slice(t,c),t),a.warning('attribute "'+l+'" missed start quot('+d+")!!"),t=c+1,u=5}break;case"/":switch(u){case 0:o.setTagName(e.slice(t,c));case 5:case 6:case 7:u=7,o.closed=!0;case 4:case 1:break;case 2:o.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return a.error("unexpected end of input"),0==u&&o.setTagName(e.slice(t,c)),c;case">":switch(u){case 0:o.setTagName(e.slice(t,c));case 5:case 6:case 7:break;case 4:case 1:"/"===(h=e.slice(t,c)).slice(-1)&&(o.closed=!0,h=h.slice(0,-1));case 2:2===u&&(h=l),4==u?(a.warning('attribute "'+h+'" missed quot(")!'),s(l,h,t)):(n.isHTML(r[""])&&h.match(/^(?:disabled|checked|selected)$/i)||a.warning('attribute "'+h+'" missed value!! "'+h+'" instead!!'),s(h,h,t));break;case 3:throw new Error("attribute value missed!!")}return c;case"Â":d=" ";default:if(d<=" ")switch(u){case 0:o.setTagName(e.slice(t,c)),u=6;break;case 1:l=e.slice(t,c),u=2;break;case 4:var h=e.slice(t,c);a.warning('attribute "'+h+'" missed quot(")!!'),s(l,h,t);case 5:u=6}else switch(u){case 2:o.tagName;n.isHTML(r[""])&&l.match(/^(?:disabled|checked|selected)$/i)||a.warning('attribute "'+l+'" missed value!! "'+l+'" instead2!!'),s(l,l,t),t=c,u=1;break;case 5:a.warning('attribute space is required"'+l+'"!!');case 6:u=1,t=c;break;case 3:u=4,t=c;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}c++}}function d(e,t,o){for(var r=e.tagName,i=null,a=e.length;a--;){var s=e[a],l=s.qName,c=s.value;if((p=l.indexOf(":"))>0)var u=s.prefix=l.slice(0,p),d=l.slice(p+1),h="xmlns"===u&&d;else d=l,u=null,h="xmlns"===l&&"";s.localName=d,!1!==h&&(null==i&&(i={},f(o,o={})),o[h]=i[h]=c,s.uri=n.XMLNS,t.startPrefixMapping(h,c))}for(a=e.length;a--;){(u=(s=e[a]).prefix)&&("xml"===u&&(s.uri=n.XML),"xmlns"!==u&&(s.uri=o[u||""]))}var p;(p=r.indexOf(":"))>0?(u=e.prefix=r.slice(0,p),d=e.localName=r.slice(p+1)):(u=null,d=e.localName=r);var g=e.uri=o[u||""];if(t.startElement(g,d,r,e),!e.closed)return e.currentNSMap=o,e.localNSMap=i,!0;if(t.endElement(g,d,r),i)for(u in i)Object.prototype.hasOwnProperty.call(i,u)&&t.endPrefixMapping(u)}function h(e,t,o,n,r){if(/^(?:script|textarea)$/i.test(o)){var i=e.indexOf("</"+o+">",t),a=e.substring(t+1,i);if(/[&<]/.test(a))return/^script$/i.test(o)?(r.characters(a,0,a.length),i):(a=a.replace(/&#?\w+;/g,n),r.characters(a,0,a.length),i)}return t+1}function p(e,t,o,n){var r=n[o];return null==r&&((r=e.lastIndexOf("</"+o+">"))<t&&(r=e.lastIndexOf("</"+o)),n[o]=r),r<t}function f(e,t){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}function g(e,t,o,n){switch(e.charAt(t+2)){case"-":return"-"===e.charAt(t+3)?(r=e.indexOf("--\x3e",t+4))>t?(o.comment(e,t+4,r-t-4),r+3):(n.error("Unclosed comment"),-1):-1;default:if("CDATA["==e.substr(t+3,6)){var r=e.indexOf("]]>",t+9);return o.startCDATA(),o.characters(e,t+9,r-t-9),o.endCDATA(),r+3}var i=function(e,t){var o,n=[],r=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;r.lastIndex=t,r.exec(e);for(;o=r.exec(e);)if(n.push(o),o[1])return n}(e,t),a=i.length;if(a>1&&/!doctype/i.test(i[0][0])){var s=i[1][0],l=!1,c=!1;a>3&&(/^public$/i.test(i[2][0])?(l=i[3][0],c=a>4&&i[4][0]):/^system$/i.test(i[2][0])&&(c=i[3][0]));var u=i[a-1];return o.startDTD(s,l,c),o.endDTD(),u.index+u[0].length}}return-1}function m(e,t,o){var n=e.indexOf("?>",t);if(n){var r=e.substring(t,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(r){r[0].length;return o.processingInstruction(r[1],r[2]),n+2}return-1}return-1}function y(){this.attributeNames={}}s.prototype=new Error,s.prototype.name=s.name,l.prototype={parse:function(e,t,o){var r=this.domBuilder;r.startDocument(),f(t,t={}),function(e,t,o,r,i){function a(e){var t=e.slice(1,-1);return Object.hasOwnProperty.call(o,t)?o[t]:"#"===t.charAt(0)?function(e){if(e>65535){var t=55296+((e-=65536)>>10),o=56320+(1023&e);return String.fromCharCode(t,o)}return String.fromCharCode(e)}(parseInt(t.substr(1).replace("x","0x"))):(i.error("entity not found:"+e),e)}function l(t){if(t>E){var o=e.substring(E,t).replace(/&#?\w+;/g,a);A&&f(E),r.characters(o,0,t-E),E=t}}function f(t,o){for(;t>=_&&(o=b.exec(e));)v=o.index,_=v+o[0].length,A.lineNumber++;A.columnNumber=t-v+1}var v=0,_=0,b=/.*(?:\r\n?|\n)|.*$/g,A=r.locator,C=[{currentNSMap:t}],w={},E=0;for(;;){try{var I=e.indexOf("<",E);if(I<0){if(!e.substr(E).match(/^\s*$/)){var O=r.doc,S=O.createTextNode(e.substr(E));O.appendChild(S),r.currentElement=S}return}switch(I>E&&l(I),e.charAt(I+1)){case"/":var x=e.indexOf(">",I+3),j=e.substring(I+2,x).replace(/[ \t\n\r]+$/g,""),P=C.pop();x<0?(j=e.substring(I+2).replace(/[\s<].*/,""),i.error("end tag name: "+j+" is not complete:"+P.tagName),x=I+1+j.length):j.match(/\s</)&&(j=j.replace(/[\s<].*/,""),i.error("end tag name: "+j+" maybe not complete"),x=I+1+j.length);var T=P.localNSMap,M=P.tagName==j;if(M||P.tagName&&P.tagName.toLowerCase()==j.toLowerCase()){if(r.endElement(P.uri,P.localName,j),T)for(var R in T)Object.prototype.hasOwnProperty.call(T,R)&&r.endPrefixMapping(R);M||i.fatalError("end tag name: "+j+" is not match the current start tagName:"+P.tagName)}else C.push(P);x++;break;case"?":A&&f(I),x=m(e,I,r);break;case"!":A&&f(I),x=g(e,I,r,i);break;default:A&&f(I);var L=new y,k=C[C.length-1].currentNSMap,G=(x=u(e,I,L,k,a,i),L.length);if(!L.closed&&p(e,x,L.tagName,w)&&(L.closed=!0,o.nbsp||i.warning("unclosed xml attribute")),A&&G){for(var D=c(A,{}),N=0;N<G;N++){var F=L[N];f(F.offset),F.locator=c(A,{})}r.locator=D,d(L,r,k)&&C.push(L),r.locator=A}else d(L,r,k)&&C.push(L);n.isHTML(L.uri)&&!L.closed?x=h(e,x,L.tagName,a,r):x++}}catch(e){if(e instanceof s)throw e;i.error("element parse error: "+e),x=-1}x>E?E=x:l(Math.max(I,E)+1)}}(e,t,o,r,this.errorHandler),r.endDocument()}},y.prototype={setTagName:function(e){if(!a.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},addValue:function(e,t,o){if(!a.test(e))throw new Error("invalid attribute:"+e);this.attributeNames[e]=this.length,this[this.length++]={qName:e,value:t,offset:o}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},t.XMLReader=l,t.ParseError=s},"./node_modules/base64-js/index.js":function(e,t,o){"use strict";t.byteLength=function(e){var t=c(e),o=t[0],n=t[1];return 3*(o+n)/4-n},t.toByteArray=function(e){var t,o,n=c(e),a=n[0],s=n[1],l=new i(function(e,t,o){return 3*(t+o)/4-o}(0,a,s)),u=0,d=s>0?a-4:a;for(o=0;o<d;o+=4)t=r[e.charCodeAt(o)]<<18|r[e.charCodeAt(o+1)]<<12|r[e.charCodeAt(o+2)]<<6|r[e.charCodeAt(o+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;2===s&&(t=r[e.charCodeAt(o)]<<2|r[e.charCodeAt(o+1)]>>4,l[u++]=255&t);1===s&&(t=r[e.charCodeAt(o)]<<10|r[e.charCodeAt(o+1)]<<4|r[e.charCodeAt(o+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t);return l},t.fromByteArray=function(e){for(var t,o=e.length,r=o%3,i=[],a=0,s=o-r;a<s;a+=16383)i.push(u(e,a,a+16383>s?s:a+16383));1===r?(t=e[o-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===r&&(t=(e[o-2]<<8)+e[o-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return i.join("")};for(var n=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)n[s]=a[s],r[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var o=e.indexOf("=");return-1===o&&(o=t),[o,o===t?0:4-o%4]}function u(e,t,o){for(var r,i,a=[],s=t;s<o;s+=3)r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(i=r)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},"./node_modules/buffer/index.js":function(e,t,o){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var n=o("./node_modules/base64-js/index.js"),r=o("./node_modules/ieee754/index.js"),i=o("./node_modules/isarray/index.js");function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,o){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,o);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return c(this,e,t,o)}function c(e,t,o,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,o,n){if(t.byteLength,o<0||t.byteLength<o)throw new RangeError("'offset' is out of bounds");if(t.byteLength<o+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===o&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,o):new Uint8Array(t,o,n);l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=h(e,t);return e}(e,t,o,n):"string"==typeof t?function(e,t,o){"string"==typeof o&&""!==o||(o="utf8");if(!l.isEncoding(o))throw new TypeError('"encoding" must be a valid string encoding');var n=0|f(t,o),r=(e=s(e,n)).write(t,o);r!==n&&(e=e.slice(0,r));return e}(e,t,o):function(e,t){if(l.isBuffer(t)){var o=0|p(t.length);return 0===(e=s(e,o)).length||t.copy(e,0,0,o),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?s(e,0):h(e,t);if("Buffer"===t.type&&i(t.data))return h(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(u(t),e=s(e,t<0?0:0|p(t)),!l.TYPED_ARRAY_SUPPORT)for(var o=0;o<t;++o)e[o]=0;return e}function h(e,t){var o=t.length<0?0:0|p(t.length);e=s(e,o);for(var n=0;n<o;n+=1)e[n]=255&t[n];return e}function p(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function f(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var o=e.length;if(0===o)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return o;case"utf8":case"utf-8":case void 0:return U(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*o;case"hex":return o>>>1;case"base64":return B(e).length;default:if(n)return U(e).length;t=(""+t).toLowerCase(),n=!0}}function g(e,t,o){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===o||o>this.length)&&(o=this.length),o<=0)return"";if((o>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return j(this,t,o);case"utf8":case"utf-8":return O(this,t,o);case"ascii":return S(this,t,o);case"latin1":case"binary":return x(this,t,o);case"base64":return I(this,t,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,o);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function m(e,t,o){var n=e[t];e[t]=e[o],e[o]=n}function y(e,t,o,n,r){if(0===e.length)return-1;if("string"==typeof o?(n=o,o=0):o>2147483647?o=2147483647:o<-2147483648&&(o=-2147483648),o=+o,isNaN(o)&&(o=r?0:e.length-1),o<0&&(o=e.length+o),o>=e.length){if(r)return-1;o=e.length-1}else if(o<0){if(!r)return-1;o=0}if("string"==typeof t&&(t=l.from(t,n)),l.isBuffer(t))return 0===t.length?-1:v(e,t,o,n,r);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,o):Uint8Array.prototype.lastIndexOf.call(e,t,o):v(e,[t],o,n,r);throw new TypeError("val must be string, number or Buffer")}function v(e,t,o,n,r){var i,a=1,s=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,o/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(r){var u=-1;for(i=o;i<s;i++)if(c(e,i)===c(t,-1===u?0:i-u)){if(-1===u&&(u=i),i-u+1===l)return u*a}else-1!==u&&(i-=i-u),u=-1}else for(o+l>s&&(o=s-l),i=o;i>=0;i--){for(var d=!0,h=0;h<l;h++)if(c(e,i+h)!==c(t,h)){d=!1;break}if(d)return i}return-1}function _(e,t,o,n){o=Number(o)||0;var r=e.length-o;n?(n=Number(n))>r&&(n=r):n=r;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");n>i/2&&(n=i/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[o+a]=s}return a}function b(e,t,o,n){return z(U(t,e.length-o),e,o,n)}function A(e,t,o,n){return z(function(e){for(var t=[],o=0;o<e.length;++o)t.push(255&e.charCodeAt(o));return t}(t),e,o,n)}function C(e,t,o,n){return A(e,t,o,n)}function w(e,t,o,n){return z(B(t),e,o,n)}function E(e,t,o,n){return z(function(e,t){for(var o,n,r,i=[],a=0;a<e.length&&!((t-=2)<0);++a)o=e.charCodeAt(a),n=o>>8,r=o%256,i.push(r),i.push(n);return i}(t,e.length-o),e,o,n)}function I(e,t,o){return 0===t&&o===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,o))}function O(e,t,o){o=Math.min(e.length,o);for(var n=[],r=t;r<o;){var i,a,s,l,c=e[r],u=null,d=c>239?4:c>223?3:c>191?2:1;if(r+d<=o)switch(d){case 1:c<128&&(u=c);break;case 2:128==(192&(i=e[r+1]))&&(l=(31&c)<<6|63&i)>127&&(u=l);break;case 3:i=e[r+1],a=e[r+2],128==(192&i)&&128==(192&a)&&(l=(15&c)<<12|(63&i)<<6|63&a)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:i=e[r+1],a=e[r+2],s=e[r+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&(l=(15&c)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,d=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|1023&u),n.push(u),r+=d}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var o="",n=0;for(;n<t;)o+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return o}(n)}t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,o){return c(null,e,t,o)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,o){return function(e,t,o,n){return u(t),t<=0?s(e,t):void 0!==o?"string"==typeof n?s(e,t).fill(o,n):s(e,t).fill(o):s(e,t)}(null,e,t,o)},l.allocUnsafe=function(e){return d(null,e)},l.allocUnsafeSlow=function(e){return d(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var o=e.length,n=t.length,r=0,i=Math.min(o,n);r<i;++r)if(e[r]!==t[r]){o=e[r],n=t[r];break}return o<n?-1:n<o?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var o;if(void 0===t)for(t=0,o=0;o<e.length;++o)t+=e[o].length;var n=l.allocUnsafe(t),r=0;for(o=0;o<e.length;++o){var a=e[o];if(!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,r),r+=a.length}return n},l.byteLength=f,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?O(this,0,e):g.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",o=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,o).match(/.{2}/g).join(" "),this.length>o&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,o,n,r){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===o&&(o=e?e.length:0),void 0===n&&(n=0),void 0===r&&(r=this.length),t<0||o>e.length||n<0||r>this.length)throw new RangeError("out of range index");if(n>=r&&t>=o)return 0;if(n>=r)return-1;if(t>=o)return 1;if(this===e)return 0;for(var i=(r>>>=0)-(n>>>=0),a=(o>>>=0)-(t>>>=0),s=Math.min(i,a),c=this.slice(n,r),u=e.slice(t,o),d=0;d<s;++d)if(c[d]!==u[d]){i=c[d],a=u[d];break}return i<a?-1:a<i?1:0},l.prototype.includes=function(e,t,o){return-1!==this.indexOf(e,t,o)},l.prototype.indexOf=function(e,t,o){return y(this,e,t,o,!0)},l.prototype.lastIndexOf=function(e,t,o){return y(this,e,t,o,!1)},l.prototype.write=function(e,t,o,n){if(void 0===t)n="utf8",o=this.length,t=0;else if(void 0===o&&"string"==typeof t)n=t,o=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(o)?(o|=0,void 0===n&&(n="utf8")):(n=o,o=void 0)}var r=this.length-t;if((void 0===o||o>r)&&(o=r),e.length>0&&(o<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return _(this,e,t,o);case"utf8":case"utf-8":return b(this,e,t,o);case"ascii":return A(this,e,t,o);case"latin1":case"binary":return C(this,e,t,o);case"base64":return w(this,e,t,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,o);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function S(e,t,o){var n="";o=Math.min(e.length,o);for(var r=t;r<o;++r)n+=String.fromCharCode(127&e[r]);return n}function x(e,t,o){var n="";o=Math.min(e.length,o);for(var r=t;r<o;++r)n+=String.fromCharCode(e[r]);return n}function j(e,t,o){var n=e.length;(!t||t<0)&&(t=0),(!o||o<0||o>n)&&(o=n);for(var r="",i=t;i<o;++i)r+=F(e[i]);return r}function P(e,t,o){for(var n=e.slice(t,o),r="",i=0;i<n.length;i+=2)r+=String.fromCharCode(n[i]+256*n[i+1]);return r}function T(e,t,o){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>o)throw new RangeError("Trying to access beyond buffer length")}function M(e,t,o,n,r,i){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<i)throw new RangeError('"value" argument is out of bounds');if(o+n>e.length)throw new RangeError("Index out of range")}function R(e,t,o,n){t<0&&(t=65535+t+1);for(var r=0,i=Math.min(e.length-o,2);r<i;++r)e[o+r]=(t&255<<8*(n?r:1-r))>>>8*(n?r:1-r)}function L(e,t,o,n){t<0&&(t=4294967295+t+1);for(var r=0,i=Math.min(e.length-o,4);r<i;++r)e[o+r]=t>>>8*(n?r:3-r)&255}function k(e,t,o,n,r,i){if(o+n>e.length)throw new RangeError("Index out of range");if(o<0)throw new RangeError("Index out of range")}function G(e,t,o,n,i){return i||k(e,0,o,4),r.write(e,t,o,n,23,4),o+4}function D(e,t,o,n,i){return i||k(e,0,o,8),r.write(e,t,o,n,52,8),o+8}l.prototype.slice=function(e,t){var o,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(o=this.subarray(e,t)).__proto__=l.prototype;else{var r=t-e;o=new l(r,void 0);for(var i=0;i<r;++i)o[i]=this[i+e]}return o},l.prototype.readUIntLE=function(e,t,o){e|=0,t|=0,o||T(e,t,this.length);for(var n=this[e],r=1,i=0;++i<t&&(r*=256);)n+=this[e+i]*r;return n},l.prototype.readUIntBE=function(e,t,o){e|=0,t|=0,o||T(e,t,this.length);for(var n=this[e+--t],r=1;t>0&&(r*=256);)n+=this[e+--t]*r;return n},l.prototype.readUInt8=function(e,t){return t||T(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||T(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||T(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||T(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||T(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,o){e|=0,t|=0,o||T(e,t,this.length);for(var n=this[e],r=1,i=0;++i<t&&(r*=256);)n+=this[e+i]*r;return n>=(r*=128)&&(n-=Math.pow(2,8*t)),n},l.prototype.readIntBE=function(e,t,o){e|=0,t|=0,o||T(e,t,this.length);for(var n=t,r=1,i=this[e+--n];n>0&&(r*=256);)i+=this[e+--n]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*t)),i},l.prototype.readInt8=function(e,t){return t||T(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||T(e,2,this.length);var o=this[e]|this[e+1]<<8;return 32768&o?4294901760|o:o},l.prototype.readInt16BE=function(e,t){t||T(e,2,this.length);var o=this[e+1]|this[e]<<8;return 32768&o?4294901760|o:o},l.prototype.readInt32LE=function(e,t){return t||T(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||T(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||T(e,4,this.length),r.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||T(e,4,this.length),r.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||T(e,8,this.length),r.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||T(e,8,this.length),r.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,o,n){(e=+e,t|=0,o|=0,n)||M(this,e,t,o,Math.pow(2,8*o)-1,0);var r=1,i=0;for(this[t]=255&e;++i<o&&(r*=256);)this[t+i]=e/r&255;return t+o},l.prototype.writeUIntBE=function(e,t,o,n){(e=+e,t|=0,o|=0,n)||M(this,e,t,o,Math.pow(2,8*o)-1,0);var r=o-1,i=1;for(this[t+r]=255&e;--r>=0&&(i*=256);)this[t+r]=e/i&255;return t+o},l.prototype.writeUInt8=function(e,t,o){return e=+e,t|=0,o||M(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,o){return e=+e,t|=0,o||M(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,o){return e=+e,t|=0,o||M(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,o){return e=+e,t|=0,o||M(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):L(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,o){return e=+e,t|=0,o||M(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,o,n){if(e=+e,t|=0,!n){var r=Math.pow(2,8*o-1);M(this,e,t,o,r-1,-r)}var i=0,a=1,s=0;for(this[t]=255&e;++i<o&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+o},l.prototype.writeIntBE=function(e,t,o,n){if(e=+e,t|=0,!n){var r=Math.pow(2,8*o-1);M(this,e,t,o,r-1,-r)}var i=o-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+o},l.prototype.writeInt8=function(e,t,o){return e=+e,t|=0,o||M(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,o){return e=+e,t|=0,o||M(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,o){return e=+e,t|=0,o||M(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,o){return e=+e,t|=0,o||M(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):L(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,o){return e=+e,t|=0,o||M(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,o){return G(this,e,t,!0,o)},l.prototype.writeFloatBE=function(e,t,o){return G(this,e,t,!1,o)},l.prototype.writeDoubleLE=function(e,t,o){return D(this,e,t,!0,o)},l.prototype.writeDoubleBE=function(e,t,o){return D(this,e,t,!1,o)},l.prototype.copy=function(e,t,o,n){if(o||(o=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<o&&(n=o),n===o)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(o<0||o>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-o&&(n=e.length-t+o);var r,i=n-o;if(this===e&&o<t&&t<n)for(r=i-1;r>=0;--r)e[r+t]=this[r+o];else if(i<1e3||!l.TYPED_ARRAY_SUPPORT)for(r=0;r<i;++r)e[r+t]=this[r+o];else Uint8Array.prototype.set.call(e,this.subarray(o,o+i),t);return i},l.prototype.fill=function(e,t,o,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,o=this.length):"string"==typeof o&&(n=o,o=this.length),1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!l.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<o)throw new RangeError("Out of range index");if(o<=t)return this;var i;if(t>>>=0,o=void 0===o?this.length:o>>>0,e||(e=0),"number"==typeof e)for(i=t;i<o;++i)this[i]=e;else{var a=l.isBuffer(e)?e:U(new l(e,n).toString()),s=a.length;for(i=0;i<o-t;++i)this[i+t]=a[i%s]}return this};var N=/[^+\/0-9A-Za-z-_]/g;function F(e){return e<16?"0"+e.toString(16):e.toString(16)}function U(e,t){var o;t=t||1/0;for(var n=e.length,r=null,i=[],a=0;a<n;++a){if((o=e.charCodeAt(a))>55295&&o<57344){if(!r){if(o>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&i.push(239,191,189);continue}r=o;continue}if(o<56320){(t-=3)>-1&&i.push(239,191,189),r=o;continue}o=65536+(r-55296<<10|o-56320)}else r&&(t-=3)>-1&&i.push(239,191,189);if(r=null,o<128){if((t-=1)<0)break;i.push(o)}else if(o<2048){if((t-=2)<0)break;i.push(o>>6|192,63&o|128)}else if(o<65536){if((t-=3)<0)break;i.push(o>>12|224,o>>6&63|128,63&o|128)}else{if(!(o<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}}return i}function B(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(N,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function z(e,t,o,n){for(var r=0;r<n&&!(r+o>=t.length||r>=e.length);++r)t[r+o]=e[r];return r}}).call(this,o("./node_modules/webpack/buildin/global.js"))},"./node_modules/debug/src/browser.js":function(e,t,o){(function(n){t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const o="color: "+this.color;t.splice(1,0,o,"color: inherit");let n=0,r=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(n++,"%c"===e&&(r=n))}),t.splice(r,0,o)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}!e&&void 0!==n&&"env"in n&&(e=n.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=o("./node_modules/debug/src/common.js")(t);const{formatters:r}=e.exports;r.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}).call(this,o("./node_modules/process/browser.js"))},"./node_modules/debug/src/common.js":function(e,t,o){e.exports=function(e){function t(e){let o,r,i,a=null;function s(...e){if(!s.enabled)return;const n=s,r=Number(new Date),i=r-(o||r);n.diff=i,n.prev=o,n.curr=r,o=r,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(o,r)=>{if("%%"===o)return"%";a++;const i=t.formatters[r];if("function"==typeof i){const t=e[a];o=i.call(n,t),e.splice(a,1),a--}return o}),t.formatArgs.call(n,e);(n.log||t.log).apply(n,e)}return s.namespace=e,s.useColors=t.useColors(),s.color=t.selectColor(e),s.extend=n,s.destroy=t.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==a?a:(r!==t.namespaces&&(r=t.namespaces,i=t.enabled(e)),i),set:e=>{a=e}}),"function"==typeof t.init&&t.init(s),s}function n(e,o){const n=t(this.namespace+(void 0===o?":":o)+e);return n.log=this.log,n}function r(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){const e=[...t.names.map(r),...t.skips.map(r).map(e=>"-"+e)].join(",");return t.enable(""),e},t.enable=function(e){let o;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),r=n.length;for(o=0;o<r;o++)n[o]&&("-"===(e=n[o].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let o,n;for(o=0,n=t.skips.length;o<n;o++)if(t.skips[o].test(e))return!1;for(o=0,n=t.names.length;o<n;o++)if(t.names[o].test(e))return!0;return!1},t.humanize=o("./node_modules/ms/index.js"),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach(o=>{t[o]=e[o]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let o=0;for(let t=0;t<e.length;t++)o=(o<<5)-o+e.charCodeAt(t),o|=0;return t.colors[Math.abs(o)%t.colors.length]},t.enable(t.load()),t}},"./node_modules/es6-promise/dist/es6-promise.js":function(e,t,o){(function(t,o){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */var n;n=function(){"use strict";function e(e){return"function"==typeof e}var n=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},r=0,i=void 0,a=void 0,s=function(e,t){f[r]=e,f[r+1]=t,2===(r+=2)&&(a?a(g):b())},l="undefined"!=typeof window?window:void 0,c=l||{},u=c.MutationObserver||c.WebKitMutationObserver,d="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),h="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function p(){var e=setTimeout;return function(){return e(g,1)}}var f=new Array(1e3);function g(){for(var e=0;e<r;e+=2)(0,f[e])(f[e+1]),f[e]=void 0,f[e+1]=void 0;r=0}var m,y,v,_,b=void 0;function A(e,t){var o=this,n=new this.constructor(E);void 0===n[w]&&L(n);var r=o._state;if(r){var i=arguments[r-1];s((function(){return M(r,n,i,o._result)}))}else P(o,n,e,t);return n}function C(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(E);return O(t,e),t}d?b=function(){return t.nextTick(g)}:u?(y=0,v=new u(g),_=document.createTextNode(""),v.observe(_,{characterData:!0}),b=function(){_.data=y=++y%2}):h?((m=new MessageChannel).port1.onmessage=g,b=function(){return m.port2.postMessage(0)}):b=void 0===l?function(){try{var e=Function("return this")().require("vertx");return void 0!==(i=e.runOnLoop||e.runOnContext)?function(){i(g)}:p()}catch(e){return p()}}():p();var w=Math.random().toString(36).substring(2);function E(){}function I(t,o,n){o.constructor===t.constructor&&n===A&&o.constructor.resolve===C?function(e,t){1===t._state?x(e,t._result):2===t._state?j(e,t._result):P(t,void 0,(function(t){return O(e,t)}),(function(t){return j(e,t)}))}(t,o):void 0===n?x(t,o):e(n)?function(e,t,o){s((function(e){var n=!1,r=function(e,t,o,n){try{e.call(t,o,n)}catch(e){return e}}(o,t,(function(o){n||(n=!0,t!==o?O(e,o):x(e,o))}),(function(t){n||(n=!0,j(e,t))}),e._label);!n&&r&&(n=!0,j(e,r))}),e)}(t,o,n):x(t,o)}function O(e,t){if(e===t)j(e,new TypeError("You cannot resolve a promise with itself"));else if(r=typeof(n=t),null===n||"object"!==r&&"function"!==r)x(e,t);else{var o=void 0;try{o=t.then}catch(t){return void j(e,t)}I(e,t,o)}var n,r}function S(e){e._onerror&&e._onerror(e._result),T(e)}function x(e,t){void 0===e._state&&(e._result=t,e._state=1,0!==e._subscribers.length&&s(T,e))}function j(e,t){void 0===e._state&&(e._state=2,e._result=t,s(S,e))}function P(e,t,o,n){var r=e._subscribers,i=r.length;e._onerror=null,r[i]=t,r[i+1]=o,r[i+2]=n,0===i&&e._state&&s(T,e)}function T(e){var t=e._subscribers,o=e._state;if(0!==t.length){for(var n=void 0,r=void 0,i=e._result,a=0;a<t.length;a+=3)n=t[a],r=t[a+o],n?M(o,n,r,i):r(i);e._subscribers.length=0}}function M(t,o,n,r){var i=e(n),a=void 0,s=void 0,l=!0;if(i){try{a=n(r)}catch(e){l=!1,s=e}if(o===a)return void j(o,new TypeError("A promises callback cannot return that same promise."))}else a=r;void 0!==o._state||(i&&l?O(o,a):!1===l?j(o,s):1===t?x(o,a):2===t&&j(o,a))}var R=0;function L(e){e[w]=R++,e._state=void 0,e._result=void 0,e._subscribers=[]}var k=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(E),this.promise[w]||L(this.promise),n(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?x(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&x(this.promise,this._result))):j(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;void 0===this._state&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var o=this._instanceConstructor,n=o.resolve;if(n===C){var r=void 0,i=void 0,a=!1;try{r=e.then}catch(e){a=!0,i=e}if(r===A&&void 0!==e._state)this._settledAt(e._state,t,e._result);else if("function"!=typeof r)this._remaining--,this._result[t]=e;else if(o===G){var s=new o(E);a?j(s,i):I(s,e,r),this._willSettleAt(s,t)}else this._willSettleAt(new o((function(t){return t(e)})),t)}else this._willSettleAt(n(e),t)},e.prototype._settledAt=function(e,t,o){var n=this.promise;void 0===n._state&&(this._remaining--,2===e?j(n,o):this._result[t]=o),0===this._remaining&&x(n,this._result)},e.prototype._willSettleAt=function(e,t){var o=this;P(e,void 0,(function(e){return o._settledAt(1,t,e)}),(function(e){return o._settledAt(2,t,e)}))},e}(),G=function(){function t(e){this[w]=R++,this._result=this._state=void 0,this._subscribers=[],E!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(e,t){try{t((function(t){O(e,t)}),(function(t){j(e,t)}))}catch(t){j(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var o=this.constructor;return e(t)?this.then((function(e){return o.resolve(t()).then((function(){return e}))}),(function(e){return o.resolve(t()).then((function(){throw e}))})):this.then(t,t)},t}();return G.prototype.then=A,G.all=function(e){return new k(this,e).promise},G.race=function(e){var t=this;return n(e)?new t((function(o,n){for(var r=e.length,i=0;i<r;i++)t.resolve(e[i]).then(o,n)})):new t((function(e,t){return t(new TypeError("You must pass an array to race."))}))},G.resolve=C,G.reject=function(e){var t=new this(E);return j(t,e),t},G._setScheduler=function(e){a=e},G._setAsap=function(e){s=e},G._asap=s,G.polyfill=function(){var e=void 0;if(void 0!==o)e=o;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=G},G.Promise=G,G},e.exports=n()}).call(this,o("./node_modules/process/browser.js"),o("./node_modules/webpack/buildin/global.js"))},"./node_modules/eslint-loader/dist/cjs.js?!./src/Utils/dist-openlayers/index.js":function(e,t,o){"use strict";o.r(t);var n,r,i=o("./node_modules/ol/AssertionError.js"),a=o("./node_modules/ol/Collection.js"),s=o("./node_modules/ol/Tile.js"),l=o("./node_modules/ol/TileState.js"),c=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),u=function(e){function t(t){var o=this,n=l.a.IDLE;return(o=e.call(this,t.tileCoord,n,{transition:t.transition})||this).loader_=t.loader,o.data_=null,o.error_=null,o}return c(t,e),t.prototype.getData=function(){return this.data_},t.prototype.getError=function(){return this.error_},t.prototype.load=function(){this.state=l.a.LOADING,this.changed();var e=this;this.loader_().then((function(t){e.data_=t,e.state=l.a.LOADED,e.changed()})).catch((function(t){e.error_=t,e.state=l.a.ERROR,e.changed()}))},t}(s.a),d=o("./node_modules/ol/Disposable.js"),h=o("./node_modules/ol/Feature.js"),p=o("./node_modules/ol/events/Event.js"),f=o("./node_modules/ol/Object.js"),g=o("./node_modules/ol/events/EventType.js"),m=o("./node_modules/ol/geom/Polygon.js"),y=o("./node_modules/ol/proj.js"),v=o("./node_modules/ol/math.js"),_=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),b="accuracy",A="accuracyGeometry",C="altitude",w="altitudeAccuracy",E="heading",I="position",O="projection",S="speed",x="tracking",j="trackingOptions",P=function(e){function t(t){var o=e.call(this,g.a.ERROR)||this;return o.code=t.code,o.message=t.message,o}return _(t,e),t}(p.a),T=function(e){function t(t){var o=e.call(this)||this;o.on,o.once,o.un;var n=t||{};return o.position_=null,o.transform_=y.y,o.watchId_=void 0,o.addChangeListener(O,o.handleProjectionChanged_),o.addChangeListener(x,o.handleTrackingChanged_),void 0!==n.projection&&o.setProjection(n.projection),void 0!==n.trackingOptions&&o.setTrackingOptions(n.trackingOptions),o.setTracking(void 0!==n.tracking&&n.tracking),o}return _(t,e),t.prototype.disposeInternal=function(){this.setTracking(!1),e.prototype.disposeInternal.call(this)},t.prototype.handleProjectionChanged_=function(){var e=this.getProjection();e&&(this.transform_=Object(y.w)(Object(y.t)("EPSG:4326"),e),this.position_&&this.set(I,this.transform_(this.position_)))},t.prototype.handleTrackingChanged_=function(){if("geolocation"in navigator){var e=this.getTracking();e&&void 0===this.watchId_?this.watchId_=navigator.geolocation.watchPosition(this.positionChange_.bind(this),this.positionError_.bind(this),this.getTrackingOptions()):e||void 0===this.watchId_||(navigator.geolocation.clearWatch(this.watchId_),this.watchId_=void 0)}},t.prototype.positionChange_=function(e){var t=e.coords;this.set(b,t.accuracy),this.set(C,null===t.altitude?void 0:t.altitude),this.set(w,null===t.altitudeAccuracy?void 0:t.altitudeAccuracy),this.set(E,null===t.heading?void 0:Object(v.j)(t.heading)),this.position_?(this.position_[0]=t.longitude,this.position_[1]=t.latitude):this.position_=[t.longitude,t.latitude];var o=this.transform_(this.position_);this.set(I,o),this.set(S,null===t.speed?void 0:t.speed);var n=Object(m.a)(this.position_,t.accuracy);n.applyTransform(this.transform_),this.set(A,n),this.changed()},t.prototype.positionError_=function(e){this.dispatchEvent(new P(e))},t.prototype.getAccuracy=function(){return this.get(b)},t.prototype.getAccuracyGeometry=function(){return this.get(A)||null},t.prototype.getAltitude=function(){return this.get(C)},t.prototype.getAltitudeAccuracy=function(){return this.get(w)},t.prototype.getHeading=function(){return this.get(E)},t.prototype.getPosition=function(){return this.get(I)},t.prototype.getProjection=function(){return this.get(O)},t.prototype.getSpeed=function(){return this.get(S)},t.prototype.getTracking=function(){return this.get(x)},t.prototype.getTrackingOptions=function(){return this.get(j)},t.prototype.setProjection=function(e){this.set(O,Object(y.t)(e))},t.prototype.setTracking=function(e){this.set(x,e)},t.prototype.setTrackingOptions=function(e){this.set(j,e)},t}(f.b),M=o("./node_modules/ol/Image.js"),R=o("./node_modules/ol/ImageBase.js"),L=o("./node_modules/ol/ImageState.js"),k=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),G=function(e){function t(t,o,n,r,i){var a=this,s=void 0!==i?L.a.IDLE:L.a.LOADED;return(a=e.call(this,t,o,n,s)||this).loader_=void 0!==i?i:null,a.canvas_=r,a.error_=null,a}return k(t,e),t.prototype.getError=function(){return this.error_},t.prototype.handleLoad_=function(e){e?(this.error_=e,this.state=L.a.ERROR):this.state=L.a.LOADED,this.changed()},t.prototype.load=function(){this.state==L.a.IDLE&&(this.state=L.a.LOADING,this.changed(),this.loader_(this.handleLoad_.bind(this)))},t.prototype.getImage=function(){return this.canvas_},t}(R.a),D=o("./node_modules/ol/ImageTile.js"),N=o("./node_modules/ol/Kinetic.js"),F=o("./node_modules/ol/Map.js"),U=o("./node_modules/ol/MapBrowserEvent.js"),B=o("./node_modules/ol/MapBrowserEventHandler.js"),z=o("./node_modules/ol/MapEvent.js"),V=o("./node_modules/ol/Observable.js"),W=o("./node_modules/ol/Overlay.js"),q=o("./node_modules/ol/PluggableMap.js"),Y=o("./node_modules/ol/TileCache.js"),H=o("./node_modules/ol/TileQueue.js"),X=o("./node_modules/ol/TileRange.js"),Z=o("./node_modules/ol/VectorRenderTile.js"),K=o("./node_modules/ol/VectorTile.js"),J=o("./node_modules/ol/View.js"),Q=o("./node_modules/ol/array.js"),$=o("./node_modules/ol/asserts.js"),ee=o("./node_modules/ol/centerconstraint.js"),te=o("./node_modules/ol/color.js"),oe=o("./node_modules/ol/colorlike.js"),ne=o("./node_modules/ol/control.js"),re=o("./node_modules/ol/coordinate.js"),ie=o("./node_modules/ol/css.js"),ae=o("./node_modules/ol/dom.js"),se=o("./node_modules/ol/easing.js"),le=o("./node_modules/ol/events.js"),ce=o("./node_modules/ol/extent.js"),ue=o("./node_modules/ol/featureloader.js"),de=o("./node_modules/ol/functions.js"),he=o("./node_modules/ol/has.js"),pe=o("./node_modules/ol/interaction.js"),fe=o("./node_modules/ol/loadingstrategy.js"),ge=o("./node_modules/ol/net.js"),me=o("./node_modules/ol/obj.js"),ye=o("./node_modules/ol/render.js"),ve=o("./node_modules/ol/reproj.js"),_e=o("./node_modules/ol/resolutionconstraint.js"),be=o("./node_modules/ol/rotationconstraint.js"),Ae=o("./node_modules/ol/size.js"),Ce=o("./node_modules/ol/sphere.js"),we=o("./node_modules/ol/string.js"),Ee=o("./node_modules/ol/tilecoord.js"),Ie=o("./node_modules/ol/tilegrid.js"),Oe=o("./node_modules/ol/tileurlfunction.js"),Se=o("./node_modules/ol/transform.js"),xe=o("./node_modules/ol/uri.js"),je=o("./node_modules/ol/util.js"),Pe=["experimental-webgl","webgl","webkit-3d","moz-webgl"];function Te(e,t){for(var o=Pe.length,n=0;n<o;++n)try{var r=e.getContext(Pe[n],t);if(r)return r}catch(e){}return null}var Me=o("./node_modules/ol/xml.js"),Re=35044;function Le(e){switch(e){case 34962:return Float32Array;case 34963:return Uint32Array;default:return Float32Array}}var ke=function(){function e(e,t){this.array=null,this.type=e,Object($.a)(34962===e||34963===e,62),this.usage=void 0!==t?t:Re}return e.prototype.ofSize=function(e){this.array=new(Le(this.type))(e)},e.prototype.fromArray=function(e){var t=Le(this.type);this.array=t.from?t.from(e):new t(e)},e.prototype.fromArrayBuffer=function(e){this.array=new(Le(this.type))(e)},e.prototype.getType=function(){return this.type},e.prototype.getArray=function(){return this.array},e.prototype.getUsage=function(){return this.usage},e.prototype.getSize=function(){return this.array?this.array.length:0},e}(),Ge="webglcontextlost",De="webglcontextrestored",Ne=function(){function e(e){this.gl_=e.webGlContext;var t=this.gl_;this.scaleRatio_=e.scaleRatio||1,this.renderTargetTexture_=t.createTexture(),this.renderTargetTextureSize_=null,this.frameBuffer_=t.createFramebuffer();var o=t.createShader(t.VERTEX_SHADER);t.shaderSource(o,e.vertexShader||"\n  precision mediump float;\n  \n  attribute vec2 a_position;\n  varying vec2 v_texCoord;\n  varying vec2 v_screenCoord;\n  \n  uniform vec2 u_screenSize;\n   \n  void main() {\n    v_texCoord = a_position * 0.5 + 0.5;\n    v_screenCoord = v_texCoord * u_screenSize;\n    gl_Position = vec4(a_position, 0.0, 1.0);\n  }\n"),t.compileShader(o);var n=t.createShader(t.FRAGMENT_SHADER);t.shaderSource(n,e.fragmentShader||"\n  precision mediump float;\n   \n  uniform sampler2D u_image;\n   \n  varying vec2 v_texCoord;\n   \n  void main() {\n    gl_FragColor = texture2D(u_image, v_texCoord);\n  }\n"),t.compileShader(n),this.renderTargetProgram_=t.createProgram(),t.attachShader(this.renderTargetProgram_,o),t.attachShader(this.renderTargetProgram_,n),t.linkProgram(this.renderTargetProgram_),this.renderTargetVerticesBuffer_=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),t.bufferData(t.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,1,-1,1,1,-1,1]),t.STATIC_DRAW),this.renderTargetAttribLocation_=t.getAttribLocation(this.renderTargetProgram_,"a_position"),this.renderTargetUniformLocation_=t.getUniformLocation(this.renderTargetProgram_,"u_screenSize"),this.renderTargetTextureLocation_=t.getUniformLocation(this.renderTargetProgram_,"u_image"),this.uniforms_=[],e.uniforms&&Object.keys(e.uniforms).forEach(function(o){this.uniforms_.push({value:e.uniforms[o],location:t.getUniformLocation(this.renderTargetProgram_,o)})}.bind(this))}return e.prototype.getGL=function(){return this.gl_},e.prototype.init=function(e){var t=this.getGL(),o=[t.drawingBufferWidth*this.scaleRatio_,t.drawingBufferHeight*this.scaleRatio_];if(t.bindFramebuffer(t.FRAMEBUFFER,this.getFrameBuffer()),t.viewport(0,0,o[0],o[1]),!this.renderTargetTextureSize_||this.renderTargetTextureSize_[0]!==o[0]||this.renderTargetTextureSize_[1]!==o[1]){this.renderTargetTextureSize_=o;var n=t.RGBA,r=t.RGBA,i=t.UNSIGNED_BYTE;t.bindTexture(t.TEXTURE_2D,this.renderTargetTexture_),t.texImage2D(t.TEXTURE_2D,0,n,o[0],o[1],0,r,i,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.renderTargetTexture_,0)}},e.prototype.apply=function(e,t){var o=this.getGL(),n=e.size;o.bindFramebuffer(o.FRAMEBUFFER,t?t.getFrameBuffer():null),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,this.renderTargetTexture_),o.clearColor(0,0,0,0),o.clear(o.COLOR_BUFFER_BIT),o.enable(o.BLEND),o.blendFunc(o.ONE,o.ONE_MINUS_SRC_ALPHA),o.viewport(0,0,o.drawingBufferWidth,o.drawingBufferHeight),o.bindBuffer(o.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),o.useProgram(this.renderTargetProgram_),o.enableVertexAttribArray(this.renderTargetAttribLocation_),o.vertexAttribPointer(this.renderTargetAttribLocation_,2,o.FLOAT,!1,0,0),o.uniform2f(this.renderTargetUniformLocation_,n[0],n[1]),o.uniform1i(this.renderTargetTextureLocation_,0),this.applyUniforms(e),o.drawArrays(o.TRIANGLES,0,6)},e.prototype.getFrameBuffer=function(){return this.frameBuffer_},e.prototype.applyUniforms=function(e){var t,o=this.getGL(),n=1;this.uniforms_.forEach((function(r){if((t="function"==typeof r.value?r.value(e):r.value)instanceof HTMLCanvasElement||t instanceof ImageData)r.texture||(r.texture=o.createTexture()),o.activeTexture(o["TEXTURE"+n]),o.bindTexture(o.TEXTURE_2D,r.texture),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),t instanceof ImageData?o.texImage2D(o.TEXTURE_2D,0,o.RGBA,o.RGBA,t.width,t.height,0,o.UNSIGNED_BYTE,new Uint8Array(t.data)):o.texImage2D(o.TEXTURE_2D,0,o.RGBA,o.RGBA,o.UNSIGNED_BYTE,t),o.uniform1i(r.location,n++);else if(Array.isArray(t))switch(t.length){case 2:return void o.uniform2f(r.location,t[0],t[1]);case 3:return void o.uniform3f(r.location,t[0],t[1],t[2]);case 4:return void o.uniform4f(r.location,t[0],t[1],t[2],t[3]);default:return}else"number"==typeof t&&o.uniform1f(r.location,t)}))},e}();function Fe(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function Ue(e,t){return e[0]=t[0],e[1]=t[1],e[4]=t[2],e[5]=t[3],e[12]=t[4],e[13]=t[5],e}var Be=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ze="u_projectionMatrix",Ve="u_offsetScaleMatrix",We="u_offsetRotateMatrix",qe="u_time",Ye="u_zoom",He="u_resolution",Xe={UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123,UNSIGNED_INT:5125,FLOAT:5126};function Ze(e){for(var t=0,o=0;o<e.length;o++){var n=e[o];t+=n.size*Ke(n.type)}return t}function Ke(e){switch(e){case Xe.UNSIGNED_BYTE:return Uint8Array.BYTES_PER_ELEMENT;case Xe.UNSIGNED_SHORT:return Uint16Array.BYTES_PER_ELEMENT;case Xe.UNSIGNED_INT:return Uint32Array.BYTES_PER_ELEMENT;case Xe.FLOAT:default:return Float32Array.BYTES_PER_ELEMENT}}var Je=function(e){function t(t){var o=e.call(this)||this,n=t||{};o.boundHandleWebGLContextLost_=o.handleWebGLContextLost.bind(o),o.boundHandleWebGLContextRestored_=o.handleWebGLContextRestored.bind(o),o.canvas_=document.createElement("canvas"),o.canvas_.style.position="absolute",o.canvas_.style.left="0",o.gl_=Te(o.canvas_);var r=o.getGL();if(o.bufferCache_={},o.extensionCache_={},o.currentProgram_=null,o.canvas_.addEventListener(Ge,o.boundHandleWebGLContextLost_),o.canvas_.addEventListener(De,o.boundHandleWebGLContextRestored_),o.offsetRotateMatrix_=Object(Se.d)(),o.offsetScaleMatrix_=Object(Se.d)(),o.tmpMat4_=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],o.uniformLocations_={},o.attribLocations_={},o.uniforms_=[],n.uniforms)for(var i in n.uniforms)o.uniforms_.push({name:i,value:n.uniforms[i]});return o.postProcessPasses_=n.postProcesses?n.postProcesses.map((function(e){return new Ne({webGlContext:r,scaleRatio:e.scaleRatio,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader,uniforms:e.uniforms})})):[new Ne({webGlContext:r})],o.shaderCompileErrors_=null,o.startTime_=Date.now(),o}return Be(t,e),t.prototype.getExtension=function(e){if(e in this.extensionCache_)return this.extensionCache_[e];var t=this.gl_.getExtension(e);return this.extensionCache_[e]=t,t},t.prototype.bindBuffer=function(e){var t=this.getGL(),o=Object(je.c)(e),n=this.bufferCache_[o];n||(n={buffer:e,webGlBuffer:t.createBuffer()},this.bufferCache_[o]=n);t.bindBuffer(e.getType(),n.webGlBuffer)},t.prototype.flushBufferData=function(e){var t=this.getGL();this.bindBuffer(e),t.bufferData(e.getType(),e.getArray(),e.getUsage())},t.prototype.deleteBuffer=function(e){var t=this.getGL(),o=Object(je.c)(e),n=this.bufferCache_[o];n&&!t.isContextLost()&&t.deleteBuffer(n.webGlBuffer),delete this.bufferCache_[o]},t.prototype.disposeInternal=function(){this.canvas_.removeEventListener(Ge,this.boundHandleWebGLContextLost_),this.canvas_.removeEventListener(De,this.boundHandleWebGLContextRestored_);var e=this.gl_.getExtension("WEBGL_lose_context");e&&e.loseContext(),delete this.gl_,delete this.canvas_},t.prototype.prepareDraw=function(e,t){var o=this.getGL(),n=this.getCanvas(),r=e.size,i=e.pixelRatio;n.width=r[0]*i,n.height=r[1]*i,n.style.width=r[0]+"px",n.style.height=r[1]+"px",o.useProgram(this.currentProgram_);for(var a=this.postProcessPasses_.length-1;a>=0;a--)this.postProcessPasses_[a].init(e);o.bindTexture(o.TEXTURE_2D,null),o.clearColor(0,0,0,0),o.clear(o.COLOR_BUFFER_BIT),o.enable(o.BLEND),o.blendFunc(o.ONE,t?o.ZERO:o.ONE_MINUS_SRC_ALPHA),o.useProgram(this.currentProgram_),this.applyFrameState(e),this.applyUniforms(e)},t.prototype.prepareDrawToRenderTarget=function(e,t,o){var n=this.getGL(),r=t.getSize();n.bindFramebuffer(n.FRAMEBUFFER,t.getFramebuffer()),n.viewport(0,0,r[0],r[1]),n.bindTexture(n.TEXTURE_2D,t.getTexture()),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),n.enable(n.BLEND),n.blendFunc(n.ONE,o?n.ZERO:n.ONE_MINUS_SRC_ALPHA),n.useProgram(this.currentProgram_),this.applyFrameState(e),this.applyUniforms(e)},t.prototype.drawElements=function(e,t){var o=this.getGL();this.getExtension("OES_element_index_uint");var n=o.UNSIGNED_INT,r=t-e,i=4*e;o.drawElements(o.TRIANGLES,r,n,i)},t.prototype.finalizeDraw=function(e){for(var t=0;t<this.postProcessPasses_.length;t++)this.postProcessPasses_[t].apply(e,this.postProcessPasses_[t+1]||null)},t.prototype.getCanvas=function(){return this.canvas_},t.prototype.getGL=function(){return this.gl_},t.prototype.applyFrameState=function(e){var t=e.size,o=e.viewState.rotation,n=Object(Se.j)(this.offsetScaleMatrix_);Object(Se.l)(n,2/t[0],2/t[1]);var r=Object(Se.j)(this.offsetRotateMatrix_);0!==o&&Object(Se.k)(r,-o),this.setUniformMatrixValue(Ve,Ue(this.tmpMat4_,n)),this.setUniformMatrixValue(We,Ue(this.tmpMat4_,r)),this.setUniformFloatValue(qe,.001*(Date.now()-this.startTime_)),this.setUniformFloatValue(Ye,e.viewState.zoom),this.setUniformFloatValue(He,e.viewState.resolution)},t.prototype.applyUniforms=function(e){var t,o=this.getGL(),n=0;this.uniforms_.forEach(function(r){if((t="function"==typeof r.value?r.value(e):r.value)instanceof HTMLCanvasElement||t instanceof HTMLImageElement||t instanceof ImageData)r.texture||(r.prevValue=void 0,r.texture=o.createTexture()),o.activeTexture(o["TEXTURE"+n]),o.bindTexture(o.TEXTURE_2D,r.texture),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),(!(t instanceof HTMLImageElement)||t.complete)&&r.prevValue!==t&&(r.prevValue=t,o.texImage2D(o.TEXTURE_2D,0,o.RGBA,o.RGBA,o.UNSIGNED_BYTE,t)),o.uniform1i(this.getUniformLocation(r.name),n++);else if(Array.isArray(t)&&6===t.length)this.setUniformMatrixValue(r.name,Ue(this.tmpMat4_,t));else if(Array.isArray(t)&&t.length<=4)switch(t.length){case 2:return void o.uniform2f(this.getUniformLocation(r.name),t[0],t[1]);case 3:return void o.uniform3f(this.getUniformLocation(r.name),t[0],t[1],t[2]);case 4:return void o.uniform4f(this.getUniformLocation(r.name),t[0],t[1],t[2],t[3]);default:return}else"number"==typeof t&&o.uniform1f(this.getUniformLocation(r.name),t)}.bind(this))},t.prototype.useProgram=function(e){return e!=this.currentProgram_&&(this.getGL().useProgram(e),this.currentProgram_=e,this.uniformLocations_={},this.attribLocations_={},!0)},t.prototype.compileShader=function(e,t){var o=this.getGL(),n=o.createShader(t);return o.shaderSource(n,e),o.compileShader(n),n},t.prototype.getProgram=function(e,t){var o=this.getGL(),n=this.compileShader(e,o.FRAGMENT_SHADER),r=this.compileShader(t,o.VERTEX_SHADER),i=o.createProgram();if(o.attachShader(i,n),o.attachShader(i,r),o.linkProgram(i),!o.getShaderParameter(n,o.COMPILE_STATUS)){var a="Fragment shader compliation failed: "+o.getShaderInfoLog(n);throw new Error(a)}if(o.deleteShader(n),!o.getShaderParameter(r,o.COMPILE_STATUS)){a="Vertex shader compilation failed: "+o.getShaderInfoLog(r);throw new Error(a)}if(o.deleteShader(r),!o.getProgramParameter(i,o.LINK_STATUS)){a="GL program linking failed: "+o.getShaderInfoLog(r);throw new Error(a)}return i},t.prototype.getUniformLocation=function(e){return void 0===this.uniformLocations_[e]&&(this.uniformLocations_[e]=this.getGL().getUniformLocation(this.currentProgram_,e)),this.uniformLocations_[e]},t.prototype.getAttributeLocation=function(e){return void 0===this.attribLocations_[e]&&(this.attribLocations_[e]=this.getGL().getAttribLocation(this.currentProgram_,e)),this.attribLocations_[e]},t.prototype.makeProjectionTransform=function(e,t){var o=e.size,n=e.viewState.rotation,r=e.viewState.resolution,i=e.viewState.center;return Object(Se.j)(t),Object(Se.b)(t,0,0,2/(r*o[0]),2/(r*o[1]),-n,-i[0],-i[1]),t},t.prototype.setUniformFloatValue=function(e,t){this.getGL().uniform1f(this.getUniformLocation(e),t)},t.prototype.setUniformMatrixValue=function(e,t){this.getGL().uniformMatrix4fv(this.getUniformLocation(e),!1,t)},t.prototype.enableAttributeArray_=function(e,t,o,n,r){var i=this.getAttributeLocation(e);i<0||(this.getGL().enableVertexAttribArray(i),this.getGL().vertexAttribPointer(i,t,o,!1,n,r))},t.prototype.enableAttributes=function(e){for(var t=Ze(e),o=0,n=0;n<e.length;n++){var r=e[n];this.enableAttributeArray_(r.name,r.size,r.type||5126,t,o),o+=r.size*Ke(r.type)}},t.prototype.handleWebGLContextLost=function(){Object(me.b)(this.bufferCache_),this.currentProgram_=null},t.prototype.handleWebGLContextRestored=function(){},t.prototype.createTexture=function(e,t,o){var n=this.getGL(),r=o||n.createTexture(),i=n.RGBA,a=n.RGBA,s=n.UNSIGNED_BYTE;return n.bindTexture(n.TEXTURE_2D,r),t?n.texImage2D(n.TEXTURE_2D,0,i,a,s,t):n.texImage2D(n.TEXTURE_2D,0,i,e[0],e[1],0,a,s,null),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),r},t}(d.a),Qe=new Uint8Array(4),$e=function(){function e(e,t){this.helper_=e;var o=e.getGL();this.texture_=o.createTexture(),this.framebuffer_=o.createFramebuffer(),this.size_=t||[1,1],this.data_=new Uint8Array(0),this.dataCacheDirty_=!0,this.updateSize_()}return e.prototype.setSize=function(e){Object(Q.b)(e,this.size_)||(this.size_[0]=e[0],this.size_[1]=e[1],this.updateSize_())},e.prototype.getSize=function(){return this.size_},e.prototype.clearCachedData=function(){this.dataCacheDirty_=!0},e.prototype.readAll=function(){if(this.dataCacheDirty_){var e=this.size_,t=this.helper_.getGL();t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer_),t.readPixels(0,0,e[0],e[1],t.RGBA,t.UNSIGNED_BYTE,this.data_),this.dataCacheDirty_=!1}return this.data_},e.prototype.readPixel=function(e,t){if(e<0||t<0||e>this.size_[0]||t>=this.size_[1])return Qe[0]=0,Qe[1]=0,Qe[2]=0,Qe[3]=0,Qe;this.readAll();var o=Math.floor(e)+(this.size_[1]-Math.floor(t)-1)*this.size_[0];return Qe[0]=this.data_[4*o],Qe[1]=this.data_[4*o+1],Qe[2]=this.data_[4*o+2],Qe[3]=this.data_[4*o+3],Qe},e.prototype.getTexture=function(){return this.texture_},e.prototype.getFramebuffer=function(){return this.framebuffer_},e.prototype.updateSize_=function(){var e=this.size_,t=this.helper_.getGL();this.texture_=this.helper_.createTexture(e,null,this.texture_),t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer_),t.viewport(0,0,e[0],e[1]),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.texture_,0),this.data_=new Uint8Array(e[0]*e[1]*4)},e}(),et=o("./node_modules/ol/structs/LRUCache.js"),tt=o("./node_modules/ol/source/State.js"),ot=o("./node_modules/ol/events/Target.js"),nt=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();function rt(e,t){e.bindTexture(e.TEXTURE_2D,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR)}function it(e,t,o,n,r){var i,a,s=e.getGL();switch(rt(s,t),r){case 1:i=s.LUMINANCE;break;case 2:i=s.LUMINANCE_ALPHA;break;case 3:i=s.RGB;break;case 4:i=s.RGBA;break;default:throw new Error("Unsupported number of bands: "+r)}o instanceof Float32Array?(a=s.FLOAT,e.getExtension("OES_texture_float"),e.getExtension("OES_texture_float_linear")):a=s.UNSIGNED_BYTE,s.texImage2D(s.TEXTURE_2D,0,i,n[0],n[1],0,i,a,o)}var at=function(e){function t(t,o,n){var r=e.call(this)||this;r.tile,r.textures=[],r.handleTileChange_=r.handleTileChange_.bind(r),r.size=Object(Ae.d)(o.getTileSize(t.tileCoord[0])),r.bandCount=NaN,r.helper_=n;var i=new ke(34962,35044);return i.fromArray([0,1,1,1,1,0,0,0]),n.flushBufferData(i),r.coords=i,r.setTile(t),r}return nt(t,e),t.prototype.setTile=function(e){e!==this.tile&&(this.tile&&this.tile.removeEventListener(g.a.CHANGE,this.handleTileChange_),this.tile=e,this.textures.length=0,this.loaded=e.getState()===l.a.LOADED,this.loaded?this.uploadTile_():e.addEventListener(g.a.CHANGE,this.handleTileChange_))},t.prototype.uploadTile_=function(){var e=this.helper_,t=e.getGL(),o=this.tile;if(o instanceof D.a){var n=t.createTexture();return this.textures.push(n),this.bandCount=4,void function(e,t,o){rt(e,t),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,o)}(t,n,o.getImage())}var r=o.getData(),i=r instanceof Float32Array,a=this.size[0]*this.size[1];this.bandCount=r.byteLength/(i?4:1)/a;var s=Math.ceil(this.bandCount/4);if(1===s){n=t.createTexture();return this.textures.push(n),void it(e,n,r,this.size,this.bandCount)}for(var l=i?Float32Array:Uint8Array,c=new Array(s),u=0;u<s;++u){n=t.createTexture();this.textures.push(n);var d=u<s-1?4:this.bandCount%4;c[u]=new l(a*d)}for(var h=a*this.bandCount,p=0;p<h;++p){var f=p%this.bandCount,g=f%4,m=(d=(u=Math.floor(f/4))<s-1?4:this.bandCount%4,Math.floor(p/this.bandCount));c[u][m*d+g]=r[p]}for(u=0;u<s;++u){d=u<s-1?4:this.bandCount%4;it(e,n=this.textures[u],c[u],this.size,d)}},t.prototype.handleTileChange_=function(){this.tile.getState()===l.a.LOADED&&(this.loaded=!0,this.uploadTile_(),this.dispatchEvent(g.a.CHANGE))},t.prototype.disposeInternal=function(){var e=this.helper_.getGL();this.helper_.deleteBuffer(this.coords);for(var t=0;t<this.textures.length;++t)e.deleteTexture(this.textures[t]);this.tile.removeEventListener(g.a.CHANGE,this.handleTileChange_)},t}(ot.a),st=o("./node_modules/ol/renderer/Layer.js"),lt=o("./node_modules/ol/render/Event.js"),ct=o("./node_modules/ol/render/EventType.js"),ut=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),dt="GENERATE_BUFFERS",ht=function(e){function t(t,o){var n=e.call(this,t)||this,r=o||{};return n.helper=new Je({postProcesses:r.postProcesses,uniforms:r.uniforms}),void 0!==r.className&&(n.helper.getCanvas().className=r.className),n}return ut(t,e),t.prototype.disposeInternal=function(){this.helper.dispose(),delete this.helper,e.prototype.disposeInternal.call(this)},t.prototype.dispatchRenderEvent_=function(e,t){var o=this.getLayer();if(o.hasListener(e)){var n=new lt.a(e,null,t,null);o.dispatchEvent(n)}},t.prototype.preRender=function(e){this.dispatchRenderEvent_(ct.a.PRERENDER,e)},t.prototype.postRender=function(e){this.dispatchRenderEvent_(ct.a.POSTRENDER,e)},t}(st.a),pt=[],ft={vertexPosition:0,indexPosition:0};function gt(e,t,o,n,r){e[t+0]=o,e[t+1]=n,e[t+2]=r}function mt(e,t){var o=t||[];return o[0]=Math.floor(e/256/256/256)/255,o[1]=Math.floor(e/256/256)%256/255,o[2]=Math.floor(e/256)%256/255,o[3]=e%256/255,o}function yt(e){var t=0;return t+=Math.round(256*e[0]*256*256*255),t+=Math.round(256*e[1]*256*255),t+=Math.round(256*e[2]*255),t+=Math.round(255*e[3])}var vt=ht,_t=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),bt={TILE_TEXTURE_PREFIX:"u_tileTexture",TILE_TRANSFORM:"u_tileTransform",TRANSITION_ALPHA:"u_transitionAlpha",DEPTH:"u_depth",TEXTURE_PIXEL_WIDTH:"u_texturePixelWidth",TEXTURE_PIXEL_HEIGHT:"u_texturePixelHeight",RESOLUTION:"u_resolution",ZOOM:"u_zoom"},At={TEXTURE_COORD:"a_textureCoord"},Ct=[{name:At.TEXTURE_COORD,size:2,type:Xe.FLOAT}],wt={};function Et(e){return 2*(1-1/(e+1))-1}function It(e,t,o){o in e||(e[o]=[]),e[o].push(t)}function Ot(e,t){var o=e.layerStatesArray[e.layerIndex];return o.extent&&(t=Object(ce.H)(t,Object(y.r)(o.extent,e.viewState.projection))),t}var St=function(e){function t(t,o){var n=e.call(this,t,{uniforms:o.uniforms,className:o.className})||this;n.tileTransform_=Object(Se.d)(),n.tempMat4_=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],n.tempTileRange_=new X.b(0,0,0,0),n.tempTileCoord_=Object(Ee.a)(0,0,0),n.tempSize_=[0,0],n.program_=n.helper.getProgram(o.fragmentShader,o.vertexShader);var r=new ke(34963,35044);r.fromArray([0,1,3,1,2,3]),n.helper.flushBufferData(r),n.indices_=r;var i=void 0!==o.cacheSize?o.cacheSize:512;return n.tileTextureCache_=new et.a(i),n.renderedOpacity_=NaN,n}return _t(t,e),t.prototype.isDrawableTile=function(e){var t=this.getLayer(),o=e.getState(),n=t.getUseInterimTilesOnError();return o==l.a.LOADED||o==l.a.EMPTY||o==l.a.ERROR&&!n},t.prototype.prepareFrame=function(e){if(Object(ce.Q)(Ot(e,e.extent)))return!1;var t=this.getLayer().getSource();return!!t&&t.getState()===tt.a.READY},t.prototype.enqueueTiles=function(e,t,o,n){var r=e.viewState,i=this.getLayer().getSource(),a=i.getTileGridForProjection(r.projection),s=this.tileTextureCache_,c=a.getTileRangeForExtentAndZ(t,o),u=Object(je.c)(i);u in e.wantedTiles||(e.wantedTiles[u]={});for(var d=e.wantedTiles[u],h=a.getResolution(o),p=c.minX;p<=c.maxX;++p)for(var f=c.minY;f<=c.maxY;++f){var g=Object(Ee.a)(o,p,f,this.tempTileCoord_),m=Object(Ee.d)(g),y=void 0,v=void 0;s.containsKey(m)&&(v=(y=s.get(m)).tile),y&&y.tile.key===i.getKey()||(v=i.getTile(o,p,f,e.pixelRatio,r.projection),y?y.setTile(this.isDrawableTile(v)?v:v.getInterimTile()):(y=new at(v,a,this.helper),s.set(m,y))),It(n,y,o);var _=v.getKey();d[_]=!0,v.getState()===l.a.IDLE&&(e.tileQueue.isKeyQueued(_)||e.tileQueue.enqueue([v,u,a.getTileCoordCenter(g),h]))}},t.prototype.renderFrame=function(e){this.preRender(e);var t=e.viewState,o=e.layerStatesArray[e.layerIndex],n=Ot(e,e.extent),r=this.getLayer().getSource(),i=r.getTileGridForProjection(t.projection),a=i.getZForResolution(t.resolution,r.zDirection),s={};if(e.nextExtent){var l=i.getZForResolution(t.nextResolution,r.zDirection),c=Ot(e,e.nextExtent);this.enqueueTiles(e,c,l,s)}this.enqueueTiles(e,n,a,s);for(var u={},d=Object(je.c)(this),h=e.time,p=!1,f=s[a],g=0,m=f.length;g<m;++g){var y=(L=(q=f[g]).tile).tileCoord;if(q.loaded){if(1===(k=L.getAlpha(d,h))){L.endTransition(d);continue}p=!0,u[G=Object(Ee.d)(y)]=k}if(!this.findAltTiles_(i,y,a+1,s))for(var v=a-1;v>=i.minZoom;--v){if(this.findAltTiles_(i,y,v,s))break}}this.helper.useProgram(this.program_),this.helper.prepareDraw(e,!p);for(var _=Object.keys(s).map(Number).sort(Q.i),b=this.helper.getGL(),A=t.center[0],C=t.center[1],w=0,E=_.length;w<E;++w){var I=_[w],O=i.getResolution(I),S=Object(Ae.d)(i.getTileSize(I),this.tempSize_),x=i.getOrigin(I),j=(A-x[0])/(S[0]*O),P=(x[1]-C)/(S[1]*O),T=t.resolution/O,M=Et(I),R=s[I];for(g=0,m=R.length;g<m;++g){if((q=R[g]).loaded){y=(L=q.tile).tileCoord;var L,k,G=Object(Ee.d)(y),D=y[1],N=y[2];Object(Se.b)(this.tileTransform_,0,0,2/(e.size[0]*T/S[0]),-2/(e.size[1]*T/S[1]),t.rotation,-(j-D),-(P-N)),this.helper.setUniformMatrixValue(bt.TILE_TRANSFORM,Ue(this.tempMat4_,this.tileTransform_)),this.helper.bindBuffer(q.coords),this.helper.bindBuffer(this.indices_),this.helper.enableAttributes(Ct);for(var F=0;F<q.textures.length;++F){var U="TEXTURE"+F,B=bt.TILE_TEXTURE_PREFIX+F;b.activeTexture(b[U]),b.bindTexture(b.TEXTURE_2D,q.textures[F]),b.uniform1i(this.helper.getUniformLocation(B),F)}(k=G in u?u[G]:1)<1&&(e.animate=!0),this.helper.setUniformFloatValue(bt.TRANSITION_ALPHA,k),this.helper.setUniformFloatValue(bt.DEPTH,M),this.helper.setUniformFloatValue(bt.TEXTURE_PIXEL_WIDTH,S[0]),this.helper.setUniformFloatValue(bt.TEXTURE_PIXEL_HEIGHT,S[1]),this.helper.setUniformFloatValue(bt.RESOLUTION,t.resolution),this.helper.setUniformFloatValue(bt.ZOOM,t.zoom),this.helper.drawElements(0,this.indices_.getSize())}}}this.helper.finalizeDraw(e);var z=this.helper.getCanvas(),V=o.opacity;this.renderedOpacity_!==V&&(z.style.opacity=String(V),this.renderedOpacity_=V);for(var W=this.tileTextureCache_;W.canExpireCache();){var q;(q=W.pop()).dispose()}return e.postRenderFunctions.push((function(e,t){r.expireCache(r.getProjection(),wt)})),this.postRender(e),z},t.prototype.findAltTiles_=function(e,t,o,n){var r=e.getTileRangeForTileCoordAndZ(t,o,this.tempTileRange_);if(!r)return!1;for(var i=!0,a=this.tileTextureCache_,s=r.minX;s<=r.maxX;++s)for(var l=r.minY;l<=r.maxY;++l){var c=Object(Ee.e)(o,s,l),u=!1;if(a.containsKey(c)){var d=a.get(c);d.loaded&&(It(n,d,o),u=!0)}u||(i=!1)}return i},t.prototype.disposeInternal=function(){var t=this.helper,o=t.getGL();t.deleteBuffer(this.indices_),delete this.indices_,o.deleteProgram(this.program_),delete this.program_;var n=this.tileTextureCache_;n.forEach((function(e){e.dispose()})),n.clear(),delete this.tileTextureCache_,e.prototype.disposeInternal.call(this)},t}(vt);St.prototype.getLayer;var xt=St,jt=1,Pt=2,Tt=4,Mt=8,Rt=16,Lt=31,kt=0,Gt={};function Dt(e){if("number"==typeof e)return jt;if("boolean"==typeof e)return Mt;if("string"==typeof e)return Object(te.d)(e)?Tt|Pt:Pt;if(!Array.isArray(e))throw new Error("Unhandled value type: "+JSON.stringify(e));var t=e;if(t.every((function(e){return"number"==typeof e})))return 3===t.length||4===t.length?Tt|Rt:Rt;if("string"!=typeof t[0])throw new Error("Expected an expression operator but received: "+JSON.stringify(t));var o=Gt[t[0]];if(void 0===o)throw new Error("Unrecognized expression operator: "+JSON.stringify(t));return o.getReturnType(t.slice(1))}function Nt(e){return Object(v.d)(e)%1==0}function Ft(e){var t=e.toString();return-1===t.indexOf(".")?t+".0":t}function Ut(e){if(e.length<2||e.length>4)throw new Error("`formatArray` can only output `vec2`, `vec3` or `vec4` arrays.");return"vec"+e.length+"("+e.map(Ft).join(", ")+")"}function Bt(e){var t=Object(te.a)(e).slice();return t.length<4&&t.push(1),Ut(t.map((function(e,t){return t<3?e/255:e})))}function zt(e,t){return void 0===e.stringLiteralsMap[t]&&(e.stringLiteralsMap[t]=Object.keys(e.stringLiteralsMap).length),e.stringLiteralsMap[t]}function Vt(e,t){return Ft(zt(e,t))}function Wt(e,t,o){if(Array.isArray(t)&&"string"==typeof t[0]){var n=Gt[t[0]];if(void 0===n)throw new Error("Unrecognized expression operator: "+JSON.stringify(t));return n.toGlsl(e,t.slice(1),o)}var r=Dt(t);if((r&jt)>0)return Ft(t);if((r&Mt)>0)return t.toString();if((r&Pt)>0&&(void 0===o||o==Pt))return Vt(e,t.toString());if((r&Tt)>0&&(void 0===o||o==Tt))return Bt(t);if((r&Rt)>0)return Ut(t);throw new Error("Unexpected expression "+t+" (expected type "+o+")")}function qt(e){if(!(Dt(e)&jt))throw new Error("A numeric value was expected, got "+JSON.stringify(e)+" instead")}function Yt(e){for(var t=0;t<e.length;t++)qt(e[t])}function Ht(e){if(!(Dt(e)&Pt))throw new Error("A string value was expected, got "+JSON.stringify(e)+" instead")}function Xt(e){if(!(Dt(e)&Mt))throw new Error("A boolean value was expected, got "+JSON.stringify(e)+" instead")}function Zt(e,t){if(e.length!==t)throw new Error("Exactly "+t+" arguments were expected, got "+e.length+" instead")}function Kt(e,t){if(e.length<t)throw new Error("At least "+t+" arguments were expected, got "+e.length+" instead")}function Jt(e,t){if(e.length>t)throw new Error("At most "+t+" arguments were expected, got "+e.length+" instead")}function Qt(e){if(e.length%2!=0)throw new Error("An even amount of arguments was expected, got "+e+" instead")}function $t(e,t){if(!Nt(t))throw new Error("Could not infer only one type from the following expression: "+JSON.stringify(e))}function eo(e){return"u_var_"+e}function to(e){return{getReturnType:function(e){return Mt},toGlsl:function(t,o){Zt(o,2);for(var n=Lt,r=0;r<o.length;r++)n&=Dt(o[r]);if(n===kt)throw new Error("All arguments should be of compatible type, got "+JSON.stringify(o)+" instead");return n&=~Tt,"("+Wt(t,o[0],n)+" "+e+" "+Wt(t,o[1],n)+")"}}}function oo(e){return{getReturnType:function(e){return Mt},toGlsl:function(t,o){Kt(o,2);for(var n=0;n<o.length;n++)Xt(o[n]);return"("+o.map((function(e){return Wt(t,e)})).join(" "+e+" ")+")"}}}Gt.get={getReturnType:function(e){return Lt},toGlsl:function(e,t){Zt(t,1),Ht(t[0]);var o=t[0].toString();return-1===e.attributes.indexOf(o)&&e.attributes.push(o),(e.inFragmentShader?"v_":"a_")+o}},Gt.var={getReturnType:function(e){return Lt},toGlsl:function(e,t){Zt(t,1),Ht(t[0]);var o=t[0].toString();return-1===e.variables.indexOf(o)&&e.variables.push(o),eo(o)}},Gt.band={getReturnType:function(e){return jt},toGlsl:function(e,t){Kt(t,1),Jt(t,3);var o=t[0];if("number"!=typeof o)throw new Error("Band index must be a number");var n=o-1,r=Math.floor(n/4),i=n%4;if(o===e.bandCount&&1===i&&(i=3),1===t.length)return"color"+r+"["+i+"]";var a=t[1],s=t[2]||0;return qt(a),qt(s),"texture2D("+(bt.TILE_TEXTURE_PREFIX+r)+", v_textureCoord + vec2("+Wt(e,a)+" / "+bt.TEXTURE_PIXEL_WIDTH+", "+Wt(e,s)+" / "+bt.TEXTURE_PIXEL_HEIGHT+"))["+i+"]"}},Gt.time={getReturnType:function(e){return jt},toGlsl:function(e,t){return Zt(t,0),"u_time"}},Gt.zoom={getReturnType:function(e){return jt},toGlsl:function(e,t){return Zt(t,0),"u_zoom"}},Gt.resolution={getReturnType:function(e){return jt},toGlsl:function(e,t){return Zt(t,0),"u_resolution"}},Gt["*"]={getReturnType:function(e){return jt},toGlsl:function(e,t){return Zt(t,2),Yt(t),"("+Wt(e,t[0])+" * "+Wt(e,t[1])+")"}},Gt["/"]={getReturnType:function(e){return jt},toGlsl:function(e,t){return Zt(t,2),Yt(t),"("+Wt(e,t[0])+" / "+Wt(e,t[1])+")"}},Gt["+"]={getReturnType:function(e){return jt},toGlsl:function(e,t){return Zt(t,2),Yt(t),"("+Wt(e,t[0])+" + "+Wt(e,t[1])+")"}},Gt["-"]={getReturnType:function(e){return jt},toGlsl:function(e,t){return Zt(t,2),Yt(t),"("+Wt(e,t[0])+" - "+Wt(e,t[1])+")"}},Gt.clamp={getReturnType:function(e){return jt},toGlsl:function(e,t){Zt(t,3),Yt(t);var o=Wt(e,t[1]),n=Wt(e,t[2]);return"clamp("+Wt(e,t[0])+", "+o+", "+n+")"}},Gt["%"]={getReturnType:function(e){return jt},toGlsl:function(e,t){return Zt(t,2),Yt(t),"mod("+Wt(e,t[0])+", "+Wt(e,t[1])+")"}},Gt["^"]={getReturnType:function(e){return jt},toGlsl:function(e,t){return Zt(t,2),Yt(t),"pow("+Wt(e,t[0])+", "+Wt(e,t[1])+")"}},Gt.abs={getReturnType:function(e){return jt},toGlsl:function(e,t){return Zt(t,1),Yt(t),"abs("+Wt(e,t[0])+")"}},Gt.sin={getReturnType:function(e){return jt},toGlsl:function(e,t){return Zt(t,1),Yt(t),"sin("+Wt(e,t[0])+")"}},Gt.cos={getReturnType:function(e){return jt},toGlsl:function(e,t){return Zt(t,1),Yt(t),"cos("+Wt(e,t[0])+")"}},Gt.atan={getReturnType:function(e){return jt},toGlsl:function(e,t){return Kt(t,1),Jt(t,2),Yt(t),2===t.length?"atan("+Wt(e,t[0])+", "+Wt(e,t[1])+")":"atan("+Wt(e,t[0])+")"}},Gt[">"]={getReturnType:function(e){return Mt},toGlsl:function(e,t){return Zt(t,2),Yt(t),"("+Wt(e,t[0])+" > "+Wt(e,t[1])+")"}},Gt[">="]={getReturnType:function(e){return Mt},toGlsl:function(e,t){return Zt(t,2),Yt(t),"("+Wt(e,t[0])+" >= "+Wt(e,t[1])+")"}},Gt["<"]={getReturnType:function(e){return Mt},toGlsl:function(e,t){return Zt(t,2),Yt(t),"("+Wt(e,t[0])+" < "+Wt(e,t[1])+")"}},Gt["<="]={getReturnType:function(e){return Mt},toGlsl:function(e,t){return Zt(t,2),Yt(t),"("+Wt(e,t[0])+" <= "+Wt(e,t[1])+")"}},Gt["=="]=to("=="),Gt["!="]=to("!="),Gt["!"]={getReturnType:function(e){return Mt},toGlsl:function(e,t){return Zt(t,1),Xt(t[0]),"(!"+Wt(e,t[0])+")"}},Gt.all=oo("&&"),Gt.any=oo("||"),Gt.between={getReturnType:function(e){return Mt},toGlsl:function(e,t){Zt(t,3),Yt(t);var o=Wt(e,t[1]),n=Wt(e,t[2]),r=Wt(e,t[0]);return"("+r+" >= "+o+" && "+r+" <= "+n+")"}},Gt.array={getReturnType:function(e){return Rt},toGlsl:function(e,t){Kt(t,2),Jt(t,4),Yt(t);var o=t.map((function(t){return Wt(e,t,jt)}));return"vec"+t.length+"("+o.join(", ")+")"}},Gt.color={getReturnType:function(e){return Tt},toGlsl:function(e,t){Kt(t,3),Jt(t,4),Yt(t);var o=t;3===t.length&&o.push(1);var n=t.map((function(t,o){return Wt(e,t,jt)+(o<3?" / 255.0":"")}));return"vec"+t.length+"("+n.join(", ")+")"}},Gt.interpolate={getReturnType:function(e){for(var t=Tt|jt,o=3;o<e.length;o+=2)t&=Dt(e[o]);return t},toGlsl:function(e,t,o){Qt(t),Kt(t,6);var n,r=t[0];switch(r[0]){case"linear":n=1;break;case"exponential":n=r[1];break;default:n=null}if(!n)throw new Error('Invalid interpolation type for "interpolate" operator, received: '+JSON.stringify(r));var i=void 0!==o?o:Lt,a=Gt.interpolate.getReturnType(t)&i;$t(t,a);for(var s=Wt(e,t[1]),l=Ft(n),c="",u=2;u<t.length-2;u+=2){var d=Wt(e,t[u]),h=c||Wt(e,t[u+1],a),p=Wt(e,t[u+2]);c="mix("+h+", "+Wt(e,t[u+3],a)+", pow(clamp(("+s+" - "+d+") / ("+p+" - "+d+"), 0.0, 1.0), "+l+"))"}return c}},Gt.match={getReturnType:function(e){for(var t=Lt,o=2;o<e.length;o+=2)t&=Dt(e[o]);return t&=Dt(e[e.length-1])},toGlsl:function(e,t,o){Qt(t),Kt(t,4);var n=void 0!==o?o:Lt,r=Gt.match.getReturnType(t)&n;$t(t,r);for(var i=Wt(e,t[0]),a=Wt(e,t[t.length-1],r),s=null,l=t.length-3;l>=1;l-=2){s="("+i+" == "+Wt(e,t[l])+" ? "+Wt(e,t[l+1],r)+" : "+(s||a)+")"}return s}},Gt.case={getReturnType:function(e){for(var t=Lt,o=1;o<e.length;o+=2)t&=Dt(e[o]);return t&=Dt(e[e.length-1])},toGlsl:function(e,t,o){!function(e){if(e.length%2==0)throw new Error("An odd amount of arguments was expected, got "+e+" instead")}(t),Kt(t,3);var n=void 0!==o?o:Lt,r=Gt.case.getReturnType(t)&n;$t(t,r);for(var i=0;i<t.length-1;i+=2)Xt(t[i]);var a=Wt(e,t[t.length-1],r),s=null;for(i=t.length-3;i>=0;i-=2){s="("+Wt(e,t[i])+" ? "+Wt(e,t[i+1],r)+" : "+(s||a)+")"}return s}};var no=function(){function e(){this.uniforms=[],this.attributes=[],this.varyings=[],this.sizeExpression="vec2(1.0)",this.rotationExpression="0.0",this.offsetExpression="vec2(0.0)",this.colorExpression="vec4(1.0)",this.texCoordExpression="vec4(0.0, 0.0, 1.0, 1.0)",this.discardExpression="false",this.rotateWithView=!1}return e.prototype.addUniform=function(e){return this.uniforms.push(e),this},e.prototype.addAttribute=function(e){return this.attributes.push(e),this},e.prototype.addVarying=function(e,t,o){return this.varyings.push({name:e,type:t,expression:o}),this},e.prototype.setSizeExpression=function(e){return this.sizeExpression=e,this},e.prototype.setRotationExpression=function(e){return this.rotationExpression=e,this},e.prototype.setSymbolOffsetExpression=function(e){return this.offsetExpression=e,this},e.prototype.setColorExpression=function(e){return this.colorExpression=e,this},e.prototype.setTextureCoordinateExpression=function(e){return this.texCoordExpression=e,this},e.prototype.setFragmentDiscardExpression=function(e){return this.discardExpression=e,this},e.prototype.setSymbolRotateWithView=function(e){return this.rotateWithView=e,this},e.prototype.getSizeExpression=function(){return this.sizeExpression},e.prototype.getOffsetExpression=function(){return this.offsetExpression},e.prototype.getColorExpression=function(){return this.colorExpression},e.prototype.getTextureCoordinateExpression=function(){return this.texCoordExpression},e.prototype.getFragmentDiscardExpression=function(){return this.discardExpression},e.prototype.getSymbolVertexShader=function(e){var t=this.rotateWithView?"u_offsetScaleMatrix * u_offsetRotateMatrix":"u_offsetScaleMatrix",o=this.attributes,n=this.varyings;return e&&(o=o.concat("vec4 a_hitColor"),n=n.concat({name:"v_hitColor",type:"vec4",expression:"a_hitColor"})),"precision mediump float;\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\nuniform float u_time;\nuniform float u_zoom;\nuniform float u_resolution;\n"+this.uniforms.map((function(e){return"uniform "+e+";"})).join("\n")+"\nattribute vec2 a_position;\nattribute float a_index;\n"+o.map((function(e){return"attribute "+e+";"})).join("\n")+"\nvarying vec2 v_texCoord;\nvarying vec2 v_quadCoord;\n"+n.map((function(e){return"varying "+e.type+" "+e.name+";"})).join("\n")+"\nvoid main(void) {\n  mat4 offsetMatrix = "+t+";\n  vec2 halfSize = "+this.sizeExpression+" * 0.5;\n  vec2 offset = "+this.offsetExpression+";\n  float angle = "+this.rotationExpression+";\n  float offsetX;\n  float offsetY;\n  if (a_index == 0.0) {\n    offsetX = (offset.x - halfSize.x) * cos(angle) + (offset.y - halfSize.y) * sin(angle);\n    offsetY = (offset.y - halfSize.y) * cos(angle) - (offset.x - halfSize.x) * sin(angle);\n  } else if (a_index == 1.0) {\n    offsetX = (offset.x + halfSize.x) * cos(angle) + (offset.y - halfSize.y) * sin(angle);\n    offsetY = (offset.y - halfSize.y) * cos(angle) - (offset.x + halfSize.x) * sin(angle);\n  } else if (a_index == 2.0) {\n    offsetX = (offset.x + halfSize.x) * cos(angle) + (offset.y + halfSize.y) * sin(angle);\n    offsetY = (offset.y + halfSize.y) * cos(angle) - (offset.x + halfSize.x) * sin(angle);\n  } else {\n    offsetX = (offset.x - halfSize.x) * cos(angle) + (offset.y + halfSize.y) * sin(angle);\n    offsetY = (offset.y + halfSize.y) * cos(angle) - (offset.x - halfSize.x) * sin(angle);\n  }\n  vec4 offsets = offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);\n  gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n  vec4 texCoord = "+this.texCoordExpression+";\n  float u = a_index == 0.0 || a_index == 3.0 ? texCoord.s : texCoord.p;\n  float v = a_index == 2.0 || a_index == 3.0 ? texCoord.t : texCoord.q;\n  v_texCoord = vec2(u, v);\n  u = a_index == 0.0 || a_index == 3.0 ? 0.0 : 1.0;\n  v = a_index == 2.0 || a_index == 3.0 ? 0.0 : 1.0;\n  v_quadCoord = vec2(u, v);\n"+n.map((function(e){return"  "+e.name+" = "+e.expression+";"})).join("\n")+"\n}"},e.prototype.getSymbolFragmentShader=function(e){var t=e?"  if (gl_FragColor.a < 0.1) { discard; } gl_FragColor = v_hitColor;":"",o=this.varyings;return e&&(o=o.concat({name:"v_hitColor",type:"vec4",expression:"a_hitColor"})),"precision mediump float;\nuniform float u_time;\nuniform float u_zoom;\nuniform float u_resolution;\n"+this.uniforms.map((function(e){return"uniform "+e+";"})).join("\n")+"\nvarying vec2 v_texCoord;\nvarying vec2 v_quadCoord;\n"+o.map((function(e){return"varying "+e.type+" "+e.name+";"})).join("\n")+"\nvoid main(void) {\n  if ("+this.discardExpression+") { discard; }\n  gl_FragColor = "+this.colorExpression+";\n  gl_FragColor.rgb *= gl_FragColor.a;\n"+t+"\n}"},e}();function ro(e){var t=e.symbol,o=void 0!==t.size?t.size:1,n=t.color||"white",r=t.textureCoord||[0,0,1,1],i=t.offset||[0,0],a=void 0!==t.opacity?t.opacity:1,s=void 0!==t.rotation?t.rotation:0,l={inFragmentShader:!1,variables:[],attributes:[],stringLiteralsMap:{}},c=Wt(l,o,Rt|jt),u=Wt(l,i,Rt),d=Wt(l,r,Rt),h=Wt(l,s,jt),p={inFragmentShader:!0,variables:l.variables,attributes:[],stringLiteralsMap:l.stringLiteralsMap},f=Wt(p,n,Tt),g=Wt(p,a,jt),m="1.0",y="vec2("+Wt(p,o,Rt|jt)+").x";switch(t.symbolType){case"square":case"image":break;case"circle":m="(1.0-smoothstep(1.-4./"+y+",1.,dot(v_quadCoord-.5,v_quadCoord-.5)*4.))";break;case"triangle":var v="(v_quadCoord*2.-1.)",_="(atan("+v+".x,"+v+".y))";m="(1.0-smoothstep(.5-3./"+y+",.5,cos(floor(.5+"+_+"/2.094395102)*2.094395102-"+_+")*length("+v+")))";break;default:throw new Error("Unexpected symbol type: "+t.symbolType)}var b=(new no).setSizeExpression("vec2("+c+")").setRotationExpression(h).setSymbolOffsetExpression(u).setTextureCoordinateExpression(d).setSymbolRotateWithView(!!t.rotateWithView).setColorExpression("vec4("+f+".rgb, "+f+".a * "+g+" * "+m+")");if(e.filter){var A=Wt(p,e.filter,Mt);b.setFragmentDiscardExpression("!"+A)}var C={};if(p.variables.forEach((function(t){var o=eo(t);b.addUniform("float "+o),C[o]=function(){if(!e.variables||void 0===e.variables[t])throw new Error("The following variable is missing from the style: "+t);var o=e.variables[t];return"string"==typeof o&&(o=zt(l,o)),void 0!==o?o:-9999999}})),"image"===t.symbolType&&t.src){var w=new Image;w.src=t.src,b.addUniform("sampler2D u_texture").setColorExpression(b.getColorExpression()+" * texture2D(u_texture, v_texCoord)"),C.u_texture=w}return p.attributes.forEach((function(e){-1===l.attributes.indexOf(e)&&l.attributes.push(e),b.addVarying("v_"+e,"float","a_"+e)})),l.attributes.forEach((function(e){b.addAttribute("float a_"+e)})),{builder:b,attributes:l.attributes.map((function(e){return{name:e,callback:function(t,o){var n=o[e];return"string"==typeof n&&(n=zt(l,n)),void 0!==n?n:-9999999}}})),uniforms:C}}var io=o("./node_modules/ol/tilegrid/TileGrid.js"),ao=o("./node_modules/ol/tilegrid/WMTS.js"),so=o("./node_modules/ol/tilegrid/common.js"),lo=o("./node_modules/ol/style/Circle.js"),co=o("./node_modules/ol/style/Fill.js"),uo=o("./node_modules/ol/style/Icon.js"),ho=o("./node_modules/ol/style/IconImage.js"),po=o("./node_modules/ol/style/IconImageCache.js"),fo=o("./node_modules/ol/style/Image.js"),go=o("./node_modules/ol/style/RegularShape.js"),mo=o("./node_modules/ol/style/Stroke.js"),yo=o("./node_modules/ol/style/Style.js"),vo=o("./node_modules/ol/style/Text.js"),_o=function(){function e(e){this.first_,this.last_,this.head_,this.circular_=void 0===e||e,this.length_=0}return e.prototype.insertItem=function(e){var t={prev:void 0,next:void 0,data:e},o=this.head_;if(o){var n=o.next;t.prev=o,t.next=n,o.next=t,n&&(n.prev=t),o===this.last_&&(this.last_=t)}else this.first_=t,this.last_=t,this.circular_&&(t.next=t,t.prev=t);this.head_=t,this.length_++},e.prototype.removeItem=function(){var e=this.head_;if(e){var t=e.next,o=e.prev;t&&(t.prev=o),o&&(o.next=t),this.head_=t||o,this.first_===this.last_?(this.head_=void 0,this.first_=void 0,this.last_=void 0):this.first_===e?this.first_=this.head_:this.last_===e&&(this.last_=o?this.head_.prev:this.head_),this.length_--}},e.prototype.firstItem=function(){if(this.head_=this.first_,this.head_)return this.head_.data},e.prototype.lastItem=function(){if(this.head_=this.last_,this.head_)return this.head_.data},e.prototype.nextItem=function(){if(this.head_&&this.head_.next)return this.head_=this.head_.next,this.head_.data},e.prototype.getNextItem=function(){if(this.head_&&this.head_.next)return this.head_.next.data},e.prototype.prevItem=function(){if(this.head_&&this.head_.prev)return this.head_=this.head_.prev,this.head_.data},e.prototype.getPrevItem=function(){if(this.head_&&this.head_.prev)return this.head_.prev.data},e.prototype.getCurrItem=function(){if(this.head_)return this.head_.data},e.prototype.setFirstItem=function(){this.circular_&&this.head_&&(this.first_=this.head_,this.last_=this.head_.prev)},e.prototype.concat=function(e){if(e.head_){if(this.head_){var t=this.head_.next;this.head_.next=e.first_,e.first_.prev=this.head_,t.prev=e.last_,e.last_.next=t,this.length_+=e.length_}else this.head_=e.head_,this.first_=e.first_,this.last_=e.last_,this.length_=e.length_;e.head_=void 0,e.first_=void 0,e.last_=void 0,e.length_=0}},e.prototype.getLength=function(){return this.length_},e}(),bo=o("./node_modules/ol/structs/PriorityQueue.js"),Ao=o("./node_modules/ol/structs/RBush.js"),Co=o("./node_modules/ol/source/TileImage.js"),wo=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();function Eo(e){var t,o,n=e[0],r=new Array(n),i=1<<n-1;for(t=0;t<n;++t)o=48,e[1]&i&&(o+=1),e[2]&i&&(o+=2),r[t]=String.fromCharCode(o),i>>=1;return r.join("")}var Io=function(e){function t(t){var o=this,n=void 0!==t.hidpi&&t.hidpi;(o=e.call(this,{cacheSize:t.cacheSize,crossOrigin:"anonymous",imageSmoothing:t.imageSmoothing,opaque:!0,projection:Object(y.t)("EPSG:3857"),reprojectionErrorThreshold:t.reprojectionErrorThreshold,state:tt.a.LOADING,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:n?2:1,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition,zDirection:t.zDirection})||this).hidpi_=n,o.culture_=void 0!==t.culture?t.culture:"en-us",o.maxZoom_=void 0!==t.maxZoom?t.maxZoom:-1,o.apiKey_=t.key,o.imagerySet_=t.imagerySet;var r="https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+o.imagerySet_+"?uriScheme=https&include=ImageryProviders&key="+o.apiKey_+"&c="+o.culture_;return Object(ge.d)(r,o.handleImageryMetadataResponse.bind(o),void 0,"jsonp"),o}return wo(t,e),t.prototype.getApiKey=function(){return this.apiKey_},t.prototype.getImagerySet=function(){return this.imagerySet_},t.prototype.handleImageryMetadataResponse=function(e){if(200==e.statusCode&&"OK"==e.statusDescription&&"ValidCredentials"==e.authenticationResultCode&&1==e.resourceSets.length&&1==e.resourceSets[0].resources.length){var t=e.resourceSets[0].resources[0],o=-1==this.maxZoom_?t.zoomMax:this.maxZoom_,n=this.getProjection(),r=Object(Ie.d)(n),i=this.hidpi_?2:1,a=t.imageWidth==t.imageHeight?t.imageWidth/i:[t.imageWidth/i,t.imageHeight/i],s=Object(Ie.c)({extent:r,minZoom:t.zoomMin,maxZoom:o,tileSize:a});this.tileGrid=s;var l=this.culture_,c=this.hidpi_;if(this.tileUrlFunction=Object(Oe.c)(t.imageUrlSubdomains.map((function(e){var o=[0,0,0],n=t.imageUrl.replace("{subdomain}",e).replace("{culture}",l);return function(e,t,r){if(e){Object(Ee.a)(e[0],e[1],e[2],o);var i=n;return c&&(i+="&dpi=d1&device=mobile"),i.replace("{quadkey}",Eo(o))}}}))),t.imageryProviders){var u=Object(y.w)(Object(y.t)("EPSG:4326"),this.getProjection());this.setAttributions(function(e){var o=[],n=e.viewState,r=this.getTileGrid(),i=r.getZForResolution(n.resolution,this.zDirection),a=r.getTileCoordForCoordAndZ(n.center,i)[0];return t.imageryProviders.map((function(t){for(var n=!1,r=t.coverageAreas,i=0,s=r.length;i<s;++i){var l=r[i];if(a>=l.zoomMin&&a<=l.zoomMax){var c=l.bbox,d=[c[1],c[0],c[3],c[2]],h=Object(ce.a)(d,u);if(Object(ce.O)(h,e.extent)){n=!0;break}}}n&&o.push(t.attribution)})),o.push('<a class="ol-attribution-bing-tos" href="https://www.microsoft.com/maps/product/terms.html" target="_blank">Terms of Use</a>'),o}.bind(this))}this.setState(tt.a.READY)}else this.setState(tt.a.ERROR)},t}(Co.a),Oo=o("./node_modules/ol/source/XYZ.js"),So=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),xo=function(e){function t(t){var o=e.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,maxZoom:void 0!==t.maxZoom?t.maxZoom:18,minZoom:t.minZoom,projection:t.projection,transition:t.transition,wrapX:t.wrapX,zDirection:t.zDirection})||this;return o.account_=t.account,o.mapId_=t.map||"",o.config_=t.config||{},o.templateCache_={},o.initializeMap_(),o}return So(t,e),t.prototype.getConfig=function(){return this.config_},t.prototype.updateConfig=function(e){Object(me.a)(this.config_,e),this.initializeMap_()},t.prototype.setConfig=function(e){this.config_=e||{},this.initializeMap_()},t.prototype.initializeMap_=function(){var e=JSON.stringify(this.config_);if(this.templateCache_[e])this.applyTemplate_(this.templateCache_[e]);else{var t="https://"+this.account_+".carto.com/api/v1/map";this.mapId_&&(t+="/named/"+this.mapId_);var o=new XMLHttpRequest;o.addEventListener("load",this.handleInitResponse_.bind(this,e)),o.addEventListener("error",this.handleInitError_.bind(this)),o.open("POST",t),o.setRequestHeader("Content-type","application/json"),o.send(JSON.stringify(this.config_))}},t.prototype.handleInitResponse_=function(e,t){var o=t.target;if(!o.status||o.status>=200&&o.status<300){var n=void 0;try{n=JSON.parse(o.responseText)}catch(e){return void this.setState(tt.a.ERROR)}this.applyTemplate_(n),this.templateCache_[e]=n,this.setState(tt.a.READY)}else this.setState(tt.a.ERROR)},t.prototype.handleInitError_=function(e){this.setState(tt.a.ERROR)},t.prototype.applyTemplate_=function(e){var t="https://"+e.cdn_url.https+"/"+this.account_+"/api/v1/map/"+e.layergroupid+"/{z}/{x}/{y}.png";this.setUrl(t)},t}(Oo.a),jo=o("./node_modules/ol/geom/GeometryType.js"),Po=o("./node_modules/ol/geom/Point.js"),To=o("./node_modules/ol/source/Vector.js"),Mo=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ro=function(e){function t(t){var o=e.call(this,{attributions:t.attributions,wrapX:t.wrapX})||this;return o.resolution=void 0,o.distance=void 0!==t.distance?t.distance:20,o.minDistance=t.minDistance||0,o.interpolationRatio=0,o.features=[],o.geometryFunction=t.geometryFunction||function(e){var t=e.getGeometry();return Object($.a)(t.getType()==jo.a.POINT,10),t},o.createCustomCluster_=t.createCluster,o.source=null,o.boundRefresh_=o.refresh.bind(o),o.updateDistance(o.distance,o.minDistance),o.setSource(t.source||null),o}return Mo(t,e),t.prototype.clear=function(t){this.features.length=0,e.prototype.clear.call(this,t)},t.prototype.getDistance=function(){return this.distance},t.prototype.getSource=function(){return this.source},t.prototype.loadFeatures=function(e,t,o){this.source.loadFeatures(e,t,o),t!==this.resolution&&(this.resolution=t,this.refresh())},t.prototype.setDistance=function(e){this.updateDistance(e,this.minDistance)},t.prototype.setMinDistance=function(e){this.updateDistance(this.distance,e)},t.prototype.getMinDistance=function(){return this.minDistance},t.prototype.setSource=function(e){this.source&&this.source.removeEventListener(g.a.CHANGE,this.boundRefresh_),this.source=e,e&&e.addEventListener(g.a.CHANGE,this.boundRefresh_),this.refresh()},t.prototype.refresh=function(){this.clear(),this.cluster(),this.addFeatures(this.features)},t.prototype.updateDistance=function(e,t){var o=0===e?0:Math.min(t,e)/e,n=e!==this.distance||this.interpolationRatio!==o;this.distance=e,this.minDistance=t,this.interpolationRatio=o,n&&this.refresh()},t.prototype.cluster=function(){if(void 0!==this.resolution&&this.source)for(var e=Object(ce.k)(),t=this.distance*this.resolution,o=this.source.getFeatures(),n={},r=0,i=o.length;r<i;r++){var a=o[r];if(!(Object(je.c)(a)in n)){var s=this.geometryFunction(a);if(s){var l=s.getCoordinates();Object(ce.n)(l,e),Object(ce.d)(e,t,e);var c=this.source.getFeaturesInExtent(e).filter((function(e){var t=Object(je.c)(e);return!(t in n)&&(n[t]=!0,!0)}));this.features.push(this.createCluster(c,e))}}}},t.prototype.createCluster=function(e,t){for(var o=[0,0],n=e.length-1;n>=0;--n){var r=this.geometryFunction(e[n]);r?Object(re.a)(o,r.getCoordinates()):e.splice(n,1)}Object(re.k)(o,1/e.length);var i=Object(ce.C)(t),a=this.interpolationRatio,s=new Po.a([o[0]*(1-a)+i[0]*a,o[1]*(1-a)+i[1]*a]);return this.createCustomCluster_?this.createCustomCluster_(s,e):new h.b({geometry:s,features:e})},t}(To.b),Lo=o("./node_modules/ol/source/TileEventType.js"),ko=o("./node_modules/ol/source/Tile.js"),Go=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Do=function(e){function t(t){var o=this,n=void 0===t.projection?"EPSG:3857":t.projection,r=t.tileGrid;return void 0===r&&n&&(r=Object(Ie.c)({extent:Object(Ie.d)(n),maxResolution:t.maxResolution,maxZoom:t.maxZoom,minZoom:t.minZoom,tileSize:t.tileSize})),(o=e.call(this,{cacheSize:.1,projection:n,tileGrid:r,opaque:t.opaque,state:t.state,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition})||this).tileLoadingKeys_={},o.loader_=t.loader,o.handleTileChange_=o.handleTileChange_.bind(o),o.bandCount=void 0===t.bandCount?4:t.bandCount,o}return Go(t,e),t.prototype.setLoader=function(e){this.loader_=e},t.prototype.getTile=function(e,t,o,n,r){var i=Object(Ee.e)(e,t,o);if(this.tileCache.containsKey(i))return this.tileCache.get(i);var a=this.loader_;var s=new u(Object(me.a)({tileCoord:[e,t,o],loader:function(){return a(e,t,o)}},this.tileOptions));return s.key=this.getKey(),s.addEventListener(g.a.CHANGE,this.handleTileChange_),this.tileCache.set(i,s),s},t.prototype.handleTileChange_=function(e){var t,o=e.target,n=Object(je.c)(o),r=o.getState();r==l.a.LOADING?(this.tileLoadingKeys_[n]=!0,t=Lo.a.TILELOADSTART):n in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[n],t=r==l.a.ERROR?Lo.a.TILELOADERROR:r==l.a.LOADED?Lo.a.TILELOADEND:void 0),t&&this.dispatchEvent(new ko.a(t,o))},t}(ko.b);let No;function Fo(){return No||(No=function(){try{throw new Error}catch(e){const t=(""+e.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\/\/[^)\n]+/g);if(t)return(""+t[0]).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\/\/.+)?\/[^/]+(?:\?.*)?$/,"$1")+"/"}return"/"}()),No}const Uo="undefined"!=typeof navigator&&navigator.hardwareConcurrency?navigator.hardwareConcurrency:4,Bo=e=>/^[a-zA-Z][a-zA-Z\d+\-.]*:/.test(e);function zo(e){const t=new Blob([e],{type:"application/javascript"});return URL.createObjectURL(t)}let Vo;function Wo(){return Vo||(Vo=function(){if("undefined"==typeof Worker)return class{constructor(){throw Error("No web worker implementation available. You might have tried to spawn a worker within a worker in a browser that doesn't support workers in workers.")}};class e extends Worker{constructor(e,t){var o,n;"string"==typeof e&&t&&t._baseURL?e=new URL(e,t._baseURL):"string"==typeof e&&!Bo(e)&&Fo().match(/^file:\/\//i)&&(e=new URL(e,Fo().replace(/\/[^\/]+$/,"/")),(null===(o=null==t?void 0:t.CORSWorkaround)||void 0===o||o)&&(e=zo(`importScripts(${JSON.stringify(e)});`))),"string"==typeof e&&Bo(e)&&(null===(n=null==t?void 0:t.CORSWorkaround)||void 0===n||n)&&(e=zo(`importScripts(${JSON.stringify(e)});`)),super(e,t)}}class t extends e{constructor(e,t){super(window.URL.createObjectURL(e),t)}static fromText(e,o){const n=new window.Blob([e],{type:"text/javascript"});return new t(n,o)}}return{blob:t,default:e}}()),Vo}Wo().blob;const qo=Wo().default;var Yo,Ho=o("./node_modules/debug/src/browser.js"),Xo=o.n(Ho),Zo=o("./node_modules/observable-fns/dist.esm/subject.js"),Ko=o("./node_modules/observable-fns/dist.esm/multicast.js"),Jo=o("./node_modules/observable-fns/dist.esm/observable.js");function Qo(e){return Promise.all(e.map(e=>{const t=e=>({status:"fulfilled",value:e}),o=e=>({status:"rejected",reason:e}),n=Promise.resolve(e);try{return n.then(t,o)}catch(e){return Promise.reject(e)}}))}!function(e){e.initialized="initialized",e.taskCanceled="taskCanceled",e.taskCompleted="taskCompleted",e.taskFailed="taskFailed",e.taskQueued="taskQueued",e.taskQueueDrained="taskQueueDrained",e.taskStart="taskStart",e.terminated="terminated"}(Yo||(Yo={}));var $o=o("./node_modules/threads/dist-esm/symbols.js");function en(e){throw Error(e)}const tn={errors:e=>e[$o.a]||en("Error observable not found. Make sure to pass a thread instance as returned by the spawn() promise."),events:e=>e[$o.b]||en("Events observable not found. Make sure to pass a thread instance as returned by the spawn() promise."),terminate:e=>e[$o.c]()};var on=function(e,t,o,n){return new(o||(o=Promise))((function(r,i){function a(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,s)}l((n=n.apply(e,t||[])).next())}))};let nn=1;class rn{constructor(e,t){this.eventSubject=new Zo.a,this.initErrors=[],this.isClosing=!1,this.nextTaskID=1,this.taskQueue=[];const o="number"==typeof t?{size:t}:t||{},{size:n=Uo}=o;this.debug=Xo()("threads:pool:"+(o.name||String(nn++)).replace(/\W/g," ").trim().replace(/\s+/g,"-")),this.options=o,this.workers=function(e,t){return function(e){const t=[];for(let o=0;o<e;o++)t.push(o);return t}(t).map(()=>({init:e(),runningTasks:[]}))}(e,n),this.eventObservable=Object(Ko.a)(Jo.a.from(this.eventSubject)),Promise.all(this.workers.map(e=>e.init)).then(()=>this.eventSubject.next({type:Yo.initialized,size:this.workers.length}),e=>{this.debug("Error while initializing pool worker:",e),this.eventSubject.error(e),this.initErrors.push(e)})}findIdlingWorker(){const{concurrency:e=1}=this.options;return this.workers.find(t=>t.runningTasks.length<e)}runPoolTask(e,t){return on(this,void 0,void 0,(function*(){const o=this.workers.indexOf(e)+1;this.debug(`Running task #${t.id} on worker #${o}...`),this.eventSubject.next({type:Yo.taskStart,taskID:t.id,workerID:o});try{const n=yield t.run(yield e.init);this.debug(`Task #${t.id} completed successfully`),this.eventSubject.next({type:Yo.taskCompleted,returnValue:n,taskID:t.id,workerID:o})}catch(e){this.debug(`Task #${t.id} failed`),this.eventSubject.next({type:Yo.taskFailed,taskID:t.id,error:e,workerID:o})}}))}run(e,t){return on(this,void 0,void 0,(function*(){const o=(()=>on(this,void 0,void 0,(function*(){var n;yield(n=0,new Promise(e=>setTimeout(e,n)));try{yield this.runPoolTask(e,t)}finally{e.runningTasks=e.runningTasks.filter(e=>e!==o),this.isClosing||this.scheduleWork()}})))();e.runningTasks.push(o)}))}scheduleWork(){this.debug("Attempt de-queueing a task in order to run it...");const e=this.findIdlingWorker();if(!e)return;const t=this.taskQueue.shift();if(!t)return this.debug("Task queue is empty"),void this.eventSubject.next({type:Yo.taskQueueDrained});this.run(e,t)}taskCompletion(e){return new Promise((t,o)=>{const n=this.events().subscribe(r=>{r.type===Yo.taskCompleted&&r.taskID===e?(n.unsubscribe(),t(r.returnValue)):r.type===Yo.taskFailed&&r.taskID===e?(n.unsubscribe(),o(r.error)):r.type===Yo.terminated&&(n.unsubscribe(),o(Error("Pool has been terminated before task was run.")))})})}settled(e=!1){return on(this,void 0,void 0,(function*(){const t=()=>{return e=this.workers,t=e=>e.runningTasks,e.reduce((e,o)=>[...e,...t(o)],[]);var e,t},o=[],n=this.eventObservable.subscribe(e=>{e.type===Yo.taskFailed&&o.push(e.error)});return this.initErrors.length>0?Promise.reject(this.initErrors[0]):e&&0===this.taskQueue.length?(yield Qo(t()),o):(yield new Promise((e,t)=>{const o=this.eventObservable.subscribe({next(t){t.type===Yo.taskQueueDrained&&(o.unsubscribe(),e(void 0))},error:t})}),yield Qo(t()),n.unsubscribe(),o)}))}completed(e=!1){return on(this,void 0,void 0,(function*(){const t=this.settled(e),o=new Promise((e,o)=>{const n=this.eventObservable.subscribe({next(r){r.type===Yo.taskQueueDrained?(n.unsubscribe(),e(t)):r.type===Yo.taskFailed&&(n.unsubscribe(),o(r.error))},error:o})}),n=yield Promise.race([t,o]);if(n.length>0)throw n[0]}))}events(){return this.eventObservable}queue(e){const{maxQueuedJobs:t=1/0}=this.options;if(this.isClosing)throw Error("Cannot schedule pool tasks after terminate() has been called.");if(this.initErrors.length>0)throw this.initErrors[0];const o=this.nextTaskID++,n=this.taskCompletion(o);n.catch(e=>{this.debug(`Task #${o} errored:`,e)});const r={id:o,run:e,cancel:()=>{-1!==this.taskQueue.indexOf(r)&&(this.taskQueue=this.taskQueue.filter(e=>e!==r),this.eventSubject.next({type:Yo.taskCanceled,taskID:r.id}))},then:n.then.bind(n)};if(this.taskQueue.length>=t)throw Error("Maximum number of pool tasks queued. Refusing to queue another one.\nThis usually happens for one of two reasons: We are either at peak workload right now or some tasks just won't finish, thus blocking the pool.");return this.debug(`Queueing task #${r.id}...`),this.taskQueue.push(r),this.eventSubject.next({type:Yo.taskQueued,taskID:r.id}),this.scheduleWork(),r}terminate(e){return on(this,void 0,void 0,(function*(){this.isClosing=!0,e||(yield this.completed(!0)),this.eventSubject.next({type:Yo.terminated,remainingQueue:[...this.taskQueue]}),this.eventSubject.complete(),yield Promise.all(this.workers.map(e=>on(this,void 0,void 0,(function*(){return tn.terminate(yield e.init)}))))}))}}function an(e,t){return new rn(e,t)}rn.EventType=Yo,an.EventType=Yo;const sn=an;var ln=o("./node_modules/threads/dist-esm/master/spawn.js"),cn=o("./node_modules/threads/dist-esm/transferable.js");const un="undefined"!=typeof navigator?navigator.hardwareConcurrency:null;var dn=class{constructor(e=un,t=new qo("./decoder.worker.js")){this.pool=sn(()=>Object(ln.a)(t),e)}async decode(e,t){return new Promise((o,n)=>{this.pool.queue(async r=>{try{const n=await r(e,Object(cn.a)(t));o(n)}catch(e){n(e)}})})}destroy(){this.pool.terminate(!0)}},hn=o("./node_modules/@petamoriken/float16/browser/float16.js");function pn(e,t,o){const n=o&&o.debug||!1;n&&console.log("[xml-utils] getting "+t+" in "+e);const r="object"==typeof e?e.outer:e,i=r.slice(0,r.indexOf(">")+1),a=['"',"'"];for(let e=0;e<a.length;e++){const o=a[e],r=t+"\\="+o+"([^"+o+"]*)"+o;n&&console.log("[xml-utils] pattern:",r);const s=new RegExp(r).exec(i);if(n&&console.log("[xml-utils] match:",s),s)return s[1]}}function fn(e,t,o){const n=new RegExp(t).exec(e.slice(o));return n?o+n.index+n[0].length-1:-1}function gn(e,t){const o=new RegExp(t,"g"),n=e.match(o);return n?n.length:0}function mn(e,t,o){const n=o&&o.debug||!1,r=!(o&&!1===typeof o.nested),i=o&&o.startIndex||0;n&&console.log("[xml-utils] starting findTagByName with",t," and ",o);const a=function(e,t,o){const n=new RegExp(t).exec(e.slice(o));return n?o+n.index:-1}(e,`<${t}[ \n>/]`,i);if(n&&console.log("[xml-utils] start:",a),-1===a)return;const s=e.slice(a+t.length);let l=fn(s,"^[^<]*[ /]>",0);const c=-1!==l&&"/"===s[l-1];if(n&&console.log("[xml-utils] selfClosing:",c),!1===c)if(r){let e=0,o=1,n=0;for(;-1!==(l=fn(s,"[ /]"+t+">",e));){const r=s.substring(e,l+1);if(o+=gn(r,"<"+t+"[ \n\t>]"),n+=gn(r,"</"+t+">"),n>=o)break;e=l}}else l=fn(s,"[ /]"+t+">",0);const u=a+t.length+l+1;if(n&&console.log("[xml-utils] end:",u),-1===u)return;const d=e.slice(a,u);let h;return h=c?null:d.slice(d.indexOf(">")+1,d.lastIndexOf("<")),{inner:h,outer:d,start:a,end:u}}var yn=o("./node_modules/geotiff/src/globals.js");const vn=new Map;function _n(e,t){Array.isArray(e)||(e=[e]),e.forEach(e=>vn.set(e,t))}function bn(e,t,o,n=1){return new(Object.getPrototypeOf(e).constructor)(t*o*n)}function An(e,t,o){return(1-o)*e+o*t}function Cn(e,t,o,n,r,i="nearest"){switch(i.toLowerCase()){case"nearest":return function(e,t,o,n,r){const i=t/n,a=o/r;return e.map(e=>{const s=bn(e,n,r);for(let l=0;l<r;++l){const r=Math.min(Math.round(a*l),o-1);for(let o=0;o<n;++o){const a=Math.min(Math.round(i*o),t-1),c=e[r*t+a];s[l*n+o]=c}}return s})}(e,t,o,n,r);case"bilinear":case"linear":return function(e,t,o,n,r){const i=t/n,a=o/r;return e.map(e=>{const s=bn(e,n,r);for(let l=0;l<r;++l){const r=a*l,c=Math.floor(r),u=Math.min(Math.ceil(r),o-1);for(let o=0;o<n;++o){const a=i*o,d=a%1,h=Math.floor(a),p=Math.min(Math.ceil(a),t-1),f=e[c*t+h],g=e[c*t+p],m=e[u*t+h],y=e[u*t+p],v=An(An(f,g,d),An(m,y,d),r%1);s[l*n+o]=v}}return s})}(e,t,o,n,r);default:throw new Error(`Unsupported resampling method: '${i}'`)}}function wn(e,t,o,n,r,i,a="nearest"){switch(a.toLowerCase()){case"nearest":return function(e,t,o,n,r,i){const a=t/n,s=o/r,l=bn(e,n,r,i);for(let c=0;c<r;++c){const r=Math.min(Math.round(s*c),o-1);for(let o=0;o<n;++o){const s=Math.min(Math.round(a*o),t-1);for(let a=0;a<i;++a){const u=e[r*t*i+s*i+a];l[c*n*i+o*i+a]=u}}}return l}(e,t,o,n,r,i);case"bilinear":case"linear":return function(e,t,o,n,r,i){const a=t/n,s=o/r,l=bn(e,n,r,i);for(let c=0;c<r;++c){const r=s*c,u=Math.floor(r),d=Math.min(Math.ceil(r),o-1);for(let o=0;o<n;++o){const s=a*o,h=s%1,p=Math.floor(s),f=Math.min(Math.ceil(s),t-1);for(let a=0;a<i;++a){const s=e[u*t*i+p*i+a],g=e[u*t*i+f*i+a],m=e[d*t*i+p*i+a],y=e[d*t*i+f*i+a],v=An(An(s,g,h),An(m,y,h),r%1);l[c*n*i+o*i+a]=v}}}return l}(e,t,o,n,r,i);default:throw new Error(`Unsupported resampling method: '${a}'`)}}function En(e,t,o){let n=0;for(let r=t;r<o;++r)n+=e[r];return n}function In(e,t,o){switch(e){case 1:if(t<=8)return new Uint8Array(o);if(t<=16)return new Uint16Array(o);if(t<=32)return new Uint32Array(o);break;case 2:if(8===t)return new Int8Array(o);if(16===t)return new Int16Array(o);if(32===t)return new Int32Array(o);break;case 3:switch(t){case 16:case 32:return new Float32Array(o);case 64:return new Float64Array(o)}}throw Error("Unsupported data format/bitsPerSample")}_n([void 0,1],()=>o.e(0).then(o.bind(null,"./node_modules/geotiff/src/compression/raw.js")).then(e=>e.default)),_n(5,()=>o.e(0).then(o.bind(null,"./node_modules/geotiff/src/compression/lzw.js")).then(e=>e.default)),_n(6,()=>{throw new Error("old style JPEG compression is not supported.")}),_n(7,()=>o.e(0).then(o.bind(null,"./node_modules/geotiff/src/compression/jpeg.js")).then(e=>e.default)),_n([8,32946],()=>o.e(0).then(o.bind(null,"./node_modules/geotiff/src/compression/deflate.js")).then(e=>e.default)),_n(32773,()=>o.e(0).then(o.bind(null,"./node_modules/geotiff/src/compression/packbits.js")).then(e=>e.default)),_n(34887,()=>o.e(0).then(o.bind(null,"./node_modules/geotiff/src/compression/lerc.js")).then(e=>e.default));var On=class{constructor(e,t,o,n,r,i){this.fileDirectory=e,this.geoKeys=t,this.dataView=o,this.littleEndian=n,this.tiles=r?{}:null,this.isTiled=!e.StripOffsets;const a=e.PlanarConfiguration;if(this.planarConfiguration=void 0===a?1:a,1!==this.planarConfiguration&&2!==this.planarConfiguration)throw new Error("Invalid planar configuration.");this.source=i}getFileDirectory(){return this.fileDirectory}getGeoKeys(){return this.geoKeys}getWidth(){return this.fileDirectory.ImageWidth}getHeight(){return this.fileDirectory.ImageLength}getSamplesPerPixel(){return void 0!==this.fileDirectory.SamplesPerPixel?this.fileDirectory.SamplesPerPixel:1}getTileWidth(){return this.isTiled?this.fileDirectory.TileWidth:this.getWidth()}getTileHeight(){return this.isTiled?this.fileDirectory.TileLength:void 0!==this.fileDirectory.RowsPerStrip?Math.min(this.fileDirectory.RowsPerStrip,this.getHeight()):this.getHeight()}getBlockWidth(){return this.getTileWidth()}getBlockHeight(e){return this.isTiled||(e+1)*this.getTileHeight()<=this.getHeight()?this.getTileHeight():this.getHeight()-e*this.getTileHeight()}getBytesPerPixel(){let e=0;for(let t=0;t<this.fileDirectory.BitsPerSample.length;++t)e+=this.getSampleByteSize(t);return e}getSampleByteSize(e){if(e>=this.fileDirectory.BitsPerSample.length)throw new RangeError(`Sample index ${e} is out of range.`);return Math.ceil(this.fileDirectory.BitsPerSample[e]/8)}getReaderForSample(e){const t=this.fileDirectory.SampleFormat?this.fileDirectory.SampleFormat[e]:1,o=this.fileDirectory.BitsPerSample[e];switch(t){case 1:if(o<=8)return DataView.prototype.getUint8;if(o<=16)return DataView.prototype.getUint16;if(o<=32)return DataView.prototype.getUint32;break;case 2:if(o<=8)return DataView.prototype.getInt8;if(o<=16)return DataView.prototype.getInt16;if(o<=32)return DataView.prototype.getInt32;break;case 3:switch(o){case 16:return function(e,t){return Object(hn.getFloat16)(this,e,t)};case 32:return DataView.prototype.getFloat32;case 64:return DataView.prototype.getFloat64}}throw Error("Unsupported data format/bitsPerSample")}getSampleFormat(e=0){return this.fileDirectory.SampleFormat?this.fileDirectory.SampleFormat[e]:1}getBitsPerSample(e=0){return this.fileDirectory.BitsPerSample[e]}getArrayForSample(e,t){return In(this.getSampleFormat(e),this.getBitsPerSample(e),t)}async getTileOrStrip(e,t,o,n,r){const i=Math.ceil(this.getWidth()/this.getTileWidth()),a=Math.ceil(this.getHeight()/this.getTileHeight());let s;const{tiles:l}=this;let c,u;1===this.planarConfiguration?s=t*i+e:2===this.planarConfiguration&&(s=o*i*a+t*i+e),this.isTiled?(c=this.fileDirectory.TileOffsets[s],u=this.fileDirectory.TileByteCounts[s]):(c=this.fileDirectory.StripOffsets[s],u=this.fileDirectory.StripByteCounts[s]);const d=(await this.source.fetch([{offset:c,length:u}],r))[0];let h;return null!==l&&l[s]?h=l[s]:(h=(async()=>{let e=await n.decode(this.fileDirectory,d);const o=this.getSampleFormat(),r=this.getBitsPerSample();return function(e,t){return(1!==e&&2!==e||!(t<=32)||t%8!=0)&&(3!==e||16!==t&&32!==t&&64!==t)}(o,r)&&(e=function(e,t,o,n,r,i,a){const s=new DataView(e),l=2===o?1:n,c=In(t,r,2===o?a*i:a*i*n),u=parseInt("1".repeat(r),2);if(1===t){let e;e=1===o?n*r:r;let t=i*e;0!=(7&t)&&(t=t+7&-8);for(let e=0;e<a;++e){const o=e*t;for(let t=0;t<i;++t){const n=o+t*l*r;for(let o=0;o<l;++o){const a=n+o*r,d=(e*i+t)*l+o,h=Math.floor(a/8),p=a%8;if(p+r<=8)c[d]=s.getUint8(h)>>8-r-p&u;else if(p+r<=16)c[d]=s.getUint16(h)>>16-r-p&u;else if(p+r<=24){const e=s.getUint16(h)<<8|s.getUint8(h+2);c[d]=e>>24-r-p&u}else c[d]=s.getUint32(h)>>32-r-p&u}}}}return c.buffer}(e,o,this.planarConfiguration,this.getSamplesPerPixel(),r,this.getTileWidth(),this.getBlockHeight(t))),e})(),null!==l&&(l[s]=h)),{x:e,y:t,sample:o,data:await h}}async _readRaster(e,t,o,n,r,i,a,s,l){const c=this.getTileWidth(),u=this.getTileHeight(),d=this.getWidth(),h=this.getHeight(),p=Math.max(Math.floor(e[0]/c),0),f=Math.min(Math.ceil(e[2]/c),Math.ceil(d/c)),g=Math.max(Math.floor(e[1]/u),0),m=Math.min(Math.ceil(e[3]/u),Math.ceil(h/u)),y=e[2]-e[0];let v=this.getBytesPerPixel();const _=[],b=[];for(let e=0;e<t.length;++e)1===this.planarConfiguration?_.push(En(this.fileDirectory.BitsPerSample,0,t[e])/8):_.push(0),b.push(this.getReaderForSample(t[e]));const A=[],{littleEndian:C}=this;for(let i=g;i<m;++i)for(let a=p;a<f;++a)for(let s=0;s<t.length;++s){const p=s,f=t[s];2===this.planarConfiguration&&(v=this.getSampleByteSize(s));const g=this.getTileOrStrip(a,i,f,r,l);A.push(g),g.then(r=>{const i=r.data,a=new DataView(i),s=this.getBlockHeight(r.y),l=r.y*u,f=r.x*c,g=l+s,m=(r.x+1)*c,A=b[p],w=Math.min(s,s-(g-e[3]),h-l),E=Math.min(c,c-(m-e[2]),d-f);for(let r=Math.max(0,e[1]-l);r<w;++r)for(let i=Math.max(0,e[0]-f);i<E;++i){const s=(r*c+i)*v,u=A.call(a,s+_[p],C);let d;n?(d=(r+l-e[1])*y*t.length+(i+f-e[0])*t.length+p,o[d]=u):(d=(r+l-e[1])*y+i+f-e[0],o[p][d]=u)}})}if(await Promise.all(A),i&&e[2]-e[0]!==i||a&&e[3]-e[1]!==a){let r;return r=n?wn(o,e[2]-e[0],e[3]-e[1],i,a,t.length,s):Cn(o,e[2]-e[0],e[3]-e[1],i,a,s),r.width=i,r.height=a,r}return o.width=i||e[2]-e[0],o.height=a||e[3]-e[1],o}async readRasters({window:e,samples:t=[],interleave:o,pool:n=null,width:r,height:i,resampleMethod:a,fillValue:s,signal:l}={}){const c=e||[0,0,this.getWidth(),this.getHeight()];if(c[0]>c[2]||c[1]>c[3])throw new Error("Invalid subsets");const u=(c[2]-c[0])*(c[3]-c[1]),d=this.getSamplesPerPixel();if(t&&t.length){for(let e=0;e<t.length;++e)if(t[e]>=d)return Promise.reject(new RangeError(`Invalid sample index '${t[e]}'.`))}else for(let e=0;e<d;++e)t.push(e);let h;if(o){h=In(this.fileDirectory.SampleFormat?Math.max.apply(null,this.fileDirectory.SampleFormat):1,Math.max.apply(null,this.fileDirectory.BitsPerSample),u*t.length),s&&h.fill(s)}else{h=[];for(let e=0;e<t.length;++e){const o=this.getArrayForSample(t[e],u);Array.isArray(s)&&e<s.length?o.fill(s[e]):s&&!Array.isArray(s)&&o.fill(s),h.push(o)}}const p=n||await async function(e){const t=vn.get(e.Compression);if(!t)throw new Error("Unknown compression method identifier: "+e.Compression);return new(await t())(e)}(this.fileDirectory);return await this._readRaster(c,t,h,o,p,r,i,a,l)}async readRGB({window:e,interleave:t=!0,pool:o=null,width:n,height:r,resampleMethod:i,enableAlpha:a=!1,signal:s}={}){const l=e||[0,0,this.getWidth(),this.getHeight()];if(l[0]>l[2]||l[1]>l[3])throw new Error("Invalid subsets");const c=this.fileDirectory.PhotometricInterpretation;if(c===yn.j.RGB){let l=[0,1,2];if(this.fileDirectory.ExtraSamples!==yn.a.Unspecified&&a){l=[];for(let e=0;e<this.fileDirectory.BitsPerSample.length;e+=1)l.push(e)}return this.readRasters({window:e,interleave:t,samples:l,pool:o,width:n,height:r,resampleMethod:i,signal:s})}let u;switch(c){case yn.j.WhiteIsZero:case yn.j.BlackIsZero:case yn.j.Palette:u=[0];break;case yn.j.CMYK:u=[0,1,2,3];break;case yn.j.YCbCr:case yn.j.CIELab:u=[0,1,2];break;default:throw new Error("Invalid or unsupported photometric interpretation.")}const d={window:l,interleave:!0,samples:u,pool:o,width:n,height:r,resampleMethod:i,signal:s},{fileDirectory:h}=this,p=await this.readRasters(d),f=2**this.fileDirectory.BitsPerSample[0];let g;switch(c){case yn.j.WhiteIsZero:g=function(e,t){const{width:o,height:n}=e,r=new Uint8Array(o*n*3);let i;for(let o=0,n=0;o<e.length;++o,n+=3)i=256-e[o]/t*256,r[n]=i,r[n+1]=i,r[n+2]=i;return r}(p,f);break;case yn.j.BlackIsZero:g=function(e,t){const{width:o,height:n}=e,r=new Uint8Array(o*n*3);let i;for(let o=0,n=0;o<e.length;++o,n+=3)i=e[o]/t*256,r[n]=i,r[n+1]=i,r[n+2]=i;return r}(p,f);break;case yn.j.Palette:g=function(e,t){const{width:o,height:n}=e,r=new Uint8Array(o*n*3),i=t.length/3,a=t.length/3*2;for(let o=0,n=0;o<e.length;++o,n+=3){const s=e[o];r[n]=t[s]/65536*256,r[n+1]=t[s+i]/65536*256,r[n+2]=t[s+a]/65536*256}return r}(p,h.ColorMap);break;case yn.j.CMYK:g=function(e){const{width:t,height:o}=e,n=new Uint8Array(t*o*3);for(let t=0,o=0;t<e.length;t+=4,o+=3){const r=e[t],i=e[t+1],a=e[t+2],s=e[t+3];n[o]=(255-r)/256*255*((255-s)/256),n[o+1]=(255-i)/256*255*((255-s)/256),n[o+2]=(255-a)/256*255*((255-s)/256)}return n}(p);break;case yn.j.YCbCr:g=function(e){const{width:t,height:o}=e,n=new Uint8ClampedArray(t*o*3);for(let t=0,o=0;t<e.length;t+=3,o+=3){const r=e[t],i=e[t+1],a=e[t+2];n[o]=r+1.402*(a-128),n[o+1]=r-.34414*(i-128)-.71414*(a-128),n[o+2]=r+1.772*(i-128)}return n}(p);break;case yn.j.CIELab:g=function(e){const{width:t,height:o}=e,n=new Uint8Array(t*o*3);for(let t=0,o=0;t<e.length;t+=3,o+=3){let r,i,a,s=(e[t+0]+16)/116,l=(e[t+1]<<24>>24)/500+s,c=s-(e[t+2]<<24>>24)/200;l=.95047*(l*l*l>.008856?l*l*l:(l-16/116)/7.787),s=1*(s*s*s>.008856?s*s*s:(s-16/116)/7.787),c=1.08883*(c*c*c>.008856?c*c*c:(c-16/116)/7.787),r=3.2406*l+-1.5372*s+-.4986*c,i=-.9689*l+1.8758*s+.0415*c,a=.0557*l+-.204*s+1.057*c,r=r>.0031308?1.055*r**(1/2.4)-.055:12.92*r,i=i>.0031308?1.055*i**(1/2.4)-.055:12.92*i,a=a>.0031308?1.055*a**(1/2.4)-.055:12.92*a,n[o]=255*Math.max(0,Math.min(1,r)),n[o+1]=255*Math.max(0,Math.min(1,i)),n[o+2]=255*Math.max(0,Math.min(1,a))}return n}(p);break;default:throw new Error("Unsupported photometric interpretation.")}if(!t){const e=new Uint8Array(g.length/3),t=new Uint8Array(g.length/3),o=new Uint8Array(g.length/3);for(let n=0,r=0;n<g.length;n+=3,++r)e[r]=g[n],t[r]=g[n+1],o[r]=g[n+2];g=[e,t,o]}return g.width=p.width,g.height=p.height,g}getTiePoints(){if(!this.fileDirectory.ModelTiepoint)return[];const e=[];for(let t=0;t<this.fileDirectory.ModelTiepoint.length;t+=6)e.push({i:this.fileDirectory.ModelTiepoint[t],j:this.fileDirectory.ModelTiepoint[t+1],k:this.fileDirectory.ModelTiepoint[t+2],x:this.fileDirectory.ModelTiepoint[t+3],y:this.fileDirectory.ModelTiepoint[t+4],z:this.fileDirectory.ModelTiepoint[t+5]});return e}getGDALMetadata(e=null){const t={};if(!this.fileDirectory.GDAL_METADATA)return null;let o=function(e,t,o){const n=[],r=o&&o.debug||!1,i=!o||"boolean"!=typeof o.nested||o.nested;let a,s=o&&o.startIndex||0;for(;a=mn(e,t,{debug:r,startIndex:s});)s=i?a.start+1+t.length:a.end,n.push(a);return r&&console.log("findTagsByName found",n.length,"tags"),n}(this.fileDirectory.GDAL_METADATA,"Item");null!==e&&(o=o.filter(t=>Number(pn(t,"sample"))===e));for(let e=0;e<o.length;++e){const n=o[e];t[pn(n,"name")]=n.inner}return t}getGDALNoData(){if(!this.fileDirectory.GDAL_NODATA)return null;const e=this.fileDirectory.GDAL_NODATA;return Number(e.substring(0,e.length-1))}getOrigin(){const e=this.fileDirectory.ModelTiepoint,t=this.fileDirectory.ModelTransformation;if(e&&6===e.length)return[e[3],e[4],e[5]];if(t)return[t[3],t[7],t[11]];throw new Error("The image does not have an affine transformation.")}getResolution(e=null){const t=this.fileDirectory.ModelPixelScale,o=this.fileDirectory.ModelTransformation;if(t)return[t[0],-t[1],t[2]];if(o)return[o[0],o[5],o[10]];if(e){const[t,o,n]=e.getResolution();return[t*e.getWidth()/this.getWidth(),o*e.getHeight()/this.getHeight(),n*e.getWidth()/this.getWidth()]}throw new Error("The image does not have an affine transformation.")}pixelIsArea(){return 1===this.geoKeys.GTRasterTypeGeoKey}getBoundingBox(){const e=this.getOrigin(),t=this.getResolution(),o=e[0],n=e[1],r=o+t[0]*this.getWidth(),i=n+t[1]*this.getHeight();return[Math.min(o,r),Math.min(n,i),Math.max(o,r),Math.max(n,i)]}};class Sn{constructor(e){this._dataView=new DataView(e)}get buffer(){return this._dataView.buffer}getUint64(e,t){const o=this.getUint32(e,t),n=this.getUint32(e+4,t);let r;if(t){if(r=o+2**32*n,!Number.isSafeInteger(r))throw new Error(r+" exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues");return r}if(r=2**32*o+n,!Number.isSafeInteger(r))throw new Error(r+" exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues");return r}getInt64(e,t){let o=0;const n=(128&this._dataView.getUint8(e+(t?7:0)))>0;let r=!0;for(let i=0;i<8;i++){let a=this._dataView.getUint8(e+(t?i:7-i));n&&(r?0!==a&&(a=255&~(a-1),r=!1):a=255&~a),o+=a*256**i}return n&&(o=-o),o}getUint8(e,t){return this._dataView.getUint8(e,t)}getInt8(e,t){return this._dataView.getInt8(e,t)}getUint16(e,t){return this._dataView.getUint16(e,t)}getInt16(e,t){return this._dataView.getInt16(e,t)}getUint32(e,t){return this._dataView.getUint32(e,t)}getInt32(e,t){return this._dataView.getInt32(e,t)}getFloat16(e,t){return Object(hn.getFloat16)(this._dataView,e,t)}getFloat32(e,t){return this._dataView.getFloat32(e,t)}getFloat64(e,t){return this._dataView.getFloat64(e,t)}}class xn{constructor(e,t,o,n){this._dataView=new DataView(e),this._sliceOffset=t,this._littleEndian=o,this._bigTiff=n}get sliceOffset(){return this._sliceOffset}get sliceTop(){return this._sliceOffset+this.buffer.byteLength}get littleEndian(){return this._littleEndian}get bigTiff(){return this._bigTiff}get buffer(){return this._dataView.buffer}covers(e,t){return this.sliceOffset<=e&&this.sliceTop>=e+t}readUint8(e){return this._dataView.getUint8(e-this._sliceOffset,this._littleEndian)}readInt8(e){return this._dataView.getInt8(e-this._sliceOffset,this._littleEndian)}readUint16(e){return this._dataView.getUint16(e-this._sliceOffset,this._littleEndian)}readInt16(e){return this._dataView.getInt16(e-this._sliceOffset,this._littleEndian)}readUint32(e){return this._dataView.getUint32(e-this._sliceOffset,this._littleEndian)}readInt32(e){return this._dataView.getInt32(e-this._sliceOffset,this._littleEndian)}readFloat32(e){return this._dataView.getFloat32(e-this._sliceOffset,this._littleEndian)}readFloat64(e){return this._dataView.getFloat64(e-this._sliceOffset,this._littleEndian)}readUint64(e){const t=this.readUint32(e),o=this.readUint32(e+4);let n;if(this._littleEndian){if(n=t+2**32*o,!Number.isSafeInteger(n))throw new Error(n+" exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues");return n}if(n=2**32*t+o,!Number.isSafeInteger(n))throw new Error(n+" exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues");return n}readInt64(e){let t=0;const o=(128&this._dataView.getUint8(e+(this._littleEndian?7:0)))>0;let n=!0;for(let r=0;r<8;r++){let i=this._dataView.getUint8(e+(this._littleEndian?r:7-r));o&&(n?0!==i&&(i=255&~(i-1),n=!1):i=255&~i),t+=i*256**r}return o&&(t=-t),t}readOffset(e){return this._bigTiff?this.readUint64(e):this.readUint32(e)}}function jn(e){if(void 0!==Object.fromEntries)return Object.fromEntries(e);const t={};for(const[o,n]of e)t[o.toLowerCase()]=n;return t}function Pn(e){return jn(e.split("\r\n").map(e=>{const t=e.split(":").map(e=>e.trim());return t[0]=t[0].toLowerCase(),t}))}function Tn(e){let t,o,n;return e&&([,t,o,n]=e.match(/bytes (\d+)-(\d+)\/(\d+)/),t=parseInt(t,10),o=parseInt(o,10),n=parseInt(n,10)),{start:t,end:o,total:n}}var Mn=o("./node_modules/geotiff/src/source/basesource.js"),Rn=o("./node_modules/geotiff/node_modules/lru-cache/index.js"),Ln=o.n(Rn),kn=o("./node_modules/geotiff/src/utils.js");class Gn{constructor(e,t,o=null){this.offset=e,this.length=t,this.data=o}get top(){return this.offset+this.length}}class Dn{constructor(e,t,o){this.offset=e,this.length=t,this.blockIds=o}}class Nn extends Mn.a{constructor(e,{blockSize:t=65536,cacheSize:o=100}={}){super(),this.source=e,this.blockSize=t,this.blockCache=new Ln.a({max:o}),this.blockRequests=new Map,this.blockIdsToFetch=new Set}get fileSize(){return this.source.fileSize}async fetch(e,t){const o=new Map,n=new Map,r=new Set;for(const{offset:t,length:i}of e){let e=t+i;const{fileSize:a}=this;null!==a&&(e=Math.min(e,a));for(let i=Math.floor(t/this.blockSize)*this.blockSize;i<e;i+=this.blockSize){const e=Math.floor(i/this.blockSize);this.blockCache.has(e)?o.set(e,this.blockCache.get(e)):this.blockRequests.has(e)?n.set(e,this.blockRequests.get(e)):(this.blockIdsToFetch.has(e)||this.blockIdsToFetch.add(e),r.add(e))}}await Object(kn.h)(),this.fetchBlocks(t);for(const e of r){const t=this.blockRequests.get(e),r=this.blockCache.get(e);if(t)n.set(e,t);else{if(!r)throw new Error(`Block ${e} is not in the block requests`);o.set(e,r)}}let i=await Promise.allSettled(Array.from(n.values()));if(i.some(e=>"rejected"===e.status)){const e=new Set;for(const[o,r]of Object(kn.i)(n.keys(),i)){const{rejected:n,reason:i}=r;n&&"AbortError"===i.name&&i.signal!==t&&(this.blockIdsToFetch.add(o),e.add(o))}if(this.blockIdsToFetch.length>0){this.fetchBlocks(t);for(const t of e){const e=this.blockRequests.get(t);if(!e)throw new Error(`Block ${t} is not in the block requests`);n.set(t,e)}i=await Promise.allSettled(Array.from(n.values()))}}if(i.some(e=>"rejected"===e.status)){if(t&&t.aborted)throw new kn.a("Request was aborted");throw new kn.b(i.filter(e=>"rejected"===e.status).map(e=>e.reason),"Request failed")}const a=i.map(e=>e.value),s=new Map(Object(kn.i)(Array.from(n.keys()),a));for(const[e,t]of o)s.set(e,t);return this.readSliceData(e,s)}fetchBlocks(e){if(this.blockIdsToFetch.size>0){const t=this.groupBlocks(this.blockIdsToFetch),o=this.source.fetch(t,e);for(let n=0;n<t.length;++n){const r=t[n];for(const t of r.blockIds){const r=(async()=>{try{const e=(await o)[n],r=t*this.blockSize,i=r-e.offset,a=Math.min(i+this.blockSize,e.data.byteLength),s=e.data.slice(i,a),l=new Gn(r,s.byteLength,s);return this.blockCache.set(t,l),l}catch(t){throw"AbortError"===t.name&&(t.signal=e),t}finally{this.blockRequests.delete(t)}})();this.blockRequests.set(t,r)}}this.blockIdsToFetch.clear()}}groupBlocks(e){const t=Array.from(e).sort((e,t)=>e-t);if(0===t.length)return[];let o=[],n=null;const r=[];for(const e of t)null===n||n+1===e?(o.push(e),n=e):(r.push(new Dn(o[0]*this.blockSize,o.length*this.blockSize,o)),o=[e],n=e);return r.push(new Dn(o[0]*this.blockSize,o.length*this.blockSize,o)),r}readSliceData(e,t){return e.map(e=>{const o=e.offset+e.length,n=Math.floor(e.offset/this.blockSize),r=Math.floor((e.offset+e.length)/this.blockSize),i=new ArrayBuffer(e.length),a=new Uint8Array(i);for(let i=n;i<=r;++i){const n=t.get(i),r=n.offset-e.offset,s=n.top-o;let l,c=0,u=0;r<0?c=-r:r>0&&(u=r),l=s<0?n.length-c:o-n.offset-c;const d=new Uint8Array(n.data,c,l);a.set(d,u)}return i})}}var Fn=o("./node_modules/geotiff/src/source/client/base.js");class Un extends Fn.b{constructor(e){super(),this.response=e}get status(){return this.response.status}getHeader(e){return this.response.headers.get(e)}async getData(){return this.response.arrayBuffer?await this.response.arrayBuffer():(await this.response.buffer()).buffer}}class Bn extends Fn.a{constructor(e,t){super(e),this.credentials=t}async request({headers:e,credentials:t,signal:o}={}){const n=await fetch(this.url,{headers:e,credentials:t,signal:o});return new Un(n)}}class zn extends Fn.b{constructor(e,t){super(),this.xhr=e,this.data=t}get status(){return this.xhr.status}getHeader(e){return this.xhr.getResponseHeader(e)}async getData(){return this.data}}class Vn extends Fn.a{constructRequest(e,t){return new Promise((o,n)=>{const r=new XMLHttpRequest;r.open("GET",this.url),r.responseType="arraybuffer";for(const[t,o]of Object.entries(e))r.setRequestHeader(t,o);r.onload=()=>{const e=r.response;o(new zn(r,e))},r.onerror=n,r.onabort=()=>n(new kn.a("Request aborted")),r.send(),t&&(t.aborted&&r.abort(),t.addEventListener("abort",()=>r.abort()))})}async request({headers:e,signal:t}={}){return await this.constructRequest(e,t)}}var Wn=o("./node_modules/geotiff/src/source/client/http.js");class qn extends Mn.a{constructor(e,t,o,n){super(),this.client=e,this.headers=t,this.maxRanges=o,this.allowFullFile=n,this._fileSize=null}async fetch(e,t){return this.maxRanges>=e.length?this.fetchSlices(e,t):(this.maxRanges>0&&e.length,Promise.all(e.map(e=>this.fetchSlice(e,t))))}async fetchSlices(e,t){const o=await this.client.request({headers:{...this.headers,Range:"bytes="+e.map(({offset:e,length:t})=>`${e}-${e+t}`).join(",")},signal:t});if(o.ok){if(206===o.status){const{type:n,params:r}=function(e){const[t,...o]=e.split(";").map(e=>e.trim());return{type:t,params:jn(o.map(e=>e.split("=")))}}(o.getHeader("content-type"));if("multipart/byteranges"===n){const e=function(e,t){let o=null;const n=new TextDecoder("ascii"),r=[],i="--"+t,a=i+"--";for(let t=0;t<10;++t){n.decode(new Uint8Array(e,t,i.length))===i&&(o=t)}if(null===o)throw new Error("Could not find initial boundary");for(;o<e.byteLength;){const t=n.decode(new Uint8Array(e,o,Math.min(i.length+1024,e.byteLength-o)));if(0===t.length||t.startsWith(a))break;if(!t.startsWith(i))throw new Error("Part does not start with boundary");const s=t.substr(i.length+2);if(0===s.length)break;const l=s.indexOf("\r\n\r\n"),c=Pn(s.substr(0,l)),{start:u,end:d,total:h}=Tn(c["content-range"]),p=o+i.length+l+"\r\n\r\n".length,f=parseInt(d,10)+1-parseInt(u,10);r.push({headers:c,data:e.slice(p,p+f),offset:u,length:f,fileSize:h}),o=p+f+4}return r}(await o.getData(),r.boundary);return this._fileSize=e[0].fileSize||null,e}const i=await o.getData(),{start:a,end:s,total:l}=Tn(o.getHeader("content-range"));this._fileSize=l||null;const c=[{data:i,offset:a,length:s-a}];if(e.length>1){const o=await Promise.all(e.slice(1).map(e=>this.fetchSlice(e,t)));return c.concat(o)}return c}{if(!this.allowFullFile)throw new Error("Server responded with full file");const e=await o.getData();return this._fileSize=e.byteLength,[{data:e,offset:0,length:e.byteLength}]}}throw new Error("Error fetching data.")}async fetchSlice(e,t){const{offset:o,length:n}=e,r=await this.client.request({headers:{...this.headers,Range:`bytes=${o}-${o+n}`},signal:t});if(r.ok){if(206===r.status){const e=await r.getData(),{total:t}=Tn(r.getHeader("content-range"));return this._fileSize=t||null,{data:e,offset:o,length:n}}{if(!this.allowFullFile)throw new Error("Server responded with full file");const e=await r.getData();return this._fileSize=e.byteLength,{data:e,offset:0,length:e.byteLength}}}throw new Error("Error fetching data.")}get fileSize(){return this._fileSize}}function Yn(e,{blockSize:t,cacheSize:o}){return null===t?e:new Nn(e,t,o)}function Hn(e,{forceXHR:t=!1,...o}={}){return"function"!=typeof fetch||t?"undefined"!=typeof XMLHttpRequest?function(e,{headers:t={},maxRanges:o=0,allowFullFile:n=!1,...r}={}){const i=new Vn(e);return Yn(new qn(i,t,o,n),r)}(e,o):function(e,{headers:t={},maxRanges:o=0,allowFullFile:n=!1,...r}={}){const i=new Wn.a(e);return Yn(new qn(i,t,o,n),r)}(e,o):function(e,{headers:t={},credentials:o,maxRanges:n=0,allowFullFile:r=!1,...i}={}){const a=new Bn(e,o);return Yn(new qn(a,t,n,r),i)}(e,o)}Mn.a;Mn.a;o("./node_modules/geotiff/src/source/file.js");const Xn=Object(kn.f)(yn.e),Zn=Object(kn.f)(yn.i),Kn={};Object(kn.c)(Kn,Xn),Object(kn.c)(Kn,Zn);Object(kn.f)(yn.g);const Jn={nextZero:(e,t)=>{let o=t;for(;0!==e[o];)o++;return o},readUshort:(e,t)=>e[t]<<8|e[t+1],readShort:(e,t)=>{const o=Jn.ui8;return o[0]=e[t+1],o[1]=e[t+0],Jn.i16[0]},readInt:(e,t)=>{const o=Jn.ui8;return o[0]=e[t+3],o[1]=e[t+2],o[2]=e[t+1],o[3]=e[t+0],Jn.i32[0]},readUint:(e,t)=>{const o=Jn.ui8;return o[0]=e[t+3],o[1]=e[t+2],o[2]=e[t+1],o[3]=e[t+0],Jn.ui32[0]},readASCII:(e,t,o)=>o.map(o=>String.fromCharCode(e[t+o])).join(""),readFloat:(e,t)=>{const o=Jn.ui8;return Object(kn.g)(4,n=>{o[n]=e[t+3-n]}),Jn.fl32[0]},readDouble:(e,t)=>{const o=Jn.ui8;return Object(kn.g)(8,n=>{o[n]=e[t+7-n]}),Jn.fl64[0]},writeUshort:(e,t,o)=>{e[t]=o>>8&255,e[t+1]=255&o},writeUint:(e,t,o)=>{e[t]=o>>24&255,e[t+1]=o>>16&255,e[t+2]=o>>8&255,e[t+3]=o>>0&255},writeASCII:(e,t,o)=>{Object(kn.g)(o.length,n=>{e[t+n]=o.charCodeAt(n)})},ui8:new Uint8Array(8)};Jn.fl64=new Float64Array(Jn.ui8.buffer),Jn.writeDouble=(e,t,o)=>{Jn.fl64[0]=o,Object(kn.g)(8,o=>{e[t+o]=Jn.ui8[7-o]})};function Qn(e){switch(e){case yn.h.BYTE:case yn.h.ASCII:case yn.h.SBYTE:case yn.h.UNDEFINED:return 1;case yn.h.SHORT:case yn.h.SSHORT:return 2;case yn.h.LONG:case yn.h.SLONG:case yn.h.FLOAT:case yn.h.IFD:return 4;case yn.h.RATIONAL:case yn.h.SRATIONAL:case yn.h.DOUBLE:case yn.h.LONG8:case yn.h.SLONG8:case yn.h.IFD8:return 8;default:throw new RangeError("Invalid field type: "+e)}}function $n(e,t,o,n){let r=null,i=null;const a=Qn(t);switch(t){case yn.h.BYTE:case yn.h.ASCII:case yn.h.UNDEFINED:r=new Uint8Array(o),i=e.readUint8;break;case yn.h.SBYTE:r=new Int8Array(o),i=e.readInt8;break;case yn.h.SHORT:r=new Uint16Array(o),i=e.readUint16;break;case yn.h.SSHORT:r=new Int16Array(o),i=e.readInt16;break;case yn.h.LONG:case yn.h.IFD:r=new Uint32Array(o),i=e.readUint32;break;case yn.h.SLONG:r=new Int32Array(o),i=e.readInt32;break;case yn.h.LONG8:case yn.h.IFD8:r=new Array(o),i=e.readUint64;break;case yn.h.SLONG8:r=new Array(o),i=e.readInt64;break;case yn.h.RATIONAL:r=new Uint32Array(2*o),i=e.readUint32;break;case yn.h.SRATIONAL:r=new Int32Array(2*o),i=e.readInt32;break;case yn.h.FLOAT:r=new Float32Array(o),i=e.readFloat32;break;case yn.h.DOUBLE:r=new Float64Array(o),i=e.readFloat64;break;default:throw new RangeError("Invalid field type: "+t)}if(t!==yn.h.RATIONAL&&t!==yn.h.SRATIONAL)for(let t=0;t<o;++t)r[t]=i.call(e,n+t*a);else for(let t=0;t<o;t+=2)r[t]=i.call(e,n+t*a),r[t+1]=i.call(e,n+(t*a+4));return t===yn.h.ASCII?new TextDecoder("utf-8").decode(r):r}class er{constructor(e,t,o){this.fileDirectory=e,this.geoKeyDirectory=t,this.nextIFDByteOffset=o}}class tr extends Error{constructor(e){super("No image at index "+e),this.index=e}}class or{async readRasters(e={}){const{window:t,width:o,height:n}=e;let{resX:r,resY:i,bbox:a}=e;const s=await this.getImage();let l=s;const c=await this.getImageCount(),u=s.getBoundingBox();if(t&&a)throw new Error('Both "bbox" and "window" passed.');if(o||n){if(t){const[e,o]=s.getOrigin(),[n,r]=s.getResolution();a=[e+t[0]*n,o+t[1]*r,e+t[2]*n,o+t[3]*r]}const e=a||u;if(o){if(r)throw new Error("Both width and resX passed");r=(e[2]-e[0])/o}if(n){if(i)throw new Error("Both width and resY passed");i=(e[3]-e[1])/n}}if(r||i){const e=[];for(let t=0;t<c;++t){const o=await this.getImage(t),{SubfileType:n,NewSubfileType:r}=o.fileDirectory;(0===t||2===n||1&r)&&e.push(o)}e.sort((e,t)=>e.getWidth()-t.getWidth());for(let t=0;t<e.length;++t){const o=e[t],n=(u[2]-u[0])/o.getWidth(),a=(u[3]-u[1])/o.getHeight();if(l=o,r&&r>n||i&&i>a)break}}let d=t;if(a){const[e,t]=s.getOrigin(),[o,n]=l.getResolution(s);d=[Math.round((a[0]-e)/o),Math.round((a[1]-t)/n),Math.round((a[2]-e)/o),Math.round((a[3]-t)/n)],d=[Math.min(d[0],d[2]),Math.min(d[1],d[3]),Math.max(d[0],d[2]),Math.max(d[1],d[3])]}return l.readRasters({...e,window:d})}}class nr extends or{constructor(e,t,o,n,r={}){super(),this.source=e,this.littleEndian=t,this.bigTiff=o,this.firstIFDOffset=n,this.cache=r.cache||!1,this.ifdRequests=[],this.ghostValues=null}async getSlice(e,t){const o=this.bigTiff?4048:1024;return new xn((await this.source.fetch([{offset:e,length:void 0!==t?t:o}]))[0],e,this.littleEndian,this.bigTiff)}async parseFileDirectoryAt(e){const t=this.bigTiff?20:12,o=this.bigTiff?8:2;let n=await this.getSlice(e);const r=this.bigTiff?n.readUint64(e):n.readUint16(e),i=r*t+(this.bigTiff?16:6);n.covers(e,i)||(n=await this.getSlice(e,i));const a={};let s=e+(this.bigTiff?8:2);for(let e=0;e<r;s+=t,++e){const e=n.readUint16(s),t=n.readUint16(s+2),o=this.bigTiff?n.readUint64(s+4):n.readUint32(s+4);let r,i;const l=Qn(t),c=s+(this.bigTiff?12:8);if(l*o<=(this.bigTiff?8:4))r=$n(n,t,o,c);else{const e=n.readOffset(c),i=Qn(t)*o;if(n.covers(e,i))r=$n(n,t,o,e);else{r=$n(await this.getSlice(e,i),t,o,e)}}i=1===o&&-1===yn.d.indexOf(e)&&t!==yn.h.RATIONAL&&t!==yn.h.SRATIONAL?r[0]:r,a[yn.e[e]]=i}const l=function(e){const t=e.GeoKeyDirectory;if(!t)return null;const o={};for(let n=4;n<=4*t[3];n+=4){const r=yn.i[t[n]],i=t[n+1]?yn.e[t[n+1]]:null,a=t[n+2],s=t[n+3];let l=null;if(i){if(l=e[i],null==l)throw new Error(`Could not get value of geoKey '${r}'.`);"string"==typeof l?l=l.substring(s,s+a-1):l.subarray&&(l=l.subarray(s,s+a),1===a&&(l=l[0]))}else l=s;o[r]=l}return o}(a),c=n.readOffset(e+o+t*r);return new er(a,l,c)}async requestIFD(e){if(this.ifdRequests[e])return this.ifdRequests[e];if(0===e)return this.ifdRequests[e]=this.parseFileDirectoryAt(this.firstIFDOffset),this.ifdRequests[e];if(!this.ifdRequests[e-1])try{this.ifdRequests[e-1]=this.requestIFD(e-1)}catch(t){if(t instanceof tr)throw new tr(e);throw t}return this.ifdRequests[e]=(async()=>{const t=await this.ifdRequests[e-1];if(0===t.nextIFDByteOffset)throw new tr(e);return this.parseFileDirectoryAt(t.nextIFDByteOffset)})(),this.ifdRequests[e]}async getImage(e=0){const t=await this.requestIFD(e);return new On(t.fileDirectory,t.geoKeyDirectory,this.dataView,this.littleEndian,this.cache,this.source)}async getImageCount(){let e=0,t=!0;for(;t;)try{await this.requestIFD(e),++e}catch(e){if(!(e instanceof tr))throw e;t=!1}return e}async getGhostValues(){const e=this.bigTiff?16:8;if(this.ghostValues)return this.ghostValues;const t="GDAL_STRUCTURAL_METADATA_SIZE=",o=t.length+100;let n=await this.getSlice(e,o);if(t===$n(n,yn.h.ASCII,t.length,e)){const t=$n(n,yn.h.ASCII,o,e).split("\n")[0],r=Number(t.split("=")[1].split(" ")[0])+t.length;r>o&&(n=await this.getSlice(e,r));const i=$n(n,yn.h.ASCII,r,e);this.ghostValues={},i.split("\n").filter(e=>e.length>0).map(e=>e.split("=")).forEach(([e,t])=>{this.ghostValues[e]=t})}return this.ghostValues}static async fromSource(e,t,o){const n=(await e.fetch([{offset:0,length:1024}],o))[0],r=new Sn(n),i=r.getUint16(0,0);let a;if(18761===i)a=!0;else{if(19789!==i)throw new TypeError("Invalid byte order value.");a=!1}const s=r.getUint16(2,a);let l;if(42===s)l=!1;else{if(43!==s)throw new TypeError("Invalid magic number.");l=!0;if(8!==r.getUint16(4,a))throw new Error("Unsupported offset byte-size.")}const c=l?r.getUint64(8,a):r.getUint32(4,a);return new nr(e,a,l,c,t)}close(){return"function"==typeof this.source.close&&this.source.close()}}class rr extends or{constructor(e,t){super(),this.mainFile=e,this.overviewFiles=t,this.imageFiles=[e].concat(t),this.fileDirectoriesPerFile=null,this.fileDirectoriesPerFileParsing=null,this.imageCount=null}async parseFileDirectoriesPerFile(){const e=[this.mainFile.parseFileDirectoryAt(this.mainFile.firstIFDOffset)].concat(this.overviewFiles.map(e=>e.parseFileDirectoryAt(e.firstIFDOffset)));return this.fileDirectoriesPerFile=await Promise.all(e),this.fileDirectoriesPerFile}async getImage(e=0){await this.getImageCount(),await this.parseFileDirectoriesPerFile();let t=0,o=0;for(let n=0;n<this.imageFiles.length;n++){const r=this.imageFiles[n];for(let i=0;i<this.imageCounts[n];i++){if(e===t){const e=await r.requestIFD(o);return new On(e.fileDirectory,e.geoKeyDirectory,r.dataView,r.littleEndian,r.cache,r.source)}t++,o++}o=0}throw new RangeError("Invalid image index")}async getImageCount(){if(null!==this.imageCount)return this.imageCount;const e=[this.mainFile.getImageCount()].concat(this.overviewFiles.map(e=>e.getImageCount()));return this.imageCounts=await Promise.all(e),this.imageCount=this.imageCounts.reduce((e,t)=>e+t,0),this.imageCount}}var ir=new Blob(['function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function asyncGeneratorStep(e,t,r,n,a,i,o){try{var s=e[i](o),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,a)}function _asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(e){asyncGeneratorStep(i,n,a,o,s,"next",e)}function s(e){asyncGeneratorStep(i,n,a,o,s,"throw",e)}o(void 0)}))}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return e}function _possibleConstructorReturn(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_getPrototypeOf(e);if(t){var a=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var runtime={exports:{}};!function(e){var t=function(e){var t,r=Object.prototype,n=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var a=t&&t.prototype instanceof g?t:g,i=Object.create(a.prototype),o=new A(n||[]);return i._invoke=function(e,t,r){var n=u;return function(a,i){if(n===h)throw new Error("Generator is already running");if(n===p){if("throw"===a)throw i;return I()}for(r.method=a,r.arg=i;;){var o=r.delegate;if(o){var s=x(o,r);if(s){if(s===m)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===u)throw n=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=h;var l=c(e,t,r);if("normal"===l.type){if(n=r.done?p:d,l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n=p,r.method="throw",r.arg=l.arg)}}}(e,r,o),i}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=f;var u="suspendedStart",d="suspendedYield",h="executing",p="completed",m={};function g(){}function y(){}function _(){}var b={};l(b,i,(function(){return this}));var v=Object.getPrototypeOf,w=v&&v(v(M([])));w&&w!==r&&n.call(w,i)&&(b=w);var k=_.prototype=g.prototype=Object.create(b);function T(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function r(a,i,o,s){var l=c(e[a],e,i);if("throw"!==l.type){var f=l.arg,u=f.value;return u&&"object"===_typeof(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,o,s)}),(function(e){r("throw",e,o,s)})):t.resolve(u).then((function(e){f.value=e,o(f)}),(function(e){return r("throw",e,o,s)}))}s(l.arg)}var a;this._invoke=function(e,n){function i(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(i,i):i()}}function x(e,r){var n=e.iterator[r.method];if(n===t){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=t,x(e,r),"throw"===r.method))return m;r.method="throw",r.arg=new TypeError("The iterator does not provide a \'throw\' method")}return m}var a=c(n,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function D(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function M(e){if(e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function r(){for(;++a<e.length;)if(n.call(e,a))return r.value=e[a],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}return{next:I}}function I(){return{value:t,done:!0}}return y.prototype=_,l(k,"constructor",_),l(_,"constructor",y),y.displayName=l(_,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,l(e,s,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},T(E.prototype),l(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,i){void 0===i&&(i=Promise);var o=new E(f(t,r,n,a),i);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},T(k),l(k,s,"Generator"),l(k,i,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=M,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(D),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function a(n,a){return s.type="throw",s.arg=e,r.next=n,a&&(r.method="next",r.arg=t),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),f=n.call(o,"finallyLoc");if(l&&f){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!f)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),D(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;D(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:M(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"===("undefined"==typeof globalThis?"undefined":_typeof(globalThis))?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}(runtime);var worker={},isObservable=function(e){return!!e&&("symbol"===_typeof(Symbol.observable)&&"function"==typeof e[Symbol.observable]?e===e[Symbol.observable]():"function"==typeof e["@@observable"]&&e===e["@@observable"]())},common$1={},serializers={};function extendSerializer(e,t){var r=e.deserialize.bind(e),n=e.serialize.bind(e);return{deserialize:function(e){return t.deserialize(e,r)},serialize:function(e){return t.serialize(e,n)}}}Object.defineProperty(serializers,"__esModule",{value:!0}),serializers.DefaultSerializer=serializers.extendSerializer=void 0,serializers.extendSerializer=extendSerializer;var DefaultErrorSerializer={deserialize:function(e){return Object.assign(Error(e.message),{name:e.name,stack:e.stack})},serialize:function(e){return{__error_marker:"$$error",message:e.message,name:e.name,stack:e.stack}}},isSerializedError=function(e){return e&&"object"===_typeof(e)&&"__error_marker"in e&&"$$error"===e.__error_marker};serializers.DefaultSerializer={deserialize:function(e){return isSerializedError(e)?DefaultErrorSerializer.deserialize(e):e},serialize:function(e){return e instanceof Error?DefaultErrorSerializer.serialize(e):e}},Object.defineProperty(common$1,"__esModule",{value:!0}),common$1.serialize=common$1.deserialize=common$1.registerSerializer=void 0;var serializers_1=serializers,registeredSerializer=serializers_1.DefaultSerializer;function registerSerializer(e){registeredSerializer=serializers_1.extendSerializer(registeredSerializer,e)}function deserialize(e){return registeredSerializer.deserialize(e)}function serialize(e){return registeredSerializer.serialize(e)}common$1.registerSerializer=registerSerializer,common$1.deserialize=deserialize,common$1.serialize=serialize;var transferable={},symbols={};Object.defineProperty(symbols,"__esModule",{value:!0}),symbols.$worker=symbols.$transferable=symbols.$terminate=symbols.$events=symbols.$errors=void 0,symbols.$errors=Symbol("thread.errors"),symbols.$events=Symbol("thread.events"),symbols.$terminate=Symbol("thread.terminate"),symbols.$transferable=Symbol("thread.transferable"),symbols.$worker=Symbol("thread.worker"),Object.defineProperty(transferable,"__esModule",{value:!0}),transferable.Transfer=transferable.isTransferDescriptor=void 0;var symbols_1=symbols;function isTransferable(e){return!(!e||"object"!==_typeof(e))}function isTransferDescriptor(e){return e&&"object"===_typeof(e)&&e[symbols_1.$transferable]}function Transfer$1(e,t){var r;if(!t){if(!isTransferable(e))throw Error();t=[e]}return _defineProperty(r={},symbols_1.$transferable,!0),_defineProperty(r,"send",e),_defineProperty(r,"transferables",t),r}transferable.isTransferDescriptor=isTransferDescriptor,transferable.Transfer=Transfer$1;var messages$1={},exports,MasterMessageType,WorkerMessageType;exports=messages$1,Object.defineProperty(exports,"__esModule",{value:!0}),exports.WorkerMessageType=exports.MasterMessageType=void 0,(MasterMessageType=exports.MasterMessageType||(exports.MasterMessageType={})).cancel="cancel",MasterMessageType.run="run",(WorkerMessageType=exports.WorkerMessageType||(exports.WorkerMessageType={})).error="error",WorkerMessageType.init="init",WorkerMessageType.result="result",WorkerMessageType.running="running",WorkerMessageType.uncaughtError="uncaughtError";var implementation$1={},implementation_browser={};Object.defineProperty(implementation_browser,"__esModule",{value:!0});var isWorkerRuntime$2=function(){var e="undefined"!=typeof self&&"undefined"!=typeof Window&&self instanceof Window;return!("undefined"==typeof self||!self.postMessage||e)},postMessageToMaster$2=function(e,t){self.postMessage(e,t)},subscribeToMasterMessages$2=function(e){var t=function(t){e(t.data)};return self.addEventListener("message",t),function(){self.removeEventListener("message",t)}};implementation_browser.default={isWorkerRuntime:isWorkerRuntime$2,postMessageToMaster:postMessageToMaster$2,subscribeToMasterMessages:subscribeToMasterMessages$2};var implementation_tinyWorker={};Object.defineProperty(implementation_tinyWorker,"__esModule",{value:!0}),"undefined"==typeof self&&(commonjsGlobal.self=commonjsGlobal);var isWorkerRuntime$1=function(){return!("undefined"==typeof self||!self.postMessage)},postMessageToMaster$1=function(e){self.postMessage(e)},muxingHandlerSetUp=!1,messageHandlers=new Set,subscribeToMasterMessages$1=function(e){muxingHandlerSetUp||(self.addEventListener("message",(function(e){messageHandlers.forEach((function(t){return t(e.data)}))})),muxingHandlerSetUp=!0),messageHandlers.add(e);return function(){return messageHandlers.delete(e)}};implementation_tinyWorker.default={isWorkerRuntime:isWorkerRuntime$1,postMessageToMaster:postMessageToMaster$1,subscribeToMasterMessages:subscribeToMasterMessages$1};var implementation_worker_threads={},worker_threads={},implementation;function selectImplementation(){return"function"==typeof __non_webpack_require__?__non_webpack_require__("worker_threads"):eval("require")("worker_threads")}function getImplementation(){return implementation||(implementation=selectImplementation()),implementation}Object.defineProperty(worker_threads,"__esModule",{value:!0}),worker_threads.default=getImplementation;var __importDefault$1=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(implementation_worker_threads,"__esModule",{value:!0});var worker_threads_1=__importDefault$1(worker_threads);function assertMessagePort(e){if(!e)throw Error("Invariant violation: MessagePort to parent is not available.");return e}var isWorkerRuntime=function(){return!worker_threads_1.default().isMainThread},postMessageToMaster=function(e,t){assertMessagePort(worker_threads_1.default().parentPort).postMessage(e,t)},subscribeToMasterMessages=function(e){var t=worker_threads_1.default().parentPort;if(!t)throw Error("Invariant violation: MessagePort to parent is not available.");var r=function(t){e(t)};return assertMessagePort(t).on("message",r),function(){assertMessagePort(t).off("message",r)}};function testImplementation(){worker_threads_1.default()}implementation_worker_threads.default={isWorkerRuntime:isWorkerRuntime,postMessageToMaster:postMessageToMaster,subscribeToMasterMessages:subscribeToMasterMessages,testImplementation:testImplementation};var __importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(implementation$1,"__esModule",{value:!0});var implementation_browser_1=__importDefault(implementation_browser),implementation_tiny_worker_1=__importDefault(implementation_tinyWorker),implementation_worker_threads_1=__importDefault(implementation_worker_threads),runningInNode="undefined"!=typeof process&&"browser"!==process.arch&&"pid"in process;function selectNodeImplementation(){try{return implementation_worker_threads_1.default.testImplementation(),implementation_worker_threads_1.default}catch(e){return implementation_tiny_worker_1.default}}implementation$1.default=runningInNode?selectNodeImplementation():implementation_browser_1.default,function(e){var t=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}l((n=n.apply(e,t||[])).next())}))},r=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.expose=e.isWorkerRuntime=e.Transfer=e.registerSerializer=void 0;var n=r(isObservable),a=common$1,i=transferable,o=messages$1,s=r(implementation$1),l=common$1;Object.defineProperty(e,"registerSerializer",{enumerable:!0,get:function(){return l.registerSerializer}});var f=transferable;Object.defineProperty(e,"Transfer",{enumerable:!0,get:function(){return f.Transfer}}),e.isWorkerRuntime=s.default.isWorkerRuntime;var c=!1,u=new Map,d=function(e){return e&&e.type===o.MasterMessageType.run},h=function(e){return n.default(e)||function(e){return e&&"object"===_typeof(e)&&"function"==typeof e.subscribe}(e)};function p(e){return i.isTransferDescriptor(e)?{payload:e.send,transferables:e.transferables}:{payload:e,transferables:void 0}}function m(e,t){var r=p(t),n=r.payload,i=r.transferables,l={type:o.WorkerMessageType.error,uid:e,error:a.serialize(n)};s.default.postMessageToMaster(l,i)}function g(e,t,r){var n=p(r),a=n.payload,i=n.transferables,l={type:o.WorkerMessageType.result,uid:e,complete:!!t||void 0,payload:a};s.default.postMessageToMaster(l,i)}function y(e,t){var r={type:o.WorkerMessageType.running,uid:e,resultType:t};s.default.postMessageToMaster(r)}function _(e){try{var t={type:o.WorkerMessageType.uncaughtError,error:a.serialize(e)};s.default.postMessageToMaster(t)}catch(t){console.error("Not reporting uncaught error back to master thread as it occured while reporting an uncaught error already.\\nLatest error:",t,"\\nOriginal error:",e)}}function b(e,r,n){return t(this,void 0,void 0,regeneratorRuntime.mark((function t(){var i,o,s,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,i=r.apply(void 0,_toConsumableArray(n)),t.next=7;break;case 4:return t.prev=4,t.t0=t.catch(0),t.abrupt("return",m(e,t.t0));case 7:if(o=h(i)?"observable":"promise",y(e,o),!h(i)){t.next=14;break}s=i.subscribe((function(t){return g(e,!1,a.serialize(t))}),(function(t){m(e,a.serialize(t)),u.delete(e)}),(function(){g(e,!0),u.delete(e)})),u.set(e,s),t.next=24;break;case 14:return t.prev=14,t.next=17,i;case 17:l=t.sent,g(e,!0,a.serialize(l)),t.next=24;break;case 21:t.prev=21,t.t1=t.catch(14),m(e,a.serialize(t.t1));case 24:case"end":return t.stop()}}),t,null,[[0,4],[14,21]])})))}e.expose=function(e){if(!s.default.isWorkerRuntime())throw Error("expose() called in the master thread.");if(c)throw Error("expose() called more than once. This is not possible. Pass an object to expose() if you want to expose multiple functions.");if(c=!0,"function"==typeof e)s.default.subscribeToMasterMessages((function(t){d(t)&&!t.method&&b(t.uid,e,t.args.map(a.deserialize))})),t={type:o.WorkerMessageType.init,exposed:{type:"function"}},s.default.postMessageToMaster(t);else{if("object"!==_typeof(e)||!e)throw Error("Invalid argument passed to expose(). Expected a function or an object, got: ".concat(e));s.default.subscribeToMasterMessages((function(t){d(t)&&t.method&&b(t.uid,e[t.method],t.args.map(a.deserialize))})),function(e){var t={type:o.WorkerMessageType.init,exposed:{type:"module",methods:e}};s.default.postMessageToMaster(t)}(Object.keys(e).filter((function(t){return"function"==typeof e[t]})))}var t;s.default.subscribeToMasterMessages((function(e){if((n=e)&&n.type===o.MasterMessageType.cancel){var t=e.uid,r=u.get(t);r&&(r.unsubscribe(),u.delete(t))}var n}))},"undefined"!=typeof self&&"function"==typeof self.addEventListener&&s.default.isWorkerRuntime()&&(self.addEventListener("error",(function(e){setTimeout((function(){return _(e.error||e)}),250)})),self.addEventListener("unhandledrejection",(function(e){var t=e.reason;t&&"string"==typeof t.message&&setTimeout((function(){return _(t)}),250)}))),"undefined"!=typeof process&&"function"==typeof process.on&&s.default.isWorkerRuntime()&&(process.on("uncaughtException",(function(e){setTimeout((function(){return _(e)}),250)})),process.on("unhandledRejection",(function(e){e&&"string"==typeof e.message&&setTimeout((function(){return _(e)}),250)})))}(worker);var WorkerContext=getDefaultExportFromCjs(worker),expose=WorkerContext.expose;WorkerContext.registerSerializer;var Transfer=WorkerContext.Transfer,registry=new Map;function addDecoder(e,t){Array.isArray(e)||(e=[e]),e.forEach((function(e){return registry.set(e,t)}))}function getDecoder(e){return _getDecoder.apply(this,arguments)}function _getDecoder(){return(_getDecoder=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=registry.get(t.Compression)){e.next=3;break}throw new Error("Unknown compression method identifier: ".concat(t.Compression));case 3:return e.next=5,r();case 5:return n=e.sent,e.abrupt("return",new n(t));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function decode(e,t){return _decode.apply(this,arguments)}function _decode(){return(_decode=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,getDecoder(t);case 2:return n=e.sent,e.next=5,n.decode(t,r);case 5:return a=e.sent,e.abrupt("return",Transfer(a));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function decodeRowAcc(e,t){var r=e.length-t,n=0;do{for(var a=t;a>0;a--)e[n+t]+=e[n],n++;r-=t}while(r>0)}function decodeRowFloatingPoint(e,t,r){for(var n=0,a=e.length,i=a/r;a>t;){for(var o=t;o>0;--o)e[n+t]+=e[n],++n;a-=t}for(var s=e.slice(),l=0;l<i;++l)for(var f=0;f<r;++f)e[r*l+f]=s[(r-f-1)*i+l]}function applyPredictor(e,t,r,n,a,i){if(!t||1===t)return e;for(var o=0;o<a.length;++o){if(a[o]%8!=0)throw new Error("When decoding with predictor, only multiple of 8 bits are supported.");if(a[o]!==a[0])throw new Error("When decoding with predictor, all samples must have the same size.")}for(var s=a[0]/8,l=2===i?1:a.length,f=0;f<n&&!(f*l*r*s>=e.byteLength);++f){var c=void 0;if(2===t){switch(a[0]){case 8:c=new Uint8Array(e,f*l*r*s,l*r*s);break;case 16:c=new Uint16Array(e,f*l*r*s,l*r*s/2);break;case 32:c=new Uint32Array(e,f*l*r*s,l*r*s/4);break;default:throw new Error("Predictor 2 not allowed with ".concat(a[0]," bits per sample."))}decodeRowAcc(c,l)}else 3===t&&decodeRowFloatingPoint(c=new Uint8Array(e,f*l*r*s,l*r*s),l,s)}return e}addDecoder([void 0,1],(function(){return Promise.resolve().then((function(){return raw})).then((function(e){return e.default}))})),addDecoder(5,(function(){return Promise.resolve().then((function(){return lzw})).then((function(e){return e.default}))})),addDecoder(6,(function(){throw new Error("old style JPEG compression is not supported.")})),addDecoder(7,(function(){return Promise.resolve().then((function(){return jpeg})).then((function(e){return e.default}))})),addDecoder([8,32946],(function(){return Promise.resolve().then((function(){return deflate})).then((function(e){return e.default}))})),addDecoder(32773,(function(){return Promise.resolve().then((function(){return packbits})).then((function(e){return e.default}))})),addDecoder(34887,(function(){return Promise.resolve().then((function(){return lerc})).then((function(e){return e.default}))})),expose(decode);var BaseDecoder=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"decode",value:function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r){var n,a,i,o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.decodeBlock(r);case 2:if(n=e.sent,1===(a=t.Predictor||1)){e.next=9;break}return i=!t.StripOffsets,o=i?t.TileWidth:t.ImageWidth,s=i?t.TileLength:t.RowsPerStrip||t.ImageLength,e.abrupt("return",applyPredictor(n,a,o,s,t.BitsPerSample,t.PlanarConfiguration));case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}]),e}(),RawDecoder=function(e){_inherits(r,BaseDecoder);var t=_createSuper(r);function r(){return _classCallCheck(this,r),t.apply(this,arguments)}return _createClass(r,[{key:"decodeBlock",value:function(e){return e}}]),r}(),raw=Object.freeze({__proto__:null,default:RawDecoder}),MIN_BITS=9,CLEAR_CODE=256,EOI_CODE=257,MAX_BYTELENGTH=12;function getByte(e,t,r){var n=t%8,a=Math.floor(t/8),i=8-n,o=t+r-8*(a+1),s=8*(a+2)-(t+r),l=8*(a+2)-t;if(s=Math.max(0,s),a>=e.length)return console.warn("ran off the end of the buffer before finding EOI_CODE (end on input code)"),EOI_CODE;var f=e[a]&Math.pow(2,8-n)-1,c=f<<=r-i;if(a+1<e.length){var u=e[a+1]>>>s;c+=u<<=Math.max(0,r-l)}if(o>8&&a+2<e.length){var d=8*(a+3)-(t+r);c+=e[a+2]>>>d}return c}function appendReversed(e,t){for(var r=t.length-1;r>=0;r--)e.push(t[r]);return e}function decompress(e){for(var t=new Uint16Array(4093),r=new Uint8Array(4093),n=0;n<=257;n++)t[n]=4096,r[n]=n;var a=258,i=MIN_BITS,o=0;function s(){a=258,i=MIN_BITS}function l(e){var t=getByte(e,o,i);return o+=i,t}function f(e,n){return r[a]=n,t[a]=e,++a-1}function c(e){for(var n=[],a=e;4096!==a;a=t[a])n.push(r[a]);return n}var u=[];s();for(var d,h=new Uint8Array(e),p=l(h);p!==EOI_CODE;){if(p===CLEAR_CODE){for(s(),p=l(h);p===CLEAR_CODE;)p=l(h);if(p===EOI_CODE)break;if(p>CLEAR_CODE)throw new Error("corrupted code at scanline ".concat(p));appendReversed(u,c(p)),d=p}else if(p<a){var m=c(p);appendReversed(u,m),f(d,m[m.length-1]),d=p}else{var g=c(d);if(!g)throw new Error("Bogus entry. Not in dictionary, ".concat(d," / ").concat(a,", position: ").concat(o));appendReversed(u,g),u.push(g[g.length-1]),f(d,g[g.length-1]),d=p}a+1>=Math.pow(2,i)&&(i===MAX_BYTELENGTH?d=void 0:i++),p=l(h)}return new Uint8Array(u)}var LZWDecoder=function(e){_inherits(r,BaseDecoder);var t=_createSuper(r);function r(){return _classCallCheck(this,r),t.apply(this,arguments)}return _createClass(r,[{key:"decodeBlock",value:function(e){return decompress(e).buffer}}]),r}(),lzw=Object.freeze({__proto__:null,default:LZWDecoder}),dctZigZag=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),dctCos1=4017,dctSin1=799,dctCos3=3406,dctSin3=2276,dctCos6=1567,dctSin6=3784,dctSqrt2=5793,dctSqrt1d2=2896;function buildHuffmanTable(e,t){for(var r=0,n=[],a=16;a>0&&!e[a-1];)--a;n.push({children:[],index:0});for(var i,o=n[0],s=0;s<a;s++){for(var l=0;l<e[s];l++){for((o=n.pop()).children[o.index]=t[r];o.index>0;)o=n.pop();for(o.index++,n.push(o);n.length<=s;)n.push(i={children:[],index:0}),o.children[o.index]=i.children,o=i;r++}s+1<a&&(n.push(i={children:[],index:0}),o.children[o.index]=i.children,o=i)}return n[0].children}function decodeScan(e,t,r,n,a,i,o,s,l){var f=r.mcusPerLine,c=r.progressive,u=t,d=t,h=0,p=0;function m(){if(p>0)return p--,h>>p&1;if(255===(h=e[d++])){var t=e[d++];if(t)throw new Error("unexpected marker: ".concat((h<<8|t).toString(16)))}return p=7,h>>>7}function g(e){for(var t,r=e;null!==(t=m());){if("number"==typeof(r=r[t]))return r;if("object"!==_typeof(r))throw new Error("invalid huffman sequence")}return null}function y(e){for(var t=e,r=0;t>0;){var n=m();if(null===n)return;r=r<<1|n,--t}return r}function _(e){var t=y(e);return t>=1<<e-1?t:t+(-1<<e)+1}var b=0;var v,w=0;function k(e,t,r,n,a){var i=r%f,o=(r/f|0)*e.v+n,s=i*e.h+a;t(e,e.blocks[o][s])}function T(e,t,r){var n=r/e.blocksPerLine|0,a=r%e.blocksPerLine;t(e,e.blocks[n][a])}var E,x,S,D,A,M,I=n.length;M=c?0===i?0===s?function(e,t){var r=g(e.huffmanTableDC),n=0===r?0:_(r)<<l;e.pred+=n,t[0]=e.pred}:function(e,t){t[0]|=m()<<l}:0===s?function(e,t){if(b>0)b--;else for(var r=i,n=o;r<=n;){var a=g(e.huffmanTableAC),s=15&a,f=a>>4;if(0===s){if(f<15){b=y(f)+(1<<f)-1;break}r+=16}else t[dctZigZag[r+=f]]=_(s)*(1<<l),r++}}:function(e,t){for(var r=i,n=o,a=0;r<=n;){var s=dctZigZag[r],f=t[s]<0?-1:1;switch(w){case 0:var c=g(e.huffmanTableAC),u=15&c;if(a=c>>4,0===u)a<15?(b=y(a)+(1<<a),w=4):(a=16,w=1);else{if(1!==u)throw new Error("invalid ACn encoding");v=_(u),w=a?2:3}continue;case 1:case 2:t[s]?t[s]+=(m()<<l)*f:0==--a&&(w=2===w?3:0);break;case 3:t[s]?t[s]+=(m()<<l)*f:(t[s]=v<<l,w=0);break;case 4:t[s]&&(t[s]+=(m()<<l)*f)}r++}4===w&&0==--b&&(w=0)}:function(e,t){var r=g(e.huffmanTableDC),n=0===r?0:_(r);e.pred+=n,t[0]=e.pred;for(var a=1;a<64;){var i=g(e.huffmanTableAC),o=15&i,s=i>>4;if(0===o){if(s<15)break;a+=16}else t[dctZigZag[a+=s]]=_(o),a++}};var R,O,C=0;O=1===I?n[0].blocksPerLine*n[0].blocksPerColumn:f*r.mcusPerColumn;for(var P=a||O;C<O;){for(x=0;x<I;x++)n[x].pred=0;if(b=0,1===I)for(E=n[0],A=0;A<P;A++)T(E,M,C),C++;else for(A=0;A<P;A++){for(x=0;x<I;x++){var L=E=n[x],U=L.h,B=L.v;for(S=0;S<B;S++)for(D=0;D<U;D++)k(E,M,C,S,D)}if(++C===O)break}if(p=0,(R=e[d]<<8|e[d+1])<65280)throw new Error("marker was not found");if(!(R>=65488&&R<=65495))break;d+=2}return d-u}function buildComponentData(e,t){var r=[],n=t.blocksPerLine,a=t.blocksPerColumn,i=n<<3,o=new Int32Array(64),s=new Uint8Array(64);function l(e,r,n){var a,i,o,s,l,f,c,u,d,h,p=t.quantizationTable,m=n;for(h=0;h<64;h++)m[h]=e[h]*p[h];for(h=0;h<8;++h){var g=8*h;0!==m[1+g]||0!==m[2+g]||0!==m[3+g]||0!==m[4+g]||0!==m[5+g]||0!==m[6+g]||0!==m[7+g]?(a=dctSqrt2*m[0+g]+128>>8,i=dctSqrt2*m[4+g]+128>>8,o=m[2+g],s=m[6+g],l=dctSqrt1d2*(m[1+g]-m[7+g])+128>>8,u=dctSqrt1d2*(m[1+g]+m[7+g])+128>>8,f=m[3+g]<<4,c=m[5+g]<<4,d=a-i+1>>1,a=a+i+1>>1,i=d,d=o*dctSin6+s*dctCos6+128>>8,o=o*dctCos6-s*dctSin6+128>>8,s=d,d=l-c+1>>1,l=l+c+1>>1,c=d,d=u+f+1>>1,f=u-f+1>>1,u=d,d=a-s+1>>1,a=a+s+1>>1,s=d,d=i-o+1>>1,i=i+o+1>>1,o=d,d=l*dctSin3+u*dctCos3+2048>>12,l=l*dctCos3-u*dctSin3+2048>>12,u=d,d=f*dctSin1+c*dctCos1+2048>>12,f=f*dctCos1-c*dctSin1+2048>>12,c=d,m[0+g]=a+u,m[7+g]=a-u,m[1+g]=i+c,m[6+g]=i-c,m[2+g]=o+f,m[5+g]=o-f,m[3+g]=s+l,m[4+g]=s-l):(d=dctSqrt2*m[0+g]+512>>10,m[0+g]=d,m[1+g]=d,m[2+g]=d,m[3+g]=d,m[4+g]=d,m[5+g]=d,m[6+g]=d,m[7+g]=d)}for(h=0;h<8;++h){var y=h;0!==m[8+y]||0!==m[16+y]||0!==m[24+y]||0!==m[32+y]||0!==m[40+y]||0!==m[48+y]||0!==m[56+y]?(a=dctSqrt2*m[0+y]+2048>>12,i=dctSqrt2*m[32+y]+2048>>12,o=m[16+y],s=m[48+y],l=dctSqrt1d2*(m[8+y]-m[56+y])+2048>>12,u=dctSqrt1d2*(m[8+y]+m[56+y])+2048>>12,f=m[24+y],c=m[40+y],d=a-i+1>>1,a=a+i+1>>1,i=d,d=o*dctSin6+s*dctCos6+2048>>12,o=o*dctCos6-s*dctSin6+2048>>12,s=d,d=l-c+1>>1,l=l+c+1>>1,c=d,d=u+f+1>>1,f=u-f+1>>1,u=d,d=a-s+1>>1,a=a+s+1>>1,s=d,d=i-o+1>>1,i=i+o+1>>1,o=d,d=l*dctSin3+u*dctCos3+2048>>12,l=l*dctCos3-u*dctSin3+2048>>12,u=d,d=f*dctSin1+c*dctCos1+2048>>12,f=f*dctCos1-c*dctSin1+2048>>12,c=d,m[0+y]=a+u,m[56+y]=a-u,m[8+y]=i+c,m[48+y]=i-c,m[16+y]=o+f,m[40+y]=o-f,m[24+y]=s+l,m[32+y]=s-l):(d=dctSqrt2*n[h+0]+8192>>14,m[0+y]=d,m[8+y]=d,m[16+y]=d,m[24+y]=d,m[32+y]=d,m[40+y]=d,m[48+y]=d,m[56+y]=d)}for(h=0;h<64;++h){var _=128+(m[h]+8>>4);r[h]=_<0?0:_>255?255:_}}for(var f=0;f<a;f++){for(var c=f<<3,u=0;u<8;u++)r.push(new Uint8Array(i));for(var d=0;d<n;d++){l(t.blocks[f][d],s,o);for(var h=0,p=d<<3,m=0;m<8;m++)for(var g=r[c+m],y=0;y<8;y++)g[p+y]=s[h++]}}return r}var JpegStreamReader=function(){function e(){_classCallCheck(this,e),this.jfif=null,this.adobe=null,this.quantizationTables=[],this.huffmanTablesAC=[],this.huffmanTablesDC=[],this.resetFrames()}return _createClass(e,[{key:"resetFrames",value:function(){this.frames=[]}},{key:"parse",value:function(e){var t=0;function r(){var r=e[t]<<8|e[t+1];return t+=2,r}function n(e){var t,r,n=0,a=0;for(r in e.components)e.components.hasOwnProperty(r)&&(n<(t=e.components[r]).h&&(n=t.h),a<t.v&&(a=t.v));var i=Math.ceil(e.samplesPerLine/8/n),o=Math.ceil(e.scanLines/8/a);for(r in e.components)if(e.components.hasOwnProperty(r)){t=e.components[r];for(var s=Math.ceil(Math.ceil(e.samplesPerLine/8)*t.h/n),l=Math.ceil(Math.ceil(e.scanLines/8)*t.v/a),f=i*t.h,c=o*t.v,u=[],d=0;d<c;d++){for(var h=[],p=0;p<f;p++)h.push(new Int32Array(64));u.push(h)}t.blocksPerLine=s,t.blocksPerColumn=l,t.blocks=u}e.maxH=n,e.maxV=a,e.mcusPerLine=i,e.mcusPerColumn=o}var a,i,o=r();if(65496!==o)throw new Error("SOI not found");for(o=r();65497!==o;){switch(o){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var s=(a=void 0,i=void 0,a=r(),i=e.subarray(t,t+a-2),t+=i.length,i);65504===o&&74===s[0]&&70===s[1]&&73===s[2]&&70===s[3]&&0===s[4]&&(this.jfif={version:{major:s[5],minor:s[6]},densityUnits:s[7],xDensity:s[8]<<8|s[9],yDensity:s[10]<<8|s[11],thumbWidth:s[12],thumbHeight:s[13],thumbData:s.subarray(14,14+3*s[12]*s[13])}),65518===o&&65===s[0]&&100===s[1]&&111===s[2]&&98===s[3]&&101===s[4]&&0===s[5]&&(this.adobe={version:s[6],flags0:s[7]<<8|s[8],flags1:s[9]<<8|s[10],transformCode:s[11]});break;case 65499:for(var l=r()+t-2;t<l;){var f=e[t++],c=new Int32Array(64);if(f>>4==0)for(var u=0;u<64;u++){c[dctZigZag[u]]=e[t++]}else{if(f>>4!=1)throw new Error("DQT: invalid table spec");for(var d=0;d<64;d++){c[dctZigZag[d]]=r()}}this.quantizationTables[15&f]=c}break;case 65472:case 65473:case 65474:r();for(var h={extended:65473===o,progressive:65474===o,precision:e[t++],scanLines:r(),samplesPerLine:r(),components:{},componentsOrder:[]},p=e[t++],m=void 0,g=0;g<p;g++){m=e[t];var y=e[t+1]>>4,_=15&e[t+1],b=e[t+2];h.componentsOrder.push(m),h.components[m]={h:y,v:_,quantizationIdx:b},t+=3}n(h),this.frames.push(h);break;case 65476:for(var v=r(),w=2;w<v;){for(var k=e[t++],T=new Uint8Array(16),E=0,x=0;x<16;x++,t++)T[x]=e[t],E+=T[x];for(var S=new Uint8Array(E),D=0;D<E;D++,t++)S[D]=e[t];w+=17+E,k>>4==0?this.huffmanTablesDC[15&k]=buildHuffmanTable(T,S):this.huffmanTablesAC[15&k]=buildHuffmanTable(T,S)}break;case 65501:r(),this.resetInterval=r();break;case 65498:r();for(var A=e[t++],M=[],I=this.frames[0],R=0;R<A;R++){var O=I.components[e[t++]],C=e[t++];O.huffmanTableDC=this.huffmanTablesDC[C>>4],O.huffmanTableAC=this.huffmanTablesAC[15&C],M.push(O)}var P=e[t++],L=e[t++],U=e[t++],B=decodeScan(e,t,I,M,this.resetInterval,P,L,U>>4,15&U);t+=B;break;case 65535:255!==e[t]&&t--;break;default:if(255===e[t-3]&&e[t-2]>=192&&e[t-2]<=254){t-=3;break}throw new Error("unknown JPEG marker ".concat(o.toString(16)))}o=r()}}},{key:"getResult",value:function(){var e=this.frames;if(0===this.frames.length)throw new Error("no frames were decoded");this.frames.length>1&&console.warn("more than one frame is not supported");for(var t=0;t<this.frames.length;t++)for(var r=this.frames[t].components,n=0,a=Object.keys(r);n<a.length;n++){var i=a[n];r[i].quantizationTable=this.quantizationTables[r[i].quantizationIdx],delete r[i].quantizationIdx}for(var o=e[0],s=o.components,l=o.componentsOrder,f=[],c=o.samplesPerLine,u=o.scanLines,d=0;d<l.length;d++){var h=s[l[d]];f.push({lines:buildComponentData(o,h),scaleX:h.h/o.maxH,scaleY:h.v/o.maxV})}for(var p=new Uint8Array(c*u*f.length),m=0,g=0;g<u;++g)for(var y=0;y<c;++y)for(var _=0;_<f.length;++_){var b=f[_];p[m]=b.lines[0|g*b.scaleY][0|y*b.scaleX],++m}return p}}]),e}(),JpegDecoder=function(e){_inherits(r,BaseDecoder);var t=_createSuper(r);function r(e){var n;return _classCallCheck(this,r),(n=t.call(this)).reader=new JpegStreamReader,e.JPEGTables&&n.reader.parse(e.JPEGTables),n}return _createClass(r,[{key:"decodeBlock",value:function(e){return this.reader.resetFrames(),this.reader.parse(new Uint8Array(e)),this.reader.getResult().buffer}}]),r}(),jpeg=Object.freeze({__proto__:null,default:JpegDecoder});function zero$1(e){for(var t=e.length;--t>=0;)e[t]=0}var MIN_MATCH$1=3,MAX_MATCH$1=258,LENGTH_CODES$1=29,LITERALS$1=256,L_CODES$1=LITERALS$1+1+LENGTH_CODES$1,D_CODES$1=30,DIST_CODE_LEN=512,static_ltree=new Array(2*(L_CODES$1+2));zero$1(static_ltree);var static_dtree=new Array(2*D_CODES$1);zero$1(static_dtree);var _dist_code=new Array(DIST_CODE_LEN);zero$1(_dist_code);var _length_code=new Array(MAX_MATCH$1-MIN_MATCH$1+1);zero$1(_length_code);var base_length=new Array(LENGTH_CODES$1);zero$1(base_length);var base_dist=new Array(D_CODES$1);zero$1(base_dist);var adler32=function(e,t,r,n){for(var a=65535&e|0,i=e>>>16&65535|0,o=0;0!==r;){r-=o=r>2e3?2e3:r;do{i=i+(a=a+t[n++]|0)|0}while(--o);a%=65521,i%=65521}return a|i<<16|0},adler32_1=adler32,makeTable=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t},crcTable=new Uint32Array(makeTable()),crc32=function(e,t,r,n){var a=crcTable,i=n+r;e^=-1;for(var o=n;o<i;o++)e=e>>>8^a[255&(e^t[o])];return-1^e},crc32_1=crc32,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},constants$2={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},_has=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if("object"!==_typeof(r))throw new TypeError(r+"must be non-object");for(var n in r)_has(r,n)&&(e[n]=r[n])}}return e},flattenChunks=function(e){for(var t=0,r=0,n=e.length;r<n;r++)t+=e[r].length;for(var a=new Uint8Array(t),i=0,o=0,s=e.length;i<s;i++){var l=e[i];a.set(l,o),o+=l.length}return a},common={assign:assign,flattenChunks:flattenChunks},STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){STR_APPLY_UIA_OK=!1}for(var _utf8len=new Uint8Array(256),q=0;q<256;q++)_utf8len[q]=q>=252?6:q>=248?5:q>=240?4:q>=224?3:q>=192?2:1;_utf8len[254]=_utf8len[254]=1;var string2buf=function(e){if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);var t,r,n,a,i,o=e.length,s=0;for(a=0;a<o;a++)55296==(64512&(r=e.charCodeAt(a)))&&a+1<o&&56320==(64512&(n=e.charCodeAt(a+1)))&&(r=65536+(r-55296<<10)+(n-56320),a++),s+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(s),i=0,a=0;i<s;a++)55296==(64512&(r=e.charCodeAt(a)))&&a+1<o&&56320==(64512&(n=e.charCodeAt(a+1)))&&(r=65536+(r-55296<<10)+(n-56320),a++),r<128?t[i++]=r:r<2048?(t[i++]=192|r>>>6,t[i++]=128|63&r):r<65536?(t[i++]=224|r>>>12,t[i++]=128|r>>>6&63,t[i++]=128|63&r):(t[i++]=240|r>>>18,t[i++]=128|r>>>12&63,t[i++]=128|r>>>6&63,t[i++]=128|63&r);return t},buf2binstring=function(e,t){if(t<65534&&e.subarray&&STR_APPLY_UIA_OK)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));for(var r="",n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r},buf2string=function(e,t){var r,n,a=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));var i=new Array(2*a);for(n=0,r=0;r<a;){var o=e[r++];if(o<128)i[n++]=o;else{var s=_utf8len[o];if(s>4)i[n++]=65533,r+=s-1;else{for(o&=2===s?31:3===s?15:7;s>1&&r<a;)o=o<<6|63&e[r++],s--;s>1?i[n++]=65533:o<65536?i[n++]=o:(o-=65536,i[n++]=55296|o>>10&1023,i[n++]=56320|1023&o)}}}return buf2binstring(i,n)},utf8border=function(e,t){(t=t||e.length)>e.length&&(t=e.length);for(var r=t-1;r>=0&&128==(192&e[r]);)r--;return r<0||0===r?t:r+_utf8len[e[r]]>t?r:t},strings={string2buf:string2buf,buf2string:buf2string,utf8border:utf8border};function ZStream(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zstream=ZStream,BAD$1=30,TYPE$1=12,inffast=function(e,t){var r,n,a,i,o,s,l,f,c,u,d,h,p,m,g,y,_,b,v,w,k,T,E,x,S=e.state;r=e.next_in,E=e.input,n=r+(e.avail_in-5),a=e.next_out,x=e.output,i=a-(t-e.avail_out),o=a+(e.avail_out-257),s=S.dmax,l=S.wsize,f=S.whave,c=S.wnext,u=S.window,d=S.hold,h=S.bits,p=S.lencode,m=S.distcode,g=(1<<S.lenbits)-1,y=(1<<S.distbits)-1;e:do{h<15&&(d+=E[r++]<<h,h+=8,d+=E[r++]<<h,h+=8),_=p[d&g];t:for(;;){if(d>>>=b=_>>>24,h-=b,0===(b=_>>>16&255))x[a++]=65535&_;else{if(!(16&b)){if(0==(64&b)){_=p[(65535&_)+(d&(1<<b)-1)];continue t}if(32&b){S.mode=TYPE$1;break e}e.msg="invalid literal/length code",S.mode=BAD$1;break e}v=65535&_,(b&=15)&&(h<b&&(d+=E[r++]<<h,h+=8),v+=d&(1<<b)-1,d>>>=b,h-=b),h<15&&(d+=E[r++]<<h,h+=8,d+=E[r++]<<h,h+=8),_=m[d&y];r:for(;;){if(d>>>=b=_>>>24,h-=b,!(16&(b=_>>>16&255))){if(0==(64&b)){_=m[(65535&_)+(d&(1<<b)-1)];continue r}e.msg="invalid distance code",S.mode=BAD$1;break e}if(w=65535&_,h<(b&=15)&&(d+=E[r++]<<h,(h+=8)<b&&(d+=E[r++]<<h,h+=8)),(w+=d&(1<<b)-1)>s){e.msg="invalid distance too far back",S.mode=BAD$1;break e}if(d>>>=b,h-=b,w>(b=a-i)){if((b=w-b)>f&&S.sane){e.msg="invalid distance too far back",S.mode=BAD$1;break e}if(k=0,T=u,0===c){if(k+=l-b,b<v){v-=b;do{x[a++]=u[k++]}while(--b);k=a-w,T=x}}else if(c<b){if(k+=l+c-b,(b-=c)<v){v-=b;do{x[a++]=u[k++]}while(--b);if(k=0,c<v){v-=b=c;do{x[a++]=u[k++]}while(--b);k=a-w,T=x}}}else if(k+=c-b,b<v){v-=b;do{x[a++]=u[k++]}while(--b);k=a-w,T=x}for(;v>2;)x[a++]=T[k++],x[a++]=T[k++],x[a++]=T[k++],v-=3;v&&(x[a++]=T[k++],v>1&&(x[a++]=T[k++]))}else{k=a-w;do{x[a++]=x[k++],x[a++]=x[k++],x[a++]=x[k++],v-=3}while(v>2);v&&(x[a++]=x[k++],v>1&&(x[a++]=x[k++]))}break}}break}}while(r<n&&a<o);r-=v=h>>3,d&=(1<<(h-=v<<3))-1,e.next_in=r,e.next_out=a,e.avail_in=r<n?n-r+5:5-(r-n),e.avail_out=a<o?o-a+257:257-(a-o),S.hold=d,S.bits=h},MAXBITS=15,ENOUGH_LENS$1=852,ENOUGH_DISTS$1=592,CODES$1=0,LENS$1=1,DISTS$1=2,lbase=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),lext=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),dbase=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),dext=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),inflate_table=function(e,t,r,n,a,i,o,s){var l,f,c,u,d,h,p,m,g,y=s.bits,_=0,b=0,v=0,w=0,k=0,T=0,E=0,x=0,S=0,D=0,A=null,M=0,I=new Uint16Array(MAXBITS+1),R=new Uint16Array(MAXBITS+1),O=null,C=0;for(_=0;_<=MAXBITS;_++)I[_]=0;for(b=0;b<n;b++)I[t[r+b]]++;for(k=y,w=MAXBITS;w>=1&&0===I[w];w--);if(k>w&&(k=w),0===w)return a[i++]=20971520,a[i++]=20971520,s.bits=1,0;for(v=1;v<w&&0===I[v];v++);for(k<v&&(k=v),x=1,_=1;_<=MAXBITS;_++)if(x<<=1,(x-=I[_])<0)return-1;if(x>0&&(e===CODES$1||1!==w))return-1;for(R[1]=0,_=1;_<MAXBITS;_++)R[_+1]=R[_]+I[_];for(b=0;b<n;b++)0!==t[r+b]&&(o[R[t[r+b]]++]=b);if(e===CODES$1?(A=O=o,h=19):e===LENS$1?(A=lbase,M-=257,O=lext,C-=257,h=256):(A=dbase,O=dext,h=-1),D=0,b=0,_=v,d=i,T=k,E=0,c=-1,u=(S=1<<k)-1,e===LENS$1&&S>ENOUGH_LENS$1||e===DISTS$1&&S>ENOUGH_DISTS$1)return 1;for(;;){p=_-E,o[b]<h?(m=0,g=o[b]):o[b]>h?(m=O[C+o[b]],g=A[M+o[b]]):(m=96,g=0),l=1<<_-E,v=f=1<<T;do{a[d+(D>>E)+(f-=l)]=p<<24|m<<16|g|0}while(0!==f);for(l=1<<_-1;D&l;)l>>=1;if(0!==l?(D&=l-1,D+=l):D=0,b++,0==--I[_]){if(_===w)break;_=t[r+o[b]]}if(_>k&&(D&u)!==c){for(0===E&&(E=k),d+=v,x=1<<(T=_-E);T+E<w&&!((x-=I[T+E])<=0);)T++,x<<=1;if(S+=1<<T,e===LENS$1&&S>ENOUGH_LENS$1||e===DISTS$1&&S>ENOUGH_DISTS$1)return 1;a[c=D&u]=k<<24|T<<16|d-i|0}}return 0!==D&&(a[d+D]=_-E<<24|64<<16|0),s.bits=k,0},inftrees=inflate_table,CODES=0,LENS=1,DISTS=2,Z_FINISH$1=constants$2.Z_FINISH,Z_BLOCK=constants$2.Z_BLOCK,Z_TREES=constants$2.Z_TREES,Z_OK$1=constants$2.Z_OK,Z_STREAM_END$1=constants$2.Z_STREAM_END,Z_NEED_DICT$1=constants$2.Z_NEED_DICT,Z_STREAM_ERROR$1=constants$2.Z_STREAM_ERROR,Z_DATA_ERROR$1=constants$2.Z_DATA_ERROR,Z_MEM_ERROR$1=constants$2.Z_MEM_ERROR,Z_BUF_ERROR=constants$2.Z_BUF_ERROR,Z_DEFLATED=constants$2.Z_DEFLATED,HEAD=1,FLAGS=2,TIME=3,OS=4,EXLEN=5,EXTRA=6,NAME=7,COMMENT=8,HCRC=9,DICTID=10,DICT=11,TYPE=12,TYPEDO=13,STORED=14,COPY_=15,COPY=16,TABLE=17,LENLENS=18,CODELENS=19,LEN_=20,LEN=21,LENEXT=22,DIST=23,DISTEXT=24,MATCH=25,LIT=26,CHECK=27,LENGTH=28,DONE=29,BAD=30,MEM=31,SYNC=32,ENOUGH_LENS=852,ENOUGH_DISTS=592,MAX_WBITS=15,DEF_WBITS=MAX_WBITS,zswap32=function(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)};function InflateState(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var inflateResetKeep=function(e){if(!e||!e.state)return Z_STREAM_ERROR$1;var t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=HEAD,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(ENOUGH_LENS),t.distcode=t.distdyn=new Int32Array(ENOUGH_DISTS),t.sane=1,t.back=-1,Z_OK$1},inflateReset=function(e){if(!e||!e.state)return Z_STREAM_ERROR$1;var t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,inflateResetKeep(e)},inflateReset2=function(e,t){var r;if(!e||!e.state)return Z_STREAM_ERROR$1;var n=e.state;return t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?Z_STREAM_ERROR$1:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,inflateReset(e))},inflateInit2=function(e,t){if(!e)return Z_STREAM_ERROR$1;var r=new InflateState;e.state=r,r.window=null;var n=inflateReset2(e,t);return n!==Z_OK$1&&(e.state=null),n},inflateInit=function(e){return inflateInit2(e,DEF_WBITS)},virgin=!0,lenfix,distfix,fixedtables=function(e){if(virgin){lenfix=new Int32Array(512),distfix=new Int32Array(32);for(var t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(inftrees(LENS,e.lens,0,288,lenfix,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;inftrees(DISTS,e.lens,0,32,distfix,0,e.work,{bits:5}),virgin=!1}e.lencode=lenfix,e.lenbits=9,e.distcode=distfix,e.distbits=5},updatewindow=function(e,t,r,n){var a,i=e.state;return null===i.window&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(t.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):((a=i.wsize-i.wnext)>n&&(a=n),i.window.set(t.subarray(r-n,r-n+a),i.wnext),(n-=a)?(i.window.set(t.subarray(r-n,r),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0},inflate$2=function(e,t){var r,n,a,i,o,s,l,f,c,u,d,h,p,m,g,y,_,b,v,w,k,T,E,x,S=0,D=new Uint8Array(4),A=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return Z_STREAM_ERROR$1;(r=e.state).mode===TYPE&&(r.mode=TYPEDO),o=e.next_out,a=e.output,l=e.avail_out,i=e.next_in,n=e.input,s=e.avail_in,f=r.hold,c=r.bits,u=s,d=l,T=Z_OK$1;e:for(;;)switch(r.mode){case HEAD:if(0===r.wrap){r.mode=TYPEDO;break}for(;c<16;){if(0===s)break e;s--,f+=n[i++]<<c,c+=8}if(2&r.wrap&&35615===f){r.check=0,D[0]=255&f,D[1]=f>>>8&255,r.check=crc32_1(r.check,D,2,0),f=0,c=0,r.mode=FLAGS;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&f)<<8)+(f>>8))%31){e.msg="incorrect header check",r.mode=BAD;break}if((15&f)!==Z_DEFLATED){e.msg="unknown compression method",r.mode=BAD;break}if(c-=4,k=8+(15&(f>>>=4)),0===r.wbits)r.wbits=k;else if(k>r.wbits){e.msg="invalid window size",r.mode=BAD;break}r.dmax=1<<r.wbits,e.adler=r.check=1,r.mode=512&f?DICTID:TYPE,f=0,c=0;break;case FLAGS:for(;c<16;){if(0===s)break e;s--,f+=n[i++]<<c,c+=8}if(r.flags=f,(255&r.flags)!==Z_DEFLATED){e.msg="unknown compression method",r.mode=BAD;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=BAD;break}r.head&&(r.head.text=f>>8&1),512&r.flags&&(D[0]=255&f,D[1]=f>>>8&255,r.check=crc32_1(r.check,D,2,0)),f=0,c=0,r.mode=TIME;case TIME:for(;c<32;){if(0===s)break e;s--,f+=n[i++]<<c,c+=8}r.head&&(r.head.time=f),512&r.flags&&(D[0]=255&f,D[1]=f>>>8&255,D[2]=f>>>16&255,D[3]=f>>>24&255,r.check=crc32_1(r.check,D,4,0)),f=0,c=0,r.mode=OS;case OS:for(;c<16;){if(0===s)break e;s--,f+=n[i++]<<c,c+=8}r.head&&(r.head.xflags=255&f,r.head.os=f>>8),512&r.flags&&(D[0]=255&f,D[1]=f>>>8&255,r.check=crc32_1(r.check,D,2,0)),f=0,c=0,r.mode=EXLEN;case EXLEN:if(1024&r.flags){for(;c<16;){if(0===s)break e;s--,f+=n[i++]<<c,c+=8}r.length=f,r.head&&(r.head.extra_len=f),512&r.flags&&(D[0]=255&f,D[1]=f>>>8&255,r.check=crc32_1(r.check,D,2,0)),f=0,c=0}else r.head&&(r.head.extra=null);r.mode=EXTRA;case EXTRA:if(1024&r.flags&&((h=r.length)>s&&(h=s),h&&(r.head&&(k=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(i,i+h),k)),512&r.flags&&(r.check=crc32_1(r.check,n,h,i)),s-=h,i+=h,r.length-=h),r.length))break e;r.length=0,r.mode=NAME;case NAME:if(2048&r.flags){if(0===s)break e;h=0;do{k=n[i+h++],r.head&&k&&r.length<65536&&(r.head.name+=String.fromCharCode(k))}while(k&&h<s);if(512&r.flags&&(r.check=crc32_1(r.check,n,h,i)),s-=h,i+=h,k)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=COMMENT;case COMMENT:if(4096&r.flags){if(0===s)break e;h=0;do{k=n[i+h++],r.head&&k&&r.length<65536&&(r.head.comment+=String.fromCharCode(k))}while(k&&h<s);if(512&r.flags&&(r.check=crc32_1(r.check,n,h,i)),s-=h,i+=h,k)break e}else r.head&&(r.head.comment=null);r.mode=HCRC;case HCRC:if(512&r.flags){for(;c<16;){if(0===s)break e;s--,f+=n[i++]<<c,c+=8}if(f!==(65535&r.check)){e.msg="header crc mismatch",r.mode=BAD;break}f=0,c=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=TYPE;break;case DICTID:for(;c<32;){if(0===s)break e;s--,f+=n[i++]<<c,c+=8}e.adler=r.check=zswap32(f),f=0,c=0,r.mode=DICT;case DICT:if(0===r.havedict)return e.next_out=o,e.avail_out=l,e.next_in=i,e.avail_in=s,r.hold=f,r.bits=c,Z_NEED_DICT$1;e.adler=r.check=1,r.mode=TYPE;case TYPE:if(t===Z_BLOCK||t===Z_TREES)break e;case TYPEDO:if(r.last){f>>>=7&c,c-=7&c,r.mode=CHECK;break}for(;c<3;){if(0===s)break e;s--,f+=n[i++]<<c,c+=8}switch(r.last=1&f,c-=1,3&(f>>>=1)){case 0:r.mode=STORED;break;case 1:if(fixedtables(r),r.mode=LEN_,t===Z_TREES){f>>>=2,c-=2;break e}break;case 2:r.mode=TABLE;break;case 3:e.msg="invalid block type",r.mode=BAD}f>>>=2,c-=2;break;case STORED:for(f>>>=7&c,c-=7&c;c<32;){if(0===s)break e;s--,f+=n[i++]<<c,c+=8}if((65535&f)!=(f>>>16^65535)){e.msg="invalid stored block lengths",r.mode=BAD;break}if(r.length=65535&f,f=0,c=0,r.mode=COPY_,t===Z_TREES)break e;case COPY_:r.mode=COPY;case COPY:if(h=r.length){if(h>s&&(h=s),h>l&&(h=l),0===h)break e;a.set(n.subarray(i,i+h),o),s-=h,i+=h,l-=h,o+=h,r.length-=h;break}r.mode=TYPE;break;case TABLE:for(;c<14;){if(0===s)break e;s--,f+=n[i++]<<c,c+=8}if(r.nlen=257+(31&f),f>>>=5,c-=5,r.ndist=1+(31&f),f>>>=5,c-=5,r.ncode=4+(15&f),f>>>=4,c-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=BAD;break}r.have=0,r.mode=LENLENS;case LENLENS:for(;r.have<r.ncode;){for(;c<3;){if(0===s)break e;s--,f+=n[i++]<<c,c+=8}r.lens[A[r.have++]]=7&f,f>>>=3,c-=3}for(;r.have<19;)r.lens[A[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,E={bits:r.lenbits},T=inftrees(CODES,r.lens,0,19,r.lencode,0,r.work,E),r.lenbits=E.bits,T){e.msg="invalid code lengths set",r.mode=BAD;break}r.have=0,r.mode=CODELENS;case CODELENS:for(;r.have<r.nlen+r.ndist;){for(;y=(S=r.lencode[f&(1<<r.lenbits)-1])>>>16&255,_=65535&S,!((g=S>>>24)<=c);){if(0===s)break e;s--,f+=n[i++]<<c,c+=8}if(_<16)f>>>=g,c-=g,r.lens[r.have++]=_;else{if(16===_){for(x=g+2;c<x;){if(0===s)break e;s--,f+=n[i++]<<c,c+=8}if(f>>>=g,c-=g,0===r.have){e.msg="invalid bit length repeat",r.mode=BAD;break}k=r.lens[r.have-1],h=3+(3&f),f>>>=2,c-=2}else if(17===_){for(x=g+3;c<x;){if(0===s)break e;s--,f+=n[i++]<<c,c+=8}c-=g,k=0,h=3+(7&(f>>>=g)),f>>>=3,c-=3}else{for(x=g+7;c<x;){if(0===s)break e;s--,f+=n[i++]<<c,c+=8}c-=g,k=0,h=11+(127&(f>>>=g)),f>>>=7,c-=7}if(r.have+h>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=BAD;break}for(;h--;)r.lens[r.have++]=k}}if(r.mode===BAD)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=BAD;break}if(r.lenbits=9,E={bits:r.lenbits},T=inftrees(LENS,r.lens,0,r.nlen,r.lencode,0,r.work,E),r.lenbits=E.bits,T){e.msg="invalid literal/lengths set",r.mode=BAD;break}if(r.distbits=6,r.distcode=r.distdyn,E={bits:r.distbits},T=inftrees(DISTS,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,E),r.distbits=E.bits,T){e.msg="invalid distances set",r.mode=BAD;break}if(r.mode=LEN_,t===Z_TREES)break e;case LEN_:r.mode=LEN;case LEN:if(s>=6&&l>=258){e.next_out=o,e.avail_out=l,e.next_in=i,e.avail_in=s,r.hold=f,r.bits=c,inffast(e,d),o=e.next_out,a=e.output,l=e.avail_out,i=e.next_in,n=e.input,s=e.avail_in,f=r.hold,c=r.bits,r.mode===TYPE&&(r.back=-1);break}for(r.back=0;y=(S=r.lencode[f&(1<<r.lenbits)-1])>>>16&255,_=65535&S,!((g=S>>>24)<=c);){if(0===s)break e;s--,f+=n[i++]<<c,c+=8}if(y&&0==(240&y)){for(b=g,v=y,w=_;y=(S=r.lencode[w+((f&(1<<b+v)-1)>>b)])>>>16&255,_=65535&S,!(b+(g=S>>>24)<=c);){if(0===s)break e;s--,f+=n[i++]<<c,c+=8}f>>>=b,c-=b,r.back+=b}if(f>>>=g,c-=g,r.back+=g,r.length=_,0===y){r.mode=LIT;break}if(32&y){r.back=-1,r.mode=TYPE;break}if(64&y){e.msg="invalid literal/length code",r.mode=BAD;break}r.extra=15&y,r.mode=LENEXT;case LENEXT:if(r.extra){for(x=r.extra;c<x;){if(0===s)break e;s--,f+=n[i++]<<c,c+=8}r.length+=f&(1<<r.extra)-1,f>>>=r.extra,c-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=DIST;case DIST:for(;y=(S=r.distcode[f&(1<<r.distbits)-1])>>>16&255,_=65535&S,!((g=S>>>24)<=c);){if(0===s)break e;s--,f+=n[i++]<<c,c+=8}if(0==(240&y)){for(b=g,v=y,w=_;y=(S=r.distcode[w+((f&(1<<b+v)-1)>>b)])>>>16&255,_=65535&S,!(b+(g=S>>>24)<=c);){if(0===s)break e;s--,f+=n[i++]<<c,c+=8}f>>>=b,c-=b,r.back+=b}if(f>>>=g,c-=g,r.back+=g,64&y){e.msg="invalid distance code",r.mode=BAD;break}r.offset=_,r.extra=15&y,r.mode=DISTEXT;case DISTEXT:if(r.extra){for(x=r.extra;c<x;){if(0===s)break e;s--,f+=n[i++]<<c,c+=8}r.offset+=f&(1<<r.extra)-1,f>>>=r.extra,c-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=BAD;break}r.mode=MATCH;case MATCH:if(0===l)break e;if(h=d-l,r.offset>h){if((h=r.offset-h)>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=BAD;break}h>r.wnext?(h-=r.wnext,p=r.wsize-h):p=r.wnext-h,h>r.length&&(h=r.length),m=r.window}else m=a,p=o-r.offset,h=r.length;h>l&&(h=l),l-=h,r.length-=h;do{a[o++]=m[p++]}while(--h);0===r.length&&(r.mode=LEN);break;case LIT:if(0===l)break e;a[o++]=r.length,l--,r.mode=LEN;break;case CHECK:if(r.wrap){for(;c<32;){if(0===s)break e;s--,f|=n[i++]<<c,c+=8}if(d-=l,e.total_out+=d,r.total+=d,d&&(e.adler=r.check=r.flags?crc32_1(r.check,a,d,o-d):adler32_1(r.check,a,d,o-d)),d=l,(r.flags?f:zswap32(f))!==r.check){e.msg="incorrect data check",r.mode=BAD;break}f=0,c=0}r.mode=LENGTH;case LENGTH:if(r.wrap&&r.flags){for(;c<32;){if(0===s)break e;s--,f+=n[i++]<<c,c+=8}if(f!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=BAD;break}f=0,c=0}r.mode=DONE;case DONE:T=Z_STREAM_END$1;break e;case BAD:T=Z_DATA_ERROR$1;break e;case MEM:return Z_MEM_ERROR$1;case SYNC:default:return Z_STREAM_ERROR$1}return e.next_out=o,e.avail_out=l,e.next_in=i,e.avail_in=s,r.hold=f,r.bits=c,(r.wsize||d!==e.avail_out&&r.mode<BAD&&(r.mode<CHECK||t!==Z_FINISH$1))&&updatewindow(e,e.output,e.next_out,d-e.avail_out),u-=e.avail_in,d-=e.avail_out,e.total_in+=u,e.total_out+=d,r.total+=d,r.wrap&&d&&(e.adler=r.check=r.flags?crc32_1(r.check,a,d,e.next_out-d):adler32_1(r.check,a,d,e.next_out-d)),e.data_type=r.bits+(r.last?64:0)+(r.mode===TYPE?128:0)+(r.mode===LEN_||r.mode===COPY_?256:0),(0===u&&0===d||t===Z_FINISH$1)&&T===Z_OK$1&&(T=Z_BUF_ERROR),T},inflateEnd=function(e){if(!e||!e.state)return Z_STREAM_ERROR$1;var t=e.state;return t.window&&(t.window=null),e.state=null,Z_OK$1},inflateGetHeader=function(e,t){if(!e||!e.state)return Z_STREAM_ERROR$1;var r=e.state;return 0==(2&r.wrap)?Z_STREAM_ERROR$1:(r.head=t,t.done=!1,Z_OK$1)},inflateSetDictionary=function(e,t){var r,n=t.length;return e&&e.state?0!==(r=e.state).wrap&&r.mode!==DICT?Z_STREAM_ERROR$1:r.mode===DICT&&adler32_1(1,t,n,0)!==r.check?Z_DATA_ERROR$1:updatewindow(e,t,n,n)?(r.mode=MEM,Z_MEM_ERROR$1):(r.havedict=1,Z_OK$1):Z_STREAM_ERROR$1},inflateReset_1=inflateReset,inflateReset2_1=inflateReset2,inflateResetKeep_1=inflateResetKeep,inflateInit_1=inflateInit,inflateInit2_1=inflateInit2,inflate_2$1=inflate$2,inflateEnd_1=inflateEnd,inflateGetHeader_1=inflateGetHeader,inflateSetDictionary_1=inflateSetDictionary,inflateInfo="pako inflate (from Nodeca project)",inflate_1$2={inflateReset:inflateReset_1,inflateReset2:inflateReset2_1,inflateResetKeep:inflateResetKeep_1,inflateInit:inflateInit_1,inflateInit2:inflateInit2_1,inflate:inflate_2$1,inflateEnd:inflateEnd_1,inflateGetHeader:inflateGetHeader_1,inflateSetDictionary:inflateSetDictionary_1,inflateInfo:inflateInfo};function GZheader(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gzheader=GZheader,toString=Object.prototype.toString,Z_NO_FLUSH=constants$2.Z_NO_FLUSH,Z_FINISH=constants$2.Z_FINISH,Z_OK=constants$2.Z_OK,Z_STREAM_END=constants$2.Z_STREAM_END,Z_NEED_DICT=constants$2.Z_NEED_DICT,Z_STREAM_ERROR=constants$2.Z_STREAM_ERROR,Z_DATA_ERROR=constants$2.Z_DATA_ERROR,Z_MEM_ERROR=constants$2.Z_MEM_ERROR;function Inflate$1(e){this.options=common.assign({chunkSize:65536,windowBits:15,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;var r=inflate_1$2.inflateInit2(this.strm,t.windowBits);if(r!==Z_OK)throw new Error(messages[r]);if(this.header=new gzheader,inflate_1$2.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=strings.string2buf(t.dictionary):"[object ArrayBuffer]"===toString.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=inflate_1$2.inflateSetDictionary(this.strm,t.dictionary))!==Z_OK))throw new Error(messages[r])}function inflate$1(e,t){var r=new Inflate$1(t);if(r.push(e),r.err)throw r.msg||messages[r.err];return r.result}function inflateRaw$1(e,t){return(t=t||{}).raw=!0,inflate$1(e,t)}Inflate$1.prototype.push=function(e,t){var r,n,a,i=this.strm,o=this.options.chunkSize,s=this.options.dictionary;if(this.ended)return!1;for(n=t===~~t?t:!0===t?Z_FINISH:Z_NO_FLUSH,"[object ArrayBuffer]"===toString.call(e)?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;;){for(0===i.avail_out&&(i.output=new Uint8Array(o),i.next_out=0,i.avail_out=o),(r=inflate_1$2.inflate(i,n))===Z_NEED_DICT&&s&&((r=inflate_1$2.inflateSetDictionary(i,s))===Z_OK?r=inflate_1$2.inflate(i,n):r===Z_DATA_ERROR&&(r=Z_NEED_DICT));i.avail_in>0&&r===Z_STREAM_END&&i.state.wrap>0&&0!==e[i.next_in];)inflate_1$2.inflateReset(i),r=inflate_1$2.inflate(i,n);switch(r){case Z_STREAM_ERROR:case Z_DATA_ERROR:case Z_NEED_DICT:case Z_MEM_ERROR:return this.onEnd(r),this.ended=!0,!1}if(a=i.avail_out,i.next_out&&(0===i.avail_out||r===Z_STREAM_END))if("string"===this.options.to){var l=strings.utf8border(i.output,i.next_out),f=i.next_out-l,c=strings.buf2string(i.output,l);i.next_out=f,i.avail_out=o-f,f&&i.output.set(i.output.subarray(l,l+f),0),this.onData(c)}else this.onData(i.output.length===i.next_out?i.output:i.output.subarray(0,i.next_out));if(r!==Z_OK||0!==a){if(r===Z_STREAM_END)return r=inflate_1$2.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,!0;if(0===i.avail_in)break}}return!0},Inflate$1.prototype.onData=function(e){this.chunks.push(e)},Inflate$1.prototype.onEnd=function(e){e===Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var Inflate_1$1=Inflate$1,inflate_2=inflate$1,inflateRaw_1$1=inflateRaw$1,ungzip$1=inflate$1,constants=constants$2,inflate_1$1={Inflate:Inflate_1$1,inflate:inflate_2,inflateRaw:inflateRaw_1$1,ungzip:ungzip$1,constants:constants},inflate=inflate_1$1.inflate,inflate_1=inflate,DeflateDecoder=function(e){_inherits(r,BaseDecoder);var t=_createSuper(r);function r(){return _classCallCheck(this,r),t.apply(this,arguments)}return _createClass(r,[{key:"decodeBlock",value:function(e){return inflate_1(new Uint8Array(e)).buffer}}]),r}(),deflate=Object.freeze({__proto__:null,default:DeflateDecoder}),PackbitsDecoder=function(e){_inherits(r,BaseDecoder);var t=_createSuper(r);function r(){return _classCallCheck(this,r),t.apply(this,arguments)}return _createClass(r,[{key:"decodeBlock",value:function(e){for(var t=new DataView(e),r=[],n=0;n<e.byteLength;++n){var a=t.getInt8(n);if(a<0){var i=t.getUint8(n+1);a=-a;for(var o=0;o<=a;++o)r.push(i);n+=1}else{for(var s=0;s<=a;++s)r.push(t.getUint8(n+s+1));n+=a+1}}return new Uint8Array(r).buffer}}]),r}(),packbits=Object.freeze({__proto__:null,default:PackbitsDecoder}),LercDecode={exports:{}},module;module=LercDecode,\n/* Copyright 2015-2021 Esri. Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 @preserve */\nfunction(){var e,t,r,n,a,i,o,s,l,f,c,u,d,h,p,m,g=(e={defaultNoDataValue:-34027999387901484e22,decode:function(i,o){var s=(o=o||{}).encodedMaskData||null===o.encodedMaskData,l=a(i,o.inputOffset||0,s),f=null!==o.noDataValue?o.noDataValue:e.defaultNoDataValue,c=t(l,o.pixelType||Float32Array,o.encodedMaskData,f,o.returnMask),u={width:l.width,height:l.height,pixelData:c.resultPixels,minValue:c.minValue,maxValue:l.pixels.maxValue,noDataValue:f};return c.resultMask&&(u.maskData=c.resultMask),o.returnEncodedMask&&l.mask&&(u.encodedMaskData=l.mask.bitset?l.mask.bitset:null),o.returnFileInfo&&(u.fileInfo=r(l),o.computeUsedBitDepths&&(u.fileInfo.bitDepths=n(l))),u}},t=function(e,t,r,n,a){var o,s,l,f=0,c=e.pixels.numBlocksX,u=e.pixels.numBlocksY,d=Math.floor(e.width/c),h=Math.floor(e.height/u),p=2*e.maxZError,m=Number.MAX_VALUE;r=r||(e.mask?e.mask.bitset:null),s=new t(e.width*e.height),a&&r&&(l=new Uint8Array(e.width*e.height));for(var g,y,_=new Float32Array(d*h),b=0;b<=u;b++){var v=b!==u?h:e.height%u;if(0!==v)for(var w=0;w<=c;w++){var k=w!==c?d:e.width%c;if(0!==k){var T,E,x,S,D=b*e.width*h+w*d,A=e.width-k,M=e.pixels.blocks[f];if(M.encoding<2?(0===M.encoding?T=M.rawData:(i(M.stuffedData,M.bitsPerPixel,M.numValidPixels,M.offset,p,_,e.pixels.maxValue),T=_),E=0):x=2===M.encoding?0:M.offset,r)for(y=0;y<v;y++){for(7&D&&(S=r[D>>3],S<<=7&D),g=0;g<k;g++)7&D||(S=r[D>>3]),128&S?(l&&(l[D]=1),m=m>(o=M.encoding<2?T[E++]:x)?o:m,s[D++]=o):(l&&(l[D]=0),s[D++]=n),S<<=1;D+=A}else if(M.encoding<2)for(y=0;y<v;y++){for(g=0;g<k;g++)m=m>(o=T[E++])?o:m,s[D++]=o;D+=A}else for(m=m>x?x:m,y=0;y<v;y++){for(g=0;g<k;g++)s[D++]=x;D+=A}if(1===M.encoding&&E!==M.numValidPixels)throw"Block and Mask do not match";f++}}}return{resultPixels:s,resultMask:l,minValue:m}},r=function(e){return{fileIdentifierString:e.fileIdentifierString,fileVersion:e.fileVersion,imageType:e.imageType,height:e.height,width:e.width,maxZError:e.maxZError,eofOffset:e.eofOffset,mask:e.mask?{numBlocksX:e.mask.numBlocksX,numBlocksY:e.mask.numBlocksY,numBytes:e.mask.numBytes,maxValue:e.mask.maxValue}:null,pixels:{numBlocksX:e.pixels.numBlocksX,numBlocksY:e.pixels.numBlocksY,numBytes:e.pixels.numBytes,maxValue:e.pixels.maxValue,noDataValue:e.noDataValue}}},n=function(e){for(var t=e.pixels.numBlocksX*e.pixels.numBlocksY,r={},n=0;n<t;n++){var a=e.pixels.blocks[n];0===a.encoding?r.float32=!0:1===a.encoding?r[a.bitsPerPixel]=!0:r[0]=!0}return Object.keys(r)},a=function(e,t,r){var n={},a=new Uint8Array(e,t,10);if(n.fileIdentifierString=String.fromCharCode.apply(null,a),"CntZImage"!==n.fileIdentifierString.trim())throw"Unexpected file identifier string: "+n.fileIdentifierString;t+=10;var i=new DataView(e,t,24);if(n.fileVersion=i.getInt32(0,!0),n.imageType=i.getInt32(4,!0),n.height=i.getUint32(8,!0),n.width=i.getUint32(12,!0),n.maxZError=i.getFloat64(16,!0),t+=24,!r)if(i=new DataView(e,t,16),n.mask={},n.mask.numBlocksY=i.getUint32(0,!0),n.mask.numBlocksX=i.getUint32(4,!0),n.mask.numBytes=i.getUint32(8,!0),n.mask.maxValue=i.getFloat32(12,!0),t+=16,n.mask.numBytes>0){var o=new Uint8Array(Math.ceil(n.width*n.height/8)),s=(i=new DataView(e,t,n.mask.numBytes)).getInt16(0,!0),l=2,f=0;do{if(s>0)for(;s--;)o[f++]=i.getUint8(l++);else{var c=i.getUint8(l++);for(s=-s;s--;)o[f++]=c}s=i.getInt16(l,!0),l+=2}while(l<n.mask.numBytes);if(-32768!==s||f<o.length)throw"Unexpected end of mask RLE encoding";n.mask.bitset=o,t+=n.mask.numBytes}else 0==(n.mask.numBytes|n.mask.numBlocksY|n.mask.maxValue)&&(n.mask.bitset=new Uint8Array(Math.ceil(n.width*n.height/8)));i=new DataView(e,t,16),n.pixels={},n.pixels.numBlocksY=i.getUint32(0,!0),n.pixels.numBlocksX=i.getUint32(4,!0),n.pixels.numBytes=i.getUint32(8,!0),n.pixels.maxValue=i.getFloat32(12,!0),t+=16;var u=n.pixels.numBlocksX,d=n.pixels.numBlocksY,h=u+(n.width%u>0?1:0),p=d+(n.height%d>0?1:0);n.pixels.blocks=new Array(h*p);for(var m=0,g=0;g<p;g++)for(var y=0;y<h;y++){var _=0,b=e.byteLength-t;i=new DataView(e,t,Math.min(10,b));var v={};n.pixels.blocks[m++]=v;var w=i.getUint8(0);if(_++,v.encoding=63&w,v.encoding>3)throw"Invalid block encoding ("+v.encoding+")";if(2!==v.encoding){if(0!==w&&2!==w){if(w>>=6,v.offsetType=w,2===w)v.offset=i.getInt8(1),_++;else if(1===w)v.offset=i.getInt16(1,!0),_+=2;else{if(0!==w)throw"Invalid block offset type";v.offset=i.getFloat32(1,!0),_+=4}if(1===v.encoding)if(w=i.getUint8(_),_++,v.bitsPerPixel=63&w,w>>=6,v.numValidPixelsType=w,2===w)v.numValidPixels=i.getUint8(_),_++;else if(1===w)v.numValidPixels=i.getUint16(_,!0),_+=2;else{if(0!==w)throw"Invalid valid pixel count type";v.numValidPixels=i.getUint32(_,!0),_+=4}}var k;if(t+=_,3!==v.encoding)if(0===v.encoding){var T=(n.pixels.numBytes-1)/4;if(T!==Math.floor(T))throw"uncompressed block has invalid length";k=new ArrayBuffer(4*T),new Uint8Array(k).set(new Uint8Array(e,t,4*T));var E=new Float32Array(k);v.rawData=E,t+=4*T}else if(1===v.encoding){var x=Math.ceil(v.numValidPixels*v.bitsPerPixel/8),S=Math.ceil(x/4);k=new ArrayBuffer(4*S),new Uint8Array(k).set(new Uint8Array(e,t,x)),v.stuffedData=new Uint32Array(k),t+=x}}else t++}return n.eofOffset=t,n},i=function(e,t,r,n,a,i,o){var s,l,f,c=(1<<t)-1,u=0,d=0,h=Math.ceil((o-n)/a),p=4*e.length-Math.ceil(t*r/8);for(e[e.length-1]<<=8*p,s=0;s<r;s++){if(0===d&&(f=e[u++],d=32),d>=t)l=f>>>d-t&c,d-=t;else{var m=t-d;l=(f&c)<<m&c,l+=(f=e[u++])>>>(d=32-m)}i[s]=l<h?n+l*a:o}return i},e),y=(o=function(e,t,r,n,a,i,o,s){var l,f,c,u,d,h=(1<<r)-1,p=0,m=0,g=4*e.length-Math.ceil(r*n/8);if(e[e.length-1]<<=8*g,a)for(l=0;l<n;l++)0===m&&(c=e[p++],m=32),m>=r?(f=c>>>m-r&h,m-=r):(f=(c&h)<<(u=r-m)&h,f+=(c=e[p++])>>>(m=32-u)),t[l]=a[f];else for(d=Math.ceil((s-i)/o),l=0;l<n;l++)0===m&&(c=e[p++],m=32),m>=r?(f=c>>>m-r&h,m-=r):(f=(c&h)<<(u=r-m)&h,f+=(c=e[p++])>>>(m=32-u)),t[l]=f<d?i+f*o:s},s=function(e,t,r,n,a,i){var o,s=(1<<t)-1,l=0,f=0,c=0,u=0,d=0,h=[],p=4*e.length-Math.ceil(t*r/8);e[e.length-1]<<=8*p;var m=Math.ceil((i-n)/a);for(f=0;f<r;f++)0===u&&(o=e[l++],u=32),u>=t?(d=o>>>u-t&s,u-=t):(d=(o&s)<<(c=t-u)&s,d+=(o=e[l++])>>>(u=32-c)),h[f]=d<m?n+d*a:i;return h.unshift(n),h},l=function(e,t,r,n,a,i,o,s){var l,f,c,u,d=(1<<r)-1,h=0,p=0,m=0;if(a)for(l=0;l<n;l++)0===p&&(c=e[h++],p=32,m=0),p>=r?(f=c>>>m&d,p-=r,m+=r):(f=c>>>m&d,p=32-(u=r-p),f|=((c=e[h++])&(1<<u)-1)<<r-u,m=u),t[l]=a[f];else{var g=Math.ceil((s-i)/o);for(l=0;l<n;l++)0===p&&(c=e[h++],p=32,m=0),p>=r?(f=c>>>m&d,p-=r,m+=r):(f=c>>>m&d,p=32-(u=r-p),f|=((c=e[h++])&(1<<u)-1)<<r-u,m=u),t[l]=f<g?i+f*o:s}return t},f=function(e,t,r,n,a,i){var o,s=(1<<t)-1,l=0,f=0,c=0,u=0,d=0,h=0,p=[],m=Math.ceil((i-n)/a);for(f=0;f<r;f++)0===u&&(o=e[l++],u=32,h=0),u>=t?(d=o>>>h&s,u-=t,h+=t):(d=o>>>h&s,u=32-(c=t-u),d|=((o=e[l++])&(1<<c)-1)<<t-c,h=c),p[f]=d<m?n+d*a:i;return p.unshift(n),p},c=function(e,t,r,n){var a,i,o,s,l=(1<<r)-1,f=0,c=0,u=4*e.length-Math.ceil(r*n/8);for(e[e.length-1]<<=8*u,a=0;a<n;a++)0===c&&(o=e[f++],c=32),c>=r?(i=o>>>c-r&l,c-=r):(i=(o&l)<<(s=r-c)&l,i+=(o=e[f++])>>>(c=32-s)),t[a]=i;return t},u=function(e,t,r,n){var a,i,o,s,l=(1<<r)-1,f=0,c=0,u=0;for(a=0;a<n;a++)0===c&&(o=e[f++],c=32,u=0),c>=r?(i=o>>>u&l,c-=r,u+=r):(i=o>>>u&l,c=32-(s=r-c),i|=((o=e[f++])&(1<<s)-1)<<r-s,u=s),t[a]=i;return t},d={HUFFMAN_LUT_BITS_MAX:12,computeChecksumFletcher32:function(e){for(var t=65535,r=65535,n=e.length,a=Math.floor(n/2),i=0;a;){var o=a>=359?359:a;a-=o;do{t+=e[i++]<<8,r+=t+=e[i++]}while(--o);t=(65535&t)+(t>>>16),r=(65535&r)+(r>>>16)}return 1&n&&(r+=t+=e[i]<<8),((r=(65535&r)+(r>>>16))<<16|(t=(65535&t)+(t>>>16)))>>>0},readHeaderInfo:function(e,t){var r=t.ptr,n=new Uint8Array(e,r,6),a={};if(a.fileIdentifierString=String.fromCharCode.apply(null,n),0!==a.fileIdentifierString.lastIndexOf("Lerc2",0))throw"Unexpected file identifier string (expect Lerc2 ): "+a.fileIdentifierString;r+=6;var i,o=new DataView(e,r,8),s=o.getInt32(0,!0);if(a.fileVersion=s,r+=4,s>=3&&(a.checksum=o.getUint32(4,!0),r+=4),o=new DataView(e,r,12),a.height=o.getUint32(0,!0),a.width=o.getUint32(4,!0),r+=8,s>=4?(a.numDims=o.getUint32(8,!0),r+=4):a.numDims=1,o=new DataView(e,r,40),a.numValidPixel=o.getUint32(0,!0),a.microBlockSize=o.getInt32(4,!0),a.blobSize=o.getInt32(8,!0),a.imageType=o.getInt32(12,!0),a.maxZError=o.getFloat64(16,!0),a.zMin=o.getFloat64(24,!0),a.zMax=o.getFloat64(32,!0),r+=40,t.headerInfo=a,t.ptr=r,s>=3&&(i=s>=4?52:48,this.computeChecksumFletcher32(new Uint8Array(e,r-i,a.blobSize-14))!==a.checksum))throw"Checksum failed.";return!0},checkMinMaxRanges:function(e,t){var r=t.headerInfo,n=this.getDataTypeArray(r.imageType),a=r.numDims*this.getDataTypeSize(r.imageType),i=this.readSubArray(e,t.ptr,n,a),o=this.readSubArray(e,t.ptr+a,n,a);t.ptr+=2*a;var s,l=!0;for(s=0;s<r.numDims;s++)if(i[s]!==o[s]){l=!1;break}return r.minValues=i,r.maxValues=o,l},readSubArray:function(e,t,r,n){var a;if(r===Uint8Array)a=new Uint8Array(e,t,n);else{var i=new ArrayBuffer(n);new Uint8Array(i).set(new Uint8Array(e,t,n)),a=new r(i)}return a},readMask:function(e,t){var r,n,a=t.ptr,i=t.headerInfo,o=i.width*i.height,s=i.numValidPixel,l=new DataView(e,a,4),f={};if(f.numBytes=l.getUint32(0,!0),a+=4,(0===s||o===s)&&0!==f.numBytes)throw"invalid mask";if(0===s)r=new Uint8Array(Math.ceil(o/8)),f.bitset=r,n=new Uint8Array(o),t.pixels.resultMask=n,a+=f.numBytes;else if(f.numBytes>0){r=new Uint8Array(Math.ceil(o/8));var c=(l=new DataView(e,a,f.numBytes)).getInt16(0,!0),u=2,d=0,h=0;do{if(c>0)for(;c--;)r[d++]=l.getUint8(u++);else for(h=l.getUint8(u++),c=-c;c--;)r[d++]=h;c=l.getInt16(u,!0),u+=2}while(u<f.numBytes);if(-32768!==c||d<r.length)throw"Unexpected end of mask RLE encoding";n=new Uint8Array(o);var p=0,m=0;for(m=0;m<o;m++)7&m?(p=r[m>>3],p<<=7&m):p=r[m>>3],128&p&&(n[m]=1);t.pixels.resultMask=n,f.bitset=r,a+=f.numBytes}return t.ptr=a,t.mask=f,!0},readDataOneSweep:function(e,t,r,n){var a,i=t.ptr,o=t.headerInfo,s=o.numDims,l=o.width*o.height,f=o.imageType,c=o.numValidPixel*d.getDataTypeSize(f)*s,u=t.pixels.resultMask;if(r===Uint8Array)a=new Uint8Array(e,i,c);else{var h=new ArrayBuffer(c);new Uint8Array(h).set(new Uint8Array(e,i,c)),a=new r(h)}if(a.length===l*s)t.pixels.resultPixels=n?d.swapDimensionOrder(a,l,s,r,!0):a;else{t.pixels.resultPixels=new r(l*s);var p=0,m=0,g=0,y=0;if(s>1){if(n){for(m=0;m<l;m++)if(u[m])for(y=m,g=0;g<s;g++,y+=l)t.pixels.resultPixels[y]=a[p++]}else for(m=0;m<l;m++)if(u[m])for(y=m*s,g=0;g<s;g++)t.pixels.resultPixels[y+g]=a[p++]}else for(m=0;m<l;m++)u[m]&&(t.pixels.resultPixels[m]=a[p++])}return i+=c,t.ptr=i,!0},readHuffmanTree:function(e,t){var r=this.HUFFMAN_LUT_BITS_MAX,n=new DataView(e,t.ptr,16);if(t.ptr+=16,n.getInt32(0,!0)<2)throw"unsupported Huffman version";var a=n.getInt32(4,!0),i=n.getInt32(8,!0),o=n.getInt32(12,!0);if(i>=o)return!1;var s=new Uint32Array(o-i);d.decodeBits(e,t,s);var l,f,c,u,p=[];for(l=i;l<o;l++)p[f=l-(l<a?0:a)]={first:s[l-i],second:null};var m=e.byteLength-t.ptr,g=Math.ceil(m/4),y=new ArrayBuffer(4*g);new Uint8Array(y).set(new Uint8Array(e,t.ptr,m));var _,b=new Uint32Array(y),v=0,w=0;for(_=b[0],l=i;l<o;l++)(u=p[f=l-(l<a?0:a)].first)>0&&(p[f].second=_<<v>>>32-u,32-v>=u?32===(v+=u)&&(v=0,_=b[++w]):(v+=u-32,_=b[++w],p[f].second|=_>>>32-v));var k=0,T=0,E=new h;for(l=0;l<p.length;l++)void 0!==p[l]&&(k=Math.max(k,p[l].first));T=k>=r?r:k;var x,S,D,A,M,I=[];for(l=i;l<o;l++)if((u=p[f=l-(l<a?0:a)].first)>0)if(x=[u,f],u<=T)for(S=p[f].second<<T-u,D=1<<T-u,c=0;c<D;c++)I[S|c]=x;else for(S=p[f].second,M=E,A=u-1;A>=0;A--)S>>>A&1?(M.right||(M.right=new h),M=M.right):(M.left||(M.left=new h),M=M.left),0!==A||M.val||(M.val=x[1]);return{decodeLut:I,numBitsLUTQick:T,numBitsLUT:k,tree:E,stuffedData:b,srcPtr:w,bitPos:v}},readHuffman:function(e,t,r,n){var a,i,o,s,l,f,c,u,h,p=t.headerInfo.numDims,m=t.headerInfo.height,g=t.headerInfo.width,y=g*m,_=this.readHuffmanTree(e,t),b=_.decodeLut,v=_.tree,w=_.stuffedData,k=_.srcPtr,T=_.bitPos,E=_.numBitsLUTQick,x=_.numBitsLUT,S=0===t.headerInfo.imageType?128:0,D=t.pixels.resultMask,A=0;T>0&&(k++,T=0);var M,I=w[k],R=1===t.encodeMode,O=new r(y*p),C=O;if(p<2||R){for(M=0;M<p;M++)if(p>1&&(C=new r(O.buffer,y*M,y),A=0),t.headerInfo.numValidPixel===g*m)for(u=0,f=0;f<m;f++)for(c=0;c<g;c++,u++){if(i=0,l=s=I<<T>>>32-E,32-T<E&&(l=s|=w[k+1]>>>64-T-E),b[l])i=b[l][1],T+=b[l][0];else for(l=s=I<<T>>>32-x,32-T<x&&(l=s|=w[k+1]>>>64-T-x),a=v,h=0;h<x;h++)if(!(a=s>>>x-h-1&1?a.right:a.left).left&&!a.right){i=a.val,T=T+h+1;break}T>=32&&(T-=32,I=w[++k]),o=i-S,R?(o+=c>0?A:f>0?C[u-g]:A,o&=255,C[u]=o,A=o):C[u]=o}else for(u=0,f=0;f<m;f++)for(c=0;c<g;c++,u++)if(D[u]){if(i=0,l=s=I<<T>>>32-E,32-T<E&&(l=s|=w[k+1]>>>64-T-E),b[l])i=b[l][1],T+=b[l][0];else for(l=s=I<<T>>>32-x,32-T<x&&(l=s|=w[k+1]>>>64-T-x),a=v,h=0;h<x;h++)if(!(a=s>>>x-h-1&1?a.right:a.left).left&&!a.right){i=a.val,T=T+h+1;break}T>=32&&(T-=32,I=w[++k]),o=i-S,R?(c>0&&D[u-1]?o+=A:f>0&&D[u-g]?o+=C[u-g]:o+=A,o&=255,C[u]=o,A=o):C[u]=o}}else for(u=0,f=0;f<m;f++)for(c=0;c<g;c++)if(u=f*g+c,!D||D[u])for(M=0;M<p;M++,u+=y){if(i=0,l=s=I<<T>>>32-E,32-T<E&&(l=s|=w[k+1]>>>64-T-E),b[l])i=b[l][1],T+=b[l][0];else for(l=s=I<<T>>>32-x,32-T<x&&(l=s|=w[k+1]>>>64-T-x),a=v,h=0;h<x;h++)if(!(a=s>>>x-h-1&1?a.right:a.left).left&&!a.right){i=a.val,T=T+h+1;break}T>=32&&(T-=32,I=w[++k]),o=i-S,C[u]=o}t.ptr=t.ptr+4*(k+1)+(T>0?4:0),t.pixels.resultPixels=O,p>1&&!n&&(t.pixels.resultPixels=d.swapDimensionOrder(O,y,p,r))},decodeBits:function(e,t,r,n,a){var i=t.headerInfo,d=i.fileVersion,h=0,p=e.byteLength-t.ptr>=5?5:e.byteLength-t.ptr,m=new DataView(e,t.ptr,p),g=m.getUint8(0);h++;var y=g>>6,_=0===y?4:3-y,b=(32&g)>0,v=31&g,w=0;if(1===_)w=m.getUint8(h),h++;else if(2===_)w=m.getUint16(h,!0),h+=2;else{if(4!==_)throw"Invalid valid pixel count type";w=m.getUint32(h,!0),h+=4}var k,T,E,x,S,D,A,M,I,R=2*i.maxZError,O=i.numDims>1?i.maxValues[a]:i.zMax;if(b){for(t.counter.lut++,M=m.getUint8(h),h++,x=Math.ceil((M-1)*v/8),S=Math.ceil(x/4),T=new ArrayBuffer(4*S),E=new Uint8Array(T),t.ptr+=h,E.set(new Uint8Array(e,t.ptr,x)),A=new Uint32Array(T),t.ptr+=x,I=0;M-1>>>I;)I++;x=Math.ceil(w*I/8),S=Math.ceil(x/4),T=new ArrayBuffer(4*S),(E=new Uint8Array(T)).set(new Uint8Array(e,t.ptr,x)),k=new Uint32Array(T),t.ptr+=x,D=d>=3?f(A,v,M-1,n,R,O):s(A,v,M-1,n,R,O),d>=3?l(k,r,I,w,D):o(k,r,I,w,D)}else t.counter.bitstuffer++,I=v,t.ptr+=h,I>0&&(x=Math.ceil(w*I/8),S=Math.ceil(x/4),T=new ArrayBuffer(4*S),(E=new Uint8Array(T)).set(new Uint8Array(e,t.ptr,x)),k=new Uint32Array(T),t.ptr+=x,d>=3?null==n?u(k,r,I,w):l(k,r,I,w,!1,n,R,O):null==n?c(k,r,I,w):o(k,r,I,w,!1,n,R,O))},readTiles:function(e,t,r,n){var a=t.headerInfo,i=a.width,o=a.height,s=i*o,l=a.microBlockSize,f=a.imageType,c=d.getDataTypeSize(f),u=Math.ceil(i/l),h=Math.ceil(o/l);t.pixels.numBlocksY=h,t.pixels.numBlocksX=u,t.pixels.ptr=0;var p,m,g,y,_,b,v,w,k,T,E=0,x=0,S=0,D=0,A=0,M=0,I=0,R=0,O=0,C=0,P=0,L=0,U=0,B=0,$=0,N=new r(l*l),z=o%l||l,Z=i%l||l,G=a.numDims,j=t.pixels.resultMask,V=t.pixels.resultPixels,F=a.fileVersion>=5?14:15,K=a.zMax;for(S=0;S<h;S++)for(A=S!==h-1?l:z,D=0;D<u;D++)for(C=S*i*l+D*l,P=i-(M=D!==u-1?l:Z),w=0;w<G;w++){if(G>1?(T=V,C=S*i*l+D*l,V=new r(t.pixels.resultPixels.buffer,s*w*c,s),K=a.maxValues[w]):T=null,I=e.byteLength-t.ptr,m={},$=0,R=(p=new DataView(e,t.ptr,Math.min(10,I))).getUint8(0),$++,k=a.fileVersion>=5?4&R:0,O=R>>6&255,(R>>2&F)!=(D*l>>3&F))throw"integrity issue";if(k&&0===w)throw"integrity issue";if((_=3&R)>3)throw t.ptr+=$,"Invalid block encoding ("+_+")";if(2!==_)if(0===_){if(k)throw"integrity issue";if(t.counter.uncompressed++,t.ptr+=$,L=(L=A*M*c)<(U=e.byteLength-t.ptr)?L:U,g=new ArrayBuffer(L%c==0?L:L+c-L%c),new Uint8Array(g).set(new Uint8Array(e,t.ptr,L)),y=new r(g),B=0,j)for(E=0;E<A;E++){for(x=0;x<M;x++)j[C]&&(V[C]=y[B++]),C++;C+=P}else for(E=0;E<A;E++){for(x=0;x<M;x++)V[C++]=y[B++];C+=P}t.ptr+=B*c}else if(b=d.getDataTypeUsed(k&&f<6?4:f,O),v=d.getOnePixel(m,$,b,p),$+=d.getDataTypeSize(b),3===_)if(t.ptr+=$,t.counter.constantoffset++,j)for(E=0;E<A;E++){for(x=0;x<M;x++)j[C]&&(V[C]=k?Math.min(K,T[C]+v):v),C++;C+=P}else for(E=0;E<A;E++){for(x=0;x<M;x++)V[C]=k?Math.min(K,T[C]+v):v,C++;C+=P}else if(t.ptr+=$,d.decodeBits(e,t,N,v,w),$=0,k)if(j)for(E=0;E<A;E++){for(x=0;x<M;x++)j[C]&&(V[C]=N[$++]+T[C]),C++;C+=P}else for(E=0;E<A;E++){for(x=0;x<M;x++)V[C]=N[$++]+T[C],C++;C+=P}else if(j)for(E=0;E<A;E++){for(x=0;x<M;x++)j[C]&&(V[C]=N[$++]),C++;C+=P}else for(E=0;E<A;E++){for(x=0;x<M;x++)V[C++]=N[$++];C+=P}else{if(k)if(j)for(E=0;E<A;E++)for(x=0;x<M;x++)j[C]&&(V[C]=T[C]),C++;else for(E=0;E<A;E++)for(x=0;x<M;x++)V[C]=T[C],C++;t.counter.constant++,t.ptr+=$}}G>1&&!n&&(t.pixels.resultPixels=d.swapDimensionOrder(t.pixels.resultPixels,s,G,r))},formatFileInfo:function(e){return{fileIdentifierString:e.headerInfo.fileIdentifierString,fileVersion:e.headerInfo.fileVersion,imageType:e.headerInfo.imageType,height:e.headerInfo.height,width:e.headerInfo.width,numValidPixel:e.headerInfo.numValidPixel,microBlockSize:e.headerInfo.microBlockSize,blobSize:e.headerInfo.blobSize,maxZError:e.headerInfo.maxZError,pixelType:d.getPixelType(e.headerInfo.imageType),eofOffset:e.eofOffset,mask:e.mask?{numBytes:e.mask.numBytes}:null,pixels:{numBlocksX:e.pixels.numBlocksX,numBlocksY:e.pixels.numBlocksY,maxValue:e.headerInfo.zMax,minValue:e.headerInfo.zMin,noDataValue:e.noDataValue}}},constructConstantSurface:function(e,t){var r=e.headerInfo.zMax,n=e.headerInfo.zMin,a=e.headerInfo.maxValues,i=e.headerInfo.numDims,o=e.headerInfo.height*e.headerInfo.width,s=0,l=0,f=0,c=e.pixels.resultMask,u=e.pixels.resultPixels;if(c)if(i>1){if(t)for(s=0;s<i;s++)for(f=s*o,r=a[s],l=0;l<o;l++)c[l]&&(u[f+l]=r);else for(l=0;l<o;l++)if(c[l])for(f=l*i,s=0;s<i;s++)u[f+i]=a[s]}else for(l=0;l<o;l++)c[l]&&(u[l]=r);else if(i>1&&n!==r)if(t)for(s=0;s<i;s++)for(f=s*o,r=a[s],l=0;l<o;l++)u[f+l]=r;else for(l=0;l<o;l++)for(f=l*i,s=0;s<i;s++)u[f+s]=a[s];else for(l=0;l<o*i;l++)u[l]=r},getDataTypeArray:function(e){var t;switch(e){case 0:t=Int8Array;break;case 1:t=Uint8Array;break;case 2:t=Int16Array;break;case 3:t=Uint16Array;break;case 4:t=Int32Array;break;case 5:t=Uint32Array;break;case 6:t=Float32Array;break;case 7:t=Float64Array;break;default:t=Float32Array}return t},getPixelType:function(e){var t;switch(e){case 0:t="S8";break;case 1:t="U8";break;case 2:t="S16";break;case 3:t="U16";break;case 4:t="S32";break;case 5:t="U32";break;case 6:t="F32";break;case 7:t="F64";break;default:t="F32"}return t},isValidPixelValue:function(e,t){if(null==t)return!1;var r;switch(e){case 0:r=t>=-128&&t<=127;break;case 1:r=t>=0&&t<=255;break;case 2:r=t>=-32768&&t<=32767;break;case 3:r=t>=0&&t<=65536;break;case 4:r=t>=-2147483648&&t<=2147483647;break;case 5:r=t>=0&&t<=4294967296;break;case 6:r=t>=-34027999387901484e22&&t<=34027999387901484e22;break;case 7:r=t>=-17976931348623157e292&&t<=17976931348623157e292;break;default:r=!1}return r},getDataTypeSize:function(e){var t=0;switch(e){case 0:case 1:t=1;break;case 2:case 3:t=2;break;case 4:case 5:case 6:t=4;break;case 7:t=8;break;default:t=e}return t},getDataTypeUsed:function(e,t){var r=e;switch(e){case 2:case 4:r=e-t;break;case 3:case 5:r=e-2*t;break;case 6:r=0===t?e:1===t?2:1;break;case 7:r=0===t?e:e-2*t+1;break;default:r=e}return r},getOnePixel:function(e,t,r,n){var a=0;switch(r){case 0:a=n.getInt8(t);break;case 1:a=n.getUint8(t);break;case 2:a=n.getInt16(t,!0);break;case 3:a=n.getUint16(t,!0);break;case 4:a=n.getInt32(t,!0);break;case 5:a=n.getUInt32(t,!0);break;case 6:a=n.getFloat32(t,!0);break;case 7:a=n.getFloat64(t,!0);break;default:throw"the decoder does not understand this pixel type"}return a},swapDimensionOrder:function(e,t,r,n,a){var i=0,o=0,s=0,l=0,f=e;if(r>1)if(f=new n(t*r),a)for(i=0;i<t;i++)for(l=i,s=0;s<r;s++,l+=t)f[l]=e[o++];else for(i=0;i<t;i++)for(l=i,s=0;s<r;s++,l+=t)f[o++]=e[l];return f}},h=function(e,t,r){this.val=e,this.left=t,this.right=r},{decode:function(e,t){var r=(t=t||{}).noDataValue,n=0,a={};a.ptr=t.inputOffset||0,a.pixels={},d.readHeaderInfo(e,a);var i=a.headerInfo,o=i.fileVersion,s=d.getDataTypeArray(i.imageType);if(o>5)throw"unsupported lerc version 2."+o;d.readMask(e,a),i.numValidPixel===i.width*i.height||a.pixels.resultMask||(a.pixels.resultMask=t.maskData);var l=i.width*i.height;a.pixels.resultPixels=new s(l*i.numDims),a.counter={onesweep:0,uncompressed:0,lut:0,bitstuffer:0,constant:0,constantoffset:0};var f,c=!t.returnPixelInterleavedDims;if(0!==i.numValidPixel)if(i.zMax===i.zMin)d.constructConstantSurface(a,c);else if(o>=4&&d.checkMinMaxRanges(e,a))d.constructConstantSurface(a,c);else{var u=new DataView(e,a.ptr,2),h=u.getUint8(0);if(a.ptr++,h)d.readDataOneSweep(e,a,s,c);else if(o>1&&i.imageType<=1&&Math.abs(i.maxZError-.5)<1e-5){var p=u.getUint8(1);if(a.ptr++,a.encodeMode=p,p>2||o<4&&p>1)throw"Invalid Huffman flag "+p;p?d.readHuffman(e,a,s,c):d.readTiles(e,a,s,c)}else d.readTiles(e,a,s,c)}a.eofOffset=a.ptr,t.inputOffset?(f=a.headerInfo.blobSize+t.inputOffset-a.ptr,Math.abs(f)>=1&&(a.eofOffset=t.inputOffset+a.headerInfo.blobSize)):(f=a.headerInfo.blobSize-a.ptr,Math.abs(f)>=1&&(a.eofOffset=a.headerInfo.blobSize));var m={width:i.width,height:i.height,pixelData:a.pixels.resultPixels,minValue:i.zMin,maxValue:i.zMax,validPixelCount:i.numValidPixel,dimCount:i.numDims,dimStats:{minValues:i.minValues,maxValues:i.maxValues},maskData:a.pixels.resultMask};if(a.pixels.resultMask&&d.isValidPixelValue(i.imageType,r)){var g=a.pixels.resultMask;for(n=0;n<l;n++)g[n]||(m.pixelData[n]=r);m.noDataValue=r}return a.noDataValue=r,t.returnFileInfo&&(m.fileInfo=d.formatFileInfo(a)),m},getBandCount:function(e){for(var t=0,r=0,n={ptr:0,pixels:{}};r<e.byteLength-58;)d.readHeaderInfo(e,n),r+=n.headerInfo.blobSize,t++,n.ptr=r;return t}}),_=(p=new ArrayBuffer(4),m=new Uint8Array(p),new Uint32Array(p)[0]=1,1===m[0]),b={decode:function(e,t){if(!_)throw"Big endian system is not supported.";var r,n,a=(t=t||{}).inputOffset||0,i=new Uint8Array(e,a,10),o=String.fromCharCode.apply(null,i);if("CntZImage"===o.trim())r=g,n=1;else{if("Lerc2"!==o.substring(0,5))throw"Unexpected file identifier string: "+o;r=y,n=2}for(var s,l,f,c,u,d,h=0,p=e.byteLength-10,m=[],b={width:0,height:0,pixels:[],pixelType:t.pixelType,mask:null,statistics:[]},v=0;a<p;){var w=r.decode(e,{inputOffset:a,encodedMaskData:s,maskData:f,returnMask:0===h,returnEncodedMask:0===h,returnFileInfo:!0,returnPixelInterleavedDims:t.returnPixelInterleavedDims,pixelType:t.pixelType||null,noDataValue:t.noDataValue||null});a=w.fileInfo.eofOffset,f=w.maskData,0===h&&(s=w.encodedMaskData,b.width=w.width,b.height=w.height,b.dimCount=w.dimCount||1,b.pixelType=w.pixelType||w.fileInfo.pixelType,b.mask=f),n>1&&(f&&m.push(f),w.fileInfo.mask&&w.fileInfo.mask.numBytes>0&&v++),h++,b.pixels.push(w.pixelData),b.statistics.push({minValue:w.minValue,maxValue:w.maxValue,noDataValue:w.noDataValue,dimStats:w.dimStats})}if(n>1&&v>1){for(d=b.width*b.height,b.bandMasks=m,(f=new Uint8Array(d)).set(m[0]),c=1;c<m.length;c++)for(l=m[c],u=0;u<d;u++)f[u]=f[u]&l[u];b.maskData=f}return b}};module.exports?module.exports=b:this.Lerc=b}();var Lerc=LercDecode.exports,fieldTagNames={315:"Artist",258:"BitsPerSample",265:"CellLength",264:"CellWidth",320:"ColorMap",259:"Compression",33432:"Copyright",306:"DateTime",338:"ExtraSamples",266:"FillOrder",289:"FreeByteCounts",288:"FreeOffsets",291:"GrayResponseCurve",290:"GrayResponseUnit",316:"HostComputer",270:"ImageDescription",257:"ImageLength",256:"ImageWidth",271:"Make",281:"MaxSampleValue",280:"MinSampleValue",272:"Model",254:"NewSubfileType",274:"Orientation",262:"PhotometricInterpretation",284:"PlanarConfiguration",296:"ResolutionUnit",278:"RowsPerStrip",277:"SamplesPerPixel",305:"Software",279:"StripByteCounts",273:"StripOffsets",255:"SubfileType",263:"Threshholding",282:"XResolution",283:"YResolution",326:"BadFaxLines",327:"CleanFaxData",343:"ClipPath",328:"ConsecutiveBadFaxLines",433:"Decode",434:"DefaultImageColor",269:"DocumentName",336:"DotRange",321:"HalftoneHints",346:"Indexed",347:"JPEGTables",285:"PageName",297:"PageNumber",317:"Predictor",319:"PrimaryChromaticities",532:"ReferenceBlackWhite",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",559:"StripRowCounts",330:"SubIFDs",292:"T4Options",293:"T6Options",325:"TileByteCounts",323:"TileLength",324:"TileOffsets",322:"TileWidth",301:"TransferFunction",318:"WhitePoint",344:"XClipPathUnits",286:"XPosition",529:"YCbCrCoefficients",531:"YCbCrPositioning",530:"YCbCrSubSampling",345:"YClipPathUnits",287:"YPosition",37378:"ApertureValue",40961:"ColorSpace",36868:"DateTimeDigitized",36867:"DateTimeOriginal",34665:"Exif IFD",36864:"ExifVersion",33434:"ExposureTime",41728:"FileSource",37385:"Flash",40960:"FlashpixVersion",33437:"FNumber",42016:"ImageUniqueID",37384:"LightSource",37500:"MakerNote",37377:"ShutterSpeedValue",37510:"UserComment",33723:"IPTC",34675:"ICC Profile",700:"XMP",42112:"GDAL_METADATA",42113:"GDAL_NODATA",34377:"Photoshop",33550:"ModelPixelScale",33922:"ModelTiepoint",34264:"ModelTransformation",34735:"GeoKeyDirectory",34736:"GeoDoubleParams",34737:"GeoAsciiParams",50674:"LercParameters"},fieldTags={};for(var key in fieldTagNames)fieldTagNames.hasOwnProperty(key)&&(fieldTags[fieldTagNames[key]]=parseInt(key,10));fieldTags.BitsPerSample,fieldTags.ExtraSamples,fieldTags.SampleFormat,fieldTags.StripByteCounts,fieldTags.StripOffsets,fieldTags.StripRowCounts,fieldTags.TileByteCounts,fieldTags.TileOffsets,fieldTags.SubIFDs;var fieldTypeNames={1:"BYTE",2:"ASCII",3:"SHORT",4:"LONG",5:"RATIONAL",6:"SBYTE",7:"UNDEFINED",8:"SSHORT",9:"SLONG",10:"SRATIONAL",11:"FLOAT",12:"DOUBLE",13:"IFD",16:"LONG8",17:"SLONG8",18:"IFD8"},fieldTypes={};for(var _key in fieldTypeNames)fieldTypeNames.hasOwnProperty(_key)&&(fieldTypes[fieldTypeNames[_key]]=parseInt(_key,10));var LercParameters={Version:0,AddCompression:1},LercAddCompression={None:0,Deflate:1},geoKeyNames={1024:"GTModelTypeGeoKey",1025:"GTRasterTypeGeoKey",1026:"GTCitationGeoKey",2048:"GeographicTypeGeoKey",2049:"GeogCitationGeoKey",2050:"GeogGeodeticDatumGeoKey",2051:"GeogPrimeMeridianGeoKey",2052:"GeogLinearUnitsGeoKey",2053:"GeogLinearUnitSizeGeoKey",2054:"GeogAngularUnitsGeoKey",2055:"GeogAngularUnitSizeGeoKey",2056:"GeogEllipsoidGeoKey",2057:"GeogSemiMajorAxisGeoKey",2058:"GeogSemiMinorAxisGeoKey",2059:"GeogInvFlatteningGeoKey",2060:"GeogAzimuthUnitsGeoKey",2061:"GeogPrimeMeridianLongGeoKey",2062:"GeogTOWGS84GeoKey",3072:"ProjectedCSTypeGeoKey",3073:"PCSCitationGeoKey",3074:"ProjectionGeoKey",3075:"ProjCoordTransGeoKey",3076:"ProjLinearUnitsGeoKey",3077:"ProjLinearUnitSizeGeoKey",3078:"ProjStdParallel1GeoKey",3079:"ProjStdParallel2GeoKey",3080:"ProjNatOriginLongGeoKey",3081:"ProjNatOriginLatGeoKey",3082:"ProjFalseEastingGeoKey",3083:"ProjFalseNorthingGeoKey",3084:"ProjFalseOriginLongGeoKey",3085:"ProjFalseOriginLatGeoKey",3086:"ProjFalseOriginEastingGeoKey",3087:"ProjFalseOriginNorthingGeoKey",3088:"ProjCenterLongGeoKey",3089:"ProjCenterLatGeoKey",3090:"ProjCenterEastingGeoKey",3091:"ProjCenterNorthingGeoKey",3092:"ProjScaleAtNatOriginGeoKey",3093:"ProjScaleAtCenterGeoKey",3094:"ProjAzimuthAngleGeoKey",3095:"ProjStraightVertPoleLongGeoKey",3096:"ProjRectifiedGridAngleGeoKey",4096:"VerticalCSTypeGeoKey",4097:"VerticalCitationGeoKey",4098:"VerticalDatumGeoKey",4099:"VerticalUnitsGeoKey"},geoKeys={};for(var _key2 in geoKeyNames)geoKeyNames.hasOwnProperty(_key2)&&(geoKeys[geoKeyNames[_key2]]=parseInt(_key2,10));var LercDecoder=function(e){_inherits(r,BaseDecoder);var t=_createSuper(r);function r(e){var n;return _classCallCheck(this,r),(n=t.call(this)).planarConfiguration=void 0!==e.PlanarConfiguration?e.PlanarConfiguration:1,n.samplesPerPixel=void 0!==e.SamplesPerPixel?e.SamplesPerPixel:1,n.addCompression=e.LercParameters[LercParameters.AddCompression],n}return _createClass(r,[{key:"decodeBlock",value:function(e){switch(this.addCompression){case LercAddCompression.None:break;case LercAddCompression.Deflate:e=inflate_1(new Uint8Array(e)).buffer;break;default:throw new Error("Unsupported LERC additional compression method identifier: ".concat(this.addCompression))}return Lerc.decode(e,{returnPixelInterleavedDims:1===this.planarConfiguration}).pixels[0].buffer}}]),r}(),lerc=Object.freeze({__proto__:null,default:LercDecoder});'],{type:"application/javascript"}),ar=URL.createObjectURL(ir);var sr,lr=o("./node_modules/ol/proj/Units.js"),cr=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();function ur(){return sr||(sr=new dn(void 0,new Worker(ar))),sr}function dr(e){try{return e.getBoundingBox()}catch(o){var t=e.fileDirectory;return[0,0,t.ImageWidth,t.ImageLength]}}function hr(e){try{return e.getOrigin().slice(0,2)}catch(t){return[0,e.fileDirectory.ImageLength]}}function pr(e,t){try{return e.getResolution(t)[0]}catch(o){return t.fileDirectory.ImageWidth/e.fileDirectory.ImageWidth}}function fr(e){var t=e.geoKeys;if(!t)return null;if(t.ProjectedCSTypeGeoKey){var o="EPSG:"+t.ProjectedCSTypeGeoKey;if(!(n=Object(y.t)(o)))(r=Object(lr.c)(t.ProjLinearUnitsGeoKey))&&(n=new y.b({code:o,units:r}));return n}if(t.GeographicTypeGeoKey){var n,r;o="EPSG:"+t.GeographicTypeGeoKey;if(!(n=Object(y.t)(o)))(r=Object(lr.c)(t.GeogAngularUnitsGeoKey))&&(n=new y.b({code:o,units:r}));return n}return null}function gr(e){return e.getImageCount().then((function(t){for(var o=new Array(t),n=0;n<t;++n)o[n]=e.getImage(n);return Promise.all(o)}))}function mr(e){return(e.overviews?async function(e,t=[],o={},n){const r=await nr.fromSource(Hn(e,o),n),i=await Promise.all(t.map(e=>nr.fromSource(Hn(e,o))));return new rr(r,i)}(e.url,e.overviews):async function(e,t={},o){return nr.fromSource(Hn(e,t),o)}(e.url)).then(gr)}function yr(e,t,o,n,r){if(Array.isArray(e)){var i=e.length;if(!Array.isArray(t)||i!=t.length){var a=new Error(n);throw r(a),a}for(var s=0;s<i;++s)yr(e[s],t[s],o,n,r)}else if(t=t,Math.abs(e-t)>o*e)throw new Error(n)}function vr(e){return e instanceof Int8Array?127:e instanceof Uint8Array||e instanceof Uint8ClampedArray?255:e instanceof Int16Array?32767:e instanceof Uint16Array?65535:e instanceof Int32Array?2147483647:e instanceof Uint32Array?4294967295:e instanceof Float32Array?34e37:255}var _r=function(e){function t(t){var o=e.call(this,{state:tt.a.LOADING,tileGrid:null,projection:null,opaque:t.opaque,transition:t.transition})||this;o.sourceInfo_=t.sources;var n=o.sourceInfo_.length;o.sourceImagery_=new Array(n),o.resolutionFactors_=new Array(n),o.samplesPerPixel_,o.nodataValues_,o.normalize_=!1!==t.normalize,o.addAlpha_=!1,o.error_=null,o.readMethod_=t.convertToRGB?"readRGB":"readRasters",o.setKey(o.sourceInfo_.map((function(e){return e.url})).join(","));for(var r=o,i=new Array(n),a=0;a<n;++a)i[a]=mr(o.sourceInfo_[a]);return Promise.all(i).then((function(e){r.configure_(e)})).catch((function(e){console.error(e),r.error_=e,r.setState(tt.a.ERROR)})),o}return cr(t,e),t.prototype.getError=function(){return this.error_},t.prototype.configure_=function(e){for(var t,o,n,r,i=new Array(e.length),a=new Array(e.length),s=0,l=e.length,c=function(l){var c=e[l],d=c.length,h=void 0,p=void 0,f=new Array(d),g=new Array(d);a[l]=new Array(d);for(var m=0;m<d;++m){var y=c[m],v=y.getGDALNoData();a[l][m]=null===v?NaN:v;var _=u.sourceInfo_[l].bands;i[l]=_?_.length:y.getSamplesPerPixel();var b=d-(m+1);h||(h=dr(y)),p||(p=hr(y)),g[b]=pr(y,c[0]),f[b]=[y.getTileWidth(),y.getTileHeight()]}(t?Object(ce.H)(t,h,t):t=h,o)?yr(o,p,0,w="Origin mismatch for source "+l+", got ["+p+"] but expected ["+o+"]",u.viewRejector):o=p;if(r){r.length-s>g.length&&(s=r.length-g.length);var A=r[r.length-1]/g[g.length-1];u.resolutionFactors_[l]=A;var C=g.map((function(e){return e*A})),w="Resolution mismatch for source "+l+", got ["+C+"] but expected ["+r+"]";yr(r.slice(s,r.length),C,.005,w,u.viewRejector)}else r=g,u.resolutionFactors_[l]=1;n?yr(n.slice(s,n.length),f,0,"Tile size mismatch for source "+l,u.viewRejector):n=f,u.sourceImagery_[l]=c.reverse()},u=this,d=0;d<l;++d)c(d);for(var h=0,p=this.sourceImagery_.length;h<p;++h)for(var f=this.sourceImagery_[h];f.length<r.length;)f.unshift(void 0);if(!this.getProjection()){var g=e[0];for(h=g.length-1;h>=0;--h){var m=fr(g[h]);if(m){this.projection=m;break}}}this.samplesPerPixel_=i,this.nodataValues_=a;e:for(d=0;d<l;++d){if(void 0!==this.sourceInfo_[d].nodata){this.addAlpha_=!0;break}var v=a[d],_=this.sourceInfo_[d].bands;if(_){for(h=0;h<_.length;++h)if(!isNaN(v[_[h]-1])){this.addAlpha_=!0;break e}}else for(var b=0;b<v.length;++b)if(!isNaN(v[b])){this.addAlpha_=!0;break e}}var A=this.addAlpha_?1:0;this.bandCount=i.reduce((function(e,t){return e+=t}),0)+A;var C=new io.a({extent:t,minZoom:s,origin:o,resolutions:r,tileSizes:n});this.tileGrid=C,this.setLoader(this.loadTile_.bind(this)),this.setState(tt.a.READY),this.viewResolver({projection:this.projection,resolutions:r,center:Object(y.B)(Object(ce.C)(t),this.projection),extent:Object(y.C)(t,this.projection),zoom:0})},t.prototype.loadTile_=function(e,t,o){for(var n=Object(Ae.d)(this.tileGrid.getTileSize(e)),r=this.sourceImagery_.length,i=new Array(r),a=this.addAlpha_,s=this.bandCount,l=this.samplesPerPixel_,c=this.nodataValues_,u=this.sourceInfo_,d=function(r){var a=u[r],s=h.resolutionFactors_[r],l=[Math.round(t*(n[0]*s)),Math.round(o*(n[1]*s)),Math.round((t+1)*(n[0]*s)),Math.round((o+1)*(n[1]*s))],d=h.sourceImagery_[r][e],p=void 0;a.bands&&(p=a.bands.map((function(e){return e-1})));var f=void 0;f=isNaN(a.nodata)?p?p.map((function(e){return c[r][e]})):c[r]:a.nodata,i[r]=d[h.readMethod_]({window:l,width:n[0],height:n[1],samples:p,fillValue:f,pool:ur(),interleave:!1})},h=this,p=0;p<r;++p)d(p);var f=n[0]*n[1],g=f*s,m=this.normalize_;return Promise.all(i).then((function(e){var t;t=m?new Uint8Array(g):new Float32Array(g);for(var o,n=0,i=0;i<f;++i){for(var s=a,d=0;d<r;++d){var h=u[d],p=h.min,y=h.max,_=void 0,b=void 0;m&&(void 0===p&&(p=(o=e[d][0])instanceof Int8Array?-128:o instanceof Int16Array?-32768:o instanceof Int32Array?-2147483648:o instanceof Float32Array?12e-39:0),void 0===y&&(y=vr(e[d][0])),b=-p*(_=255/(y-p)));for(var A=0;A<l[d];++A){var C=e[d][A][i],w=void 0;if(w=m?Object(v.a)(_*C+b,0,255):C,a){var E=h.nodata;if(void 0===E){var I=void 0;I=h.bands?h.bands[A]-1:A,E=c[d][I]}C!==E&&(s=!1,t[n]=w)}else t[n]=w;n++}}a&&(s||(t[n]=255),n++)}return t}))},t}(Do);_r.prototype.getView;var br=_r,Ar=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Cr="default",wr="truncated",Er=function(e){function t(t,o,n,r,i,a,s){var l=e.call(this,o,n,r,i,a,s)||this;return l.zoomifyImage_=null,l.tileSize_=t,l}return Ar(t,e),t.prototype.getImage=function(){if(this.zoomifyImage_)return this.zoomifyImage_;var t=e.prototype.getImage.call(this);if(this.state==l.a.LOADED){var o=this.tileSize_;if(t.width==o[0]&&t.height==o[1])return this.zoomifyImage_=t,t;var n=Object(ae.a)(o[0],o[1]);return n.drawImage(t,0,0),this.zoomifyImage_=n.canvas,n.canvas}return t},t}(D.a),Ir=function(e){function t(t){var o=this,n=t,r=n.size,i=void 0!==n.tierSizeCalculation?n.tierSizeCalculation:Cr,a=n.tilePixelRatio||1,s=r[0],l=r[1],c=[],u=n.tileSize||so.b,d=u*a;switch(i){case Cr:for(;s>d||l>d;)c.push([Math.ceil(s/d),Math.ceil(l/d)]),d+=d;break;case wr:for(var h=s,p=l;h>d||p>d;)c.push([Math.ceil(h/d),Math.ceil(p/d)]),h>>=1,p>>=1;break;default:Object($.a)(!1,53)}c.push([1,1]),c.reverse();for(var f=[a],g=[0],m=1,y=c.length;m<y;m++)f.push(a<<m),g.push(c[m-1][0]*c[m-1][1]+g[m-1]);f.reverse();var v=new io.a({tileSize:u,extent:n.extent||[0,-l,s,0],resolutions:f}),_=n.url;_&&-1==_.indexOf("{TileGroup}")&&-1==_.indexOf("{tileIndex}")&&(_+="{TileGroup}/{z}-{x}-{y}.jpg");var b=Object(Oe.d)(_),A=u*a;var C=Object(Oe.c)(b.map((function(e){return function(t,o,n){if(t){var r=t[0],i=t[1],a=t[2],s=i+a*c[r][0],l={z:r,x:i,y:a,tileIndex:s,TileGroup:"TileGroup"+((s+g[r])/A|0)};return e.replace(/\{(\w+?)\}/g,(function(e,t){return l[t]}))}}}))),w=Er.bind(null,Object(Ae.d)(u*a));(o=e.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,crossOrigin:n.crossOrigin,imageSmoothing:n.imageSmoothing,projection:n.projection,tilePixelRatio:a,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileClass:w,tileGrid:v,tileUrlFunction:C,transition:n.transition})||this).zDirection=n.zDirection;var E=C(v.getTileCoordForCoordAndResolution(Object(ce.C)(v.getExtent()),f[f.length-1]),1,null),I=new Image;return I.addEventListener("error",function(){A=u,this.changed()}.bind(o)),I.src=E,o}return Ar(t,e),t}(Co.a),Or=function(e,t){for(var o=0,n=t.length,r=e.length;o<n;o++,r++)e[r]=t[o];return e},Sr="version1",xr="version2",jr="version3",Pr={};Pr[Sr]={level0:{supports:[],formats:[],qualities:["native"]},level1:{supports:["regionByPx","sizeByW","sizeByH","sizeByPct"],formats:["jpg"],qualities:["native"]},level2:{supports:["regionByPx","regionByPct","sizeByW","sizeByH","sizeByPct","sizeByConfinedWh","sizeByWh"],formats:["jpg","png"],qualities:["native","color","grey","bitonal"]}},Pr[xr]={level0:{supports:[],formats:["jpg"],qualities:["default"]},level1:{supports:["regionByPx","sizeByW","sizeByH","sizeByPct"],formats:["jpg"],qualities:["default"]},level2:{supports:["regionByPx","regionByPct","sizeByW","sizeByH","sizeByPct","sizeByConfinedWh","sizeByDistortedWh","sizeByWh"],formats:["jpg","png"],qualities:["default","bitonal"]}},Pr[jr]={level0:{supports:[],formats:["jpg"],qualities:["default"]},level1:{supports:["regionByPx","regionSquare","sizeByW","sizeByH","sizeByWh"],formats:["jpg"],qualities:["default"]},level2:{supports:["regionByPx","regionSquare","regionByPct","sizeByW","sizeByH","sizeByPct","sizeByConfinedWh","sizeByWh"],formats:["jpg","png"],qualities:["default"]}},Pr.none={none:{supports:[],formats:[],qualities:[]}};var Tr=/^https?:\/\/library\.stanford\.edu\/iiif\/image-api\/(?:1\.1\/)?compliance\.html#level[0-2]$/,Mr=/^https?:\/\/iiif\.io\/api\/image\/2\/level[0-2](?:\.json)?$/,Rr=/(^https?:\/\/iiif\.io\/api\/image\/3\/level[0-2](?:\.json)?$)|(^level[0-2]$)/;var Lr={};Lr[Sr]=function(e){var t=e.getComplianceLevelSupportedFeatures();return void 0===t&&(t=Pr[Sr].level0),{url:void 0===e.imageInfo["@id"]?void 0:e.imageInfo["@id"].replace(/\/?(?:info\.json)?$/g,""),supports:t.supports,formats:Or(Or([],t.formats),[void 0===e.imageInfo.formats?[]:e.imageInfo.formats]),qualities:Or(Or([],t.qualities),[void 0===e.imageInfo.qualities?[]:e.imageInfo.qualities]),resolutions:e.imageInfo.scale_factors,tileSize:void 0!==e.imageInfo.tile_width?void 0!==e.imageInfo.tile_height?[e.imageInfo.tile_width,e.imageInfo.tile_height]:[e.imageInfo.tile_width,e.imageInfo.tile_width]:null!=e.imageInfo.tile_height?[e.imageInfo.tile_height,e.imageInfo.tile_height]:void 0}},Lr[xr]=function(e){var t=e.getComplianceLevelSupportedFeatures(),o=Array.isArray(e.imageInfo.profile)&&e.imageInfo.profile.length>1,n=o&&e.imageInfo.profile[1].supports?e.imageInfo.profile[1].supports:[],r=o&&e.imageInfo.profile[1].formats?e.imageInfo.profile[1].formats:[],i=o&&e.imageInfo.profile[1].qualities?e.imageInfo.profile[1].qualities:[];return{url:e.imageInfo["@id"].replace(/\/?(?:info\.json)?$/g,""),sizes:void 0===e.imageInfo.sizes?void 0:e.imageInfo.sizes.map((function(e){return[e.width,e.height]})),tileSize:void 0===e.imageInfo.tiles?void 0:[e.imageInfo.tiles.map((function(e){return e.width}))[0],e.imageInfo.tiles.map((function(e){return void 0===e.height?e.width:e.height}))[0]],resolutions:void 0===e.imageInfo.tiles?void 0:e.imageInfo.tiles.map((function(e){return e.scaleFactors}))[0],supports:Or(Or([],t.supports),n),formats:Or(Or([],t.formats),r),qualities:Or(Or([],t.qualities),i)}},Lr[jr]=function(e){var t=e.getComplianceLevelSupportedFeatures(),o=void 0===e.imageInfo.extraFormats?t.formats:Or(Or([],t.formats),e.imageInfo.extraFormats),n=void 0!==e.imageInfo.preferredFormats&&Array.isArray(e.imageInfo.preferredFormats)&&e.imageInfo.preferredFormats.length>0?e.imageInfo.preferredFormats.filter((function(e){return Object(Q.f)(["jpg","png","gif"],e)})).reduce((function(e,t){return void 0===e&&Object(Q.f)(o,t)?t:e}),void 0):void 0;return{url:e.imageInfo.id,sizes:void 0===e.imageInfo.sizes?void 0:e.imageInfo.sizes.map((function(e){return[e.width,e.height]})),tileSize:void 0===e.imageInfo.tiles?void 0:[e.imageInfo.tiles.map((function(e){return e.width}))[0],e.imageInfo.tiles.map((function(e){return e.height}))[0]],resolutions:void 0===e.imageInfo.tiles?void 0:e.imageInfo.tiles.map((function(e){return e.scaleFactors}))[0],supports:void 0===e.imageInfo.extraFeatures?t.supports:Or(Or([],t.supports),e.imageInfo.extraFeatures),formats:o,qualities:void 0===e.imageInfo.extraQualities?t.qualities:Or(Or([],t.qualities),e.imageInfo.extraQualities),preferredFormat:n}};var kr=function(){function e(e){this.setImageInfo(e)}return e.prototype.setImageInfo=function(e){this.imageInfo="string"==typeof e?JSON.parse(e):e},e.prototype.getImageApiVersion=function(){if(void 0!==this.imageInfo){var e=this.imageInfo["@context"]||"ol-no-context";"string"==typeof e&&(e=[e]);for(var t=0;t<e.length;t++)switch(e[t]){case"http://library.stanford.edu/iiif/image-api/1.1/context.json":case"http://iiif.io/api/image/1/context.json":return Sr;case"http://iiif.io/api/image/2/context.json":return xr;case"http://iiif.io/api/image/3/context.json":return jr;case"ol-no-context":if(this.getComplianceLevelEntryFromProfile(Sr)&&this.imageInfo.identifier)return Sr}Object($.a)(!1,61)}},e.prototype.getComplianceLevelEntryFromProfile=function(e){if(void 0!==this.imageInfo&&void 0!==this.imageInfo.profile)switch(void 0===e&&(e=this.getImageApiVersion()),e){case Sr:if(Tr.test(this.imageInfo.profile))return this.imageInfo.profile;break;case jr:if(Rr.test(this.imageInfo.profile))return this.imageInfo.profile;break;case xr:if("string"==typeof this.imageInfo.profile&&Mr.test(this.imageInfo.profile))return this.imageInfo.profile;if(Array.isArray(this.imageInfo.profile)&&this.imageInfo.profile.length>0&&"string"==typeof this.imageInfo.profile[0]&&Mr.test(this.imageInfo.profile[0]))return this.imageInfo.profile[0]}},e.prototype.getComplianceLevelFromProfile=function(e){var t=this.getComplianceLevelEntryFromProfile(e);if(void 0!==t){var o=t.match(/level[0-2](?:\.json)?$/g);return Array.isArray(o)?o[0].replace(".json",""):void 0}},e.prototype.getComplianceLevelSupportedFeatures=function(){if(void 0!==this.imageInfo){var e=this.getImageApiVersion(),t=this.getComplianceLevelFromProfile(e);return void 0===t?Pr.none.none:Pr[e][t]}},e.prototype.getTileSourceOptions=function(e){var t=e||{},o=this.getImageApiVersion();if(void 0!==o){var n=void 0===o?void 0:Lr[o](this);if(void 0!==n)return{url:n.url,version:o,size:[this.imageInfo.width,this.imageInfo.height],sizes:n.sizes,format:void 0!==t.format&&Object(Q.f)(n.formats,t.format)?t.format:void 0!==n.preferredFormat?n.preferredFormat:"jpg",supports:n.supports,quality:t.quality&&Object(Q.f)(n.qualities,t.quality)?t.quality:Object(Q.f)(n.qualities,"native")?"native":"default",resolutions:Array.isArray(n.resolutions)?n.resolutions.sort((function(e,t){return t-e})):void 0,tileSize:n.tileSize}}},e}(),Gr=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();function Dr(e){return e.toLocaleString("en",{maximumFractionDigits:10})}var Nr=function(e){function t(t){var o=this,n=t||{},r=n.url||"";r+=r.lastIndexOf("/")===r.length-1||""===r?"":"/";var i=n.version||xr,a=n.sizes||[],s=n.size;Object($.a)(null!=s&&Array.isArray(s)&&2==s.length&&!isNaN(s[0])&&s[0]>0&&!isNaN(s[1])&&s[1]>0,60);var l,c,u,d=s[0],h=s[1],p=n.tileSize,f=n.tilePixelRatio||1,g=n.format||"jpg",m=n.quality||(n.version==Sr?"native":"default"),y=n.resolutions||[],v=n.supports||[],_=n.extent||[0,-h,d,0],b=null!=a&&Array.isArray(a)&&a.length>0,A=void 0!==p&&("number"==typeof p&&Number.isInteger(p)&&p>0||Array.isArray(p)&&p.length>0),C=null!=v&&Array.isArray(v)&&(Object(Q.f)(v,"regionByPx")||Object(Q.f)(v,"regionByPct"))&&(Object(Q.f)(v,"sizeByWh")||Object(Q.f)(v,"sizeByH")||Object(Q.f)(v,"sizeByW")||Object(Q.f)(v,"sizeByPct"));if(y.sort((function(e,t){return t-e})),A||C)if(null!=p&&("number"==typeof p&&Number.isInteger(p)&&p>0?(l=p,c=p):Array.isArray(p)&&p.length>0&&((1==p.length||null==p[1]&&Number.isInteger(p[0]))&&(l=p[0],c=p[0]),2==p.length&&(Number.isInteger(p[0])&&Number.isInteger(p[1])?(l=p[0],c=p[1]):null==p[0]&&Number.isInteger(p[1])&&(l=p[1],c=p[1])))),void 0!==l&&void 0!==c||(l=so.b,c=so.b),0==y.length)for(var w=u=Math.max(Math.ceil(Math.log(d/l)/Math.LN2),Math.ceil(Math.log(h/c)/Math.LN2));w>=0;w--)y.push(Math.pow(2,w));else{var E=Math.max.apply(Math,y);u=Math.round(Math.log(E)/Math.LN2)}else if(l=d,c=h,y=[],b){a.sort((function(e,t){return e[0]-t[0]})),u=-1;var I=[];for(w=0;w<a.length;w++){var O=d/a[w][0];y.length>0&&y[y.length-1]==O?I.push(w):(y.push(O),u++)}if(I.length>0)for(w=0;w<I.length;w++)a.splice(I[w]-w,1)}else y.push(1),a.push([d,h]),u=0;var S=new io.a({tileSize:[l,c],extent:_,origin:Object(ce.L)(_),resolutions:y}),x=Er.bind(null,Object(Ae.d)(p||256).map((function(e){return e*f})));return(o=e.call(this,{attributions:n.attributions,attributionsCollapsible:n.attributionsCollapsible,cacheSize:n.cacheSize,crossOrigin:n.crossOrigin,imageSmoothing:n.imageSmoothing,projection:n.projection,reprojectionErrorThreshold:n.reprojectionErrorThreshold,state:n.state,tileClass:x,tileGrid:S,tilePixelRatio:n.tilePixelRatio,tileUrlFunction:function(e,t,o){var n,s,p=e[0];if(!(p>u)){var f=e[1],_=e[2],w=y[p];if(!(void 0===f||void 0===_||void 0===w||f<0||Math.ceil(d/w/l)<=f||_<0||Math.ceil(h/w/c)<=_)){if(C||A){var E=f*l*w,I=_*c*w,O=l*w,S=c*w,x=l,j=c;if(E+O>d&&(O=d-E),I+S>h&&(S=h-I),E+l*w>d&&(x=Math.floor((d-E+w-1)/w)),I+c*w>h&&(j=Math.floor((h-I+w-1)/w)),0==E&&O==d&&0==I&&S==h)n="full";else if(!C||Object(Q.f)(v,"regionByPx"))n=E+","+I+","+O+","+S;else if(Object(Q.f)(v,"regionByPct")){n="pct:"+Dr(E/d*100)+","+Dr(I/h*100)+","+Dr(O/d*100)+","+Dr(S/h*100)}i!=jr||C&&!Object(Q.f)(v,"sizeByWh")?!C||Object(Q.f)(v,"sizeByW")?s=x+",":Object(Q.f)(v,"sizeByH")?s=","+j:Object(Q.f)(v,"sizeByWh")?s=x+","+j:Object(Q.f)(v,"sizeByPct")&&(s="pct:"+Dr(100/w)):s=x+","+j}else if(n="full",b){var P=a[p][0],T=a[p][1];s=i==jr?P==d&&T==h?"max":P+","+T:P==d?"full":P+","}else s=i==jr?"max":"full";return r+n+"/"+s+"/0/"+m+"."+g}}},transition:n.transition})||this).zDirection=n.zDirection,o}return Gr(t,e),t}(Co.a),Fr=o("./node_modules/ol/source/Image.js"),Ur=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Br=function(e){function t(t){var o=this,n=t||{};return(o=e.call(this,{attributions:n.attributions,imageSmoothing:n.imageSmoothing,projection:n.projection,resolutions:n.resolutions})||this).crossOrigin_=void 0!==n.crossOrigin?n.crossOrigin:null,o.hidpi_=void 0===n.hidpi||n.hidpi,o.url_=n.url,o.imageLoadFunction_=void 0!==n.imageLoadFunction?n.imageLoadFunction:Fr.c,o.params_=n.params||{},o.image_=null,o.imageSize_=[0,0],o.renderedRevision_=0,o.ratio_=void 0!==n.ratio?n.ratio:1.5,o}return Ur(t,e),t.prototype.getParams=function(){return this.params_},t.prototype.getImageInternal=function(e,t,o,n){if(void 0===this.url_)return null;t=this.findNearestResolution(t),o=this.hidpi_?o:1;var r=this.image_;if(r&&this.renderedRevision_==this.getRevision()&&r.getResolution()==t&&r.getPixelRatio()==o&&Object(ce.h)(r.getExtent(),e))return r;var i={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};Object(me.a)(i,this.params_);var a=((e=e.slice())[0]+e[2])/2,s=(e[1]+e[3])/2;if(1!=this.ratio_){var l=this.ratio_*Object(ce.N)(e)/2,c=this.ratio_*Object(ce.G)(e)/2;e[0]=a-l,e[1]=s-c,e[2]=a+l,e[3]=s+c}var u=t/o,d=Math.ceil(Object(ce.N)(e)/u),h=Math.ceil(Object(ce.G)(e)/u);e[0]=a-u*d/2,e[2]=a+u*d/2,e[1]=s-u*h/2,e[3]=s+u*h/2,this.imageSize_[0]=d,this.imageSize_[1]=h;var p=this.getRequestUrl_(e,this.imageSize_,o,n,i);return this.image_=new M.a(e,t,o,p,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),this.image_.addEventListener(g.a.CHANGE,this.handleImageChange.bind(this)),this.image_},t.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},t.prototype.getRequestUrl_=function(e,t,o,n,r){var i=n.getCode().split(/:(?=\d+$)/).pop();r.SIZE=t[0]+","+t[1],r.BBOX=e.join(","),r.BBOXSR=i,r.IMAGESR=i,r.DPI=Math.round(90*o);var a=this.url_,s=a.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage");return s==a&&Object($.a)(!1,50),Object(xe.a)(s,r)},t.prototype.getUrl=function(){return this.url_},t.prototype.setImageLoadFunction=function(e){this.image_=null,this.imageLoadFunction_=e,this.changed()},t.prototype.setUrl=function(e){e!=this.url_&&(this.url_=e,this.image_=null,this.changed())},t.prototype.updateParams=function(e){Object(me.a)(this.params_,e),this.image_=null,this.changed()},t}(Fr.b),zr=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Vr=function(e){function t(t){var o=this,n=t||{};return(o=e.call(this,{attributions:n.attributions,imageSmoothing:n.imageSmoothing,projection:n.projection,resolutions:n.resolutions,state:n.state})||this).canvasFunction_=n.canvasFunction,o.canvas_=null,o.renderedRevision_=0,o.ratio_=void 0!==n.ratio?n.ratio:1.5,o}return zr(t,e),t.prototype.getImageInternal=function(e,t,o,n){t=this.findNearestResolution(t);var r=this.canvas_;if(r&&this.renderedRevision_==this.getRevision()&&r.getResolution()==t&&r.getPixelRatio()==o&&Object(ce.h)(r.getExtent(),e))return r;e=e.slice(),Object(ce.S)(e,this.ratio_);var i=[Object(ce.N)(e)/t*o,Object(ce.G)(e)/t*o],a=this.canvasFunction_.call(this,e,t,o,i,n);return a&&(r=new G(e,t,o,a)),this.canvas_=r,this.renderedRevision_=this.getRevision(),r},t}(Fr.b),Wr=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();var qr=function(e){function t(t){var o=e.call(this,{imageSmoothing:t.imageSmoothing,projection:t.projection,resolutions:t.resolutions})||this;return o.crossOrigin_=void 0!==t.crossOrigin?t.crossOrigin:null,o.displayDpi_=void 0!==t.displayDpi?t.displayDpi:96,o.params_=t.params||{},o.url_=t.url,o.imageLoadFunction_=void 0!==t.imageLoadFunction?t.imageLoadFunction:Fr.c,o.hidpi_=void 0===t.hidpi||t.hidpi,o.metersPerUnit_=void 0!==t.metersPerUnit?t.metersPerUnit:1,o.ratio_=void 0!==t.ratio?t.ratio:1,o.useOverlay_=void 0!==t.useOverlay&&t.useOverlay,o.image_=null,o.renderedRevision_=0,o}return Wr(t,e),t.prototype.getParams=function(){return this.params_},t.prototype.getImageInternal=function(e,t,o,n){t=this.findNearestResolution(t),o=this.hidpi_?o:1;var r=this.image_;if(r&&this.renderedRevision_==this.getRevision()&&r.getResolution()==t&&r.getPixelRatio()==o&&Object(ce.h)(r.getExtent(),e))return r;1!=this.ratio_&&(e=e.slice(),Object(ce.S)(e,this.ratio_));var i=[Object(ce.N)(e)/t*o,Object(ce.G)(e)/t*o];if(void 0!==this.url_){var a=this.getUrl(this.url_,this.params_,e,i,n);(r=new M.a(e,t,o,a,this.crossOrigin_,this.imageLoadFunction_)).addEventListener(g.a.CHANGE,this.handleImageChange.bind(this))}else r=null;return this.image_=r,this.renderedRevision_=this.getRevision(),r},t.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},t.prototype.updateParams=function(e){Object(me.a)(this.params_,e),this.changed()},t.prototype.getUrl=function(e,t,o,n,r){var i=function(e,t,o,n){var r=Object(ce.N)(e),i=Object(ce.G)(e),a=t[0],s=t[1],l=.0254/n;return s*r>a*i?r*o/(a*l):i*o/(s*l)}(o,n,this.metersPerUnit_,this.displayDpi_),a=Object(ce.C)(o),s={OPERATION:this.useOverlay_?"GETDYNAMICMAPOVERLAYIMAGE":"GETMAPIMAGE",VERSION:"2.0.0",LOCALE:"en",CLIENTAGENT:"ol/source/ImageMapGuide source",CLIP:"1",SETDISPLAYDPI:this.displayDpi_,SETDISPLAYWIDTH:Math.round(n[0]),SETDISPLAYHEIGHT:Math.round(n[1]),SETVIEWSCALE:i,SETVIEWCENTERX:a[0],SETVIEWCENTERY:a[1]};return Object(me.a)(s,t),Object(xe.a)(e,s)},t.prototype.setImageLoadFunction=function(e){this.image_=null,this.imageLoadFunction_=e,this.changed()},t}(Fr.b),Yr=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Hr=function(e){function t(t){var o=this,n=void 0!==t.crossOrigin?t.crossOrigin:null,r=void 0!==t.imageLoadFunction?t.imageLoadFunction:Fr.c;return(o=e.call(this,{attributions:t.attributions,imageSmoothing:t.imageSmoothing,projection:Object(y.t)(t.projection)})||this).url_=t.url,o.imageExtent_=t.imageExtent,o.image_=new M.a(o.imageExtent_,void 0,1,o.url_,n,r),o.imageSize_=t.imageSize?t.imageSize:null,o.image_.addEventListener(g.a.CHANGE,o.handleImageChange.bind(o)),o}return Yr(t,e),t.prototype.getImageExtent=function(){return this.imageExtent_},t.prototype.getImageInternal=function(e,t,o,n){return Object(ce.O)(e,this.image_.getExtent())?this.image_:null},t.prototype.getUrl=function(){return this.url_},t.prototype.handleImageChange=function(t){if(this.image_.getState()==L.a.LOADED){var o=this.image_.getExtent(),n=this.image_.getImage(),r=void 0,i=void 0;this.imageSize_?(r=this.imageSize_[0],i=this.imageSize_[1]):(r=n.width,i=n.height);var a=Object(ce.N)(o),s=Object(ce.G)(o),l=a/r,c=s/i,u=r,d=i;if(l>c?u=Math.round(a/c):d=Math.round(s/l),u!==r||d!==i){var h=Object(ae.a)(u,d);Object(me.a)(h,this.getContextOptions());var p=h.canvas;h.drawImage(n,0,0,r,i,0,0,p.width,p.height),this.image_.setImage(p)}}e.prototype.handleImageChange.call(this,t)},t}(Fr.b),Xr=o("./node_modules/ol/source/ImageWMS.js"),Zr={"image/png":!0,"image/jpeg":!0,"image/gif":!0,"image/webp":!0},Kr={"application/vnd.mapbox-vector-tile":!0,"application/geo+json":!0};function Jr(e,t){for(var o,n,r=0;r<e.length;++r){var i=e[r];if("item"===i.rel){if(i.type===t){o=i.href;break}Zr[i.type]?n=i.href:n||0!==i.type.indexOf("image/")||(n=i.href)}}if(!o){if(!n)throw new Error('Could not find "item" link');o=n}return o}function Qr(e,t,o){for(var n,r,i={},a=0;a<e.length;++a){var s=e[a];if(i[s.type]=s.href,"item"===s.rel){if(s.type===t){n=s.href;break}Kr[s.type]&&(r=s.href)}}if(!n&&o)for(a=0;a<o.length;++a){var l=o[a];if(i[l]){n=i[l];break}}if(!n){if(!r)throw new Error('Could not find "item" link');n=r}return n}function $r(e,t,o,n){var r=e.projection;if(!r&&!(r=Object(y.t)(t.crs)))throw new Error("Unsupported CRS: "+t.crs);for(var i="en"!==r.getAxisOrientation().substr(0,2),a=t.tileMatrices,s={},l=0;l<a.length;++l){var c=a[l];s[c.id]=c}var u={},d=[];if(n)for(l=0;l<n.length;++l){var h=(b=n[l]).tileMatrix;d.push(h),u[h]=b}else for(l=0;l<a.length;++l){h=a[l].id;d.push(h)}var p=d.length,f=new Array(p),g=new Array(p),m=new Array(p),v=new Array(p),_=[-1/0,-1/0,1/0,1/0];for(l=0;l<p;++l){h=d[l];var b,A=(c=s[h]).pointOfOrigin;if(f[l]=i?[A[1],A[0]]:A,g[l]=c.cellSize,m[l]=[c.matrixWidth,c.matrixHeight],v[l]=[c.tileWidth,c.tileHeight],b=u[h]){var C=c.cellSize*c.tileWidth,w=f[l][0]+b.minTileCol*C,E=f[l][0]+(b.maxTileCol+1)*C,I=c.cellSize*c.tileHeight,O=void 0,S=void 0;"bottomLeft"===c.cornerOfOrigin?(O=f[l][1]+b.minTileRow*I,S=f[l][1]+(b.maxTileRow+1)*I):(O=f[l][1]-(b.maxTileRow+1)*I,S=f[l][1]-b.minTileRow*I),Object(ce.H)(_,[w,O,E,S],_)}}var x=new io.a({origins:f,resolutions:g,sizes:m,tileSizes:v,extent:n?_:void 0}),j=e.context,P=e.url;return{grid:x,urlTemplate:o,urlFunction:function(e,t,r){if(e){var i=d[e[0]],a=s[i],l="bottomLeft"===a.cornerOfOrigin,c={tileMatrix:i,tileCol:e[1],tileRow:l?-e[2]-1:e[2]};if(n){var h=u[a.id];if(c.tileCol<h.minTileCol||c.tileCol>h.maxTileCol||c.tileRow<h.minTileRow||c.tileRow>h.maxTileRow)return}Object(me.a)(c,j);var p=o.replace(/\{(\w+?)\}/g,(function(e,t){return c[t]}));return Object(ge.f)(P,p)}}}}function ei(e){return Object(ge.c)(e.url).then((function(t){return function(e,t){var o,n=t.tileMatrixSetLimits;if("map"===t.dataType)o=Jr(t.links,e.mediaType);else{if("vector"!==t.dataType)throw new Error('Expected tileset data type to be "map" or "vector"');o=Qr(t.links,e.mediaType,e.supportedMediaTypes)}if(t.tileMatrixSet)return $r(e,t.tileMatrixSet,o,n);if(!t.tileMatrixSetDefinition)throw new Error("Expected tileMatrixSetDefinition or tileMatrixSet");var r=Object(ge.f)(e.url,t.tileMatrixSetDefinition);return Object(ge.c)(r).then((function(t){return $r(e,t,o,n)}))}(e,t)}))}var ti,oi=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ni=function(e){function t(t){var o=e.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,imageSmoothing:t.imageSmoothing,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,state:tt.a.LOADING,tileLoadFunction:t.tileLoadFunction,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition})||this;return ei({url:t.url,projection:o.getProjection(),mediaType:t.mediaType,context:t.context||null}).then(o.handleTileSetInfo_.bind(o)).catch(o.handleError_.bind(o)),o}return oi(t,e),t.prototype.handleTileSetInfo_=function(e){this.tileGrid=e.grid,this.setTileUrlFunction(e.urlFunction,e.urlTemplate),this.setState(tt.a.READY)},t.prototype.handleError_=function(e){console.error(e),this.setState(tt.a.ERROR)},t}(Co.a),ri=o("./node_modules/ol/source/VectorTile.js"),ii=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ai=function(e){function t(t){var o=e.call(this,{attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,cacheSize:t.cacheSize,format:t.format,overlaps:t.overlaps,projection:t.projection,tileClass:t.tileClass,transition:t.transition,wrapX:t.wrapX,zDirection:t.zDirection,state:tt.a.LOADING})||this;return ei({url:t.url,projection:o.getProjection(),mediaType:t.mediaType,supportedMediaTypes:t.format.supportedMediaTypes,context:t.context||null}).then(o.handleTileSetInfo_.bind(o)).catch(o.handleError_.bind(o)),o}return ii(t,e),t.prototype.handleTileSetInfo_=function(e){this.tileGrid=e.grid,this.setTileUrlFunction(e.urlFunction,e.urlTemplate),this.setState(tt.a.READY)},t.prototype.handleError_=function(e){console.error(e),this.setState(tt.a.ERROR)},t}(ri.a),si=o("./node_modules/ol/source/OSM.js"),li=o("./node_modules/ol/layer/Image.js"),ci=o("./node_modules/ol/source/Source.js"),ui=o("./node_modules/ol/layer/Tile.js"),di=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),hi=!0;try{new ImageData(10,10)}catch(e){hi=!1}function pi(e,t,o){if(hi)return new ImageData(e,t,o);ti||(ti=document.createElement("canvas").getContext("2d"));var n=ti.createImageData(t,o);return n.data.set(e),n}function fi(e){var t=!0;try{new ImageData(10,10)}catch(e){t=!1}function o(e,o,n){return t?new ImageData(e,o,n):{data:e,width:o,height:n}}return function(t){var n=t.buffers,r=t.meta,i=t.imageOps,a=t.width,s=t.height,l=n.length,c=n[0].byteLength;if(i){for(var u=new Array(l),d=0;d<l;++d)u[d]=o(new Uint8ClampedArray(n[d]),a,s);return e(u,r).data.buffer}var h=new Uint8ClampedArray(c),p=new Array(l),f=new Array(l);for(d=0;d<l;++d)p[d]=new Uint8ClampedArray(n[d]),f[d]=[0,0,0,0];for(var g=0;g<c;g+=4){for(var m=0;m<l;++m){var y=p[m];f[m][0]=y[g],f[m][1]=y[g+1],f[m][2]=y[g+2],f[m][3]=y[g+3]}var v=e(f,r);h[g]=v[0],h[g+1]=v[1],h[g+2]=v[2],h[g+3]=v[3]}return h.buffer}}function gi(e,t){var o=Object.keys(e.lib||{}).map((function(t){return"var "+t+" = "+e.lib[t].toString()+";"})).concat(["var __minion__ = ("+fi.toString()+")(",e.operation.toString(),");",'self.addEventListener("message", function(event) {',"  var buffer = __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]),n=new Blob(o,{type:"text/javascript"}),r=URL.createObjectURL(n),i=new Worker(r);return i.addEventListener("message",t),i}var mi=function(e){function t(t){var o,n=e.call(this)||this;n._imageOps=!!t.imageOps,o=0===t.threads?0:n._imageOps?1:t.threads||1;var r=new Array(o);if(o)for(var i=0;i<o;++i)r[i]=gi(t,n._onWorkerMessage.bind(n,i));else r[0]=function(e,t){var o=fi(e.operation),n=!1;return{postMessage:function(e){setTimeout((function(){n||t({data:{buffer:o(e),meta:e.meta}})}),0)},terminate:function(){n=!0}}}(t,n._onWorkerMessage.bind(n,0));return n._workers=r,n._queue=[],n._maxQueueLength=t.queue||1/0,n._running=0,n._dataLookup={},n._job=null,n}return di(t,e),t.prototype.process=function(e,t,o){this._enqueue({inputs:e,meta:t,callback:o}),this._dispatch()},t.prototype._enqueue=function(e){for(this._queue.push(e);this._queue.length>this._maxQueueLength;)this._queue.shift().callback(null,null)},t.prototype._dispatch=function(){if(!this._running&&0!==this._queue.length){var e=this._queue.shift();this._job=e;var t=e.inputs[0].width,o=e.inputs[0].height,n=e.inputs.map((function(e){return e.data.buffer})),r=this._workers.length;if(this._running=r,1!==r)for(var i=e.inputs[0].data.length,a=4*Math.ceil(i/4/r),s=0;s<r;++s){for(var l=s*a,c=[],u=0,d=n.length;u<d;++u)c.push(n[u].slice(l,l+a));this._workers[s].postMessage({buffers:c,meta:e.meta,imageOps:this._imageOps,width:t,height:o},c)}else this._workers[0].postMessage({buffers:n,meta:e.meta,imageOps:this._imageOps,width:t,height:o},n)}},t.prototype._onWorkerMessage=function(e,t){this.disposed||(this._dataLookup[e]=t.data,--this._running,0===this._running&&this._resolveJob())},t.prototype._resolveJob=function(){var e,t,o=this._job,n=this._workers.length;if(1===n)e=new Uint8ClampedArray(this._dataLookup[0].buffer),t=this._dataLookup[0].meta;else{var r=o.inputs[0].data.length;e=new Uint8ClampedArray(r),t=new Array(n);for(var i=4*Math.ceil(r/4/n),a=0;a<n;++a){var s=this._dataLookup[a].buffer,l=a*i;e.set(new Uint8ClampedArray(s),l),t[a]=this._dataLookup[a].meta}}this._job=null,this._dataLookup={},o.callback(null,pi(e,o.inputs[0].width,o.inputs[0].height),t),this._dispatch()},t.prototype.disposeInternal=function(){for(var e=0;e<this._workers.length;++e)this._workers[e].terminate();this._workers.length=0},t}(d.a),yi="beforeoperations",vi="afteroperations",_i="pixel",bi="image",Ai=function(e){function t(t,o,n){var r=e.call(this,t)||this;return r.extent=o.extent,r.resolution=o.viewState.resolution/o.pixelRatio,r.data=n,r}return di(t,e),t}(p.a),Ci=function(e){function t(t){var o=e.call(this,{projection:null})||this;o.on,o.once,o.un,o.processor_=null,o.operationType_=void 0!==t.operationType?t.operationType:_i,o.threads_=void 0!==t.threads?t.threads:1,o.layers_=function(e){for(var t=e.length,o=new Array(t),n=0;n<t;++n)o[n]=Ii(e[n]);return o}(t.sources);for(var n,r=o.changed.bind(o),i=0,a=o.layers_.length;i<a;++i)o.layers_[i].addEventListener(g.a.CHANGE,r);return o.tileQueue_=new H.a((function(){return 1}),o.changed.bind(o)),o.requestedFrameState_,o.renderedImageCanvas_=null,o.renderedRevision_,o.frameState_={animate:!1,coordinateToPixelTransform:Object(Se.d)(),declutterTree:null,extent:null,index:0,layerIndex:0,layerStatesArray:(n=o.layers_,n.map((function(e){return e.getLayerState()}))),pixelRatio:1,pixelToCoordinateTransform:Object(Se.d)(),postRenderFunctions:[],size:[0,0],tileQueue:o.tileQueue_,time:Date.now(),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{}},o.setAttributions((function(e){for(var o=[],n=0,r=t.sources.length;n<r;++n){var i=t.sources[n],a=(i instanceof ci.a?i:i.getSource()).getAttributions();if("function"==typeof a){var s=a(e);o.push.apply(o,s)}}return 0!==o.length?o:null})),void 0!==t.operation&&o.setOperation(t.operation,t.lib),o}return di(t,e),t.prototype.setOperation=function(e,t){this.processor_&&this.processor_.dispose(),this.processor_=new mi({operation:e,imageOps:this.operationType_===bi,queue:1,lib:t,threads:this.threads_}),this.changed()},t.prototype.updateFrameState_=function(e,t,o){var n=Object(me.a)({},this.frameState_);n.viewState=Object(me.a)({},n.viewState);var r=Object(ce.C)(e);n.extent=e.slice(),n.size[0]=Math.round(Object(ce.N)(e)/t),n.size[1]=Math.round(Object(ce.G)(e)/t),n.time=Date.now();var i=n.viewState;return i.center=r,i.projection=o,i.resolution=t,n},t.prototype.allSourcesReady_=function(){for(var e=!0,t=0,o=this.layers_.length;t<o;++t)if(this.layers_[t].getSource().getState()!==tt.a.READY){e=!1;break}return e},t.prototype.getImage=function(e,t,o,n){if(!this.allSourcesReady_())return null;var r=this.updateFrameState_(e,t,n);if(this.requestedFrameState_=r,this.renderedImageCanvas_){var i=this.renderedImageCanvas_.getResolution(),a=this.renderedImageCanvas_.getExtent();t===i&&Object(ce.r)(e,a)||(this.renderedImageCanvas_=null)}return this.renderedImageCanvas_&&this.getRevision()===this.renderedRevision_||this.processSources_(),r.tileQueue.loadMoreTiles(16,16),r.animate&&requestAnimationFrame(this.changed.bind(this)),this.renderedImageCanvas_},t.prototype.processSources_=function(){for(var e=this.requestedFrameState_,t=this.layers_.length,o=new Array(t),n=0;n<t;++n){e.layerIndex=n;var r=Ei(this.layers_[n],e);if(!r)return;o[n]=r}var i={};this.dispatchEvent(new Ai(yi,e,i)),this.processor_.process(o,i,this.onWorkerComplete_.bind(this,e))},t.prototype.onWorkerComplete_=function(e,t,o,n){if(!t&&o){var r=e.extent,i=e.viewState.resolution;if(i===this.requestedFrameState_.viewState.resolution&&Object(ce.r)(r,this.requestedFrameState_.extent)){var a;if(this.renderedImageCanvas_)a=this.renderedImageCanvas_.getImage().getContext("2d");else{var s=Math.round(Object(ce.N)(r)/i),l=Math.round(Object(ce.G)(r)/i);a=Object(ae.a)(s,l),this.renderedImageCanvas_=new G(r,i,1,a.canvas)}a.putImageData(o,0,0),this.changed(),this.renderedRevision_=this.getRevision(),this.dispatchEvent(new Ai(vi,e,n)),e.animate&&requestAnimationFrame(this.changed.bind(this))}}},t.prototype.disposeInternal=function(){this.processor_&&this.processor_.dispose(),e.prototype.disposeInternal.call(this)},t}(Fr.b);Ci.prototype.dispose;var wi=null;function Ei(e,t){var o=e.getRenderer();if(!o)throw new Error("Unsupported layer type: "+e);if(!o.prepareFrame(t))return null;var n=t.size[0],r=t.size[1];if(0===n||0===r)return null;var i,a=o.renderFrame(t,null);if(a&&(i=a.firstElementChild),!(i instanceof HTMLCanvasElement))throw new Error("Unsupported rendered element: "+i);if(i.width===n&&i.height===r)return i.getContext("2d").getImageData(0,0,n,r);if(wi){var s=wi.canvas;s.width!==n||s.height!==r?wi=Object(ae.a)(n,r):wi.clearRect(0,0,n,r)}else wi=Object(ae.a)(n,r);return wi.drawImage(i,0,0,n,r),wi.getImageData(0,0,n,r)}function Ii(e){var t;return e instanceof ci.a?e instanceof ko.b?t=new ui.a({source:e}):e instanceof Fr.b&&(t=new li.a({source:e})):t=e,t}var Oi=Ci,Si=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),xi=['Map tiles by <a href="https://stamen.com/" target="_blank">Stamen Design</a>, under <a href="https://creativecommons.org/licenses/by/3.0/" target="_blank">CC BY 3.0</a>.',si.a],ji={terrain:{extension:"jpg",opaque:!0},"terrain-background":{extension:"jpg",opaque:!0},"terrain-labels":{extension:"png",opaque:!1},"terrain-lines":{extension:"png",opaque:!1},"toner-background":{extension:"png",opaque:!0},toner:{extension:"png",opaque:!0},"toner-hybrid":{extension:"png",opaque:!1},"toner-labels":{extension:"png",opaque:!1},"toner-lines":{extension:"png",opaque:!1},"toner-lite":{extension:"png",opaque:!0},watercolor:{extension:"jpg",opaque:!0}},Pi={terrain:{minZoom:0,maxZoom:18},toner:{minZoom:0,maxZoom:20},watercolor:{minZoom:0,maxZoom:18}},Ti=function(e){function t(t){var o=t.layer.indexOf("-"),n=-1==o?t.layer:t.layer.slice(0,o),r=Pi[n],i=ji[t.layer],a=void 0!==t.url?t.url:"https://stamen-tiles-{a-d}.a.ssl.fastly.net/"+t.layer+"/{z}/{x}/{y}."+i.extension;return e.call(this,{attributions:xi,cacheSize:t.cacheSize,crossOrigin:"anonymous",imageSmoothing:t.imageSmoothing,maxZoom:null!=t.maxZoom?t.maxZoom:r.maxZoom,minZoom:null!=t.minZoom?t.minZoom:r.minZoom,opaque:i.opaque,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,transition:t.transition,url:a,wrapX:t.wrapX,zDirection:t.zDirection})||this}return Si(t,e),t}(Oo.a),Mi=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ri=function(e){function t(t){var o=this,n=t||{};return(o=e.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,crossOrigin:n.crossOrigin,imageSmoothing:n.imageSmoothing,projection:n.projection,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileGrid:n.tileGrid,tileLoadFunction:n.tileLoadFunction,url:n.url,urls:n.urls,wrapX:void 0===n.wrapX||n.wrapX,transition:n.transition,zDirection:n.zDirection})||this).params_=n.params||{},o.hidpi_=void 0===n.hidpi||n.hidpi,o.tmpExtent_=Object(ce.k)(),o.setKey(o.getKeyForParams_()),o}return Mi(t,e),t.prototype.getKeyForParams_=function(){var e=0,t=[];for(var o in this.params_)t[e++]=o+"-"+this.params_[o];return t.join("/")},t.prototype.getParams=function(){return this.params_},t.prototype.getRequestUrl_=function(e,t,o,n,r,i){var a=this.urls;if(a){var s,l=r.getCode().split(/:(?=\d+$)/).pop();if(i.SIZE=t[0]+","+t[1],i.BBOX=o.join(","),i.BBOXSR=l,i.IMAGESR=l,i.DPI=Math.round(i.DPI?i.DPI*n:90*n),1==a.length)s=a[0];else s=a[Object(v.e)(Object(Ee.f)(e),a.length)];var c=s.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage");return Object(xe.a)(c,i)}},t.prototype.getTilePixelRatio=function(e){return this.hidpi_?e:1},t.prototype.updateParams=function(e){Object(me.a)(this.params_,e),this.setKey(this.getKeyForParams_())},t.prototype.tileUrlFunction=function(e,t,o){var n=this.getTileGrid();if(n||(n=this.getTileGridForProjection(o)),!(n.getResolutions().length<=e[0])){1==t||this.hidpi_||(t=1);var r=n.getTileCoordExtent(e,this.tmpExtent_),i=Object(Ae.d)(n.getTileSize(e[0]),this.tmpSize);1!=t&&(i=Object(Ae.c)(i,t,this.tmpSize));var a={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};return Object(me.a)(a,this.params_),this.getRequestUrl_(e,i,r,t,o,a)}},t}(Co.a),Li=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ki=function(e){function t(t){var o=this,n=t||{};return o=e.call(this,{opaque:!1,projection:n.projection,tileGrid:n.tileGrid,wrapX:void 0===n.wrapX||n.wrapX,zDirection:n.zDirection,url:n.template||"z:{z} x:{x} y:{y}",tileLoadFunction:function(e,t){var n=e.getTileCoord()[0],r=Object(Ae.d)(o.tileGrid.getTileSize(n)),i=Object(ae.a)(r[0],r[1]);i.strokeStyle="grey",i.strokeRect(.5,.5,r[0]+.5,r[1]+.5),i.fillStyle="grey",i.strokeStyle="white",i.textAlign="center",i.textBaseline="middle",i.font="24px sans-serif",i.lineWidth=4,i.strokeText(t,r[0]/2,r[1]/2,r[0]),i.fillText(t,r[0]/2,r[1]/2,r[0]),e.setImage(i.canvas)}})||this}return Li(t,e),t}(Oo.a),Gi=o("./node_modules/ol/source/TileJSON.js"),Di=o("./node_modules/ol/source/TileWMS.js"),Ni=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Fi=function(e){function t(t,o,n,r,i,a){var s=e.call(this,t,o)||this;return s.src_=n,s.extent_=r,s.preemptive_=i,s.grid_=null,s.keys_=null,s.data_=null,s.jsonp_=a,s}return Ni(t,e),t.prototype.getImage=function(){return null},t.prototype.getData=function(e){if(!this.grid_||!this.keys_)return null;var t=(e[0]-this.extent_[0])/(this.extent_[2]-this.extent_[0]),o=(e[1]-this.extent_[1])/(this.extent_[3]-this.extent_[1]),n=this.grid_[Math.floor((1-o)*this.grid_.length)];if("string"!=typeof n)return null;var r=n.charCodeAt(Math.floor(t*n.length));r>=93&&r--,r>=35&&r--;var i=null;if((r-=32)in this.keys_){var a=this.keys_[r];i=this.data_&&a in this.data_?this.data_[a]:a}return i},t.prototype.forDataAtCoordinate=function(e,t,o){this.state==l.a.EMPTY&&!0===o?(this.state=l.a.IDLE,Object(le.b)(this,g.a.CHANGE,(function(o){t(this.getData(e))}),this),this.loadInternal_()):!0===o?setTimeout(function(){t(this.getData(e))}.bind(this),0):t(this.getData(e))},t.prototype.getKey=function(){return this.src_},t.prototype.handleError_=function(){this.state=l.a.ERROR,this.changed()},t.prototype.handleLoad_=function(e){this.grid_=e.grid,this.keys_=e.keys,this.data_=e.data,this.state=l.a.LOADED,this.changed()},t.prototype.loadInternal_=function(){if(this.state==l.a.IDLE)if(this.state=l.a.LOADING,this.jsonp_)Object(ge.d)(this.src_,this.handleLoad_.bind(this),this.handleError_.bind(this));else{var e=new XMLHttpRequest;e.addEventListener("load",this.onXHRLoad_.bind(this)),e.addEventListener("error",this.onXHRError_.bind(this)),e.open("GET",this.src_),e.send()}},t.prototype.onXHRLoad_=function(e){var t=e.target;if(!t.status||t.status>=200&&t.status<300){var o=void 0;try{o=JSON.parse(t.responseText)}catch(e){return void this.handleError_()}this.handleLoad_(o)}else this.handleError_()},t.prototype.onXHRError_=function(e){this.handleError_()},t.prototype.load=function(){this.preemptive_?this.loadInternal_():this.setState(l.a.EMPTY)},t}(s.a),Ui=function(e){function t(t){var o=e.call(this,{projection:Object(y.t)("EPSG:3857"),state:tt.a.LOADING,zDirection:t.zDirection})||this;if(o.preemptive_=void 0===t.preemptive||t.preemptive,o.tileUrlFunction_=Oe.e,o.template_=void 0,o.jsonp_=t.jsonp||!1,t.url)if(o.jsonp_)Object(ge.d)(t.url,o.handleTileJSONResponse.bind(o),o.handleTileJSONError.bind(o));else{var n=new XMLHttpRequest;n.addEventListener("load",o.onXHRLoad_.bind(o)),n.addEventListener("error",o.onXHRError_.bind(o)),n.open("GET",t.url),n.send()}else t.tileJSON?o.handleTileJSONResponse(t.tileJSON):Object($.a)(!1,51);return o}return Ni(t,e),t.prototype.onXHRLoad_=function(e){var t=e.target;if(!t.status||t.status>=200&&t.status<300){var o=void 0;try{o=JSON.parse(t.responseText)}catch(e){return void this.handleTileJSONError()}this.handleTileJSONResponse(o)}else this.handleTileJSONError()},t.prototype.onXHRError_=function(e){this.handleTileJSONError()},t.prototype.getTemplate=function(){return this.template_},t.prototype.forDataAtCoordinateAndResolution=function(e,t,o,n){if(this.tileGrid){var r=this.tileGrid.getZForResolution(t,this.zDirection),i=this.tileGrid.getTileCoordForCoordAndZ(e,r);this.getTile(i[0],i[1],i[2],1,this.getProjection()).forDataAtCoordinate(e,o,n)}else!0===n?setTimeout((function(){o(null)}),0):o(null)},t.prototype.handleTileJSONError=function(){this.setState(tt.a.ERROR)},t.prototype.handleTileJSONResponse=function(e){var t,o=Object(y.t)("EPSG:4326"),n=this.getProjection();if(void 0!==e.bounds){var r=Object(y.w)(o,n);t=Object(ce.a)(e.bounds,r)}var i=Object(Ie.d)(n),a=e.minzoom||0,s=e.maxzoom||22,l=Object(Ie.c)({extent:i,maxZoom:s,minZoom:a});this.tileGrid=l,this.template_=e.template;var c=e.grids;if(c){if(this.tileUrlFunction_=Object(Oe.b)(c,l),void 0!==e.attribution){var u=void 0!==t?t:i;this.setAttributions((function(t){return Object(ce.O)(u,t.extent)?[e.attribution]:null}))}this.setState(tt.a.READY)}else this.setState(tt.a.ERROR)},t.prototype.getTile=function(e,t,o,n,r){var i=Object(Ee.e)(e,t,o);if(this.tileCache.containsKey(i))return this.tileCache.get(i);var a=[e,t,o],s=this.getTileCoordForTileUrlFunction(a,r),c=this.tileUrlFunction_(s,n,r),u=new Fi(a,void 0!==c?l.a.IDLE:l.a.EMPTY,void 0!==c?c:"",this.tileGrid.getTileCoordExtent(a),this.preemptive_,this.jsonp_);return this.tileCache.set(i,u),u},t.prototype.useTile=function(e,t,o){var n=Object(Ee.e)(e,t,o);this.tileCache.containsKey(n)&&this.tileCache.get(n)},t}(ko.b),Bi=o("./node_modules/ol/source/UrlTile.js"),zi=o("./node_modules/ol/source/WMTS.js"),Vi=o("./node_modules/ol/source/common.js"),Wi=o("./node_modules/ol/reproj/Image.js"),qi=o("./node_modules/ol/reproj/Tile.js"),Yi=o("./node_modules/ol/reproj/Triangulation.js"),Hi=o("./node_modules/ol/reproj/common.js"),Xi=o("./node_modules/ol/renderer/Composite.js"),Zi=o("./node_modules/ol/renderer/Map.js"),Ki=o("./node_modules/ol/renderer/vector.js"),Ji=o("./node_modules/ol/layer/BaseVector.js"),Qi=o("./node_modules/ol/source/VectorEventType.js"),$i=o("./node_modules/ol/ViewHint.js"),ea=new Blob(['var e="function"==typeof Object.assign?Object.assign:function(e,n){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1,o=arguments.length;r<o;++r){var i=arguments[r];if(null!=i)for(var f in i)i.hasOwnProperty(f)&&(t[f]=i[f])}return t},n="GENERATE_BUFFERS",t=[],r={vertexPosition:0,indexPosition:0};function o(e,n,t,r,o){e[n+0]=t,e[n+1]=r,e[n+2]=o}function i(e,n,i,f,s,u){var a=3+s,l=e[n+0],v=e[n+1],c=t;c.length=s;for(var g=0;g<c.length;g++)c[g]=e[n+2+g];var b=u?u.vertexPosition:0,h=u?u.indexPosition:0,d=b/a;return o(i,b,l,v,0),c.length&&i.set(c,b+3),o(i,b+=a,l,v,1),c.length&&i.set(c,b+3),o(i,b+=a,l,v,2),c.length&&i.set(c,b+3),o(i,b+=a,l,v,3),c.length&&i.set(c,b+3),b+=a,f[h++]=d,f[h++]=d+1,f[h++]=d+3,f[h++]=d+1,f[h++]=d+2,f[h++]=d+3,r.vertexPosition=b,r.indexPosition=h,r}var f=self;f.onmessage=function(t){var r=t.data;if(r.type===n){for(var o=r.customAttributesCount,s=2+o,u=new Float32Array(r.renderInstructions),a=u.length/s,l=4*a*(o+3),v=new Uint32Array(6*a),c=new Float32Array(l),g=null,b=0;b<u.length;b+=s)g=i(u,b,c,v,o,g);var h=e({vertexBuffer:c.buffer,indexBuffer:v.buffer,renderInstructions:u.buffer},r);f.postMessage(h,[c.buffer,v.buffer,u.buffer])}};'],{type:"application/javascript"}),ta=URL.createObjectURL(ea);var oa=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),na=function(e){function t(t,o){var n=this,r=o.uniforms||{},i=Object(Se.d)();r[ze]=i,(n=e.call(this,t,{className:o.className,uniforms:r,postProcesses:o.postProcesses})||this).sourceRevision_=-1,n.verticesBuffer_=new ke(34962,35048),n.hitVerticesBuffer_=new ke(34962,35048),n.indicesBuffer_=new ke(34963,35048),n.program_=n.helper.getProgram(o.fragmentShader,o.vertexShader),n.hitDetectionEnabled_=!(!o.hitFragmentShader||!o.hitVertexShader),n.hitProgram_=n.hitDetectionEnabled_&&n.helper.getProgram(o.hitFragmentShader,o.hitVertexShader);var a=o.attributes?o.attributes.map((function(e){return{name:"a_"+e.name,size:1,type:Xe.FLOAT}})):[];n.attributes=[{name:"a_position",size:2,type:Xe.FLOAT},{name:"a_index",size:1,type:Xe.FLOAT}].concat(a),n.hitDetectionAttributes=[{name:"a_position",size:2,type:Xe.FLOAT},{name:"a_index",size:1,type:Xe.FLOAT},{name:"a_hitColor",size:4,type:Xe.FLOAT},{name:"a_featureUid",size:1,type:Xe.FLOAT}].concat(a),n.customAttributes=o.attributes?o.attributes:[],n.previousExtent_=Object(ce.k)(),n.currentTransform_=i,n.renderTransform_=Object(Se.d)(),n.invertRenderTransform_=Object(Se.d)(),n.renderInstructions_=new Float32Array(0),n.hitRenderInstructions_=new Float32Array(0),n.hitRenderTarget_=n.hitDetectionEnabled_&&new $e(n.helper),n.worker_=new Worker(ta),n.worker_.addEventListener("message",function(e){var t=e.data;if(t.type===dt){var o=t.projectionTransform;t.hitDetection?(this.hitVerticesBuffer_.fromArrayBuffer(t.vertexBuffer),this.helper.flushBufferData(this.hitVerticesBuffer_)):(this.verticesBuffer_.fromArrayBuffer(t.vertexBuffer),this.helper.flushBufferData(this.verticesBuffer_)),this.indicesBuffer_.fromArrayBuffer(t.indexBuffer),this.helper.flushBufferData(this.indicesBuffer_),this.renderTransform_=o,Object(Se.g)(this.invertRenderTransform_,this.renderTransform_),t.hitDetection?this.hitRenderInstructions_=new Float32Array(e.data.renderInstructions):this.renderInstructions_=new Float32Array(e.data.renderInstructions),this.getLayer().changed()}}.bind(n)),n.featureCache_={},n.featureCount_=0;var s=n.getLayer().getSource();return n.sourceListenKeys_=[Object(le.a)(s,Qi.a.ADDFEATURE,n.handleSourceFeatureAdded_,n),Object(le.a)(s,Qi.a.CHANGEFEATURE,n.handleSourceFeatureChanged_,n),Object(le.a)(s,Qi.a.REMOVEFEATURE,n.handleSourceFeatureDelete_,n),Object(le.a)(s,Qi.a.CLEAR,n.handleSourceFeatureClear_,n)],s.forEachFeature(function(e){this.featureCache_[Object(je.c)(e)]={feature:e,properties:e.getProperties(),geometry:e.getGeometry()},this.featureCount_++}.bind(n)),n}return oa(t,e),t.prototype.handleSourceFeatureAdded_=function(e){var t=e.feature;this.featureCache_[Object(je.c)(t)]={feature:t,properties:t.getProperties(),geometry:t.getGeometry()},this.featureCount_++},t.prototype.handleSourceFeatureChanged_=function(e){var t=e.feature;this.featureCache_[Object(je.c)(t)]={feature:t,properties:t.getProperties(),geometry:t.getGeometry()}},t.prototype.handleSourceFeatureDelete_=function(e){var t=e.feature;delete this.featureCache_[Object(je.c)(t)],this.featureCount_--},t.prototype.handleSourceFeatureClear_=function(){this.featureCache_={},this.featureCount_=0},t.prototype.renderFrame=function(e){this.preRender(e);var t=this.indicesBuffer_.getSize();this.helper.drawElements(0,t),this.helper.finalizeDraw(e);var o=this.helper.getCanvas(),n=e.layerStatesArray[e.layerIndex].opacity;return n!==parseFloat(o.style.opacity)&&(o.style.opacity=String(n)),this.hitDetectionEnabled_&&(this.renderHitDetection(e),this.hitRenderTarget_.clearCachedData()),this.postRender(e),o},t.prototype.prepareFrame=function(e){var t=this.getLayer(),o=t.getSource(),n=e.viewState,r=!e.viewHints[$i.a.ANIMATING]&&!e.viewHints[$i.a.INTERACTING],i=!Object(ce.r)(this.previousExtent_,e.extent),a=this.sourceRevision_<o.getRevision();if(a&&(this.sourceRevision_=o.getRevision()),r&&(i||a)){var s=n.projection,l=n.resolution,c=t instanceof Ji.a?t.getRenderBuffer():0,u=Object(ce.d)(e.extent,c*l);o.loadFeatures(u,l,s),this.rebuildBuffers_(e),this.previousExtent_=e.extent.slice()}return this.helper.makeProjectionTransform(e,this.currentTransform_),Object(Se.i)(this.currentTransform_,this.invertRenderTransform_),this.helper.useProgram(this.program_),this.helper.prepareDraw(e),this.helper.bindBuffer(this.verticesBuffer_),this.helper.bindBuffer(this.indicesBuffer_),this.helper.enableAttributes(this.attributes),!0},t.prototype.rebuildBuffers_=function(e){var t=Object(Se.d)();this.helper.makeProjectionTransform(e,t);var o,n,r=(2+this.customAttributes.length)*this.featureCount_;if(this.renderInstructions_&&this.renderInstructions_.length===r||(this.renderInstructions_=new Float32Array(r)),this.hitDetectionEnabled_){var i=(7+this.customAttributes.length)*this.featureCount_;this.hitRenderInstructions_&&this.hitRenderInstructions_.length===i||(this.hitRenderInstructions_=new Float32Array(i))}var a,s=[],l=[],c=0,u=0;for(var d in this.featureCache_)if((n=(o=this.featureCache_[d]).geometry)&&n.getType()===jo.a.POINT){s[0]=n.getFlatCoordinates()[0],s[1]=n.getFlatCoordinates()[1],Object(Se.a)(t,s),a=mt(u+6,l),this.renderInstructions_[c++]=s[0],this.renderInstructions_[c++]=s[1],this.hitDetectionEnabled_&&(this.hitRenderInstructions_[u++]=s[0],this.hitRenderInstructions_[u++]=s[1],this.hitRenderInstructions_[u++]=a[0],this.hitRenderInstructions_[u++]=a[1],this.hitRenderInstructions_[u++]=a[2],this.hitRenderInstructions_[u++]=a[3],this.hitRenderInstructions_[u++]=Number(d));for(var h=void 0,p=0;p<this.customAttributes.length;p++)h=this.customAttributes[p].callback(o.feature,o.properties),this.renderInstructions_[c++]=h,this.hitDetectionEnabled_&&(this.hitRenderInstructions_[u++]=h)}var f={type:dt,renderInstructions:this.renderInstructions_.buffer,customAttributesCount:this.customAttributes.length};if(f.projectionTransform=t,this.worker_.postMessage(f,[this.renderInstructions_.buffer]),this.renderInstructions_=null,this.hitDetectionEnabled_){var g={type:dt,renderInstructions:this.hitRenderInstructions_.buffer,customAttributesCount:5+this.customAttributes.length};g.projectionTransform=t,g.hitDetection=!0,this.worker_.postMessage(g,[this.hitRenderInstructions_.buffer]),this.hitRenderInstructions_=null}},t.prototype.forEachFeatureAtCoordinate=function(e,t,o,n,r){if(Object($.a)(this.hitDetectionEnabled_,66),this.hitRenderInstructions_){var i=Object(Se.a)(t.coordinateToPixelTransform,e.slice()),a=this.hitRenderTarget_.readPixel(i[0]/2,i[1]/2),s=yt([a[0]/255,a[1]/255,a[2]/255,a[3]/255]),l=this.hitRenderInstructions_[s],c=Math.floor(l).toString(),u=this.getLayer().getSource().getFeatureByUid(c);return u?n(u,this.getLayer(),null):void 0}},t.prototype.renderHitDetection=function(e){if(this.hitVerticesBuffer_.getSize()){this.hitRenderTarget_.setSize([Math.floor(e.size[0]/2),Math.floor(e.size[1]/2)]),this.helper.useProgram(this.hitProgram_),this.helper.prepareDrawToRenderTarget(e,this.hitRenderTarget_,!0),this.helper.bindBuffer(this.hitVerticesBuffer_),this.helper.bindBuffer(this.indicesBuffer_),this.helper.enableAttributes(this.hitDetectionAttributes);var t=this.indicesBuffer_.getSize();this.helper.drawElements(0,t)}},t.prototype.disposeInternal=function(){this.worker_.terminate(),this.layer_=null,this.sourceListenKeys_.forEach((function(e){Object(le.c)(e)})),this.sourceListenKeys_=null,e.prototype.disposeInternal.call(this)},t}(vt),ra=o("./node_modules/ol/renderer/canvas/ImageLayer.js"),ia=o("./node_modules/ol/renderer/canvas/Layer.js"),aa=o("./node_modules/ol/renderer/canvas/TileLayer.js"),sa=o("./node_modules/ol/renderer/canvas/VectorLayer.js"),la=o("./node_modules/rbush/rbush.min.js"),ca=o.n(la),ua=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),da=function(e){function t(t){var o=e.call(this,t)||this;return o.vectorRenderer_=new sa.a(t),o.layerImageRatio_=t.getImageRatio(),o.coordinateToVectorPixelTransform_=Object(Se.d)(),o.renderedPixelToCoordinateTransform_=null,o}return ua(t,e),t.prototype.disposeInternal=function(){this.vectorRenderer_.dispose(),e.prototype.disposeInternal.call(this)},t.prototype.getFeatures=function(e){if(!this.vectorRenderer_)return new Promise((function(e){return e([])}));var t=Object(Se.a)(this.coordinateToVectorPixelTransform_,Object(Se.a)(this.renderedPixelToCoordinateTransform_,e.slice()));return this.vectorRenderer_.getFeatures(t)},t.prototype.handleFontsChanged=function(){this.vectorRenderer_.handleFontsChanged()},t.prototype.prepareFrame=function(e){var t=e.pixelRatio,o=e.viewState,n=o.resolution,r=e.viewHints,i=this.vectorRenderer_,a=e.extent;1!==this.layerImageRatio_&&(a=a.slice(0),Object(ce.S)(a,this.layerImageRatio_));var s=Object(ce.N)(a)/n,l=Object(ce.G)(a)/n;if(!r[$i.a.ANIMATING]&&!r[$i.a.INTERACTING]&&!Object(ce.Q)(a)){i.useContainer(null,null,1);var c=i.context,u=Object(me.a)({},e,{declutterTree:new ca.a(9),extent:a,size:[s,l],viewState:Object(me.a)({},e.viewState,{rotation:0})}),d=!0,h=new G(a,n,t,c.canvas,(function(e){i.prepareFrame(u)&&i.replayGroupChanged&&(i.clipping=!1,i.renderFrame(u,null)&&(i.renderDeclutter(u),d=!1),e())}));h.addEventListener(g.a.CHANGE,function(){if(h.getState()===L.a.LOADED){this.image_=d?null:h;var e=h.getResolution(),n=h.getPixelRatio(),r=e*t/n;this.renderedResolution=r,this.coordinateToVectorPixelTransform_=Object(Se.b)(this.coordinateToVectorPixelTransform_,s/2,l/2,1/r,-1/r,0,-o.center[0],-o.center[1])}}.bind(this)),h.load()}return this.image_&&(this.renderedPixelToCoordinateTransform_=e.pixelToCoordinateTransform.slice()),!!this.image_},t.prototype.preRender=function(){},t.prototype.postRender=function(){},t.prototype.renderDeclutter=function(){},t.prototype.forEachFeatureAtCoordinate=function(t,o,n,r,i){return this.vectorRenderer_?this.vectorRenderer_.forEachFeatureAtCoordinate(t,o,n,r,i):e.prototype.forEachFeatureAtCoordinate.call(this,t,o,n,r,i)},t}(ra.a),ha=o("./node_modules/ol/renderer/canvas/VectorTileLayer.js"),pa=o("./node_modules/ol/render/Box.js"),fa=o("./node_modules/ol/render/Feature.js"),ga=o("./node_modules/ol/render/VectorContext.js"),ma=o("./node_modules/ol/render/canvas.js"),ya=o("./node_modules/ol/render/canvas/Builder.js"),va=o("./node_modules/ol/render/canvas/BuilderGroup.js"),_a=o("./node_modules/ol/render/canvas/Executor.js"),ba=o("./node_modules/ol/render/canvas/ExecutorGroup.js"),Aa=o("./node_modules/ol/render/canvas/ImageBuilder.js"),Ca=o("./node_modules/ol/render/canvas/Immediate.js"),wa=o("./node_modules/ol/render/canvas/Instruction.js"),Ea=o("./node_modules/ol/render/canvas/LineStringBuilder.js"),Ia=o("./node_modules/ol/render/canvas/PolygonBuilder.js"),Oa=o("./node_modules/ol/render/canvas/TextBuilder.js"),Sa=o("./node_modules/ol/render/canvas/hitdetect.js"),xa=o("./node_modules/ol/proj/Projection.js"),ja=o("./node_modules/ol/proj/epsg3857.js"),Pa=o("./node_modules/ol/proj/epsg4326.js"),Ta=o("./node_modules/ol/proj/transforms.js");var Ma=o("./node_modules/ol/proj/projections.js"),Ra=o("./node_modules/ol/layer/Base.js"),La=o("./node_modules/ol/layer/BaseImage.js"),ka=o("./node_modules/ol/layer/BaseTile.js"),Ga=o("./node_modules/ol/layer/Graticule.js"),Da=o("./node_modules/ol/layer/Group.js"),Na=o("./node_modules/ol/layer/Vector.js"),Fa=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ua="blur",Ba="gradient",za="radius",Va=["#00f","#0ff","#0f0","#ff0","#f00"];var Wa=function(e){function t(t){var o=this,n=t||{},r=Object(me.a)({},n);delete r.gradient,delete r.radius,delete r.blur,delete r.weight,(o=e.call(this,r)||this).gradient_=null,o.addChangeListener(Ba,o.handleGradientChanged_),o.setGradient(n.gradient?n.gradient:Va),o.setBlur(void 0!==n.blur?n.blur:15),o.setRadius(void 0!==n.radius?n.radius:8);var i=n.weight?n.weight:"weight";return o.weightFunction_="string"==typeof i?function(e){return e.get(i)}:i,o.setRenderOrder(null),o}return Fa(t,e),t.prototype.getBlur=function(){return this.get(Ua)},t.prototype.getGradient=function(){return this.get(Ba)},t.prototype.getRadius=function(){return this.get(za)},t.prototype.handleGradientChanged_=function(){this.gradient_=function(e){for(var t=Object(ae.a)(1,256),o=t.createLinearGradient(0,0,1,256),n=1/(e.length-1),r=0,i=e.length;r<i;++r)o.addColorStop(r*n,e[r]);return t.fillStyle=o,t.fillRect(0,0,1,256),t.canvas}(this.getGradient())},t.prototype.setBlur=function(e){this.set(Ua,e)},t.prototype.setGradient=function(e){this.set(Ba,e)},t.prototype.setRadius=function(e){this.set(za,e)},t.prototype.createRenderer=function(){return new na(this,{className:this.getClassName(),attributes:[{name:"weight",callback:function(e){var t=this.weightFunction_(e);return void 0!==t?Object(v.a)(t,0,1):1}.bind(this)}],vertexShader:"\n        precision mediump float;\n        uniform mat4 u_projectionMatrix;\n        uniform mat4 u_offsetScaleMatrix;\n        uniform float u_size;\n        attribute vec2 a_position;\n        attribute float a_index;\n        attribute float a_weight;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n\n        void main(void) {\n          mat4 offsetMatrix = u_offsetScaleMatrix;\n          float offsetX = a_index == 0.0 || a_index == 3.0 ? -u_size / 2.0 : u_size / 2.0;\n          float offsetY = a_index == 0.0 || a_index == 1.0 ? -u_size / 2.0 : u_size / 2.0;\n          vec4 offsets = offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);\n          gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n          float u = a_index == 0.0 || a_index == 3.0 ? 0.0 : 1.0;\n          float v = a_index == 0.0 || a_index == 1.0 ? 0.0 : 1.0;\n          v_texCoord = vec2(u, v);\n          v_weight = a_weight;\n        }",fragmentShader:"\n        precision mediump float;\n        uniform float u_blurSlope;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n\n        void main(void) {\n          vec2 texCoord = v_texCoord * 2.0 - vec2(1.0, 1.0);\n          float sqRadius = texCoord.x * texCoord.x + texCoord.y * texCoord.y;\n          float value = (1.0 - sqrt(sqRadius)) * u_blurSlope;\n          float alpha = smoothstep(0.0, 1.0, value) * v_weight;\n          gl_FragColor = vec4(alpha, alpha, alpha, alpha);\n        }",hitVertexShader:"\n        precision mediump float;\n        uniform mat4 u_projectionMatrix;\n        uniform mat4 u_offsetScaleMatrix;\n        uniform float u_size;\n        attribute vec2 a_position;\n        attribute float a_index;\n        attribute float a_weight;\n        attribute vec4 a_hitColor;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n        varying vec4 v_hitColor;\n\n        void main(void) {\n          mat4 offsetMatrix = u_offsetScaleMatrix;\n          float offsetX = a_index == 0.0 || a_index == 3.0 ? -u_size / 2.0 : u_size / 2.0;\n          float offsetY = a_index == 0.0 || a_index == 1.0 ? -u_size / 2.0 : u_size / 2.0;\n          vec4 offsets = offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);\n          gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n          float u = a_index == 0.0 || a_index == 3.0 ? 0.0 : 1.0;\n          float v = a_index == 0.0 || a_index == 1.0 ? 0.0 : 1.0;\n          v_texCoord = vec2(u, v);\n          v_hitColor = a_hitColor;\n          v_weight = a_weight;\n        }",hitFragmentShader:"\n        precision mediump float;\n        uniform float u_blurSlope;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n        varying vec4 v_hitColor;\n\n        void main(void) {\n          vec2 texCoord = v_texCoord * 2.0 - vec2(1.0, 1.0);\n          float sqRadius = texCoord.x * texCoord.x + texCoord.y * texCoord.y;\n          float value = (1.0 - sqrt(sqRadius)) * u_blurSlope;\n          float alpha = smoothstep(0.0, 1.0, value) * v_weight;\n          if (alpha < 0.05) {\n            discard;\n          }\n\n          gl_FragColor = v_hitColor;\n        }",uniforms:{u_size:function(){return 2*(this.get(za)+this.get(Ua))}.bind(this),u_blurSlope:function(){return this.get(za)/Math.max(1,this.get(Ua))}.bind(this)},postProcesses:[{fragmentShader:"\n            precision mediump float;\n\n            uniform sampler2D u_image;\n            uniform sampler2D u_gradientTexture;\n\n            varying vec2 v_texCoord;\n\n            void main() {\n              vec4 color = texture2D(u_image, v_texCoord);\n              gl_FragColor.a = color.a;\n              gl_FragColor.rgb = texture2D(u_gradientTexture, vec2(0.5, color.a)).rgb;\n              gl_FragColor.rgb *= gl_FragColor.a;\n            }",uniforms:{u_gradientTexture:function(){return this.gradient_}.bind(this)}}]})},t.prototype.renderDeclutter=function(){},t}(Na.a),qa=o("./node_modules/ol/layer/Layer.js"),Ya=o("./node_modules/ol/format/MVT.js"),Ha=o("./node_modules/ol/layer/VectorTile.js"),Xa=o("./node_modules/ol-mapbox-style/dist/index.js"),Za=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();function Ka(e){return 0!==e.indexOf("mapbox://")?"":e.slice("mapbox://".length)}function Ja(e,t){var o=Ka(e);if(!o)return e;if(0!==o.indexOf("sprites/"))throw new Error("unexpected sprites url: "+e);return"https://api.mapbox.com/styles/v1/"+o.slice("sprites/".length)+"/sprite?access_token="+t}function Qa(e,t){var o=Ka(e);if(!o)return e;if(0!==o.indexOf("fonts/"))throw new Error("unexpected fonts url: "+e);return"https://api.mapbox.com/fonts/v1/"+o.slice("fonts/".length)+"/0-255.pbf?access_token="+t}function $a(e,t){var o=Ka(e);if(!o)return e;if(0!==o.indexOf("styles/"))throw new Error("unexpected style url: "+e);return"https://api.mapbox.com/styles/v1/"+o.slice("styles/".length)+"?&access_token="+t}function es(e,t){var o=Ka(e);return o?"https://{a-d}.tiles.mapbox.com/v4/"+o+"/{z}/{x}/{y}.vector.pbf?access_token="+t:e}var ts=function(e){function t(t){var o=e.call(this,g.a.ERROR)||this;return o.error=t,o}return Za(t,e),t}(p.a),os="vector",ns=function(e){function t(t){var o=this,n=!("declutter"in t)||t.declutter,r=new ri.a({state:tt.a.LOADING,format:new Ya.a});return(o=e.call(this,{source:r,declutter:n,className:t.className,opacity:t.opacity,visible:t.visible,zIndex:t.zIndex,minResolution:t.minResolution,maxResolution:t.maxResolution,minZoom:t.minZoom,maxZoom:t.maxZoom,renderOrder:t.renderOrder,renderBuffer:t.renderBuffer,renderMode:t.renderMode,map:t.map,updateWhileAnimating:t.updateWhileAnimating,updateWhileInteracting:t.updateWhileInteracting,preload:t.preload,useInterimTilesOnError:t.useInterimTilesOnError,properties:t.properties})||this).sourceId=t.source,o.layers=t.layers,o.accessToken=t.accessToken,o.fetchStyle(t.styleUrl),o}return Za(t,e),t.prototype.fetchStyle=function(e){var t=this,o=$a(e,this.accessToken);fetch(o).then((function(e){if(!e.ok)throw new Error("unexpected response when fetching style: "+e.status);return e.json()})).then((function(e){t.onStyleLoad(e)})).catch((function(e){t.handleError(e)}))},t.prototype.onStyleLoad=function(e){var t,o,n=this;if(this.layers){for(var r={},i=0;i<e.layers.length;++i){var a=e.layers[i];a.source&&(r[a.id]=a.source)}var s=void 0;for(i=0;i<this.layers.length;++i){var l=r[this.layers[i]];if(!l)return void this.handleError(new Error("could not find source for "+this.layers[i]));if(s){if(s!==l)return void this.handleError(new Error("layers can only use a single source, found "+s+" and "+l))}else s=l}t=s,o=this.layers}else t=this.sourceId,o=t;o||(t=Object.keys(e.sources)[0],o=t),e.sprite&&(e.sprite=Ja(e.sprite,this.accessToken)),e.glyphs&&(e.glyphs=Qa(e.glyphs,this.accessToken));var c=e.sources[t];if(c.type===os){var u=this.getSource();c.url.startsWith("mapbox://")||-1!==c.url.indexOf("{z}")?(u.setUrl(es(c.url,this.accessToken)),Object(Xa.a)(this,e,o).then((function(){u.setState(tt.a.READY)})).catch((function(e){n.handleError(e)}))):Object(Xa.b)(c,c.url).then((function(t){Object(Xa.a)(n,e,o).then((function(){n.setSource(t)})).catch((function(e){n.setSource(t),n.handleError(e)}))}))}else this.handleError(new Error("only works for vector sources, found "+c.type))},t.prototype.handleError=function(e){this.dispatchEvent(new ts(e)),this.getSource().setState(tt.a.ERROR)},t}(Ha.a),rs=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),is=function(e){function t(t){var o=this,n=t||{},r=Object(me.a)({},n);return delete r.imageRatio,(o=e.call(this,r)||this).imageRatio_=void 0!==n.imageRatio?n.imageRatio:1,o}return rs(t,e),t.prototype.getImageRatio=function(){return this.imageRatio_},t.prototype.createRenderer=function(){return new da(this)},t}(Ji.a),as=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ss=function(e){function t(t){var o=this,n=Object(me.a)({},t);return(o=e.call(this,n)||this).parseResult_=ro(t.style),o.hitDetectionDisabled_=!!t.disableHitDetection,o}return as(t,e),t.prototype.createRenderer=function(){return new na(this,{className:this.getClassName(),vertexShader:this.parseResult_.builder.getSymbolVertexShader(),fragmentShader:this.parseResult_.builder.getSymbolFragmentShader(),hitVertexShader:!this.hitDetectionDisabled_&&this.parseResult_.builder.getSymbolVertexShader(!0),hitFragmentShader:!this.hitDetectionDisabled_&&this.parseResult_.builder.getSymbolFragmentShader(!0),uniforms:this.parseResult_.uniforms,attributes:this.parseResult_.attributes})},t}(qa.a),ls=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();var cs=function(e){function t(t){var o=this,n=t?Object(me.a)({},t):{},r=n.style||{};delete n.style;var i=n.cacheSize;return delete n.cacheSize,(o=e.call(this,n)||this).style_=r,o.cacheSize_=i,o}return ls(t,e),t.prototype.createRenderer=function(){var e=this.getSource(),t=function(e,t){var o="\n    attribute vec2 "+At.TEXTURE_COORD+";\n    uniform mat4 "+bt.TILE_TRANSFORM+";\n    uniform float "+bt.DEPTH+";\n\n    varying vec2 v_textureCoord;\n\n    void main() {\n      v_textureCoord = "+At.TEXTURE_COORD+";\n      gl_Position = "+bt.TILE_TRANSFORM+" * vec4("+At.TEXTURE_COORD+", "+bt.DEPTH+", 1.0);\n    }\n  ",n={inFragmentShader:!0,variables:[],attributes:[],stringLiteralsMap:{},bandCount:t},r=[];if(void 0!==e.color){var i=Wt(n,e.color,Tt);r.push("color = "+i+";")}if(void 0!==e.contrast){var a=Wt(n,e.contrast,jt);r.push("color.rgb = clamp(("+a+" + 1.0) * color.rgb - ("+a+" / 2.0), vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));")}if(void 0!==e.exposure){var s=Wt(n,e.exposure,jt);r.push("color.rgb = clamp(("+s+" + 1.0) * color.rgb, vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));")}if(void 0!==e.saturation){var l=Wt(n,e.saturation,jt);r.push("\n      float saturation = "+l+" + 1.0;\n      float sr = (1.0 - saturation) * 0.2126;\n      float sg = (1.0 - saturation) * 0.7152;\n      float sb = (1.0 - saturation) * 0.0722;\n      mat3 saturationMatrix = mat3(\n        sr + saturation, sr, sr,\n        sg, sg + saturation, sg,\n        sb, sb, sb + saturation\n      );\n      color.rgb = clamp(saturationMatrix * color.rgb, vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));\n    ")}if(void 0!==e.gamma){var c=Wt(n,e.gamma,jt);r.push("color.rgb = pow(color.rgb, vec3(1.0 / "+c+"));")}if(void 0!==e.brightness){var u=Wt(n,e.brightness,jt);r.push("color.rgb = clamp(color.rgb + "+u+", vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));")}var d={},h=n.variables.length;if(h>1&&!e.variables)throw new Error("Missing variables in style (expected "+n.variables+")");for(var p=function(t){var o=n.variables[t];if(!(o in e.variables))throw new Error("Missing '"+o+"' in style variables");var r=eo(o);d[r]=function(){var t=e.variables[o];return"string"==typeof t&&(t=zt(n,t)),void 0!==t?t:-9999999}},f=0;f<h;++f)p(f);for(var g=Object.keys(d).map((function(e){return"uniform float "+e+";"})),m=Math.ceil(t/4),y=new Array(m),v=0;v<m;++v){var _=bt.TILE_TEXTURE_PREFIX+v;g.push("uniform sampler2D "+_+";"),y[v]="vec4 color"+v+" = texture2D("+_+", v_textureCoord);"}return{vertexShader:o,fragmentShader:"\n    #ifdef GL_FRAGMENT_PRECISION_HIGH\n    precision highp float;\n    #else\n    precision mediump float;\n    #endif\n\n    varying vec2 v_textureCoord;\n    uniform float "+bt.TRANSITION_ALPHA+";\n    uniform float "+bt.TEXTURE_PIXEL_WIDTH+";\n    uniform float "+bt.TEXTURE_PIXEL_HEIGHT+";\n    uniform float "+bt.RESOLUTION+";\n    uniform float "+bt.ZOOM+";\n\n    "+g.join("\n")+"\n\n    void main() {\n      "+y.join("\n")+"\n\n      vec4 color = color0;\n\n      "+r.join("\n")+"\n\n      if (color.a == 0.0) {\n        discard;\n      }\n\n      gl_FragColor = color;\n      gl_FragColor.rgb *= gl_FragColor.a;\n      gl_FragColor *= "+bt.TRANSITION_ALPHA+";\n    }",uniforms:d}}(this.style_,"bandCount"in e?e.bandCount:4);return this.styleVariables_=this.style_.variables||{},new xt(this,{vertexShader:t.vertexShader,fragmentShader:t.fragmentShader,uniforms:t.uniforms,className:this.getClassName(),cacheSize:this.cacheSize_})},t.prototype.updateStyleVariables=function(e){Object(me.a)(this.styleVariables_,e),this.changed()},t}(ka.a);cs.prototype.dispose;var us=cs,ds=o("./node_modules/ol/interaction/DoubleClickZoom.js"),hs=o("./node_modules/ol/interaction/DragAndDrop.js"),ps=o("./node_modules/ol/interaction/DragBox.js"),fs=o("./node_modules/ol/interaction/DragPan.js"),gs=o("./node_modules/ol/interaction/DragRotate.js"),ms=o("./node_modules/ol/interaction/DragRotateAndZoom.js"),ys=o("./node_modules/ol/interaction/DragZoom.js"),vs=o("./node_modules/ol/interaction/Draw.js"),_s=o("./node_modules/ol/interaction/Extent.js"),bs=o("./node_modules/ol/interaction/Interaction.js"),As=o("./node_modules/ol/interaction/KeyboardPan.js"),Cs=o("./node_modules/ol/interaction/KeyboardZoom.js"),ws=o("./node_modules/ol/interaction/Modify.js"),Es=o("./node_modules/ol/interaction/MouseWheelZoom.js"),Is=o("./node_modules/ol/interaction/PinchRotate.js"),Os=o("./node_modules/ol/interaction/PinchZoom.js"),Ss=o("./node_modules/ol/interaction/Pointer.js"),xs=o("./node_modules/ol/interaction/Select.js"),js=o("./node_modules/ol/interaction/Snap.js"),Ps=o("./node_modules/ol/interaction/Translate.js"),Ts=o("./node_modules/ol/geom/Circle.js"),Ms=o("./node_modules/ol/geom/Geometry.js"),Rs=o("./node_modules/ol/geom/GeometryCollection.js"),Ls=o("./node_modules/ol/geom/LineString.js"),ks=o("./node_modules/ol/geom/LinearRing.js"),Gs=o("./node_modules/ol/geom/MultiLineString.js"),Ds=o("./node_modules/ol/geom/MultiPoint.js"),Ns=o("./node_modules/ol/geom/MultiPolygon.js"),Fs=o("./node_modules/ol/geom/SimpleGeometry.js"),Us=o("./node_modules/ol/geom/flat/area.js"),Bs=o("./node_modules/ol/geom/flat/center.js"),zs=o("./node_modules/ol/geom/flat/closest.js"),Vs=o("./node_modules/ol/geom/flat/contains.js"),Ws=o("./node_modules/ol/geom/flat/deflate.js");function qs(e,t,o,n,r,i){var a,s;void 0!==r?(a=r,s=void 0!==i?i:0):(a=[],s=0);for(var l=t;l<o;){var c=e[l++];a[s++]=e[l++],a[s++]=c;for(var u=2;u<n;++u)a[s++]=e[l++]}return a.length=s,a}var Ys=o("./node_modules/ol/geom/flat/geodesic.js"),Hs=o("./node_modules/ol/geom/flat/inflate.js"),Xs=o("./node_modules/ol/geom/flat/interiorpoint.js"),Zs=o("./node_modules/ol/geom/flat/interpolate.js"),Ks=o("./node_modules/ol/geom/flat/intersectsextent.js"),Js=o("./node_modules/ol/geom/flat/length.js"),Qs=o("./node_modules/ol/geom/flat/orient.js"),$s=o("./node_modules/ol/geom/flat/reverse.js"),el=o("./node_modules/ol/geom/flat/segments.js"),tl=o("./node_modules/ol/geom/flat/simplify.js"),ol=o("./node_modules/ol/geom/flat/straightchunk.js"),nl=o("./node_modules/ol/geom/flat/textpath.js");var rl=o("./node_modules/ol/geom/flat/transform.js"),il=o("./node_modules/ol/geom/GeometryLayout.js"),al=o("./node_modules/ol/format/JSONFeature.js"),sl=o("./node_modules/ol/format/Feature.js"),ll=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),cl={};cl[jo.a.POINT]=function(e){var t;t=void 0!==e.m&&void 0!==e.z?new Po.a([e.x,e.y,e.z,e.m],il.a.XYZM):void 0!==e.z?new Po.a([e.x,e.y,e.z],il.a.XYZ):void 0!==e.m?new Po.a([e.x,e.y,e.m],il.a.XYM):new Po.a([e.x,e.y]);return t},cl[jo.a.LINE_STRING]=function(e){var t=hl(e);return new Ls.a(e.paths[0],t)},cl[jo.a.POLYGON]=function(e){var t=hl(e);return new m.b(e.rings,t)},cl[jo.a.MULTI_POINT]=function(e){var t=hl(e);return new Ds.a(e.points,t)},cl[jo.a.MULTI_LINE_STRING]=function(e){var t=hl(e);return new Gs.a(e.paths,t)},cl[jo.a.MULTI_POLYGON]=function(e){var t=hl(e);return new Ns.a(e.rings,t)};var ul={};function dl(e,t){var o,n,r;if(!e)return null;if("number"==typeof e.x&&"number"==typeof e.y)r=jo.a.POINT;else if(e.points)r=jo.a.MULTI_POINT;else if(e.paths){r=1===e.paths.length?jo.a.LINE_STRING:jo.a.MULTI_LINE_STRING}else if(e.rings){var i=e,a=hl(i),s=function(e,t){var o,n,r=[],i=[],a=[];for(o=0,n=e.length;o<n;++o){r.length=0,Object(Ws.b)(r,0,e[o],t.length),Object(Qs.a)(r,0,r.length,t.length)?i.push([e[o]]):a.push(e[o])}for(;a.length;){var s=a.shift(),l=!1;for(o=i.length-1;o>=0;o--){var c=i[o][0];if(Object(ce.h)(new ks.a(c).getExtent(),new ks.a(s).getExtent())){i[o].push(s),l=!0;break}}l||i.push([s.reverse()])}return i}(i.rings,a);1===s.length?(r=jo.a.POLYGON,e=Object(me.a)({},e,((o={}).rings=s[0],o))):(r=jo.a.MULTI_POLYGON,e=Object(me.a)({},e,((n={}).rings=s,n)))}var l=cl[r];return Object(sl.c)(l(e),!1,t)}function hl(e){var t=il.a.XY;return!0===e.hasZ&&!0===e.hasM?t=il.a.XYZM:!0===e.hasZ?t=il.a.XYZ:!0===e.hasM&&(t=il.a.XYM),t}function pl(e){var t=e.getLayout();return{hasZ:t===il.a.XYZ||t===il.a.XYZM,hasM:t===il.a.XYM||t===il.a.XYZM}}function fl(e,t){return(0,ul[e.getType()])(Object(sl.c)(e,!0,t),t)}ul[jo.a.POINT]=function(e,t){var o,n=e.getCoordinates(),r=e.getLayout();r===il.a.XYZ?o={x:n[0],y:n[1],z:n[2]}:r===il.a.XYM?o={x:n[0],y:n[1],m:n[2]}:r===il.a.XYZM?o={x:n[0],y:n[1],z:n[2],m:n[3]}:r===il.a.XY?o={x:n[0],y:n[1]}:Object($.a)(!1,34);return o},ul[jo.a.LINE_STRING]=function(e,t){var o=pl(e);return{hasZ:o.hasZ,hasM:o.hasM,paths:[e.getCoordinates()]}},ul[jo.a.POLYGON]=function(e,t){var o=pl(e);return{hasZ:o.hasZ,hasM:o.hasM,rings:e.getCoordinates(!1)}},ul[jo.a.MULTI_POINT]=function(e,t){var o=pl(e);return{hasZ:o.hasZ,hasM:o.hasM,points:e.getCoordinates()}},ul[jo.a.MULTI_LINE_STRING]=function(e,t){var o=pl(e);return{hasZ:o.hasZ,hasM:o.hasM,paths:e.getCoordinates()}},ul[jo.a.MULTI_POLYGON]=function(e,t){for(var o=pl(e),n=e.getCoordinates(!1),r=[],i=0;i<n.length;i++)for(var a=n[i].length-1;a>=0;a--)r.push(n[i][a]);return{hasZ:o.hasZ,hasM:o.hasM,rings:r}};var gl=function(e){function t(t){var o=this,n=t||{};return(o=e.call(this)||this).geometryName_=n.geometryName,o}return ll(t,e),t.prototype.readFeatureFromObject=function(e,t,o){var n=e,r=dl(n.geometry,t),i=new h.b;if(this.geometryName_&&i.setGeometryName(this.geometryName_),i.setGeometry(r),n.attributes){i.setProperties(n.attributes,!0);var a=n.attributes[o];void 0!==a&&i.setId(a)}return i},t.prototype.readFeaturesFromObject=function(e,t){var o=t||{};if(e.features){for(var n=[],r=e.features,i=0,a=r.length;i<a;++i)n.push(this.readFeatureFromObject(r[i],o,e.objectIdFieldName));return n}return[this.readFeatureFromObject(e,o)]},t.prototype.readGeometryFromObject=function(e,t){return dl(e,t)},t.prototype.readProjectionFromObject=function(e){if(e.spatialReference&&void 0!==e.spatialReference.wkid){var t=e.spatialReference.wkid;return Object(y.t)("EPSG:"+t)}return null},t.prototype.writeGeometryObject=function(e,t){return fl(e,this.adaptOptions(t))},t.prototype.writeFeatureObject=function(e,t){t=this.adaptOptions(t);var o={};if(!e.hasProperties())return o.attributes={},o;var n=e.getProperties(),r=e.getGeometry();if(r){o.geometry=fl(r,t);var i=t&&(t.dataProjection||t.featureProjection);i&&(o.geometry.spatialReference={wkid:Number(Object(y.t)(i).getCode().split(":").pop())}),delete n[e.getGeometryName()]}return Object(me.d)(n)?o.attributes={}:o.attributes=n,o},t.prototype.writeFeaturesObject=function(e,t){t=this.adaptOptions(t);for(var o=[],n=0,r=e.length;n<r;++n)o.push(this.writeFeatureObject(e[n],t));return{features:o}},t}(al.a),ml=o("./node_modules/ol/format/GML3.js"),yl=ml.a;yl.prototype.writeFeatures,yl.prototype.writeFeaturesNode;var vl=yl,_l=o("./node_modules/ol/format/GML2.js"),bl=o("./node_modules/ol/format/GMLBase.js"),Al=o("./node_modules/ol/format/xsd.js"),Cl=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),wl=function(e){function t(t){var o=this,n=t||{};return(o=e.call(this,n)||this).schemaLocation=n.schemaLocation?n.schemaLocation:o.namespace+" http://schemas.opengis.net/gml/3.2.1/gml.xsd",o}return Cl(t,e),t}(ml.a);wl.prototype.namespace="http://www.opengis.net/gml/3.2",wl.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml/3.2":{pos:Object(Me.p)(ml.a.prototype.readFlatPos),posList:Object(Me.p)(ml.a.prototype.readFlatPosList),coordinates:Object(Me.p)(_l.a.prototype.readFlatCoordinates)}},wl.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml/3.2":{interior:ml.a.prototype.interiorParser,exterior:ml.a.prototype.exteriorParser}},wl.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml/3.2":{Point:Object(Me.p)(bl.b.prototype.readPoint),MultiPoint:Object(Me.p)(bl.b.prototype.readMultiPoint),LineString:Object(Me.p)(bl.b.prototype.readLineString),MultiLineString:Object(Me.p)(bl.b.prototype.readMultiLineString),LinearRing:Object(Me.p)(bl.b.prototype.readLinearRing),Polygon:Object(Me.p)(bl.b.prototype.readPolygon),MultiPolygon:Object(Me.p)(bl.b.prototype.readMultiPolygon),Surface:Object(Me.p)(wl.prototype.readSurface),MultiSurface:Object(Me.p)(ml.a.prototype.readMultiSurface),Curve:Object(Me.p)(wl.prototype.readCurve),MultiCurve:Object(Me.p)(ml.a.prototype.readMultiCurve),Envelope:Object(Me.p)(wl.prototype.readEnvelope)}},wl.prototype.MULTICURVE_PARSERS={"http://www.opengis.net/gml/3.2":{curveMember:Object(Me.k)(ml.a.prototype.curveMemberParser),curveMembers:Object(Me.k)(ml.a.prototype.curveMemberParser)}},wl.prototype.MULTISURFACE_PARSERS={"http://www.opengis.net/gml/3.2":{surfaceMember:Object(Me.k)(ml.a.prototype.surfaceMemberParser),surfaceMembers:Object(Me.k)(ml.a.prototype.surfaceMemberParser)}},wl.prototype.CURVEMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{LineString:Object(Me.k)(bl.b.prototype.readLineString),Curve:Object(Me.k)(ml.a.prototype.readCurve)}},wl.prototype.SURFACEMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Polygon:Object(Me.k)(bl.b.prototype.readPolygon),Surface:Object(Me.k)(ml.a.prototype.readSurface)}},wl.prototype.SURFACE_PARSERS={"http://www.opengis.net/gml/3.2":{patches:Object(Me.p)(ml.a.prototype.readPatch)}},wl.prototype.CURVE_PARSERS={"http://www.opengis.net/gml/3.2":{segments:Object(Me.p)(ml.a.prototype.readSegment)}},wl.prototype.ENVELOPE_PARSERS={"http://www.opengis.net/gml/3.2":{lowerCorner:Object(Me.k)(ml.a.prototype.readFlatPosList),upperCorner:Object(Me.k)(ml.a.prototype.readFlatPosList)}},wl.prototype.PATCHES_PARSERS={"http://www.opengis.net/gml/3.2":{PolygonPatch:Object(Me.p)(ml.a.prototype.readPolygonPatch)}},wl.prototype.SEGMENTS_PARSERS={"http://www.opengis.net/gml/3.2":{LineStringSegment:Object(Me.p)(ml.a.prototype.readLineStringSegment)}},wl.prototype.MULTIPOINT_PARSERS={"http://www.opengis.net/gml/3.2":{pointMember:Object(Me.k)(bl.b.prototype.pointMemberParser),pointMembers:Object(Me.k)(bl.b.prototype.pointMemberParser)}},wl.prototype.MULTILINESTRING_PARSERS={"http://www.opengis.net/gml/3.2":{lineStringMember:Object(Me.k)(bl.b.prototype.lineStringMemberParser),lineStringMembers:Object(Me.k)(bl.b.prototype.lineStringMemberParser)}},wl.prototype.MULTIPOLYGON_PARSERS={"http://www.opengis.net/gml/3.2":{polygonMember:Object(Me.k)(bl.b.prototype.polygonMemberParser),polygonMembers:Object(Me.k)(bl.b.prototype.polygonMemberParser)}},wl.prototype.POINTMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Point:Object(Me.k)(bl.b.prototype.readFlatCoordinatesFromNode)}},wl.prototype.LINESTRINGMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{LineString:Object(Me.k)(bl.b.prototype.readLineString)}},wl.prototype.POLYGONMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Polygon:Object(Me.k)(bl.b.prototype.readPolygon)}},wl.prototype.RING_PARSERS={"http://www.opengis.net/gml/3.2":{LinearRing:Object(Me.p)(bl.b.prototype.readFlatLinearRing)}},wl.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml/3.2":{exterior:Object(Me.m)(ml.a.prototype.writeRing),interior:Object(Me.m)(ml.a.prototype.writeRing)}},wl.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml/3.2":{lowerCorner:Object(Me.m)(Al.n),upperCorner:Object(Me.m)(Al.n)}},wl.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{surfaceMember:Object(Me.m)(ml.a.prototype.writeSurfaceOrPolygonMember),polygonMember:Object(Me.m)(ml.a.prototype.writeSurfaceOrPolygonMember)}},wl.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{pointMember:Object(Me.m)(ml.a.prototype.writePointMember)}},wl.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{lineStringMember:Object(Me.m)(ml.a.prototype.writeLineStringOrCurveMember),curveMember:Object(Me.m)(ml.a.prototype.writeLineStringOrCurveMember)}},wl.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml/3.2":{Curve:Object(Me.m)(ml.a.prototype.writeCurveOrLineString),MultiCurve:Object(Me.m)(ml.a.prototype.writeMultiCurveOrLineString),Point:Object(Me.m)(wl.prototype.writePoint),MultiPoint:Object(Me.m)(ml.a.prototype.writeMultiPoint),LineString:Object(Me.m)(ml.a.prototype.writeCurveOrLineString),MultiLineString:Object(Me.m)(ml.a.prototype.writeMultiCurveOrLineString),LinearRing:Object(Me.m)(ml.a.prototype.writeLinearRing),Polygon:Object(Me.m)(ml.a.prototype.writeSurfaceOrPolygon),MultiPolygon:Object(Me.m)(ml.a.prototype.writeMultiSurfaceOrPolygon),Surface:Object(Me.m)(ml.a.prototype.writeSurfaceOrPolygon),MultiSurface:Object(Me.m)(ml.a.prototype.writeMultiSurfaceOrPolygon),Envelope:Object(Me.m)(ml.a.prototype.writeEnvelope)}};var El=wl,Il=o("./node_modules/ol/format/GPX.js"),Ol=o("./node_modules/ol/format/GeoJSON.js"),Sl=o("./node_modules/ol/format/FormatType.js"),xl=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();function jl(e){return"string"==typeof e?e:""}var Pl=function(e){function t(){return e.call(this)||this}return xl(t,e),t.prototype.getType=function(){return Sl.a.TEXT},t.prototype.readFeature=function(e,t){return this.readFeatureFromText(jl(e),this.adaptOptions(t))},t.prototype.readFeatureFromText=function(e,t){return Object(je.b)()},t.prototype.readFeatures=function(e,t){return this.readFeaturesFromText(jl(e),this.adaptOptions(t))},t.prototype.readFeaturesFromText=function(e,t){return Object(je.b)()},t.prototype.readGeometry=function(e,t){return this.readGeometryFromText(jl(e),this.adaptOptions(t))},t.prototype.readGeometryFromText=function(e,t){return Object(je.b)()},t.prototype.readProjection=function(e){return this.readProjectionFromText(jl(e))},t.prototype.readProjectionFromText=function(e){return this.dataProjection},t.prototype.writeFeature=function(e,t){return this.writeFeatureText(e,this.adaptOptions(t))},t.prototype.writeFeatureText=function(e,t){return Object(je.b)()},t.prototype.writeFeatures=function(e,t){return this.writeFeaturesText(e,this.adaptOptions(t))},t.prototype.writeFeaturesText=function(e,t){return Object(je.b)()},t.prototype.writeGeometry=function(e,t){return this.writeGeometryText(e,this.adaptOptions(t))},t.prototype.writeGeometryText=function(e,t){return Object(je.b)()},t}(sl.a),Tl=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ml="barometric",Rl="gps",Ll="none",kl=/^B(\d{2})(\d{2})(\d{2})(\d{2})(\d{5})([NS])(\d{3})(\d{5})([EW])([AV])(\d{5})(\d{5})/,Gl=/^H.([A-Z]{3}).*?:(.*)/,Dl=/^HFDTE(\d{2})(\d{2})(\d{2})/,Nl=/\r\n|\r|\n/,Fl=function(e){function t(t){var o=e.call(this)||this,n=t||{};return o.dataProjection=Object(y.t)("EPSG:4326"),o.altitudeMode_=n.altitudeMode?n.altitudeMode:Ll,o}return Tl(t,e),t.prototype.readFeatureFromText=function(e,t){var o,n,r=this.altitudeMode_,i=e.split(Nl),a={},s=[],l=2e3,c=0,u=1,d=-1;for(o=0,n=i.length;o<n;++o){var p=i[o],f=void 0;if("B"==p.charAt(0)){if(f=kl.exec(p)){var g=parseInt(f[1],10),m=parseInt(f[2],10),y=parseInt(f[3],10),v=parseInt(f[4],10)+parseInt(f[5],10)/6e4;"S"==f[6]&&(v=-v);var _=parseInt(f[7],10)+parseInt(f[8],10)/6e4;if("W"==f[9]&&(_=-_),s.push(_,v),r!=Ll){var b=void 0;b=r==Rl?parseInt(f[11],10):r==Ml?parseInt(f[12],10):0,s.push(b)}var A=Date.UTC(l,c,u,g,m,y);A<d&&(A=Date.UTC(l,c,u+1,g,m,y)),s.push(A/1e3),d=A}}else"H"==p.charAt(0)&&((f=Dl.exec(p))?(u=parseInt(f[1],10),c=parseInt(f[2],10)-1,l=2e3+parseInt(f[3],10)):(f=Gl.exec(p))&&(a[f[1]]=f[2].trim()))}if(0===s.length)return null;var C=r==Ll?il.a.XYM:il.a.XYZM,w=new Ls.a(s,C),E=new h.b(Object(sl.c)(w,!1,t));return E.setProperties(a,!0),E},t.prototype.readFeaturesFromText=function(e,t){var o=this.readFeatureFromText(e,t);return o?[o]:[]},t}(Pl),Ul=o("./node_modules/ol/format/KML.js"),Bl=o("./node_modules/ol/format/XMLFeature.js"),zl=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Vl=[null],Wl=Object(Me.s)(Vl,{nd:function(e,t){t[t.length-1].ndrefs.push(e.getAttribute("ref"))},tag:Xl}),ql=Object(Me.s)(Vl,{node:function(e,t){var o=t[0],n=t[t.length-1],r=e.getAttribute("id"),i=[parseFloat(e.getAttribute("lon")),parseFloat(e.getAttribute("lat"))];n.nodes[r]=i;var a=Object(Me.v)({tags:{}},Hl,e,t);if(!Object(me.d)(a.tags)){var s=new Po.a(i);Object(sl.c)(s,!1,o);var l=new h.b(s);l.setId(r),l.setProperties(a.tags,!0),n.features.push(l)}},way:function(e,t){var o=e.getAttribute("id"),n=Object(Me.v)({id:o,ndrefs:[],tags:{}},Wl,e,t);t[t.length-1].ways.push(n)}}),Yl=function(e){function t(){var t=e.call(this)||this;return t.dataProjection=Object(y.t)("EPSG:4326"),t}return zl(t,e),t.prototype.readFeaturesFromNode=function(e,t){var o=this.getReadOptions(e,t);if("osm"==e.localName){for(var n=Object(Me.v)({nodes:{},ways:[],features:[]},ql,e,[o]),r=0;r<n.ways.length;r++){for(var i=n.ways[r],a=[],s=0,l=i.ndrefs.length;s<l;s++){var c=n.nodes[i.ndrefs[s]];Object(Q.c)(a,c)}var u=void 0;u=i.ndrefs[0]==i.ndrefs[i.ndrefs.length-1]?new m.b(a,il.a.XY,[a.length]):new Ls.a(a,il.a.XY),Object(sl.c)(u,!1,o);var d=new h.b(u);d.setId(i.id),d.setProperties(i.tags,!0),n.features.push(d)}if(n.features)return n.features}return[]},t}(Bl.a),Hl=Object(Me.s)(Vl,{tag:Xl});function Xl(e,t){t[t.length-1].tags[e.getAttribute("k")]=e.getAttribute("v")}var Zl=Yl,Kl=o("./node_modules/ol/format/OWS.js"),Jl=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();function Ql(e,t,o){var n,r=o||1e5,i=new Array(t);for(n=0;n<t;++n)i[n]=0;for(var a=0,s=e.length;a<s;)for(n=0;n<t;++n,++a){var l=e[a],c=l-i[n];i[n]=l,e[a]=c}return ec(e,r)}function $l(e,t,o){var n,r=o||1e5,i=new Array(t);for(n=0;n<t;++n)i[n]=0;for(var a=tc(e,r),s=0,l=a.length;s<l;)for(n=0;n<t;++n,++s)i[n]+=a[s],a[s]=i[n];return a}function ec(e,t){for(var o=t||1e5,n=0,r=e.length;n<r;++n)e[n]=Math.round(e[n]*o);return oc(e)}function tc(e,t){for(var o=t||1e5,n=nc(e),r=0,i=n.length;r<i;++r)n[r]/=o;return n}function oc(e){for(var t=0,o=e.length;t<o;++t){var n=e[t];e[t]=n<0?~(n<<1):n<<1}return rc(e)}function nc(e){for(var t=ic(e),o=0,n=t.length;o<n;++o){var r=t[o];t[o]=1&r?~(r>>1):r>>1}return t}function rc(e){for(var t="",o=0,n=e.length;o<n;++o)t+=ac(e[o]);return t}function ic(e){for(var t=[],o=0,n=0,r=0,i=e.length;r<i;++r){var a=e.charCodeAt(r)-63;o|=(31&a)<<n,a<32?(t.push(o),o=0,n=0):n+=5}return t}function ac(e){for(var t,o="";e>=32;)t=63+(32|31&e),o+=String.fromCharCode(t),e>>=5;return t=e+63,o+=String.fromCharCode(t)}var sc=function(e){function t(t){var o=e.call(this)||this,n=t||{};return o.dataProjection=Object(y.t)("EPSG:4326"),o.factor_=n.factor?n.factor:1e5,o.geometryLayout_=n.geometryLayout?n.geometryLayout:il.a.XY,o}return Jl(t,e),t.prototype.readFeatureFromText=function(e,t){var o=this.readGeometryFromText(e,t);return new h.b(o)},t.prototype.readFeaturesFromText=function(e,t){return[this.readFeatureFromText(e,t)]},t.prototype.readGeometryFromText=function(e,t){var o=Object(Fs.b)(this.geometryLayout_),n=$l(e,o,this.factor_);qs(n,0,n.length,o,n);var r=Object(Hs.a)(n,0,n.length,o),i=new Ls.a(r,this.geometryLayout_);return Object(sl.c)(i,!1,this.adaptOptions(t))},t.prototype.writeFeatureText=function(e,t){var o=e.getGeometry();return o?this.writeGeometryText(o,t):(Object($.a)(!1,40),"")},t.prototype.writeFeaturesText=function(e,t){return this.writeFeatureText(e[0],t)},t.prototype.writeGeometryText=function(e,t){var o=(e=Object(sl.c)(e,!0,this.adaptOptions(t))).getFlatCoordinates(),n=e.getStride();return qs(o,0,o.length,n,o),Ql(o,n,this.factor_)},t}(Pl),lc=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),cc=function(e){function t(t){var o=e.call(this)||this,n=t||{};return o.layerName_=n.layerName,o.layers_=n.layers?n.layers:null,o.dataProjection=Object(y.t)(n.dataProjection?n.dataProjection:"EPSG:4326"),o}return lc(t,e),t.prototype.readFeaturesFromObject=function(e,t){if("Topology"==e.type){var o=e,n=void 0,r=null,i=null;o.transform&&(r=(n=o.transform).scale,i=n.translate);var a=o.arcs;n&&function(e,t,o){for(var n=0,r=e.length;n<r;++n)fc(e[n],t,o)}(a,r,i);var s=[],l=o.objects,c=this.layerName_,u=void 0;for(var d in l)this.layers_&&-1==this.layers_.indexOf(d)||("GeometryCollection"===l[d].type?(u=l[d],s.push.apply(s,hc(u,a,r,i,c,d,t))):(u=l[d],s.push(pc(u,a,r,i,c,d,t))));return s}return[]},t.prototype.readProjectionFromObject=function(e){return this.dataProjection},t}(al.a),uc={Point:function(e,t,o){var n=e.coordinates;t&&o&&gc(n,t,o);return new Po.a(n)},LineString:function(e,t){var o=dc(e.arcs,t);return new Ls.a(o)},Polygon:function(e,t){for(var o=[],n=0,r=e.arcs.length;n<r;++n)o[n]=dc(e.arcs[n],t);return new m.b(o)},MultiPoint:function(e,t,o){var n=e.coordinates;if(t&&o)for(var r=0,i=n.length;r<i;++r)gc(n[r],t,o);return new Ds.a(n)},MultiLineString:function(e,t){for(var o=[],n=0,r=e.arcs.length;n<r;++n)o[n]=dc(e.arcs[n],t);return new Gs.a(o)},MultiPolygon:function(e,t){for(var o=[],n=0,r=e.arcs.length;n<r;++n){for(var i=e.arcs[n],a=[],s=0,l=i.length;s<l;++s)a[s]=dc(i[s],t);o[n]=a}return new Ns.a(o)}};function dc(e,t){for(var o,n,r=[],i=0,a=e.length;i<a;++i)o=e[i],i>0&&r.pop(),n=o>=0?t[o]:t[~o].slice().reverse(),r.push.apply(r,n);for(var s=0,l=r.length;s<l;++s)r[s]=r[s].slice();return r}function hc(e,t,o,n,r,i,a){for(var s=e.geometries,l=[],c=0,u=s.length;c<u;++c)l[c]=pc(s[c],t,o,n,r,i,a);return l}function pc(e,t,o,n,r,i,a){var s=null,l=e.type;if(l){var c=uc[l];s="Point"===l||"MultiPoint"===l?c(e,o,n):c(e,t),s=Object(sl.c)(s,!1,a)}var u=new h.b({geometry:s});void 0!==e.id&&u.setId(e.id);var d=e.properties;return r&&(d||(d={}),d[r]=i),d&&u.setProperties(d,!0),u}function fc(e,t,o){for(var n=0,r=0,i=0,a=e.length;i<a;++i){var s=e[i];n+=s[0],r+=s[1],s[0]=n,s[1]=r,gc(s,t,o)}}function gc(e,t,o){e[0]=e[0]*t[0]+o[0],e[1]=e[1]*t[1]+o[1]}var mc=cc,yc=function(){function e(e){this.tagName_=e}return e.prototype.getTagName=function(){return this.tagName_},e}(),vc=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),_c=function(e){function t(t,o){var n=e.call(this,t)||this;return n.conditions=o,Object($.a)(n.conditions.length>=2,57),n}return vc(t,e),t}(yc),bc=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ac=function(e){function t(t){return e.call(this,"And",Array.prototype.slice.call(arguments))||this}return bc(t,e),t}(_c),Cc=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),wc=function(e){function t(t,o,n){var r=e.call(this,"BBOX")||this;if(r.geometryName=t,r.extent=o,4!==o.length)throw new Error("Expected an extent with four values ([minX, minY, maxX, maxY])");return r.srsName=n,r}return Cc(t,e),t}(yc),Ec=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ic=function(e){function t(t,o,n,r){var i=e.call(this,t)||this;return i.geometryName=o||"the_geom",i.geometry=n,i.srsName=r,i}return Ec(t,e),t}(yc),Oc=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Sc=function(e){function t(t,o,n){return e.call(this,"Contains",t,o,n)||this}return Oc(t,e),t}(Ic),xc=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),jc=function(e){function t(t,o,n,r,i){var a=e.call(this,"DWithin",t,o,i)||this;return a.distance=n,a.unit=r,a}return xc(t,e),t}(Ic),Pc=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Tc=function(e){function t(t,o,n){return e.call(this,"Disjoint",t,o,n)||this}return Pc(t,e),t}(Ic),Mc=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Rc=function(e){function t(t,o){var n=e.call(this,t)||this;return n.propertyName=o,n}return Mc(t,e),t}(yc),Lc=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),kc=function(e){function t(t,o,n){var r=e.call(this,"During",t)||this;return r.begin=o,r.end=n,r}return Lc(t,e),t}(Rc),Gc=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Dc=function(e){function t(t,o,n,r){var i=e.call(this,t,o)||this;return i.expression=n,i.matchCase=r,i}return Gc(t,e),t}(Rc),Nc=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Fc=function(e){function t(t,o,n){return e.call(this,"PropertyIsEqualTo",t,o,n)||this}return Nc(t,e),t}(Dc),Uc=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Bc=function(e){function t(t,o){return e.call(this,"PropertyIsGreaterThan",t,o)||this}return Uc(t,e),t}(Dc),zc=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Vc=function(e){function t(t,o){return e.call(this,"PropertyIsGreaterThanOrEqualTo",t,o)||this}return zc(t,e),t}(Dc),Wc=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),qc=function(e){function t(t,o,n){return e.call(this,"Intersects",t,o,n)||this}return Wc(t,e),t}(Ic),Yc=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Hc=function(e){function t(t,o,n){var r=e.call(this,"PropertyIsBetween",t)||this;return r.lowerBoundary=o,r.upperBoundary=n,r}return Yc(t,e),t}(Rc),Xc=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Zc=function(e){function t(t,o,n,r,i,a){var s=e.call(this,"PropertyIsLike",t)||this;return s.pattern=o,s.wildCard=void 0!==n?n:"*",s.singleChar=void 0!==r?r:".",s.escapeChar=void 0!==i?i:"!",s.matchCase=a,s}return Xc(t,e),t}(Rc),Kc=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Jc=function(e){function t(t){return e.call(this,"PropertyIsNull",t)||this}return Kc(t,e),t}(Rc),Qc=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),$c=function(e){function t(t,o){return e.call(this,"PropertyIsLessThan",t,o)||this}return Qc(t,e),t}(Dc),eu=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),tu=function(e){function t(t,o){return e.call(this,"PropertyIsLessThanOrEqualTo",t,o)||this}return eu(t,e),t}(Dc),ou=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),nu=function(e){function t(t){var o=e.call(this,"Not")||this;return o.condition=t,o}return ou(t,e),t}(yc),ru=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),iu=function(e){function t(t,o,n){return e.call(this,"PropertyIsNotEqualTo",t,o,n)||this}return ru(t,e),t}(Dc),au=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),su=function(e){function t(t){return e.call(this,"Or",Array.prototype.slice.call(arguments))||this}return au(t,e),t}(_c),lu=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),cu=function(e){function t(t){var o=e.call(this,"ResourceId")||this;return o.rid=t,o}return lu(t,e),t}(yc),uu=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),du=function(e){function t(t,o,n){return e.call(this,"Within",t,o,n)||this}return uu(t,e),t}(Ic);function hu(e){var t=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(Ac,t))}function pu(e,t,o){return new wc(e,t,o)}var fu=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),gu={"http://www.opengis.net/gml":{boundedBy:Object(Me.o)(bl.b.prototype.readGeometryElement,"bounds")},"http://www.opengis.net/wfs/2.0":{member:Object(Me.k)(bl.b.prototype.readFeaturesInternal)}},mu={"http://www.opengis.net/wfs":{totalInserted:Object(Me.o)(Al.g),totalUpdated:Object(Me.o)(Al.g),totalDeleted:Object(Me.o)(Al.g)},"http://www.opengis.net/wfs/2.0":{totalInserted:Object(Me.o)(Al.g),totalUpdated:Object(Me.o)(Al.g),totalDeleted:Object(Me.o)(Al.g)}},yu={"http://www.opengis.net/wfs":{TransactionSummary:Object(Me.o)(xu,"transactionSummary"),InsertResults:Object(Me.o)(Mu,"insertIds")},"http://www.opengis.net/wfs/2.0":{TransactionSummary:Object(Me.o)(xu,"transactionSummary"),InsertResults:Object(Me.o)(Mu,"insertIds")}},vu={"http://www.opengis.net/wfs":{PropertyName:Object(Me.m)(Al.n)},"http://www.opengis.net/wfs/2.0":{PropertyName:Object(Me.m)(Al.n)}},_u={"http://www.opengis.net/wfs":{Insert:Object(Me.m)(Ru),Update:Object(Me.m)(Du),Delete:Object(Me.m)(Gu),Property:Object(Me.m)(Nu),Native:Object(Me.m)(Fu)},"http://www.opengis.net/wfs/2.0":{Insert:Object(Me.m)(Ru),Update:Object(Me.m)(Du),Delete:Object(Me.m)(Gu),Property:Object(Me.m)(Nu),Native:Object(Me.m)(Fu)}},bu="http://www.w3.org/2000/xmlns/",Au={"2.0.0":"http://www.opengis.net/ogc/1.1","1.1.0":"http://www.opengis.net/ogc","1.0.0":"http://www.opengis.net/ogc"},Cu={"2.0.0":"http://www.opengis.net/wfs/2.0","1.1.0":"http://www.opengis.net/wfs","1.0.0":"http://www.opengis.net/wfs"},wu={"2.0.0":"http://www.opengis.net/fes/2.0","1.1.0":"http://www.opengis.net/fes","1.0.0":"http://www.opengis.net/fes"},Eu={"2.0.0":"http://www.opengis.net/wfs/2.0 http://schemas.opengis.net/wfs/2.0/wfs.xsd","1.1.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd","1.0.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.0.0/wfs.xsd"},Iu={"2.0.0":El,"1.1.0":ml.a,"1.0.0":_l.a},Ou=function(e){function t(t){var o=e.call(this)||this,n=t||{};return o.version_=n.version?n.version:"1.1.0",o.featureType_=n.featureType,o.featureNS_=n.featureNS,o.gmlFormat_=n.gmlFormat?n.gmlFormat:new Iu[o.version_],o.schemaLocation_=n.schemaLocation?n.schemaLocation:Eu[o.version_],o}return fu(t,e),t.prototype.getFeatureType=function(){return this.featureType_},t.prototype.setFeatureType=function(e){this.featureType_=e},t.prototype.readFeaturesFromNode=function(e,t){var o={node:e};Object(me.a)(o,{featureType:this.featureType_,featureNS:this.featureNS_}),Object(me.a)(o,this.getReadOptions(e,t||{}));var n,r=[o];n="2.0.0"===this.version_?gu:this.gmlFormat_.FEATURE_COLLECTION_PARSERS;var i=Object(Me.v)([],n,e,r,this.gmlFormat_);return i||(i=[]),i},t.prototype.readTransactionResponse=function(e){if(e){if("string"==typeof e){var t=Object(Me.t)(e);return this.readTransactionResponseFromDocument(t)}return Object(Me.i)(e)?this.readTransactionResponseFromDocument(e):this.readTransactionResponseFromNode(e)}},t.prototype.readFeatureCollectionMetadata=function(e){if(e){if("string"==typeof e){var t=Object(Me.t)(e);return this.readFeatureCollectionMetadataFromDocument(t)}return Object(Me.i)(e)?this.readFeatureCollectionMetadataFromDocument(e):this.readFeatureCollectionMetadataFromNode(e)}},t.prototype.readFeatureCollectionMetadataFromDocument=function(e){for(var t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.readFeatureCollectionMetadataFromNode(t)},t.prototype.readFeatureCollectionMetadataFromNode=function(e){var t={},o=Object(Al.f)(e.getAttribute("numberOfFeatures"));return t.numberOfFeatures=o,Object(Me.v)(t,gu,e,[],this.gmlFormat_)},t.prototype.readTransactionResponseFromDocument=function(e){for(var t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.readTransactionResponseFromNode(t)},t.prototype.readTransactionResponseFromNode=function(e){return Object(Me.v)({},yu,e,[])},t.prototype.writeGetFeature=function(e){var t=this,o=Object(Me.c)(Cu[this.version_],"GetFeature");o.setAttribute("service","WFS"),o.setAttribute("version",this.version_),e.handle&&o.setAttribute("handle",e.handle),e.outputFormat&&o.setAttribute("outputFormat",e.outputFormat),void 0!==e.maxFeatures&&o.setAttribute("maxFeatures",String(e.maxFeatures)),e.resultType&&o.setAttribute("resultType",e.resultType),void 0!==e.startIndex&&o.setAttribute("startIndex",String(e.startIndex)),void 0!==e.count&&o.setAttribute("count",String(e.count)),void 0!==e.viewParams&&o.setAttribute("viewParams",e.viewParams),o.setAttributeNS(Me.b,"xsi:schemaLocation",this.schemaLocation_);var n={node:o};if(Object(me.a)(n,{version:this.version_,srsName:e.srsName,featureNS:e.featureNS?e.featureNS:this.featureNS_,featurePrefix:e.featurePrefix,propertyNames:e.propertyNames?e.propertyNames:[]}),Object($.a)(Array.isArray(e.featureTypes),11),"string"==typeof e.featureTypes[0]){var r=e.filter;e.bbox&&(Object($.a)(e.geometryName,12),r=this.combineBboxAndFilter(e.geometryName,e.bbox,e.srsName,r)),Object(me.a)(n,{geometryName:e.geometryName,filter:r}),nd(o,e.featureTypes,[n])}else e.featureTypes.forEach((function(r){var i=t.combineBboxAndFilter(r.geometryName,r.bbox,e.srsName,e.filter);Object(me.a)(n,{geometryName:r.geometryName,filter:i}),nd(o,[r.name],[n])}));return o},t.prototype.combineBboxAndFilter=function(e,t,o,n){var r=pu(e,t,o);return n?hu(n,r):r},t.prototype.writeTransaction=function(e,t,o,n){var r,i=[],a=n.version?n.version:this.version_,s=Object(Me.c)(Cu[a],"Transaction");s.setAttribute("service","WFS"),s.setAttribute("version",a),n&&(r=n.gmlOptions?n.gmlOptions:{},n.handle&&s.setAttribute("handle",n.handle)),s.setAttributeNS(Me.b,"xsi:schemaLocation",Eu[a]);var l=function(e,t,o,n){var r,i=n.featurePrefix?n.featurePrefix:"feature";"1.0.0"===o?r=2:"1.1.0"===o?r=3:"2.0.0"===o&&(r=3.2);return Object(me.a)({node:e},{version:o,featureNS:n.featureNS,featureType:n.featureType,featurePrefix:i,gmlVersion:r,hasZ:n.hasZ,srsName:n.srsName},t)}(s,r,a,n);return e&&Su("Insert",e,i,l),t&&Su("Update",t,i,l),o&&Su("Delete",o,i,l),n.nativeElements&&Su("Native",n.nativeElements,i,l),s},t.prototype.readProjectionFromDocument=function(e){for(var t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.readProjectionFromNode(t);return null},t.prototype.readProjectionFromNode=function(e){if(e.firstElementChild&&e.firstElementChild.firstElementChild)for(var t=(e=e.firstElementChild.firstElementChild).firstElementChild;t;t=t.nextElementSibling)if(0!==t.childNodes.length&&(1!==t.childNodes.length||3!==t.firstChild.nodeType)){var o=[{}];return this.gmlFormat_.readGeometryElement(t,o),Object(y.t)(o.pop().srsName)}return null},t}(Bl.a);function Su(e,t,o,n){Object(Me.w)(n,_u,Object(Me.r)(e),t,o)}function xu(e,t){return Object(Me.v)({},mu,e,t)}var ju={"http://www.opengis.net/ogc":{FeatureId:Object(Me.k)((function(e,t){return e.getAttribute("fid")}))},"http://www.opengis.net/ogc/1.1":{FeatureId:Object(Me.k)((function(e,t){return e.getAttribute("fid")}))}};function Pu(e,t){Object(Me.u)(ju,e,t)}var Tu={"http://www.opengis.net/wfs":{Feature:Pu},"http://www.opengis.net/wfs/2.0":{Feature:Pu}};function Mu(e,t){return Object(Me.v)([],Tu,e,t)}function Ru(e,t,o){var n=o[o.length-1],r=n.featureType,i=n.featureNS,a=n.gmlVersion,s=Object(Me.c)(i,r);e.appendChild(s),2===a?_l.a.prototype.writeFeatureElement(s,t,o):3===a?ml.a.prototype.writeFeatureElement(s,t,o):El.prototype.writeFeatureElement(s,t,o)}function Lu(e,t,o){var n=o[o.length-1].version,r=Au[n],i=Object(Me.c)(r,"Filter"),a=Object(Me.c)(r,"FeatureId");i.appendChild(a),a.setAttribute("fid",t),e.appendChild(i)}function ku(e,t){var o=(e=e||"feature")+":";return 0===t.indexOf(o)?t:o+t}function Gu(e,t,o){var n=o[o.length-1];Object($.a)(void 0!==t.getId(),26);var r=n.featureType,i=n.featurePrefix,a=n.featureNS,s=ku(i,r);e.setAttribute("typeName",s),e.setAttributeNS(bu,"xmlns:"+i,a);var l=t.getId();void 0!==l&&Lu(e,l,o)}function Du(e,t,o){var n=o[o.length-1];Object($.a)(void 0!==t.getId(),27);var r=n.version,i=n.featureType,a=n.featurePrefix,s=n.featureNS,l=ku(a,i),c=t.getGeometryName();e.setAttribute("typeName",l),e.setAttributeNS(bu,"xmlns:"+a,s);var u=t.getId();if(void 0!==u){for(var d=t.getKeys(),h=[],p=0,f=d.length;p<f;p++){var g=t.get(d[p]);if(void 0!==g){var m=d[p];g&&"function"==typeof g.getSimplifiedGeometry&&(m=c),h.push({name:m,value:g})}}Object(Me.w)({version:r,gmlVersion:n.gmlVersion,node:e,hasZ:n.hasZ,srsName:n.srsName},_u,Object(Me.r)("Property"),h,o),Lu(e,u,o)}}function Nu(e,t,o){var n=o[o.length-1],r=n.version,i=Cu[r],a=Object(Me.c)(i,"Name"),s=n.gmlVersion;if(e.appendChild(a),Object(Al.n)(a,t.name),void 0!==t.value&&null!==t.value){var l=Object(Me.c)(i,"Value");e.appendChild(l),t.value&&"function"==typeof t.value.getSimplifiedGeometry?2===s?_l.a.prototype.writeGeometryElement(l,t.value,o):3===s?ml.a.prototype.writeGeometryElement(l,t.value,o):El.prototype.writeGeometryElement(l,t.value,o):Object(Al.n)(l,t.value)}}function Fu(e,t,o){t.vendorId&&e.setAttribute("vendorId",t.vendorId),void 0!==t.safeToIgnore&&e.setAttribute("safeToIgnore",String(t.safeToIgnore)),void 0!==t.value&&Object(Al.n)(e,t.value)}var Uu={"http://www.opengis.net/wfs":{Query:Object(Me.m)(Bu)},"http://www.opengis.net/wfs/2.0":{Query:Object(Me.m)(Bu)},"http://www.opengis.net/ogc":{During:Object(Me.m)(Yu),And:Object(Me.m)(Hu),Or:Object(Me.m)(Hu),Not:Object(Me.m)(Xu),BBOX:Object(Me.m)(Vu),Contains:Object(Me.m)(Wu),Intersects:Object(Me.m)(Wu),Within:Object(Me.m)(Wu),DWithin:Object(Me.m)(qu),PropertyIsEqualTo:Object(Me.m)(Zu),PropertyIsNotEqualTo:Object(Me.m)(Zu),PropertyIsLessThan:Object(Me.m)(Zu),PropertyIsLessThanOrEqualTo:Object(Me.m)(Zu),PropertyIsGreaterThan:Object(Me.m)(Zu),PropertyIsGreaterThanOrEqualTo:Object(Me.m)(Zu),PropertyIsNull:Object(Me.m)(Ku),PropertyIsBetween:Object(Me.m)(Ju),PropertyIsLike:Object(Me.m)(Qu)},"http://www.opengis.net/fes/2.0":{During:Object(Me.m)(Yu),And:Object(Me.m)(Hu),Or:Object(Me.m)(Hu),Not:Object(Me.m)(Xu),BBOX:Object(Me.m)(Vu),Contains:Object(Me.m)(Wu),Disjoint:Object(Me.m)(Wu),Intersects:Object(Me.m)(Wu),ResourceId:Object(Me.m)((function(e,t,o){e.setAttribute("rid",t.rid)})),Within:Object(Me.m)(Wu),DWithin:Object(Me.m)(qu),PropertyIsEqualTo:Object(Me.m)(Zu),PropertyIsNotEqualTo:Object(Me.m)(Zu),PropertyIsLessThan:Object(Me.m)(Zu),PropertyIsLessThanOrEqualTo:Object(Me.m)(Zu),PropertyIsGreaterThan:Object(Me.m)(Zu),PropertyIsGreaterThanOrEqualTo:Object(Me.m)(Zu),PropertyIsNull:Object(Me.m)(Ku),PropertyIsBetween:Object(Me.m)(Ju),PropertyIsLike:Object(Me.m)(Qu)}};function Bu(e,t,o){var n,r,i=o[o.length-1],a=i.version,s=i.featurePrefix,l=i.featureNS,c=i.propertyNames,u=i.srsName;n=s?ku(s,t):t,r="2.0.0"===a?"typeNames":"typeName",e.setAttribute(r,n),u&&e.setAttribute("srsName",u),l&&e.setAttributeNS(bu,"xmlns:"+s,l);var d=Object(me.a)({},i);d.node=e,Object(Me.w)(d,vu,Object(Me.r)("PropertyName"),c,o);var h=i.filter;if(h){var p=Object(Me.c)(rd(a),"Filter");e.appendChild(p),zu(p,h,o)}}function zu(e,t,o){var n=o[o.length-1],r={node:e};Object(me.a)(r,{context:n}),Object(Me.w)(r,Uu,Object(Me.r)(t.getTagName()),[t],o)}function Vu(e,t,o){var n=o[o.length-1],r=n.context.version;n.srsName=t.srsName;var i=Iu[r];td(r,e,t.geometryName),i.prototype.writeGeometryElement(e,t.extent,o)}function Wu(e,t,o){var n=o[o.length-1],r=n.context.version;n.srsName=t.srsName;var i=Iu[r];td(r,e,t.geometryName),i.prototype.writeGeometryElement(e,t.geometry,o)}function qu(e,t,o){var n=o[o.length-1].context.version;Wu(e,t,o);var r=Object(Me.c)(rd(n),"Distance");Object(Al.n)(r,t.distance.toString()),"2.0.0"===n?r.setAttribute("uom",t.unit):r.setAttribute("units",t.unit),e.appendChild(r)}function Yu(e,t,o){var n=o[o.length-1].context.version;$u(wu[n],"ValueReference",e,t.propertyName);var r=Object(Me.c)(bl.a,"TimePeriod");e.appendChild(r);var i=Object(Me.c)(bl.a,"begin");r.appendChild(i),od(i,t.begin);var a=Object(Me.c)(bl.a,"end");r.appendChild(a),od(a,t.end)}function Hu(e,t,o){var n=o[o.length-1].context,r={node:e};Object(me.a)(r,{context:n});for(var i=t.conditions,a=0,s=i.length;a<s;++a){var l=i[a];Object(Me.w)(r,Uu,Object(Me.r)(l.getTagName()),[l],o)}}function Xu(e,t,o){var n=o[o.length-1].context,r={node:e};Object(me.a)(r,{context:n});var i=t.condition;Object(Me.w)(r,Uu,Object(Me.r)(i.getTagName()),[i],o)}function Zu(e,t,o){var n=o[o.length-1].context.version;void 0!==t.matchCase&&e.setAttribute("matchCase",t.matchCase.toString()),td(n,e,t.propertyName),ed(n,e,""+t.expression)}function Ku(e,t,o){td(o[o.length-1].context.version,e,t.propertyName)}function Ju(e,t,o){var n=o[o.length-1].context.version,r=rd(n);td(n,e,t.propertyName);var i=Object(Me.c)(r,"LowerBoundary");e.appendChild(i),ed(n,i,""+t.lowerBoundary);var a=Object(Me.c)(r,"UpperBoundary");e.appendChild(a),ed(n,a,""+t.upperBoundary)}function Qu(e,t,o){var n=o[o.length-1].context.version;e.setAttribute("wildCard",t.wildCard),e.setAttribute("singleChar",t.singleChar),e.setAttribute("escapeChar",t.escapeChar),void 0!==t.matchCase&&e.setAttribute("matchCase",t.matchCase.toString()),td(n,e,t.propertyName),ed(n,e,""+t.pattern)}function $u(e,t,o,n){var r=Object(Me.c)(e,t);Object(Al.n)(r,n),o.appendChild(r)}function ed(e,t,o){$u(rd(e),"Literal",t,o)}function td(e,t,o){"2.0.0"===e?$u(wu[e],"ValueReference",t,o):$u(Au[e],"PropertyName",t,o)}function od(e,t){var o=Object(Me.c)(bl.a,"TimeInstant");e.appendChild(o);var n=Object(Me.c)(bl.a,"timePosition");o.appendChild(n),Object(Al.n)(n,t)}function nd(e,t,o){var n=o[o.length-1],r=Object(me.a)({},n);r.node=e,Object(Me.w)(r,Uu,Object(Me.r)("Query"),t,o)}function rd(e){return"2.0.0"===e?wu[e]:Au[e]}var id=Ou,ad=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),sd=1,ld=2,cd=3,ud=4,dd=5,hd=6,pd=7,fd=15,gd=16,md=17,yd=function(){function e(e){this.view_=e,this.pos_=0,this.initialized_=!1,this.isLittleEndian_=!1,this.hasZ_=!1,this.hasM_=!1,this.srid_=null,this.layout_=il.a.XY}return e.prototype.readUint8=function(){return this.view_.getUint8(this.pos_++)},e.prototype.readUint32=function(e){return this.view_.getUint32((this.pos_+=4)-4,void 0!==e?e:this.isLittleEndian_)},e.prototype.readDouble=function(e){return this.view_.getFloat64((this.pos_+=8)-8,void 0!==e?e:this.isLittleEndian_)},e.prototype.readPoint=function(){var e=[];return e.push(this.readDouble()),e.push(this.readDouble()),this.hasZ_&&e.push(this.readDouble()),this.hasM_&&e.push(this.readDouble()),e},e.prototype.readLineString=function(){for(var e=this.readUint32(),t=[],o=0;o<e;o++)t.push(this.readPoint());return t},e.prototype.readPolygon=function(){for(var e=this.readUint32(),t=[],o=0;o<e;o++)t.push(this.readLineString());return t},e.prototype.readWkbHeader=function(e){var t=this.readUint8()>0,o=this.readUint32(t),n=Math.floor((268435455&o)/1e3),r=Boolean(2147483648&o)||1===n||3===n,i=Boolean(1073741824&o)||2===n||3===n,a=Boolean(536870912&o),s=(268435455&o)%1e3,l=["XY",r?"Z":"",i?"M":""].join(""),c=a?this.readUint32(t):null;if(void 0!==e&&e!==s)throw new Error("Unexpected WKB geometry type "+s);if(this.initialized_){if(this.isLittleEndian_!==t)throw new Error("Inconsistent endian");if(this.layout_!==l)throw new Error("Inconsistent geometry layout");if(c&&this.srid_!==c)throw new Error("Inconsistent coordinate system (SRID)")}else this.isLittleEndian_=t,this.hasZ_=r,this.hasM_=i,this.layout_=l,this.srid_=c,this.initialized_=!0;return s},e.prototype.readWkbPayload=function(e){switch(e){case sd:return this.readPoint();case ld:return this.readLineString();case cd:case md:return this.readPolygon();case ud:return this.readMultiPoint();case dd:return this.readMultiLineString();case hd:case fd:case gd:return this.readMultiPolygon();case pd:return this.readGeometryCollection();default:throw new Error("Unsupported WKB geometry type "+e+" is found")}},e.prototype.readWkbBlock=function(e){return this.readWkbPayload(this.readWkbHeader(e))},e.prototype.readWkbCollection=function(e,t){for(var o=this.readUint32(),n=[],r=0;r<o;r++){var i=e.call(this,t);i&&n.push(i)}return n},e.prototype.readMultiPoint=function(){return this.readWkbCollection(this.readWkbBlock,sd)},e.prototype.readMultiLineString=function(){return this.readWkbCollection(this.readWkbBlock,ld)},e.prototype.readMultiPolygon=function(){return this.readWkbCollection(this.readWkbBlock,cd)},e.prototype.readGeometryCollection=function(){return this.readWkbCollection(this.readGeometry)},e.prototype.readGeometry=function(){var e=this.readWkbHeader(),t=this.readWkbPayload(e);switch(e){case sd:return new Po.a(t,this.layout_);case ld:return new Ls.a(t,this.layout_);case cd:case md:return new m.b(t,this.layout_);case ud:return new Ds.a(t,this.layout_);case dd:return new Gs.a(t,this.layout_);case hd:case fd:case gd:return new Ns.a(t,this.layout_);case pd:return new Rs.a(t);default:return null}},e.prototype.getSrid=function(){return this.srid_},e}(),vd=function(){function e(e){e=e||{},this.layout_=e.layout,this.isLittleEndian_=!1!==e.littleEndian,this.isEWKB_=!1!==e.ewkb,this.writeQueue_=[],this.nodata_=Object(me.a)({X:0,Y:0,Z:0,M:0},e.nodata)}return e.prototype.writeUint8=function(e){this.writeQueue_.push([1,e])},e.prototype.writeUint32=function(e){this.writeQueue_.push([4,e])},e.prototype.writeDouble=function(e){this.writeQueue_.push([8,e])},e.prototype.writePoint=function(e,t){for(var o=me.a.apply(null,t.split("").map((function(t,o){var n;return(n={})[t]=e[o],n}))),n=0,r=this.layout_;n<r.length;n++){var i=r[n];this.writeDouble(i in o?o[i]:this.nodata_[i])}},e.prototype.writeLineString=function(e,t){this.writeUint32(e.length);for(var o=0;o<e.length;o++)this.writePoint(e[o],t)},e.prototype.writePolygon=function(e,t){this.writeUint32(e.length);for(var o=0;o<e.length;o++)this.writeLineString(e[o],t)},e.prototype.writeWkbHeader=function(e,t){e%=1e3,this.layout_.indexOf("Z")>=0&&(e+=this.isEWKB_?2147483648:1e3),this.layout_.indexOf("M")>=0&&(e+=this.isEWKB_?1073741824:2e3),this.isEWKB_&&Number.isInteger(t)&&(e|=536870912),this.writeUint8(this.isLittleEndian_?1:0),this.writeUint32(e),this.isEWKB_&&Number.isInteger(t)&&this.writeUint32(t)},e.prototype.writeMultiPoint=function(e,t){this.writeUint32(e.length);for(var o=0;o<e.length;o++)this.writeWkbHeader(1),this.writePoint(e[o],t)},e.prototype.writeMultiLineString=function(e,t){this.writeUint32(e.length);for(var o=0;o<e.length;o++)this.writeWkbHeader(2),this.writeLineString(e[o],t)},e.prototype.writeMultiPolygon=function(e,t){this.writeUint32(e.length);for(var o=0;o<e.length;o++)this.writeWkbHeader(3),this.writePolygon(e[o],t)},e.prototype.writeGeometryCollection=function(e){this.writeUint32(e.length);for(var t=0;t<e.length;t++)this.writeGeometry(e[t])},e.prototype.findMinimumLayout=function(e,t){void 0===t&&(t=il.a.XYZM);var o,n;if(e instanceof Fs.a)return(o=e.getLayout())===(n=t)?o:o===il.a.XYZM?n:n===il.a.XYZM?o:il.a.XY;if(e instanceof Rs.a)for(var r=e.getGeometriesArray(),i=0;i<r.length&&t!==il.a.XY;i++)t=this.findMinimumLayout(r[i],t);return t},e.prototype.writeGeometry=function(e,t){var o,n,r=((o={})[jo.a.POINT]=sd,o[jo.a.LINE_STRING]=ld,o[jo.a.POLYGON]=cd,o[jo.a.MULTI_POINT]=ud,o[jo.a.MULTI_LINE_STRING]=dd,o[jo.a.MULTI_POLYGON]=hd,o[jo.a.GEOMETRY_COLLECTION]=pd,o),i=e.getType(),a=r[i];if(!a)throw new Error("GeometryType "+i+" is not supported");(this.layout_||(this.layout_=this.findMinimumLayout(e)),this.writeWkbHeader(a,t),e instanceof Fs.a)?((n={})[jo.a.POINT]=this.writePoint,n[jo.a.LINE_STRING]=this.writeLineString,n[jo.a.POLYGON]=this.writePolygon,n[jo.a.MULTI_POINT]=this.writeMultiPoint,n[jo.a.MULTI_LINE_STRING]=this.writeMultiLineString,n[jo.a.MULTI_POLYGON]=this.writeMultiPolygon,n)[i].call(this,e.getCoordinates(),e.getLayout()):e instanceof Rs.a&&this.writeGeometryCollection(e.getGeometriesArray())},e.prototype.getBuffer=function(){var e=this,t=this.writeQueue_.reduce((function(e,t){return e+t[0]}),0),o=new ArrayBuffer(t),n=new DataView(o),r=0;return this.writeQueue_.forEach((function(t){switch(t[0]){case 1:n.setUint8(r,t[1]);break;case 4:n.setUint32(r,t[1],e.isLittleEndian_);break;case 8:n.setFloat64(r,t[1],e.isLittleEndian_)}r+=t[0]})),o},e}();function _d(e){return"string"==typeof e?function(e){for(var t=new Uint8Array(e.length/2),o=0;o<e.length/2;o++)t[o]=parseInt(e.substr(2*o,2),16);return new DataView(t.buffer)}(e):ArrayBuffer.isView(e)?e instanceof DataView?e:new DataView(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer?new DataView(e):null}var bd=function(e){function t(t){var o=e.call(this)||this,n=t||{};return o.splitCollection=Boolean(n.splitCollection),o.viewCache_=null,o.hex_=!1!==n.hex,o.littleEndian_=!1!==n.littleEndian,o.ewkb_=!1!==n.ewkb,o.layout_=n.geometryLayout,o.nodataZ_=n.nodataZ||0,o.nodataM_=n.nodataM||0,o.srid_=n.srid,o}return ad(t,e),t.prototype.getType=function(){return this.hex_?Sl.a.TEXT:Sl.a.ARRAY_BUFFER},t.prototype.readFeature=function(e,t){return new h.b({geometry:this.readGeometry(e,t)})},t.prototype.readFeatures=function(e,t){var o=this.readGeometry(e,t);return(this.splitCollection&&o instanceof Rs.a?o.getGeometriesArray():[o]).map((function(e){return new h.b({geometry:e})}))},t.prototype.readGeometry=function(e,t){var o=_d(e);if(!o)return null;var n=new yd(o).readGeometry();this.viewCache_=o;var r=this.getReadOptions(e,t);return this.viewCache_=null,Object(sl.c)(n,!1,r)},t.prototype.readProjection=function(e){var t=this.viewCache_||_d(e);if(t){var o=new yd(t);return o.readWkbHeader(),o.getSrid()&&Object(y.t)("EPSG:"+o.getSrid())||void 0}},t.prototype.writeFeature=function(e,t){return this.writeGeometry(e.getGeometry(),t)},t.prototype.writeFeatures=function(e,t){return this.writeGeometry(new Rs.a(e.map((function(e){return e.getGeometry()}))),t)},t.prototype.writeGeometry=function(e,t){var o=this.adaptOptions(t),n=new vd({layout:this.layout_,littleEndian:this.littleEndian_,ewkb:this.ewkb_,nodata:{Z:this.nodataZ_,M:this.nodataM_}}),r=Number.isInteger(this.srid_)?Number(this.srid_):null;if(!1!==this.srid_&&!Number.isInteger(this.srid_)){var i=o.dataProjection&&Object(y.t)(o.dataProjection);if(i){var a=i.getCode();0===a.indexOf("EPSG:")&&(r=Number(a.substring(5)))}}n.writeGeometry(Object(sl.c)(e,!0,o),r);var s=n.getBuffer();return this.hex_?function(e){var t=new Uint8Array(e);return Array.from(t.values()).map((function(e){return(e<16?"0":"")+Number(e).toString(16).toUpperCase()})).join("")}(s):s},t}(sl.a),Ad=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Cd={POINT:Po.a,LINESTRING:Ls.a,POLYGON:m.b,MULTIPOINT:Ds.a,MULTILINESTRING:Gs.a,MULTIPOLYGON:Ns.a},wd=0,Ed=1,Id=2,Od=3,Sd=4,xd=5,jd=6,Pd={};for(var Td in jo.a)Pd[Td]=jo.a[Td].toUpperCase();var Md=function(){function e(e){this.wkt=e,this.index_=-1}return e.prototype.isAlpha_=function(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"},e.prototype.isNumeric_=function(e,t){return e>="0"&&e<="9"||"."==e&&!(void 0!==t&&t)},e.prototype.isWhiteSpace_=function(e){return" "==e||"\t"==e||"\r"==e||"\n"==e},e.prototype.nextChar_=function(){return this.wkt.charAt(++this.index_)},e.prototype.nextToken=function(){var e,t=this.nextChar_(),o=this.index_,n=t;if("("==t)e=Id;else if(","==t)e=xd;else if(")"==t)e=Od;else if(this.isNumeric_(t)||"-"==t)e=Sd,n=this.readNumber_();else if(this.isAlpha_(t))e=Ed,n=this.readText_();else{if(this.isWhiteSpace_(t))return this.nextToken();if(""!==t)throw new Error("Unexpected character: "+t);e=jd}return{position:o,value:n,type:e}},e.prototype.readNumber_=function(){var e,t=this.index_,o=!1,n=!1;do{"."==e?o=!0:"e"!=e&&"E"!=e||(n=!0),e=this.nextChar_()}while(this.isNumeric_(e,o)||!n&&("e"==e||"E"==e)||n&&("-"==e||"+"==e));return parseFloat(this.wkt.substring(t,this.index_--))},e.prototype.readText_=function(){var e,t=this.index_;do{e=this.nextChar_()}while(this.isAlpha_(e));return this.wkt.substring(t,this.index_--).toUpperCase()},e}(),Rd=function(){function e(e){this.lexer_=e,this.token_={position:0,type:wd},this.layout_=il.a.XY}return e.prototype.consume_=function(){this.token_=this.lexer_.nextToken()},e.prototype.isTokenType=function(e){return this.token_.type==e},e.prototype.match=function(e){var t=this.isTokenType(e);return t&&this.consume_(),t},e.prototype.parse=function(){return this.consume_(),this.parseGeometry_()},e.prototype.parseGeometryLayout_=function(){var e=il.a.XY,t=this.token_;if(this.isTokenType(Ed)){var o=t.value;"Z"===o?e=il.a.XYZ:"M"===o?e=il.a.XYM:"ZM"===o&&(e=il.a.XYZM),e!==il.a.XY&&this.consume_()}return e},e.prototype.parseGeometryCollectionText_=function(){if(this.match(Id)){var e=[];do{e.push(this.parseGeometry_())}while(this.match(xd));if(this.match(Od))return e}throw new Error(this.formatErrorMessage_())},e.prototype.parsePointText_=function(){if(this.match(Id)){var e=this.parsePoint_();if(this.match(Od))return e}throw new Error(this.formatErrorMessage_())},e.prototype.parseLineStringText_=function(){if(this.match(Id)){var e=this.parsePointList_();if(this.match(Od))return e}throw new Error(this.formatErrorMessage_())},e.prototype.parsePolygonText_=function(){if(this.match(Id)){var e=this.parseLineStringTextList_();if(this.match(Od))return e}throw new Error(this.formatErrorMessage_())},e.prototype.parseMultiPointText_=function(){if(this.match(Id)){var e=void 0;if(e=this.token_.type==Id?this.parsePointTextList_():this.parsePointList_(),this.match(Od))return e}throw new Error(this.formatErrorMessage_())},e.prototype.parseMultiLineStringText_=function(){if(this.match(Id)){var e=this.parseLineStringTextList_();if(this.match(Od))return e}throw new Error(this.formatErrorMessage_())},e.prototype.parseMultiPolygonText_=function(){if(this.match(Id)){var e=this.parsePolygonTextList_();if(this.match(Od))return e}throw new Error(this.formatErrorMessage_())},e.prototype.parsePoint_=function(){for(var e=[],t=this.layout_.length,o=0;o<t;++o){var n=this.token_;if(!this.match(Sd))break;e.push(n.value)}if(e.length==t)return e;throw new Error(this.formatErrorMessage_())},e.prototype.parsePointList_=function(){for(var e=[this.parsePoint_()];this.match(xd);)e.push(this.parsePoint_());return e},e.prototype.parsePointTextList_=function(){for(var e=[this.parsePointText_()];this.match(xd);)e.push(this.parsePointText_());return e},e.prototype.parseLineStringTextList_=function(){for(var e=[this.parseLineStringText_()];this.match(xd);)e.push(this.parseLineStringText_());return e},e.prototype.parsePolygonTextList_=function(){for(var e=[this.parsePolygonText_()];this.match(xd);)e.push(this.parsePolygonText_());return e},e.prototype.isEmptyGeometry_=function(){var e=this.isTokenType(Ed)&&"EMPTY"==this.token_.value;return e&&this.consume_(),e},e.prototype.formatErrorMessage_=function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"},e.prototype.parseGeometry_=function(){var e=this.token_;if(this.match(Ed)){var t=e.value;this.layout_=this.parseGeometryLayout_();var o=this.isEmptyGeometry_();if("GEOMETRYCOLLECTION"==t){if(o)return new Rs.a([]);var n=this.parseGeometryCollectionText_();return new Rs.a(n)}var r=Cd[t];if(!r)throw new Error("Invalid geometry type: "+t);var i=void 0;if(o)i="POINT"==t?[NaN,NaN]:[];else switch(t){case"POINT":i=this.parsePointText_();break;case"LINESTRING":i=this.parseLineStringText_();break;case"POLYGON":i=this.parsePolygonText_();break;case"MULTIPOINT":i=this.parseMultiPointText_();break;case"MULTILINESTRING":i=this.parseMultiLineStringText_();break;case"MULTIPOLYGON":i=this.parseMultiPolygonText_()}return new r(i,this.layout_)}throw new Error(this.formatErrorMessage_())},e}(),Ld=function(e){function t(t){var o=e.call(this)||this,n=t||{};return o.splitCollection_=void 0!==n.splitCollection&&n.splitCollection,o}return Ad(t,e),t.prototype.parse_=function(e){var t=new Md(e);return new Rd(t).parse()},t.prototype.readFeatureFromText=function(e,t){var o=this.readGeometryFromText(e,t),n=new h.b;return n.setGeometry(o),n},t.prototype.readFeaturesFromText=function(e,t){for(var o=[],n=this.readGeometryFromText(e,t),r=[],i=0,a=(o=this.splitCollection_&&n.getType()==jo.a.GEOMETRY_COLLECTION?n.getGeometriesArray():[n]).length;i<a;++i){var s=new h.b;s.setGeometry(o[i]),r.push(s)}return r},t.prototype.readGeometryFromText=function(e,t){var o=this.parse_(e);return Object(sl.c)(o,!1,t)},t.prototype.writeFeatureText=function(e,t){var o=e.getGeometry();return o?this.writeGeometryText(o,t):""},t.prototype.writeFeaturesText=function(e,t){if(1==e.length)return this.writeFeatureText(e[0],t);for(var o=[],n=0,r=e.length;n<r;++n)o.push(e[n].getGeometry());var i=new Rs.a(o);return this.writeGeometryText(i,t)},t.prototype.writeGeometryText=function(e,t){return Fd(Object(sl.c)(e,!0,t))},t}(Pl);function kd(e){var t=e.getCoordinates();return 0===t.length?"":t.join(" ")}function Gd(e){for(var t=e.getCoordinates(),o=[],n=0,r=t.length;n<r;++n)o.push(t[n].join(" "));return o.join(",")}function Dd(e){for(var t=[],o=e.getLinearRings(),n=0,r=o.length;n<r;++n)t.push("("+Gd(o[n])+")");return t.join(",")}var Nd={Point:kd,LineString:Gd,Polygon:Dd,MultiPoint:function(e){for(var t=[],o=e.getPoints(),n=0,r=o.length;n<r;++n)t.push("("+kd(o[n])+")");return t.join(",")},MultiLineString:function(e){for(var t=[],o=e.getLineStrings(),n=0,r=o.length;n<r;++n)t.push("("+Gd(o[n])+")");return t.join(",")},MultiPolygon:function(e){for(var t=[],o=e.getPolygons(),n=0,r=o.length;n<r;++n)t.push("("+Dd(o[n])+")");return t.join(",")},GeometryCollection:function(e){for(var t=[],o=e.getGeometries(),n=0,r=o.length;n<r;++n)t.push(Fd(o[n]));return t.join(",")}};function Fd(e){var t=e.getType(),o=(0,Nd[t])(e);if(t=t.toUpperCase(),"function"==typeof e.getFlatCoordinates){var n=function(e){var t=e.getLayout(),o="";return t!==il.a.XYZ&&t!==il.a.XYZM||(o+="Z"),t!==il.a.XYM&&t!==il.a.XYZM||(o+="M"),o}(e);n.length>0&&(t+=" "+n)}return 0===o.length?t+" EMPTY":t+"("+o+")"}var Ud=Ld,Bd=o("./node_modules/ol/format/WMSCapabilities.js"),zd=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Vd=function(e){function t(t){var o=e.call(this)||this,n=t||{};return o.featureNS_="http://mapserver.gis.umn.edu/mapserver",o.gmlFormat_=new _l.a,o.layers_=n.layers?n.layers:null,o}return zd(t,e),t.prototype.getLayers=function(){return this.layers_},t.prototype.setLayers=function(e){this.layers_=e},t.prototype.readFeatures_=function(e,t){e.setAttribute("namespaceURI",this.featureNS_);var o=e.localName,n=[];if(0===e.childNodes.length)return n;if("msGMLOutput"==o)for(var r=0,i=e.childNodes.length;r<i;r++){var a=e.childNodes[r];if(a.nodeType===Node.ELEMENT_NODE){var s=a,l=t[0],c=s.localName.replace("_layer","");if(!this.layers_||Object(Q.f)(this.layers_,c)){var u=c+"_feature";l.featureType=u,l.featureNS=this.featureNS_;var d={};d[u]=Object(Me.k)(this.gmlFormat_.readFeatureElement,this.gmlFormat_);var h=Object(Me.s)([l.featureNS,null],d);s.setAttribute("namespaceURI",this.featureNS_);var p=Object(Me.v)([],h,s,t,this.gmlFormat_);p&&Object(Q.c)(n,p)}}}if("FeatureCollection"==o){var f=Object(Me.v)([],this.gmlFormat_.FEATURE_COLLECTION_PARSERS,e,[{}],this.gmlFormat_);f&&(n=f)}return n},t.prototype.readFeaturesFromNode=function(e,t){var o={};return t&&Object(me.a)(o,this.getReadOptions(e,t)),this.readFeatures_(e,[o])},t}(Bl.a),Wd=o("./node_modules/ol/format/WMTSCapabilities.js"),qd=o("./node_modules/ol/format/XML.js"),Yd=o("./node_modules/ol/format/xlink.js"),Hd=o("./node_modules/ol/events/condition.js"),Xd=o("./node_modules/ol/control/Attribution.js"),Zd=o("./node_modules/ol/control/Control.js"),Kd=o("./node_modules/ol/control/FullScreen.js"),Jd=o("./node_modules/ol/control/MousePosition.js"),Qd=o("./node_modules/ol/control/OverviewMap.js"),$d=o("./node_modules/ol/control/Rotate.js"),eh=o("./node_modules/ol/control/ScaleLine.js"),th=o("./node_modules/ol/control/Zoom.js"),oh=o("./node_modules/ol/control/ZoomSlider.js"),nh=o("./node_modules/ol/control/ZoomToExtent.js"),rh={};rh.AssertionError=i.a,rh.Collection=a.b,rh.Collection.CollectionEvent=a.a,rh.DataTile=u,rh.Disposable=d.a,rh.Feature=h.b,rh.Feature.createStyleFunction=h.a,rh.Geolocation=T,rh.Image=M.a,rh.Image.listenImage=M.b,rh.ImageBase=R.a,rh.ImageCanvas=G,rh.ImageTile=D.a,rh.Kinetic=N.a,rh.Map=F.a,rh.MapBrowserEvent=U.a,rh.MapBrowserEventHandler=B.a,rh.MapEvent=z.a,rh.Object=f.b,rh.Object.ObjectEvent=f.a,rh.Observable=V.a,rh.Observable.unByKey=V.b,rh.Overlay=W.a,rh.PluggableMap=q.a,rh.Tile=s.a,rh.TileCache=Y.a,rh.TileQueue=H.a,rh.TileQueue.getTilePriority=H.b,rh.TileRange=X.b,rh.TileRange.createOrUpdate=X.a,rh.VectorRenderTile=Z.a,rh.VectorTile=K.a,rh.View=J.d,rh.View.createCenterConstraint=J.a,rh.View.createResolutionConstraint=J.b,rh.View.createRotationConstraint=J.c,rh.View.isNoopAnimation=J.e,rh.array={},rh.array.binarySearch=Q.a,rh.array.equals=Q.b,rh.array.extend=Q.c,rh.array.find=Q.d,rh.array.findIndex=Q.e,rh.array.includes=Q.f,rh.array.isSorted=Q.g,rh.array.linearFindNearest=Q.h,rh.array.numberSafeCompareFunction=Q.i,rh.array.remove=Q.j,rh.array.reverseSubArray=Q.k,rh.array.stableSort=Q.l,rh.asserts={},rh.asserts.assert=$.a,rh.centerconstraint={},rh.centerconstraint.createExtent=ee.a,rh.centerconstraint.none=ee.b,rh.color={},rh.color.asArray=te.a,rh.color.asString=te.b,rh.color.fromString=te.c,rh.color.isStringColor=te.d,rh.color.normalize=te.e,rh.color.toString=te.f,rh.colorlike={},rh.colorlike.asColorLike=oe.a,rh.control={},rh.control.Attribution=Xd.a,rh.control.Control=Zd.a,rh.control.FullScreen=Kd.a,rh.control.MousePosition=Jd.a,rh.control.OverviewMap=Qd.a,rh.control.Rotate=$d.a,rh.control.ScaleLine=eh.a,rh.control.Zoom=th.a,rh.control.ZoomSlider=oh.a,rh.control.ZoomToExtent=nh.a,rh.control.defaults=ne.a,rh.coordinate={},rh.coordinate.add=re.a,rh.coordinate.closestOnCircle=re.b,rh.coordinate.closestOnSegment=re.c,rh.coordinate.createStringXY=re.d,rh.coordinate.degreesToStringHDMS=re.e,rh.coordinate.distance=re.f,rh.coordinate.equals=re.g,rh.coordinate.format=re.h,rh.coordinate.getWorldsAway=re.i,rh.coordinate.rotate=re.j,rh.coordinate.scale=re.k,rh.coordinate.squaredDistance=re.l,rh.coordinate.squaredDistanceToSegment=re.m,rh.coordinate.toStringHDMS=re.n,rh.coordinate.toStringXY=re.o,rh.coordinate.wrapX=re.p,rh.css={},rh.css.CLASS_COLLAPSED=ie.a,rh.css.CLASS_CONTROL=ie.b,rh.css.CLASS_HIDDEN=ie.c,rh.css.CLASS_SELECTABLE=ie.d,rh.css.CLASS_UNSELECTABLE=ie.e,rh.css.CLASS_UNSUPPORTED=ie.f,rh.css.cssOpacity=ie.g,rh.css.getFontParameters=ie.h,rh.dom={},rh.dom.createCanvasContext2D=ae.a,rh.dom.outerHeight=ae.b,rh.dom.outerWidth=ae.c,rh.dom.removeChildren=ae.d,rh.dom.removeNode=ae.e,rh.dom.replaceChildren=ae.f,rh.dom.replaceNode=ae.g,rh.easing={},rh.easing.easeIn=se.a,rh.easing.easeOut=se.b,rh.easing.inAndOut=se.c,rh.easing.linear=se.d,rh.easing.upAndDown=se.e,rh.events={},rh.events.Event=p.a,rh.events.Event.preventDefault=p.b,rh.events.Event.stopPropagation=p.c,rh.events.Target=ot.a,rh.events.condition={},rh.events.condition.all=Hd.a,rh.events.condition.altKeyOnly=Hd.b,rh.events.condition.altShiftKeysOnly=Hd.c,rh.events.condition.always=Hd.d,rh.events.condition.click=Hd.e,rh.events.condition.doubleClick=Hd.f,rh.events.condition.focus=Hd.g,rh.events.condition.focusWithTabindex=Hd.h,rh.events.condition.mouseActionButton=Hd.i,rh.events.condition.mouseOnly=Hd.j,rh.events.condition.never=Hd.k,rh.events.condition.noModifierKeys=Hd.l,rh.events.condition.penOnly=Hd.m,rh.events.condition.platformModifierKeyOnly=Hd.n,rh.events.condition.pointerMove=Hd.o,rh.events.condition.primaryAction=Hd.p,rh.events.condition.shiftKeyOnly=Hd.q,rh.events.condition.singleClick=Hd.r,rh.events.condition.targetNotEditable=Hd.s,rh.events.condition.touchOnly=Hd.t,rh.events.listen=le.a,rh.events.listenOnce=le.b,rh.events.unlistenByKey=le.c,rh.extent={},rh.extent.applyTransform=ce.a,rh.extent.approximatelyEquals=ce.b,rh.extent.boundingExtent=ce.c,rh.extent.buffer=ce.d,rh.extent.clone=ce.e,rh.extent.closestSquaredDistanceXY=ce.f,rh.extent.containsCoordinate=ce.g,rh.extent.containsExtent=ce.h,rh.extent.containsXY=ce.i,rh.extent.coordinateRelationship=ce.j,rh.extent.createEmpty=ce.k,rh.extent.createOrUpdate=ce.l,rh.extent.createOrUpdateEmpty=ce.m,rh.extent.createOrUpdateFromCoordinate=ce.n,rh.extent.createOrUpdateFromCoordinates=ce.o,rh.extent.createOrUpdateFromFlatCoordinates=ce.p,rh.extent.createOrUpdateFromRings=ce.q,rh.extent.equals=ce.r,rh.extent.extend=ce.s,rh.extent.extendCoordinate=ce.t,rh.extent.extendCoordinates=ce.u,rh.extent.extendFlatCoordinates=ce.v,rh.extent.extendRings=ce.w,rh.extent.extendXY=ce.x,rh.extent.forEachCorner=ce.y,rh.extent.getArea=ce.z,rh.extent.getBottomLeft=ce.A,rh.extent.getBottomRight=ce.B,rh.extent.getCenter=ce.C,rh.extent.getCorner=ce.D,rh.extent.getEnlargedArea=ce.E,rh.extent.getForViewAndSize=ce.F,rh.extent.getHeight=ce.G,rh.extent.getIntersection=ce.H,rh.extent.getIntersectionArea=ce.I,rh.extent.getMargin=ce.J,rh.extent.getSize=ce.K,rh.extent.getTopLeft=ce.L,rh.extent.getTopRight=ce.M,rh.extent.getWidth=ce.N,rh.extent.intersects=ce.O,rh.extent.intersectsSegment=ce.P,rh.extent.isEmpty=ce.Q,rh.extent.returnOrUpdate=ce.R,rh.extent.scaleFromCenter=ce.S,rh.extent.wrapX=ce.T,rh.featureloader={},rh.featureloader.loadFeaturesXhr=ue.a,rh.featureloader.setWithCredentials=ue.b,rh.featureloader.xhr=ue.c,rh.format={},rh.format.EsriJSON=gl,rh.format.Feature=sl.a,rh.format.Feature.transformExtentWithOptions=sl.b,rh.format.Feature.transformGeometryWithOptions=sl.c,rh.format.GML=vl,rh.format.GML2=_l.a,rh.format.GML3=ml.a,rh.format.GML32=El,rh.format.GMLBase=bl.b,rh.format.GMLBase.GMLNS=bl.a,rh.format.GPX=Il.a,rh.format.GeoJSON=Ol.a,rh.format.IGC=Fl,rh.format.IIIFInfo=kr,rh.format.JSONFeature=al.a,rh.format.KML=Ul.a,rh.format.KML.getDefaultFillStyle=Ul.b,rh.format.KML.getDefaultImageStyle=Ul.c,rh.format.KML.getDefaultStrokeStyle=Ul.d,rh.format.KML.getDefaultStyle=Ul.e,rh.format.KML.getDefaultStyleArray=Ul.f,rh.format.KML.getDefaultTextStyle=Ul.g,rh.format.KML.readFlatCoordinates=Ul.h,rh.format.MVT=Ya.a,rh.format.OSMXML=Zl,rh.format.OWS=Kl.a,rh.format.Polyline=sc,rh.format.Polyline.decodeDeltas=$l,rh.format.Polyline.decodeFloats=tc,rh.format.Polyline.decodeSignedIntegers=nc,rh.format.Polyline.decodeUnsignedIntegers=ic,rh.format.Polyline.encodeDeltas=Ql,rh.format.Polyline.encodeFloats=ec,rh.format.Polyline.encodeSignedIntegers=oc,rh.format.Polyline.encodeUnsignedInteger=ac,rh.format.Polyline.encodeUnsignedIntegers=rc,rh.format.TextFeature=Pl,rh.format.TopoJSON=mc,rh.format.WFS=id,rh.format.WFS.writeFilter=function(e,t){var o=t||"1.1.0",n=Object(Me.c)(rd(o),"Filter"),r={node:n};return Object(me.a)(r,{version:o,filter:e}),zu(n,e,[r]),n},rh.format.WKB=bd,rh.format.WKT=Ud,rh.format.WMSCapabilities=Bd.a,rh.format.WMSGetFeatureInfo=Vd,rh.format.WMTSCapabilities=Wd.a,rh.format.XML=qd.a,rh.format.XMLFeature=Bl.a,rh.format.filter={},rh.format.filter.And=Ac,rh.format.filter.Bbox=wc,rh.format.filter.Comparison=Rc,rh.format.filter.ComparisonBinary=Dc,rh.format.filter.Contains=Sc,rh.format.filter.DWithin=jc,rh.format.filter.Disjoint=Tc,rh.format.filter.During=kc,rh.format.filter.EqualTo=Fc,rh.format.filter.Filter=yc,rh.format.filter.GreaterThan=Bc,rh.format.filter.GreaterThanOrEqualTo=Vc,rh.format.filter.Intersects=qc,rh.format.filter.IsBetween=Hc,rh.format.filter.IsLike=Zc,rh.format.filter.IsNull=Jc,rh.format.filter.LessThan=$c,rh.format.filter.LessThanOrEqualTo=tu,rh.format.filter.LogicalNary=_c,rh.format.filter.Not=nu,rh.format.filter.NotEqualTo=iu,rh.format.filter.Or=su,rh.format.filter.ResourceId=cu,rh.format.filter.Spatial=Ic,rh.format.filter.Within=du,rh.format.filter.and=hu,rh.format.filter.bbox=pu,rh.format.filter.between=function(e,t,o){return new Hc(e,t,o)},rh.format.filter.contains=function(e,t,o){return new Sc(e,t,o)},rh.format.filter.disjoint=function(e,t,o){return new Tc(e,t,o)},rh.format.filter.during=function(e,t,o){return new kc(e,t,o)},rh.format.filter.dwithin=function(e,t,o,n,r){return new jc(e,t,o,n,r)},rh.format.filter.equalTo=function(e,t,o){return new Fc(e,t,o)},rh.format.filter.greaterThan=function(e,t){return new Bc(e,t)},rh.format.filter.greaterThanOrEqualTo=function(e,t){return new Vc(e,t)},rh.format.filter.intersects=function(e,t,o){return new qc(e,t,o)},rh.format.filter.isNull=function(e){return new Jc(e)},rh.format.filter.lessThan=function(e,t){return new $c(e,t)},rh.format.filter.lessThanOrEqualTo=function(e,t){return new tu(e,t)},rh.format.filter.like=function(e,t,o,n,r,i){return new Zc(e,t,o,n,r,i)},rh.format.filter.not=function(e){return new nu(e)},rh.format.filter.notEqualTo=function(e,t,o){return new iu(e,t,o)},rh.format.filter.or=function(e){var t=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(su,t))},rh.format.filter.resourceId=function(e){return new cu(e)},rh.format.filter.within=function(e,t,o){return new du(e,t,o)},rh.format.xlink={},rh.format.xlink.readHref=Yd.a,rh.format.xsd={},rh.format.xsd.readBoolean=Al.a,rh.format.xsd.readBooleanString=Al.b,rh.format.xsd.readDateTime=Al.c,rh.format.xsd.readDecimal=Al.d,rh.format.xsd.readDecimalString=Al.e,rh.format.xsd.readNonNegativeIntegerString=Al.f,rh.format.xsd.readPositiveInteger=Al.g,rh.format.xsd.readString=Al.h,rh.format.xsd.writeBooleanTextNode=Al.i,rh.format.xsd.writeCDATASection=Al.j,rh.format.xsd.writeDateTimeTextNode=Al.k,rh.format.xsd.writeDecimalTextNode=Al.l,rh.format.xsd.writeNonNegativeIntegerTextNode=Al.m,rh.format.xsd.writeStringTextNode=Al.n,rh.functions={},rh.functions.FALSE=de.a,rh.functions.TRUE=de.b,rh.functions.VOID=de.c,rh.functions.memoizeOne=de.d,rh.geom={},rh.geom.Circle=Ts.a,rh.geom.Geometry=Ms.a,rh.geom.GeometryCollection=Rs.a,rh.geom.LineString=Ls.a,rh.geom.LinearRing=ks.a,rh.geom.MultiLineString=Gs.a,rh.geom.MultiPoint=Ds.a,rh.geom.MultiPolygon=Ns.a,rh.geom.Point=Po.a,rh.geom.Polygon=m.b,rh.geom.Polygon.circular=m.a,rh.geom.Polygon.fromCircle=m.c,rh.geom.Polygon.fromExtent=m.d,rh.geom.Polygon.makeRegular=m.e,rh.geom.SimpleGeometry=Fs.a,rh.geom.SimpleGeometry.getStrideForLayout=Fs.b,rh.geom.SimpleGeometry.transformGeom2D=Fs.c,rh.geom.flat={},rh.geom.flat.area={},rh.geom.flat.area.linearRing=Us.a,rh.geom.flat.area.linearRings=Us.b,rh.geom.flat.area.linearRingss=Us.c,rh.geom.flat.center={},rh.geom.flat.center.linearRingss=Bs.a,rh.geom.flat.closest={},rh.geom.flat.closest.arrayMaxSquaredDelta=zs.a,rh.geom.flat.closest.assignClosestArrayPoint=zs.b,rh.geom.flat.closest.assignClosestMultiArrayPoint=zs.c,rh.geom.flat.closest.assignClosestPoint=zs.d,rh.geom.flat.closest.maxSquaredDelta=zs.e,rh.geom.flat.closest.multiArrayMaxSquaredDelta=zs.f,rh.geom.flat.contains={},rh.geom.flat.contains.linearRingContainsExtent=Vs.a,rh.geom.flat.contains.linearRingContainsXY=Vs.b,rh.geom.flat.contains.linearRingsContainsXY=Vs.c,rh.geom.flat.contains.linearRingssContainsXY=Vs.d,rh.geom.flat.deflate={},rh.geom.flat.deflate.deflateCoordinate=Ws.a,rh.geom.flat.deflate.deflateCoordinates=Ws.b,rh.geom.flat.deflate.deflateCoordinatesArray=Ws.c,rh.geom.flat.deflate.deflateMultiCoordinatesArray=Ws.d,rh.geom.flat.flip={},rh.geom.flat.flip.flipXY=qs,rh.geom.flat.geodesic={},rh.geom.flat.geodesic.greatCircleArc=Ys.a,rh.geom.flat.geodesic.meridian=Ys.b,rh.geom.flat.geodesic.parallel=Ys.c,rh.geom.flat.inflate={},rh.geom.flat.inflate.inflateCoordinates=Hs.a,rh.geom.flat.inflate.inflateCoordinatesArray=Hs.b,rh.geom.flat.inflate.inflateMultiCoordinatesArray=Hs.c,rh.geom.flat.interiorpoint={},rh.geom.flat.interiorpoint.getInteriorPointOfArray=Xs.a,rh.geom.flat.interiorpoint.getInteriorPointsOfMultiArray=Xs.b,rh.geom.flat.interpolate={},rh.geom.flat.interpolate.interpolatePoint=Zs.a,rh.geom.flat.interpolate.lineStringCoordinateAtM=Zs.b,rh.geom.flat.interpolate.lineStringsCoordinateAtM=Zs.c,rh.geom.flat.intersectsextent={},rh.geom.flat.intersectsextent.intersectsLineString=Ks.a,rh.geom.flat.intersectsextent.intersectsLineStringArray=Ks.b,rh.geom.flat.intersectsextent.intersectsLinearRing=Ks.c,rh.geom.flat.intersectsextent.intersectsLinearRingArray=Ks.d,rh.geom.flat.intersectsextent.intersectsLinearRingMultiArray=Ks.e,rh.geom.flat.length={},rh.geom.flat.length.lineStringLength=Js.a,rh.geom.flat.length.linearRingLength=Js.b,rh.geom.flat.orient={},rh.geom.flat.orient.linearRingIsClockwise=Qs.a,rh.geom.flat.orient.linearRingsAreOriented=Qs.b,rh.geom.flat.orient.linearRingssAreOriented=Qs.c,rh.geom.flat.orient.orientLinearRings=Qs.d,rh.geom.flat.orient.orientLinearRingsArray=Qs.e,rh.geom.flat.reverse={},rh.geom.flat.reverse.coordinates=$s.a,rh.geom.flat.segments={},rh.geom.flat.segments.forEach=el.a,rh.geom.flat.simplify={},rh.geom.flat.simplify.douglasPeucker=tl.a,rh.geom.flat.simplify.douglasPeuckerArray=tl.b,rh.geom.flat.simplify.douglasPeuckerMultiArray=tl.c,rh.geom.flat.simplify.quantize=tl.d,rh.geom.flat.simplify.quantizeArray=tl.e,rh.geom.flat.simplify.quantizeMultiArray=tl.f,rh.geom.flat.simplify.radialDistance=tl.g,rh.geom.flat.simplify.simplifyLineString=tl.h,rh.geom.flat.simplify.snap=tl.i,rh.geom.flat.straightchunk={},rh.geom.flat.straightchunk.matchingChunk=ol.a,rh.geom.flat.textpath={},rh.geom.flat.textpath.drawTextOnPath=nl.a,rh.geom.flat.topology={},rh.geom.flat.topology.lineStringIsClosed=function(e,t,o,n){var r=o-n;return e[t]===e[r]&&e[t+1]===e[r+1]&&(o-t)/n>3&&!!Object(Us.a)(e,t,o,n)},rh.geom.flat.transform={},rh.geom.flat.transform.rotate=rl.a,rh.geom.flat.transform.scale=rl.b,rh.geom.flat.transform.transform2D=rl.c,rh.geom.flat.transform.translate=rl.d,rh.has={},rh.has.DEVICE_PIXEL_RATIO=he.a,rh.has.FIREFOX=he.b,rh.has.IMAGE_DECODE=he.c,rh.has.MAC=he.d,rh.has.PASSIVE_EVENT_LISTENERS=he.e,rh.has.SAFARI=he.f,rh.has.WEBKIT=he.g,rh.has.WORKER_OFFSCREEN_CANVAS=he.h,rh.interaction={},rh.interaction.DoubleClickZoom=ds.a,rh.interaction.DragAndDrop=hs.b,rh.interaction.DragAndDrop.DragAndDropEvent=hs.a,rh.interaction.DragBox=ps.b,rh.interaction.DragBox.DragBoxEvent=ps.a,rh.interaction.DragPan=fs.a,rh.interaction.DragRotate=gs.a,rh.interaction.DragRotateAndZoom=ms.a,rh.interaction.DragZoom=ys.a,rh.interaction.Draw=vs.d,rh.interaction.Draw.DrawEvent=vs.a,rh.interaction.Draw.createBox=vs.b,rh.interaction.Draw.createRegularPolygon=vs.c,rh.interaction.Extent=_s.b,rh.interaction.Extent.ExtentEvent=_s.a,rh.interaction.Interaction=bs.a,rh.interaction.Interaction.pan=bs.b,rh.interaction.Interaction.zoomByDelta=bs.c,rh.interaction.KeyboardPan=As.a,rh.interaction.KeyboardZoom=Cs.a,rh.interaction.Modify=ws.b,rh.interaction.Modify.ModifyEvent=ws.a,rh.interaction.MouseWheelZoom=Es.a,rh.interaction.PinchRotate=Is.a,rh.interaction.PinchZoom=Os.a,rh.interaction.Pointer=Ss.b,rh.interaction.Pointer.centroid=Ss.a,rh.interaction.Select=xs.b,rh.interaction.Select.SelectEvent=xs.a,rh.interaction.Snap=js.a,rh.interaction.Translate=Ps.b,rh.interaction.Translate.TranslateEvent=Ps.a,rh.interaction.defaults=pe.a,rh.layer={},rh.layer.Base=Ra.a,rh.layer.BaseImage=La.a,rh.layer.BaseTile=ka.a,rh.layer.BaseVector=Ji.a,rh.layer.Graticule=Ga.a,rh.layer.Group=Da.a,rh.layer.Heatmap=Wa,rh.layer.Image=li.a,rh.layer.Layer=qa.a,rh.layer.Layer.inView=qa.b,rh.layer.MapboxVector=ns,rh.layer.MapboxVector.getMapboxPath=Ka,rh.layer.MapboxVector.normalizeGlyphsUrl=Qa,rh.layer.MapboxVector.normalizeSourceUrl=es,rh.layer.MapboxVector.normalizeSpriteUrl=Ja,rh.layer.MapboxVector.normalizeStyleUrl=$a,rh.layer.Tile=ui.a,rh.layer.Vector=Na.a,rh.layer.VectorImage=is,rh.layer.VectorTile=Ha.a,rh.layer.WebGLPoints=ss,rh.layer.WebGLTile=us,rh.loadingstrategy={},rh.loadingstrategy.all=fe.a,rh.loadingstrategy.bbox=fe.b,rh.loadingstrategy.tile=fe.c,rh.math={},rh.math.clamp=v.a,rh.math.cosh=v.b,rh.math.lerp=v.c,rh.math.log2=v.d,rh.math.modulo=v.e,rh.math.solveLinearSystem=v.f,rh.math.squaredDistance=v.g,rh.math.squaredSegmentDistance=v.h,rh.math.toDegrees=v.i,rh.math.toRadians=v.j,rh.net={},rh.net.ClientError=ge.a,rh.net.ResponseError=ge.b,rh.net.getJSON=ge.c,rh.net.jsonp=ge.d,rh.net.overrideXHR=ge.e,rh.net.resolveUrl=ge.f,rh.net.restoreXHR=ge.g,rh.obj={},rh.obj.assign=me.a,rh.obj.clear=me.b,rh.obj.getValues=me.c,rh.obj.isEmpty=me.d,rh.proj={},rh.proj.Projection=xa.a,rh.proj.Units={},rh.proj.Units.METERS_PER_UNIT=lr.a,rh.proj.Units.fromCode=lr.c,rh.proj.addCommon=y.c,rh.proj.addCoordinateTransforms=y.d,rh.proj.addEquivalentProjections=y.e,rh.proj.addEquivalentTransforms=y.f,rh.proj.addProjection=y.g,rh.proj.addProjections=y.h,rh.proj.clearAllProjections=y.i,rh.proj.clearUserProjection=y.j,rh.proj.cloneTransform=y.k,rh.proj.createProjection=y.l,rh.proj.createSafeCoordinateTransform=y.m,rh.proj.createTransformFromCoordinateTransform=y.n,rh.proj.epsg3857={},rh.proj.epsg3857.EXTENT=ja.a,rh.proj.epsg3857.HALF_SIZE=ja.b,rh.proj.epsg3857.MAX_SAFE_Y=ja.c,rh.proj.epsg3857.PROJECTIONS=ja.d,rh.proj.epsg3857.RADIUS=ja.e,rh.proj.epsg3857.WORLD_EXTENT=ja.f,rh.proj.epsg3857.fromEPSG4326=ja.g,rh.proj.epsg3857.toEPSG4326=ja.h,rh.proj.epsg4326={},rh.proj.epsg4326.EXTENT=Pa.a,rh.proj.epsg4326.METERS_PER_UNIT=Pa.b,rh.proj.epsg4326.PROJECTIONS=Pa.c,rh.proj.epsg4326.RADIUS=Pa.d,rh.proj.equivalent=y.o,rh.proj.fromLonLat=y.p,rh.proj.fromUserCoordinate=y.q,rh.proj.fromUserExtent=y.r,rh.proj.fromUserResolution=y.s,rh.proj.get=y.t,rh.proj.getPointResolution=y.u,rh.proj.getTransform=y.v,rh.proj.getTransformFromProjections=y.w,rh.proj.getUserProjection=y.x,rh.proj.identityTransform=y.y,rh.proj.proj4={},rh.proj.proj4.register=function(e){var t,o,n=Object.keys(e.defs),r=n.length;for(t=0;t<r;++t){var i=n[t];if(!Object(y.t)(i)){var a=e.defs(i),s=a.units;s||"longlat"!==a.projName||(s=lr.b.DEGREES),Object(y.g)(new xa.a({code:i,axisOrientation:a.axis,metersPerUnit:a.to_meter,units:s}))}}for(t=0;t<r;++t){var l=n[t],c=Object(y.t)(l);for(o=0;o<r;++o){var u=n[o],d=Object(y.t)(u);if(!Object(Ta.c)(l,u))if(e.defs[l]===e.defs[u])Object(y.e)([c,d]);else{var h=e(l,u);Object(y.d)(c,d,Object(y.m)(c,d,h.forward),Object(y.m)(d,c,h.inverse))}}}},rh.proj.projections={},rh.proj.projections.add=Ma.a,rh.proj.projections.clear=Ma.b,rh.proj.projections.get=Ma.c,rh.proj.setUserProjection=y.z,rh.proj.toLonLat=y.A,rh.proj.toUserCoordinate=y.B,rh.proj.toUserExtent=y.C,rh.proj.toUserResolution=y.D,rh.proj.transform=y.E,rh.proj.transformExtent=y.F,rh.proj.transformWithProjections=y.G,rh.proj.transforms={},rh.proj.transforms.add=Ta.a,rh.proj.transforms.clear=Ta.b,rh.proj.transforms.get=Ta.c,rh.proj.transforms.remove=Ta.d,rh.proj.useGeographic=y.H,rh.render={},rh.render.Box=pa.a,rh.render.Event=lt.a,rh.render.Feature=fa.a,rh.render.VectorContext=ga.a,rh.render.canvas={},rh.render.canvas.Builder=ya.a,rh.render.canvas.BuilderGroup=va.a,rh.render.canvas.Executor=_a.a,rh.render.canvas.ExecutorGroup=ba.a,rh.render.canvas.ExecutorGroup.getPixelIndexArray=ba.b,rh.render.canvas.ImageBuilder=Aa.a,rh.render.canvas.Immediate=Ca.a,rh.render.canvas.Instruction={},rh.render.canvas.Instruction.beginPathInstruction=wa.a,rh.render.canvas.Instruction.closePathInstruction=wa.b,rh.render.canvas.Instruction.fillInstruction=wa.d,rh.render.canvas.Instruction.strokeInstruction=wa.e,rh.render.canvas.LineStringBuilder=Ea.a,rh.render.canvas.PolygonBuilder=Ia.a,rh.render.canvas.TextBuilder=Oa.b,rh.render.canvas.checkedFonts=ma.a,rh.render.canvas.defaultFillStyle=ma.b,rh.render.canvas.defaultFont=ma.c,rh.render.canvas.defaultLineCap=ma.d,rh.render.canvas.defaultLineDash=ma.e,rh.render.canvas.defaultLineDashOffset=ma.f,rh.render.canvas.defaultLineJoin=ma.g,rh.render.canvas.defaultLineWidth=ma.h,rh.render.canvas.defaultMiterLimit=ma.i,rh.render.canvas.defaultPadding=ma.j,rh.render.canvas.defaultStrokeStyle=ma.k,rh.render.canvas.defaultTextAlign=ma.l,rh.render.canvas.defaultTextBaseline=ma.m,rh.render.canvas.drawImageOrLabel=ma.n,rh.render.canvas.hitdetect={},rh.render.canvas.hitdetect.HIT_DETECT_RESOLUTION=Sa.a,rh.render.canvas.hitdetect.createHitDetectionImageData=Sa.b,rh.render.canvas.hitdetect.hitDetect=Sa.c,rh.render.canvas.labelCache=ma.o,rh.render.canvas.measureAndCacheTextWidth=ma.p,rh.render.canvas.measureTextHeight=ma.q,rh.render.canvas.measureTextWidth=ma.r,rh.render.canvas.measureTextWidths=ma.s,rh.render.canvas.registerFont=ma.t,rh.render.canvas.rotateAtOffset=ma.u,rh.render.canvas.textHeights=ma.v,rh.render.getRenderPixel=ye.a,rh.render.getVectorContext=ye.b,rh.render.toContext=ye.c,rh.renderer={},rh.renderer.Composite=Xi.a,rh.renderer.Layer=st.a,rh.renderer.Map=Zi.a,rh.renderer.canvas={},rh.renderer.canvas.ImageLayer=ra.a,rh.renderer.canvas.Layer=ia.a,rh.renderer.canvas.TileLayer=aa.a,rh.renderer.canvas.VectorImageLayer=da,rh.renderer.canvas.VectorLayer=sa.a,rh.renderer.canvas.VectorTileLayer=ha.a,rh.renderer.vector={},rh.renderer.vector.defaultOrder=Ki.a,rh.renderer.vector.getSquaredTolerance=Ki.b,rh.renderer.vector.getTolerance=Ki.c,rh.renderer.vector.renderFeature=Ki.d,rh.renderer.webgl={},rh.renderer.webgl.Layer=vt,rh.renderer.webgl.Layer.colorDecodeId=yt,rh.renderer.webgl.Layer.colorEncodeId=mt,rh.renderer.webgl.Layer.getBlankImageData=function(){var e=document.createElement("canvas").getContext("2d").createImageData(1,1);return e.data[0]=255,e.data[1]=255,e.data[2]=255,e.data[3]=255,e},rh.renderer.webgl.Layer.writePointFeatureToBuffers=function(e,t,o,n,r,i){var a=3+r,s=e[t+0],l=e[t+1],c=pt;c.length=r;for(var u=0;u<c.length;u++)c[u]=e[t+2+u];var d=i?i.vertexPosition:0,h=i?i.indexPosition:0,p=d/a;return gt(o,d,s,l,0),c.length&&o.set(c,d+3),gt(o,d+=a,s,l,1),c.length&&o.set(c,d+3),gt(o,d+=a,s,l,2),c.length&&o.set(c,d+3),gt(o,d+=a,s,l,3),c.length&&o.set(c,d+3),d+=a,n[h++]=p,n[h++]=p+1,n[h++]=p+3,n[h++]=p+1,n[h++]=p+2,n[h++]=p+3,ft.vertexPosition=d,ft.indexPosition=h,ft},rh.renderer.webgl.PointsLayer=na,rh.renderer.webgl.TileLayer=xt,rh.renderer.webgl.TileLayer.Attributes=At,rh.renderer.webgl.TileLayer.Uniforms=bt,rh.reproj={},rh.reproj.Image=Wi.a,rh.reproj.Tile=qi.a,rh.reproj.Triangulation=Yi.a,rh.reproj.calculateSourceExtentResolution=ve.a,rh.reproj.calculateSourceResolution=ve.b,rh.reproj.common={},rh.reproj.common.ENABLE_RASTER_REPROJECTION=Hi.a,rh.reproj.common.ERROR_THRESHOLD=Hi.b,rh.reproj.render=ve.c,rh.resolutionconstraint={},rh.resolutionconstraint.createMinMaxResolution=_e.a,rh.resolutionconstraint.createSnapToPower=_e.b,rh.resolutionconstraint.createSnapToResolutions=_e.c,rh.rotationconstraint={},rh.rotationconstraint.createSnapToN=be.a,rh.rotationconstraint.createSnapToZero=be.b,rh.rotationconstraint.disable=be.c,rh.rotationconstraint.none=be.d,rh.size={},rh.size.buffer=Ae.a,rh.size.hasArea=Ae.b,rh.size.scale=Ae.c,rh.size.toSize=Ae.d,rh.source={},rh.source.BingMaps=Io,rh.source.BingMaps.quadKey=Eo,rh.source.CartoDB=xo,rh.source.Cluster=Ro,rh.source.DataTile=Do,rh.source.GeoTIFF=br,rh.source.IIIF=Nr,rh.source.Image=Fr.b,rh.source.Image.ImageSourceEvent=Fr.a,rh.source.Image.defaultImageLoadFunction=Fr.c,rh.source.ImageArcGISRest=Br,rh.source.ImageCanvas=Vr,rh.source.ImageMapGuide=qr,rh.source.ImageStatic=Hr,rh.source.ImageWMS=Xr.a,rh.source.OGCMapTile=ni,rh.source.OGCVectorTile=ai,rh.source.OSM=si.b,rh.source.OSM.ATTRIBUTION=si.a,rh.source.Raster=Oi,rh.source.Raster.Processor=mi,rh.source.Raster.RasterSourceEvent=Ai,rh.source.Raster.newImageData=pi,rh.source.Source=ci.a,rh.source.Stamen=Ti,rh.source.Tile=ko.b,rh.source.Tile.TileSourceEvent=ko.a,rh.source.TileArcGISRest=Ri,rh.source.TileDebug=ki,rh.source.TileImage=Co.a,rh.source.TileJSON=Gi.a,rh.source.TileWMS=Di.a,rh.source.UTFGrid=Ui,rh.source.UTFGrid.CustomTile=Fi,rh.source.UrlTile=Bi.a,rh.source.Vector=To.b,rh.source.Vector.VectorSourceEvent=To.a,rh.source.VectorTile=ri.a,rh.source.VectorTile.defaultLoadFunction=ri.b,rh.source.WMTS=zi.a,rh.source.WMTS.optionsFromCapabilities=zi.b,rh.source.XYZ=Oo.a,rh.source.Zoomify=Ir,rh.source.Zoomify.CustomTile=Er,rh.source.common={},rh.source.common.DEFAULT_WMS_VERSION=Vi.a,rh.source.common.IMAGE_SMOOTHING_DISABLED=Vi.b,rh.source.ogcTileUtil={},rh.source.ogcTileUtil.getMapTileUrlTemplate=Jr,rh.source.ogcTileUtil.getTileSetInfo=ei,rh.source.ogcTileUtil.getVectorTileUrlTemplate=Qr,rh.sphere={},rh.sphere.DEFAULT_RADIUS=Ce.a,rh.sphere.getArea=Ce.b,rh.sphere.getDistance=Ce.c,rh.sphere.getLength=Ce.d,rh.sphere.offset=Ce.e,rh.string={},rh.string.compareVersions=we.a,rh.string.padNumber=we.b,rh.structs={},rh.structs.LRUCache=et.a,rh.structs.LinkedList=_o,rh.structs.PriorityQueue=bo.b,rh.structs.PriorityQueue.DROP=bo.a,rh.structs.RBush=Ao.a,rh.style={},rh.style.Circle=lo.a,rh.style.Fill=co.a,rh.style.Icon=uo.a,rh.style.IconImage=ho.a,rh.style.IconImage.get=ho.b,rh.style.IconImageCache=po.a,rh.style.IconImageCache.shared=po.b,rh.style.Image=fo.a,rh.style.RegularShape=go.a,rh.style.Stroke=mo.a,rh.style.Style=yo.c,rh.style.Style.createDefaultStyle=yo.a,rh.style.Style.createEditingStyle=yo.b,rh.style.Style.toFunction=yo.d,rh.style.Text=vo.a,rh.style.expressions={},rh.style.expressions.Operators=Gt,rh.style.expressions.arrayToGlsl=Ut,rh.style.expressions.colorToGlsl=Bt,rh.style.expressions.expressionToGlsl=Wt,rh.style.expressions.getStringNumberEquivalent=zt,rh.style.expressions.getValueType=Dt,rh.style.expressions.isTypeUnique=Nt,rh.style.expressions.numberToGlsl=Ft,rh.style.expressions.stringToGlsl=Vt,rh.style.expressions.uniformNameForVariable=eo,rh.tilecoord={},rh.tilecoord.createOrUpdate=Ee.a,rh.tilecoord.fromKey=Ee.b,rh.tilecoord.getCacheKeyForTileKey=Ee.c,rh.tilecoord.getKey=Ee.d,rh.tilecoord.getKeyZXY=Ee.e,rh.tilecoord.hash=Ee.f,rh.tilecoord.withinExtentAndZ=Ee.g,rh.tilegrid={},rh.tilegrid.TileGrid=io.a,rh.tilegrid.WMTS=ao.b,rh.tilegrid.WMTS.createFromCapabilitiesMatrixSet=ao.a,rh.tilegrid.common={},rh.tilegrid.common.DEFAULT_MAX_ZOOM=so.a,rh.tilegrid.common.DEFAULT_TILE_SIZE=so.b,rh.tilegrid.createForExtent=Ie.a,rh.tilegrid.createForProjection=Ie.b,rh.tilegrid.createXYZ=Ie.c,rh.tilegrid.extentFromProjection=Ie.d,rh.tilegrid.getForProjection=Ie.e,rh.tilegrid.wrapX=Ie.f,rh.tileurlfunction={},rh.tileurlfunction.createFromTemplate=Oe.a,rh.tileurlfunction.createFromTemplates=Oe.b,rh.tileurlfunction.createFromTileUrlFunctions=Oe.c,rh.tileurlfunction.expandUrl=Oe.d,rh.tileurlfunction.nullTileUrlFunction=Oe.e,rh.transform={},rh.transform.apply=Se.a,rh.transform.compose=Se.b,rh.transform.composeCssTransform=Se.c,rh.transform.create=Se.d,rh.transform.determinant=Se.e,rh.transform.invert=Se.f,rh.transform.makeInverse=Se.g,rh.transform.makeScale=Se.h,rh.transform.multiply=Se.i,rh.transform.reset=Se.j,rh.transform.rotate=Se.k;rh.transform.scale=Se.l,rh.transform.set=Se.m,rh.transform.setFromArray=Se.n,rh.transform.toString=Se.o,rh.transform.translate=Se.p,rh.uri={},rh.uri.appendParams=xe.a,rh.util={},rh.util.VERSION=je.a,rh.util.abstract=je.b,rh.util.getUid=je.c,rh.vec={},rh.vec.mat4={},rh.vec.mat4.create=Fe,rh.vec.mat4.fromTransform=Ue,rh.webgl={},rh.webgl.ARRAY_BUFFER=34962,rh.webgl.Buffer=ke,rh.webgl.Buffer.getArrayClassForType=Le,rh.webgl.DYNAMIC_DRAW=35048,rh.webgl.ELEMENT_ARRAY_BUFFER=34963,rh.webgl.FLOAT=5126,rh.webgl.Helper=Je,rh.webgl.Helper.computeAttributesStride=Ze,rh.webgl.PostProcessingPass=Ne,rh.webgl.RenderTarget=$e,rh.webgl.STATIC_DRAW=35044,rh.webgl.STREAM_DRAW=35040,rh.webgl.ShaderBuilder={},rh.webgl.ShaderBuilder.ShaderBuilder=no,rh.webgl.ShaderBuilder.parseLiteralStyle=ro,rh.webgl.TileTexture=at,rh.webgl.UNSIGNED_BYTE=5121,rh.webgl.UNSIGNED_INT=5125,rh.webgl.UNSIGNED_SHORT=5123,rh.webgl.getContext=Te,rh.webgl.getSupportedExtensions=function(){if(!r){var e=Te(document.createElement("canvas"));e&&(r=e.getSupportedExtensions())}return r},rh.xml={},rh.xml.OBJECT_PROPERTY_NODE_FACTORY=Me.a,rh.xml.XML_SCHEMA_INSTANCE_URI=Me.b,rh.xml.createElementNS=Me.c,rh.xml.getAllTextContent=Me.d,rh.xml.getAllTextContent_=Me.e,rh.xml.getAttributeNS=Me.f,rh.xml.getDocument=Me.g,rh.xml.getXMLSerializer=Me.h,rh.xml.isDocument=Me.i,rh.xml.makeArrayExtender=Me.j,rh.xml.makeArrayPusher=Me.k,rh.xml.makeArraySerializer=Me.l,rh.xml.makeChildAppender=Me.m,rh.xml.makeObjectPropertyPusher=Me.n,rh.xml.makeObjectPropertySetter=Me.o,rh.xml.makeReplacer=Me.p,rh.xml.makeSequence=Me.q,rh.xml.makeSimpleNodeFactory=Me.r,rh.xml.makeStructureNS=Me.s,rh.xml.parse=Me.t,rh.xml.parseNode=Me.u,rh.xml.pushParseAndPop=Me.v,rh.xml.pushSerializeAndPop=Me.w,rh.xml.registerDocument=Me.x,rh.xml.registerXMLSerializer=Me.y,rh.xml.serialize=Me.z;t.default=rh},"./node_modules/eventbusjs/lib/eventbus.min.js":function(e,t,o){var n;e.exports=((n=function(){this.listeners={}}).prototype={addEventListener:function(e,t,o){for(var n=[],r=arguments.length,i=0;i<r;i++)n.push(arguments[i]);n=n.length>3?n.splice(3,n.length-1):[],void 0!==this.listeners[e]?this.listeners[e].push({scope:o,callback:t,args:n}):this.listeners[e]=[{scope:o,callback:t,args:n}]},removeEventListener:function(e,t,o){if(void 0!==this.listeners[e]){for(var n=this.listeners[e].length,r=[],i=0;i<n;i++){var a=this.listeners[e][i];a.scope==o&&a.callback==t||r.push(a)}this.listeners[e]=r}},hasEventListener:function(e,t,o){if(void 0!==this.listeners[e]){var n=this.listeners[e].length;if(void 0===t&&void 0===o)return n>0;for(var r=0;r<n;r++){var i=this.listeners[e][r];if((!o||i.scope==o)&&i.callback==t)return!0}}return!1},dispatch:function(e,t){for(var o={type:e,target:t},n=[],r=arguments.length,i=0;i<r;i++)n.push(arguments[i]);if(n=n.length>2?n.splice(2,n.length-1):[],n=[o].concat(n),void 0!==this.listeners[e]){var a=this.listeners[e].slice(),s=a.length;for(i=0;i<s;i++){var l=a[i];if(l&&l.callback){var c=n.concat(l.args);l.callback.apply(l.scope,c)}}}},getEvents:function(){var e="";for(var t in this.listeners)for(var o=this.listeners[t].length,n=0;n<o;n++){var r=this.listeners[t][n];e+=r.scope&&r.scope.className?r.scope.className:"anonymous",e+=" listen for '"+t+"'\n"}return e}},new n)},"./node_modules/geoportal-access-lib/package.json":function(e){e.exports=JSON.parse('{"_from":"geoportal-access-lib@3.4.2","_id":"geoportal-access-lib@3.4.2","_inBundle":false,"_integrity":"sha512-dg7lW+4jhlMQzWp95ejqJLVDYgBQeTY7/ypP7qo3GS2ci4KghdgaFeFftUFbEbOSKQ6cn7FUbBTXAKB6uUADlw==","_location":"/geoportal-access-lib","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"geoportal-access-lib@3.4.2","name":"geoportal-access-lib","escapedName":"geoportal-access-lib","rawSpec":"3.4.2","saveSpec":null,"fetchSpec":"3.4.2"},"_requiredBy":["/geoportal-extensions-itowns","/geoportal-extensions-openlayers"],"_resolved":"https://registry.npmjs.org/geoportal-access-lib/-/geoportal-access-lib-3.4.2.tgz","_shasum":"8f92a231104f195dbd098add811ae1367877ef7d","_spec":"geoportal-access-lib@3.4.2","_where":"/home/runner/work/geoportal-sdk/geoportal-sdk/node_modules/geoportal-extensions-itowns","author":{"name":"IGNF"},"bugs":{"url":"https://github.com/IGNF/geoportal-access-lib/issues"},"bundleDependencies":false,"date":"14/05/2024","dependencies":{"@xmldom/xmldom":"^0.8.10","es6-promise":"^4.2.4","node-fetch":"^2.6.1"},"deprecated":false,"description":"French Geoportal resources access library","devDependencies":{"@babel/core":"^7.12.10","@babel/plugin-transform-template-literals":"^7.12.1","@babel/preset-env":"^7.12.11","babel-loader":"^8.2.2","chai":"^4.1.2","clean-webpack-plugin":"^3.0.0","copy-webpack-plugin":"^5.1.2","eslint":"^7.18.0","eslint-config-standard":"^16.0.2","eslint-loader":"^4.0.2","eslint-plugin-import":"^2.22.1","eslint-plugin-node":"^11.1.0","eslint-plugin-promise":"^4.2.1","eslint-plugin-standard":"^5.0.0","glob":"^7.1.2","handlebars-layouts":"^3.1.4","handlebars-webpack-plugin":"^1.4.1","html-webpack-plugin":"^4.5.1","istanbul-instrumenter-loader":"^3.0.1","jsdoc-webpack-plugin":"^0.3.0","loglevel":"^1.6.1","mocha":"^7.2.0","mocha-loader":"^5.1.5","mocha-webpack":"^2.0.0-beta.0","mochawesome":"^6.2.1","nyc":"^15.1.0","path":"^0.12.7","replace-bundle-webpack-plugin":"^1.0.0","sinon":"^9.2.4","sinon-es6":"0.0.3","speed-measure-webpack-plugin":"^1.4.2","string-template":"^1.0.0","terser-webpack-plugin":"^2.3.8","webpack":"^4.46.0","webpack-cli":"^3.3.12","webpack-dev-server":"^3.11.2","webpack-node-externals":"^2.5.2","webpack-shell-plugin":"^0.5.0"},"homepage":"https://github.com/IGNF/geoportal-access-lib#readme","keywords":["geoplateforme","geoportail","webservice","javascript","es6"],"license":"CECILL-B","main":"dist/GpServices-src.js","module":"src/Gp.js","name":"geoportal-access-lib","nyc":{"include":["src/**/*.js"],"instrument":false,"sourceMap":false},"optionalDependencies":{},"peerDependencies":{},"repository":{"type":"git","url":"git+https://github.com/IGNF/geoportal-access-lib.git"},"scripts":{"build":"webpack --mode=none","build:dev":"webpack --mode=development","build:prod":"webpack --mode=production","clean":"echo \\"Warning: no yet implemented!\\" && exit 0","cover":"nyc --reporter=lcov --reporter=text npm run test","doc":"npm run doc:serve","doc:serve":"webpack-dev-server --content-base jsdoc --port 9001 --open","eslint":"eslint src/","sample":"npm run sample:serve","sample:serve":"webpack-dev-server --mode=none --open-page samples/index-src.html --https --content-base . --output-public-path \'/dist/\' --port 9001 --open","sample:serve:dev":"webpack-dev-server --mode=development --open-page samples/index-map.html --content-base . --output-public-path \'/dist/\' --port 9001 --open","sample:serve:prod":"webpack-dev-server --mode=production --open-page samples/index-prod.html --content-base . --output-public-path \'/dist/\' --port 9001 --open","setup":"npm install","test":"mocha-webpack --reporter mochawesome --reporter-options reportDir=test-report,reportFilename=index --webpack-config ./test/webpack/webpack.test.js --glob \\"test_*.js\\" test/spec/","test:end-to-end:serve":"webpack-dev-server --hot --config ./test/webpack/webpack.end-to-end.serve.js","test:end-to-end:serve:docker":"webpack-dev-server --hot --config ./test/webpack/webpack.end-to-end.serve.docker.js","test:serve":"webpack-dev-server --hot --config ./test/webpack/webpack.test.serve.js","test:serve:docker":"webpack-dev-server --hot --config ./test/webpack/webpack.test.serve.docker.js"},"version":"3.4.2"}')},"./node_modules/geoportal-extensions-openlayers/dist/GpPluginOpenLayers-src.css":function(e,t,o){},"./node_modules/geoportal-extensions-openlayers/package.json":function(e){e.exports=JSON.parse('{"_from":"geoportal-extensions-openlayers@3.4.4","_id":"geoportal-extensions-openlayers@3.4.4","_inBundle":false,"_integrity":"sha512-qSUdAA1Ve+dWmJLsz78gpYnKrrAdM7BRtBZ3gicDl4GB3ybMNdNyVKJ0fBmXUYoA4s95VK1CYFmC2W2uCwQa5w==","_location":"/geoportal-extensions-openlayers","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"geoportal-extensions-openlayers@3.4.4","name":"geoportal-extensions-openlayers","escapedName":"geoportal-extensions-openlayers","rawSpec":"3.4.4","saveSpec":null,"fetchSpec":"3.4.4"},"_requiredBy":["#DEV:/"],"_resolved":"https://registry.npmjs.org/geoportal-extensions-openlayers/-/geoportal-extensions-openlayers-3.4.4.tgz","_shasum":"0aa6f05ff361c81a8c0ae7b49ee28c777ab3268e","_spec":"geoportal-extensions-openlayers@3.4.4","_where":"/home/runner/work/geoportal-sdk/geoportal-sdk","bundleDependencies":false,"date":"05/06/2024","dependencies":{"@mapbox/mapbox-gl-style-spec":"13.20.1","eventbusjs":"0.2.0","geoportal-access-lib":"3.4.2","loglevel":"1.6.6","node-fetch":"^2.6.1","ol":"6.9.0","proj4":"2.7.5","sortablejs":"1.14.0","xmldom":"^0.1.27"},"deprecated":false,"description":"![GitHub package.json version](https://img.shields.io/github/package-json/v/IGNF/geoportal-extensions?filename=build%2Fscripts%2Frelease%2Fpackage-openlayers.json)","devDependencies":{},"directories":{},"files":["dist/","src/","LICENCE.md","README.md","package.json"],"homepage":"https://github.com/IGNF/geoportal-extensions#readme","keywords":["geoportail","geoplateforme","plugin","javascript","OpenLayers"],"license":"CECILL-B","module":"src/OpenLayers/index.js","name":"geoportal-extensions-openlayers","peerDependencies":{},"repository":{"url":"git+https://github.com/IGNF/geoportal-extensions.git","type":"git"},"scripts":{},"types":"src/OpenLayers/index.d.ts","version":"3.4.4"}')},"./node_modules/geoportal-extensions-openlayers/src/Common/CSS/GPboostRelief.css":function(e,t,o){},"./node_modules/geoportal-extensions-openlayers/src/Common/CSS/GPbuildings.css":function(e,t,o){},"./node_modules/geoportal-extensions-openlayers/src/Common/CSS/GPdrawing.css":function(e,t,o){},"./node_modules/geoportal-extensions-openlayers/src/Common/CSS/GPelevationPath.css":function(e,t,o){},"./node_modules/geoportal-extensions-openlayers/src/Common/CSS/GPgeneralWidget.css":function(e,t,o){},"./node_modules/geoportal-extensions-openlayers/src/Common/CSS/GPgetFeatureInfo.css":function(e,t,o){},"./node_modules/geoportal-extensions-openlayers/src/Common/CSS/GPisochron.css":function(e,t,o){},"./node_modules/geoportal-extensions-openlayers/src/Common/CSS/GPlayerSwitcher.css":function(e,t,o){},"./node_modules/geoportal-extensions-openlayers/src/Common/CSS/GPlocation.css":function(e,t,o){},"./node_modules/geoportal-extensions-openlayers/src/Common/CSS/GPmeasureArea.css":function(e,t,o){},"./node_modules/geoportal-extensions-openlayers/src/Common/CSS/GPmeasureAzimuth.css":function(e,t,o){},"./node_modules/geoportal-extensions-openlayers/src/Common/CSS/GPmeasureLength.css":function(e,t,o){},"./node_modules/geoportal-extensions-openlayers/src/Common/CSS/GPmeasureToolTip.css":function(e,t,o){},"./node_modules/geoportal-extensions-openlayers/src/Common/CSS/GPmousePosition.css":function(e,t,o){},"./node_modules/geoportal-extensions-openlayers/src/Common/CSS/GPreverseGeocoding.css":function(e,t,o){},"./node_modules/geoportal-extensions-openlayers/src/Common/CSS/GProute.css":function(e,t,o){},"./node_modules/geoportal-extensions-openlayers/src/Common/CSS/GPsearchEngine.css":function(e,t,o){},"./node_modules/geoportal-extensions-openlayers/src/Common/CSS/GPwaiting.css":function(e,t,o){},"./node_modules/geoportal-extensions-openlayers/src/Common/Utils/Config.js":function(e,t,o){"use strict";(function(e){var o={configuration:{},isConfigLoaded:function(){if(this.configuration&&0!==Object.keys(this.configuration).length)return!0;var t="undefined"!=typeof window?window:"undefined"!=typeof self?self:void 0!==e?e:{};return!!(t.Gp&&t.Gp.Config&&t.Gp.Config.layers&&0!==Object.keys(t.Gp.Config.layers).length)&&(this.configuration=t.Gp.Config,!0)}};t.a=o}).call(this,o("./node_modules/webpack/buildin/global.js"))},"./node_modules/geoportal-extensions-openlayers/src/OpenLayers/CSS/Controls/Attribution/GPattributionOpenLayers.css":function(e,t,o){},"./node_modules/geoportal-extensions-openlayers/src/OpenLayers/CSS/Controls/Drawing/GPdrawingOpenLayers.css":function(e,t,o){},"./node_modules/geoportal-extensions-openlayers/src/OpenLayers/CSS/Controls/Editor/GPeditorOpenLayers.css":function(e,t,o){},"./node_modules/geoportal-extensions-openlayers/src/OpenLayers/CSS/Controls/ElevationPath/GPelevationPathOpenLayers.css":function(e,t,o){},"./node_modules/geoportal-extensions-openlayers/src/OpenLayers/CSS/Controls/Export/GPexportOpenLayers.css":function(e,t,o){},"./node_modules/geoportal-extensions-openlayers/src/OpenLayers/CSS/Controls/GetFeatureInfo/GPgetFeatureInfoOpenLayers.css":function(e,t,o){},"./node_modules/geoportal-extensions-openlayers/src/OpenLayers/CSS/Controls/Isochrone/GPisochronOpenLayers.css":function(e,t,o){},"./node_modules/geoportal-extensions-openlayers/src/OpenLayers/CSS/Controls/LayerImport/GPimportOpenLayers.css":function(e,t,o){},"./node_modules/geoportal-extensions-openlayers/src/OpenLayers/CSS/Controls/LayerSwitcher/GPlayerSwitcherOpenLayers.css":function(e,t,o){},"./node_modules/geoportal-extensions-openlayers/src/OpenLayers/CSS/Controls/LocationSelector/GPlocationOpenLayers.css":function(e,t,o){},"./node_modules/geoportal-extensions-openlayers/src/OpenLayers/CSS/Controls/Measures/GPmeasureAreaOpenLayers.css":function(e,t,o){},"./node_modules/geoportal-extensions-openlayers/src/OpenLayers/CSS/Controls/Measures/GPmeasureAzimuthOpenLayers.css":function(e,t,o){},"./node_modules/geoportal-extensions-openlayers/src/OpenLayers/CSS/Controls/Measures/GPmeasureLengthOpenLayers.css":function(e,t,o){},"./node_modules/geoportal-extensions-openlayers/src/OpenLayers/CSS/Controls/MousePosition/GPmousePositionOpenLayers.css":function(e,t,o){},"./node_modules/geoportal-extensions-openlayers/src/OpenLayers/CSS/Controls/ReverseGeocoding/GPreverseGeocodingOpenLayers.css":function(e,t,o){},"./node_modules/geoportal-extensions-openlayers/src/OpenLayers/CSS/Controls/Route/GProuteOpenLayers.css":function(e,t,o){},"./node_modules/geoportal-extensions-openlayers/src/OpenLayers/CSS/Controls/SearchEngine/GPsearchEngineOpenLayers.css":function(e,t,o){},"./node_modules/geoportal-extensions-openlayers/src/OpenLayers/CSS/Controls/ToolBoxMeasure/GPtoolBoxMeasureOpenLayers.css":function(e,t,o){},"./node_modules/geoportal-extensions-openlayers/src/OpenLayers/CSS/GPgeneralWidgetOpenLayers.css":function(e,t,o){},"./node_modules/geotiff/node_modules/lru-cache/index.js":function(e,t,o){"use strict";const n=o("./node_modules/geotiff/node_modules/yallist/yallist.js"),r=Symbol("max"),i=Symbol("length"),a=Symbol("lengthCalculator"),s=Symbol("allowStale"),l=Symbol("maxAge"),c=Symbol("dispose"),u=Symbol("noDisposeOnSet"),d=Symbol("lruList"),h=Symbol("cache"),p=Symbol("updateAgeOnGet"),f=()=>1;const g=(e,t,o)=>{const n=e[h].get(t);if(n){const t=n.value;if(m(e,t)){if(v(e,n),!e[s])return}else o&&(e[p]&&(n.value.now=Date.now()),e[d].unshiftNode(n));return t.value}},m=(e,t)=>{if(!t||!t.maxAge&&!e[l])return!1;const o=Date.now()-t.now;return t.maxAge?o>t.maxAge:e[l]&&o>e[l]},y=e=>{if(e[i]>e[r])for(let t=e[d].tail;e[i]>e[r]&&null!==t;){const o=t.prev;v(e,t),t=o}},v=(e,t)=>{if(t){const o=t.value;e[c]&&e[c](o.key,o.value),e[i]-=o.length,e[h].delete(o.key),e[d].removeNode(t)}};class _{constructor(e,t,o,n,r){this.key=e,this.value=t,this.length=o,this.now=n,this.maxAge=r||0}}const b=(e,t,o,n)=>{let r=o.value;m(e,r)&&(v(e,o),e[s]||(r=void 0)),r&&t.call(n,r.value,r.key,e)};e.exports=class{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[r]=e.max||1/0;const t=e.length||f;if(this[a]="function"!=typeof t?f:t,this[s]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[l]=e.maxAge||0,this[c]=e.dispose,this[u]=e.noDisposeOnSet||!1,this[p]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[r]=e||1/0,y(this)}get max(){return this[r]}set allowStale(e){this[s]=!!e}get allowStale(){return this[s]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[l]=e,y(this)}get maxAge(){return this[l]}set lengthCalculator(e){"function"!=typeof e&&(e=f),e!==this[a]&&(this[a]=e,this[i]=0,this[d].forEach(e=>{e.length=this[a](e.value,e.key),this[i]+=e.length})),y(this)}get lengthCalculator(){return this[a]}get length(){return this[i]}get itemCount(){return this[d].length}rforEach(e,t){t=t||this;for(let o=this[d].tail;null!==o;){const n=o.prev;b(this,e,o,t),o=n}}forEach(e,t){t=t||this;for(let o=this[d].head;null!==o;){const n=o.next;b(this,e,o,t),o=n}}keys(){return this[d].toArray().map(e=>e.key)}values(){return this[d].toArray().map(e=>e.value)}reset(){this[c]&&this[d]&&this[d].length&&this[d].forEach(e=>this[c](e.key,e.value)),this[h]=new Map,this[d]=new n,this[i]=0}dump(){return this[d].map(e=>!m(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[d]}set(e,t,o){if((o=o||this[l])&&"number"!=typeof o)throw new TypeError("maxAge must be a number");const n=o?Date.now():0,s=this[a](t,e);if(this[h].has(e)){if(s>this[r])return v(this,this[h].get(e)),!1;const a=this[h].get(e).value;return this[c]&&(this[u]||this[c](e,a.value)),a.now=n,a.maxAge=o,a.value=t,this[i]+=s-a.length,a.length=s,this.get(e),y(this),!0}const p=new _(e,t,s,n,o);return p.length>this[r]?(this[c]&&this[c](e,t),!1):(this[i]+=p.length,this[d].unshift(p),this[h].set(e,this[d].head),y(this),!0)}has(e){if(!this[h].has(e))return!1;const t=this[h].get(e).value;return!m(this,t)}get(e){return g(this,e,!0)}peek(e){return g(this,e,!1)}pop(){const e=this[d].tail;return e?(v(this,e),e.value):null}del(e){v(this,this[h].get(e))}load(e){this.reset();const t=Date.now();for(let o=e.length-1;o>=0;o--){const n=e[o],r=n.e||0;if(0===r)this.set(n.k,n.v);else{const e=r-t;e>0&&this.set(n.k,n.v,e)}}}prune(){this[h].forEach((e,t)=>g(this,t,!1))}}},"./node_modules/geotiff/node_modules/yallist/iterator.js":function(e,t,o){"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},"./node_modules/geotiff/node_modules/yallist/yallist.js":function(e,t,o){"use strict";function n(e){var t=this;if(t instanceof n||(t=new n),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var o=0,r=arguments.length;o<r;o++)t.push(arguments[o]);return t}function r(e,t,o){var n=t===e.head?new s(o,null,t,e):new s(o,t,t.next,e);return null===n.next&&(e.tail=n),null===n.prev&&(e.head=n),e.length++,n}function i(e,t){e.tail=new s(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function a(e,t){e.head=new s(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function s(e,t,o,n){if(!(this instanceof s))return new s(e,t,o,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,o?(o.prev=this,this.next=o):this.next=null}e.exports=n,n.Node=s,n.create=n,n.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,o=e.prev;return t&&(t.prev=o),o&&(o.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=o),e.list.length--,e.next=null,e.prev=null,e.list=null,t},n.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},n.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},n.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)i(this,arguments[e]);return this.length},n.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)a(this,arguments[e]);return this.length},n.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},n.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},n.prototype.forEach=function(e,t){t=t||this;for(var o=this.head,n=0;null!==o;n++)e.call(t,o.value,n,this),o=o.next},n.prototype.forEachReverse=function(e,t){t=t||this;for(var o=this.tail,n=this.length-1;null!==o;n--)e.call(t,o.value,n,this),o=o.prev},n.prototype.get=function(e){for(var t=0,o=this.head;null!==o&&t<e;t++)o=o.next;if(t===e&&null!==o)return o.value},n.prototype.getReverse=function(e){for(var t=0,o=this.tail;null!==o&&t<e;t++)o=o.prev;if(t===e&&null!==o)return o.value},n.prototype.map=function(e,t){t=t||this;for(var o=new n,r=this.head;null!==r;)o.push(e.call(t,r.value,this)),r=r.next;return o},n.prototype.mapReverse=function(e,t){t=t||this;for(var o=new n,r=this.tail;null!==r;)o.push(e.call(t,r.value,this)),r=r.prev;return o},n.prototype.reduce=function(e,t){var o,n=this.head;if(arguments.length>1)o=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");n=this.head.next,o=this.head.value}for(var r=0;null!==n;r++)o=e(o,n.value,r),n=n.next;return o},n.prototype.reduceReverse=function(e,t){var o,n=this.tail;if(arguments.length>1)o=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");n=this.tail.prev,o=this.tail.value}for(var r=this.length-1;null!==n;r--)o=e(o,n.value,r),n=n.prev;return o},n.prototype.toArray=function(){for(var e=new Array(this.length),t=0,o=this.head;null!==o;t++)e[t]=o.value,o=o.next;return e},n.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,o=this.tail;null!==o;t++)e[t]=o.value,o=o.prev;return e},n.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var o=new n;if(t<e||t<0)return o;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=0,i=this.head;null!==i&&r<e;r++)i=i.next;for(;null!==i&&r<t;r++,i=i.next)o.push(i.value);return o},n.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var o=new n;if(t<e||t<0)return o;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=this.length,i=this.tail;null!==i&&r>t;r--)i=i.prev;for(;null!==i&&r>e;r--,i=i.prev)o.push(i.value);return o},n.prototype.splice=function(e,t,...o){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,i=this.head;null!==i&&n<e;n++)i=i.next;var a=[];for(n=0;i&&n<t;n++)a.push(i.value),i=this.removeNode(i);null===i&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(n=0;n<o.length;n++)i=r(this,i,o[n]);return a},n.prototype.reverse=function(){for(var e=this.head,t=this.tail,o=e;null!==o;o=o.prev){var n=o.prev;o.prev=o.next,o.next=n}return this.head=t,this.tail=e,this};try{o("./node_modules/geotiff/node_modules/yallist/iterator.js")(n)}catch(e){}},"./node_modules/geotiff/src/globals.js":function(e,t,o){"use strict";o.d(t,"e",(function(){return n})),o.d(t,"f",(function(){return i})),o.d(t,"d",(function(){return a})),o.d(t,"g",(function(){return s})),o.d(t,"h",(function(){return l})),o.d(t,"j",(function(){return c})),o.d(t,"a",(function(){return u})),o.d(t,"c",(function(){return d})),o.d(t,"b",(function(){return h})),o.d(t,"i",(function(){return p}));const n={315:"Artist",258:"BitsPerSample",265:"CellLength",264:"CellWidth",320:"ColorMap",259:"Compression",33432:"Copyright",306:"DateTime",338:"ExtraSamples",266:"FillOrder",289:"FreeByteCounts",288:"FreeOffsets",291:"GrayResponseCurve",290:"GrayResponseUnit",316:"HostComputer",270:"ImageDescription",257:"ImageLength",256:"ImageWidth",271:"Make",281:"MaxSampleValue",280:"MinSampleValue",272:"Model",254:"NewSubfileType",274:"Orientation",262:"PhotometricInterpretation",284:"PlanarConfiguration",296:"ResolutionUnit",278:"RowsPerStrip",277:"SamplesPerPixel",305:"Software",279:"StripByteCounts",273:"StripOffsets",255:"SubfileType",263:"Threshholding",282:"XResolution",283:"YResolution",326:"BadFaxLines",327:"CleanFaxData",343:"ClipPath",328:"ConsecutiveBadFaxLines",433:"Decode",434:"DefaultImageColor",269:"DocumentName",336:"DotRange",321:"HalftoneHints",346:"Indexed",347:"JPEGTables",285:"PageName",297:"PageNumber",317:"Predictor",319:"PrimaryChromaticities",532:"ReferenceBlackWhite",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",559:"StripRowCounts",330:"SubIFDs",292:"T4Options",293:"T6Options",325:"TileByteCounts",323:"TileLength",324:"TileOffsets",322:"TileWidth",301:"TransferFunction",318:"WhitePoint",344:"XClipPathUnits",286:"XPosition",529:"YCbCrCoefficients",531:"YCbCrPositioning",530:"YCbCrSubSampling",345:"YClipPathUnits",287:"YPosition",37378:"ApertureValue",40961:"ColorSpace",36868:"DateTimeDigitized",36867:"DateTimeOriginal",34665:"Exif IFD",36864:"ExifVersion",33434:"ExposureTime",41728:"FileSource",37385:"Flash",40960:"FlashpixVersion",33437:"FNumber",42016:"ImageUniqueID",37384:"LightSource",37500:"MakerNote",37377:"ShutterSpeedValue",37510:"UserComment",33723:"IPTC",34675:"ICC Profile",700:"XMP",42112:"GDAL_METADATA",42113:"GDAL_NODATA",34377:"Photoshop",33550:"ModelPixelScale",33922:"ModelTiepoint",34264:"ModelTransformation",34735:"GeoKeyDirectory",34736:"GeoDoubleParams",34737:"GeoAsciiParams",50674:"LercParameters"},r={};for(const e in n)n.hasOwnProperty(e)&&(r[n[e]]=parseInt(e,10));const i={256:"SHORT",257:"SHORT",258:"SHORT",259:"SHORT",262:"SHORT",273:"LONG",274:"SHORT",277:"SHORT",278:"LONG",279:"LONG",282:"RATIONAL",283:"RATIONAL",284:"SHORT",286:"SHORT",287:"RATIONAL",296:"SHORT",297:"SHORT",305:"ASCII",306:"ASCII",338:"SHORT",339:"SHORT",513:"LONG",514:"LONG",1024:"SHORT",1025:"SHORT",2048:"SHORT",2049:"ASCII",3072:"SHORT",3073:"ASCII",33550:"DOUBLE",33922:"DOUBLE",34665:"LONG",34735:"SHORT",34737:"ASCII",42113:"ASCII"},a=[r.BitsPerSample,r.ExtraSamples,r.SampleFormat,r.StripByteCounts,r.StripOffsets,r.StripRowCounts,r.TileByteCounts,r.TileOffsets,r.SubIFDs],s={1:"BYTE",2:"ASCII",3:"SHORT",4:"LONG",5:"RATIONAL",6:"SBYTE",7:"UNDEFINED",8:"SSHORT",9:"SLONG",10:"SRATIONAL",11:"FLOAT",12:"DOUBLE",13:"IFD",16:"LONG8",17:"SLONG8",18:"IFD8"},l={};for(const e in s)s.hasOwnProperty(e)&&(l[s[e]]=parseInt(e,10));const c={WhiteIsZero:0,BlackIsZero:1,RGB:2,Palette:3,TransparencyMask:4,CMYK:5,YCbCr:6,CIELab:8,ICCLab:9},u={Unspecified:0,Assocalpha:1,Unassalpha:2},d={Version:0,AddCompression:1},h={None:0,Deflate:1},p={1024:"GTModelTypeGeoKey",1025:"GTRasterTypeGeoKey",1026:"GTCitationGeoKey",2048:"GeographicTypeGeoKey",2049:"GeogCitationGeoKey",2050:"GeogGeodeticDatumGeoKey",2051:"GeogPrimeMeridianGeoKey",2052:"GeogLinearUnitsGeoKey",2053:"GeogLinearUnitSizeGeoKey",2054:"GeogAngularUnitsGeoKey",2055:"GeogAngularUnitSizeGeoKey",2056:"GeogEllipsoidGeoKey",2057:"GeogSemiMajorAxisGeoKey",2058:"GeogSemiMinorAxisGeoKey",2059:"GeogInvFlatteningGeoKey",2060:"GeogAzimuthUnitsGeoKey",2061:"GeogPrimeMeridianLongGeoKey",2062:"GeogTOWGS84GeoKey",3072:"ProjectedCSTypeGeoKey",3073:"PCSCitationGeoKey",3074:"ProjectionGeoKey",3075:"ProjCoordTransGeoKey",3076:"ProjLinearUnitsGeoKey",3077:"ProjLinearUnitSizeGeoKey",3078:"ProjStdParallel1GeoKey",3079:"ProjStdParallel2GeoKey",3080:"ProjNatOriginLongGeoKey",3081:"ProjNatOriginLatGeoKey",3082:"ProjFalseEastingGeoKey",3083:"ProjFalseNorthingGeoKey",3084:"ProjFalseOriginLongGeoKey",3085:"ProjFalseOriginLatGeoKey",3086:"ProjFalseOriginEastingGeoKey",3087:"ProjFalseOriginNorthingGeoKey",3088:"ProjCenterLongGeoKey",3089:"ProjCenterLatGeoKey",3090:"ProjCenterEastingGeoKey",3091:"ProjCenterNorthingGeoKey",3092:"ProjScaleAtNatOriginGeoKey",3093:"ProjScaleAtCenterGeoKey",3094:"ProjAzimuthAngleGeoKey",3095:"ProjStraightVertPoleLongGeoKey",3096:"ProjRectifiedGridAngleGeoKey",4096:"VerticalCSTypeGeoKey",4097:"VerticalCitationGeoKey",4098:"VerticalDatumGeoKey",4099:"VerticalUnitsGeoKey"},f={};for(const e in p)p.hasOwnProperty(e)&&(f[p[e]]=parseInt(e,10))},"./node_modules/geotiff/src/source/basesource.js":function(e,t,o){"use strict";o.d(t,"a",(function(){return n}));class n{async fetch(e,t){return Promise.all(e.map(e=>this.fetchSlice(e,t)))}async fetchSlice(e){throw new Error(`fetching of slice ${e} not possible, not implemented`)}get fileSize(){return null}async close(){}}},"./node_modules/geotiff/src/source/client/base.js":function(e,t,o){"use strict";o.d(t,"b",(function(){return n})),o.d(t,"a",(function(){return r}));class n{get ok(){return this.status>=200&&this.status<=299}get status(){throw new Error("not implemented")}getHeader(e){throw new Error("not implemented")}async getData(){throw new Error("not implemented")}}class r{constructor(e){this.url=e}async request({headers:e,credentials:t,signal:o}={}){throw new Error("request is not implemented")}}},"./node_modules/geotiff/src/source/client/http.js":function(e,t,o){"use strict";(function(e){o.d(t,"a",(function(){return h}));var n=o(1),r=o.n(n),i=o(2),a=o.n(i),s=o(3),l=o.n(s),c=o("./node_modules/geotiff/src/source/client/base.js"),u=o("./node_modules/geotiff/src/utils.js");class d extends c.b{constructor(e,t){super(),this.response=e,this.dataPromise=t}get status(){return this.response.statusCode}getHeader(e){return this.response.headers[e]}async getData(){return await this.dataPromise}}class h extends c.a{constructor(e){super(e),this.parsedUrl=l.a.parse(this.url),this.httpApi="http:"===this.parsedUrl.protocol?r.a:a.a}constructRequest(t,o){return new Promise((n,r)=>{const i=this.httpApi.get({...this.parsedUrl,headers:t},t=>{const o=new Promise(o=>{const n=[];t.on("data",e=>{n.push(e)}),t.on("end",()=>{const t=e.concat(n).buffer;o(t)}),t.on("error",r)});n(new d(t,o))});i.on("error",r),o&&(o.aborted&&i.destroy(new u.a("Request aborted")),o.addEventListener("abort",()=>i.destroy(new u.a("Request aborted"))))})}async request({headers:e,signal:t}={}){return await this.constructRequest(e,t)}}}).call(this,o("./node_modules/buffer/index.js").Buffer)},"./node_modules/geotiff/src/source/file.js":function(e,t,o){"use strict";(function(e){o.d(t,"a",(function(){return s}));var n=o(4),r=o.n(n),i=o("./node_modules/geotiff/src/source/basesource.js");class a extends i.a{constructor(e){super(),this.path=e,this.openRequest=function(e,t,o){return new Promise((n,i)=>{r.a.open(e,t,o,(e,t)=>{e?i(e):n(t)})})}(e,"r")}async fetchSlice(t){const o=await this.openRequest,{buffer:n}=await function(...e){return new Promise((t,o)=>{r.a.read(...e,(e,n,r)=>{e?o(e):t({bytesRead:n,buffer:r})})})}(o,e.alloc(t.length),0,t.length,t.offset);return n.buffer}async close(){const e=await this.openRequest;await function(e){return new Promise((t,o)=>{r.a.close(e,e=>{e?o(e):t()})})}(e)}}function s(e){return new a(e)}}).call(this,o("./node_modules/buffer/index.js").Buffer)},"./node_modules/geotiff/src/utils.js":function(e,t,o){"use strict";function n(e,t){for(const o in t)t.hasOwnProperty(o)&&(e[o]=t[o])}function r(e,t){if(e.length<t.length)return!1;return e.substr(e.length-t.length)===t}function i(e,t){const{length:o}=e;for(let n=0;n<o;n++)t(e[n],n)}function a(e){const t={};for(const o in e)if(e.hasOwnProperty(o)){t[e[o]]=o}return t}function s(e,t){const o=[];for(let n=0;n<e;n++)o.push(t(n));return o}async function l(e){return new Promise(t=>setTimeout(t,e))}function c(e,t){const o=Array.isArray(e)?e:Array.from(e),n=Array.isArray(t)?t:Array.from(t);return o.map((e,t)=>[e,n[t]])}o.d(t,"c",(function(){return n})),o.d(t,"d",(function(){return r})),o.d(t,"e",(function(){return i})),o.d(t,"f",(function(){return a})),o.d(t,"g",(function(){return s})),o.d(t,"h",(function(){return l})),o.d(t,"i",(function(){return c})),o.d(t,"a",(function(){return u})),o.d(t,"b",(function(){return h}));class u extends Error{constructor(e){super(e),Error.captureStackTrace&&Error.captureStackTrace(this,u),this.name="AbortError"}}class d extends Error{constructor(e,t){super(t),this.errors=e,this.message=t,this.name="AggregateError"}}const h=d},"./node_modules/ieee754/index.js":function(e,t){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,o,n,r){var i,a,s=8*r-n-1,l=(1<<s)-1,c=l>>1,u=-7,d=o?r-1:0,h=o?-1:1,p=e[t+d];for(d+=h,i=p&(1<<-u)-1,p>>=-u,u+=s;u>0;i=256*i+e[t+d],d+=h,u-=8);for(a=i&(1<<-u)-1,i>>=-u,u+=n;u>0;a=256*a+e[t+d],d+=h,u-=8);if(0===i)i=1-c;else{if(i===l)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,n),i-=c}return(p?-1:1)*a*Math.pow(2,i-n)},t.write=function(e,t,o,n,r,i){var a,s,l,c=8*i-r-1,u=(1<<c)-1,d=u>>1,h=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:i-1,f=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+d>=1?h/l:h*Math.pow(2,1-d))*l>=2&&(a++,l/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(t*l-1)*Math.pow(2,r),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,r),a=0));r>=8;e[o+p]=255&s,p+=f,s/=256,r-=8);for(a=a<<r|s,c+=r;c>0;e[o+p]=255&a,p+=f,a/=256,c-=8);e[o+p-f]|=128*g}},"./node_modules/isarray/index.js":function(e,t){var o={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==o.call(e)}},"./node_modules/loglevel/lib/loglevel.js":function(e,t,o){var n,r;!function(i,a){"use strict";void 0===(r="function"==typeof(n=function(){var e=function(){},t="undefined"!=typeof window&&/Trident\/|MSIE /.test(window.navigator.userAgent),o=["trace","debug","info","warn","error"];function n(e,t){var o=e[t];if("function"==typeof o.bind)return o.bind(e);try{return Function.prototype.bind.call(o,e)}catch(t){return function(){return Function.prototype.apply.apply(o,[e,arguments])}}}function r(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function i(o){return"debug"===o&&(o="log"),"undefined"!=typeof console&&("trace"===o&&t?r:void 0!==console[o]?n(console,o):void 0!==console.log?n(console,"log"):e)}function a(t,n){for(var r=0;r<o.length;r++){var i=o[r];this[i]=r<t?e:this.methodFactory(i,t,n)}this.log=this.debug}function s(e,t,o){return function(){"undefined"!=typeof console&&(a.call(this,t,o),this[e].apply(this,arguments))}}function l(e,t,o){return i(e)||s.apply(this,arguments)}function c(e,t,n){var r,i=this,s="loglevel";function c(){var e;if("undefined"!=typeof window){try{e=window.localStorage[s]}catch(e){}if(void 0===e)try{var t=window.document.cookie,o=t.indexOf(encodeURIComponent(s)+"=");-1!==o&&(e=/^([^;]+)/.exec(t.slice(o))[1])}catch(e){}return void 0===i.levels[e]&&(e=void 0),e}}e&&(s+=":"+e),i.name=e,i.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},i.methodFactory=n||l,i.getLevel=function(){return r},i.setLevel=function(t,n){if("string"==typeof t&&void 0!==i.levels[t.toUpperCase()]&&(t=i.levels[t.toUpperCase()]),!("number"==typeof t&&t>=0&&t<=i.levels.SILENT))throw"log.setLevel() called with invalid level: "+t;if(r=t,!1!==n&&function(e){var t=(o[e]||"silent").toUpperCase();if("undefined"!=typeof window){try{return void(window.localStorage[s]=t)}catch(e){}try{window.document.cookie=encodeURIComponent(s)+"="+t+";"}catch(e){}}}(t),a.call(i,t,e),"undefined"==typeof console&&t<i.levels.SILENT)return"No console available for logging"},i.setDefaultLevel=function(e){c()||i.setLevel(e,!1)},i.enableAll=function(e){i.setLevel(i.levels.TRACE,e)},i.disableAll=function(e){i.setLevel(i.levels.SILENT,e)};var u=c();null==u&&(u=null==t?"WARN":t),i.setLevel(u,!1)}var u=new c,d={};u.getLogger=function(e){if("string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=d[e];return t||(t=d[e]=new c(e,u.getLevel(),u.methodFactory)),t};var h="undefined"!=typeof window?window.log:void 0;return u.noConflict=function(){return"undefined"!=typeof window&&window.log===u&&(window.log=h),u},u.getLoggers=function(){return d},u})?n.call(t,o,t,e):n)||(e.exports=r)}()},"./node_modules/mapbox-to-css-font/index.js":function(e,t){var o={thin:100,hairline:100,"ultra-light":200,"extra-light":200,light:300,book:300,regular:400,normal:400,plain:400,roman:400,standard:400,medium:500,"semi-bold":600,"demi-bold":600,bold:700,"extra-bold":800,"ultra-bold":800,heavy:900,black:900,"heavy-black":900,fat:900,poster:900,"ultra-black":950,"extra-black":950},n=/(italic|oblique)$/i,r={};e.exports=function(e,t,i){var a=r[e];if(!a){Array.isArray(e)||(e=[e]);for(var s,l,c=400,u="normal",d=[],h=0,p=e.length;h<p;++h){var f=e[h].split(" "),g=f[f.length-1].toLowerCase();for(var m in"normal"==g||"italic"==g||"oblique"==g?(u=l?u:g,l=!0,f.pop(),g=f[f.length-1].toLowerCase()):n.test(g)&&(g=g.replace(n,""),u=l?u:f[f.length-1].replace(g,""),l=!0),o){var y=f.length>1?f[f.length-2].toLowerCase():"";if(g==m||g==m.replace("-","")||y+"-"+g==m){c=s?c:o[m],f.pop(),y&&m.startsWith(y)&&f.pop();break}}s||"number"!=typeof g||(c=g,s=!0);var v=f.join(" ").replace("Klokantech Noto Sans","Noto Sans");-1!==v.indexOf(" ")&&(v='"'+v+'"'),d.push(v)}a=r[e]=[u,c,d]}return a[0]+" "+a[1]+" "+t+"px"+(i?"/"+i:"")+" "+a[2]}},"./node_modules/ms/index.js":function(e,t){var o=1e3,n=6e4,r=60*n,i=24*r;function a(e,t,o,n){var r=t>=1.5*o;return Math.round(e/o)+" "+n+(r?"s":"")}e.exports=function(e,t){t=t||{};var s=typeof e;if("string"===s&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var a=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"weeks":case"week":case"w":return 6048e5*a;case"days":case"day":case"d":return a*i;case"hours":case"hour":case"hrs":case"hr":case"h":return a*r;case"minutes":case"minute":case"mins":case"min":case"m":return a*n;case"seconds":case"second":case"secs":case"sec":case"s":return a*o;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}(e);if("number"===s&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=i)return a(e,t,i,"day");if(t>=r)return a(e,t,r,"hour");if(t>=n)return a(e,t,n,"minute");if(t>=o)return a(e,t,o,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=i)return Math.round(e/i)+"d";if(t>=r)return Math.round(e/r)+"h";if(t>=n)return Math.round(e/n)+"m";if(t>=o)return Math.round(e/o)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},"./node_modules/observable-fns/dist.esm/multicast.js":function(e,t,o){"use strict";var n=o("./node_modules/observable-fns/dist.esm/observable.js"),r=o("./node_modules/observable-fns/dist.esm/subject.js");var i=function(e){"function"==typeof e?e():e&&"function"==typeof e.unsubscribe&&e.unsubscribe()};t.a=function(e){const t=new r.a;let o,a=0;return new n.a(n=>{o||(o=e.subscribe(t));const r=t.subscribe(n);return a++,()=>{a--,r.unsubscribe(),0===a&&(i(o),o=void 0)}})}},"./node_modules/observable-fns/dist.esm/observable.js":function(e,t,o){"use strict";const n=()=>"function"==typeof Symbol,r=e=>n()&&Boolean(Symbol[e]),i=e=>r(e)?Symbol[e]:"@@"+e;r("asyncIterator")||(Symbol.asyncIterator=Symbol.asyncIterator||Symbol.for("Symbol.asyncIterator"));const a=i("iterator"),s=i("observable"),l=i("species");function c(e,t){const o=e[t];if(null!=o){if("function"!=typeof o)throw new TypeError(o+" is not a function");return o}}function u(e){let t=e.constructor;return void 0!==t&&(t=t[l],null===t&&(t=void 0)),void 0!==t?t:_}function d(e){d.log?d.log(e):setTimeout(()=>{throw e},0)}function h(e){Promise.resolve().then(()=>{try{e()}catch(e){d(e)}})}function p(e){const t=e._cleanup;if(void 0!==t&&(e._cleanup=void 0,t))try{if("function"==typeof t)t();else{const e=c(t,"unsubscribe");e&&e.call(t)}}catch(e){d(e)}}function f(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function g(e,t,o){e._state="running";const n=e._observer;try{const r=n?c(n,t):void 0;switch(t){case"next":r&&r.call(n,o);break;case"error":if(f(e),!r)throw o;r.call(n,o);break;case"complete":f(e),r&&r.call(n)}}catch(e){d(e)}"closed"===e._state?p(e):"running"===e._state&&(e._state="ready")}function m(e,t,o){if("closed"!==e._state)return"buffering"===e._state?(e._queue=e._queue||[],void e._queue.push({type:t,value:o})):"ready"!==e._state?(e._state="buffering",e._queue=[{type:t,value:o}],void h(()=>function(e){const t=e._queue;if(t){e._queue=void 0,e._state="ready";for(const o of t)if(g(e,o.type,o.value),"closed"===e._state)break}}(e))):void g(e,t,o)}class y{constructor(e,t){this._cleanup=void 0,this._observer=e,this._queue=void 0,this._state="initializing";const o=new v(this);try{this._cleanup=t.call(void 0,o)}catch(e){o.error(e)}"initializing"===this._state&&(this._state="ready")}get closed(){return"closed"===this._state}unsubscribe(){"closed"!==this._state&&(f(this),p(this))}}class v{constructor(e){this._subscription=e}get closed(){return"closed"===this._subscription._state}next(e){m(this._subscription,"next",e)}error(e){m(this._subscription,"error",e)}complete(){m(this._subscription,"complete")}}class _{constructor(e){if(!(this instanceof _))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof e)throw new TypeError("Observable initializer must be a function");this._subscriber=e}subscribe(e,t,o){return"object"==typeof e&&null!==e||(e={next:e,error:t,complete:o}),new y(e,this._subscriber)}pipe(e,...t){let o=this;for(const n of[e,...t])o=n(o);return o}tap(e,t,o){const n="object"!=typeof e||null===e?{next:e,error:t,complete:o}:e;return new _(e=>this.subscribe({next(t){n.next&&n.next(t),e.next(t)},error(t){n.error&&n.error(t),e.error(t)},complete(){n.complete&&n.complete(),e.complete()},start(e){n.start&&n.start(e)}}))}forEach(e){return new Promise((t,o)=>{if("function"!=typeof e)return void o(new TypeError(e+" is not a function"));function n(){r.unsubscribe(),t(void 0)}const r=this.subscribe({next(t){try{e(t,n)}catch(e){o(e),r.unsubscribe()}},error(e){o(e)},complete(){t(void 0)}})})}map(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(u(this))(t=>this.subscribe({next(o){let n=o;try{n=e(o)}catch(e){return t.error(e)}t.next(n)},error(e){t.error(e)},complete(){t.complete()}}))}filter(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(u(this))(t=>this.subscribe({next(o){try{if(!e(o))return}catch(e){return t.error(e)}t.next(o)},error(e){t.error(e)},complete(){t.complete()}}))}reduce(e,t){if("function"!=typeof e)throw new TypeError(e+" is not a function");const o=u(this),n=arguments.length>1;let r=!1,i=t;return new o(t=>this.subscribe({next(o){const a=!r;if(r=!0,!a||n)try{i=e(i,o)}catch(e){return t.error(e)}else i=o},error(e){t.error(e)},complete(){if(!r&&!n)return t.error(new TypeError("Cannot reduce an empty sequence"));t.next(i),t.complete()}}))}concat(...e){const t=u(this);return new t(o=>{let n,r=0;return function i(a){n=a.subscribe({next(e){o.next(e)},error(e){o.error(e)},complete(){r===e.length?(n=void 0,o.complete()):i(t.from(e[r++]))}})}(this),()=>{n&&(n.unsubscribe(),n=void 0)}})}flatMap(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");const t=u(this);return new t(o=>{const n=[],r=this.subscribe({next(r){let a;if(e)try{a=e(r)}catch(e){return o.error(e)}else a=r;const s=t.from(a).subscribe({next(e){o.next(e)},error(e){o.error(e)},complete(){const e=n.indexOf(s);e>=0&&n.splice(e,1),i()}});n.push(s)},error(e){o.error(e)},complete(){i()}});function i(){r.closed&&0===n.length&&o.complete()}return()=>{n.forEach(e=>e.unsubscribe()),r.unsubscribe()}})}[(Symbol.observable,s)](){return this}static from(e){const t="function"==typeof this?this:_;if(null==e)throw new TypeError(e+" is not an object");const o=c(e,s);if(o){const n=o.call(e);if(Object(n)!==n)throw new TypeError(n+" is not an object");return function(e){return e instanceof _}(n)&&n.constructor===t?n:new t(e=>n.subscribe(e))}if(r("iterator")){const o=c(e,a);if(o)return new t(t=>{h(()=>{if(!t.closed){for(const n of o.call(e))if(t.next(n),t.closed)return;t.complete()}})})}if(Array.isArray(e))return new t(t=>{h(()=>{if(!t.closed){for(const o of e)if(t.next(o),t.closed)return;t.complete()}})});throw new TypeError(e+" is not observable")}static of(...e){return new("function"==typeof this?this:_)(t=>{h(()=>{if(!t.closed){for(const o of e)if(t.next(o),t.closed)return;t.complete()}})})}static get[l](){return this}}n()&&Object.defineProperty(_,Symbol("extensions"),{value:{symbol:s,hostReportError:d},configurable:!0});t.a=_},"./node_modules/observable-fns/dist.esm/subject.js":function(e,t,o){"use strict";var n=o("./node_modules/observable-fns/dist.esm/observable.js");class r extends n.a{constructor(){super(e=>(this._observers.add(e),()=>this._observers.delete(e))),this._observers=new Set}next(e){for(const t of this._observers)t.next(e)}error(e){for(const t of this._observers)t.error(e)}complete(){for(const e of this._observers)e.complete()}}t.a=r},"./node_modules/ol-mapbox-style/dist/index.js":function(e,t,o){"use strict";o.d(t,"a",(function(){return de})),o.d(t,"b",(function(){return pe}));var n=o("./node_modules/ol/format/GeoJSON.js"),r=o("./node_modules/ol/format/MVT.js"),i=(o("./node_modules/ol/Map.js"),o("./node_modules/ol/tilegrid/TileGrid.js")),a=o("./node_modules/ol/source/TileJSON.js"),s=(o("./node_modules/ol/layer/Tile.js"),o("./node_modules/ol/layer/Vector.js")),l=(o("./node_modules/ol/source/Vector.js"),o("./node_modules/ol/layer/VectorTile.js")),c=o("./node_modules/ol/source/VectorTile.js"),u=(o("./node_modules/ol/View.js"),o("./node_modules/ol/style/Circle.js")),d=o("./node_modules/ol/style/Fill.js"),h=o("./node_modules/ol/style/Icon.js"),p=o("./node_modules/ol/render/Feature.js"),f=o("./node_modules/ol/style/Stroke.js"),g=o("./node_modules/ol/style/Style.js"),m=o("./node_modules/ol/style/Text.js"),y=o("./node_modules/mapbox-to-css-font/index.js"),v=o.n(y),_=o("./node_modules/@mapbox/mapbox-gl-style-spec/dist/index.es.js"),b=o("./node_modules/ol/events/EventType.js"),A=o("./node_modules/ol/render/canvas.js"),C=o("./node_modules/ol/events.js"),w="function"==typeof Object.assign?Object.assign:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(e),n=1,r=arguments.length;n<r;++n){var i=arguments[n];if(null!=i)for(var a in i)i.hasOwnProperty(a)&&(o[a]=i[a])}return o};function E(e){return e*Math.PI/180}var I=function(){for(var e=[],t=78271.51696402048;e.length<=24;t/=2)e.push(t);return e}();function O(e,t){if("undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas)return new OffscreenCanvas(e,t);var o=document.createElement("canvas");return o.width=e,o.height=t,o}var S,x=Array(256).join("â");function j(e,t){if(t>=.05){for(var o="",n=e.split("\n"),r=x.slice(0,Math.round(t/.1)),i=0,a=n.length;i<a;++i)i>0&&(o+="\n"),o+=n[i].split("").join(r);return o}return e}function P(){return S||(S=O(1,1).getContext("2d")),S}function T(e,t){return P().measureText(e).width+(e.length-1)*t}var M={};A.o&&Object(C.a)(A.o,b.a.CLEAR,(function(){M={}}));var R,L,k=_.e.isFunction,G=_.e.convertFunction,D=_.c.isExpression,N=_.c.createPropertyExpression,F={Point:1,MultiPoint:1,LineString:2,MultiLineString:2,Polygon:3,MultiPolygon:3},U={center:[.5,.5],left:[0,.5],right:[1,.5],top:[.5,0],bottom:[.5,1],"top-left":[0,0],"top-right":[1,0],"bottom-left":[0,1],"bottom-right":[1,1]},B={},z={zoom:0};function V(e,t,o,n,r,i){var a=e.id;i||(i={},console.warn("No functionCache provided to getValue()")),i[a]||(i[a]={});var s=i[a];if(!s[o]){var l=(e[t]||B)[o],c=_.f["".concat(t,"_").concat(e.type)][o];void 0===l&&(l=c.default);var u=D(l);if(!u&&k(l)&&(l=G(l,c),u=!0),u){var d=function(e,t){var o=N(e,t);if("error"===o.result)throw new Error(o.value.map((function(e){return"".concat(e.key,": ").concat(e.message)})).join(", "));return o.value}(l,c);s[o]=d.evaluate.bind(d)}else"color"==c.type&&(l=_.a.parse(l)),s[o]=function(){return l}}return z.zoom=n,s[o](z,r)}function W(e,t){if(e){if(0===e.a||0===t)return;var o=e.a;return t=void 0===t?1:t,"rgba("+Math.round(255*e.r/o)+","+Math.round(255*e.g/o)+","+Math.round(255*e.b/o)+","+o*t+")"}return e}var q=/^([^]*)\{(.*)\}([^]*)$/;function Y(e,t){var o;do{if(o=e.match(q)){var n=t[o[2]]||"";e=o[1]+n+o[3]}}while(o);return e}var H=!1;var X=function(e,t,o,n,r,i,a){if(void 0===n&&(n=I),"string"==typeof t&&(t=JSON.parse(t)),8!=t.version)throw new Error("glStyle version 8 required.");var s,l;if(i)if("undefined"!=typeof Image){var c=new Image;c.crossOrigin="anonymous",c.onload=function(){s=c,l=[c.width,c.height],e.changed(),c.onload=null},c.src=i}else if("undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope){var y=self;y.postMessage({action:"loadImage",src:i}),y.addEventListener("message",(function(e){"imageLoaded"===e.data.action&&e.data.src===i&&(s=e.data.image,l=[s.width,s.height])}))}for(var b,A=Object(_.b)(t.layers),C={},w=[],S={},x={},k={},G={},D=0,N=A.length;D<N;++D){var q=A[D],X=q.id;if("string"==typeof o&&q.source==o||-1!==o.indexOf(X)){var Z=q["source-layer"];if(!b){b=q.source;var K=t.sources[b];if(!K)throw new Error('Source "'.concat(b,'" is not defined'));var J=K.type;if("vector"!==J&&"geojson"!==J)throw new Error('Source "'.concat(b,'" is not of type "vector" or "geojson", but "').concat(J,'"'))}var Q=C[Z];Q||(Q=[],C[Z]=Q),Q.push({layer:q,index:D}),w.push(X)}}var $=new f.a,ee=new d.a,te=[],oe=function(e,t){var o=e.getProperties(),i=C[o.layer];if(i){var c=n.indexOf(t);-1==c&&(c=function(e,t){for(var o=0,n=t.length;o<n;++o){if(t[o]<e&&o+1<n){var r=t[o]/t[o+1];return o+Math.log(t[o]/e)/Math.log(r)}}return n-1}(t,n));for(var y,b=F[e.getGeometry().getType()],A={properties:o,type:b},w=-1,I=function(n,C){var I=i[n],D=I.layer,N=D.id,F=D.layout||B,q=D.paint||B;if("none"===F.visibility||"minzoom"in D&&c<D.minzoom||"maxzoom"in D&&c>=D.maxzoom)return"continue";var H=D.filter;if(!H||function(e,t,o,n,r){return r||console.warn("No filterCache provided to evaluateFilter()"),e in r||(r[e]=Object(_.d)(t).filter),z.zoom=n,r[e](z,o)}(N,H,A,c,G)){y=D;var X=void 0,Z=void 0,K=void 0,J=void 0,Q=void 0,oe=void 0,ne=I.index;if(3==b&&("fill"==D.type||"fill-extrusion"==D.type))if(Z=V(D,"paint",D.type+"-opacity",c,A,k),D.type+"-pattern"in q){var re=V(D,"paint",D.type+"-pattern",c,A,k);if(re){var ie="string"==typeof re?Y(re,o):re.toString();if(s&&r&&r[ie]){++w,(oe=te[w])&&oe.getFill()&&!oe.getStroke()&&!oe.getText()||(oe=new g.c({fill:new d.a}),te[w]=oe),K=oe.getFill(),oe.setZIndex(ne);var ae=x[Ge=ie+"."+Z];if(!ae){var se=O((De=r[ie]).width,De.height),le=se.getContext("2d");le.globalAlpha=Z,le.drawImage(s,De.x,De.y,De.width,De.height,0,0,De.width,De.height),ae=le.createPattern(se,"repeat"),x[Ge]=ae}K.setColor(ae)}}}else(X=W(V(D,"paint",D.type+"-color",c,A,k),Z))&&(D.type+"-outline-color"in q&&(Q=W(V(D,"paint",D.type+"-outline-color",c,A,k),Z)),Q||(Q=X),++w,(oe=te[w])&&oe.getFill()&&oe.getStroke()&&!oe.getText()||(oe=new g.c({fill:new d.a,stroke:new f.a}),te[w]=oe),(K=oe.getFill()).setColor(X),(J=oe.getStroke()).setColor(Q),J.setWidth(1),oe.setZIndex(ne));if(1!=b&&"line"==D.type){X=!("line-pattern"in q)&&"line-color"in q?W(V(D,"paint","line-color",c,A,k),V(D,"paint","line-opacity",c,A,k)):void 0;var ce=V(D,"paint","line-width",c,A,k);X&&ce>0&&(++w,(oe=te[w])&&oe.getStroke()&&!oe.getFill()&&!oe.getText()||(oe=new g.c({stroke:new f.a}),te[w]=oe),(J=oe.getStroke()).setLineCap(V(D,"layout","line-cap",c,A,k)),J.setLineJoin(V(D,"layout","line-join",c,A,k)),J.setMiterLimit(V(D,"layout","line-miter-limit",c,A,k)),J.setColor(X),J.setWidth(ce),J.setLineDash(q["line-dasharray"]?V(D,"paint","line-dasharray",c,A,k).map((function(e){return e*ce})):null),oe.setZIndex(ne))}var ue=!1,de=null,he=0,pe=void 0,fe=void 0,ge=void 0;if((1==b||2==b)&&"icon-image"in F){var me=V(D,"layout","icon-image",c,A,k);if(me){pe="string"==typeof me?Y(me,o):me.toString();var ye=void 0;if(s&&r&&r[pe]){var ve=V(D,"layout","icon-rotation-alignment",c,A,k);if(2==b){var _e=e.getGeometry();if(_e.getFlatMidpoint||_e.getFlatMidpoints){var be=_e.getExtent();if(Math.sqrt(Math.max(Math.pow((be[2]-be[0])/t,2),Math.pow((be[3]-be[1])/t,2)))>150){var Ae="MultiLineString"===_e.getType()?_e.getFlatMidpoints():_e.getFlatMidpoint();if(L||(R=[NaN,NaN],L=new p.a("Point",R,[],{},null)),ye=L,R[0]=Ae[0],R[1]=Ae[1],"line"===($e=V(D,"layout","symbol-placement",c,A,k))&&"map"===ve)for(var Ce=_e.getStride(),we=_e.getFlatCoordinates(),Ee=0,Ie=we.length-Ce;Ee<Ie;Ee+=Ce){var Oe=we[Ee],Se=we[Ee+1],xe=we[Ee+Ce],je=we[Ee+Ce+1],Pe=Math.min(Oe,xe),Te=Math.min(Se,je),Me=Math.max(Oe,xe),Re=Math.max(Se,je);if(Ae[0]>=Pe&&Ae[0]<=Me&&Ae[1]>=Te&&Ae[1]<=Re){he=Math.atan2(Se-je,xe-Oe);break}}}}}if(2!==b||ye){var Le=V(D,"layout","icon-size",c,A,k),ke=void 0!==q["icon-color"]?V(D,"paint","icon-color",c,A,k):null;if(!ke||0!==ke.a){var Ge=pe+"."+Le;if(null!==ke&&(Ge+="."+ke),!(fe=S[Ge])){var De=r[pe];fe=new h.a({color:ke?[255*ke.r,255*ke.g,255*ke.b,ke.a]:void 0,img:s,imgSize:l,size:[De.width,De.height],offset:[De.x,De.y],rotateWithView:"map"===ve,scale:Le/De.pixelRatio}),S[Ge]=fe}}fe&&(++w,(oe=te[w])&&oe.getImage()&&!oe.getFill()&&!oe.getStroke()||(oe=new g.c,te[w]=oe),oe.setGeometry(ye),fe.setRotation(he+E(V(D,"layout","icon-rotate",c,A,k))),fe.setOpacity(V(D,"paint","icon-opacity",c,A,k)),fe.setAnchor(U[V(D,"layout","icon-anchor",c,A,k)]),oe.setImage(fe),de=oe.getText(),oe.setText(void 0),oe.setZIndex(ne),ue=!0,ge=!1)}else ge=!0}}}if(1==b&&"circle-radius"in q){++w,(oe=te[w])&&oe.getImage()&&!oe.getFill()&&!oe.getStroke()||(oe=new g.c,te[w]=oe);var Ne=V(D,"paint","circle-radius",c,A,k),Fe=W(V(D,"paint","circle-stroke-color",c,A,k),V(D,"paint","circle-stroke-opacity",c,A,k)),Ue=W(V(D,"paint","circle-color",c,A,k),V(D,"paint","circle-opacity",c,A,k)),Be=V(D,"paint","circle-stroke-width",c,A,k),ze=Ne+"."+Fe+"."+Ue+"."+Be;(fe=S[ze])||(fe=new u.a({radius:Ne,stroke:Fe&&Be>0?new f.a({width:Be,color:Fe}):void 0,fill:Ue?new d.a({color:Ue}):void 0}),S[ze]=fe),oe.setImage(fe),de=oe.getText(),oe.setText(void 0),oe.setGeometry(void 0),oe.setZIndex(ne),ue=!0}var Ve=void 0;if("text-field"in F)Ve=Y(V(D,"layout","text-field",c,A,k).toString(),o).trim(),Z=V(D,"paint","text-opacity",c,A,k);if(Ve&&Z&&!ge){ue||(++w,(oe=te[w])&&oe.getText()&&!oe.getFill()&&!oe.getStroke()||(oe=new g.c,te[w]=oe),oe.setImage(void 0),oe.setGeometry(void 0)),oe.getText()||oe.setText(de||new m.a({padding:[2,2,2,2]})),de=oe.getText();var We=Math.round(V(D,"layout","text-size",c,A,k)),qe=V(D,"layout","text-font",c,A,k),Ye=V(D,"layout","text-line-height",c,A,k),He=v()(a?a(qe):qe,We,Ye),Xe=F["text-transform"];"uppercase"==Xe?Ve=Ve.toUpperCase():"lowercase"==Xe&&(Ve=Ve.toLowerCase());var Ze=V(D,"layout","text-max-width",c,A,k),Ke=V(D,"layout","text-letter-spacing",c,A,k),Je=2==b?j(Ve,Ke):function e(t,o,n,r){if(-1!==t.indexOf("\n")){for(var i=t.split("\n"),a=[],s=0,l=i.length;s<l;++s)a.push(e(i[s],o,n,r));return a.join("\n")}var c=n+","+o+","+t+","+r,u=M[c];if(!u){var d=t.split(" ");if(d.length>1){var h=P();h.font=o;var p=h.measureText("M").width*n,f="";for(a=[],s=0,l=d.length;s<l;++s){var g=d[s],m=f+(f?" ":"")+g;T(m,r)<=p?f=m:(f&&a.push(f),f=g)}f&&a.push(f);for(s=0,l=a.length;s<l&&l>1;++s){var y=a[s];if(T(y,r)<.35*p){var v=s>0?T(a[s-1],r):1/0,_=s<l-1?T(a[s+1],r):1/0;a.splice(s,1),l-=1,v<_?(a[s-1]+=" "+y,s-=1):a[s]=y+" "+a[s]}}for(s=0,l=a.length-1;s<l;++s){var b=a[s],A=a[s+1];if(T(b,r)>.7*p&&T(A,r)<.6*p){var C=b.split(" "),w=C.pop();T(w,r)<.2*p&&(a[s]=C.join(" "),a[s+1]=w+" "+A),l-=1}}u=a.join("\n")}else u=t;u=j(u,r),M[c]=u}return u}(Ve,He,Ze,Ke);de.setText(Je),de.setFont(He),de.setRotation(E(V(D,"layout","text-rotate",c,A,k)));var Qe=V(D,"layout","text-anchor",c,A,k),$e=ue||1==b?"point":V(D,"layout","symbol-placement",c,A,k);de.setPlacement($e);var et=V(D,"paint","text-halo-width",c,A,k),tt=V(D,"layout","text-offset",c,A,k),ot=V(D,"paint","text-translate",c,A,k),nt=0,rt=0;if("point"==$e){var it="center";-1!==Qe.indexOf("left")?(it="left",rt=et):-1!==Qe.indexOf("right")&&(it="right",rt=-et),de.setTextAlign(it);var at=V(D,"layout","text-rotation-alignment",c,A,k);de.setRotateWithView("map"==at)}else de.setMaxAngle(E(V(D,"layout","text-max-angle",c,A,k))*Ve.length/Je.length),de.setTextAlign(),de.setRotateWithView(!1);var st="middle";0==Qe.indexOf("bottom")?(st="bottom",nt=-et-.5*(Ye-1)*We):0==Qe.indexOf("top")&&(st="top",nt=et+.5*(Ye-1)*We),de.setTextBaseline(st),de.setOffsetX(tt[0]*We+rt+ot[0]),de.setOffsetY(tt[1]*We+nt+ot[1]),ee.setColor(W(V(D,"paint","text-color",c,A,k),Z)),de.setFill(ee);var lt=W(V(D,"paint","text-halo-color",c,A,k),Z);if(lt){$.setColor(lt),et*=2;var ct=.5*We;$.setWidth(et<=ct?et:ct),de.setStroke($)}else de.setStroke(void 0);var ut=V(D,"layout","text-padding",c,A,k),dt=de.getPadding();ut!==dt[0]&&(dt[0]=ut,dt[1]=ut,dt[2]=ut,dt[3]=ut),oe.setZIndex(ne)}}},D=0,N=i.length;D<N;++D)I(D);return w>-1?(te.length=w+1,H&&("function"==typeof e.set?e.set("mapbox-layer",y):e.getProperties()["mapbox-layer"]=y),te):void 0}};return e.setStyle(oe),e.set("mapbox-source",b),e.set("mapbox-layers",w),oe},Z=o("./node_modules/webfont-matcher/lib/fonts/google.js"),K=o.n(Z),J=(o("./node_modules/ol/tilegrid.js"),o("./node_modules/ol/proj.js")),Q=o("./node_modules/ol/Observable.js");function $(e){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ee,te={},oe=/font-family: ?([^;]*);/,ne=/("|')/g;function re(e){if(!ee){ee={};for(var t=document.styleSheets,o=0,n=t.length;o<n;++o){var r=t[o];try{var i=r.rules||r.cssRules;if(i)for(var a=0,s=i.length;a<s;++a){var l=i[a];if(5==l.type){var c=l.cssText.match(oe);ee[c[1].replace(ne,"")]=!0}}}catch(e){}}}return e in ee}var ie={},ae=K.a.getNames();function se(e){var t=e.toString();if(t in ie)return e;for(var o=e.map((function(e){var t=v()(e,1).split(" ");return[t.slice(3).join(" ").replace(/"/g,""),t[1]+t[0]]})),n=0,r=o.length;n<r;++n){var i=o[n],a=i[0];if(!re(a)&&-1!==ae.indexOf(a)){var s="https://fonts.googleapis.com/css?family="+a.replace(/ /g,"+")+":"+i[1];if(!document.querySelector('link[href="'+s+'"]')){var l=document.createElement("link");l.href=s,l.rel="stylesheet",document.head.appendChild(l)}}}return ie[t]=!0,e}var le=/^(.*)(\?.*)$/;function ce(e,t){return t&&0===e.indexOf(".")&&(e=t+e),e}function ue(e,t,o){var n=(e=ce(e,t)).match(le);return n?n[1]+o+(n.length>2?n[2]:""):e+o}function de(e,t,o,n,r){return new Promise((function(i,a){if("object"!=$(t)&&(t=JSON.parse(t)),8!=t.version)return a(new Error("glStyle version 8 required."));if(!(e instanceof s.a||e instanceof l.a))return a(new Error("Can only apply to VectorLayer or VectorTileLayer"));var c,u,d;function h(){d||t.sprite&&!c?d?(e.setStyle(d),i()):a(new Error("Something went wrong trying to apply style.")):(d=X(e,t,o,r,c,u,se),e.getStyle()?i():a(new Error("Nothing to show for source [".concat(o,"]"))))}if(t.sprite){var p=.5==(window.devicePixelRatio>=1.5?.5:1)?"@2x":"",f=ue(t.sprite,n,p+".json");fetch(f,{credentials:"same-origin"}).then((function(e){return e.ok||""===p?e:(f=ue(t.sprite,n,".json"),fetch(f,{credentials:"same-origin"}))})).then((function(e){if(e.ok)return e.json();a(new Error("Problem fetching sprite from ".concat(f,": ").concat(e.statusText)))})).then((function(e){if(void 0===e)return a(new Error("No sprites found."));c=e,u=ue(t.sprite,n,p+".png"),h()})).catch((function(e){a(new Error("Sprites cannot be loaded: ".concat(f,": ").concat(e.message)))}))}else h()}))}function he(e){var t=e.bounds;if(t){var o=Object(J.p)([t[0],t[1]]),n=Object(J.p)([t[2],t[3]]);return[o[0],o[1],n[0],n[1]]}}function pe(e,t){e=w({},e);var o=[t,JSON.stringify(e)].toString(),n=te[o];return n||(n=new a.a({url:e.tiles?void 0:t,tileJSON:e.tiles?e:void 0}),te[o]=n),new Promise((function(e){var o=n.on("change",(function(){var a=n.getState();if("ready"===a){var s=n.getTileJSON(),l=Array.isArray(s.tiles)?s.tiles:[s.tiles];if(t)for(var u=0,d=l.length;u<d;++u)l[u]=decodeURI(new URL(l[u],t).href);var h=n.getTileGrid(),p=he(s),f=s.minzoom||0,g=s.maxzoom||22,m=n.get("ol-source");void 0===m&&(m=new c.a({attributions:n.getAttributions(),format:new r.a,tileGrid:new i.a({origin:h.getOrigin(0),extent:p||h.getExtent(),minZoom:f,resolutions:I.slice(0,g+1),tileSize:512}),urls:l}),n.set("ol-source",m)),Object(Q.b)(o),e(m)}else"error"===a&&(n.set("ol-source",null),Object(Q.b)(o),e(void 0))}));"ready"===n.getState()&&n.changed()}))}new n.a},"./node_modules/ol/AssertionError.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/util.js"),i=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=function(e){function t(t){var o=this,n="Assertion failed. See https://openlayers.org/en/"+("latest"===r.a?r.a:"v"+r.a.split("-")[0])+"/doc/errors/#"+t+" for details.";return(o=e.call(this,n)||this).code=t,o.name="AssertionError",o.message=n,o}return i(t,e),t}(Error);t.a=a},"./node_modules/ol/Collection.js":function(e,t,o){"use strict";o.d(t,"a",(function(){return u}));var n,r=o("./node_modules/ol/AssertionError.js"),i=o("./node_modules/ol/Object.js"),a=o("./node_modules/ol/CollectionEventType.js"),s=o("./node_modules/ol/events/Event.js"),l=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c="length",u=function(e){function t(t,o,n){var r=e.call(this,t)||this;return r.element=o,r.index=n,r}return l(t,e),t}(s.a),d=function(e){function t(t,o){var n=e.call(this)||this;n.on,n.once,n.un;var r=o||{};if(n.unique_=!!r.unique,n.array_=t||[],n.unique_)for(var i=0,a=n.array_.length;i<a;++i)n.assertUnique_(n.array_[i],i);return n.updateLength_(),n}return l(t,e),t.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},t.prototype.extend=function(e){for(var t=0,o=e.length;t<o;++t)this.push(e[t]);return this},t.prototype.forEach=function(e){for(var t=this.array_,o=0,n=t.length;o<n;++o)e(t[o],o,t)},t.prototype.getArray=function(){return this.array_},t.prototype.item=function(e){return this.array_[e]},t.prototype.getLength=function(){return this.get(c)},t.prototype.insertAt=function(e,t){this.unique_&&this.assertUnique_(t),this.array_.splice(e,0,t),this.updateLength_(),this.dispatchEvent(new u(a.a.ADD,t,e))},t.prototype.pop=function(){return this.removeAt(this.getLength()-1)},t.prototype.push=function(e){this.unique_&&this.assertUnique_(e);var t=this.getLength();return this.insertAt(t,e),this.getLength()},t.prototype.remove=function(e){for(var t=this.array_,o=0,n=t.length;o<n;++o)if(t[o]===e)return this.removeAt(o)},t.prototype.removeAt=function(e){var t=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new u(a.a.REMOVE,t,e)),t},t.prototype.setAt=function(e,t){var o=this.getLength();if(e<o){this.unique_&&this.assertUnique_(t,e);var n=this.array_[e];this.array_[e]=t,this.dispatchEvent(new u(a.a.REMOVE,n,e)),this.dispatchEvent(new u(a.a.ADD,t,e))}else{for(var r=o;r<e;++r)this.insertAt(r,void 0);this.insertAt(e,t)}},t.prototype.updateLength_=function(){this.set(c,this.array_.length)},t.prototype.assertUnique_=function(e,t){for(var o=0,n=this.array_.length;o<n;++o)if(this.array_[o]===e&&o!==t)throw new r.a(58)},t}(i.b);t.b=d},"./node_modules/ol/CollectionEventType.js":function(e,t,o){"use strict";t.a={ADD:"add",REMOVE:"remove"}},"./node_modules/ol/Disposable.js":function(e,t,o){"use strict";var n=function(){function e(){this.disposed=!1}return e.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},e.prototype.disposeInternal=function(){},e}();t.a=n},"./node_modules/ol/Feature.js":function(e,t,o){"use strict";o.d(t,"a",(function(){return u}));var n,r=o("./node_modules/ol/Object.js"),i=o("./node_modules/ol/events/EventType.js"),a=o("./node_modules/ol/asserts.js"),s=o("./node_modules/ol/events.js"),l=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=function(e){function t(t){var o=e.call(this)||this;if(o.on,o.once,o.un,o.id_=void 0,o.geometryName_="geometry",o.style_=null,o.styleFunction_=void 0,o.geometryChangeKey_=null,o.addChangeListener(o.geometryName_,o.handleGeometryChanged_),t)if("function"==typeof t.getSimplifiedGeometry){var n=t;o.setGeometry(n)}else{var r=t;o.setProperties(r)}return o}return l(t,e),t.prototype.clone=function(){var e=new t(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());var o=this.getGeometry();o&&e.setGeometry(o.clone());var n=this.getStyle();return n&&e.setStyle(n),e},t.prototype.getGeometry=function(){return this.get(this.geometryName_)},t.prototype.getId=function(){return this.id_},t.prototype.getGeometryName=function(){return this.geometryName_},t.prototype.getStyle=function(){return this.style_},t.prototype.getStyleFunction=function(){return this.styleFunction_},t.prototype.handleGeometryChange_=function(){this.changed()},t.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(Object(s.c)(this.geometryChangeKey_),this.geometryChangeKey_=null);var e=this.getGeometry();e&&(this.geometryChangeKey_=Object(s.a)(e,i.a.CHANGE,this.handleGeometryChange_,this)),this.changed()},t.prototype.setGeometry=function(e){this.set(this.geometryName_,e)},t.prototype.setStyle=function(e){this.style_=e,this.styleFunction_=e?u(e):void 0,this.changed()},t.prototype.setId=function(e){this.id_=e,this.changed()},t.prototype.setGeometryName=function(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()},t}(r.b);function u(e){return"function"==typeof e?e:(Array.isArray(e)?t=e:(Object(a.a)("function"==typeof e.getZIndex,41),t=[e]),function(){return t});var t}t.b=c},"./node_modules/ol/Image.js":function(e,t,o){"use strict";o.d(t,"b",(function(){return h}));var n,r=o("./node_modules/ol/events/EventType.js"),i=o("./node_modules/ol/ImageBase.js"),a=o("./node_modules/ol/ImageState.js"),s=o("./node_modules/ol/has.js"),l=o("./node_modules/ol/extent.js"),c=o("./node_modules/ol/events.js"),u=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),d=function(e){function t(t,o,n,r,i,s){var l=e.call(this,t,o,n,a.a.IDLE)||this;return l.src_=r,l.image_=new Image,null!==i&&(l.image_.crossOrigin=i),l.unlisten_=null,l.state=a.a.IDLE,l.imageLoadFunction_=s,l}return u(t,e),t.prototype.getImage=function(){return this.image_},t.prototype.handleImageError_=function(){this.state=a.a.ERROR,this.unlistenImage_(),this.changed()},t.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=Object(l.G)(this.extent)/this.image_.height),this.state=a.a.LOADED,this.unlistenImage_(),this.changed()},t.prototype.load=function(){this.state!=a.a.IDLE&&this.state!=a.a.ERROR||(this.state=a.a.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=h(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},t.prototype.setImage=function(e){this.image_=e,this.resolution=Object(l.G)(this.extent)/this.image_.height},t.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},t}(i.a);function h(e,t,o){var n=e;if(n.src&&s.c){var i=n.decode(),a=!0;return i.then((function(){a&&t()})).catch((function(e){a&&("EncodingError"===e.name&&"Invalid image type."===e.message?t():o())})),function(){a=!1}}var l=[Object(c.b)(n,r.a.LOAD,t),Object(c.b)(n,r.a.ERROR,o)];return function(){l.forEach(c.c)}}t.a=d},"./node_modules/ol/ImageBase.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/events/Target.js"),i=o("./node_modules/ol/events/EventType.js"),a=o("./node_modules/ol/util.js"),s=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=function(e){function t(t,o,n,r){var i=e.call(this)||this;return i.extent=t,i.pixelRatio_=n,i.resolution=o,i.state=r,i}return s(t,e),t.prototype.changed=function(){this.dispatchEvent(i.a.CHANGE)},t.prototype.getExtent=function(){return this.extent},t.prototype.getImage=function(){return Object(a.b)()},t.prototype.getPixelRatio=function(){return this.pixelRatio_},t.prototype.getResolution=function(){return this.resolution},t.prototype.getState=function(){return this.state},t.prototype.load=function(){Object(a.b)()},t}(r.a);t.a=l},"./node_modules/ol/ImageState.js":function(e,t,o){"use strict";t.a={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}},"./node_modules/ol/ImageTile.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/Tile.js"),i=o("./node_modules/ol/TileState.js"),a=o("./node_modules/ol/dom.js"),s=o("./node_modules/ol/Image.js"),l=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=function(e){function t(t,o,n,r,i,a){var s=e.call(this,t,o,a)||this;return s.crossOrigin_=r,s.src_=n,s.key=n,s.image_=new Image,null!==r&&(s.image_.crossOrigin=r),s.unlisten_=null,s.tileLoadFunction_=i,s}return l(t,e),t.prototype.getImage=function(){return this.image_},t.prototype.setImage=function(e){this.image_=e,this.state=i.a.LOADED,this.unlistenImage_(),this.changed()},t.prototype.handleImageError_=function(){var e;this.state=i.a.ERROR,this.unlistenImage_(),this.image_=((e=Object(a.a)(1,1)).fillStyle="rgba(0,0,0,0)",e.fillRect(0,0,1,1),e.canvas),this.changed()},t.prototype.handleImageLoad_=function(){var e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=i.a.LOADED:this.state=i.a.EMPTY,this.unlistenImage_(),this.changed()},t.prototype.load=function(){this.state==i.a.ERROR&&(this.state=i.a.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==i.a.IDLE&&(this.state=i.a.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=Object(s.b)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},t.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},t}(r.a);t.a=c},"./node_modules/ol/Kinetic.js":function(e,t,o){"use strict";var n=function(){function e(e,t,o){this.decay_=e,this.minVelocity_=t,this.delay_=o,this.points_=[],this.angle_=0,this.initialVelocity_=0}return e.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},e.prototype.update=function(e,t){this.points_.push(e,t,Date.now())},e.prototype.end=function(){if(this.points_.length<6)return!1;var e=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<e)return!1;for(var o=t-3;o>0&&this.points_[o+2]>e;)o-=3;var n=this.points_[t+2]-this.points_[o+2];if(n<1e3/60)return!1;var r=this.points_[t]-this.points_[o],i=this.points_[t+1]-this.points_[o+1];return this.angle_=Math.atan2(i,r),this.initialVelocity_=Math.sqrt(r*r+i*i)/n,this.initialVelocity_>this.minVelocity_},e.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},e.prototype.getAngle=function(){return this.angle_},e}();t.a=n},"./node_modules/ol/Map.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/renderer/Composite.js"),i=o("./node_modules/ol/PluggableMap.js"),a=o("./node_modules/ol/obj.js"),s=o("./node_modules/ol/control.js"),l=o("./node_modules/ol/interaction.js"),c=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),u=function(e){function t(t){return(t=Object(a.a)({},t)).controls||(t.controls=Object(s.a)()),t.interactions||(t.interactions=Object(l.a)({onFocusOnly:!0})),e.call(this,t)||this}return c(t,e),t.prototype.createRenderer=function(){return new r.a(this)},t}(i.a);t.a=u},"./node_modules/ol/MapBrowserEvent.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/MapEvent.js"),i=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=function(e){function t(t,o,n,r,i){var a=e.call(this,t,o,i)||this;return a.originalEvent=n,a.pixel_=null,a.coordinate_=null,a.dragging=void 0!==r&&r,a}return i(t,e),Object.defineProperty(t.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(e){this.pixel_=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(e){this.coordinate_=e},enumerable:!1,configurable:!0}),t.prototype.preventDefault=function(){e.prototype.preventDefault.call(this),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){e.prototype.stopPropagation.call(this),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()},t}(r.a);t.a=a},"./node_modules/ol/MapBrowserEventHandler.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/events/EventType.js"),i=o("./node_modules/ol/MapBrowserEvent.js"),a=o("./node_modules/ol/MapBrowserEventType.js"),s=o("./node_modules/ol/pointer/EventType.js"),l=o("./node_modules/ol/events/Target.js"),c=o("./node_modules/ol/has.js"),u=o("./node_modules/ol/functions.js"),d=o("./node_modules/ol/events.js"),h=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),p=function(e){function t(t,o){var n=e.call(this,t)||this;n.map_=t,n.clickTimeoutId_,n.emulateClicks_=!1,n.dragging_=!1,n.dragListenerKeys_=[],n.moveTolerance_=void 0===o?1:o,n.down_=null;var i=n.map_.getViewport();return n.activePointers_=0,n.trackedTouches_={},n.element_=i,n.pointerdownListenerKey_=Object(d.a)(i,s.a.POINTERDOWN,n.handlePointerDown_,n),n.originalPointerMoveEvent_,n.relayedListenerKey_=Object(d.a)(i,s.a.POINTERMOVE,n.relayEvent_,n),n.boundHandleTouchMove_=n.handleTouchMove_.bind(n),n.element_.addEventListener(r.a.TOUCHMOVE,n.boundHandleTouchMove_,!!c.e&&{passive:!1}),n}return h(t,e),t.prototype.emulateClick_=function(e){var t=new i.a(a.a.CLICK,this.map_,e);this.dispatchEvent(t),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,t=new i.a(a.a.DBLCLICK,this.map_,e),this.dispatchEvent(t)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var t=new i.a(a.a.SINGLECLICK,this.map_,e);this.dispatchEvent(t)}.bind(this),250)},t.prototype.updateActivePointers_=function(e){var t=e;t.type==a.a.POINTERUP||t.type==a.a.POINTERCANCEL?delete this.trackedTouches_[t.pointerId]:t.type==a.a.POINTERDOWN&&(this.trackedTouches_[t.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},t.prototype.handlePointerUp_=function(e){this.updateActivePointers_(e);var t=new i.a(a.a.POINTERUP,this.map_,e);this.dispatchEvent(t),this.emulateClicks_&&!t.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(d.c),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},t.prototype.isMouseActionButton_=function(e){return 0===e.button},t.prototype.handlePointerDown_=function(e){this.emulateClicks_=0===this.activePointers_,this.updateActivePointers_(e);var t=new i.a(a.a.POINTERDOWN,this.map_,e);for(var o in this.dispatchEvent(t),this.down_={},e){var n=e[o];this.down_[o]="function"==typeof n?u.c:n}if(0===this.dragListenerKeys_.length){var r=this.map_.getOwnerDocument();this.dragListenerKeys_.push(Object(d.a)(r,a.a.POINTERMOVE,this.handlePointerMove_,this),Object(d.a)(r,a.a.POINTERUP,this.handlePointerUp_,this),Object(d.a)(this.element_,a.a.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==r&&this.dragListenerKeys_.push(Object(d.a)(this.element_.getRootNode(),a.a.POINTERUP,this.handlePointerUp_,this))}},t.prototype.handlePointerMove_=function(e){if(this.isMoving_(e)){this.dragging_=!0;var t=new i.a(a.a.POINTERDRAG,this.map_,e,this.dragging_);this.dispatchEvent(t)}},t.prototype.relayEvent_=function(e){this.originalPointerMoveEvent_=e;var t=!(!this.down_||!this.isMoving_(e));this.dispatchEvent(new i.a(e.type,this.map_,e,t))},t.prototype.handleTouchMove_=function(e){var t=this.originalPointerMoveEvent_;t&&!t.defaultPrevented||"boolean"==typeof e.cancelable&&!0!==e.cancelable||e.preventDefault()},t.prototype.isMoving_=function(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_},t.prototype.disposeInternal=function(){this.relayedListenerKey_&&(Object(d.c)(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(r.a.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Object(d.c)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(d.c),this.dragListenerKeys_.length=0,this.element_=null,e.prototype.disposeInternal.call(this)},t}(l.a);t.a=p},"./node_modules/ol/MapBrowserEventType.js":function(e,t,o){"use strict";var n=o("./node_modules/ol/events/EventType.js");t.a={SINGLECLICK:"singleclick",CLICK:n.a.CLICK,DBLCLICK:n.a.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}},"./node_modules/ol/MapEvent.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/events/Event.js"),i=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=function(e){function t(t,o,n){var r=e.call(this,t)||this;return r.map=o,r.frameState=void 0!==n?n:null,r}return i(t,e),t}(r.a);t.a=a},"./node_modules/ol/MapEventType.js":function(e,t,o){"use strict";t.a={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend"}},"./node_modules/ol/MapProperty.js":function(e,t,o){"use strict";t.a={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"}},"./node_modules/ol/Object.js":function(e,t,o){"use strict";o.d(t,"a",(function(){return u}));var n,r=o("./node_modules/ol/events/Event.js"),i=o("./node_modules/ol/ObjectEventType.js"),a=o("./node_modules/ol/Observable.js"),s=o("./node_modules/ol/obj.js"),l=o("./node_modules/ol/util.js"),c=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),u=function(e){function t(t,o,n){var r=e.call(this,t)||this;return r.key=o,r.oldValue=n,r}return c(t,e),t}(r.a),d=function(e){function t(t){var o=e.call(this)||this;return o.on,o.once,o.un,Object(l.c)(o),o.values_=null,void 0!==t&&o.setProperties(t),o}return c(t,e),t.prototype.get=function(e){var t;return this.values_&&this.values_.hasOwnProperty(e)&&(t=this.values_[e]),t},t.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},t.prototype.getProperties=function(){return this.values_&&Object(s.a)({},this.values_)||{}},t.prototype.hasProperties=function(){return!!this.values_},t.prototype.notify=function(e,t){var o;o="change:"+e,this.dispatchEvent(new u(o,e,t)),o=i.a.PROPERTYCHANGE,this.dispatchEvent(new u(o,e,t))},t.prototype.addChangeListener=function(e,t){this.addEventListener("change:"+e,t)},t.prototype.removeChangeListener=function(e,t){this.removeEventListener("change:"+e,t)},t.prototype.set=function(e,t,o){var n=this.values_||(this.values_={});if(o)n[e]=t;else{var r=n[e];n[e]=t,r!==t&&this.notify(e,r)}},t.prototype.setProperties=function(e,t){for(var o in e)this.set(o,e[o],t)},t.prototype.applyProperties=function(e){e.values_&&Object(s.a)(this.values_||(this.values_={}),e.values_)},t.prototype.unset=function(e,t){if(this.values_&&e in this.values_){var o=this.values_[e];delete this.values_[e],Object(s.d)(this.values_)&&(this.values_=null),t||this.notify(e,o)}},t}(a.a);t.b=d},"./node_modules/ol/ObjectEventType.js":function(e,t,o){"use strict";t.a={PROPERTYCHANGE:"propertychange"}},"./node_modules/ol/Observable.js":function(e,t,o){"use strict";o.d(t,"b",(function(){return c}));var n,r=o("./node_modules/ol/events/Target.js"),i=o("./node_modules/ol/events/EventType.js"),a=o("./node_modules/ol/events.js"),s=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=function(e){function t(){var t=e.call(this)||this;return t.on=t.onInternal,t.once=t.onceInternal,t.un=t.unInternal,t.revision_=0,t}return s(t,e),t.prototype.changed=function(){++this.revision_,this.dispatchEvent(i.a.CHANGE)},t.prototype.getRevision=function(){return this.revision_},t.prototype.onInternal=function(e,t){if(Array.isArray(e)){for(var o=e.length,n=new Array(o),r=0;r<o;++r)n[r]=Object(a.a)(this,e[r],t);return n}return Object(a.a)(this,e,t)},t.prototype.onceInternal=function(e,t){var o;if(Array.isArray(e)){var n=e.length;o=new Array(n);for(var r=0;r<n;++r)o[r]=Object(a.b)(this,e[r],t)}else o=Object(a.b)(this,e,t);return t.ol_key=o,o},t.prototype.unInternal=function(e,t){var o=t.ol_key;if(o)c(o);else if(Array.isArray(e))for(var n=0,r=e.length;n<r;++n)this.removeEventListener(e[n],t);else this.removeEventListener(e,t)},t}(r.a);function c(e){if(Array.isArray(e))for(var t=0,o=e.length;t<o;++t)Object(a.c)(e[t]);else Object(a.c)(e)}l.prototype.on,l.prototype.once,l.prototype.un,t.a=l},"./node_modules/ol/Overlay.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/Object.js"),i=o("./node_modules/ol/MapEventType.js"),a=o("./node_modules/ol/OverlayPositioning.js"),s=o("./node_modules/ol/css.js"),l=o("./node_modules/ol/extent.js"),c=o("./node_modules/ol/events.js"),u=o("./node_modules/ol/dom.js"),d=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),h="element",p="map",f="offset",g="position",m="positioning",y=function(e){function t(t){var o=e.call(this)||this;o.on,o.once,o.un,o.options=t,o.id=t.id,o.insertFirst=void 0===t.insertFirst||t.insertFirst,o.stopEvent=void 0===t.stopEvent||t.stopEvent,o.element=document.createElement("div"),o.element.className=void 0!==t.className?t.className:"ol-overlay-container "+s.d,o.element.style.position="absolute",o.element.style.pointerEvents="auto";var n=t.autoPan;return n&&"object"!=typeof n&&(n={animation:t.autoPanAnimation,margin:t.autoPanMargin}),o.autoPan=n||!1,o.rendered={transform_:"",visible:!0},o.mapPostrenderListenerKey=null,o.addChangeListener(h,o.handleElementChanged),o.addChangeListener(p,o.handleMapChanged),o.addChangeListener(f,o.handleOffsetChanged),o.addChangeListener(g,o.handlePositionChanged),o.addChangeListener(m,o.handlePositioningChanged),void 0!==t.element&&o.setElement(t.element),o.setOffset(void 0!==t.offset?t.offset:[0,0]),o.setPositioning(void 0!==t.positioning?t.positioning:a.a.TOP_LEFT),void 0!==t.position&&o.setPosition(t.position),o}return d(t,e),t.prototype.getElement=function(){return this.get(h)},t.prototype.getId=function(){return this.id},t.prototype.getMap=function(){return this.get(p)},t.prototype.getOffset=function(){return this.get(f)},t.prototype.getPosition=function(){return this.get(g)},t.prototype.getPositioning=function(){return this.get(m)},t.prototype.handleElementChanged=function(){Object(u.d)(this.element);var e=this.getElement();e&&this.element.appendChild(e)},t.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&(Object(u.e)(this.element),Object(c.c)(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var e=this.getMap();if(e){this.mapPostrenderListenerKey=Object(c.a)(e,i.a.POSTRENDER,this.render,this),this.updatePixelPosition();var t=this.stopEvent?e.getOverlayContainerStopEvent():e.getOverlayContainer();this.insertFirst?t.insertBefore(this.element,t.childNodes[0]||null):t.appendChild(this.element),this.performAutoPan()}},t.prototype.render=function(){this.updatePixelPosition()},t.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},t.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.performAutoPan()},t.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},t.prototype.setElement=function(e){this.set(h,e)},t.prototype.setMap=function(e){this.set(p,e)},t.prototype.setOffset=function(e){this.set(f,e)},t.prototype.setPosition=function(e){this.set(g,e)},t.prototype.performAutoPan=function(){this.autoPan&&this.panIntoView(this.autoPan)},t.prototype.panIntoView=function(e){var t=this.getMap();if(t&&t.getTargetElement()&&this.get(g)){var o=this.getRect(t.getTargetElement(),t.getSize()),n=this.getElement(),r=this.getRect(n,[Object(u.c)(n),Object(u.b)(n)]),i=e||{},a=void 0===i.margin?20:i.margin;if(!Object(l.h)(o,r)){var s=r[0]-o[0],c=o[2]-r[2],d=r[1]-o[1],h=o[3]-r[3],p=[0,0];if(s<0?p[0]=s-a:c<0&&(p[0]=Math.abs(c)+a),d<0?p[1]=d-a:h<0&&(p[1]=Math.abs(h)+a),0!==p[0]||0!==p[1]){var f=t.getView().getCenterInternal(),m=t.getPixelFromCoordinateInternal(f);if(!m)return;var y=[m[0]+p[0],m[1]+p[1]],v=i.animation||{};t.getView().animateInternal({center:t.getCoordinateFromPixelInternal(y),duration:v.duration,easing:v.easing})}}}},t.prototype.getRect=function(e,t){var o=e.getBoundingClientRect(),n=o.left+window.pageXOffset,r=o.top+window.pageYOffset;return[n,r,n+t[0],r+t[1]]},t.prototype.setPositioning=function(e){this.set(m,e)},t.prototype.setVisible=function(e){this.rendered.visible!==e&&(this.element.style.display=e?"":"none",this.rendered.visible=e)},t.prototype.updatePixelPosition=function(){var e=this.getMap(),t=this.getPosition();if(e&&e.isRendered()&&t){var o=e.getPixelFromCoordinate(t),n=e.getSize();this.updateRenderedPosition(o,n)}else this.setVisible(!1)},t.prototype.updateRenderedPosition=function(e,t){var o=this.element.style,n=this.getOffset(),r=this.getPositioning();this.setVisible(!0);var i=Math.round(e[0]+n[0])+"px",s=Math.round(e[1]+n[1])+"px",l="0%",c="0%";r==a.a.BOTTOM_RIGHT||r==a.a.CENTER_RIGHT||r==a.a.TOP_RIGHT?l="-100%":r!=a.a.BOTTOM_CENTER&&r!=a.a.CENTER_CENTER&&r!=a.a.TOP_CENTER||(l="-50%"),r==a.a.BOTTOM_LEFT||r==a.a.BOTTOM_CENTER||r==a.a.BOTTOM_RIGHT?c="-100%":r!=a.a.CENTER_LEFT&&r!=a.a.CENTER_CENTER&&r!=a.a.CENTER_RIGHT||(c="-50%");var u="translate("+l+", "+c+") translate("+i+", "+s+")";this.rendered.transform_!=u&&(this.rendered.transform_=u,o.transform=u,o.msTransform=u)},t.prototype.getOptions=function(){return this.options},t}(r.b);t.a=y},"./node_modules/ol/OverlayPositioning.js":function(e,t,o){"use strict";t.a={BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right",CENTER_LEFT:"center-left",CENTER_CENTER:"center-center",CENTER_RIGHT:"center-right",TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right"}},"./node_modules/ol/PluggableMap.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/Object.js"),i=o("./node_modules/ol/Collection.js"),a=o("./node_modules/ol/CollectionEventType.js"),s=o("./node_modules/ol/events/EventType.js"),l=o("./node_modules/ol/layer/Group.js"),c=o("./node_modules/ol/MapBrowserEvent.js"),u=o("./node_modules/ol/MapBrowserEventHandler.js"),d=o("./node_modules/ol/MapBrowserEventType.js"),h=o("./node_modules/ol/MapEvent.js"),p=o("./node_modules/ol/MapEventType.js"),f=o("./node_modules/ol/MapProperty.js"),g=o("./node_modules/ol/ObjectEventType.js"),m=o("./node_modules/ol/pointer/EventType.js"),y=o("./node_modules/ol/render/EventType.js"),v=o("./node_modules/ol/TileQueue.js"),_=o("./node_modules/ol/View.js"),b=o("./node_modules/ol/ViewHint.js"),A=o("./node_modules/ol/has.js"),C=o("./node_modules/ol/functions.js"),w=o("./node_modules/ol/transform.js"),E=o("./node_modules/ol/asserts.js"),I=o("./node_modules/ol/extent.js"),O=o("./node_modules/ol/proj.js"),S=o("./node_modules/ol/size.js"),x=o("./node_modules/ol/events.js"),j=o("./node_modules/ol/dom.js"),P=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),T=function(e){function t(t){var o=e.call(this)||this;o.on,o.once,o.un;var n=function(e){var t=null;void 0!==e.keyboardEventTarget&&(t="string"==typeof e.keyboardEventTarget?document.getElementById(e.keyboardEventTarget):e.keyboardEventTarget);var o,n,r,a={},s=e.layers&&"function"==typeof e.layers.getLayers?e.layers:new l.a({layers:e.layers});a[f.a.LAYERGROUP]=s,a[f.a.TARGET]=e.target,a[f.a.VIEW]=e.view instanceof _.d?e.view:new _.d,void 0!==e.controls&&(Array.isArray(e.controls)?o=new i.b(e.controls.slice()):(Object(E.a)("function"==typeof e.controls.getArray,47),o=e.controls));void 0!==e.interactions&&(Array.isArray(e.interactions)?n=new i.b(e.interactions.slice()):(Object(E.a)("function"==typeof e.interactions.getArray,48),n=e.interactions));void 0!==e.overlays?Array.isArray(e.overlays)?r=new i.b(e.overlays.slice()):(Object(E.a)("function"==typeof e.overlays.getArray,49),r=e.overlays):r=new i.b;return{controls:o,interactions:n,keyboardEventTarget:t,overlays:r,values:a}}(t);o.boundHandleBrowserEvent_=o.handleBrowserEvent.bind(o),o.maxTilesLoading_=void 0!==t.maxTilesLoading?t.maxTilesLoading:16,o.pixelRatio_=void 0!==t.pixelRatio?t.pixelRatio:A.a,o.postRenderTimeoutHandle_,o.animationDelayKey_,o.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}.bind(o),o.coordinateToPixelTransform_=Object(w.d)(),o.pixelToCoordinateTransform_=Object(w.d)(),o.frameIndex_=0,o.frameState_=null,o.previousExtent_=null,o.viewPropertyListenerKey_=null,o.viewChangeListenerKey_=null,o.layerGroupPropertyListenerKeys_=null,o.viewport_=document.createElement("div"),o.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),o.viewport_.style.position="relative",o.viewport_.style.overflow="hidden",o.viewport_.style.width="100%",o.viewport_.style.height="100%",o.overlayContainer_=document.createElement("div"),o.overlayContainer_.style.position="absolute",o.overlayContainer_.style.zIndex="0",o.overlayContainer_.style.width="100%",o.overlayContainer_.style.height="100%",o.overlayContainer_.style.pointerEvents="none",o.overlayContainer_.className="ol-overlaycontainer",o.viewport_.appendChild(o.overlayContainer_),o.overlayContainerStopEvent_=document.createElement("div"),o.overlayContainerStopEvent_.style.position="absolute",o.overlayContainerStopEvent_.style.zIndex="0",o.overlayContainerStopEvent_.style.width="100%",o.overlayContainerStopEvent_.style.height="100%",o.overlayContainerStopEvent_.style.pointerEvents="none",o.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",o.viewport_.appendChild(o.overlayContainerStopEvent_),o.mapBrowserEventHandler_=null,o.moveTolerance_=t.moveTolerance,o.keyboardEventTarget_=n.keyboardEventTarget,o.keyHandlerKeys_=null,o.controls=n.controls||new i.b,o.interactions=n.interactions||new i.b,o.overlays_=n.overlays,o.overlayIdIndex_={},o.renderer_=null,o.handleResize_,o.postRenderFunctions_=[],o.tileQueue_=new v.a(o.getTilePriority.bind(o),o.handleTileChange_.bind(o)),o.addChangeListener(f.a.LAYERGROUP,o.handleLayerGroupChanged_),o.addChangeListener(f.a.VIEW,o.handleViewChanged_),o.addChangeListener(f.a.SIZE,o.handleSizeChanged_),o.addChangeListener(f.a.TARGET,o.handleTargetChanged_),o.setProperties(n.values);var r=o;return!t.view||t.view instanceof _.d||t.view.then((function(e){r.setView(new _.d(e))})),o.controls.addEventListener(a.a.ADD,function(e){e.element.setMap(this)}.bind(o)),o.controls.addEventListener(a.a.REMOVE,function(e){e.element.setMap(null)}.bind(o)),o.interactions.addEventListener(a.a.ADD,function(e){e.element.setMap(this)}.bind(o)),o.interactions.addEventListener(a.a.REMOVE,function(e){e.element.setMap(null)}.bind(o)),o.overlays_.addEventListener(a.a.ADD,function(e){this.addOverlayInternal_(e.element)}.bind(o)),o.overlays_.addEventListener(a.a.REMOVE,function(e){var t=e.element.getId();void 0!==t&&delete this.overlayIdIndex_[t.toString()],e.element.setMap(null)}.bind(o)),o.controls.forEach(function(e){e.setMap(this)}.bind(o)),o.interactions.forEach(function(e){e.setMap(this)}.bind(o)),o.overlays_.forEach(o.addOverlayInternal_.bind(o)),o}return P(t,e),t.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},t.prototype.addControl=function(e){this.getControls().push(e)},t.prototype.addInteraction=function(e){this.getInteractions().push(e)},t.prototype.addLayer=function(e){this.getLayerGroup().getLayers().push(e)},t.prototype.addOverlay=function(e){this.getOverlays().push(e)},t.prototype.addOverlayInternal_=function(e){var t=e.getId();void 0!==t&&(this.overlayIdIndex_[t.toString()]=e),e.setMap(this)},t.prototype.disposeInternal=function(){this.setTarget(null),e.prototype.disposeInternal.call(this)},t.prototype.forEachFeatureAtPixel=function(e,t,o){if(this.frameState_){var n=this.getCoordinateFromPixelInternal(e),r=void 0!==(o=void 0!==o?o:{}).hitTolerance?o.hitTolerance:0,i=void 0!==o.layerFilter?o.layerFilter:C.b,a=!1!==o.checkWrapped;return this.renderer_.forEachFeatureAtCoordinate(n,this.frameState_,r,a,t,null,i,null)}},t.prototype.getFeaturesAtPixel=function(e,t){var o=[];return this.forEachFeatureAtPixel(e,(function(e){o.push(e)}),t),o},t.prototype.forEachLayerAtPixel=function(e,t,o){if(this.frameState_){var n=o||{},r=void 0!==n.hitTolerance?n.hitTolerance:0,i=n.layerFilter||C.b;return this.renderer_.forEachLayerAtPixel(e,this.frameState_,r,t,i)}},t.prototype.hasFeatureAtPixel=function(e,t){if(!this.frameState_)return!1;var o=this.getCoordinateFromPixelInternal(e),n=void 0!==(t=void 0!==t?t:{}).layerFilter?t.layerFilter:C.b,r=void 0!==t.hitTolerance?t.hitTolerance:0,i=!1!==t.checkWrapped;return this.renderer_.hasFeatureAtCoordinate(o,this.frameState_,r,i,n,null)},t.prototype.getEventCoordinate=function(e){return this.getCoordinateFromPixel(this.getEventPixel(e))},t.prototype.getEventCoordinateInternal=function(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))},t.prototype.getEventPixel=function(e){var t=this.viewport_.getBoundingClientRect(),o="changedTouches"in e?e.changedTouches[0]:e;return[o.clientX-t.left,o.clientY-t.top]},t.prototype.getTarget=function(){return this.get(f.a.TARGET)},t.prototype.getTargetElement=function(){var e=this.getTarget();return void 0!==e?"string"==typeof e?document.getElementById(e):e:null},t.prototype.getCoordinateFromPixel=function(e){return Object(O.B)(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())},t.prototype.getCoordinateFromPixelInternal=function(e){var t=this.frameState_;return t?Object(w.a)(t.pixelToCoordinateTransform,e.slice()):null},t.prototype.getControls=function(){return this.controls},t.prototype.getOverlays=function(){return this.overlays_},t.prototype.getOverlayById=function(e){var t=this.overlayIdIndex_[e.toString()];return void 0!==t?t:null},t.prototype.getInteractions=function(){return this.interactions},t.prototype.getLayerGroup=function(){return this.get(f.a.LAYERGROUP)},t.prototype.setLayers=function(e){var t=this.getLayerGroup();if(e instanceof i.b)t.setLayers(e);else{var o=t.getLayers();o.clear(),o.extend(e)}},t.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},t.prototype.getLoading=function(){for(var e=this.getLayerGroup().getLayerStatesArray(),t=0,o=e.length;t<o;++t){var n=e[t].layer.getSource();if(n&&n.loading)return!0}return!1},t.prototype.getPixelFromCoordinate=function(e){var t=Object(O.q)(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(t)},t.prototype.getPixelFromCoordinateInternal=function(e){var t=this.frameState_;return t?Object(w.a)(t.coordinateToPixelTransform,e.slice(0,2)):null},t.prototype.getRenderer=function(){return this.renderer_},t.prototype.getSize=function(){return this.get(f.a.SIZE)},t.prototype.getView=function(){return this.get(f.a.VIEW)},t.prototype.getViewport=function(){return this.viewport_},t.prototype.getOverlayContainer=function(){return this.overlayContainer_},t.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},t.prototype.getOwnerDocument=function(){var e=this.getTargetElement();return e?e.ownerDocument:document},t.prototype.getTilePriority=function(e,t,o,n){return Object(v.b)(this.frameState_,e,t,o,n)},t.prototype.handleBrowserEvent=function(e,t){var o=t||e.type,n=new c.a(o,this,e);this.handleMapBrowserEvent(n)},t.prototype.handleMapBrowserEvent=function(e){if(this.frameState_){var t=e.originalEvent,o=t.type;if(o===m.a.POINTERDOWN||o===s.a.WHEEL||o===s.a.KEYDOWN){var n=this.getOwnerDocument(),r=this.viewport_.getRootNode?this.viewport_.getRootNode():n,i=t.target;if(this.overlayContainerStopEvent_.contains(i)||!(r===n?n.documentElement:r).contains(i))return}if(e.frameState=this.frameState_,!1!==this.dispatchEvent(e))for(var a=this.getInteractions().getArray().slice(),l=a.length-1;l>=0;l--){var c=a[l];if(c.getMap()===this&&c.getActive()&&this.getTargetElement())if(!c.handleEvent(e)||e.propagationStopped)break}}},t.prototype.handlePostRender=function(){var e=this.frameState_,t=this.tileQueue_;if(!t.isEmpty()){var o=this.maxTilesLoading_,n=o;if(e){var r=e.viewHints;if(r[b.a.ANIMATING]||r[b.a.INTERACTING]){var i=Date.now()-e.time>8;o=i?0:8,n=i?0:2}}t.getTilesLoading()<o&&(t.reprioritize(),t.loadMoreTiles(o,n))}!e||!this.hasListener(y.a.RENDERCOMPLETE)||e.animate||this.tileQueue_.getTilesLoading()||this.getLoading()||this.renderer_.dispatchRenderEvent(y.a.RENDERCOMPLETE,e);for(var a=this.postRenderFunctions_,s=0,l=a.length;s<l;++s)a[s](this,e);a.length=0},t.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()},t.prototype.handleTargetChanged_=function(){var e;if(this.getTarget()&&(e=this.getTargetElement()),this.mapBrowserEventHandler_){for(var t=0,o=this.keyHandlerKeys_.length;t<o;++t)Object(x.c)(this.keyHandlerKeys_[t]);this.keyHandlerKeys_=null,this.viewport_.removeEventListener(s.a.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(s.a.WHEEL,this.boundHandleBrowserEvent_),void 0!==this.handleResize_&&(removeEventListener(s.a.RESIZE,this.handleResize_,!1),this.handleResize_=void 0),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,Object(j.e)(this.viewport_)}if(e){for(var n in e.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer()),this.mapBrowserEventHandler_=new u.a(this,this.moveTolerance_),d.a)this.mapBrowserEventHandler_.addEventListener(d.a[n],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(s.a.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(s.a.WHEEL,this.boundHandleBrowserEvent_,!!A.e&&{passive:!1});var r=this.keyboardEventTarget_?this.keyboardEventTarget_:e;this.keyHandlerKeys_=[Object(x.a)(r,s.a.KEYDOWN,this.handleBrowserEvent,this),Object(x.a)(r,s.a.KEYPRESS,this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),window.addEventListener(s.a.RESIZE,this.handleResize_,!1))}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()},t.prototype.handleTileChange_=function(){this.render()},t.prototype.handleViewPropertyChanged_=function(){this.render()},t.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(Object(x.c)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Object(x.c)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var e=this.getView();e&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=Object(x.a)(e,g.a.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Object(x.a)(e,s.a.CHANGE,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()},t.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(x.c),this.layerGroupPropertyListenerKeys_=null);var e=this.getLayerGroup();e&&(this.layerGroupPropertyListenerKeys_=[Object(x.a)(e,g.a.PROPERTYCHANGE,this.render,this),Object(x.a)(e,s.a.CHANGE,this.render,this)]),this.render()},t.prototype.isRendered=function(){return!!this.frameState_},t.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},t.prototype.redrawText=function(){for(var e=this.getLayerGroup().getLayerStatesArray(),t=0,o=e.length;t<o;++t){var n=e[t].layer;n.hasRenderer()&&n.getRenderer().handleFontsChanged()}},t.prototype.render=function(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},t.prototype.removeControl=function(e){return this.getControls().remove(e)},t.prototype.removeInteraction=function(e){return this.getInteractions().remove(e)},t.prototype.removeLayer=function(e){return this.getLayerGroup().getLayers().remove(e)},t.prototype.removeOverlay=function(e){return this.getOverlays().remove(e)},t.prototype.renderFrame_=function(e){var t=this,o=this.getSize(),n=this.getView(),r=this.frameState_,i=null;if(void 0!==o&&Object(S.b)(o)&&n&&n.isDef()){var a=n.getHints(this.frameState_?this.frameState_.viewHints:void 0),s=n.getState();if(i={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:Object(I.F)(s.center,s.resolution,s.rotation,o),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:o,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:s,viewHints:a,wantedTiles:{}},s.nextCenter&&s.nextResolution){var l=isNaN(s.nextRotation)?s.rotation:s.nextRotation;i.nextExtent=Object(I.F)(s.nextCenter,s.nextResolution,l,o)}}if(this.frameState_=i,this.renderer_.renderFrame(i),i){if(i.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,i.postRenderFunctions),r)(!this.previousExtent_||!Object(I.Q)(this.previousExtent_)&&!Object(I.r)(i.extent,this.previousExtent_))&&(this.dispatchEvent(new h.a(p.a.MOVESTART,this,r)),this.previousExtent_=Object(I.m)(this.previousExtent_));this.previousExtent_&&!i.viewHints[b.a.ANIMATING]&&!i.viewHints[b.a.INTERACTING]&&!Object(I.r)(i.extent,this.previousExtent_)&&(this.dispatchEvent(new h.a(p.a.MOVEEND,this,i)),Object(I.e)(i.extent,this.previousExtent_))}this.dispatchEvent(new h.a(p.a.POSTRENDER,this,i)),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout((function(){t.postRenderTimeoutHandle_=void 0,t.handlePostRender()}),0))},t.prototype.setLayerGroup=function(e){this.set(f.a.LAYERGROUP,e)},t.prototype.setSize=function(e){this.set(f.a.SIZE,e)},t.prototype.setTarget=function(e){this.set(f.a.TARGET,e)},t.prototype.setView=function(e){if(!e||e instanceof _.d)this.set(f.a.VIEW,e);else{this.set(f.a.VIEW,new _.d);var t=this;e.then((function(e){t.setView(new _.d(e))}))}},t.prototype.updateSize=function(){var e=this.getTargetElement(),t=void 0;if(e){var o=getComputedStyle(e),n=e.offsetWidth-parseFloat(o.borderLeftWidth)-parseFloat(o.paddingLeft)-parseFloat(o.paddingRight)-parseFloat(o.borderRightWidth),r=e.offsetHeight-parseFloat(o.borderTopWidth)-parseFloat(o.paddingTop)-parseFloat(o.paddingBottom)-parseFloat(o.borderBottomWidth);isNaN(n)||isNaN(r)||(t=[n,r],!Object(S.b)(t)&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&console.warn("No map visible because the map container's width or height are 0."))}this.setSize(t),this.updateViewportSize_()},t.prototype.updateViewportSize_=function(){var e=this.getView();if(e){var t=void 0,o=getComputedStyle(this.viewport_);o.width&&o.height&&(t=[parseInt(o.width,10),parseInt(o.height,10)]),e.setViewportSize(t)}},t}(r.b);t.a=T},"./node_modules/ol/Tile.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/events/Target.js"),i=o("./node_modules/ol/events/EventType.js"),a=o("./node_modules/ol/TileState.js"),s=o("./node_modules/ol/util.js"),l=o("./node_modules/ol/easing.js"),c=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),u=function(e){function t(t,o,n){var r=e.call(this)||this,i=n||{};return r.tileCoord=t,r.state=o,r.interimTile=null,r.key="",r.transition_=void 0===i.transition?250:i.transition,r.transitionStarts_={},r}return c(t,e),t.prototype.changed=function(){this.dispatchEvent(i.a.CHANGE)},t.prototype.release=function(){},t.prototype.getKey=function(){return this.key+"/"+this.tileCoord},t.prototype.getInterimTile=function(){if(!this.interimTile)return this;var e=this.interimTile;do{if(e.getState()==a.a.LOADED)return this.transition_=0,e;e=e.interimTile}while(e);return this},t.prototype.refreshInterimChain=function(){if(this.interimTile){var e=this.interimTile,t=this;do{if(e.getState()==a.a.LOADED){e.interimTile=null;break}e.getState()==a.a.LOADING?t=e:e.getState()==a.a.IDLE?t.interimTile=e.interimTile:t=e,e=t.interimTile}while(e)}},t.prototype.getTileCoord=function(){return this.tileCoord},t.prototype.getState=function(){return this.state},t.prototype.setState=function(e){if(this.state!==a.a.ERROR&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()},t.prototype.load=function(){Object(s.b)()},t.prototype.getAlpha=function(e,t){if(!this.transition_)return 1;var o=this.transitionStarts_[e];if(o){if(-1===o)return 1}else o=t,this.transitionStarts_[e]=o;var n=t-o+1e3/60;return n>=this.transition_?1:Object(l.a)(n/this.transition_)},t.prototype.inTransition=function(e){return!!this.transition_&&-1!==this.transitionStarts_[e]},t.prototype.endTransition=function(e){this.transition_&&(this.transitionStarts_[e]=-1)},t}(r.a);t.a=u},"./node_modules/ol/TileCache.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/structs/LRUCache.js"),i=o("./node_modules/ol/tilecoord.js"),a=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.expireCache=function(e){for(;this.canExpireCache();){if(this.peekLast().getKey()in e)break;this.pop().release()}},t.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var e=this.peekFirstKey(),t=Object(i.b)(e)[0];this.forEach(function(e){e.tileCoord[0]!==t&&(this.remove(Object(i.d)(e.tileCoord)),e.release())}.bind(this))}},t}(r.a);t.a=s},"./node_modules/ol/TileQueue.js":function(e,t,o){"use strict";o.d(t,"b",(function(){return c}));var n,r=o("./node_modules/ol/events/EventType.js"),i=o("./node_modules/ol/structs/PriorityQueue.js"),a=o("./node_modules/ol/TileState.js"),s=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=function(e){function t(t,o){var n=e.call(this,(function(e){return t.apply(null,e)}),(function(e){return e[0].getKey()}))||this;return n.boundHandleTileChange_=n.handleTileChange.bind(n),n.tileChangeCallback_=o,n.tilesLoading_=0,n.tilesLoadingKeys_={},n}return s(t,e),t.prototype.enqueue=function(t){var o=e.prototype.enqueue.call(this,t);o&&t[0].addEventListener(r.a.CHANGE,this.boundHandleTileChange_);return o},t.prototype.getTilesLoading=function(){return this.tilesLoading_},t.prototype.handleTileChange=function(e){var t=e.target,o=t.getState();if(o===a.a.LOADED||o===a.a.ERROR||o===a.a.EMPTY){t.removeEventListener(r.a.CHANGE,this.boundHandleTileChange_);var n=t.getKey();n in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[n],--this.tilesLoading_),this.tileChangeCallback_()}},t.prototype.loadMoreTiles=function(e,t){for(var o,n,r=0;this.tilesLoading_<e&&r<t&&this.getCount()>0;)n=(o=this.dequeue()[0]).getKey(),o.getState()!==a.a.IDLE||n in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[n]=!0,++this.tilesLoading_,++r,o.load())},t}(i.b);function c(e,t,o,n,r){if(!e||!(o in e.wantedTiles))return i.a;if(!e.wantedTiles[o][t.getKey()])return i.a;var a=e.viewState.center,s=n[0]-a[0],l=n[1]-a[1];return 65536*Math.log(r)+Math.sqrt(s*s+l*l)/r}t.a=l},"./node_modules/ol/TileRange.js":function(e,t,o){"use strict";o.d(t,"a",(function(){return r}));var n=function(){function e(e,t,o,n){this.minX=e,this.maxX=t,this.minY=o,this.maxY=n}return e.prototype.contains=function(e){return this.containsXY(e[1],e[2])},e.prototype.containsTileRange=function(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY},e.prototype.containsXY=function(e,t){return this.minX<=e&&e<=this.maxX&&this.minY<=t&&t<=this.maxY},e.prototype.equals=function(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY},e.prototype.extend=function(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)},e.prototype.getHeight=function(){return this.maxY-this.minY+1},e.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},e.prototype.getWidth=function(){return this.maxX-this.minX+1},e.prototype.intersects=function(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY},e}();function r(e,t,o,r,i){return void 0!==i?(i.minX=e,i.maxX=t,i.minY=o,i.maxY=r,i):new n(e,t,o,r)}t.b=n},"./node_modules/ol/TileState.js":function(e,t,o){"use strict";t.a={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}},"./node_modules/ol/VectorRenderTile.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/Tile.js"),i=o("./node_modules/ol/dom.js"),a=o("./node_modules/ol/util.js"),s=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=[],c=function(e){function t(t,o,n,r){var i=e.call(this,t,o,{transition:0})||this;return i.context_={},i.executorGroups={},i.declutterExecutorGroups={},i.loadingSourceTiles=0,i.hitDetectionImageData={},i.replayState_={},i.sourceTiles=[],i.errorTileKeys={},i.wantedResolution,i.getSourceTiles=r.bind(void 0,i),i.wrappedTileCoord=n,i}return s(t,e),t.prototype.getContext=function(e){var t=Object(a.c)(e);return t in this.context_||(this.context_[t]=Object(i.a)(1,1,l)),this.context_[t]},t.prototype.hasContext=function(e){return Object(a.c)(e)in this.context_},t.prototype.getImage=function(e){return this.hasContext(e)?this.getContext(e).canvas:null},t.prototype.getReplayState=function(e){var t=Object(a.c)(e);return t in this.replayState_||(this.replayState_[t]={dirty:!1,renderedRenderOrder:null,renderedResolution:NaN,renderedRevision:-1,renderedTileResolution:NaN,renderedTileRevision:-1,renderedTileZ:-1}),this.replayState_[t]},t.prototype.load=function(){this.getSourceTiles()},t.prototype.release=function(){for(var t in this.context_)l.push(this.context_[t].canvas),delete this.context_[t];e.prototype.release.call(this)},t}(r.a);t.a=c},"./node_modules/ol/VectorTile.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/Tile.js"),i=o("./node_modules/ol/TileState.js"),a=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),s=function(e){function t(t,o,n,r,i,a){var s=e.call(this,t,o,a)||this;return s.extent=null,s.format_=r,s.features_=null,s.loader_,s.projection=null,s.resolution,s.tileLoadFunction_=i,s.url_=n,s.key=n,s}return a(t,e),t.prototype.getFormat=function(){return this.format_},t.prototype.getFeatures=function(){return this.features_},t.prototype.load=function(){this.state==i.a.IDLE&&(this.setState(i.a.LOADING),this.tileLoadFunction_(this,this.url_),this.loader_&&this.loader_(this.extent,this.resolution,this.projection))},t.prototype.onLoad=function(e,t){this.setFeatures(e)},t.prototype.onError=function(){this.setState(i.a.ERROR)},t.prototype.setFeatures=function(e){this.features_=e,this.setState(i.a.LOADED)},t.prototype.setLoader=function(e){this.loader_=e},t}(r.a);t.a=s},"./node_modules/ol/View.js":function(e,t,o){"use strict";o.d(t,"a",(function(){return O})),o.d(t,"b",(function(){return S})),o.d(t,"c",(function(){return x})),o.d(t,"e",(function(){return j}));var n,r=o("./node_modules/ol/Object.js"),i=o("./node_modules/ol/geom/GeometryType.js"),a=o("./node_modules/ol/proj/Units.js"),s=o("./node_modules/ol/ViewHint.js"),l=o("./node_modules/ol/ViewProperty.js"),c=o("./node_modules/ol/tilegrid/common.js"),u=o("./node_modules/ol/proj.js"),d=o("./node_modules/ol/functions.js"),h=o("./node_modules/ol/coordinate.js"),p=o("./node_modules/ol/asserts.js"),f=o("./node_modules/ol/obj.js"),g=o("./node_modules/ol/centerconstraint.js"),m=o("./node_modules/ol/math.js"),y=o("./node_modules/ol/resolutionconstraint.js"),v=o("./node_modules/ol/rotationconstraint.js"),_=o("./node_modules/ol/easing.js"),b=o("./node_modules/ol/extent.js"),A=o("./node_modules/ol/array.js"),C=o("./node_modules/ol/geom/Polygon.js"),w=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),E=function(e){function t(t){var o=e.call(this)||this;o.on,o.once,o.un;var n=Object(f.a)({},t);return o.hints_=[0,0],o.animations_=[],o.updateAnimationKey_,o.projection_=Object(u.l)(n.projection,"EPSG:3857"),o.viewportSize_=[100,100],o.targetCenter_=null,o.targetResolution_,o.targetRotation_,o.nextCenter_=null,o.nextResolution_,o.nextRotation_,o.cancelAnchor_=void 0,n.center&&(n.center=Object(u.q)(n.center,o.projection_)),n.extent&&(n.extent=Object(u.r)(n.extent,o.projection_)),o.applyOptions_(n),o}return w(t,e),t.prototype.applyOptions_=function(e){var t=S(e);this.maxResolution_=t.maxResolution,this.minResolution_=t.minResolution,this.zoomFactor_=t.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=t.minZoom;var o=O(e),n=t.constraint,r=x(e);this.constraints_={center:o,resolution:n,rotation:r},this.setRotation(void 0!==e.rotation?e.rotation:0),this.setCenterInternal(void 0!==e.center?e.center:null),void 0!==e.resolution?this.setResolution(e.resolution):void 0!==e.zoom&&this.setZoom(e.zoom),this.setProperties({}),this.options_=e},Object.defineProperty(t.prototype,"padding",{get:function(){return this.padding_},set:function(e){var t=this.padding_;this.padding_=e;var o=this.getCenter();if(o){var n=e||[0,0,0,0];t=t||[0,0,0,0];var r=this.getResolution(),i=r/2*(n[3]-t[3]+t[1]-n[1]),a=r/2*(n[0]-t[0]+t[2]-n[2]);this.setCenterInternal([o[0]+i,o[1]-a])}},enumerable:!1,configurable:!0}),t.prototype.getUpdatedOptions_=function(e){var t=Object(f.a)({},this.options_);return void 0!==t.resolution?t.resolution=this.getResolution():t.zoom=this.getZoom(),t.center=this.getCenterInternal(),t.rotation=this.getRotation(),Object(f.a)({},t,e)},t.prototype.animate=function(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var t=new Array(arguments.length),o=0;o<t.length;++o){var n=arguments[o];n.center&&((n=Object(f.a)({},n)).center=Object(u.q)(n.center,this.getProjection())),n.anchor&&((n=Object(f.a)({},n)).anchor=Object(u.q)(n.anchor,this.getProjection())),t[o]=n}this.animateInternal.apply(this,t)},t.prototype.animateInternal=function(e){var t,o=arguments.length;o>1&&"function"==typeof arguments[o-1]&&(t=arguments[o-1],--o);for(var n=0;n<o&&!this.isDef();++n){var r=arguments[n];r.center&&this.setCenterInternal(r.center),void 0!==r.zoom?this.setZoom(r.zoom):r.resolution&&this.setResolution(r.resolution),void 0!==r.rotation&&this.setRotation(r.rotation)}if(n!==o){for(var i=Date.now(),a=this.targetCenter_.slice(),l=this.targetResolution_,c=this.targetRotation_,u=[];n<o;++n){var d=arguments[n],h={start:i,complete:!1,anchor:d.anchor,duration:void 0!==d.duration?d.duration:1e3,easing:d.easing||_.c,callback:t};if(d.center&&(h.sourceCenter=a,h.targetCenter=d.center.slice(),a=h.targetCenter),void 0!==d.zoom?(h.sourceResolution=l,h.targetResolution=this.getResolutionForZoom(d.zoom),l=h.targetResolution):d.resolution&&(h.sourceResolution=l,h.targetResolution=d.resolution,l=h.targetResolution),void 0!==d.rotation){h.sourceRotation=c;var p=Object(m.e)(d.rotation-c+Math.PI,2*Math.PI)-Math.PI;h.targetRotation=c+p,c=h.targetRotation}j(h)?h.complete=!0:i+=h.duration,u.push(h)}this.animations_.push(u),this.setHint(s.a.ANIMATING,1),this.updateAnimations_()}else t&&I(t,!0)},t.prototype.getAnimating=function(){return this.hints_[s.a.ANIMATING]>0},t.prototype.getInteracting=function(){return this.hints_[s.a.INTERACTING]>0},t.prototype.cancelAnimations=function(){var e;this.setHint(s.a.ANIMATING,-this.hints_[s.a.ANIMATING]);for(var t=0,o=this.animations_.length;t<o;++t){var n=this.animations_[t];if(n[0].callback&&I(n[0].callback,!1),!e)for(var r=0,i=n.length;r<i;++r){var a=n[r];if(!a.complete){e=a.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN},t.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var e=Date.now(),t=!1,o=this.animations_.length-1;o>=0;--o){for(var n=this.animations_[o],r=!0,i=0,a=n.length;i<a;++i){var l=n[i];if(!l.complete){var c=e-l.start,u=l.duration>0?c/l.duration:1;u>=1?(l.complete=!0,u=1):r=!1;var d=l.easing(u);if(l.sourceCenter){var h=l.sourceCenter[0],p=l.sourceCenter[1],f=l.targetCenter[0],g=l.targetCenter[1];this.nextCenter_=l.targetCenter;var y=h+d*(f-h),v=p+d*(g-p);this.targetCenter_=[y,v]}if(l.sourceResolution&&l.targetResolution){var _=1===d?l.targetResolution:l.sourceResolution+d*(l.targetResolution-l.sourceResolution);if(l.anchor){var b=this.getViewportSize_(this.getRotation()),A=this.constraints_.resolution(_,0,b,!0);this.targetCenter_=this.calculateCenterZoom(A,l.anchor)}this.nextResolution_=l.targetResolution,this.targetResolution_=_,this.applyTargetState_(!0)}if(void 0!==l.sourceRotation&&void 0!==l.targetRotation){var C=1===d?Object(m.e)(l.targetRotation+Math.PI,2*Math.PI)-Math.PI:l.sourceRotation+d*(l.targetRotation-l.sourceRotation);if(l.anchor){var w=this.constraints_.rotation(C,!0);this.targetCenter_=this.calculateCenterRotate(w,l.anchor)}this.nextRotation_=l.targetRotation,this.targetRotation_=C}if(this.applyTargetState_(!0),t=!0,!l.complete)break}}if(r){this.animations_[o]=null,this.setHint(s.a.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;var E=n[0].callback;E&&I(E,!0)}}this.animations_=this.animations_.filter(Boolean),t&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},t.prototype.calculateCenterRotate=function(e,t){var o,n=this.getCenterInternal();return void 0!==n&&(o=[n[0]-t[0],n[1]-t[1]],Object(h.j)(o,e-this.getRotation()),Object(h.a)(o,t)),o},t.prototype.calculateCenterZoom=function(e,t){var o,n=this.getCenterInternal(),r=this.getResolution();void 0!==n&&void 0!==r&&(o=[t[0]-e*(t[0]-n[0])/r,t[1]-e*(t[1]-n[1])/r]);return o},t.prototype.getViewportSize_=function(e){var t=this.viewportSize_;if(e){var o=t[0],n=t[1];return[Math.abs(o*Math.cos(e))+Math.abs(n*Math.sin(e)),Math.abs(o*Math.sin(e))+Math.abs(n*Math.cos(e))]}return t},t.prototype.setViewportSize=function(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)},t.prototype.getCenter=function(){var e=this.getCenterInternal();return e?Object(u.B)(e,this.getProjection()):e},t.prototype.getCenterInternal=function(){return this.get(l.a.CENTER)},t.prototype.getConstraints=function(){return this.constraints_},t.prototype.getConstrainResolution=function(){return this.options_.constrainResolution},t.prototype.getHints=function(e){return void 0!==e?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()},t.prototype.calculateExtent=function(e){var t=this.calculateExtentInternal(e);return Object(u.C)(t,this.getProjection())},t.prototype.calculateExtentInternal=function(e){var t=e||this.getViewportSizeMinusPadding_(),o=this.getCenterInternal();Object(p.a)(o,1);var n=this.getResolution();Object(p.a)(void 0!==n,2);var r=this.getRotation();return Object(p.a)(void 0!==r,3),Object(b.F)(o,n,r,t)},t.prototype.getMaxResolution=function(){return this.maxResolution_},t.prototype.getMinResolution=function(){return this.minResolution_},t.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},t.prototype.setMaxZoom=function(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))},t.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},t.prototype.setMinZoom=function(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))},t.prototype.setConstrainResolution=function(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))},t.prototype.getProjection=function(){return this.projection_},t.prototype.getResolution=function(){return this.get(l.a.RESOLUTION)},t.prototype.getResolutions=function(){return this.resolutions_},t.prototype.getResolutionForExtent=function(e,t){return this.getResolutionForExtentInternal(Object(u.r)(e,this.getProjection()),t)},t.prototype.getResolutionForExtentInternal=function(e,t){var o=t||this.getViewportSizeMinusPadding_(),n=Object(b.N)(e)/o[0],r=Object(b.G)(e)/o[1];return Math.max(n,r)},t.prototype.getResolutionForValueFunction=function(e){var t=e||2,o=this.getConstrainedResolution(this.maxResolution_),n=this.minResolution_,r=Math.log(o/n)/Math.log(t);return function(e){return o/Math.pow(t,e*r)}},t.prototype.getRotation=function(){return this.get(l.a.ROTATION)},t.prototype.getValueForResolutionFunction=function(e){var t=Math.log(e||2),o=this.getConstrainedResolution(this.maxResolution_),n=this.minResolution_,r=Math.log(o/n)/t;return function(e){return Math.log(o/e)/t/r}},t.prototype.getViewportSizeMinusPadding_=function(e){var t=this.getViewportSize_(e),o=this.padding_;return o&&(t=[t[0]-o[1]-o[3],t[1]-o[0]-o[2]]),t},t.prototype.getState=function(){var e=this.getProjection(),t=this.getResolution(),o=this.getRotation(),n=this.getCenterInternal(),r=this.padding_;if(r){var i=this.getViewportSizeMinusPadding_();n=P(n,this.getViewportSize_(),[i[0]/2+r[3],i[1]/2+r[0]],t,o)}return{center:n.slice(0),projection:void 0!==e?e:null,resolution:t,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:o,zoom:this.getZoom()}},t.prototype.getZoom=function(){var e,t=this.getResolution();return void 0!==t&&(e=this.getZoomForResolution(t)),e},t.prototype.getZoomForResolution=function(e){var t,o,n=this.minZoom_||0;if(this.resolutions_){var r=Object(A.h)(this.resolutions_,e,1);n=r,t=this.resolutions_[r],o=r==this.resolutions_.length-1?2:t/this.resolutions_[r+1]}else t=this.maxResolution_,o=this.zoomFactor_;return n+Math.log(t/e)/Math.log(o)},t.prototype.getResolutionForZoom=function(e){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var t=Object(m.a)(Math.floor(e),0,this.resolutions_.length-2),o=this.resolutions_[t]/this.resolutions_[t+1];return this.resolutions_[t]/Math.pow(o,Object(m.a)(e-t,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)},t.prototype.fit=function(e,t){var o;if(Object(p.a)(Array.isArray(e)||"function"==typeof e.getSimplifiedGeometry,24),Array.isArray(e)){Object(p.a)(!Object(b.Q)(e),25);var n=Object(u.r)(e,this.getProjection());o=Object(C.d)(n)}else if(e.getType()===i.a.CIRCLE){n=Object(u.r)(e.getExtent(),this.getProjection());(o=Object(C.d)(n)).rotate(this.getRotation(),Object(b.C)(n))}else{var r=Object(u.x)();o=r?e.clone().transform(r,this.getProjection()):e}this.fitInternal(o,t)},t.prototype.rotatedExtentForGeometry=function(e){for(var t=this.getRotation(),o=Math.cos(t),n=Math.sin(-t),r=e.getFlatCoordinates(),i=e.getStride(),a=1/0,s=1/0,l=-1/0,c=-1/0,u=0,d=r.length;u<d;u+=i){var h=r[u]*o-r[u+1]*n,p=r[u]*n+r[u+1]*o;a=Math.min(a,h),s=Math.min(s,p),l=Math.max(l,h),c=Math.max(c,p)}return[a,s,l,c]},t.prototype.fitInternal=function(e,t){var o=t||{},n=o.size;n||(n=this.getViewportSizeMinusPadding_());var r,i=void 0!==o.padding?o.padding:[0,0,0,0],a=void 0!==o.nearest&&o.nearest;r=void 0!==o.minResolution?o.minResolution:void 0!==o.maxZoom?this.getResolutionForZoom(o.maxZoom):0;var s=this.rotatedExtentForGeometry(e),l=this.getResolutionForExtentInternal(s,[n[0]-i[1]-i[3],n[1]-i[0]-i[2]]);l=isNaN(l)?r:Math.max(l,r),l=this.getConstrainedResolution(l,a?0:1);var c=this.getRotation(),u=Math.sin(c),h=Math.cos(c),p=Object(b.C)(s);p[0]+=(i[1]-i[3])/2*l,p[1]+=(i[0]-i[2])/2*l;var f=p[0]*h-p[1]*u,g=p[1]*h+p[0]*u,m=this.getConstrainedCenter([f,g],l),y=o.callback?o.callback:d.c;void 0!==o.duration?this.animateInternal({resolution:l,center:m,duration:o.duration,easing:o.easing},y):(this.targetResolution_=l,this.targetCenter_=m,this.applyTargetState_(!1,!0),I(y,!0))},t.prototype.centerOn=function(e,t,o){this.centerOnInternal(Object(u.q)(e,this.getProjection()),t,o)},t.prototype.centerOnInternal=function(e,t,o){this.setCenterInternal(P(e,t,o,this.getResolution(),this.getRotation()))},t.prototype.calculateCenterShift=function(e,t,o,n){var r,i=this.padding_;if(i&&e){var a=this.getViewportSizeMinusPadding_(-o),s=P(e,n,[a[0]/2+i[3],a[1]/2+i[0]],t,o);r=[e[0]-s[0],e[1]-s[1]]}return r},t.prototype.isDef=function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()},t.prototype.adjustCenter=function(e){var t=Object(u.B)(this.targetCenter_,this.getProjection());this.setCenter([t[0]+e[0],t[1]+e[1]])},t.prototype.adjustCenterInternal=function(e){var t=this.targetCenter_;this.setCenterInternal([t[0]+e[0],t[1]+e[1]])},t.prototype.adjustResolution=function(e,t){var o=t&&Object(u.q)(t,this.getProjection());this.adjustResolutionInternal(e,o)},t.prototype.adjustResolutionInternal=function(e,t){var o=this.getAnimating()||this.getInteracting(),n=this.getViewportSize_(this.getRotation()),r=this.constraints_.resolution(this.targetResolution_*e,0,n,o);t&&(this.targetCenter_=this.calculateCenterZoom(r,t)),this.targetResolution_*=e,this.applyTargetState_()},t.prototype.adjustZoom=function(e,t){this.adjustResolution(Math.pow(this.zoomFactor_,-e),t)},t.prototype.adjustRotation=function(e,t){t&&(t=Object(u.q)(t,this.getProjection())),this.adjustRotationInternal(e,t)},t.prototype.adjustRotationInternal=function(e,t){var o=this.getAnimating()||this.getInteracting(),n=this.constraints_.rotation(this.targetRotation_+e,o);t&&(this.targetCenter_=this.calculateCenterRotate(n,t)),this.targetRotation_+=e,this.applyTargetState_()},t.prototype.setCenter=function(e){this.setCenterInternal(Object(u.q)(e,this.getProjection()))},t.prototype.setCenterInternal=function(e){this.targetCenter_=e,this.applyTargetState_()},t.prototype.setHint=function(e,t){return this.hints_[e]+=t,this.changed(),this.hints_[e]},t.prototype.setResolution=function(e){this.targetResolution_=e,this.applyTargetState_()},t.prototype.setRotation=function(e){this.targetRotation_=e,this.applyTargetState_()},t.prototype.setZoom=function(e){this.setResolution(this.getResolutionForZoom(e))},t.prototype.applyTargetState_=function(e,t){var o=this.getAnimating()||this.getInteracting()||t,n=this.constraints_.rotation(this.targetRotation_,o),r=this.getViewportSize_(n),i=this.constraints_.resolution(this.targetResolution_,0,r,o),a=this.constraints_.center(this.targetCenter_,i,r,o,this.calculateCenterShift(this.targetCenter_,i,n,r));this.get(l.a.ROTATION)!==n&&this.set(l.a.ROTATION,n),this.get(l.a.RESOLUTION)!==i&&this.set(l.a.RESOLUTION,i),this.get(l.a.CENTER)&&Object(h.g)(this.get(l.a.CENTER),a)||this.set(l.a.CENTER,a),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0},t.prototype.resolveConstraints=function(e,t,o){var n=void 0!==e?e:200,r=t||0,i=this.constraints_.rotation(this.targetRotation_),a=this.getViewportSize_(i),s=this.constraints_.resolution(this.targetResolution_,r,a),l=this.constraints_.center(this.targetCenter_,s,a,!1,this.calculateCenterShift(this.targetCenter_,s,i,a));if(0===n&&!this.cancelAnchor_)return this.targetResolution_=s,this.targetRotation_=i,this.targetCenter_=l,void this.applyTargetState_();var c=o||(0===n?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,this.getResolution()===s&&this.getRotation()===i&&this.getCenterInternal()&&Object(h.g)(this.getCenterInternal(),l)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:i,center:l,resolution:s,duration:n,easing:_.b,anchor:c}))},t.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(s.a.INTERACTING,1)},t.prototype.endInteraction=function(e,t,o){var n=o&&Object(u.q)(o,this.getProjection());this.endInteractionInternal(e,t,n)},t.prototype.endInteractionInternal=function(e,t,o){this.setHint(s.a.INTERACTING,-1),this.resolveConstraints(e,t,o)},t.prototype.getConstrainedCenter=function(e,t){var o=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,t||this.getResolution(),o)},t.prototype.getConstrainedZoom=function(e,t){var o=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(o,t))},t.prototype.getConstrainedResolution=function(e,t){var o=t||0,n=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,o,n)},t}(r.b);function I(e,t){setTimeout((function(){e(t)}),0)}function O(e){if(void 0!==e.extent){var t=void 0===e.smoothExtentConstraint||e.smoothExtentConstraint;return Object(g.a)(e.extent,e.constrainOnlyCenter,t)}var o=Object(u.l)(e.projection,"EPSG:3857");if(!0!==e.multiWorld&&o.isGlobal()){var n=o.getExtent().slice();return n[0]=-1/0,n[2]=1/0,Object(g.a)(n,!1,!1)}return g.b}function S(e){var t,o,n,r=void 0!==e.minZoom?e.minZoom:0,i=void 0!==e.maxZoom?e.maxZoom:28,s=void 0!==e.zoomFactor?e.zoomFactor:2,l=void 0!==e.multiWorld&&e.multiWorld,d=void 0===e.smoothResolutionConstraint||e.smoothResolutionConstraint,h=void 0!==e.showFullExtent&&e.showFullExtent,p=Object(u.l)(e.projection,"EPSG:3857"),f=p.getExtent(),g=e.constrainOnlyCenter,m=e.extent;if(l||m||!p.isGlobal()||(g=!1,m=f),void 0!==e.resolutions){var v=e.resolutions;o=v[r],n=void 0!==v[i]?v[i]:v[v.length-1],t=e.constrainResolution?Object(y.c)(v,d,!g&&m,h):Object(y.a)(o,n,d,!g&&m,h)}else{var _=(f?Math.max(Object(b.N)(f),Object(b.G)(f)):360*u.a[a.b.DEGREES]/p.getMetersPerUnit())/c.b/Math.pow(2,0),A=_/Math.pow(2,28);void 0!==(o=e.maxResolution)?r=0:o=_/Math.pow(s,r),void 0===(n=e.minResolution)&&(n=void 0!==e.maxZoom?void 0!==e.maxResolution?o/Math.pow(s,i):_/Math.pow(s,i):A),i=r+Math.floor(Math.log(o/n)/Math.log(s)),n=o/Math.pow(s,i-r),t=e.constrainResolution?Object(y.b)(s,o,n,d,!g&&m,h):Object(y.a)(o,n,d,!g&&m,h)}return{constraint:t,maxResolution:o,minResolution:n,minZoom:r,zoomFactor:s}}function x(e){if(void 0===e.enableRotation||e.enableRotation){var t=e.constrainRotation;return void 0===t||!0===t?Object(v.b)():!1===t?v.d:"number"==typeof t?Object(v.a)(t):v.d}return v.c}function j(e){return!(e.sourceCenter&&e.targetCenter&&!Object(h.g)(e.sourceCenter,e.targetCenter))&&(e.sourceResolution===e.targetResolution&&e.sourceRotation===e.targetRotation)}function P(e,t,o,n,r){var i=Math.cos(-r),a=Math.sin(-r),s=e[0]*i-e[1]*a,l=e[1]*i+e[0]*a;return[(s+=(t[0]/2-o[0])*n)*i-(l+=(o[1]-t[1]/2)*n)*(a=-a),l*i+s*a]}t.d=E},"./node_modules/ol/ViewHint.js":function(e,t,o){"use strict";t.a={ANIMATING:0,INTERACTING:1}},"./node_modules/ol/ViewProperty.js":function(e,t,o){"use strict";t.a={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"}},"./node_modules/ol/array.js":function(e,t,o){"use strict";function n(e,t,o){for(var n,i,a=o||r,s=0,l=e.length,c=!1;s<l;)(i=+a(e[n=s+(l-s>>1)],t))<0?s=n+1:(l=n,c=!i);return c?s:~s}function r(e,t){return e>t?1:e<t?-1:0}function i(e,t){return e.indexOf(t)>=0}function a(e,t,o){var n=e.length;if(e[0]<=t)return 0;if(t<=e[n-1])return n-1;var r=void 0;if(o>0){for(r=1;r<n;++r)if(e[r]<t)return r-1}else if(o<0){for(r=1;r<n;++r)if(e[r]<=t)return r}else for(r=1;r<n;++r){if(e[r]==t)return r;if(e[r]<t)return"function"==typeof o?o(t,e[r-1],e[r])>0?r-1:r:e[r-1]-t<t-e[r]?r-1:r}return n-1}function s(e,t,o){for(;t<o;){var n=e[t];e[t]=e[o],e[o]=n,++t,--o}}function l(e,t){for(var o=Array.isArray(t)?t:[t],n=o.length,r=0;r<n;r++)e[e.length]=o[r]}function c(e,t){var o=e.indexOf(t),n=o>-1;return n&&e.splice(o,1),n}function u(e,t){for(var o,n=e.length>>>0,r=0;r<n;r++)if(t(o=e[r],r,e))return o;return null}function d(e,t){var o=e.length;if(o!==t.length)return!1;for(var n=0;n<o;n++)if(e[n]!==t[n])return!1;return!0}function h(e,t){var o,n=e.length,r=Array(e.length);for(o=0;o<n;o++)r[o]={index:o,value:e[o]};for(r.sort((function(e,o){return t(e.value,o.value)||e.index-o.index})),o=0;o<e.length;o++)e[o]=r[o].value}function p(e,t){var o;return!e.every((function(n,r){return o=r,!t(n,r,e)}))?o:-1}function f(e,t,o){var n=t||r;return e.every((function(t,r){if(0===r)return!0;var i=n(e[r-1],t);return!(i>0||o&&0===i)}))}o.d(t,"a",(function(){return n})),o.d(t,"i",(function(){return r})),o.d(t,"f",(function(){return i})),o.d(t,"h",(function(){return a})),o.d(t,"k",(function(){return s})),o.d(t,"c",(function(){return l})),o.d(t,"j",(function(){return c})),o.d(t,"d",(function(){return u})),o.d(t,"b",(function(){return d})),o.d(t,"l",(function(){return h})),o.d(t,"e",(function(){return p})),o.d(t,"g",(function(){return f}))},"./node_modules/ol/asserts.js":function(e,t,o){"use strict";o.d(t,"a",(function(){return r}));var n=o("./node_modules/ol/AssertionError.js");function r(e,t){if(!e)throw new n.a(t)}},"./node_modules/ol/centerconstraint.js":function(e,t,o){"use strict";o.d(t,"a",(function(){return r})),o.d(t,"b",(function(){return i}));var n=o("./node_modules/ol/math.js");function r(e,t,o){return function(r,i,a,s,l){if(r){var c=t?0:a[0]*i,u=t?0:a[1]*i,d=l?l[0]:0,h=l?l[1]:0,p=e[0]+c/2+d,f=e[2]-c/2+d,g=e[1]+u/2+h,m=e[3]-u/2+h;p>f&&(f=p=(f+p)/2),g>m&&(m=g=(m+g)/2);var y=Object(n.a)(r[0],p,f),v=Object(n.a)(r[1],g,m),_=30*i;return s&&o&&(y+=-_*Math.log(1+Math.max(0,p-r[0])/_)+_*Math.log(1+Math.max(0,r[0]-f)/_),v+=-_*Math.log(1+Math.max(0,g-r[1])/_)+_*Math.log(1+Math.max(0,r[1]-m)/_)),[y,v]}}}function i(e){return e}},"./node_modules/ol/color.js":function(e,t,o){"use strict";o.d(t,"b",(function(){return s})),o.d(t,"c",(function(){return d})),o.d(t,"a",(function(){return h})),o.d(t,"e",(function(){return p})),o.d(t,"f",(function(){return f})),o.d(t,"d",(function(){return g}));var n=o("./node_modules/ol/asserts.js"),r=o("./node_modules/ol/math.js"),i=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,a=/^([a-z]*)$|^hsla?\(.*\)$/i;function s(e){return"string"==typeof e?e:f(e)}function l(e){var t=document.createElement("div");if(t.style.color=e,""!==t.style.color){document.body.appendChild(t);var o=getComputedStyle(t).color;return document.body.removeChild(t),o}return""}var c,u,d=(c={},u=0,function(e){var t;if(c.hasOwnProperty(e))t=c[e];else{if(u>=1024){var o=0;for(var r in c)0==(3&o++)&&(delete c[r],--u)}t=function(e){var t,o,r,s,c;if(a.exec(e)&&(e=l(e)),i.exec(e)){var u=e.length-1,d=void 0;d=u<=4?1:2;var h=4===u||8===u;t=parseInt(e.substr(1+0*d,d),16),o=parseInt(e.substr(1+1*d,d),16),r=parseInt(e.substr(1+2*d,d),16),s=h?parseInt(e.substr(1+3*d,d),16):255,1==d&&(t=(t<<4)+t,o=(o<<4)+o,r=(r<<4)+r,h&&(s=(s<<4)+s)),c=[t,o,r,s/255]}else 0==e.indexOf("rgba(")?p(c=e.slice(5,-1).split(",").map(Number)):0==e.indexOf("rgb(")?((c=e.slice(4,-1).split(",").map(Number)).push(1),p(c)):Object(n.a)(!1,14);return c}(e),c[e]=t,++u}return t});function h(e){return Array.isArray(e)?e:d(e)}function p(e){return e[0]=Object(r.a)(e[0]+.5|0,0,255),e[1]=Object(r.a)(e[1]+.5|0,0,255),e[2]=Object(r.a)(e[2]+.5|0,0,255),e[3]=Object(r.a)(e[3],0,1),e}function f(e){var t=e[0];t!=(0|t)&&(t=t+.5|0);var o=e[1];o!=(0|o)&&(o=o+.5|0);var n=e[2];return n!=(0|n)&&(n=n+.5|0),"rgba("+t+","+o+","+n+","+(void 0===e[3]?1:e[3])+")"}function g(e){return a.test(e)&&(e=l(e)),i.test(e)||0===e.indexOf("rgba(")||0===e.indexOf("rgb(")}},"./node_modules/ol/colorlike.js":function(e,t,o){"use strict";o.d(t,"a",(function(){return r}));var n=o("./node_modules/ol/color.js");function r(e){return Array.isArray(e)?Object(n.f)(e):e}},"./node_modules/ol/control.js":function(e,t,o){"use strict";o.d(t,"a",(function(){return s}));var n=o("./node_modules/ol/control/Attribution.js"),r=o("./node_modules/ol/Collection.js"),i=o("./node_modules/ol/control/Rotate.js"),a=o("./node_modules/ol/control/Zoom.js");function s(e){var t=e||{},o=new r.b;return(void 0===t.zoom||t.zoom)&&o.push(new a.a(t.zoomOptions)),(void 0===t.rotate||t.rotate)&&o.push(new i.a(t.rotateOptions)),(void 0===t.attribution||t.attribution)&&o.push(new n.a(t.attributionOptions)),o}},"./node_modules/ol/control/Attribution.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/control/Control.js"),i=o("./node_modules/ol/events/EventType.js"),a=o("./node_modules/ol/css.js"),s=o("./node_modules/ol/array.js"),l=o("./node_modules/ol/layer/Layer.js"),c=o("./node_modules/ol/dom.js"),u=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),d=function(e){function t(t){var o=this,n=t||{};(o=e.call(this,{element:document.createElement("div"),render:n.render,target:n.target})||this).ulElement_=document.createElement("ul"),o.collapsed_=void 0===n.collapsed||n.collapsed,o.userCollapsed_=o.collapsed_,o.overrideCollapsible_=void 0!==n.collapsible,o.collapsible_=void 0===n.collapsible||n.collapsible,o.collapsible_||(o.collapsed_=!1);var r=void 0!==n.className?n.className:"ol-attribution",s=void 0!==n.tipLabel?n.tipLabel:"Attributions",l=void 0!==n.expandClassName?n.expandClassName:r+"-expand",c=void 0!==n.collapseLabel?n.collapseLabel:"âº",u=void 0!==n.collapseClassName?n.collapseClassName:r+"-collpase";"string"==typeof c?(o.collapseLabel_=document.createElement("span"),o.collapseLabel_.textContent=c,o.collapseLabel_.className=u):o.collapseLabel_=c;var d=void 0!==n.label?n.label:"i";"string"==typeof d?(o.label_=document.createElement("span"),o.label_.textContent=d,o.label_.className=l):o.label_=d;var h=o.collapsible_&&!o.collapsed_?o.collapseLabel_:o.label_;o.toggleButton_=document.createElement("button"),o.toggleButton_.setAttribute("type","button"),o.toggleButton_.setAttribute("aria-expanded",String(!o.collapsed_)),o.toggleButton_.title=s,o.toggleButton_.appendChild(h),o.toggleButton_.addEventListener(i.a.CLICK,o.handleClick_.bind(o),!1);var p=r+" "+a.e+" "+a.b+(o.collapsed_&&o.collapsible_?" "+a.a:"")+(o.collapsible_?"":" ol-uncollapsible"),f=o.element;return f.className=p,f.appendChild(o.toggleButton_),f.appendChild(o.ulElement_),o.renderedAttributions_=[],o.renderedVisible_=!0,o}return u(t,e),t.prototype.collectSourceAttributions_=function(e){for(var t={},o=[],n=!0,r=e.layerStatesArray,i=0,a=r.length;i<a;++i){var s=r[i];if(Object(l.b)(s,e.viewState)){var c=s.layer.getSource();if(c){var u=c.getAttributions();if(u){var d=u(e);if(d)if(n=n&&!1!==c.getAttributionsCollapsible(),Array.isArray(d))for(var h=0,p=d.length;h<p;++h)d[h]in t||(o.push(d[h]),t[d[h]]=!0);else d in t||(o.push(d),t[d]=!0)}}}}return this.overrideCollapsible_||this.setCollapsible(n),o},t.prototype.updateElement_=function(e){if(e){var t=this.collectSourceAttributions_(e),o=t.length>0;if(this.renderedVisible_!=o&&(this.element.style.display=o?"":"none",this.renderedVisible_=o),!Object(s.b)(t,this.renderedAttributions_)){Object(c.d)(this.ulElement_);for(var n=0,r=t.length;n<r;++n){var i=document.createElement("li");i.innerHTML=t[n],this.ulElement_.appendChild(i)}this.renderedAttributions_=t}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},t.prototype.handleClick_=function(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_},t.prototype.handleToggle_=function(){this.element.classList.toggle(a.a),this.collapsed_?Object(c.g)(this.collapseLabel_,this.label_):Object(c.g)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))},t.prototype.getCollapsible=function(){return this.collapsible_},t.prototype.setCollapsible=function(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())},t.prototype.setCollapsed=function(e){this.userCollapsed_=e,this.collapsible_&&this.collapsed_!==e&&this.handleToggle_()},t.prototype.getCollapsed=function(){return this.collapsed_},t.prototype.render=function(e){this.updateElement_(e.frameState)},t}(r.a);t.a=d},"./node_modules/ol/control/Control.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/Object.js"),i=o("./node_modules/ol/MapEventType.js"),a=o("./node_modules/ol/functions.js"),s=o("./node_modules/ol/events.js"),l=o("./node_modules/ol/dom.js"),c=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),u=function(e){function t(t){var o=e.call(this)||this,n=t.element;return!n||t.target||n.style.pointerEvents||(n.style.pointerEvents="auto"),o.element=n||null,o.target_=null,o.map_=null,o.listenerKeys=[],t.render&&(o.render=t.render),t.target&&o.setTarget(t.target),o}return c(t,e),t.prototype.disposeInternal=function(){Object(l.e)(this.element),e.prototype.disposeInternal.call(this)},t.prototype.getMap=function(){return this.map_},t.prototype.setMap=function(e){this.map_&&Object(l.e)(this.element);for(var t=0,o=this.listenerKeys.length;t<o;++t)Object(s.c)(this.listenerKeys[t]);(this.listenerKeys.length=0,this.map_=e,this.map_)&&((this.target_?this.target_:e.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==a.c&&this.listenerKeys.push(Object(s.a)(e,i.a.POSTRENDER,this.render,this)),e.render())},t.prototype.render=function(e){},t.prototype.setTarget=function(e){this.target_="string"==typeof e?document.getElementById(e):e},t}(r.b);t.a=u},"./node_modules/ol/control/FullScreen.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/control/Control.js"),i=o("./node_modules/ol/events/EventType.js"),a=o("./node_modules/ol/css.js"),s=o("./node_modules/ol/events.js"),l=o("./node_modules/ol/dom.js"),c=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),u=["fullscreenchange","webkitfullscreenchange","MSFullscreenChange"],d="enterfullscreen",h="leavefullscreen",p=function(e){function t(t){var o=this,n=t||{};(o=e.call(this,{element:document.createElement("div"),target:n.target})||this).on,o.once,o.un,o.cssClassName_=void 0!==n.className?n.className:"ol-full-screen",o.activeClassName_=void 0!==n.activeClassName?n.activeClassName.split(" "):[o.cssClassName_+"-true"],o.inactiveClassName_=void 0!==n.inactiveClassName?n.inactiveClassName.split(" "):[o.cssClassName_+"-false"];var r=void 0!==n.label?n.label:"â¤¢";o.labelNode_="string"==typeof r?document.createTextNode(r):r;var s=void 0!==n.labelActive?n.labelActive:"Ã";o.labelActiveNode_="string"==typeof s?document.createTextNode(s):s,o.button_=document.createElement("button");var l=n.tipLabel?n.tipLabel:"Toggle full-screen";o.setClassName_(o.button_,g()),o.button_.setAttribute("type","button"),o.button_.title=l,o.button_.appendChild(o.labelNode_),o.button_.addEventListener(i.a.CLICK,o.handleClick_.bind(o),!1);var c=o.cssClassName_+" "+a.e+" "+a.b+" "+(f()?"":a.f),u=o.element;return u.className=c,u.appendChild(o.button_),o.keys_=void 0!==n.keys&&n.keys,o.source_=n.source,o}return c(t,e),t.prototype.handleClick_=function(e){e.preventDefault(),this.handleFullScreen_()},t.prototype.handleFullScreen_=function(){if(f()){var e=this.getMap();if(e)if(g())document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.webkitExitFullscreen&&document.webkitExitFullscreen();else{var t=void 0;t=this.source_?"string"==typeof this.source_?document.getElementById(this.source_):this.source_:e.getTargetElement(),this.keys_?function(e){e.webkitRequestFullscreen?e.webkitRequestFullscreen():m(e)}(t):m(t)}}},t.prototype.handleFullScreenChange_=function(){var e=this.getMap();g()?(this.setClassName_(this.button_,!0),Object(l.g)(this.labelActiveNode_,this.labelNode_),this.dispatchEvent(d)):(this.setClassName_(this.button_,!1),Object(l.g)(this.labelNode_,this.labelActiveNode_),this.dispatchEvent(h)),e&&e.updateSize()},t.prototype.setClassName_=function(e,t){var o,n,r,i=this.activeClassName_,a=this.inactiveClassName_,s=t?i:a;(o=e.classList).remove.apply(o,i),(n=e.classList).remove.apply(n,a),(r=e.classList).add.apply(r,s)},t.prototype.setMap=function(t){if(e.prototype.setMap.call(this,t),t)for(var o=0,n=u.length;o<n;++o)this.listenerKeys.push(Object(s.a)(document,u[o],this.handleFullScreenChange_,this))},t}(r.a);function f(){var e=document.body;return!!(e.webkitRequestFullscreen||e.msRequestFullscreen&&document.msFullscreenEnabled||e.requestFullscreen&&document.fullscreenEnabled)}function g(){return!!(document.webkitIsFullScreen||document.msFullscreenElement||document.fullscreenElement)}function m(e){e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen()}t.a=p},"./node_modules/ol/control/MousePosition.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/control/Control.js"),i=o("./node_modules/ol/pointer/EventType.js"),a=o("./node_modules/ol/proj.js"),s=o("./node_modules/ol/events.js"),l=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=function(e){function t(t){var o=this,n=t||{},r=document.createElement("div");r.className=void 0!==n.className?n.className:"ol-mouse-position",(o=e.call(this,{element:r,render:n.render,target:n.target})||this).on,o.once,o.un,o.addChangeListener("projection",o.handleProjectionChanged_),n.coordinateFormat&&o.setCoordinateFormat(n.coordinateFormat),n.projection&&o.setProjection(n.projection);var i=!0,a="&#160;";return"undefinedHTML"in n?(void 0!==n.undefinedHTML&&(a=n.undefinedHTML),i=!!a):"placeholder"in n&&(!1===n.placeholder?i=!1:a=String(n.placeholder)),o.placeholder_=a,o.renderOnMouseOut_=i,o.renderedHTML_=r.innerHTML,o.mapProjection_=null,o.transform_=null,o}return l(t,e),t.prototype.handleProjectionChanged_=function(){this.transform_=null},t.prototype.getCoordinateFormat=function(){return this.get("coordinateFormat")},t.prototype.getProjection=function(){return this.get("projection")},t.prototype.handleMouseMove=function(e){var t=this.getMap();this.updateHTML_(t.getEventPixel(e))},t.prototype.handleMouseOut=function(e){this.updateHTML_(null)},t.prototype.setMap=function(t){if(e.prototype.setMap.call(this,t),t){var o=t.getViewport();this.listenerKeys.push(Object(s.a)(o,i.a.POINTERMOVE,this.handleMouseMove,this)),this.renderOnMouseOut_&&this.listenerKeys.push(Object(s.a)(o,i.a.POINTEROUT,this.handleMouseOut,this)),this.updateHTML_(null)}},t.prototype.setCoordinateFormat=function(e){this.set("coordinateFormat",e)},t.prototype.setProjection=function(e){this.set("projection",Object(a.t)(e))},t.prototype.updateHTML_=function(e){var t=this.placeholder_;if(e&&this.mapProjection_){if(!this.transform_){var o=this.getProjection();this.transform_=o?Object(a.w)(this.mapProjection_,o):a.y}var n=this.getMap().getCoordinateFromPixelInternal(e);if(n){var r=Object(a.x)();r&&(this.transform_=Object(a.w)(this.mapProjection_,r)),this.transform_(n,n);var i=this.getCoordinateFormat();t=i?i(n):n.toString()}}this.renderedHTML_&&t===this.renderedHTML_||(this.element.innerHTML=t,this.renderedHTML_=t)},t.prototype.render=function(e){var t=e.frameState;t?this.mapProjection_!=t.viewState.projection&&(this.mapProjection_=t.viewState.projection,this.transform_=null):this.mapProjection_=null},t}(r.a);t.a=c},"./node_modules/ol/control/OverviewMap.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/renderer/Composite.js"),i=o("./node_modules/ol/control/Control.js"),a=o("./node_modules/ol/events/EventType.js"),s=o("./node_modules/ol/MapEventType.js"),l=o("./node_modules/ol/MapProperty.js"),c=o("./node_modules/ol/ObjectEventType.js"),u=o("./node_modules/ol/Overlay.js"),d=o("./node_modules/ol/OverlayPositioning.js"),h=o("./node_modules/ol/PluggableMap.js"),p=o("./node_modules/ol/View.js"),f=o("./node_modules/ol/ViewProperty.js"),g=o("./node_modules/ol/css.js"),m=o("./node_modules/ol/extent.js"),y=o("./node_modules/ol/events.js"),v=o("./node_modules/ol/geom/Polygon.js"),_=o("./node_modules/ol/dom.js"),b=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),A=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return b(t,e),t.prototype.createRenderer=function(){return new r.a(this)},t}(h.a),C=function(e){function t(t){var o=this,n=t||{};(o=e.call(this,{element:document.createElement("div"),render:n.render,target:n.target})||this).boundHandleRotationChanged_=o.handleRotationChanged_.bind(o),o.collapsed_=void 0===n.collapsed||n.collapsed,o.collapsible_=void 0===n.collapsible||n.collapsible,o.collapsible_||(o.collapsed_=!1),o.rotateWithView_=void 0!==n.rotateWithView&&n.rotateWithView,o.viewExtent_=void 0;var r=void 0!==n.className?n.className:"ol-overviewmap",i=void 0!==n.tipLabel?n.tipLabel:"Overview map",s=void 0!==n.collapseLabel?n.collapseLabel:"â¹";"string"==typeof s?(o.collapseLabel_=document.createElement("span"),o.collapseLabel_.textContent=s):o.collapseLabel_=s;var l=void 0!==n.label?n.label:"âº";"string"==typeof l?(o.label_=document.createElement("span"),o.label_.textContent=l):o.label_=l;var c=o.collapsible_&&!o.collapsed_?o.collapseLabel_:o.label_,h=document.createElement("button");h.setAttribute("type","button"),h.title=i,h.appendChild(c),h.addEventListener(a.a.CLICK,o.handleClick_.bind(o),!1),o.ovmapDiv_=document.createElement("div"),o.ovmapDiv_.className="ol-overviewmap-map",o.view_=n.view,o.ovmap_=new A({view:n.view});var p=o.ovmap_;n.layers&&n.layers.forEach((function(e){p.addLayer(e)}));var f=document.createElement("div");f.className="ol-overviewmap-box",f.style.boxSizing="border-box",o.boxOverlay_=new u.a({position:[0,0],positioning:d.a.CENTER_CENTER,element:f}),o.ovmap_.addOverlay(o.boxOverlay_);var m=r+" "+g.e+" "+g.b+(o.collapsed_&&o.collapsible_?" "+g.a:"")+(o.collapsible_?"":" ol-uncollapsible"),y=o.element;y.className=m,y.appendChild(o.ovmapDiv_),y.appendChild(h);var v=o,_=o.boxOverlay_,b=o.boxOverlay_.getElement(),C=function(e){var t,o={clientX:(t=e).clientX,clientY:t.clientY},n=p.getEventCoordinateInternal(o);_.setPosition(n)},w=function(e){var t=p.getEventCoordinateInternal(e);v.getMap().getView().setCenterInternal(t),window.removeEventListener("mousemove",C),window.removeEventListener("mouseup",w)};return b.addEventListener("mousedown",(function(){window.addEventListener("mousemove",C),window.addEventListener("mouseup",w)})),o}return b(t,e),t.prototype.setMap=function(t){var o=this.getMap();if(t!==o){if(o){var n=o.getView();n&&this.unbindView_(n),this.ovmap_.setTarget(null)}if(e.prototype.setMap.call(this,t),t){this.ovmap_.setTarget(this.ovmapDiv_),this.listenerKeys.push(Object(y.a)(t,c.a.PROPERTYCHANGE,this.handleMapPropertyChange_,this));var r=t.getView();r&&(this.bindView_(r),r.isDef()&&(this.ovmap_.updateSize(),this.resetExtent_())),this.ovmap_.isRendered()||this.updateBoxAfterOvmapIsRendered_()}}},t.prototype.handleMapPropertyChange_=function(e){if(e.key===l.a.VIEW){var t=e.oldValue;t&&this.unbindView_(t);var o=this.getMap().getView();this.bindView_(o)}else this.ovmap_.isRendered()||e.key!==l.a.TARGET&&e.key!==l.a.SIZE||this.ovmap_.updateSize()},t.prototype.bindView_=function(e){if(!this.view_){var t=new p.d({projection:e.getProjection()});this.ovmap_.setView(t)}e.addChangeListener(f.a.ROTATION,this.boundHandleRotationChanged_),this.handleRotationChanged_()},t.prototype.unbindView_=function(e){e.removeChangeListener(f.a.ROTATION,this.boundHandleRotationChanged_)},t.prototype.handleRotationChanged_=function(){this.rotateWithView_&&this.ovmap_.getView().setRotation(this.getMap().getView().getRotation())},t.prototype.validateExtent_=function(){var e=this.getMap(),t=this.ovmap_;if(e.isRendered()&&t.isRendered()){var o=e.getSize(),n=e.getView().calculateExtentInternal(o);if(!this.viewExtent_||!Object(m.r)(n,this.viewExtent_)){this.viewExtent_=n;var r=t.getSize(),i=t.getView().calculateExtentInternal(r),a=t.getPixelFromCoordinateInternal(Object(m.L)(n)),s=t.getPixelFromCoordinateInternal(Object(m.B)(n)),l=Math.abs(a[0]-s[0]),c=Math.abs(a[1]-s[1]),u=r[0],d=r[1];l<.1*u||c<.1*d||l>.75*u||c>.75*d?this.resetExtent_():Object(m.h)(i,n)||this.recenter_()}}},t.prototype.resetExtent_=function(){var e=this.getMap(),t=this.ovmap_,o=e.getSize(),n=e.getView().calculateExtentInternal(o),r=t.getView(),i=Math.log(7.5)/Math.LN2,a=1/(.1*Math.pow(2,i/2));Object(m.S)(n,a),r.fitInternal(Object(v.d)(n))},t.prototype.recenter_=function(){var e=this.getMap(),t=this.ovmap_,o=e.getView();t.getView().setCenterInternal(o.getCenterInternal())},t.prototype.updateBox_=function(){var e=this.getMap(),t=this.ovmap_;if(e.isRendered()&&t.isRendered()){var o=e.getSize(),n=e.getView(),r=t.getView(),i=this.rotateWithView_?0:-n.getRotation(),a=this.boxOverlay_,s=this.boxOverlay_.getElement(),l=n.getCenterInternal(),c=n.getResolution(),u=r.getResolution(),d=o[0]*c/u,h=o[1]*c/u;if(a.setPosition(l),s){s.style.width=d+"px",s.style.height=h+"px";var p="rotate("+i+"rad)";s.style.transform=p}}},t.prototype.updateBoxAfterOvmapIsRendered_=function(){this.ovmapPostrenderKey_||(this.ovmapPostrenderKey_=Object(y.b)(this.ovmap_,s.a.POSTRENDER,(function(e){delete this.ovmapPostrenderKey_,this.updateBox_()}),this))},t.prototype.handleClick_=function(e){e.preventDefault(),this.handleToggle_()},t.prototype.handleToggle_=function(){this.element.classList.toggle(g.a),this.collapsed_?Object(_.g)(this.collapseLabel_,this.label_):Object(_.g)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_;var e=this.ovmap_;if(!this.collapsed_){if(e.isRendered())return this.viewExtent_=void 0,void e.render();e.updateSize(),this.resetExtent_(),this.updateBoxAfterOvmapIsRendered_()}},t.prototype.getCollapsible=function(){return this.collapsible_},t.prototype.setCollapsible=function(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),!e&&this.collapsed_&&this.handleToggle_())},t.prototype.setCollapsed=function(e){this.collapsible_&&this.collapsed_!==e&&this.handleToggle_()},t.prototype.getCollapsed=function(){return this.collapsed_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.setRotateWithView=function(e){this.rotateWithView_!==e&&(this.rotateWithView_=e,0!==this.getMap().getView().getRotation()&&(this.rotateWithView_?this.handleRotationChanged_():this.ovmap_.getView().setRotation(0),this.viewExtent_=void 0,this.validateExtent_(),this.updateBox_()))},t.prototype.getOverviewMap=function(){return this.ovmap_},t.prototype.render=function(e){this.validateExtent_(),this.updateBox_()},t}(i.a);t.a=C},"./node_modules/ol/control/Rotate.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/control/Control.js"),i=o("./node_modules/ol/events/EventType.js"),a=o("./node_modules/ol/css.js"),s=o("./node_modules/ol/easing.js"),l=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=function(e){function t(t){var o=this,n=t||{};o=e.call(this,{element:document.createElement("div"),render:n.render,target:n.target})||this;var r=void 0!==n.className?n.className:"ol-rotate",s=void 0!==n.label?n.label:"â§",l=void 0!==n.compassClassName?n.compassClassName:"ol-compass";o.label_=null,"string"==typeof s?(o.label_=document.createElement("span"),o.label_.className=l,o.label_.textContent=s):(o.label_=s,o.label_.classList.add(l));var c=n.tipLabel?n.tipLabel:"Reset rotation",u=document.createElement("button");u.className=r+"-reset",u.setAttribute("type","button"),u.title=c,u.appendChild(o.label_),u.addEventListener(i.a.CLICK,o.handleClick_.bind(o),!1);var d=r+" "+a.e+" "+a.b,h=o.element;return h.className=d,h.appendChild(u),o.callResetNorth_=n.resetNorth?n.resetNorth:void 0,o.duration_=void 0!==n.duration?n.duration:250,o.autoHide_=void 0===n.autoHide||n.autoHide,o.rotation_=void 0,o.autoHide_&&o.element.classList.add(a.c),o}return l(t,e),t.prototype.handleClick_=function(e){e.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},t.prototype.resetNorth_=function(){var e=this.getMap().getView();if(e){var t=e.getRotation();void 0!==t&&(this.duration_>0&&t%(2*Math.PI)!=0?e.animate({rotation:0,duration:this.duration_,easing:s.b}):e.setRotation(0))}},t.prototype.render=function(e){var t=e.frameState;if(t){var o=t.viewState.rotation;if(o!=this.rotation_){var n="rotate("+o+"rad)";if(this.autoHide_){var r=this.element.classList.contains(a.c);r||0!==o?r&&0!==o&&this.element.classList.remove(a.c):this.element.classList.add(a.c)}this.label_.style.transform=n}this.rotation_=o}},t}(r.a);t.a=c},"./node_modules/ol/control/ScaleLine.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/control/Control.js"),i=o("./node_modules/ol/proj/Units.js"),a=o("./node_modules/ol/css.js"),s=o("./node_modules/ol/proj.js"),l=o("./node_modules/ol/asserts.js"),c=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),u="degrees",d="imperial",h="nautical",p="metric",f="us",g=[1,2,5],m=function(e){function t(t){var o=this,n=t||{},r=void 0!==n.className?n.className:n.bar?"ol-scale-bar":"ol-scale-line";return(o=e.call(this,{element:document.createElement("div"),render:n.render,target:n.target})||this).on,o.once,o.un,o.innerElement_=document.createElement("div"),o.innerElement_.className=r+"-inner",o.element.className=r+" "+a.e,o.element.appendChild(o.innerElement_),o.viewState_=null,o.minWidth_=void 0!==n.minWidth?n.minWidth:64,o.renderedVisible_=!1,o.renderedWidth_=void 0,o.renderedHTML_="",o.addChangeListener("units",o.handleUnitsChanged_),o.setUnits(n.units||p),o.scaleBar_=n.bar||!1,o.scaleBarSteps_=n.steps||4,o.scaleBarText_=n.text||!1,o.dpi_=n.dpi||void 0,o}return c(t,e),t.prototype.getUnits=function(){return this.get("units")},t.prototype.handleUnitsChanged_=function(){this.updateElement_()},t.prototype.setUnits=function(e){this.set("units",e)},t.prototype.setDpi=function(e){this.dpi_=e},t.prototype.updateElement_=function(){var e=this.viewState_;if(e){var t=e.center,o=e.projection,n=this.getUnits(),r=n==u?i.b.DEGREES:i.b.METERS,a=Object(s.u)(o,e.resolution,t,r),c=this.minWidth_*(this.dpi_||25.4/.28)/(25.4/.28),m=c*a,y="";if(n==u){var v=s.a[i.b.DEGREES];(m*=v)<v/60?(y="â³",a*=3600):m<v?(y="â²",a*=60):y="Â°"}else n==d?m<.9144?(y="in",a/=.0254):m<1609.344?(y="ft",a/=.3048):(y="mi",a/=1609.344):n==h?(a/=1852,y="nm"):n==p?m<.001?(y="Î¼m",a*=1e6):m<1?(y="mm",a*=1e3):m<1e3?y="m":(y="km",a/=1e3):n==f?m<.9144?(y="in",a*=39.37):m<1609.344?(y="ft",a/=.30480061):(y="mi",a/=1609.3472):Object(l.a)(!1,33);for(var _,b,A,C,w=3*Math.floor(Math.log(c*a)/Math.log(10));;){A=Math.floor(w/3);var E=Math.pow(10,A);if(_=g[(w%3+3)%3]*E,b=Math.round(_/a),isNaN(b))return this.element.style.display="none",void(this.renderedVisible_=!1);if(b>=c)break;++w}C=this.scaleBar_?this.createScaleBar(b,_,y):_.toFixed(A<0?-A:0)+" "+y,this.renderedHTML_!=C&&(this.innerElement_.innerHTML=C,this.renderedHTML_=C),this.renderedWidth_!=b&&(this.innerElement_.style.width=b+"px",this.renderedWidth_=b),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},t.prototype.createScaleBar=function(e,t,o){for(var n="1 : "+Math.round(this.getScaleForResolution()).toLocaleString(),r=[],i=e/this.scaleBarSteps_,a="#ffffff",s=0;s<this.scaleBarSteps_;s++)0===s&&r.push(this.createMarker("absolute",s)),r.push('<div><div class="ol-scale-singlebar" style="width: '+i+"px;background-color: "+a+';"></div>'+this.createMarker("relative",s)+(s%2==0||2===this.scaleBarSteps_?this.createStepText(s,e,!1,t,o):"")+"</div>"),s===this.scaleBarSteps_-1&&r.push(this.createStepText(s+1,e,!0,t,o)),a="#ffffff"===a?"#000000":"#ffffff";return'<div style="display: flex;">'+(this.scaleBarText_?'<div class="ol-scale-text" style="width: '+e+'px;">'+n+"</div>":"")+r.join("")+"</div>"},t.prototype.createMarker=function(e,t){return'<div class="ol-scale-step-marker" style="position: '+e+";top: "+("absolute"===e?3:-10)+'px;"></div>'},t.prototype.createStepText=function(e,t,o,n,r){var i=(0===e?0:Math.round(n/this.scaleBarSteps_*e*100)/100)+(0===e?"":" "+r);return'<div class="ol-scale-step-text" style="margin-left: '+(0===e?-3:t/this.scaleBarSteps_*-1)+"px;text-align: "+(0===e?"left":"center")+"; min-width: "+(0===e?0:t/this.scaleBarSteps_*2)+"px;left: "+(o?t+"px":"unset")+';">'+i+"</div>"},t.prototype.getScaleForResolution=function(){var e=Object(s.u)(this.viewState_.projection,this.viewState_.resolution,this.viewState_.center),t=this.dpi_||25.4/.28,o=this.viewState_.projection.getMetersPerUnit();return parseFloat(e.toString())*o*(1e3/25.4)*t},t.prototype.render=function(e){var t=e.frameState;this.viewState_=t?t.viewState:null,this.updateElement_()},t}(r.a);t.a=m},"./node_modules/ol/control/Zoom.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/control/Control.js"),i=o("./node_modules/ol/events/EventType.js"),a=o("./node_modules/ol/css.js"),s=o("./node_modules/ol/easing.js"),l=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=function(e){function t(t){var o=this,n=t||{};o=e.call(this,{element:document.createElement("div"),target:n.target})||this;var r=void 0!==n.className?n.className:"ol-zoom",s=void 0!==n.delta?n.delta:1,l=void 0!==n.zoomInClassName?n.zoomInClassName:r+"-in",c=void 0!==n.zoomOutClassName?n.zoomOutClassName:r+"-out",u=void 0!==n.zoomInLabel?n.zoomInLabel:"+",d=void 0!==n.zoomOutLabel?n.zoomOutLabel:"â",h=void 0!==n.zoomInTipLabel?n.zoomInTipLabel:"Zoom in",p=void 0!==n.zoomOutTipLabel?n.zoomOutTipLabel:"Zoom out",f=document.createElement("button");f.className=l,f.setAttribute("type","button"),f.title=h,f.appendChild("string"==typeof u?document.createTextNode(u):u),f.addEventListener(i.a.CLICK,o.handleClick_.bind(o,s),!1);var g=document.createElement("button");g.className=c,g.setAttribute("type","button"),g.title=p,g.appendChild("string"==typeof d?document.createTextNode(d):d),g.addEventListener(i.a.CLICK,o.handleClick_.bind(o,-s),!1);var m=r+" "+a.e+" "+a.b,y=o.element;return y.className=m,y.appendChild(f),y.appendChild(g),o.duration_=void 0!==n.duration?n.duration:250,o}return l(t,e),t.prototype.handleClick_=function(e,t){t.preventDefault(),this.zoomByDelta_(e)},t.prototype.zoomByDelta_=function(e){var t=this.getMap().getView();if(t){var o=t.getZoom();if(void 0!==o){var n=t.getConstrainedZoom(o+e);this.duration_>0?(t.getAnimating()&&t.cancelAnimations(),t.animate({zoom:n,duration:this.duration_,easing:s.b})):t.setZoom(n)}}},t}(r.a);t.a=c},"./node_modules/ol/control/ZoomSlider.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/control/Control.js"),i=o("./node_modules/ol/events/EventType.js"),a=o("./node_modules/ol/pointer/EventType.js"),s=o("./node_modules/ol/css.js"),l=o("./node_modules/ol/math.js"),c=o("./node_modules/ol/easing.js"),u=o("./node_modules/ol/events.js"),d=o("./node_modules/ol/events/Event.js"),h=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),p=0,f=1,g=function(e){function t(t){var o=this,n=t||{};(o=e.call(this,{element:document.createElement("div"),render:n.render})||this).dragListenerKeys_=[],o.currentResolution_=void 0,o.direction_=p,o.dragging_,o.heightLimit_=0,o.widthLimit_=0,o.startX_,o.startY_,o.thumbSize_=null,o.sliderInitialized_=!1,o.duration_=void 0!==n.duration?n.duration:200;var r=void 0!==n.className?n.className:"ol-zoomslider",l=document.createElement("button");l.setAttribute("type","button"),l.className=r+"-thumb "+s.e;var c=o.element;return c.className=r+" "+s.e+" "+s.b,c.appendChild(l),c.addEventListener(a.a.POINTERDOWN,o.handleDraggerStart_.bind(o),!1),c.addEventListener(a.a.POINTERMOVE,o.handleDraggerDrag_.bind(o),!1),c.addEventListener(a.a.POINTERUP,o.handleDraggerEnd_.bind(o),!1),c.addEventListener(i.a.CLICK,o.handleContainerClick_.bind(o),!1),l.addEventListener(i.a.CLICK,d.c,!1),o}return h(t,e),t.prototype.setMap=function(t){e.prototype.setMap.call(this,t),t&&t.render()},t.prototype.initSlider_=function(){var e=this.element,t=e.offsetWidth,o=e.offsetHeight;if(0===t&&0===o)return this.sliderInitialized_=!1;var n=getComputedStyle(e);t-=parseFloat(n.paddingRight)+parseFloat(n.paddingLeft),o-=parseFloat(n.paddingTop)+parseFloat(n.paddingBottom);var r=e.firstElementChild,i=getComputedStyle(r),a=r.offsetWidth+parseFloat(i.marginRight)+parseFloat(i.marginLeft),s=r.offsetHeight+parseFloat(i.marginTop)+parseFloat(i.marginBottom);return this.thumbSize_=[a,s],t>o?(this.direction_=f,this.widthLimit_=t-a):(this.direction_=p,this.heightLimit_=o-s),this.sliderInitialized_=!0},t.prototype.handleContainerClick_=function(e){var t=this.getMap().getView(),o=this.getRelativePosition_(e.offsetX-this.thumbSize_[0]/2,e.offsetY-this.thumbSize_[1]/2),n=this.getResolutionForPosition_(o),r=t.getConstrainedZoom(t.getZoomForResolution(n));t.animateInternal({zoom:r,duration:this.duration_,easing:c.b})},t.prototype.handleDraggerStart_=function(e){if(!this.dragging_&&e.target===this.element.firstElementChild){var t=this.element.firstElementChild;if(this.getMap().getView().beginInteraction(),this.startX_=e.clientX-parseFloat(t.style.left),this.startY_=e.clientY-parseFloat(t.style.top),this.dragging_=!0,0===this.dragListenerKeys_.length){var o=this.handleDraggerDrag_,n=this.handleDraggerEnd_,r=this.getMap().getOwnerDocument();this.dragListenerKeys_.push(Object(u.a)(r,a.a.POINTERMOVE,o,this),Object(u.a)(r,a.a.POINTERUP,n,this))}}},t.prototype.handleDraggerDrag_=function(e){if(this.dragging_){var t=e.clientX-this.startX_,o=e.clientY-this.startY_,n=this.getRelativePosition_(t,o);this.currentResolution_=this.getResolutionForPosition_(n),this.getMap().getView().setResolution(this.currentResolution_)}},t.prototype.handleDraggerEnd_=function(e){this.dragging_&&(this.getMap().getView().endInteraction(),this.dragging_=!1,this.startX_=void 0,this.startY_=void 0,this.dragListenerKeys_.forEach(u.c),this.dragListenerKeys_.length=0)},t.prototype.setThumbPosition_=function(e){var t=this.getPositionForResolution_(e),o=this.element.firstElementChild;this.direction_==f?o.style.left=this.widthLimit_*t+"px":o.style.top=this.heightLimit_*t+"px"},t.prototype.getRelativePosition_=function(e,t){var o;return o=this.direction_===f?e/this.widthLimit_:t/this.heightLimit_,Object(l.a)(o,0,1)},t.prototype.getResolutionForPosition_=function(e){return this.getMap().getView().getResolutionForValueFunction()(1-e)},t.prototype.getPositionForResolution_=function(e){var t=this.getMap().getView().getValueForResolutionFunction();return Object(l.a)(1-t(e),0,1)},t.prototype.render=function(e){if(e.frameState&&(this.sliderInitialized_||this.initSlider_())){var t=e.frameState.viewState.resolution;this.currentResolution_=t,this.setThumbPosition_(t)}},t}(r.a);t.a=g},"./node_modules/ol/control/ZoomToExtent.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/control/Control.js"),i=o("./node_modules/ol/events/EventType.js"),a=o("./node_modules/ol/css.js"),s=o("./node_modules/ol/geom/Polygon.js"),l=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=function(e){function t(t){var o=this,n=t||{};(o=e.call(this,{element:document.createElement("div"),target:n.target})||this).extent=n.extent?n.extent:null;var r=void 0!==n.className?n.className:"ol-zoom-extent",s=void 0!==n.label?n.label:"E",l=void 0!==n.tipLabel?n.tipLabel:"Fit to extent",c=document.createElement("button");c.setAttribute("type","button"),c.title=l,c.appendChild("string"==typeof s?document.createTextNode(s):s),c.addEventListener(i.a.CLICK,o.handleClick_.bind(o),!1);var u=r+" "+a.e+" "+a.b,d=o.element;return d.className=u,d.appendChild(c),o}return l(t,e),t.prototype.handleClick_=function(e){e.preventDefault(),this.handleZoomToExtent()},t.prototype.handleZoomToExtent=function(){var e=this.getMap().getView(),t=this.extent?this.extent:e.getProjection().getExtent();e.fitInternal(Object(s.d)(t))},t}(r.a);t.a=c},"./node_modules/ol/coordinate.js":function(e,t,o){"use strict";o.d(t,"a",(function(){return a})),o.d(t,"b",(function(){return s})),o.d(t,"c",(function(){return l})),o.d(t,"d",(function(){return c})),o.d(t,"e",(function(){return u})),o.d(t,"h",(function(){return d})),o.d(t,"g",(function(){return h})),o.d(t,"j",(function(){return p})),o.d(t,"k",(function(){return f})),o.d(t,"l",(function(){return g})),o.d(t,"f",(function(){return m})),o.d(t,"m",(function(){return y})),o.d(t,"n",(function(){return v})),o.d(t,"o",(function(){return _})),o.d(t,"p",(function(){return b})),o.d(t,"i",(function(){return A}));var n=o("./node_modules/ol/extent.js"),r=o("./node_modules/ol/math.js"),i=o("./node_modules/ol/string.js");function a(e,t){return e[0]+=+t[0],e[1]+=+t[1],e}function s(e,t){var o=t.getRadius(),n=t.getCenter(),r=n[0],i=n[1],a=e[0]-r,s=e[1]-i;0===a&&0===s&&(a=1);var l=Math.sqrt(a*a+s*s);return[r+o*a/l,i+o*s/l]}function l(e,t){var o,n,r=e[0],i=e[1],a=t[0],s=t[1],l=a[0],c=a[1],u=s[0],d=s[1],h=u-l,p=d-c,f=0===h&&0===p?0:(h*(r-l)+p*(i-c))/(h*h+p*p||0);return f<=0?(o=l,n=c):f>=1?(o=u,n=d):(o=l+f*h,n=c+f*p),[o,n]}function c(e){return function(t){return _(t,e)}}function u(e,t,o){var n=Object(r.e)(t+180,360)-180,a=Math.abs(3600*n),s=o||0,l=Math.pow(10,s),c=Math.floor(a/3600),u=Math.floor((a-3600*c)/60),d=a-3600*c-60*u;return(d=Math.ceil(d*l)/l)>=60&&(d=0,u+=1),u>=60&&(u=0,c+=1),c+"Â° "+Object(i.b)(u,2)+"â² "+Object(i.b)(d,2,s)+"â³"+(0==n?"":" "+e.charAt(n<0?1:0))}function d(e,t,o){return e?t.replace("{x}",e[0].toFixed(o)).replace("{y}",e[1].toFixed(o)):""}function h(e,t){for(var o=!0,n=e.length-1;n>=0;--n)if(e[n]!=t[n]){o=!1;break}return o}function p(e,t){var o=Math.cos(t),n=Math.sin(t),r=e[0]*o-e[1]*n,i=e[1]*o+e[0]*n;return e[0]=r,e[1]=i,e}function f(e,t){return e[0]*=t,e[1]*=t,e}function g(e,t){var o=e[0]-t[0],n=e[1]-t[1];return o*o+n*n}function m(e,t){return Math.sqrt(g(e,t))}function y(e,t){return g(e,l(e,t))}function v(e,t){return e?u("NS",e[1],t)+" "+u("EW",e[0],t):""}function _(e,t){return d(e,"{x}, {y}",t)}function b(e,t){if(t.canWrapX()){var o=Object(n.N)(t.getExtent()),r=A(e,t,o);r&&(e[0]-=r*o)}return e}function A(e,t,o){var r=t.getExtent(),i=0;if(t.canWrapX()&&(e[0]<r[0]||e[0]>r[2])){var a=o||Object(n.N)(r);i=Math.floor((e[0]-r[0])/a)}return i}},"./node_modules/ol/css.js":function(e,t,o){"use strict";o.d(t,"c",(function(){return n})),o.d(t,"d",(function(){return r})),o.d(t,"e",(function(){return i})),o.d(t,"f",(function(){return a})),o.d(t,"b",(function(){return s})),o.d(t,"a",(function(){return l})),o.d(t,"h",(function(){return d})),o.d(t,"g",(function(){return h}));var n="ol-hidden",r="ol-selectable",i="ol-unselectable",a="ol-unsupported",s="ol-control",l="ol-collapsed",c=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),u=["style","variant","weight","size","lineHeight","family"],d=function(e){var t=e.match(c);if(!t)return null;for(var o={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},n=0,r=u.length;n<r;++n){var i=t[n+1];void 0!==i&&(o[u[n]]=i)}return o.families=o.family.split(/,\s?/),o};function h(e){return 1===e?"":String(Math.round(100*e)/100)}},"./node_modules/ol/dom.js":function(e,t,o){"use strict";o.d(t,"a",(function(){return r})),o.d(t,"c",(function(){return i})),o.d(t,"b",(function(){return a})),o.d(t,"g",(function(){return s})),o.d(t,"e",(function(){return l})),o.d(t,"d",(function(){return c})),o.d(t,"f",(function(){return u}));var n=o("./node_modules/ol/has.js");function r(e,t,o,r){var i;return o&&o.length?i=o.shift():n.h?i=new OffscreenCanvas(e||300,t||300):(i=document.createElement("canvas")).style.all="unset",e&&(i.width=e),t&&(i.height=t),i.getContext("2d",r)}function i(e){var t=e.offsetWidth,o=getComputedStyle(e);return t+=parseInt(o.marginLeft,10)+parseInt(o.marginRight,10)}function a(e){var t=e.offsetHeight,o=getComputedStyle(e);return t+=parseInt(o.marginTop,10)+parseInt(o.marginBottom,10)}function s(e,t){var o=t.parentNode;o&&o.replaceChild(e,t)}function l(e){return e&&e.parentNode?e.parentNode.removeChild(e):null}function c(e){for(;e.lastChild;)e.removeChild(e.lastChild)}function u(e,t){for(var o=e.childNodes,n=0;;++n){var r=o[n],i=t[n];if(!r&&!i)break;r!==i&&(r?i?e.insertBefore(i,r):(e.removeChild(r),--n):e.appendChild(i))}}},"./node_modules/ol/easing.js":function(e,t,o){"use strict";function n(e){return Math.pow(e,3)}function r(e){return 1-n(1-e)}function i(e){return 3*e*e-2*e*e*e}function a(e){return e}function s(e){return e<.5?i(2*e):1-i(2*(e-.5))}o.d(t,"a",(function(){return n})),o.d(t,"b",(function(){return r})),o.d(t,"c",(function(){return i})),o.d(t,"d",(function(){return a})),o.d(t,"e",(function(){return s}))},"./node_modules/ol/events.js":function(e,t,o){"use strict";o.d(t,"a",(function(){return r})),o.d(t,"b",(function(){return i})),o.d(t,"c",(function(){return a}));var n=o("./node_modules/ol/obj.js");function r(e,t,o,n,r){if(n&&n!==e&&(o=o.bind(n)),r){var i=o;o=function(){e.removeEventListener(t,o),i.apply(this,arguments)}}var a={target:e,type:t,listener:o};return e.addEventListener(t,o),a}function i(e,t,o,n){return r(e,t,o,n,!0)}function a(e){e&&e.target&&(e.target.removeEventListener(e.type,e.listener),Object(n.b)(e))}},"./node_modules/ol/events/Event.js":function(e,t,o){"use strict";o.d(t,"c",(function(){return r})),o.d(t,"b",(function(){return i}));var n=function(){function e(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}return e.prototype.preventDefault=function(){this.defaultPrevented=!0},e.prototype.stopPropagation=function(){this.propagationStopped=!0},e}();function r(e){e.stopPropagation()}function i(e){e.preventDefault()}t.a=n},"./node_modules/ol/events/EventType.js":function(e,t,o){"use strict";t.a={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"}},"./node_modules/ol/events/Target.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/Disposable.js"),i=o("./node_modules/ol/events/Event.js"),a=o("./node_modules/ol/functions.js"),s=o("./node_modules/ol/obj.js"),l=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=function(e){function t(t){var o=e.call(this)||this;return o.eventTarget_=t,o.pendingRemovals_=null,o.dispatching_=null,o.listeners_=null,o}return l(t,e),t.prototype.addEventListener=function(e,t){if(e&&t){var o=this.listeners_||(this.listeners_={}),n=o[e]||(o[e]=[]);-1===n.indexOf(t)&&n.push(t)}},t.prototype.dispatchEvent=function(e){var t="string"==typeof e?new i.a(e):e,o=t.type;t.target||(t.target=this.eventTarget_||this);var n,r=this.listeners_&&this.listeners_[o];if(r){var s=this.dispatching_||(this.dispatching_={}),l=this.pendingRemovals_||(this.pendingRemovals_={});o in s||(s[o]=0,l[o]=0),++s[o];for(var c=0,u=r.length;c<u;++c)if(!1===(n="handleEvent"in r[c]?r[c].handleEvent(t):r[c].call(this,t))||t.propagationStopped){n=!1;break}if(--s[o],0===s[o]){var d=l[o];for(delete l[o];d--;)this.removeEventListener(o,a.c);delete s[o]}return n}},t.prototype.disposeInternal=function(){this.listeners_&&Object(s.b)(this.listeners_)},t.prototype.getListeners=function(e){return this.listeners_&&this.listeners_[e]||void 0},t.prototype.hasListener=function(e){return!!this.listeners_&&(e?e in this.listeners_:Object.keys(this.listeners_).length>0)},t.prototype.removeEventListener=function(e,t){var o=this.listeners_&&this.listeners_[e];if(o){var n=o.indexOf(t);-1!==n&&(this.pendingRemovals_&&e in this.pendingRemovals_?(o[n]=a.c,++this.pendingRemovals_[e]):(o.splice(n,1),0===o.length&&delete this.listeners_[e]))}},t}(r.a);t.a=c},"./node_modules/ol/events/condition.js":function(e,t,o){"use strict";o.d(t,"a",(function(){return s})),o.d(t,"b",(function(){return l})),o.d(t,"c",(function(){return c})),o.d(t,"g",(function(){return u})),o.d(t,"h",(function(){return d})),o.d(t,"d",(function(){return h})),o.d(t,"e",(function(){return p})),o.d(t,"i",(function(){return f})),o.d(t,"k",(function(){return g})),o.d(t,"o",(function(){return m})),o.d(t,"r",(function(){return y})),o.d(t,"f",(function(){return v})),o.d(t,"l",(function(){return _})),o.d(t,"n",(function(){return b})),o.d(t,"q",(function(){return A})),o.d(t,"s",(function(){return C})),o.d(t,"j",(function(){return w})),o.d(t,"t",(function(){return E})),o.d(t,"m",(function(){return I})),o.d(t,"p",(function(){return O}));var n=o("./node_modules/ol/MapBrowserEventType.js"),r=o("./node_modules/ol/functions.js"),i=o("./node_modules/ol/has.js"),a=o("./node_modules/ol/asserts.js");function s(e){var t=arguments;return function(e){for(var o=!0,n=0,r=t.length;n<r&&(o=o&&t[n](e));++n);return o}}var l=function(e){var t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey},c=function(e){var t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},u=function(e){return e.target.getTargetElement().contains(document.activeElement)},d=function(e){return!e.map.getTargetElement().hasAttribute("tabindex")||u(e)},h=r.b,p=function(e){return e.type==n.a.CLICK},f=function(e){var t=e.originalEvent;return 0==t.button&&!(i.g&&i.d&&t.ctrlKey)},g=r.a,m=function(e){return"pointermove"==e.type},y=function(e){return e.type==n.a.SINGLECLICK},v=function(e){return e.type==n.a.DBLCLICK},_=function(e){var t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey},b=function(e){var t=e.originalEvent;return!t.altKey&&(i.d?t.metaKey:t.ctrlKey)&&!t.shiftKey},A=function(e){var t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},C=function(e){var t=e.originalEvent.target.tagName;return"INPUT"!==t&&"SELECT"!==t&&"TEXTAREA"!==t},w=function(e){var t=e.originalEvent;return Object(a.a)(void 0!==t,56),"mouse"==t.pointerType},E=function(e){var t=e.originalEvent;return Object(a.a)(void 0!==t,56),"touch"===t.pointerType},I=function(e){var t=e.originalEvent;return Object(a.a)(void 0!==t,56),"pen"===t.pointerType},O=function(e){var t=e.originalEvent;return Object(a.a)(void 0!==t,56),t.isPrimary&&0===t.button}},"./node_modules/ol/extent.js":function(e,t,o){"use strict";o.d(t,"c",(function(){return a})),o.d(t,"d",(function(){return s})),o.d(t,"e",(function(){return l})),o.d(t,"f",(function(){return c})),o.d(t,"g",(function(){return u})),o.d(t,"h",(function(){return d})),o.d(t,"i",(function(){return h})),o.d(t,"j",(function(){return p})),o.d(t,"k",(function(){return f})),o.d(t,"l",(function(){return g})),o.d(t,"m",(function(){return m})),o.d(t,"n",(function(){return y})),o.d(t,"o",(function(){return v})),o.d(t,"p",(function(){return _})),o.d(t,"q",(function(){return b})),o.d(t,"r",(function(){return A})),o.d(t,"b",(function(){return C})),o.d(t,"s",(function(){return w})),o.d(t,"t",(function(){return E})),o.d(t,"u",(function(){return I})),o.d(t,"v",(function(){return O})),o.d(t,"w",(function(){return S})),o.d(t,"x",(function(){return x})),o.d(t,"y",(function(){return j})),o.d(t,"z",(function(){return P})),o.d(t,"A",(function(){return T})),o.d(t,"B",(function(){return M})),o.d(t,"C",(function(){return R})),o.d(t,"D",(function(){return L})),o.d(t,"E",(function(){return k})),o.d(t,"F",(function(){return G})),o.d(t,"G",(function(){return D})),o.d(t,"I",(function(){return N})),o.d(t,"H",(function(){return F})),o.d(t,"J",(function(){return U})),o.d(t,"K",(function(){return B})),o.d(t,"L",(function(){return z})),o.d(t,"M",(function(){return V})),o.d(t,"N",(function(){return W})),o.d(t,"O",(function(){return q})),o.d(t,"Q",(function(){return Y})),o.d(t,"R",(function(){return H})),o.d(t,"S",(function(){return X})),o.d(t,"P",(function(){return Z})),o.d(t,"a",(function(){return K})),o.d(t,"T",(function(){return J}));var n=o("./node_modules/ol/extent/Corner.js"),r=o("./node_modules/ol/extent/Relationship.js"),i=o("./node_modules/ol/asserts.js");function a(e){for(var t=f(),o=0,n=e.length;o<n;++o)E(t,e[o]);return t}function s(e,t,o){return o?(o[0]=e[0]-t,o[1]=e[1]-t,o[2]=e[2]+t,o[3]=e[3]+t,o):[e[0]-t,e[1]-t,e[2]+t,e[3]+t]}function l(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e.slice()}function c(e,t,o){var n,r;return(n=t<e[0]?e[0]-t:e[2]<t?t-e[2]:0)*n+(r=o<e[1]?e[1]-o:e[3]<o?o-e[3]:0)*r}function u(e,t){return h(e,t[0],t[1])}function d(e,t){return e[0]<=t[0]&&t[2]<=e[2]&&e[1]<=t[1]&&t[3]<=e[3]}function h(e,t,o){return e[0]<=t&&t<=e[2]&&e[1]<=o&&o<=e[3]}function p(e,t){var o=e[0],n=e[1],i=e[2],a=e[3],s=t[0],l=t[1],c=r.a.UNKNOWN;return s<o?c|=r.a.LEFT:s>i&&(c|=r.a.RIGHT),l<n?c|=r.a.BELOW:l>a&&(c|=r.a.ABOVE),c===r.a.UNKNOWN&&(c=r.a.INTERSECTING),c}function f(){return[1/0,1/0,-1/0,-1/0]}function g(e,t,o,n,r){return r?(r[0]=e,r[1]=t,r[2]=o,r[3]=n,r):[e,t,o,n]}function m(e){return g(1/0,1/0,-1/0,-1/0,e)}function y(e,t){var o=e[0],n=e[1];return g(o,n,o,n,t)}function v(e,t){return I(m(t),e)}function _(e,t,o,n,r){return O(m(r),e,t,o,n)}function b(e,t){return S(m(t),e)}function A(e,t){return e[0]==t[0]&&e[2]==t[2]&&e[1]==t[1]&&e[3]==t[3]}function C(e,t,o){return Math.abs(e[0]-t[0])<o&&Math.abs(e[2]-t[2])<o&&Math.abs(e[1]-t[1])<o&&Math.abs(e[3]-t[3])<o}function w(e,t){return t[0]<e[0]&&(e[0]=t[0]),t[2]>e[2]&&(e[2]=t[2]),t[1]<e[1]&&(e[1]=t[1]),t[3]>e[3]&&(e[3]=t[3]),e}function E(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function I(e,t){for(var o=0,n=t.length;o<n;++o)E(e,t[o]);return e}function O(e,t,o,n,r){for(;o<n;o+=r)x(e,t[o],t[o+1]);return e}function S(e,t){for(var o=0,n=t.length;o<n;++o)I(e,t[o]);return e}function x(e,t,o){e[0]=Math.min(e[0],t),e[1]=Math.min(e[1],o),e[2]=Math.max(e[2],t),e[3]=Math.max(e[3],o)}function j(e,t){var o;return(o=t(T(e)))||(o=t(M(e)))||(o=t(V(e)))?o:(o=t(z(e)))||!1}function P(e){var t=0;return Y(e)||(t=W(e)*D(e)),t}function T(e){return[e[0],e[1]]}function M(e){return[e[2],e[1]]}function R(e){return[(e[0]+e[2])/2,(e[1]+e[3])/2]}function L(e,t){var o;return t===n.a.BOTTOM_LEFT?o=T(e):t===n.a.BOTTOM_RIGHT?o=M(e):t===n.a.TOP_LEFT?o=z(e):t===n.a.TOP_RIGHT?o=V(e):Object(i.a)(!1,13),o}function k(e,t){var o=Math.min(e[0],t[0]),n=Math.min(e[1],t[1]);return(Math.max(e[2],t[2])-o)*(Math.max(e[3],t[3])-n)}function G(e,t,o,n,r){var i=t*n[0]/2,a=t*n[1]/2,s=Math.cos(o),l=Math.sin(o),c=i*s,u=i*l,d=a*s,h=a*l,p=e[0],f=e[1],m=p-c+h,y=p-c-h,v=p+c-h,_=p+c+h,b=f-u-d,A=f-u+d,C=f+u+d,w=f+u-d;return g(Math.min(m,y,v,_),Math.min(b,A,C,w),Math.max(m,y,v,_),Math.max(b,A,C,w),r)}function D(e){return e[3]-e[1]}function N(e,t){return P(F(e,t))}function F(e,t,o){var n=o||[1/0,1/0,-1/0,-1/0];return q(e,t)?(e[0]>t[0]?n[0]=e[0]:n[0]=t[0],e[1]>t[1]?n[1]=e[1]:n[1]=t[1],e[2]<t[2]?n[2]=e[2]:n[2]=t[2],e[3]<t[3]?n[3]=e[3]:n[3]=t[3]):m(n),n}function U(e){return W(e)+D(e)}function B(e){return[e[2]-e[0],e[3]-e[1]]}function z(e){return[e[0],e[3]]}function V(e){return[e[2],e[3]]}function W(e){return e[2]-e[0]}function q(e,t){return e[0]<=t[2]&&e[2]>=t[0]&&e[1]<=t[3]&&e[3]>=t[1]}function Y(e){return e[2]<e[0]||e[3]<e[1]}function H(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e}function X(e,t){var o=(e[2]-e[0])/2*(t-1),n=(e[3]-e[1])/2*(t-1);e[0]-=o,e[2]+=o,e[1]-=n,e[3]+=n}function Z(e,t,o){var n=!1,i=p(e,t),a=p(e,o);if(i===r.a.INTERSECTING||a===r.a.INTERSECTING)n=!0;else{var s=e[0],l=e[1],c=e[2],u=e[3],d=t[0],h=t[1],f=o[0],g=o[1],m=(g-h)/(f-d),y=void 0,v=void 0;a&r.a.ABOVE&&!(i&r.a.ABOVE)&&(n=(y=f-(g-u)/m)>=s&&y<=c),n||!(a&r.a.RIGHT)||i&r.a.RIGHT||(n=(v=g-(f-c)*m)>=l&&v<=u),n||!(a&r.a.BELOW)||i&r.a.BELOW||(n=(y=f-(g-l)/m)>=s&&y<=c),n||!(a&r.a.LEFT)||i&r.a.LEFT||(n=(v=g-(f-s)*m)>=l&&v<=u)}return n}function K(e,t,o,n){var r=[];if(n>1)for(var i=e[2]-e[0],a=e[3]-e[1],s=0;s<n;++s)r.push(e[0]+i*s/n,e[1],e[2],e[1]+a*s/n,e[2]-i*s/n,e[3],e[0],e[3]-a*s/n);else r=[e[0],e[1],e[2],e[1],e[2],e[3],e[0],e[3]];t(r,r,2);for(var l=[],c=[],u=(s=0,r.length);s<u;s+=2)l.push(r[s]),c.push(r[s+1]);return function(e,t,o){return g(Math.min.apply(null,e),Math.min.apply(null,t),Math.max.apply(null,e),Math.max.apply(null,t),o)}(l,c,o)}function J(e,t){var o=t.getExtent(),n=R(e);if(t.canWrapX()&&(n[0]<o[0]||n[0]>=o[2])){var r=W(o),i=Math.floor((n[0]-o[0])/r)*r;e[0]-=i,e[2]-=i}return e}},"./node_modules/ol/extent/Corner.js":function(e,t,o){"use strict";t.a={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}},"./node_modules/ol/extent/Relationship.js":function(e,t,o){"use strict";t.a={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}},"./node_modules/ol/featureloader.js":function(e,t,o){"use strict";o.d(t,"a",(function(){return a})),o.d(t,"c",(function(){return s})),o.d(t,"b",(function(){return l}));var n=o("./node_modules/ol/format/FormatType.js"),r=o("./node_modules/ol/functions.js"),i=!1;function a(e,t,o,r,a,s,l){var c=new XMLHttpRequest;c.open("GET","function"==typeof e?e(o,r,a):e,!0),t.getType()==n.a.ARRAY_BUFFER&&(c.responseType="arraybuffer"),c.withCredentials=i,c.onload=function(e){if(!c.status||c.status>=200&&c.status<300){var r=t.getType(),i=void 0;r==n.a.JSON||r==n.a.TEXT?i=c.responseText:r==n.a.XML?(i=c.responseXML)||(i=(new DOMParser).parseFromString(c.responseText,"application/xml")):r==n.a.ARRAY_BUFFER&&(i=c.response),i?s(t.readFeatures(i,{extent:o,featureProjection:a}),t.readProjection(i)):l()}else l()},c.onerror=l,c.send()}function s(e,t){return function(o,n,i,s,l){var c=this;a(e,t,o,n,i,(function(e,t){c.addFeatures(e),void 0!==s&&s(e)}),l||r.c)}}function l(e){i=e}},"./node_modules/ol/format/Feature.js":function(e,t,o){"use strict";o.d(t,"c",(function(){return l})),o.d(t,"b",(function(){return c}));var n=o("./node_modules/ol/proj/Units.js"),r=o("./node_modules/ol/util.js"),i=o("./node_modules/ol/obj.js"),a=o("./node_modules/ol/proj.js"),s=function(){function e(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.supportedMediaTypes=null}return e.prototype.getReadOptions=function(e,t){var o;if(t){var r=t.dataProjection?Object(a.t)(t.dataProjection):this.readProjection(e);t.extent&&r&&r.getUnits()===n.b.TILE_PIXELS&&(r=Object(a.t)(r)).setWorldExtent(t.extent),o={dataProjection:r,featureProjection:t.featureProjection}}return this.adaptOptions(o)},e.prototype.adaptOptions=function(e){return Object(i.a)({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},e)},e.prototype.getType=function(){return Object(r.b)()},e.prototype.readFeature=function(e,t){return Object(r.b)()},e.prototype.readFeatures=function(e,t){return Object(r.b)()},e.prototype.readGeometry=function(e,t){return Object(r.b)()},e.prototype.readProjection=function(e){return Object(r.b)()},e.prototype.writeFeature=function(e,t){return Object(r.b)()},e.prototype.writeFeatures=function(e,t){return Object(r.b)()},e.prototype.writeGeometry=function(e,t){return Object(r.b)()},e}();function l(e,t,o){var n,r=o?Object(a.t)(o.featureProjection):null,i=o?Object(a.t)(o.dataProjection):null;if(n=r&&i&&!Object(a.o)(r,i)?(t?e.clone():e).transform(t?r:i,t?i:r):e,t&&o&&void 0!==o.decimals){var s=Math.pow(10,o.decimals);n===e&&(n=e.clone()),n.applyTransform((function(e){for(var t=0,o=e.length;t<o;++t)e[t]=Math.round(e[t]*s)/s;return e}))}return n}function c(e,t){var o=t?Object(a.t)(t.featureProjection):null,n=t?Object(a.t)(t.dataProjection):null;return o&&n&&!Object(a.o)(o,n)?Object(a.F)(e,n,o):e}t.a=s},"./node_modules/ol/format/FormatType.js":function(e,t,o){"use strict";t.a={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"}},"./node_modules/ol/format/GML2.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/format/GMLBase.js"),i=o("./node_modules/ol/xml.js"),a=o("./node_modules/ol/obj.js"),s=o("./node_modules/ol/extent.js"),l=o("./node_modules/ol/proj.js"),c=o("./node_modules/ol/format/Feature.js"),u=o("./node_modules/ol/format/xsd.js"),d=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),h=r.a+" http://schemas.opengis.net/gml/2.1.2/feature.xsd",p={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"},f=function(e){function t(t){var o=this,n=t||{};return(o=e.call(this,n)||this).FEATURE_COLLECTION_PARSERS[r.a].featureMember=Object(i.k)(o.readFeaturesInternal),o.schemaLocation=n.schemaLocation?n.schemaLocation:h,o}return d(t,e),t.prototype.readFlatCoordinates=function(e,t){var o=Object(i.d)(e,!1).replace(/^\s*|\s*$/g,""),n=t[0].srsName,r="enu";if(n){var a=Object(l.t)(n);a&&(r=a.getAxisOrientation())}for(var s=o.trim().split(/\s+/),c=[],u=0,d=s.length;u<d;u++){var h=s[u].split(/,+/),p=parseFloat(h[0]),f=parseFloat(h[1]),g=3===h.length?parseFloat(h[2]):0;"en"===r.substr(0,2)?c.push(p,f,g):c.push(f,p,g)}return c},t.prototype.readBox=function(e,t){var o=Object(i.v)([null],this.BOX_PARSERS_,e,t,this);return Object(s.l)(o[1][0],o[1][1],o[1][3],o[1][4])},t.prototype.innerBoundaryIsParser=function(e,t){var o=Object(i.v)(void 0,this.RING_PARSERS,e,t,this);o&&t[t.length-1].push(o)},t.prototype.outerBoundaryIsParser=function(e,t){var o=Object(i.v)(void 0,this.RING_PARSERS,e,t,this);o&&(t[t.length-1][0]=o)},t.prototype.GEOMETRY_NODE_FACTORY_=function(e,t,o){var n,r=t[t.length-1],a=r.multiSurface,s=r.surface,l=r.multiCurve;return Array.isArray(e)?n="Envelope":"MultiPolygon"===(n=e.getType())&&!0===a?n="MultiSurface":"Polygon"===n&&!0===s?n="Surface":"MultiLineString"===n&&!0===l&&(n="MultiCurve"),Object(i.c)("http://www.opengis.net/gml",n)},t.prototype.writeFeatureElement=function(e,t,o){var n=t.getId();n&&e.setAttribute("fid",n);var r=o[o.length-1],s=r.featureNS,l=t.getGeometryName();r.serializers||(r.serializers={},r.serializers[s]={});var c=[],d=[];if(t.hasProperties()){var h=t.getProperties();for(var p in h){var f=h[p];null!==f&&(c.push(p),d.push(f),p==l||"function"==typeof f.getSimplifiedGeometry?p in r.serializers[s]||(r.serializers[s][p]=Object(i.m)(this.writeGeometryElement,this)):p in r.serializers[s]||(r.serializers[s][p]=Object(i.m)(u.n)))}}var g=Object(a.a)({},r);g.node=e,Object(i.w)(g,r.serializers,Object(i.r)(void 0,s),d,o,c)},t.prototype.writeCurveOrLineString=function(e,t,o){var n=o[o.length-1].srsName;if("LineStringSegment"!==e.nodeName&&n&&e.setAttribute("srsName",n),"LineString"===e.nodeName||"LineStringSegment"===e.nodeName){var r=this.createCoordinatesNode_(e.namespaceURI);e.appendChild(r),this.writeCoordinates_(r,t,o)}else if("Curve"===e.nodeName){var a=Object(i.c)(e.namespaceURI,"segments");e.appendChild(a),this.writeCurveSegments_(a,t,o)}},t.prototype.writeLineStringOrCurveMember=function(e,t,o){var n=this.GEOMETRY_NODE_FACTORY_(t,o);n&&(e.appendChild(n),this.writeCurveOrLineString(n,t,o))},t.prototype.writeMultiCurveOrLineString=function(e,t,o){var n=o[o.length-1],r=n.hasZ,a=n.srsName,s=n.curve;a&&e.setAttribute("srsName",a);var l=t.getLineStrings();Object(i.w)({node:e,hasZ:r,srsName:a,curve:s},this.LINESTRINGORCURVEMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,l,o,void 0,this)},t.prototype.writeGeometryElement=function(e,t,o){var n,r=o[o.length-1],s=Object(a.a)({},r);s.node=e,n=Array.isArray(t)?Object(c.b)(t,r):Object(c.c)(t,!0,r),Object(i.w)(s,this.GEOMETRY_SERIALIZERS,this.GEOMETRY_NODE_FACTORY_,[n],o,void 0,this)},t.prototype.createCoordinatesNode_=function(e){var t=Object(i.c)(e,"coordinates");return t.setAttribute("decimal","."),t.setAttribute("cs",","),t.setAttribute("ts"," "),t},t.prototype.writeCoordinates_=function(e,t,o){for(var n=o[o.length-1],r=n.hasZ,i=n.srsName,a=t.getCoordinates(),s=a.length,l=new Array(s),c=0;c<s;++c){var d=a[c];l[c]=this.getCoords_(d,i,r)}Object(u.n)(e,l.join(" "))},t.prototype.writeCurveSegments_=function(e,t,o){var n=Object(i.c)(e.namespaceURI,"LineStringSegment");e.appendChild(n),this.writeCurveOrLineString(n,t,o)},t.prototype.writeSurfaceOrPolygon=function(e,t,o){var n=o[o.length-1],r=n.hasZ,a=n.srsName;if("PolygonPatch"!==e.nodeName&&a&&e.setAttribute("srsName",a),"Polygon"===e.nodeName||"PolygonPatch"===e.nodeName){var s=t.getLinearRings();Object(i.w)({node:e,hasZ:r,srsName:a},this.RING_SERIALIZERS,this.RING_NODE_FACTORY_,s,o,void 0,this)}else if("Surface"===e.nodeName){var l=Object(i.c)(e.namespaceURI,"patches");e.appendChild(l),this.writeSurfacePatches_(l,t,o)}},t.prototype.RING_NODE_FACTORY_=function(e,t,o){var n=t[t.length-1],r=n.node,a=n.exteriorWritten;return void 0===a&&(n.exteriorWritten=!0),Object(i.c)(r.namespaceURI,void 0!==a?"innerBoundaryIs":"outerBoundaryIs")},t.prototype.writeSurfacePatches_=function(e,t,o){var n=Object(i.c)(e.namespaceURI,"PolygonPatch");e.appendChild(n),this.writeSurfaceOrPolygon(n,t,o)},t.prototype.writeRing=function(e,t,o){var n=Object(i.c)(e.namespaceURI,"LinearRing");e.appendChild(n),this.writeLinearRing(n,t,o)},t.prototype.getCoords_=function(e,t,o){var n="enu";t&&(n=Object(l.t)(t).getAxisOrientation());var r="en"===n.substr(0,2)?e[0]+","+e[1]:e[1]+","+e[0];o&&(r+=","+(e[2]||0));return r},t.prototype.writePoint=function(e,t,o){var n=o[o.length-1],r=n.hasZ,i=n.srsName;i&&e.setAttribute("srsName",i);var a=this.createCoordinatesNode_(e.namespaceURI);e.appendChild(a);var s=t.getCoordinates(),l=this.getCoords_(s,i,r);Object(u.n)(a,l)},t.prototype.writeMultiPoint=function(e,t,o){var n=o[o.length-1],r=n.hasZ,a=n.srsName;a&&e.setAttribute("srsName",a);var s=t.getPoints();Object(i.w)({node:e,hasZ:r,srsName:a},this.POINTMEMBER_SERIALIZERS,Object(i.r)("pointMember"),s,o,void 0,this)},t.prototype.writePointMember=function(e,t,o){var n=Object(i.c)(e.namespaceURI,"Point");e.appendChild(n),this.writePoint(n,t,o)},t.prototype.writeLinearRing=function(e,t,o){var n=o[o.length-1].srsName;n&&e.setAttribute("srsName",n);var r=this.createCoordinatesNode_(e.namespaceURI);e.appendChild(r),this.writeCoordinates_(r,t,o)},t.prototype.writeMultiSurfaceOrPolygon=function(e,t,o){var n=o[o.length-1],r=n.hasZ,a=n.srsName,s=n.surface;a&&e.setAttribute("srsName",a);var l=t.getPolygons();Object(i.w)({node:e,hasZ:r,srsName:a,surface:s},this.SURFACEORPOLYGONMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,l,o,void 0,this)},t.prototype.writeSurfaceOrPolygonMember=function(e,t,o){var n=this.GEOMETRY_NODE_FACTORY_(t,o);n&&(e.appendChild(n),this.writeSurfaceOrPolygon(n,t,o))},t.prototype.writeEnvelope=function(e,t,o){var n=o[o.length-1].srsName;n&&e.setAttribute("srsName",n);var r=[t[0]+" "+t[1],t[2]+" "+t[3]];Object(i.w)({node:e},this.ENVELOPE_SERIALIZERS,i.a,r,o,["lowerCorner","upperCorner"],this)},t.prototype.MULTIGEOMETRY_MEMBER_NODE_FACTORY_=function(e,t,o){var n=t[t.length-1].node;return Object(i.c)("http://www.opengis.net/gml",p[n.nodeName])},t}(r.b);f.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{coordinates:Object(i.p)(f.prototype.readFlatCoordinates)}},f.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{innerBoundaryIs:f.prototype.innerBoundaryIsParser,outerBoundaryIs:f.prototype.outerBoundaryIsParser}},f.prototype.BOX_PARSERS_={"http://www.opengis.net/gml":{coordinates:Object(i.k)(f.prototype.readFlatCoordinates)}},f.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:Object(i.p)(r.b.prototype.readPoint),MultiPoint:Object(i.p)(r.b.prototype.readMultiPoint),LineString:Object(i.p)(r.b.prototype.readLineString),MultiLineString:Object(i.p)(r.b.prototype.readMultiLineString),LinearRing:Object(i.p)(r.b.prototype.readLinearRing),Polygon:Object(i.p)(r.b.prototype.readPolygon),MultiPolygon:Object(i.p)(r.b.prototype.readMultiPolygon),Box:Object(i.p)(f.prototype.readBox)}},f.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml":{Curve:Object(i.m)(f.prototype.writeCurveOrLineString),MultiCurve:Object(i.m)(f.prototype.writeMultiCurveOrLineString),Point:Object(i.m)(f.prototype.writePoint),MultiPoint:Object(i.m)(f.prototype.writeMultiPoint),LineString:Object(i.m)(f.prototype.writeCurveOrLineString),MultiLineString:Object(i.m)(f.prototype.writeMultiCurveOrLineString),LinearRing:Object(i.m)(f.prototype.writeLinearRing),Polygon:Object(i.m)(f.prototype.writeSurfaceOrPolygon),MultiPolygon:Object(i.m)(f.prototype.writeMultiSurfaceOrPolygon),Surface:Object(i.m)(f.prototype.writeSurfaceOrPolygon),MultiSurface:Object(i.m)(f.prototype.writeMultiSurfaceOrPolygon),Envelope:Object(i.m)(f.prototype.writeEnvelope)}},f.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{lineStringMember:Object(i.m)(f.prototype.writeLineStringOrCurveMember),curveMember:Object(i.m)(f.prototype.writeLineStringOrCurveMember)}},f.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml":{outerBoundaryIs:Object(i.m)(f.prototype.writeRing),innerBoundaryIs:Object(i.m)(f.prototype.writeRing)}},f.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{pointMember:Object(i.m)(f.prototype.writePointMember)}},f.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{surfaceMember:Object(i.m)(f.prototype.writeSurfaceOrPolygonMember),polygonMember:Object(i.m)(f.prototype.writeSurfaceOrPolygonMember)}},f.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml":{lowerCorner:Object(i.m)(u.n),upperCorner:Object(i.m)(u.n)}},t.a=f},"./node_modules/ol/format/GML3.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/format/GML2.js"),i=o("./node_modules/ol/format/GMLBase.js"),a=o("./node_modules/ol/geom/GeometryLayout.js"),s=o("./node_modules/ol/geom/LineString.js"),l=o("./node_modules/ol/geom/MultiLineString.js"),c=o("./node_modules/ol/geom/MultiPolygon.js"),u=o("./node_modules/ol/geom/Polygon.js"),d=o("./node_modules/ol/xml.js"),h=o("./node_modules/ol/obj.js"),p=o("./node_modules/ol/extent.js"),f=o("./node_modules/ol/array.js"),g=o("./node_modules/ol/proj.js"),m=o("./node_modules/ol/format/xsd.js"),y=o("./node_modules/ol/format/Feature.js"),v=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),_=i.a+" http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd",b={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"},A=function(e){function t(t){var o=this,n=t||{};return(o=e.call(this,n)||this).surface_=void 0!==n.surface&&n.surface,o.curve_=void 0!==n.curve&&n.curve,o.multiCurve_=void 0===n.multiCurve||n.multiCurve,o.multiSurface_=void 0===n.multiSurface||n.multiSurface,o.schemaLocation=n.schemaLocation?n.schemaLocation:_,o.hasZ=void 0!==n.hasZ&&n.hasZ,o}return v(t,e),t.prototype.readMultiCurve=function(e,t){var o=Object(d.v)([],this.MULTICURVE_PARSERS,e,t,this);return o?new l.a(o):void 0},t.prototype.readMultiSurface=function(e,t){var o=Object(d.v)([],this.MULTISURFACE_PARSERS,e,t,this);if(o)return new c.a(o)},t.prototype.curveMemberParser=function(e,t){Object(d.u)(this.CURVEMEMBER_PARSERS,e,t,this)},t.prototype.surfaceMemberParser=function(e,t){Object(d.u)(this.SURFACEMEMBER_PARSERS,e,t,this)},t.prototype.readPatch=function(e,t){return Object(d.v)([null],this.PATCHES_PARSERS,e,t,this)},t.prototype.readSegment=function(e,t){return Object(d.v)([null],this.SEGMENTS_PARSERS,e,t,this)},t.prototype.readPolygonPatch=function(e,t){return Object(d.v)([null],this.FLAT_LINEAR_RINGS_PARSERS,e,t,this)},t.prototype.readLineStringSegment=function(e,t){return Object(d.v)([null],this.GEOMETRY_FLAT_COORDINATES_PARSERS,e,t,this)},t.prototype.interiorParser=function(e,t){var o=Object(d.v)(void 0,this.RING_PARSERS,e,t,this);o&&t[t.length-1].push(o)},t.prototype.exteriorParser=function(e,t){var o=Object(d.v)(void 0,this.RING_PARSERS,e,t,this);o&&(t[t.length-1][0]=o)},t.prototype.readSurface=function(e,t){var o=Object(d.v)([null],this.SURFACE_PARSERS,e,t,this);if(o&&o[0]){var n,r=o[0],i=[r.length],s=void 0;for(s=1,n=o.length;s<n;++s)Object(f.c)(r,o[s]),i.push(r.length);return new u.b(r,a.a.XYZ,i)}},t.prototype.readCurve=function(e,t){var o=Object(d.v)([null],this.CURVE_PARSERS,e,t,this);return o?new s.a(o,a.a.XYZ):void 0},t.prototype.readEnvelope=function(e,t){var o=Object(d.v)([null],this.ENVELOPE_PARSERS,e,t,this);return Object(p.l)(o[1][0],o[1][1],o[2][0],o[2][1])},t.prototype.readFlatPos=function(e,t){for(var o,n=Object(d.d)(e,!1),r=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/,i=[];o=r.exec(n);)i.push(parseFloat(o[1])),n=n.substr(o[0].length);if(""===n){var a=t[0].srsName,s="enu";if(a)s=Object(g.t)(a).getAxisOrientation();if("neu"===s){var l,c=void 0;for(c=0,l=i.length;c<l;c+=3){var u=i[c],h=i[c+1];i[c]=h,i[c+1]=u}}var p=i.length;if(2==p&&i.push(0),0!==p)return i}},t.prototype.readFlatPosList=function(e,t){var o=Object(d.d)(e,!1).replace(/^\s*|\s*$/g,""),n=t[0],r=n.srsName,i=n.srsDimension,a="enu";r&&(a=Object(g.t)(r).getAxisOrientation());var s,l,c,u=o.split(/\s+/),h=2;e.getAttribute("srsDimension")?h=Object(m.f)(e.getAttribute("srsDimension")):e.getAttribute("dimension")?h=Object(m.f)(e.getAttribute("dimension")):e.parentNode.getAttribute("srsDimension")?h=Object(m.f)(e.parentNode.getAttribute("srsDimension")):i&&(h=Object(m.f)(i));for(var p=[],f=0,y=u.length;f<y;f+=h)s=parseFloat(u[f]),l=parseFloat(u[f+1]),c=3===h?parseFloat(u[f+2]):0,"en"===a.substr(0,2)?p.push(s,l,c):p.push(l,s,c);return p},t.prototype.writePos_=function(e,t,o){var n=o[o.length-1],r=n.hasZ,i=r?"3":"2";e.setAttribute("srsDimension",i);var a=n.srsName,s="enu";a&&(s=Object(g.t)(a).getAxisOrientation());var l,c=t.getCoordinates();(l="en"===s.substr(0,2)?c[0]+" "+c[1]:c[1]+" "+c[0],r)&&(l+=" "+(c[2]||0));Object(m.n)(e,l)},t.prototype.getCoords_=function(e,t,o){var n="enu";t&&(n=Object(g.t)(t).getAxisOrientation());var r="en"===n.substr(0,2)?e[0]+" "+e[1]:e[1]+" "+e[0];o&&(r+=" "+(e[2]||0));return r},t.prototype.writePosList_=function(e,t,o){var n=o[o.length-1],r=n.hasZ,i=r?"3":"2";e.setAttribute("srsDimension",i);for(var a,s=n.srsName,l=t.getCoordinates(),c=l.length,u=new Array(c),d=0;d<c;++d)a=l[d],u[d]=this.getCoords_(a,s,r);Object(m.n)(e,u.join(" "))},t.prototype.writePoint=function(e,t,o){var n=o[o.length-1].srsName;n&&e.setAttribute("srsName",n);var r=Object(d.c)(e.namespaceURI,"pos");e.appendChild(r),this.writePos_(r,t,o)},t.prototype.writeEnvelope=function(e,t,o){var n=o[o.length-1].srsName;n&&e.setAttribute("srsName",n);var r=[t[0]+" "+t[1],t[2]+" "+t[3]];Object(d.w)({node:e},this.ENVELOPE_SERIALIZERS,d.a,r,o,["lowerCorner","upperCorner"],this)},t.prototype.writeLinearRing=function(e,t,o){var n=o[o.length-1].srsName;n&&e.setAttribute("srsName",n);var r=Object(d.c)(e.namespaceURI,"posList");e.appendChild(r),this.writePosList_(r,t,o)},t.prototype.RING_NODE_FACTORY_=function(e,t,o){var n=t[t.length-1],r=n.node,i=n.exteriorWritten;return void 0===i&&(n.exteriorWritten=!0),Object(d.c)(r.namespaceURI,void 0!==i?"interior":"exterior")},t.prototype.writeSurfaceOrPolygon=function(e,t,o){var n=o[o.length-1],r=n.hasZ,i=n.srsName;if("PolygonPatch"!==e.nodeName&&i&&e.setAttribute("srsName",i),"Polygon"===e.nodeName||"PolygonPatch"===e.nodeName){var a=t.getLinearRings();Object(d.w)({node:e,hasZ:r,srsName:i},this.RING_SERIALIZERS,this.RING_NODE_FACTORY_,a,o,void 0,this)}else if("Surface"===e.nodeName){var s=Object(d.c)(e.namespaceURI,"patches");e.appendChild(s),this.writeSurfacePatches_(s,t,o)}},t.prototype.writeCurveOrLineString=function(e,t,o){var n=o[o.length-1].srsName;if("LineStringSegment"!==e.nodeName&&n&&e.setAttribute("srsName",n),"LineString"===e.nodeName||"LineStringSegment"===e.nodeName){var r=Object(d.c)(e.namespaceURI,"posList");e.appendChild(r),this.writePosList_(r,t,o)}else if("Curve"===e.nodeName){var i=Object(d.c)(e.namespaceURI,"segments");e.appendChild(i),this.writeCurveSegments_(i,t,o)}},t.prototype.writeMultiSurfaceOrPolygon=function(e,t,o){var n=o[o.length-1],r=n.hasZ,i=n.srsName,a=n.surface;i&&e.setAttribute("srsName",i);var s=t.getPolygons();Object(d.w)({node:e,hasZ:r,srsName:i,surface:a},this.SURFACEORPOLYGONMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,s,o,void 0,this)},t.prototype.writeMultiPoint=function(e,t,o){var n=o[o.length-1],r=n.srsName,i=n.hasZ;r&&e.setAttribute("srsName",r);var a=t.getPoints();Object(d.w)({node:e,hasZ:i,srsName:r},this.POINTMEMBER_SERIALIZERS,Object(d.r)("pointMember"),a,o,void 0,this)},t.prototype.writeMultiCurveOrLineString=function(e,t,o){var n=o[o.length-1],r=n.hasZ,i=n.srsName,a=n.curve;i&&e.setAttribute("srsName",i);var s=t.getLineStrings();Object(d.w)({node:e,hasZ:r,srsName:i,curve:a},this.LINESTRINGORCURVEMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,s,o,void 0,this)},t.prototype.writeRing=function(e,t,o){var n=Object(d.c)(e.namespaceURI,"LinearRing");e.appendChild(n),this.writeLinearRing(n,t,o)},t.prototype.writeSurfaceOrPolygonMember=function(e,t,o){var n=this.GEOMETRY_NODE_FACTORY_(t,o);n&&(e.appendChild(n),this.writeSurfaceOrPolygon(n,t,o))},t.prototype.writePointMember=function(e,t,o){var n=Object(d.c)(e.namespaceURI,"Point");e.appendChild(n),this.writePoint(n,t,o)},t.prototype.writeLineStringOrCurveMember=function(e,t,o){var n=this.GEOMETRY_NODE_FACTORY_(t,o);n&&(e.appendChild(n),this.writeCurveOrLineString(n,t,o))},t.prototype.writeSurfacePatches_=function(e,t,o){var n=Object(d.c)(e.namespaceURI,"PolygonPatch");e.appendChild(n),this.writeSurfaceOrPolygon(n,t,o)},t.prototype.writeCurveSegments_=function(e,t,o){var n=Object(d.c)(e.namespaceURI,"LineStringSegment");e.appendChild(n),this.writeCurveOrLineString(n,t,o)},t.prototype.writeGeometryElement=function(e,t,o){var n,r=o[o.length-1],i=Object(h.a)({},r);i.node=e,n=Array.isArray(t)?Object(y.b)(t,r):Object(y.c)(t,!0,r),Object(d.w)(i,this.GEOMETRY_SERIALIZERS,this.GEOMETRY_NODE_FACTORY_,[n],o,void 0,this)},t.prototype.writeFeatureElement=function(e,t,o){var n=t.getId();n&&e.setAttribute("fid",n);var r=o[o.length-1],i=r.featureNS,a=t.getGeometryName();r.serializers||(r.serializers={},r.serializers[i]={});var s=[],l=[];if(t.hasProperties()){var c=t.getProperties();for(var u in c){var p=c[u];null!==p&&(s.push(u),l.push(p),u==a||"function"==typeof p.getSimplifiedGeometry?u in r.serializers[i]||(r.serializers[i][u]=Object(d.m)(this.writeGeometryElement,this)):u in r.serializers[i]||(r.serializers[i][u]=Object(d.m)(m.n)))}}var f=Object(h.a)({},r);f.node=e,Object(d.w)(f,r.serializers,Object(d.r)(void 0,i),l,o,s)},t.prototype.writeFeatureMembers_=function(e,t,o){var n=o[o.length-1],r=n.featureType,i=n.featureNS,a={};a[i]={},a[i][r]=Object(d.m)(this.writeFeatureElement,this);var s=Object(h.a)({},n);s.node=e,Object(d.w)(s,a,Object(d.r)(r,i),t,o)},t.prototype.MULTIGEOMETRY_MEMBER_NODE_FACTORY_=function(e,t,o){var n=t[t.length-1].node;return Object(d.c)(this.namespace,b[n.nodeName])},t.prototype.GEOMETRY_NODE_FACTORY_=function(e,t,o){var n,r=t[t.length-1],i=r.multiSurface,a=r.surface,s=r.curve,l=r.multiCurve;return Array.isArray(e)?n="Envelope":"MultiPolygon"===(n=e.getType())&&!0===i?n="MultiSurface":"Polygon"===n&&!0===a?n="Surface":"LineString"===n&&!0===s?n="Curve":"MultiLineString"===n&&!0===l&&(n="MultiCurve"),Object(d.c)(this.namespace,n)},t.prototype.writeGeometryNode=function(e,t){t=this.adaptOptions(t);var o=Object(d.c)(this.namespace,"geom"),n={node:o,hasZ:this.hasZ,srsName:this.srsName,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_};return t&&Object(h.a)(n,t),this.writeGeometryElement(o,e,[n]),o},t.prototype.writeFeaturesNode=function(e,t){t=this.adaptOptions(t);var o=Object(d.c)(this.namespace,"featureMembers");o.setAttributeNS(d.b,"xsi:schemaLocation",this.schemaLocation);var n={srsName:this.srsName,hasZ:this.hasZ,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_,featureNS:this.featureNS,featureType:this.featureType};return t&&Object(h.a)(n,t),this.writeFeatureMembers_(o,e,[n]),o},t}(i.b);A.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{pos:Object(d.p)(A.prototype.readFlatPos),posList:Object(d.p)(A.prototype.readFlatPosList),coordinates:Object(d.p)(r.a.prototype.readFlatCoordinates)}},A.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{interior:A.prototype.interiorParser,exterior:A.prototype.exteriorParser}},A.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:Object(d.p)(i.b.prototype.readPoint),MultiPoint:Object(d.p)(i.b.prototype.readMultiPoint),LineString:Object(d.p)(i.b.prototype.readLineString),MultiLineString:Object(d.p)(i.b.prototype.readMultiLineString),LinearRing:Object(d.p)(i.b.prototype.readLinearRing),Polygon:Object(d.p)(i.b.prototype.readPolygon),MultiPolygon:Object(d.p)(i.b.prototype.readMultiPolygon),Surface:Object(d.p)(A.prototype.readSurface),MultiSurface:Object(d.p)(A.prototype.readMultiSurface),Curve:Object(d.p)(A.prototype.readCurve),MultiCurve:Object(d.p)(A.prototype.readMultiCurve),Envelope:Object(d.p)(A.prototype.readEnvelope)}},A.prototype.MULTICURVE_PARSERS={"http://www.opengis.net/gml":{curveMember:Object(d.k)(A.prototype.curveMemberParser),curveMembers:Object(d.k)(A.prototype.curveMemberParser)}},A.prototype.MULTISURFACE_PARSERS={"http://www.opengis.net/gml":{surfaceMember:Object(d.k)(A.prototype.surfaceMemberParser),surfaceMembers:Object(d.k)(A.prototype.surfaceMemberParser)}},A.prototype.CURVEMEMBER_PARSERS={"http://www.opengis.net/gml":{LineString:Object(d.k)(i.b.prototype.readLineString),Curve:Object(d.k)(A.prototype.readCurve)}},A.prototype.SURFACEMEMBER_PARSERS={"http://www.opengis.net/gml":{Polygon:Object(d.k)(i.b.prototype.readPolygon),Surface:Object(d.k)(A.prototype.readSurface)}},A.prototype.SURFACE_PARSERS={"http://www.opengis.net/gml":{patches:Object(d.p)(A.prototype.readPatch)}},A.prototype.CURVE_PARSERS={"http://www.opengis.net/gml":{segments:Object(d.p)(A.prototype.readSegment)}},A.prototype.ENVELOPE_PARSERS={"http://www.opengis.net/gml":{lowerCorner:Object(d.k)(A.prototype.readFlatPosList),upperCorner:Object(d.k)(A.prototype.readFlatPosList)}},A.prototype.PATCHES_PARSERS={"http://www.opengis.net/gml":{PolygonPatch:Object(d.p)(A.prototype.readPolygonPatch)}},A.prototype.SEGMENTS_PARSERS={"http://www.opengis.net/gml":{LineStringSegment:Object(d.p)(A.prototype.readLineStringSegment)}},A.prototype.writeFeatures,A.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml":{exterior:Object(d.m)(A.prototype.writeRing),interior:Object(d.m)(A.prototype.writeRing)}},A.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml":{lowerCorner:Object(d.m)(m.n),upperCorner:Object(d.m)(m.n)}},A.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{surfaceMember:Object(d.m)(A.prototype.writeSurfaceOrPolygonMember),polygonMember:Object(d.m)(A.prototype.writeSurfaceOrPolygonMember)}},A.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{pointMember:Object(d.m)(A.prototype.writePointMember)}},A.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{lineStringMember:Object(d.m)(A.prototype.writeLineStringOrCurveMember),curveMember:Object(d.m)(A.prototype.writeLineStringOrCurveMember)}},A.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml":{Curve:Object(d.m)(A.prototype.writeCurveOrLineString),MultiCurve:Object(d.m)(A.prototype.writeMultiCurveOrLineString),Point:Object(d.m)(A.prototype.writePoint),MultiPoint:Object(d.m)(A.prototype.writeMultiPoint),LineString:Object(d.m)(A.prototype.writeCurveOrLineString),MultiLineString:Object(d.m)(A.prototype.writeMultiCurveOrLineString),LinearRing:Object(d.m)(A.prototype.writeLinearRing),Polygon:Object(d.m)(A.prototype.writeSurfaceOrPolygon),MultiPolygon:Object(d.m)(A.prototype.writeMultiSurfaceOrPolygon),Surface:Object(d.m)(A.prototype.writeSurfaceOrPolygon),MultiSurface:Object(d.m)(A.prototype.writeMultiSurfaceOrPolygon),Envelope:Object(d.m)(A.prototype.writeEnvelope)}},t.a=A},"./node_modules/ol/format/GMLBase.js":function(e,t,o){"use strict";o.d(t,"a",(function(){return b}));var n,r=o("./node_modules/ol/Feature.js"),i=o("./node_modules/ol/geom/GeometryLayout.js"),a=o("./node_modules/ol/geom/LineString.js"),s=o("./node_modules/ol/geom/LinearRing.js"),l=o("./node_modules/ol/geom/MultiLineString.js"),c=o("./node_modules/ol/geom/MultiPoint.js"),u=o("./node_modules/ol/geom/MultiPolygon.js"),d=o("./node_modules/ol/geom/Point.js"),h=o("./node_modules/ol/geom/Polygon.js"),p=o("./node_modules/ol/format/XMLFeature.js"),f=o("./node_modules/ol/obj.js"),g=o("./node_modules/ol/array.js"),m=o("./node_modules/ol/xml.js"),y=o("./node_modules/ol/proj.js"),v=o("./node_modules/ol/format/Feature.js"),_=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),b="http://www.opengis.net/gml",A=/^[\s\xa0]*$/,C=function(e){function t(t){var o=e.call(this)||this,n=t||{};return o.featureType=n.featureType,o.featureNS=n.featureNS,o.srsName=n.srsName,o.schemaLocation="",o.FEATURE_COLLECTION_PARSERS={},o.FEATURE_COLLECTION_PARSERS[o.namespace]={featureMember:Object(m.k)(o.readFeaturesInternal),featureMembers:Object(m.p)(o.readFeaturesInternal)},o.supportedMediaTypes=["application/gml+xml"],o}return _(t,e),t.prototype.readFeaturesInternal=function(e,t){var o=e.localName,n=null;if("FeatureCollection"==o)n=Object(m.v)([],this.FEATURE_COLLECTION_PARSERS,e,t,this);else if("featureMembers"==o||"featureMember"==o||"member"==o){var r=t[0],i=r.featureType,a=r.featureNS;if(!i&&e.childNodes){i=[],a={};for(var s=0,l=e.childNodes.length;s<l;++s){var c=e.childNodes[s];if(1===c.nodeType){var u=c.nodeName.split(":").pop();if(-1===i.indexOf(u)){var d="",h=0,p=c.namespaceURI;for(var f in a){if(a[f]===p){d=f;break}++h}d||(a[d="p"+h]=p),i.push(d+":"+u)}}}"featureMember"!=o&&(r.featureType=i,r.featureNS=a)}if("string"==typeof a){var g=a;(a={}).p0=g}var y={},v=Array.isArray(i)?i:[i];for(var _ in a){var b={};for(s=0,l=v.length;s<l;++s){(-1===v[s].indexOf(":")?"p0":v[s].split(":")[0])===_&&(b[v[s].split(":").pop()]="featureMembers"==o?Object(m.k)(this.readFeatureElement,this):Object(m.p)(this.readFeatureElement,this))}y[a[_]]=b}n="featureMember"==o||"member"==o?Object(m.v)(void 0,y,e,t):Object(m.v)([],y,e,t)}return null===n&&(n=[]),n},t.prototype.readGeometryElement=function(e,t){var o=t[0];o.srsName=e.firstElementChild.getAttribute("srsName"),o.srsDimension=e.firstElementChild.getAttribute("srsDimension");var n=Object(m.v)(null,this.GEOMETRY_PARSERS,e,t,this);return n?Array.isArray(n)?Object(v.b)(n,o):Object(v.c)(n,!1,o):void 0},t.prototype.readFeatureElementInternal=function(e,t,o){for(var n,i={},a=e.firstElementChild;a;a=a.nextElementSibling){var s=void 0,l=a.localName;0===a.childNodes.length||1===a.childNodes.length&&(3===a.firstChild.nodeType||4===a.firstChild.nodeType)?(s=Object(m.d)(a,!1),A.test(s)&&(s=void 0)):(o&&(s=this.readGeometryElement(a,t)),s?"boundedBy"!==l&&(n=l):s=this.readFeatureElementInternal(a,t,!1)),i[l]?(i[l]instanceof Array||(i[l]=[i[l]]),i[l].push(s)):i[l]=s;var c=a.attributes.length;if(c>0){i[l]={_content_:i[l]};for(var u=0;u<c;u++){var d=a.attributes[u].name;i[l][d]=a.attributes[u].value}}}if(o){var h=new r.b(i);n&&h.setGeometryName(n);var p=e.getAttribute("fid")||Object(m.f)(e,this.namespace,"id");return p&&h.setId(p),h}return i},t.prototype.readFeatureElement=function(e,t){return this.readFeatureElementInternal(e,t,!0)},t.prototype.readPoint=function(e,t){var o=this.readFlatCoordinatesFromNode(e,t);if(o)return new d.a(o,i.a.XYZ)},t.prototype.readMultiPoint=function(e,t){var o=Object(m.v)([],this.MULTIPOINT_PARSERS,e,t,this);return o?new c.a(o):void 0},t.prototype.readMultiLineString=function(e,t){var o=Object(m.v)([],this.MULTILINESTRING_PARSERS,e,t,this);if(o)return new l.a(o)},t.prototype.readMultiPolygon=function(e,t){var o=Object(m.v)([],this.MULTIPOLYGON_PARSERS,e,t,this);if(o)return new u.a(o)},t.prototype.pointMemberParser=function(e,t){Object(m.u)(this.POINTMEMBER_PARSERS,e,t,this)},t.prototype.lineStringMemberParser=function(e,t){Object(m.u)(this.LINESTRINGMEMBER_PARSERS,e,t,this)},t.prototype.polygonMemberParser=function(e,t){Object(m.u)(this.POLYGONMEMBER_PARSERS,e,t,this)},t.prototype.readLineString=function(e,t){var o=this.readFlatCoordinatesFromNode(e,t);return o?new a.a(o,i.a.XYZ):void 0},t.prototype.readFlatLinearRing=function(e,t){var o=Object(m.v)(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,e,t,this);return o||void 0},t.prototype.readLinearRing=function(e,t){var o=this.readFlatCoordinatesFromNode(e,t);if(o)return new s.a(o,i.a.XYZ)},t.prototype.readPolygon=function(e,t){var o=Object(m.v)([null],this.FLAT_LINEAR_RINGS_PARSERS,e,t,this);if(o&&o[0]){var n,r=o[0],a=[r.length],s=void 0;for(s=1,n=o.length;s<n;++s)Object(g.c)(r,o[s]),a.push(r.length);return new h.b(r,i.a.XYZ,a)}},t.prototype.readFlatCoordinatesFromNode=function(e,t){return Object(m.v)(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,e,t,this)},t.prototype.readGeometryFromNode=function(e,t){var o=this.readGeometryElement(e,[this.getReadOptions(e,t||{})]);return o||null},t.prototype.readFeaturesFromNode=function(e,t){var o={featureType:this.featureType,featureNS:this.featureNS};return t&&Object(f.a)(o,this.getReadOptions(e,t)),this.readFeaturesInternal(e,[o])||[]},t.prototype.readProjectionFromNode=function(e){return Object(y.t)(this.srsName?this.srsName:e.firstElementChild.getAttribute("srsName"))},t}(p.a);C.prototype.namespace=b,C.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{}},C.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{}},C.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{}},C.prototype.MULTIPOINT_PARSERS={"http://www.opengis.net/gml":{pointMember:Object(m.k)(C.prototype.pointMemberParser),pointMembers:Object(m.k)(C.prototype.pointMemberParser)}},C.prototype.MULTILINESTRING_PARSERS={"http://www.opengis.net/gml":{lineStringMember:Object(m.k)(C.prototype.lineStringMemberParser),lineStringMembers:Object(m.k)(C.prototype.lineStringMemberParser)}},C.prototype.MULTIPOLYGON_PARSERS={"http://www.opengis.net/gml":{polygonMember:Object(m.k)(C.prototype.polygonMemberParser),polygonMembers:Object(m.k)(C.prototype.polygonMemberParser)}},C.prototype.POINTMEMBER_PARSERS={"http://www.opengis.net/gml":{Point:Object(m.k)(C.prototype.readFlatCoordinatesFromNode)}},C.prototype.LINESTRINGMEMBER_PARSERS={"http://www.opengis.net/gml":{LineString:Object(m.k)(C.prototype.readLineString)}},C.prototype.POLYGONMEMBER_PARSERS={"http://www.opengis.net/gml":{Polygon:Object(m.k)(C.prototype.readPolygon)}},C.prototype.RING_PARSERS={"http://www.opengis.net/gml":{LinearRing:Object(m.p)(C.prototype.readFlatLinearRing)}},t.b=C},"./node_modules/ol/format/GPX.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/Feature.js"),i=o("./node_modules/ol/geom/GeometryLayout.js"),a=o("./node_modules/ol/geom/GeometryType.js"),s=o("./node_modules/ol/geom/LineString.js"),l=o("./node_modules/ol/geom/MultiLineString.js"),c=o("./node_modules/ol/geom/Point.js"),u=o("./node_modules/ol/format/XMLFeature.js"),d=o("./node_modules/ol/xml.js"),h=o("./node_modules/ol/proj.js"),p=o("./node_modules/ol/array.js"),f=o("./node_modules/ol/format/xsd.js"),g=o("./node_modules/ol/format/Feature.js"),m=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),y=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"],v={rte:Y,trk:H,wpt:X},_=Object(d.s)(y,{rte:Object(d.k)(Y),trk:Object(d.k)(H),wpt:Object(d.k)(X)}),b=Object(d.s)(y,{text:Object(d.o)(f.h,"linkText"),type:Object(d.o)(f.h,"linkType")}),A=Object(d.s)(y,{rte:Object(d.m)((function(e,t,o){var n=o[0],r=t.getProperties(),i={node:e};i.properties=r;var s=t.getGeometry();if(s.getType()==a.a.LINE_STRING){var l=Object(g.c)(s,!0,n);i.geometryLayout=l.getLayout(),r.rtept=l.getCoordinates()}var c=o[o.length-1].node,u=T[c.namespaceURI],h=Object(d.q)(r,u);Object(d.w)(i,M,d.a,h,o,u)})),trk:Object(d.m)((function(e,t,o){var n=o[0],r=t.getProperties(),i={node:e};i.properties=r;var s=t.getGeometry();if(s.getType()==a.a.MULTI_LINE_STRING){var l=Object(g.c)(s,!0,n);r.trkseg=l.getLineStrings()}var c=o[o.length-1].node,u=L[c.namespaceURI],h=Object(d.q)(r,u);Object(d.w)(i,k,d.a,h,o,u)})),wpt:Object(d.m)((function(e,t,o){var n=o[0],r=o[o.length-1];r.properties=t.getProperties();var i=t.getGeometry();if(i.getType()==a.a.POINT){var s=Object(g.c)(i,!0,n);r.geometryLayout=s.getLayout(),K(e,s.getCoordinates(),o)}}))}),C=function(e){function t(t){var o=e.call(this)||this,n=t||{};return o.dataProjection=Object(h.t)("EPSG:4326"),o.readExtensions_=n.readExtensions,o}return m(t,e),t.prototype.handleReadExtensions_=function(e){e||(e=[]);for(var t=0,o=e.length;t<o;++t){var n=e[t];if(this.readExtensions_){var r=n.get("extensionsNode_")||null;this.readExtensions_(n,r)}n.set("extensionsNode_",void 0)}},t.prototype.readFeatureFromNode=function(e,t){if(!Object(p.f)(y,e.namespaceURI))return null;var o=v[e.localName];if(!o)return null;var n=o(e,[this.getReadOptions(e,t)]);return n?(this.handleReadExtensions_([n]),n):null},t.prototype.readFeaturesFromNode=function(e,t){if(!Object(p.f)(y,e.namespaceURI))return[];if("gpx"==e.localName){var o=Object(d.v)([],_,e,[this.getReadOptions(e,t)]);return o?(this.handleReadExtensions_(o),o):[]}return[]},t.prototype.writeFeaturesNode=function(e,t){t=this.adaptOptions(t);var o=Object(d.c)("http://www.topografix.com/GPX/1/1","gpx");return o.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xsi",d.b),o.setAttributeNS(d.b,"xsi:schemaLocation","http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd"),o.setAttribute("version","1.1"),o.setAttribute("creator","OpenLayers"),Object(d.w)({node:o},A,B,e,[t]),o},t}(u.a),w=Object(d.s)(y,{name:Object(d.o)(f.h),cmt:Object(d.o)(f.h),desc:Object(d.o)(f.h),src:Object(d.o)(f.h),link:W,number:Object(d.o)(f.g),extensions:q,type:Object(d.o)(f.h),rtept:function(e,t){var o=Object(d.v)({},E,e,t);if(o){var n=t[t.length-1],r=n.flatCoordinates,i=n.layoutOptions;z(r,i,e,o)}}}),E=Object(d.s)(y,{ele:Object(d.o)(f.d),time:Object(d.o)(f.c)}),I=Object(d.s)(y,{name:Object(d.o)(f.h),cmt:Object(d.o)(f.h),desc:Object(d.o)(f.h),src:Object(d.o)(f.h),link:W,number:Object(d.o)(f.g),type:Object(d.o)(f.h),extensions:q,trkseg:function(e,t){var o=t[t.length-1];Object(d.u)(O,e,t);var n=o.flatCoordinates;o.ends.push(n.length)}}),O=Object(d.s)(y,{trkpt:function(e,t){var o=Object(d.v)({},S,e,t);if(o){var n=t[t.length-1],r=n.flatCoordinates,i=n.layoutOptions;z(r,i,e,o)}}}),S=Object(d.s)(y,{ele:Object(d.o)(f.d),time:Object(d.o)(f.c)}),x=Object(d.s)(y,{ele:Object(d.o)(f.d),time:Object(d.o)(f.c),magvar:Object(d.o)(f.d),geoidheight:Object(d.o)(f.d),name:Object(d.o)(f.h),cmt:Object(d.o)(f.h),desc:Object(d.o)(f.h),src:Object(d.o)(f.h),link:W,sym:Object(d.o)(f.h),type:Object(d.o)(f.h),fix:Object(d.o)(f.h),sat:Object(d.o)(f.g),hdop:Object(d.o)(f.d),vdop:Object(d.o)(f.d),pdop:Object(d.o)(f.d),ageofdgpsdata:Object(d.o)(f.d),dgpsid:Object(d.o)(f.g),extensions:q}),j=["text","type"],P=Object(d.s)(y,{text:Object(d.m)(f.n),type:Object(d.m)(f.n)}),T=Object(d.s)(y,["name","cmt","desc","src","link","number","type","rtept"]),M=Object(d.s)(y,{name:Object(d.m)(f.n),cmt:Object(d.m)(f.n),desc:Object(d.m)(f.n),src:Object(d.m)(f.n),link:Object(d.m)(Z),number:Object(d.m)(f.m),type:Object(d.m)(f.n),rtept:Object(d.l)(Object(d.m)(K))}),R=Object(d.s)(y,["ele","time"]),L=Object(d.s)(y,["name","cmt","desc","src","link","number","type","trkseg"]),k=Object(d.s)(y,{name:Object(d.m)(f.n),cmt:Object(d.m)(f.n),desc:Object(d.m)(f.n),src:Object(d.m)(f.n),link:Object(d.m)(Z),number:Object(d.m)(f.m),type:Object(d.m)(f.n),trkseg:Object(d.l)(Object(d.m)((function(e,t,o){var n={node:e};n.geometryLayout=t.getLayout(),n.properties={},Object(d.w)(n,D,G,t.getCoordinates(),o)})))}),G=Object(d.r)("trkpt"),D=Object(d.s)(y,{trkpt:Object(d.m)(K)}),N=Object(d.s)(y,["ele","time","magvar","geoidheight","name","cmt","desc","src","link","sym","type","fix","sat","hdop","vdop","pdop","ageofdgpsdata","dgpsid"]),F=Object(d.s)(y,{ele:Object(d.m)(f.l),time:Object(d.m)(f.k),magvar:Object(d.m)(f.l),geoidheight:Object(d.m)(f.l),name:Object(d.m)(f.n),cmt:Object(d.m)(f.n),desc:Object(d.m)(f.n),src:Object(d.m)(f.n),link:Object(d.m)(Z),sym:Object(d.m)(f.n),type:Object(d.m)(f.n),fix:Object(d.m)(f.n),sat:Object(d.m)(f.m),hdop:Object(d.m)(f.l),vdop:Object(d.m)(f.l),pdop:Object(d.m)(f.l),ageofdgpsdata:Object(d.m)(f.l),dgpsid:Object(d.m)(f.m)}),U={Point:"wpt",LineString:"rte",MultiLineString:"trk"};function B(e,t,o){var n=e.getGeometry();if(n){var r=U[n.getType()];if(r){var i=t[t.length-1].node;return Object(d.c)(i.namespaceURI,r)}}}function z(e,t,o,n){return e.push(parseFloat(o.getAttribute("lon")),parseFloat(o.getAttribute("lat"))),"ele"in n?(e.push(n.ele),delete n.ele,t.hasZ=!0):e.push(0),"time"in n?(e.push(n.time),delete n.time,t.hasM=!0):e.push(0),e}function V(e,t,o){var n=i.a.XY,r=2;if(e.hasZ&&e.hasM?(n=i.a.XYZM,r=4):e.hasZ?(n=i.a.XYZ,r=3):e.hasM&&(n=i.a.XYM,r=3),4!==r){for(var a=0,s=t.length/4;a<s;a++)t[a*r]=t[4*a],t[a*r+1]=t[4*a+1],e.hasZ&&(t[a*r+2]=t[4*a+2]),e.hasM&&(t[a*r+2]=t[4*a+3]);if(t.length=t.length/4*r,o)for(a=0,s=o.length;a<s;a++)o[a]=o[a]/4*r}return n}function W(e,t){var o=t[t.length-1],n=e.getAttribute("href");null!==n&&(o.link=n),Object(d.u)(b,e,t)}function q(e,t){t[t.length-1].extensionsNode_=e}function Y(e,t){var o=t[0],n=Object(d.v)({flatCoordinates:[],layoutOptions:{}},w,e,t);if(n){var i=n.flatCoordinates;delete n.flatCoordinates;var a=n.layoutOptions;delete n.layoutOptions;var l=V(a,i),c=new s.a(i,l);Object(g.c)(c,!1,o);var u=new r.b(c);return u.setProperties(n,!0),u}}function H(e,t){var o=t[0],n=Object(d.v)({flatCoordinates:[],ends:[],layoutOptions:{}},I,e,t);if(n){var i=n.flatCoordinates;delete n.flatCoordinates;var a=n.ends;delete n.ends;var s=n.layoutOptions;delete n.layoutOptions;var c=V(s,i,a),u=new l.a(i,c,a);Object(g.c)(u,!1,o);var h=new r.b(u);return h.setProperties(n,!0),h}}function X(e,t){var o=t[0],n=Object(d.v)({},x,e,t);if(n){var i={},a=z([],i,e,n),s=V(i,a),l=new c.a(a,s);Object(g.c)(l,!1,o);var u=new r.b(l);return u.setProperties(n,!0),u}}function Z(e,t,o){e.setAttribute("href",t);var n=o[o.length-1].properties,r=[n.linkText,n.linkType];Object(d.w)({node:e},P,d.a,r,o,j)}function K(e,t,o){var n=o[o.length-1],r=n.node.namespaceURI,a=n.properties;switch(e.setAttributeNS(null,"lat",String(t[1])),e.setAttributeNS(null,"lon",String(t[0])),n.geometryLayout){case i.a.XYZM:0!==t[3]&&(a.time=t[3]);case i.a.XYZ:0!==t[2]&&(a.ele=t[2]);break;case i.a.XYM:0!==t[2]&&(a.time=t[2])}var s="rtept"==e.nodeName?R[r]:N[r],l=Object(d.q)(a,s);Object(d.w)({node:e,properties:a},F,d.a,l,o,s)}t.a=C},"./node_modules/ol/format/GeoJSON.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/Feature.js"),i=o("./node_modules/ol/geom/GeometryCollection.js"),a=o("./node_modules/ol/geom/GeometryType.js"),s=o("./node_modules/ol/format/JSONFeature.js"),l=o("./node_modules/ol/geom/LineString.js"),c=o("./node_modules/ol/geom/MultiLineString.js"),u=o("./node_modules/ol/geom/MultiPoint.js"),d=o("./node_modules/ol/geom/MultiPolygon.js"),h=o("./node_modules/ol/geom/Point.js"),p=o("./node_modules/ol/geom/Polygon.js"),f=o("./node_modules/ol/asserts.js"),g=o("./node_modules/ol/obj.js"),m=o("./node_modules/ol/proj.js"),y=o("./node_modules/ol/format/Feature.js"),v=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),_=function(e){function t(t){var o=this,n=t||{};return(o=e.call(this)||this).dataProjection=Object(m.t)(n.dataProjection?n.dataProjection:"EPSG:4326"),n.featureProjection&&(o.defaultFeatureProjection=Object(m.t)(n.featureProjection)),o.geometryName_=n.geometryName,o.extractGeometryName_=n.extractGeometryName,o.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"],o}return v(t,e),t.prototype.readFeatureFromObject=function(e,t){var o=null,n=b((o="Feature"===e.type?e:{type:"Feature",geometry:e,properties:null}).geometry,t),i=new r.b;return this.geometryName_?i.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in o!==void 0&&i.setGeometryName(o.geometry_name),i.setGeometry(n),"id"in o&&i.setId(o.id),o.properties&&i.setProperties(o.properties,!0),i},t.prototype.readFeaturesFromObject=function(e,t){var o=null;if("FeatureCollection"===e.type){o=[];for(var n=e.features,r=0,i=n.length;r<i;++r)o.push(this.readFeatureFromObject(n[r],t))}else o=[this.readFeatureFromObject(e,t)];return o},t.prototype.readGeometryFromObject=function(e,t){return b(e,t)},t.prototype.readProjectionFromObject=function(e){var t,o=e.crs;return o?"name"==o.type?t=Object(m.t)(o.properties.name):"EPSG"===o.type?t=Object(m.t)("EPSG:"+o.properties.code):Object(f.a)(!1,36):t=this.dataProjection,t},t.prototype.writeFeatureObject=function(e,t){t=this.adaptOptions(t);var o={type:"Feature",geometry:null,properties:null},n=e.getId();if(void 0!==n&&(o.id=n),!e.hasProperties())return o;var r=e.getProperties(),i=e.getGeometry();return i&&(o.geometry=A(i,t),delete r[e.getGeometryName()]),Object(g.d)(r)||(o.properties=r),o},t.prototype.writeFeaturesObject=function(e,t){t=this.adaptOptions(t);for(var o=[],n=0,r=e.length;n<r;++n)o.push(this.writeFeatureObject(e[n],t));return{type:"FeatureCollection",features:o}},t.prototype.writeGeometryObject=function(e,t){return A(e,this.adaptOptions(t))},t}(s.a);function b(e,t){if(!e)return null;var o;switch(e.type){case a.a.POINT:o=function(e){return new h.a(e.coordinates)}(e);break;case a.a.LINE_STRING:o=function(e){return new l.a(e.coordinates)}(e);break;case a.a.POLYGON:o=function(e){return new p.b(e.coordinates)}(e);break;case a.a.MULTI_POINT:o=function(e){return new u.a(e.coordinates)}(e);break;case a.a.MULTI_LINE_STRING:o=function(e){return new c.a(e.coordinates)}(e);break;case a.a.MULTI_POLYGON:o=function(e){return new d.a(e.coordinates)}(e);break;case a.a.GEOMETRY_COLLECTION:o=function(e,t){var o=e.geometries.map((function(e){return b(e,t)}));return new i.a(o)}(e);break;default:throw new Error("Unsupported GeoJSON type: "+e.type)}return Object(y.c)(o,!1,t)}function A(e,t){var o,n=(e=Object(y.c)(e,!0,t)).getType();switch(n){case a.a.POINT:o=function(e,t){return{type:"Point",coordinates:e.getCoordinates()}}(e);break;case a.a.LINE_STRING:o=function(e,t){return{type:"LineString",coordinates:e.getCoordinates()}}(e);break;case a.a.POLYGON:o=function(e,t){var o;t&&(o=t.rightHanded);return{type:"Polygon",coordinates:e.getCoordinates(o)}}(e,t);break;case a.a.MULTI_POINT:o=function(e,t){return{type:"MultiPoint",coordinates:e.getCoordinates()}}(e);break;case a.a.MULTI_LINE_STRING:o=function(e,t){return{type:"MultiLineString",coordinates:e.getCoordinates()}}(e);break;case a.a.MULTI_POLYGON:o=function(e,t){var o;t&&(o=t.rightHanded);return{type:"MultiPolygon",coordinates:e.getCoordinates(o)}}(e,t);break;case a.a.GEOMETRY_COLLECTION:o=function(e,t){return{type:"GeometryCollection",geometries:e.getGeometriesArray().map((function(e){var o=Object(g.a)({},t);return delete o.featureProjection,A(e,o)}))}}(e,t);break;case a.a.CIRCLE:o={type:"GeometryCollection",geometries:[]};break;default:throw new Error("Unsupported geometry type: "+n)}return o}t.a=_},"./node_modules/ol/format/JSONFeature.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/format/Feature.js"),i=o("./node_modules/ol/format/FormatType.js"),a=o("./node_modules/ol/util.js"),s=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=function(e){function t(){return e.call(this)||this}return s(t,e),t.prototype.getType=function(){return i.a.JSON},t.prototype.readFeature=function(e,t){return this.readFeatureFromObject(c(e),this.getReadOptions(e,t))},t.prototype.readFeatures=function(e,t){return this.readFeaturesFromObject(c(e),this.getReadOptions(e,t))},t.prototype.readFeatureFromObject=function(e,t){return Object(a.b)()},t.prototype.readFeaturesFromObject=function(e,t){return Object(a.b)()},t.prototype.readGeometry=function(e,t){return this.readGeometryFromObject(c(e),this.getReadOptions(e,t))},t.prototype.readGeometryFromObject=function(e,t){return Object(a.b)()},t.prototype.readProjection=function(e){return this.readProjectionFromObject(c(e))},t.prototype.readProjectionFromObject=function(e){return Object(a.b)()},t.prototype.writeFeature=function(e,t){return JSON.stringify(this.writeFeatureObject(e,t))},t.prototype.writeFeatureObject=function(e,t){return Object(a.b)()},t.prototype.writeFeatures=function(e,t){return JSON.stringify(this.writeFeaturesObject(e,t))},t.prototype.writeFeaturesObject=function(e,t){return Object(a.b)()},t.prototype.writeGeometry=function(e,t){return JSON.stringify(this.writeGeometryObject(e,t))},t.prototype.writeGeometryObject=function(e,t){return Object(a.b)()},t}(r.a);function c(e){if("string"==typeof e){var t=JSON.parse(e);return t||null}return null!==e?e:null}t.a=l},"./node_modules/ol/format/KML.js":function(e,t,o){"use strict";o.d(t,"b",(function(){return X})),o.d(t,"c",(function(){return J})),o.d(t,"d",(function(){return ee})),o.d(t,"g",(function(){return oe})),o.d(t,"e",(function(){return re})),o.d(t,"f",(function(){return se})),o.d(t,"h",(function(){return he}));var n,r,i,a,s,l,c,u=o("./node_modules/ol/Feature.js"),d=o("./node_modules/ol/style/Fill.js"),h=o("./node_modules/ol/geom/GeometryCollection.js"),p=o("./node_modules/ol/geom/GeometryLayout.js"),f=o("./node_modules/ol/geom/GeometryType.js"),g=o("./node_modules/ol/style/Icon.js"),m=o("./node_modules/ol/style/IconAnchorUnits.js"),y=o("./node_modules/ol/style/IconOrigin.js"),v=o("./node_modules/ol/ImageState.js"),_=o("./node_modules/ol/geom/LineString.js"),b=o("./node_modules/ol/geom/MultiLineString.js"),A=o("./node_modules/ol/geom/MultiPoint.js"),C=o("./node_modules/ol/geom/MultiPolygon.js"),w=o("./node_modules/ol/geom/Point.js"),E=o("./node_modules/ol/geom/Polygon.js"),I=o("./node_modules/ol/style/Stroke.js"),O=o("./node_modules/ol/style/Style.js"),S=o("./node_modules/ol/style/Text.js"),x=o("./node_modules/ol/format/XMLFeature.js"),j=o("./node_modules/ol/xml.js"),P=o("./node_modules/ol/color.js"),T=o("./node_modules/ol/asserts.js"),M=o("./node_modules/ol/array.js"),R=o("./node_modules/ol/proj.js"),L=o("./node_modules/ol/format/xsd.js"),k=o("./node_modules/ol/math.js"),G=o("./node_modules/ol/format/Feature.js"),D=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),N=["http://www.google.com/kml/ext/2.2"],F=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],U={fraction:m.a.FRACTION,pixels:m.a.PIXELS,insetPixels:m.a.PIXELS},B=Object(j.s)(F,{ExtendedData:Ve,Region:We,MultiGeometry:Object(j.o)(Le,"geometry"),LineString:Object(j.o)(Te,"geometry"),LinearRing:Object(j.o)(Me,"geometry"),Point:Object(j.o)(ke,"geometry"),Polygon:Object(j.o)(De,"geometry"),Style:Object(j.o)(Fe),StyleMap:function(e,t){var o=ye.call(this,e,t);if(!o)return;var n=t[t.length-1];Array.isArray(o)?n.Style=o:"string"==typeof o?n.styleUrl=o:Object(T.a)(!1,38)},address:Object(j.o)(L.h),description:Object(j.o)(L.h),name:Object(j.o)(L.h),open:Object(j.o)(L.a),phoneNumber:Object(j.o)(L.h),styleUrl:Object(j.o)(fe),visibility:Object(j.o)(L.a)},Object(j.s)(N,{MultiTrack:Object(j.o)((function(e,t){var o=Object(j.v)([],Ee,e,t);if(!o)return;return new b.a(o)}),"geometry"),Track:Object(j.o)(Oe,"geometry")})),z=Object(j.s)(F,{ExtendedData:Ve,Region:We,Link:function(e,t){Object(j.u)(V,e,t)},address:Object(j.o)(L.h),description:Object(j.o)(L.h),name:Object(j.o)(L.h),open:Object(j.o)(L.a),phoneNumber:Object(j.o)(L.h),visibility:Object(j.o)(L.a)}),V=Object(j.s)(F,{href:Object(j.o)(pe)}),W=Object(j.s)(F,{LatLonAltBox:function(e,t){var o=Object(j.v)({},He,e,t);if(!o)return;var n=t[t.length-1],r=[parseFloat(o.west),parseFloat(o.south),parseFloat(o.east),parseFloat(o.north)];n.extent=r,n.altitudeMode=o.altitudeMode,n.minAltitude=parseFloat(o.minAltitude),n.maxAltitude=parseFloat(o.maxAltitude)},Lod:function(e,t){var o=Object(j.v)({},Xe,e,t);if(!o)return;var n=t[t.length-1];n.minLodPixels=parseFloat(o.minLodPixels),n.maxLodPixels=parseFloat(o.maxLodPixels),n.minFadeExtent=parseFloat(o.minFadeExtent),n.maxFadeExtent=parseFloat(o.maxFadeExtent)}}),q=Object(j.s)(F,["Document","Placemark"]),Y=Object(j.s)(F,{Document:Object(j.m)((function(e,t,o){var n={node:e};Object(j.w)(n,$e,et,t,o,void 0,this)})),Placemark:Object(j.m)(Et)}),H=null;function X(){return H}var Z,K=null;function J(){return K}var Q,$=null;function ee(){return $}var te=null;function oe(){return te}var ne=null;function re(){return ne}var ie,ae=null;function se(){return ae}function le(e){return 32/Math.min(e[0],e[1])}function ce(e){return e}var ue=function(e){function t(t){var o=e.call(this)||this,n=t||{};return ae||(r=[255,255,255,1],H=new d.a({color:r}),i=[20,2],a=m.a.PIXELS,s=m.a.PIXELS,l=[64,64],c="https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png",K=new g.a({anchor:i,anchorOrigin:y.a.BOTTOM_LEFT,anchorXUnits:a,anchorYUnits:s,crossOrigin:"anonymous",rotation:0,scale:le(l),size:l,src:c}),Z="NO_IMAGE",$=new I.a({color:r,width:1}),Q=new I.a({color:[51,51,51,1],width:2}),te=new S.a({font:"bold 16px Helvetica",fill:H,stroke:Q,scale:.8}),ne=new O.c({fill:H,image:K,text:te,stroke:$,zIndex:0}),ae=[ne]),o.dataProjection=Object(R.t)("EPSG:4326"),o.defaultStyle_=n.defaultStyle?n.defaultStyle:ae,o.extractStyles_=void 0===n.extractStyles||n.extractStyles,o.writeStyles_=void 0===n.writeStyles||n.writeStyles,o.sharedStyles_={},o.showPointNames_=void 0===n.showPointNames||n.showPointNames,o.crossOrigin_=void 0!==n.crossOrigin?n.crossOrigin:"anonymous",o.iconUrlFunction_=n.iconUrlFunction?n.iconUrlFunction:ce,o.supportedMediaTypes=["application/vnd.google-earth.kml+xml"],o}return D(t,e),t.prototype.readDocumentOrFolder_=function(e,t){var o=Object(j.s)(F,{Document:Object(j.j)(this.readDocumentOrFolder_,this),Folder:Object(j.j)(this.readDocumentOrFolder_,this),Placemark:Object(j.k)(this.readPlacemark_,this),Style:this.readSharedStyle_.bind(this),StyleMap:this.readSharedStyleMap_.bind(this)}),n=Object(j.v)([],o,e,t,this);return n||void 0},t.prototype.readPlacemark_=function(e,t){var o=Object(j.v)({geometry:null},B,e,t,this);if(o){var n=new u.b,r=e.getAttribute("id");null!==r&&n.setId(r);var i=t[0],a=o.geometry;if(a&&Object(G.c)(a,!1,i),n.setGeometry(a),delete o.geometry,this.extractStyles_){var s=function(e,t,o,n,r){return function(i,a){var s=r,l="",c=[];if(s){var u=i.getGeometry();if(u){var d=u.getType();s=d===f.a.GEOMETRY_COLLECTION?(c=u.getGeometriesArrayRecursive().filter((function(e){var t=e.getType();return t===f.a.POINT||t===f.a.MULTI_POINT}))).length>0:d===f.a.POINT||d===f.a.MULTI_POINT}}s&&(l=i.get("name"),(s=s&&!!l)&&l.search(/&[^&]+;/)>-1&&(ie||(ie=document.createElement("textarea")),ie.innerHTML=l,l=ie.value));var p=o;if(e?p=e:t&&(p=function e(t,o,n){return Array.isArray(t)?t:"string"==typeof t?e(n[t],o,n):o}(t,o,n)),s){var g=function(e,t){var o=[0,0],n="start",r=e.getImage();if(r){var i=r.getSize();if(i&&2==i.length){var a=r.getScaleArray(),s=r.getAnchor();o[0]=a[0]*(i[0]-s[0]),o[1]=a[1]*(i[1]/2-s[1]),n="left"}}var l=e.getText();l?((l=l.clone()).setFont(l.getFont()||te.getFont()),l.setScale(l.getScale()||te.getScale()),l.setFill(l.getFill()||te.getFill()),l.setStroke(l.getStroke()||Q)):l=te.clone();return l.setText(t),l.setOffsetX(o[0]),l.setOffsetY(o[1]),l.setTextAlign(n),new O.c({image:r,text:l})}(p[0],l);return c.length>0?(g.setGeometry(new h.a(c)),[g,new O.c({geometry:p[0].getGeometry(),image:null,fill:p[0].getFill(),stroke:p[0].getStroke(),text:null})].concat(p.slice(1))):g}return p}}(o.Style,o.styleUrl,this.defaultStyle_,this.sharedStyles_,this.showPointNames_);n.setStyle(s)}return delete o.Style,n.setProperties(o,!0),n}},t.prototype.readSharedStyle_=function(e,t){var o=e.getAttribute("id");if(null!==o){var n=Fe.call(this,e,t);if(n){var r=void 0,i=e.baseURI;if(i&&"about:blank"!=i||(i=window.location.href),i)r=new URL("#"+o,i).href;else r="#"+o;this.sharedStyles_[r]=n}}},t.prototype.readSharedStyleMap_=function(e,t){var o=e.getAttribute("id");if(null!==o){var n=ye.call(this,e,t);if(n){var r,i=e.baseURI;if(i&&"about:blank"!=i||(i=window.location.href),i)r=new URL("#"+o,i).href;else r="#"+o;this.sharedStyles_[r]=n}}},t.prototype.readFeatureFromNode=function(e,t){if(!Object(M.f)(F,e.namespaceURI))return null;var o=this.readPlacemark_(e,[this.getReadOptions(e,t)]);return o||null},t.prototype.readFeaturesFromNode=function(e,t){if(!Object(M.f)(F,e.namespaceURI))return[];var o,n=e.localName;if("Document"==n||"Folder"==n)return(o=this.readDocumentOrFolder_(e,[this.getReadOptions(e,t)]))||[];if("Placemark"==n){var r=this.readPlacemark_(e,[this.getReadOptions(e,t)]);return r?[r]:[]}if("kml"==n){o=[];for(var i=e.firstElementChild;i;i=i.nextElementSibling){var a=this.readFeaturesFromNode(i,t);a&&Object(M.c)(o,a)}return o}return[]},t.prototype.readName=function(e){if(e){if("string"==typeof e){var t=Object(j.t)(e);return this.readNameFromDocument(t)}return Object(j.i)(e)?this.readNameFromDocument(e):this.readNameFromNode(e)}},t.prototype.readNameFromDocument=function(e){for(var t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE){var o=this.readNameFromNode(t);if(o)return o}},t.prototype.readNameFromNode=function(e){for(var t=e.firstElementChild;t;t=t.nextElementSibling)if(Object(M.f)(F,t.namespaceURI)&&"name"==t.localName)return Object(L.h)(t);for(t=e.firstElementChild;t;t=t.nextElementSibling){var o=t.localName;if(Object(M.f)(F,t.namespaceURI)&&("Document"==o||"Folder"==o||"Placemark"==o||"kml"==o)){var n=this.readNameFromNode(t);if(n)return n}}},t.prototype.readNetworkLinks=function(e){var t=[];if("string"==typeof e){var o=Object(j.t)(e);Object(M.c)(t,this.readNetworkLinksFromDocument(o))}else Object(j.i)(e)?Object(M.c)(t,this.readNetworkLinksFromDocument(e)):Object(M.c)(t,this.readNetworkLinksFromNode(e));return t},t.prototype.readNetworkLinksFromDocument=function(e){for(var t=[],o=e.firstChild;o;o=o.nextSibling)o.nodeType==Node.ELEMENT_NODE&&Object(M.c)(t,this.readNetworkLinksFromNode(o));return t},t.prototype.readNetworkLinksFromNode=function(e){for(var t=[],o=e.firstElementChild;o;o=o.nextElementSibling)if(Object(M.f)(F,o.namespaceURI)&&"NetworkLink"==o.localName){var n=Object(j.v)({},z,o,[]);t.push(n)}for(o=e.firstElementChild;o;o=o.nextElementSibling){var r=o.localName;!Object(M.f)(F,o.namespaceURI)||"Document"!=r&&"Folder"!=r&&"kml"!=r||Object(M.c)(t,this.readNetworkLinksFromNode(o))}return t},t.prototype.readRegion=function(e){var t=[];if("string"==typeof e){var o=Object(j.t)(e);Object(M.c)(t,this.readRegionFromDocument(o))}else Object(j.i)(e)?Object(M.c)(t,this.readRegionFromDocument(e)):Object(M.c)(t,this.readRegionFromNode(e));return t},t.prototype.readRegionFromDocument=function(e){for(var t=[],o=e.firstChild;o;o=o.nextSibling)o.nodeType==Node.ELEMENT_NODE&&Object(M.c)(t,this.readRegionFromNode(o));return t},t.prototype.readRegionFromNode=function(e){for(var t=[],o=e.firstElementChild;o;o=o.nextElementSibling)if(Object(M.f)(F,o.namespaceURI)&&"Region"==o.localName){var n=Object(j.v)({},W,o,[]);t.push(n)}for(o=e.firstElementChild;o;o=o.nextElementSibling){var r=o.localName;!Object(M.f)(F,o.namespaceURI)||"Document"!=r&&"Folder"!=r&&"kml"!=r||Object(M.c)(t,this.readRegionFromNode(o))}return t},t.prototype.writeFeaturesNode=function(e,t){t=this.adaptOptions(t);var o=Object(j.c)(F[4],"kml"),n="http://www.w3.org/2000/xmlns/";o.setAttributeNS(n,"xmlns:gx",N[0]),o.setAttributeNS(n,"xmlns:xsi",j.b),o.setAttributeNS(j.b,"xsi:schemaLocation","http://www.opengis.net/kml/2.2 https://developers.google.com/kml/schema/kml22gx.xsd");var r={node:o},i={};e.length>1?i.Document=e:1==e.length&&(i.Placemark=e[0]);var a=q[o.namespaceURI],s=Object(j.q)(i,a);return Object(j.w)(r,Y,j.a,s,[t],a,this),o},t}(x.a);function de(e){var t=Object(j.d)(e,!1),o=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(t);if(o){var n=o[1];return[parseInt(n.substr(6,2),16),parseInt(n.substr(4,2),16),parseInt(n.substr(2,2),16),parseInt(n.substr(0,2),16)/255]}}function he(e){var t=Object(j.d)(e,!1),o=[];t=t.replace(/\s*,\s*/g,",");for(var n,r=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?),([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s+|,|$)(?:([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s+|$))?\s*/i;n=r.exec(t);){var i=parseFloat(n[1]),a=parseFloat(n[2]),s=n[3]?parseFloat(n[3]):0;o.push(i,a,s),t=t.substr(n[0].length)}if(""===t)return o}function pe(e){var t=Object(j.d)(e,!1).trim(),o=e.baseURI;return o&&"about:blank"!=o||(o=window.location.href),o?new URL(t,o).href:t}function fe(e){var t=Object(j.d)(e,!1).trim().replace(/^(?!.*#)/,"#"),o=e.baseURI;return o&&"about:blank"!=o||(o=window.location.href),o?new URL(t,o).href:t}function ge(e){return Object(L.d)(e)}var me=Object(j.s)(F,{Pair:function(e,t){var o=Object(j.v)({},qe,e,t,this);if(!o)return;var n=o.key;if(n&&"normal"==n){var r=o.styleUrl;r&&(t[t.length-1]=r);var i=o.Style;i&&(t[t.length-1]=i)}}});function ye(e,t){return Object(j.v)(void 0,me,e,t,this)}var ve=Object(j.s)(F,{Icon:Object(j.o)((function(e,t){var o=Object(j.v)({},Se,e,t);return o||null})),color:Object(j.o)(de),heading:Object(j.o)(L.d),hotSpot:Object(j.o)((function(e){var t,o=e.getAttribute("xunits"),n=e.getAttribute("yunits");return t="insetPixels"!==o?"insetPixels"!==n?y.a.BOTTOM_LEFT:y.a.TOP_LEFT:"insetPixels"!==n?y.a.BOTTOM_RIGHT:y.a.TOP_RIGHT,{x:parseFloat(e.getAttribute("x")),xunits:U[o],y:parseFloat(e.getAttribute("y")),yunits:U[n],origin:t}})),scale:Object(j.o)(ge)});var _e=Object(j.s)(F,{color:Object(j.o)(de),scale:Object(j.o)(ge)});var be=Object(j.s)(F,{color:Object(j.o)(de),width:Object(j.o)(L.d)});var Ae=Object(j.s)(F,{color:Object(j.o)(de),fill:Object(j.o)(L.a),outline:Object(j.o)(L.a)});var Ce=Object(j.s)(F,{coordinates:Object(j.p)(he)});function we(e,t){return Object(j.v)(null,Ce,e,t)}var Ee=Object(j.s)(N,{Track:Object(j.k)(Oe)});var Ie=Object(j.s)(F,{when:function(e,t){var o=t[t.length-1].whens,n=Object(j.d)(e,!1),r=Date.parse(n);o.push(isNaN(r)?0:r)}},Object(j.s)(N,{coord:function(e,t){var o=t[t.length-1].coordinates,n=Object(j.d)(e,!1),r=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i.exec(n);if(r){var i=parseFloat(r[1]),a=parseFloat(r[2]),s=parseFloat(r[3]);o.push([i,a,s])}else o.push([])}}));function Oe(e,t){var o=Object(j.v)({coordinates:[],whens:[]},Ie,e,t);if(o){for(var n=[],r=o.coordinates,i=o.whens,a=0,s=Math.min(r.length,i.length);a<s;++a)3==r[a].length&&n.push(r[a][0],r[a][1],r[a][2],i[a]);return new _.a(n,p.a.XYZM)}}var Se=Object(j.s)(F,{href:Object(j.o)(pe)},Object(j.s)(N,{x:Object(j.o)(L.d),y:Object(j.o)(L.d),w:Object(j.o)(L.d),h:Object(j.o)(L.d)}));var xe=Object(j.s)(F,{coordinates:Object(j.p)(he)});function je(e,t){return Object(j.v)(null,xe,e,t)}var Pe=Object(j.s)(F,{extrude:Object(j.o)(L.a),tessellate:Object(j.o)(L.a),altitudeMode:Object(j.o)(L.h)});function Te(e,t){var o=Object(j.v)({},Pe,e,t),n=je(e,t);if(n){var r=new _.a(n,p.a.XYZ);return r.setProperties(o,!0),r}}function Me(e,t){var o=Object(j.v)({},Pe,e,t),n=je(e,t);if(n){var r=new E.b(n,p.a.XYZ,[n.length]);return r.setProperties(o,!0),r}}var Re=Object(j.s)(F,{LineString:Object(j.k)(Te),LinearRing:Object(j.k)(Me),MultiGeometry:Object(j.k)(Le),Point:Object(j.k)(ke),Polygon:Object(j.k)(De)});function Le(e,t){var o,n=Object(j.v)([],Re,e,t);if(!n)return null;if(0===n.length)return new h.a(n);for(var r,i=!0,a=n[0].getType(),s=1,l=n.length;s<l;++s)if((r=n[s]).getType()!=a){i=!1;break}if(i){var c=void 0,u=void 0;if(a==f.a.POINT){var d=n[0];c=d.getLayout(),u=d.getFlatCoordinates();for(s=1,l=n.length;s<l;++s)r=n[s],Object(M.c)(u,r.getFlatCoordinates());Ue(o=new A.a(u,c),n)}else a==f.a.LINE_STRING?Ue(o=new b.a(n),n):a==f.a.POLYGON?Ue(o=new C.a(n),n):a==f.a.GEOMETRY_COLLECTION?o=new h.a(n):Object(T.a)(!1,37)}else o=new h.a(n);return o}function ke(e,t){var o=Object(j.v)({},Pe,e,t),n=je(e,t);if(n){var r=new w.a(n,p.a.XYZ);return r.setProperties(o,!0),r}}var Ge=Object(j.s)(F,{innerBoundaryIs:function(e,t){var o=Object(j.v)([],Ze,e,t);if(o.length>0){var n=t[t.length-1];n.push.apply(n,o)}},outerBoundaryIs:function(e,t){var o=Object(j.v)(void 0,Ke,e,t);if(o){t[t.length-1][0]=o}}});function De(e,t){var o=Object(j.v)({},Pe,e,t),n=Object(j.v)([null],Ge,e,t);if(n&&n[0]){for(var r=n[0],i=[r.length],a=1,s=n.length;a<s;++a)Object(M.c)(r,n[a]),i.push(r.length);var l=new E.b(r,p.a.XYZ,i);return l.setProperties(o,!0),l}}var Ne=Object(j.s)(F,{IconStyle:function(e,t){var o=Object(j.v)({},ve,e,t);if(o){var n,r,u,d,h=t[t.length-1],p="Icon"in o?o.Icon:{},f=!("Icon"in o)||Object.keys(p).length>0,m=p.href;m?n=m:f&&(n=c);var _,b=y.a.BOTTOM_LEFT,A=o.hotSpot;A?(r=[A.x,A.y],u=A.xunits,d=A.yunits,b=A.origin):/^http:\/\/maps\.(?:google|gstatic)\.com\//.test(n)&&(/pushpin/.test(n)?(r=i,u=a,d=s):/arrow-reverse/.test(n)?(r=[54,42],u=a,d=s):/paddle/.test(n)&&(r=[32,1],u=a,d=s));var C,w=p.x,E=p.y;void 0!==w&&void 0!==E&&(_=[w,E]);var I,O=p.w,S=p.h;void 0!==O&&void 0!==S&&(C=[O,S]);var x=o.heading;void 0!==x&&(I=Object(k.j)(x));var P=o.scale,T=o.color;if(f){n==c&&(C=l);var M=new g.a({anchor:r,anchorOrigin:b,anchorXUnits:u,anchorYUnits:d,crossOrigin:this.crossOrigin_,offset:_,offsetOrigin:y.a.BOTTOM_LEFT,rotation:I,scale:P,size:C,src:this.iconUrlFunction_(n),color:T}),R=M.getScaleArray()[0],L=M.getSize();if(null===L){var G=M.getImageState();if(G===v.a.IDLE||G===v.a.LOADING){var D=function(){var e=M.getImageState();if(e!==v.a.IDLE&&e!==v.a.LOADING){var t=M.getSize();if(t&&2==t.length){var o=le(t);M.setScale(R*o)}M.unlistenImageChange(D)}};M.listenImageChange(D),G===v.a.IDLE&&M.load()}}else if(2==L.length){var N=le(L);M.setScale(R*N)}h.imageStyle=M}else h.imageStyle=Z}},LabelStyle:function(e,t){var o=Object(j.v)({},_e,e,t);if(o){var n=t[t.length-1],i=new S.a({fill:new d.a({color:"color"in o?o.color:r}),scale:o.scale});n.textStyle=i}},LineStyle:function(e,t){var o=Object(j.v)({},be,e,t);if(o){var n=t[t.length-1],i=new I.a({color:"color"in o?o.color:r,width:"width"in o?o.width:1});n.strokeStyle=i}},PolyStyle:function(e,t){var o=Object(j.v)({},Ae,e,t);if(o){var n=t[t.length-1],i=new d.a({color:"color"in o?o.color:r});n.fillStyle=i;var a=o.fill;void 0!==a&&(n.fill=a);var s=o.outline;void 0!==s&&(n.outline=s)}}});function Fe(e,t){var o=Object(j.v)({},Ne,e,t,this);if(!o)return null;var n,r="fillStyle"in o?o.fillStyle:H,i=o.fill;void 0===i||i||(r=null),"imageStyle"in o?o.imageStyle!=Z&&(n=o.imageStyle):n=K;var a="textStyle"in o?o.textStyle:te,s="strokeStyle"in o?o.strokeStyle:$,l=o.outline;return void 0===l||l?[new O.c({fill:r,image:n,stroke:s,text:a,zIndex:void 0})]:[new O.c({geometry:function(e){var t=e.getGeometry(),o=t.getType();if(o===f.a.GEOMETRY_COLLECTION){var n=t;return new h.a(n.getGeometriesArrayRecursive().filter((function(e){var t=e.getType();return t!==f.a.POLYGON&&t!==f.a.MULTI_POLYGON})))}if(o!==f.a.POLYGON&&o!==f.a.MULTI_POLYGON)return t},fill:r,image:n,stroke:s,text:a,zIndex:void 0}),new O.c({geometry:function(e){var t=e.getGeometry(),o=t.getType();if(o===f.a.GEOMETRY_COLLECTION){var n=t;return new h.a(n.getGeometriesArrayRecursive().filter((function(e){var t=e.getType();return t===f.a.POLYGON||t===f.a.MULTI_POLYGON})))}if(o===f.a.POLYGON||o===f.a.MULTI_POLYGON)return t},fill:r,stroke:null,zIndex:void 0})]}function Ue(e,t){var o,n,r,i=t.length,a=new Array(t.length),s=new Array(t.length),l=new Array(t.length);o=!1,n=!1,r=!1;for(var c=0;c<i;++c){var u=t[c];a[c]=u.get("extrude"),s[c]=u.get("tessellate"),l[c]=u.get("altitudeMode"),o=o||void 0!==a[c],n=n||void 0!==s[c],r=r||l[c]}o&&e.set("extrude",a),n&&e.set("tessellate",s),r&&e.set("altitudeMode",l)}var Be=Object(j.s)(F,{displayName:Object(j.o)(L.h),value:Object(j.o)(L.h)});var ze=Object(j.s)(F,{Data:function(e,t){var o=e.getAttribute("name");Object(j.u)(Be,e,t);var n=t[t.length-1];o&&n.displayName?n[o]={value:n.value,displayName:n.displayName,toString:function(){return n.value}}:null!==o?n[o]=n.value:null!==n.displayName&&(n[n.displayName]=n.value),delete n.value},SchemaData:function(e,t){Object(j.u)(Ye,e,t)}});function Ve(e,t){Object(j.u)(ze,e,t)}function We(e,t){Object(j.u)(W,e,t)}var qe=Object(j.s)(F,{Style:Object(j.o)(Fe),key:Object(j.o)(L.h),styleUrl:Object(j.o)(fe)});var Ye=Object(j.s)(F,{SimpleData:function(e,t){var o=e.getAttribute("name");if(null!==o){var n=Object(L.h)(e);t[t.length-1][o]=n}}});var He=Object(j.s)(F,{altitudeMode:Object(j.o)(L.h),minAltitude:Object(j.o)(L.d),maxAltitude:Object(j.o)(L.d),north:Object(j.o)(L.d),south:Object(j.o)(L.d),east:Object(j.o)(L.d),west:Object(j.o)(L.d)});var Xe=Object(j.s)(F,{minLodPixels:Object(j.o)(L.d),maxLodPixels:Object(j.o)(L.d),minFadeExtent:Object(j.o)(L.d),maxFadeExtent:Object(j.o)(L.d)});var Ze=Object(j.s)(F,{LinearRing:Object(j.k)(we)});var Ke=Object(j.s)(F,{LinearRing:Object(j.p)(we)});function Je(e,t){for(var o=Object(P.a)(t),n=[255*(4==o.length?o[3]:1),o[2],o[1],o[0]],r=0;r<4;++r){var i=Math.floor(n[r]).toString(16);n[r]=1==i.length?"0"+i:i}Object(L.n)(e,n.join(""))}var Qe=Object(j.s)(F,{Data:Object(j.m)((function(e,t,o){e.setAttribute("name",t.name);var n={node:e},r=t.value;"object"==typeof r?(null!==r&&r.displayName&&Object(j.w)(n,Qe,j.a,[r.displayName],o,["displayName"]),null!==r&&r.value&&Object(j.w)(n,Qe,j.a,[r.value],o,["value"])):Object(j.w)(n,Qe,j.a,[r],o,["value"])})),value:Object(j.m)((function(e,t){Object(L.n)(e,t)})),displayName:Object(j.m)((function(e,t){Object(L.j)(e,t)}))});var $e=Object(j.s)(F,{Placemark:Object(j.m)(Et)}),et=function(e,t,o){var n=t[t.length-1].node;return Object(j.c)(n.namespaceURI,"Placemark")};var tt=Object(j.r)("Data");var ot=Object(j.s)(F,["href"],Object(j.s)(N,["x","y","w","h"])),nt=Object(j.s)(F,{href:Object(j.m)(L.n)},Object(j.s)(N,{x:Object(j.m)(L.l),y:Object(j.m)(L.l),w:Object(j.m)(L.l),h:Object(j.m)(L.l)})),rt=function(e,t,o){return Object(j.c)(N[0],"gx:"+o)};var it=Object(j.s)(F,["scale","heading","Icon","color","hotSpot"]),at=Object(j.s)(F,{Icon:Object(j.m)((function(e,t,o){var n={node:e},r=o[o.length-1].node,i=ot[r.namespaceURI],a=Object(j.q)(t,i);Object(j.w)(n,nt,j.a,a,o,i),i=ot[N[0]],a=Object(j.q)(t,i),Object(j.w)(n,nt,rt,a,o,i)})),color:Object(j.m)(Je),heading:Object(j.m)(L.l),hotSpot:Object(j.m)((function(e,t){e.setAttribute("x",String(t.x)),e.setAttribute("y",String(t.y)),e.setAttribute("xunits",t.xunits),e.setAttribute("yunits",t.yunits)})),scale:Object(j.m)(Lt)});var st=Object(j.s)(F,["color","scale"]),lt=Object(j.s)(F,{color:Object(j.m)(Je),scale:Object(j.m)(Lt)});var ct=Object(j.s)(F,["color","width"]),ut=Object(j.s)(F,{color:Object(j.m)(Je),width:Object(j.m)(L.l)});var dt={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},ht=function(e,t,o){if(e){var n=t[t.length-1].node;return Object(j.c)(n.namespaceURI,dt[e.getType()])}},pt=Object(j.r)("Point"),ft=Object(j.r)("LineString"),gt=Object(j.r)("LinearRing"),mt=Object(j.r)("Polygon"),yt=Object(j.s)(F,{LineString:Object(j.m)(St),Point:Object(j.m)(St),Polygon:Object(j.m)(Mt),GeometryCollection:Object(j.m)(vt)});function vt(e,t,o){var n,r={node:e},i=t.getType(),a=[];i===f.a.GEOMETRY_COLLECTION?(t.getGeometriesArrayRecursive().forEach((function(e){var t=e.getType();t===f.a.MULTI_POINT?a=a.concat(e.getPoints()):t===f.a.MULTI_LINE_STRING?a=a.concat(e.getLineStrings()):t===f.a.MULTI_POLYGON?a=a.concat(e.getPolygons()):t===f.a.POINT||t===f.a.LINE_STRING||t===f.a.POLYGON?a.push(e):Object(T.a)(!1,39)})),n=ht):i===f.a.MULTI_POINT?(a=t.getPoints(),n=pt):i===f.a.MULTI_LINE_STRING?(a=t.getLineStrings(),n=ft):i===f.a.MULTI_POLYGON?(a=t.getPolygons(),n=mt):Object(T.a)(!1,39),Object(j.w)(r,yt,n,a,o)}var _t=Object(j.s)(F,{LinearRing:Object(j.m)(St)});function bt(e,t,o){var n={node:e};Object(j.w)(n,_t,gt,[t],o)}var At=Object(j.s)(F,{ExtendedData:Object(j.m)((function(e,t,o){for(var n={node:e},r=t.names,i=t.values,a=r.length,s=0;s<a;s++)Object(j.w)(n,Qe,tt,[{name:r[s],value:i[s]}],o)})),MultiGeometry:Object(j.m)(vt),LineString:Object(j.m)(St),LinearRing:Object(j.m)(St),Point:Object(j.m)(St),Polygon:Object(j.m)(Mt),Style:Object(j.m)((function(e,t,o){var n={node:e},r={};if(t.pointStyles.length){var i=t.pointStyles[0].getText();i&&(r.LabelStyle=i);var a=t.pointStyles[0].getImage();a&&"function"==typeof a.getSrc&&(r.IconStyle=a)}if(t.lineStyles.length){(s=t.lineStyles[0].getStroke())&&(r.LineStyle=s)}if(t.polyStyles.length){var s;(s=t.polyStyles[0].getStroke())&&!r.LineStyle&&(r.LineStyle=s),r.PolyStyle=t.polyStyles[0]}var l=o[o.length-1].node,c=kt[l.namespaceURI],u=Object(j.q)(r,c);Object(j.w)(n,Gt,j.a,u,o,c)})),address:Object(j.m)(L.n),description:Object(j.m)(L.n),name:Object(j.m)(L.n),open:Object(j.m)(L.i),phoneNumber:Object(j.m)(L.n),styleUrl:Object(j.m)(L.n),visibility:Object(j.m)(L.i)}),Ct=Object(j.s)(F,["name","open","visibility","address","phoneNumber","description","styleUrl","Style"]),wt=Object(j.r)("ExtendedData");function Et(e,t,o){var n={node:e};t.getId()&&e.setAttribute("id",t.getId());var r=t.getProperties(),i={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};i[t.getGeometryName()]=1;var a=Object.keys(r||{}).sort().filter((function(e){return!i[e]})),s=t.getStyleFunction();if(s){var l=s(t,0);if(l){var c=Array.isArray(l)?l:[l],u=c;if(t.getGeometry()&&(u=c.filter((function(e){var o=e.getGeometryFunction()(t);if(o){var n=o.getType();return n===f.a.GEOMETRY_COLLECTION?o.getGeometriesArrayRecursive().filter((function(e){var t=e.getType();return t===f.a.POINT||t===f.a.MULTI_POINT})).length:n===f.a.POINT||n===f.a.MULTI_POINT}}))),this.writeStyles_){var d=c,h=c;t.getGeometry()&&(d=c.filter((function(e){var o=e.getGeometryFunction()(t);if(o){var n=o.getType();return n===f.a.GEOMETRY_COLLECTION?o.getGeometriesArrayRecursive().filter((function(e){var t=e.getType();return t===f.a.LINE_STRING||t===f.a.MULTI_LINE_STRING})).length:n===f.a.LINE_STRING||n===f.a.MULTI_LINE_STRING}})),h=c.filter((function(e){var o=e.getGeometryFunction()(t);if(o){var n=o.getType();return n===f.a.GEOMETRY_COLLECTION?o.getGeometriesArrayRecursive().filter((function(e){var t=e.getType();return t===f.a.POLYGON||t===f.a.MULTI_POLYGON})).length:n===f.a.POLYGON||n===f.a.MULTI_POLYGON}}))),r.Style={pointStyles:u,lineStyles:d,polyStyles:h}}if(u.length&&void 0===r.name){var p=u[0].getText();p&&(r.name=p.getText())}}}var g=o[o.length-1].node,m=Ct[g.namespaceURI],y=Object(j.q)(r,m);if(Object(j.w)(n,At,j.a,y,o,m),a.length>0){var v={names:a,values:Object(j.q)(r,a)};Object(j.w)(n,At,wt,[v],o)}var _=o[0],b=t.getGeometry();b&&(b=Object(G.c)(b,!0,_)),Object(j.w)(n,At,ht,[b],o)}var It=Object(j.s)(F,["extrude","tessellate","altitudeMode","coordinates"]),Ot=Object(j.s)(F,{extrude:Object(j.m)(L.i),tessellate:Object(j.m)(L.i),altitudeMode:Object(j.m)(L.n),coordinates:Object(j.m)((function(e,t,o){var n,r=o[o.length-1],i=r.layout,a=r.stride;i==p.a.XY||i==p.a.XYM?n=2:i==p.a.XYZ||i==p.a.XYZM?n=3:Object(T.a)(!1,34);var s=t.length,l="";if(s>0){l+=t[0];for(var c=1;c<n;++c)l+=","+t[c];for(var u=a;u<s;u+=a){l+=" "+t[u];for(c=1;c<n;++c)l+=","+t[u+c]}}Object(L.n)(e,l)}))});function St(e,t,o){var n=t.getFlatCoordinates(),r={node:e};r.layout=t.getLayout(),r.stride=t.getStride();var i=t.getProperties();i.coordinates=n;var a=o[o.length-1].node,s=It[a.namespaceURI],l=Object(j.q)(i,s);Object(j.w)(r,Ot,j.a,l,o,s)}var xt=Object(j.s)(F,["color","fill","outline"]),jt=Object(j.s)(F,{outerBoundaryIs:Object(j.m)(bt),innerBoundaryIs:Object(j.m)(bt)}),Pt=Object(j.r)("innerBoundaryIs"),Tt=Object(j.r)("outerBoundaryIs");function Mt(e,t,o){var n=t.getLinearRings(),r=n.shift(),i={node:e};Object(j.w)(i,jt,Pt,n,o),Object(j.w)(i,jt,Tt,[r],o)}var Rt=Object(j.s)(F,{color:Object(j.m)(Je),fill:Object(j.m)(L.i),outline:Object(j.m)(L.i)});function Lt(e,t){Object(L.l)(e,Math.round(1e6*t)/1e6)}var kt=Object(j.s)(F,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),Gt=Object(j.s)(F,{IconStyle:Object(j.m)((function(e,t,o){var n={node:e},r={},i=t.getSrc(),a=t.getSize(),s=t.getImageSize(),c={href:i};if(a){c.w=a[0],c.h=a[1];var u=t.getAnchor(),d=t.getOrigin();if(d&&s&&0!==d[0]&&d[1]!==a[1]&&(c.x=d[0],c.y=s[1]-(d[1]+a[1])),u&&(u[0]!==a[0]/2||u[1]!==a[1]/2)){var h={x:u[0],xunits:m.a.PIXELS,y:a[1]-u[1],yunits:m.a.PIXELS};r.hotSpot=h}}r.Icon=c;var p=t.getScaleArray()[0],f=a;null===f&&(f=l),2==f.length&&(p/=le(f)),1!==p&&(r.scale=p);var g=t.getRotation();0!==g&&(r.heading=g);var y=t.getColor();y&&(r.color=y);var v=o[o.length-1].node,_=it[v.namespaceURI],b=Object(j.q)(r,_);Object(j.w)(n,at,j.a,b,o,_)})),LabelStyle:Object(j.m)((function(e,t,o){var n={node:e},r={},i=t.getFill();i&&(r.color=i.getColor());var a=t.getScale();a&&1!==a&&(r.scale=a);var s=o[o.length-1].node,l=st[s.namespaceURI],c=Object(j.q)(r,l);Object(j.w)(n,lt,j.a,c,o,l)})),LineStyle:Object(j.m)((function(e,t,o){var n={node:e},r={color:t.getColor(),width:Number(t.getWidth())||1},i=o[o.length-1].node,a=ct[i.namespaceURI],s=Object(j.q)(r,a);Object(j.w)(n,ut,j.a,s,o,a)})),PolyStyle:Object(j.m)((function(e,t,o){var n={node:e},r=t.getFill(),i=t.getStroke(),a={color:r?r.getColor():void 0,fill:!!r&&void 0,outline:!!i&&void 0},s=o[o.length-1].node,l=xt[s.namespaceURI],c=Object(j.q)(a,l);Object(j.w)(n,Rt,j.a,c,o,l)}))});t.a=ue},"./node_modules/ol/format/MVT.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/format/Feature.js"),i=o("./node_modules/ol/format/FormatType.js"),a=o("./node_modules/ol/geom/GeometryLayout.js"),s=o("./node_modules/ol/geom/GeometryType.js"),l=o("./node_modules/ol/geom/LineString.js"),c=o("./node_modules/ol/geom/MultiLineString.js"),u=o("./node_modules/ol/geom/MultiPoint.js"),d=o("./node_modules/ol/geom/MultiPolygon.js"),h=o("./node_modules/pbf/index.js"),p=o.n(h),f=o("./node_modules/ol/geom/Point.js"),g=o("./node_modules/ol/geom/Polygon.js"),m=o("./node_modules/ol/proj/Projection.js"),y=o("./node_modules/ol/render/Feature.js"),v=o("./node_modules/ol/proj/Units.js"),_=o("./node_modules/ol/asserts.js"),b=o("./node_modules/ol/proj.js"),A=o("./node_modules/ol/geom/flat/orient.js"),C=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),w=function(e){function t(t){var o=e.call(this)||this,n=t||{};return o.dataProjection=new m.a({code:"",units:v.b.TILE_PIXELS}),o.featureClass_=n.featureClass?n.featureClass:y.a,o.geometryName_=n.geometryName,o.layerName_=n.layerName?n.layerName:"layer",o.layers_=n.layers?n.layers:null,o.idProperty_=n.idProperty,o.supportedMediaTypes=["application/vnd.mapbox-vector-tile","application/x-protobuf"],o}return C(t,e),t.prototype.readRawGeometry_=function(e,t,o,n){e.pos=t.geometry;for(var r=e.readVarint()+e.pos,i=1,a=0,s=0,l=0,c=0,u=0;e.pos<r;){if(!a){var d=e.readVarint();i=7&d,a=d>>3}a--,1===i||2===i?(s+=e.readSVarint(),l+=e.readSVarint(),1===i&&c>u&&(n.push(c),u=c),o.push(s,l),c+=2):7===i?c>u&&(o.push(o[u],o[u+1]),c+=2):Object(_.a)(!1,59)}c>u&&(n.push(c),u=c)},t.prototype.createFeature_=function(e,t,o){var n,i=t.type;if(0===i)return null;var h,p=t.properties;this.idProperty_?(h=p[this.idProperty_],delete p[this.idProperty_]):h=t.id,p[this.layerName_]=t.layer.name;var m=[],v=[];this.readRawGeometry_(e,t,m,v);var _=function(e,t){var o;1===e?o=1===t?s.a.POINT:s.a.MULTI_POINT:2===e?o=1===t?s.a.LINE_STRING:s.a.MULTI_LINE_STRING:3===e&&(o=s.a.POLYGON);return o}(i,v.length);if(this.featureClass_===y.a)(n=new this.featureClass_(_,m,v,p,h)).transform(o.dataProjection);else{var b=void 0;if(_==s.a.POLYGON){for(var C=[],w=0,E=0,I=0,O=v.length;I<O;++I){var S=v[I];if(Object(A.a)(m,w,S,2)){if(0===C.length)continue;C[C.length-1].push(v[E])}else C.push(v.slice(E,I+1));E=I+1,w=S}b=C.length>1?new d.a(m,a.a.XY,C):new g.b(m,a.a.XY,v)}else b=_===s.a.POINT?new f.a(m,a.a.XY):_===s.a.LINE_STRING?new l.a(m,a.a.XY):_===s.a.POLYGON?new g.b(m,a.a.XY,v):_===s.a.MULTI_POINT?new u.a(m,a.a.XY):_===s.a.MULTI_LINE_STRING?new c.a(m,a.a.XY,v):null;n=new(0,this.featureClass_),this.geometryName_&&n.setGeometryName(this.geometryName_);var x=Object(r.c)(b,!1,o);n.setGeometry(x),n.setId(h),n.setProperties(p,!0)}return n},t.prototype.getType=function(){return i.a.ARRAY_BUFFER},t.prototype.readFeatures=function(e,t){var o=this.layers_,n=this.adaptOptions(t),r=Object(b.t)(n.dataProjection);r.setWorldExtent(n.extent),n.dataProjection=r;var i=new p.a(e),a=i.readFields(E,{}),s=[];for(var l in a)if(!o||-1!=o.indexOf(l)){var c=a[l],u=c?[0,0,c.extent,c.extent]:null;r.setExtent(u);for(var d=0,h=c.length;d<h;++d){var f=S(i,c,d);s.push(this.createFeature_(i,f,n))}}return s},t.prototype.readProjection=function(e){return this.dataProjection},t.prototype.setLayers=function(e){this.layers_=e},t}(r.a);function E(e,t,o){if(3===e){var n={keys:[],values:[],features:[]},r=o.readVarint()+o.pos;o.readFields(I,n,r),n.length=n.features.length,n.length&&(t[n.name]=n)}}function I(e,t,o){if(15===e)t.version=o.readVarint();else if(1===e)t.name=o.readString();else if(5===e)t.extent=o.readVarint();else if(2===e)t.features.push(o.pos);else if(3===e)t.keys.push(o.readString());else if(4===e){for(var n=null,r=o.readVarint()+o.pos;o.pos<r;)n=1===(e=o.readVarint()>>3)?o.readString():2===e?o.readFloat():3===e?o.readDouble():4===e?o.readVarint64():5===e?o.readVarint():6===e?o.readSVarint():7===e?o.readBoolean():null;t.values.push(n)}}function O(e,t,o){if(1==e)t.id=o.readVarint();else if(2==e)for(var n=o.readVarint()+o.pos;o.pos<n;){var r=t.layer.keys[o.readVarint()],i=t.layer.values[o.readVarint()];t.properties[r]=i}else 3==e?t.type=o.readVarint():4==e&&(t.geometry=o.pos)}function S(e,t,o){e.pos=t.features[o];var n=e.readVarint()+e.pos,r={layer:t,type:0,properties:{}};return e.readFields(O,r,n),r}t.a=w},"./node_modules/ol/format/OWS.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/format/XML.js"),i=o("./node_modules/ol/xml.js"),a=o("./node_modules/ol/format/xlink.js"),s=o("./node_modules/ol/format/xsd.js"),l=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=[null,"http://www.opengis.net/ows/1.1"],u=Object(i.s)(c,{ServiceIdentification:Object(i.o)((function(e,t){return Object(i.v)({},w,e,t)})),ServiceProvider:Object(i.o)((function(e,t){return Object(i.v)({},E,e,t)})),OperationsMetadata:Object(i.o)((function(e,t){return Object(i.v)({},_,e,t)}))}),d=function(e){function t(){return e.call(this)||this}return l(t,e),t.prototype.readFromNode=function(e){var t=Object(i.v)({},u,e,[]);return t||null},t}(r.a),h=Object(i.s)(c,{DeliveryPoint:Object(i.o)(s.h),City:Object(i.o)(s.h),AdministrativeArea:Object(i.o)(s.h),PostalCode:Object(i.o)(s.h),Country:Object(i.o)(s.h),ElectronicMailAddress:Object(i.o)(s.h)}),p=Object(i.s)(c,{Value:Object(i.n)((function(e,t){return Object(s.h)(e)}))}),f=Object(i.s)(c,{AllowedValues:Object(i.o)((function(e,t){return Object(i.v)({},p,e,t)}))}),g=Object(i.s)(c,{Phone:Object(i.o)((function(e,t){return Object(i.v)({},b,e,t)})),Address:Object(i.o)((function(e,t){return Object(i.v)({},h,e,t)}))}),m=Object(i.s)(c,{HTTP:Object(i.o)((function(e,t){return Object(i.v)({},y,e,t)}))}),y=Object(i.s)(c,{Get:Object(i.n)((function(e,t){var o=Object(a.a)(e);if(!o)return;return Object(i.v)({href:o},A,e,t)})),Post:void 0}),v=Object(i.s)(c,{DCP:Object(i.o)((function(e,t){return Object(i.v)({},m,e,t)}))}),_=Object(i.s)(c,{Operation:function(e,t){var o=e.getAttribute("name"),n=Object(i.v)({},v,e,t);if(!n)return;t[t.length-1][o]=n}}),b=Object(i.s)(c,{Voice:Object(i.o)(s.h),Facsimile:Object(i.o)(s.h)}),A=Object(i.s)(c,{Constraint:Object(i.n)((function(e,t){var o=e.getAttribute("name");if(!o)return;return Object(i.v)({name:o},f,e,t)}))}),C=Object(i.s)(c,{IndividualName:Object(i.o)(s.h),PositionName:Object(i.o)(s.h),ContactInfo:Object(i.o)((function(e,t){return Object(i.v)({},g,e,t)}))}),w=Object(i.s)(c,{Abstract:Object(i.o)(s.h),AccessConstraints:Object(i.o)(s.h),Fees:Object(i.o)(s.h),Title:Object(i.o)(s.h),ServiceTypeVersion:Object(i.o)(s.h),ServiceType:Object(i.o)(s.h)}),E=Object(i.s)(c,{ProviderName:Object(i.o)(s.h),ProviderSite:Object(i.o)(a.a),ServiceContact:Object(i.o)((function(e,t){return Object(i.v)({},C,e,t)}))});t.a=d},"./node_modules/ol/format/WMSCapabilities.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/format/XML.js"),i=o("./node_modules/ol/xml.js"),a=o("./node_modules/ol/format/xsd.js"),s=o("./node_modules/ol/format/xlink.js"),l=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=[null,"http://www.opengis.net/wms"],u=Object(i.s)(c,{Service:Object(i.o)((function(e,t){return Object(i.v)({},p,e,t)})),Capability:Object(i.o)((function(e,t){return Object(i.v)({},d,e,t)}))}),d=Object(i.s)(c,{Request:Object(i.o)((function(e,t){return Object(i.v)({},A,e,t)})),Exception:Object(i.o)((function(e,t){return Object(i.v)([],y,e,t)})),Layer:Object(i.o)((function(e,t){var o=Object(i.v)({},v,e,t);if(void 0===o.Layer)return Object.assign(o,x(e,t));return o}))}),h=function(e){function t(){var t=e.call(this)||this;return t.version=void 0,t}return l(t,e),t.prototype.readFromNode=function(e){this.version=e.getAttribute("version").trim();var t=Object(i.v)({version:this.version},u,e,[]);return t||null},t}(r.a),p=Object(i.s)(c,{Name:Object(i.o)(a.h),Title:Object(i.o)(a.h),Abstract:Object(i.o)(a.h),KeywordList:Object(i.o)(M),OnlineResource:Object(i.o)(s.a),ContactInformation:Object(i.o)((function(e,t){return Object(i.v)({},f,e,t)})),Fees:Object(i.o)(a.h),AccessConstraints:Object(i.o)(a.h),LayerLimit:Object(i.o)(a.g),MaxWidth:Object(i.o)(a.g),MaxHeight:Object(i.o)(a.g)}),f=Object(i.s)(c,{ContactPersonPrimary:Object(i.o)((function(e,t){return Object(i.v)({},g,e,t)})),ContactPosition:Object(i.o)(a.h),ContactAddress:Object(i.o)((function(e,t){return Object(i.v)({},m,e,t)})),ContactVoiceTelephone:Object(i.o)(a.h),ContactFacsimileTelephone:Object(i.o)(a.h),ContactElectronicMailAddress:Object(i.o)(a.h)}),g=Object(i.s)(c,{ContactPerson:Object(i.o)(a.h),ContactOrganization:Object(i.o)(a.h)}),m=Object(i.s)(c,{AddressType:Object(i.o)(a.h),Address:Object(i.o)(a.h),City:Object(i.o)(a.h),StateOrProvince:Object(i.o)(a.h),PostCode:Object(i.o)(a.h),Country:Object(i.o)(a.h)}),y=Object(i.s)(c,{Format:Object(i.k)(a.h)}),v=Object(i.s)(c,{Name:Object(i.o)(a.h),Title:Object(i.o)(a.h),Abstract:Object(i.o)(a.h),KeywordList:Object(i.o)(M),CRS:Object(i.n)(a.h),EX_GeographicBoundingBox:Object(i.o)((function(e,t){var o=Object(i.v)({},b,e,t);if(!o)return;var n=o.westBoundLongitude,r=o.southBoundLatitude,a=o.eastBoundLongitude,s=o.northBoundLatitude;if(void 0===n||void 0===r||void 0===a||void 0===s)return;return[n,r,a,s]})),BoundingBox:Object(i.n)((function(e,t){var o=[Object(a.e)(e.getAttribute("minx")),Object(a.e)(e.getAttribute("miny")),Object(a.e)(e.getAttribute("maxx")),Object(a.e)(e.getAttribute("maxy"))],n=[Object(a.e)(e.getAttribute("resx")),Object(a.e)(e.getAttribute("resy"))];return{crs:e.getAttribute("CRS"),extent:o,res:n}})),Dimension:Object(i.n)((function(e,t){return{name:e.getAttribute("name"),units:e.getAttribute("units"),unitSymbol:e.getAttribute("unitSymbol"),default:e.getAttribute("default"),multipleValues:Object(a.b)(e.getAttribute("multipleValues")),nearestValue:Object(a.b)(e.getAttribute("nearestValue")),current:Object(a.b)(e.getAttribute("current")),values:Object(a.h)(e)}})),Attribution:Object(i.o)((function(e,t){return Object(i.v)({},_,e,t)})),AuthorityURL:Object(i.n)((function(e,t){var o=j(e,t);if(o)return o.name=e.getAttribute("name"),o;return})),Identifier:Object(i.n)(a.h),MetadataURL:Object(i.n)((function(e,t){var o=j(e,t);if(o)return o.type=e.getAttribute("type"),o;return})),DataURL:Object(i.n)(j),FeatureListURL:Object(i.n)(j),Style:Object(i.n)((function(e,t){return Object(i.v)({},I,e,t)})),MinScaleDenominator:Object(i.o)(a.d),MaxScaleDenominator:Object(i.o)(a.d),Layer:Object(i.n)(x)}),_=Object(i.s)(c,{Title:Object(i.o)(a.h),OnlineResource:Object(i.o)(s.a),LogoURL:Object(i.o)(T)}),b=Object(i.s)(c,{westBoundLongitude:Object(i.o)(a.d),eastBoundLongitude:Object(i.o)(a.d),southBoundLatitude:Object(i.o)(a.d),northBoundLatitude:Object(i.o)(a.d)}),A=Object(i.s)(c,{GetCapabilities:Object(i.o)(P),GetMap:Object(i.o)(P),GetFeatureInfo:Object(i.o)(P)}),C=Object(i.s)(c,{Format:Object(i.n)(a.h),DCPType:Object(i.n)((function(e,t){return Object(i.v)({},w,e,t)}))}),w=Object(i.s)(c,{HTTP:Object(i.o)((function(e,t){return Object(i.v)({},E,e,t)}))}),E=Object(i.s)(c,{Get:Object(i.o)(j),Post:Object(i.o)(j)}),I=Object(i.s)(c,{Name:Object(i.o)(a.h),Title:Object(i.o)(a.h),Abstract:Object(i.o)(a.h),LegendURL:Object(i.n)(T),StyleSheetURL:Object(i.o)(j),StyleURL:Object(i.o)(j)}),O=Object(i.s)(c,{Format:Object(i.o)(a.h),OnlineResource:Object(i.o)(s.a)}),S=Object(i.s)(c,{Keyword:Object(i.k)(a.h)});function x(e,t){var o=t[t.length-1],n=Object(i.v)({},v,e,t);if(n){var r=Object(a.b)(e.getAttribute("queryable"));void 0===r&&(r=o.queryable),n.queryable=void 0!==r&&r;var s=Object(a.f)(e.getAttribute("cascaded"));void 0===s&&(s=o.cascaded),n.cascaded=s;var l=Object(a.b)(e.getAttribute("opaque"));void 0===l&&(l=o.opaque),n.opaque=void 0!==l&&l;var c=Object(a.b)(e.getAttribute("noSubsets"));void 0===c&&(c=o.noSubsets),n.noSubsets=void 0!==c&&c;var u=Object(a.e)(e.getAttribute("fixedWidth"));u||(u=o.fixedWidth),n.fixedWidth=u;var d=Object(a.e)(e.getAttribute("fixedHeight"));d||(d=o.fixedHeight),n.fixedHeight=d;["Style","CRS","AuthorityURL"].forEach((function(e){if(e in o){var t=n[e]||[];n[e]=t.concat(o[e])}}));return["EX_GeographicBoundingBox","BoundingBox","Dimension","Attribution","MinScaleDenominator","MaxScaleDenominator"].forEach((function(e){if(!(e in n)){var t=o[e];n[e]=t}})),n}}function j(e,t){return Object(i.v)({},O,e,t)}function P(e,t){return Object(i.v)({},C,e,t)}function T(e,t){var o=j(e,t);if(o){var n=[Object(a.f)(e.getAttribute("width")),Object(a.f)(e.getAttribute("height"))];return o.size=n,o}}function M(e,t){return Object(i.v)([],S,e,t)}t.a=h},"./node_modules/ol/format/WMTSCapabilities.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/format/OWS.js"),i=o("./node_modules/ol/format/XML.js"),a=o("./node_modules/ol/extent.js"),s=o("./node_modules/ol/xml.js"),l=o("./node_modules/ol/format/xsd.js"),c=o("./node_modules/ol/format/xlink.js"),u=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),d=[null,"http://www.opengis.net/wmts/1.0"],h=[null,"http://www.opengis.net/ows/1.1"],p=Object(s.s)(d,{Contents:Object(s.o)((function(e,t){return Object(s.v)({},g,e,t)}))}),f=function(e){function t(){var t=e.call(this)||this;return t.owsParser_=new r.a,t}return u(t,e),t.prototype.readFromNode=function(e){var t=e.getAttribute("version");t&&(t=t.trim());var o=this.owsParser_.readFromNode(e);return o?(o.version=t,(o=Object(s.v)(o,p,e,[]))||null):null},t}(i.a),g=Object(s.s)(d,{Layer:Object(s.n)((function(e,t){return Object(s.v)({},m,e,t)})),TileMatrixSet:Object(s.n)((function(e,t){return Object(s.v)({},w,e,t)}))}),m=Object(s.s)(d,{Style:Object(s.n)((function(e,t){var o=Object(s.v)({},y,e,t);if(!o)return;var n="true"===e.getAttribute("isDefault");return o.isDefault=n,o})),Format:Object(s.n)(l.h),TileMatrixSetLink:Object(s.n)((function(e,t){return Object(s.v)({},v,e,t)})),Dimension:Object(s.n)((function(e,t){return Object(s.v)({},A,e,t)})),ResourceURL:Object(s.n)((function(e,t){var o=e.getAttribute("format"),n=e.getAttribute("template"),r=e.getAttribute("resourceType"),i={};o&&(i.format=o);n&&(i.template=n);r&&(i.resourceType=r);return i}))},Object(s.s)(h,{Title:Object(s.o)(l.h),Abstract:Object(s.o)(l.h),WGS84BoundingBox:Object(s.o)(I),Identifier:Object(s.o)(l.h)})),y=Object(s.s)(d,{LegendURL:Object(s.n)((function(e,t){var o={};return o.format=e.getAttribute("format"),o.href=Object(c.a)(e),o}))},Object(s.s)(h,{Title:Object(s.o)(l.h),Identifier:Object(s.o)(l.h)})),v=Object(s.s)(d,{TileMatrixSet:Object(s.o)(l.h),TileMatrixSetLimits:Object(s.o)((function(e,t){return Object(s.v)([],_,e,t)}))}),_=Object(s.s)(d,{TileMatrixLimits:Object(s.k)((function(e,t){return Object(s.v)({},b,e,t)}))}),b=Object(s.s)(d,{TileMatrix:Object(s.o)(l.h),MinTileRow:Object(s.o)(l.g),MaxTileRow:Object(s.o)(l.g),MinTileCol:Object(s.o)(l.g),MaxTileCol:Object(s.o)(l.g)}),A=Object(s.s)(d,{Default:Object(s.o)(l.h),Value:Object(s.n)(l.h)},Object(s.s)(h,{Identifier:Object(s.o)(l.h)})),C=Object(s.s)(h,{LowerCorner:Object(s.k)(O),UpperCorner:Object(s.k)(O)}),w=Object(s.s)(d,{WellKnownScaleSet:Object(s.o)(l.h),TileMatrix:Object(s.n)((function(e,t){return Object(s.v)({},E,e,t)}))},Object(s.s)(h,{SupportedCRS:Object(s.o)(l.h),Identifier:Object(s.o)(l.h),BoundingBox:Object(s.o)(I)})),E=Object(s.s)(d,{TopLeftCorner:Object(s.o)(O),ScaleDenominator:Object(s.o)(l.d),TileWidth:Object(s.o)(l.g),TileHeight:Object(s.o)(l.g),MatrixWidth:Object(s.o)(l.g),MatrixHeight:Object(s.o)(l.g)},Object(s.s)(h,{Identifier:Object(s.o)(l.h)}));function I(e,t){var o=Object(s.v)([],C,e,t);if(2==o.length)return Object(a.c)(o)}function O(e,t){var o=Object(l.h)(e).split(/\s+/);if(o&&2==o.length){var n=+o[0],r=+o[1];if(!isNaN(n)&&!isNaN(r))return[n,r]}}t.a=f},"./node_modules/ol/format/XML.js":function(e,t,o){"use strict";var n=o("./node_modules/ol/xml.js"),r=function(){function e(){}return e.prototype.read=function(e){if(e){if("string"==typeof e){var t=Object(n.t)(e);return this.readFromDocument(t)}return Object(n.i)(e)?this.readFromDocument(e):this.readFromNode(e)}return null},e.prototype.readFromDocument=function(e){for(var t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.readFromNode(t);return null},e.prototype.readFromNode=function(e){},e}();t.a=r},"./node_modules/ol/format/XMLFeature.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/format/Feature.js"),i=o("./node_modules/ol/format/FormatType.js"),a=o("./node_modules/ol/util.js"),s=o("./node_modules/ol/array.js"),l=o("./node_modules/ol/xml.js"),c=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),u=function(e){function t(){var t=e.call(this)||this;return t.xmlSerializer_=Object(l.h)(),t}return c(t,e),t.prototype.getType=function(){return i.a.XML},t.prototype.readFeature=function(e,t){if(e){if("string"==typeof e){var o=Object(l.t)(e);return this.readFeatureFromDocument(o,t)}return Object(l.i)(e)?this.readFeatureFromDocument(e,t):this.readFeatureFromNode(e,t)}return null},t.prototype.readFeatureFromDocument=function(e,t){var o=this.readFeaturesFromDocument(e,t);return o.length>0?o[0]:null},t.prototype.readFeatureFromNode=function(e,t){return null},t.prototype.readFeatures=function(e,t){if(e){if("string"==typeof e){var o=Object(l.t)(e);return this.readFeaturesFromDocument(o,t)}return Object(l.i)(e)?this.readFeaturesFromDocument(e,t):this.readFeaturesFromNode(e,t)}return[]},t.prototype.readFeaturesFromDocument=function(e,t){for(var o=[],n=e.firstChild;n;n=n.nextSibling)n.nodeType==Node.ELEMENT_NODE&&Object(s.c)(o,this.readFeaturesFromNode(n,t));return o},t.prototype.readFeaturesFromNode=function(e,t){return Object(a.b)()},t.prototype.readGeometry=function(e,t){if(e){if("string"==typeof e){var o=Object(l.t)(e);return this.readGeometryFromDocument(o,t)}return Object(l.i)(e)?this.readGeometryFromDocument(e,t):this.readGeometryFromNode(e,t)}return null},t.prototype.readGeometryFromDocument=function(e,t){return null},t.prototype.readGeometryFromNode=function(e,t){return null},t.prototype.readProjection=function(e){if(e){if("string"==typeof e){var t=Object(l.t)(e);return this.readProjectionFromDocument(t)}return Object(l.i)(e)?this.readProjectionFromDocument(e):this.readProjectionFromNode(e)}return null},t.prototype.readProjectionFromDocument=function(e){return this.dataProjection},t.prototype.readProjectionFromNode=function(e){return this.dataProjection},t.prototype.writeFeature=function(e,t){var o=this.writeFeatureNode(e,t);return this.xmlSerializer_.serializeToString(o)},t.prototype.writeFeatureNode=function(e,t){return null},t.prototype.writeFeatures=function(e,t){var o=this.writeFeaturesNode(e,t);return this.xmlSerializer_.serializeToString(o)},t.prototype.writeFeaturesNode=function(e,t){return null},t.prototype.writeGeometry=function(e,t){var o=this.writeGeometryNode(e,t);return this.xmlSerializer_.serializeToString(o)},t.prototype.writeGeometryNode=function(e,t){return null},t}(r.a);t.a=u},"./node_modules/ol/format/xlink.js":function(e,t,o){"use strict";o.d(t,"a",(function(){return n}));function n(e){return e.getAttributeNS("http://www.w3.org/1999/xlink","href")}},"./node_modules/ol/format/xsd.js":function(e,t,o){"use strict";o.d(t,"a",(function(){return i})),o.d(t,"b",(function(){return a})),o.d(t,"c",(function(){return s})),o.d(t,"d",(function(){return l})),o.d(t,"e",(function(){return c})),o.d(t,"g",(function(){return u})),o.d(t,"f",(function(){return d})),o.d(t,"h",(function(){return h})),o.d(t,"i",(function(){return p})),o.d(t,"j",(function(){return f})),o.d(t,"k",(function(){return g})),o.d(t,"l",(function(){return m})),o.d(t,"m",(function(){return y})),o.d(t,"n",(function(){return v}));var n=o("./node_modules/ol/xml.js"),r=o("./node_modules/ol/string.js");function i(e){return a(Object(n.d)(e,!1))}function a(e){var t=/^\s*(true|1)|(false|0)\s*$/.exec(e);return t?void 0!==t[1]||!1:void 0}function s(e){var t=Object(n.d)(e,!1),o=Date.parse(t);return isNaN(o)?void 0:o/1e3}function l(e){return c(Object(n.d)(e,!1))}function c(e){var t=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(e);return t?parseFloat(t[1]):void 0}function u(e){return d(Object(n.d)(e,!1))}function d(e){var t=/^\s*(\d+)\s*$/.exec(e);return t?parseInt(t[1],10):void 0}function h(e){return Object(n.d)(e,!1).trim()}function p(e,t){v(e,t?"1":"0")}function f(e,t){e.appendChild(Object(n.g)().createCDATASection(t))}function g(e,t){var o=new Date(1e3*t),i=o.getUTCFullYear()+"-"+Object(r.b)(o.getUTCMonth()+1,2)+"-"+Object(r.b)(o.getUTCDate(),2)+"T"+Object(r.b)(o.getUTCHours(),2)+":"+Object(r.b)(o.getUTCMinutes(),2)+":"+Object(r.b)(o.getUTCSeconds(),2)+"Z";e.appendChild(Object(n.g)().createTextNode(i))}function m(e,t){var o=t.toPrecision();e.appendChild(Object(n.g)().createTextNode(o))}function y(e,t){var o=t.toString();e.appendChild(Object(n.g)().createTextNode(o))}function v(e,t){e.appendChild(Object(n.g)().createTextNode(t))}},"./node_modules/ol/functions.js":function(e,t,o){"use strict";o.d(t,"b",(function(){return r})),o.d(t,"a",(function(){return i})),o.d(t,"c",(function(){return a})),o.d(t,"d",(function(){return s}));var n=o("./node_modules/ol/array.js");function r(){return!0}function i(){return!1}function a(){}function s(e){var t,o,r,i=!1;return function(){var a=Array.prototype.slice.call(arguments);return i&&this===r&&Object(n.b)(a,o)||(i=!0,r=this,o=a,t=e.apply(this,arguments)),t}}},"./node_modules/ol/geom/Circle.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/geom/GeometryType.js"),i=o("./node_modules/ol/geom/SimpleGeometry.js"),a=o("./node_modules/ol/extent.js"),s=o("./node_modules/ol/geom/flat/deflate.js"),l=o("./node_modules/ol/geom/flat/transform.js"),c=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),u=function(e){function t(t,o,n){var r=e.call(this)||this;if(void 0!==n&&void 0===o)r.setFlatCoordinates(n,t);else{var i=o||0;r.setCenterAndRadius(t,i,n)}return r}return c(t,e),t.prototype.clone=function(){var e=new t(this.flatCoordinates.slice(),void 0,this.layout);return e.applyProperties(this),e},t.prototype.closestPointXY=function(e,t,o,n){var r=this.flatCoordinates,i=e-r[0],a=t-r[1],s=i*i+a*a;if(s<n){if(0===s)for(var l=0;l<this.stride;++l)o[l]=r[l];else{var c=this.getRadius()/Math.sqrt(s);o[0]=r[0]+c*i,o[1]=r[1]+c*a;for(l=2;l<this.stride;++l)o[l]=r[l]}return o.length=this.stride,s}return n},t.prototype.containsXY=function(e,t){var o=this.flatCoordinates,n=e-o[0],r=t-o[1];return n*n+r*r<=this.getRadiusSquared_()},t.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)},t.prototype.computeExtent=function(e){var t=this.flatCoordinates,o=t[this.stride]-t[0];return Object(a.l)(t[0]-o,t[1]-o,t[0]+o,t[1]+o,e)},t.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())},t.prototype.getRadiusSquared_=function(){var e=this.flatCoordinates[this.stride]-this.flatCoordinates[0],t=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return e*e+t*t},t.prototype.getType=function(){return r.a.CIRCLE},t.prototype.intersectsExtent=function(e){var t=this.getExtent();if(Object(a.O)(e,t)){var o=this.getCenter();return e[0]<=o[0]&&e[2]>=o[0]||(e[1]<=o[1]&&e[3]>=o[1]||Object(a.y)(e,this.intersectsCoordinate.bind(this)))}return!1},t.prototype.setCenter=function(e){var t=this.stride,o=this.flatCoordinates[t]-this.flatCoordinates[0],n=e.slice();n[t]=n[0]+o;for(var r=1;r<t;++r)n[t+r]=e[r];this.setFlatCoordinates(this.layout,n),this.changed()},t.prototype.setCenterAndRadius=function(e,t,o){this.setLayout(o,e,0),this.flatCoordinates||(this.flatCoordinates=[]);var n=this.flatCoordinates,r=Object(s.a)(n,0,e,this.stride);n[r++]=n[0]+t;for(var i=1,a=this.stride;i<a;++i)n[r++]=n[i];n.length=r,this.changed()},t.prototype.getCoordinates=function(){return null},t.prototype.setCoordinates=function(e,t){},t.prototype.setRadius=function(e){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+e,this.changed()},t.prototype.rotate=function(e,t){var o=this.getCenter(),n=this.getStride();this.setCenter(Object(l.a)(o,0,o.length,n,e,t,o)),this.changed()},t.prototype.translate=function(e,t){var o=this.getCenter(),n=this.getStride();this.setCenter(Object(l.d)(o,0,o.length,n,e,t,o)),this.changed()},t}(i.a);u.prototype.transform,t.a=u},"./node_modules/ol/geom/Geometry.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/Object.js"),i=o("./node_modules/ol/proj/Units.js"),a=o("./node_modules/ol/util.js"),s=o("./node_modules/ol/transform.js"),l=o("./node_modules/ol/extent.js"),c=o("./node_modules/ol/proj.js"),u=o("./node_modules/ol/functions.js"),d=o("./node_modules/ol/geom/flat/transform.js"),h=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),p=Object(s.d)(),f=function(e){function t(){var t=e.call(this)||this;return t.extent_=Object(l.k)(),t.extentRevision_=-1,t.simplifiedGeometryMaxMinSquaredTolerance=0,t.simplifiedGeometryRevision=0,t.simplifyTransformedInternal=Object(u.d)((function(e,t,o){if(!o)return this.getSimplifiedGeometry(t);var n=this.clone();return n.applyTransform(o),n.getSimplifiedGeometry(t)})),t}return h(t,e),t.prototype.simplifyTransformed=function(e,t){return this.simplifyTransformedInternal(this.getRevision(),e,t)},t.prototype.clone=function(){return Object(a.b)()},t.prototype.closestPointXY=function(e,t,o,n){return Object(a.b)()},t.prototype.containsXY=function(e,t){var o=this.getClosestPoint([e,t]);return o[0]===e&&o[1]===t},t.prototype.getClosestPoint=function(e,t){var o=t||[NaN,NaN];return this.closestPointXY(e[0],e[1],o,1/0),o},t.prototype.intersectsCoordinate=function(e){return this.containsXY(e[0],e[1])},t.prototype.computeExtent=function(e){return Object(a.b)()},t.prototype.getExtent=function(e){if(this.extentRevision_!=this.getRevision()){var t=this.computeExtent(this.extent_);(isNaN(t[0])||isNaN(t[1]))&&Object(l.m)(t),this.extentRevision_=this.getRevision()}return Object(l.R)(this.extent_,e)},t.prototype.rotate=function(e,t){Object(a.b)()},t.prototype.scale=function(e,t,o){Object(a.b)()},t.prototype.simplify=function(e){return this.getSimplifiedGeometry(e*e)},t.prototype.getSimplifiedGeometry=function(e){return Object(a.b)()},t.prototype.getType=function(){return Object(a.b)()},t.prototype.applyTransform=function(e){Object(a.b)()},t.prototype.intersectsExtent=function(e){return Object(a.b)()},t.prototype.translate=function(e,t){Object(a.b)()},t.prototype.transform=function(e,t){var o=Object(c.t)(e),n=o.getUnits()==i.b.TILE_PIXELS?function(e,n,r){var i=o.getExtent(),a=o.getWorldExtent(),u=Object(l.G)(a)/Object(l.G)(i);return Object(s.b)(p,a[0],a[3],u,-u,0,0,0),Object(d.c)(e,0,e.length,r,p,n),Object(c.v)(o,t)(e,n,r)}:Object(c.v)(o,t);return this.applyTransform(n),this},t}(r.b);t.a=f},"./node_modules/ol/geom/GeometryCollection.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/events/EventType.js"),i=o("./node_modules/ol/geom/Geometry.js"),a=o("./node_modules/ol/geom/GeometryType.js"),s=o("./node_modules/ol/extent.js"),l=o("./node_modules/ol/events.js"),c=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),u=function(e){function t(t){var o=e.call(this)||this;return o.geometries_=t||null,o.changeEventsKeys_=[],o.listenGeometriesChange_(),o}return c(t,e),t.prototype.unlistenGeometriesChange_=function(){this.changeEventsKeys_.forEach(l.c),this.changeEventsKeys_.length=0},t.prototype.listenGeometriesChange_=function(){if(this.geometries_)for(var e=0,t=this.geometries_.length;e<t;++e)this.changeEventsKeys_.push(Object(l.a)(this.geometries_[e],r.a.CHANGE,this.changed,this))},t.prototype.clone=function(){var e=new t(null);return e.setGeometries(this.geometries_),e.applyProperties(this),e},t.prototype.closestPointXY=function(e,t,o,n){if(n<Object(s.f)(this.getExtent(),e,t))return n;for(var r=this.geometries_,i=0,a=r.length;i<a;++i)n=r[i].closestPointXY(e,t,o,n);return n},t.prototype.containsXY=function(e,t){for(var o=this.geometries_,n=0,r=o.length;n<r;++n)if(o[n].containsXY(e,t))return!0;return!1},t.prototype.computeExtent=function(e){Object(s.m)(e);for(var t=this.geometries_,o=0,n=t.length;o<n;++o)Object(s.s)(e,t[o].getExtent());return e},t.prototype.getGeometries=function(){return d(this.geometries_)},t.prototype.getGeometriesArray=function(){return this.geometries_},t.prototype.getGeometriesArrayRecursive=function(){for(var e=[],t=this.geometries_,o=0,n=t.length;o<n;++o)t[o].getType()===this.getType()?e=e.concat(t[o].getGeometriesArrayRecursive()):e.push(t[o]);return e},t.prototype.getSimplifiedGeometry=function(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;for(var o=[],n=this.geometries_,r=!1,i=0,a=n.length;i<a;++i){var s=n[i],l=s.getSimplifiedGeometry(e);o.push(l),l!==s&&(r=!0)}if(r){var c=new t(null);return c.setGeometriesArray(o),c}return this.simplifiedGeometryMaxMinSquaredTolerance=e,this},t.prototype.getType=function(){return a.a.GEOMETRY_COLLECTION},t.prototype.intersectsExtent=function(e){for(var t=this.geometries_,o=0,n=t.length;o<n;++o)if(t[o].intersectsExtent(e))return!0;return!1},t.prototype.isEmpty=function(){return 0===this.geometries_.length},t.prototype.rotate=function(e,t){for(var o=this.geometries_,n=0,r=o.length;n<r;++n)o[n].rotate(e,t);this.changed()},t.prototype.scale=function(e,t,o){var n=o;n||(n=Object(s.C)(this.getExtent()));for(var r=this.geometries_,i=0,a=r.length;i<a;++i)r[i].scale(e,t,n);this.changed()},t.prototype.setGeometries=function(e){this.setGeometriesArray(d(e))},t.prototype.setGeometriesArray=function(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()},t.prototype.applyTransform=function(e){for(var t=this.geometries_,o=0,n=t.length;o<n;++o)t[o].applyTransform(e);this.changed()},t.prototype.translate=function(e,t){for(var o=this.geometries_,n=0,r=o.length;n<r;++n)o[n].translate(e,t);this.changed()},t.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),e.prototype.disposeInternal.call(this)},t}(i.a);function d(e){for(var t=[],o=0,n=e.length;o<n;++o)t.push(e[o].clone());return t}t.a=u},"./node_modules/ol/geom/GeometryLayout.js":function(e,t,o){"use strict";t.a={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"}},"./node_modules/ol/geom/GeometryType.js":function(e,t,o){"use strict";t.a={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"}},"./node_modules/ol/geom/LineString.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/geom/GeometryLayout.js"),i=o("./node_modules/ol/geom/GeometryType.js"),a=o("./node_modules/ol/geom/SimpleGeometry.js"),s=o("./node_modules/ol/geom/flat/closest.js"),l=o("./node_modules/ol/extent.js"),c=o("./node_modules/ol/geom/flat/deflate.js"),u=o("./node_modules/ol/geom/flat/simplify.js"),d=o("./node_modules/ol/array.js"),h=o("./node_modules/ol/geom/flat/segments.js"),p=o("./node_modules/ol/geom/flat/inflate.js"),f=o("./node_modules/ol/geom/flat/interpolate.js"),g=o("./node_modules/ol/geom/flat/intersectsextent.js"),m=o("./node_modules/ol/geom/flat/length.js"),y=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),v=function(e){function t(t,o){var n=e.call(this)||this;return n.flatMidpoint_=null,n.flatMidpointRevision_=-1,n.maxDelta_=-1,n.maxDeltaRevision_=-1,void 0===o||Array.isArray(t[0])?n.setCoordinates(t,o):n.setFlatCoordinates(o,t),n}return y(t,e),t.prototype.appendCoordinate=function(e){this.flatCoordinates?Object(d.c)(this.flatCoordinates,e):this.flatCoordinates=e.slice(),this.changed()},t.prototype.clone=function(){var e=new t(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e},t.prototype.closestPointXY=function(e,t,o,n){return n<Object(l.f)(this.getExtent(),e,t)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(s.e)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(s.d)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,e,t,o,n))},t.prototype.forEachSegment=function(e){return Object(h.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)},t.prototype.getCoordinateAtM=function(e,t){if(this.layout!=r.a.XYM&&this.layout!=r.a.XYZM)return null;var o=void 0!==t&&t;return Object(f.b)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,o)},t.prototype.getCoordinates=function(){return Object(p.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getCoordinateAt=function(e,t){return Object(f.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,this.stride)},t.prototype.getLength=function(){return Object(m.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},t.prototype.getSimplifiedGeometryInternal=function(e){var o=[];return o.length=Object(u.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,o,0),new t(o,r.a.XY)},t.prototype.getType=function(){return i.a.LINE_STRING},t.prototype.intersectsExtent=function(e){return Object(g.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)},t.prototype.setCoordinates=function(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(c.b)(this.flatCoordinates,0,e,this.stride),this.changed()},t}(a.a);t.a=v},"./node_modules/ol/geom/LinearRing.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/geom/GeometryLayout.js"),i=o("./node_modules/ol/geom/GeometryType.js"),a=o("./node_modules/ol/geom/SimpleGeometry.js"),s=o("./node_modules/ol/geom/flat/closest.js"),l=o("./node_modules/ol/extent.js"),c=o("./node_modules/ol/geom/flat/deflate.js"),u=o("./node_modules/ol/geom/flat/simplify.js"),d=o("./node_modules/ol/geom/flat/inflate.js"),h=o("./node_modules/ol/geom/flat/area.js"),p=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),f=function(e){function t(t,o){var n=e.call(this)||this;return n.maxDelta_=-1,n.maxDeltaRevision_=-1,void 0===o||Array.isArray(t[0])?n.setCoordinates(t,o):n.setFlatCoordinates(o,t),n}return p(t,e),t.prototype.clone=function(){return new t(this.flatCoordinates.slice(),this.layout)},t.prototype.closestPointXY=function(e,t,o,n){return n<Object(l.f)(this.getExtent(),e,t)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(s.e)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(s.d)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,t,o,n))},t.prototype.getArea=function(){return Object(h.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getCoordinates=function(){return Object(d.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getSimplifiedGeometryInternal=function(e){var o=[];return o.length=Object(u.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,o,0),new t(o,r.a.XY)},t.prototype.getType=function(){return i.a.LINEAR_RING},t.prototype.intersectsExtent=function(e){return!1},t.prototype.setCoordinates=function(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(c.b)(this.flatCoordinates,0,e,this.stride),this.changed()},t}(a.a);t.a=f},"./node_modules/ol/geom/MultiLineString.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/geom/GeometryLayout.js"),i=o("./node_modules/ol/geom/GeometryType.js"),a=o("./node_modules/ol/geom/LineString.js"),s=o("./node_modules/ol/geom/SimpleGeometry.js"),l=o("./node_modules/ol/geom/flat/closest.js"),c=o("./node_modules/ol/extent.js"),u=o("./node_modules/ol/geom/flat/deflate.js"),d=o("./node_modules/ol/geom/flat/simplify.js"),h=o("./node_modules/ol/array.js"),p=o("./node_modules/ol/geom/flat/inflate.js"),f=o("./node_modules/ol/geom/flat/interpolate.js"),g=o("./node_modules/ol/geom/flat/intersectsextent.js"),m=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),y=function(e){function t(t,o,n){var r=e.call(this)||this;if(r.ends_=[],r.maxDelta_=-1,r.maxDeltaRevision_=-1,Array.isArray(t[0]))r.setCoordinates(t,o);else if(void 0!==o&&n)r.setFlatCoordinates(o,t),r.ends_=n;else{for(var i=r.getLayout(),a=t,s=[],l=[],c=0,u=a.length;c<u;++c){var d=a[c];0===c&&(i=d.getLayout()),Object(h.c)(s,d.getFlatCoordinates()),l.push(s.length)}r.setFlatCoordinates(i,s),r.ends_=l}return r}return m(t,e),t.prototype.appendLineString=function(e){this.flatCoordinates?Object(h.c)(this.flatCoordinates,e.getFlatCoordinates().slice()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},t.prototype.clone=function(){var e=new t(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e},t.prototype.closestPointXY=function(e,t,o,n){return n<Object(c.f)(this.getExtent(),e,t)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(l.a)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(l.b)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,e,t,o,n))},t.prototype.getCoordinateAtM=function(e,t,o){if(this.layout!=r.a.XYM&&this.layout!=r.a.XYZM||0===this.flatCoordinates.length)return null;var n=void 0!==t&&t,i=void 0!==o&&o;return Object(f.c)(this.flatCoordinates,0,this.ends_,this.stride,e,n,i)},t.prototype.getCoordinates=function(){return Object(p.b)(this.flatCoordinates,0,this.ends_,this.stride)},t.prototype.getEnds=function(){return this.ends_},t.prototype.getLineString=function(e){return e<0||this.ends_.length<=e?null:new a.a(this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e]),this.layout)},t.prototype.getLineStrings=function(){for(var e=this.flatCoordinates,t=this.ends_,o=this.layout,n=[],r=0,i=0,s=t.length;i<s;++i){var l=t[i],c=new a.a(e.slice(r,l),o);n.push(c),r=l}return n},t.prototype.getFlatMidpoints=function(){for(var e=[],t=this.flatCoordinates,o=0,n=this.ends_,r=this.stride,i=0,a=n.length;i<a;++i){var s=n[i],l=Object(f.a)(t,o,s,r,.5);Object(h.c)(e,l),o=s}return e},t.prototype.getSimplifiedGeometryInternal=function(e){var o=[],n=[];return o.length=Object(d.b)(this.flatCoordinates,0,this.ends_,this.stride,e,o,0,n),new t(o,r.a.XY,n)},t.prototype.getType=function(){return i.a.MULTI_LINE_STRING},t.prototype.intersectsExtent=function(e){return Object(g.b)(this.flatCoordinates,0,this.ends_,this.stride,e)},t.prototype.setCoordinates=function(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);var o=Object(u.c)(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=0===o.length?0:o[o.length-1],this.changed()},t}(s.a);t.a=y},"./node_modules/ol/geom/MultiPoint.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/geom/GeometryType.js"),i=o("./node_modules/ol/geom/Point.js"),a=o("./node_modules/ol/geom/SimpleGeometry.js"),s=o("./node_modules/ol/extent.js"),l=o("./node_modules/ol/geom/flat/deflate.js"),c=o("./node_modules/ol/array.js"),u=o("./node_modules/ol/geom/flat/inflate.js"),d=o("./node_modules/ol/math.js"),h=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),p=function(e){function t(t,o){var n=e.call(this)||this;return o&&!Array.isArray(t[0])?n.setFlatCoordinates(o,t):n.setCoordinates(t,o),n}return h(t,e),t.prototype.appendPoint=function(e){this.flatCoordinates?Object(c.c)(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.changed()},t.prototype.clone=function(){var e=new t(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e},t.prototype.closestPointXY=function(e,t,o,n){if(n<Object(s.f)(this.getExtent(),e,t))return n;for(var r=this.flatCoordinates,i=this.stride,a=0,l=r.length;a<l;a+=i){var c=Object(d.g)(e,t,r[a],r[a+1]);if(c<n){n=c;for(var u=0;u<i;++u)o[u]=r[a+u];o.length=i}}return n},t.prototype.getCoordinates=function(){return Object(u.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getPoint=function(e){var t=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return e<0||t<=e?null:new i.a(this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride),this.layout)},t.prototype.getPoints=function(){for(var e=this.flatCoordinates,t=this.layout,o=this.stride,n=[],r=0,a=e.length;r<a;r+=o){var s=new i.a(e.slice(r,r+o),t);n.push(s)}return n},t.prototype.getType=function(){return r.a.MULTI_POINT},t.prototype.intersectsExtent=function(e){for(var t=this.flatCoordinates,o=this.stride,n=0,r=t.length;n<r;n+=o){var i=t[n],a=t[n+1];if(Object(s.i)(e,i,a))return!0}return!1},t.prototype.setCoordinates=function(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(l.b)(this.flatCoordinates,0,e,this.stride),this.changed()},t}(a.a);t.a=p},"./node_modules/ol/geom/MultiPolygon.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/geom/GeometryLayout.js"),i=o("./node_modules/ol/geom/GeometryType.js"),a=o("./node_modules/ol/geom/MultiPoint.js"),s=o("./node_modules/ol/geom/Polygon.js"),l=o("./node_modules/ol/geom/SimpleGeometry.js"),c=o("./node_modules/ol/geom/flat/closest.js"),u=o("./node_modules/ol/extent.js"),d=o("./node_modules/ol/geom/flat/deflate.js"),h=o("./node_modules/ol/array.js"),p=o("./node_modules/ol/geom/flat/interiorpoint.js"),f=o("./node_modules/ol/geom/flat/inflate.js"),g=o("./node_modules/ol/geom/flat/intersectsextent.js"),m=o("./node_modules/ol/geom/flat/orient.js"),y=o("./node_modules/ol/geom/flat/area.js"),v=o("./node_modules/ol/geom/flat/center.js"),_=o("./node_modules/ol/geom/flat/contains.js"),b=o("./node_modules/ol/geom/flat/simplify.js"),A=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),C=function(e){function t(t,o,n){var r=e.call(this)||this;if(r.endss_=[],r.flatInteriorPointsRevision_=-1,r.flatInteriorPoints_=null,r.maxDelta_=-1,r.maxDeltaRevision_=-1,r.orientedRevision_=-1,r.orientedFlatCoordinates_=null,!n&&!Array.isArray(t[0])){for(var i=r.getLayout(),a=t,s=[],l=[],c=0,u=a.length;c<u;++c){var d=a[c];0===c&&(i=d.getLayout());for(var p=s.length,f=d.getEnds(),g=0,m=f.length;g<m;++g)f[g]+=p;Object(h.c)(s,d.getFlatCoordinates()),l.push(f)}o=i,t=s,n=l}return void 0!==o&&n?(r.setFlatCoordinates(o,t),r.endss_=n):r.setCoordinates(t,o),r}return A(t,e),t.prototype.appendPolygon=function(e){var t;if(this.flatCoordinates){var o=this.flatCoordinates.length;Object(h.c)(this.flatCoordinates,e.getFlatCoordinates());for(var n=0,r=(t=e.getEnds().slice()).length;n<r;++n)t[n]+=o}else this.flatCoordinates=e.getFlatCoordinates().slice(),t=e.getEnds().slice(),this.endss_.push();this.endss_.push(t),this.changed()},t.prototype.clone=function(){for(var e=this.endss_.length,o=new Array(e),n=0;n<e;++n)o[n]=this.endss_[n].slice();var r=new t(this.flatCoordinates.slice(),this.layout,o);return r.applyProperties(this),r},t.prototype.closestPointXY=function(e,t,o,n){return n<Object(u.f)(this.getExtent(),e,t)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(c.f)(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(c.c)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,e,t,o,n))},t.prototype.containsXY=function(e,t){return Object(_.d)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,t)},t.prototype.getArea=function(){return Object(y.c)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},t.prototype.getCoordinates=function(e){var t;return void 0!==e?(t=this.getOrientedFlatCoordinates().slice(),Object(m.e)(t,0,this.endss_,this.stride,e)):t=this.flatCoordinates,Object(f.c)(t,0,this.endss_,this.stride)},t.prototype.getEndss=function(){return this.endss_},t.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var e=Object(v.a)(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=Object(p.b)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},t.prototype.getInteriorPoints=function(){return new a.a(this.getFlatInteriorPoints().slice(),r.a.XYM)},t.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var e=this.flatCoordinates;Object(m.c)(e,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=Object(m.e)(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},t.prototype.getSimplifiedGeometryInternal=function(e){var o=[],n=[];return o.length=Object(b.f)(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(e),o,0,n),new t(o,r.a.XY,n)},t.prototype.getPolygon=function(e){if(e<0||this.endss_.length<=e)return null;var t;if(0===e)t=0;else{var o=this.endss_[e-1];t=o[o.length-1]}var n=this.endss_[e].slice(),r=n[n.length-1];if(0!==t)for(var i=0,a=n.length;i<a;++i)n[i]-=t;return new s.b(this.flatCoordinates.slice(t,r),this.layout,n)},t.prototype.getPolygons=function(){for(var e=this.layout,t=this.flatCoordinates,o=this.endss_,n=[],r=0,i=0,a=o.length;i<a;++i){var l=o[i].slice(),c=l[l.length-1];if(0!==r)for(var u=0,d=l.length;u<d;++u)l[u]-=r;var h=new s.b(t.slice(r,c),e,l);n.push(h),r=c}return n},t.prototype.getType=function(){return i.a.MULTI_POLYGON},t.prototype.intersectsExtent=function(e){return Object(g.e)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)},t.prototype.setCoordinates=function(e,t){this.setLayout(t,e,3),this.flatCoordinates||(this.flatCoordinates=[]);var o=Object(d.d)(this.flatCoordinates,0,e,this.stride,this.endss_);if(0===o.length)this.flatCoordinates.length=0;else{var n=o[o.length-1];this.flatCoordinates.length=0===n.length?0:n[n.length-1]}this.changed()},t}(l.a);t.a=C},"./node_modules/ol/geom/Point.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/geom/GeometryType.js"),i=o("./node_modules/ol/geom/SimpleGeometry.js"),a=o("./node_modules/ol/extent.js"),s=o("./node_modules/ol/geom/flat/deflate.js"),l=o("./node_modules/ol/math.js"),c=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),u=function(e){function t(t,o){var n=e.call(this)||this;return n.setCoordinates(t,o),n}return c(t,e),t.prototype.clone=function(){var e=new t(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e},t.prototype.closestPointXY=function(e,t,o,n){var r=this.flatCoordinates,i=Object(l.g)(e,t,r[0],r[1]);if(i<n){for(var a=this.stride,s=0;s<a;++s)o[s]=r[s];return o.length=a,i}return n},t.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},t.prototype.computeExtent=function(e){return Object(a.n)(this.flatCoordinates,e)},t.prototype.getType=function(){return r.a.POINT},t.prototype.intersectsExtent=function(e){return Object(a.i)(e,this.flatCoordinates[0],this.flatCoordinates[1])},t.prototype.setCoordinates=function(e,t){this.setLayout(t,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(s.a)(this.flatCoordinates,0,e,this.stride),this.changed()},t}(i.a);t.a=u},"./node_modules/ol/geom/Polygon.js":function(e,t,o){"use strict";o.d(t,"a",(function(){return E})),o.d(t,"d",(function(){return I})),o.d(t,"c",(function(){return O})),o.d(t,"e",(function(){return S}));var n,r=o("./node_modules/ol/geom/GeometryLayout.js"),i=o("./node_modules/ol/geom/GeometryType.js"),a=o("./node_modules/ol/geom/LinearRing.js"),s=o("./node_modules/ol/geom/Point.js"),l=o("./node_modules/ol/geom/SimpleGeometry.js"),c=o("./node_modules/ol/geom/flat/closest.js"),u=o("./node_modules/ol/extent.js"),d=o("./node_modules/ol/geom/flat/deflate.js"),h=o("./node_modules/ol/array.js"),p=o("./node_modules/ol/geom/flat/interiorpoint.js"),f=o("./node_modules/ol/geom/flat/inflate.js"),g=o("./node_modules/ol/geom/flat/intersectsextent.js"),m=o("./node_modules/ol/geom/flat/orient.js"),y=o("./node_modules/ol/geom/flat/area.js"),v=o("./node_modules/ol/geom/flat/contains.js"),_=o("./node_modules/ol/math.js"),b=o("./node_modules/ol/geom/flat/simplify.js"),A=o("./node_modules/ol/sphere.js"),C=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),w=function(e){function t(t,o,n){var r=e.call(this)||this;return r.ends_=[],r.flatInteriorPointRevision_=-1,r.flatInteriorPoint_=null,r.maxDelta_=-1,r.maxDeltaRevision_=-1,r.orientedRevision_=-1,r.orientedFlatCoordinates_=null,void 0!==o&&n?(r.setFlatCoordinates(o,t),r.ends_=n):r.setCoordinates(t,o),r}return C(t,e),t.prototype.appendLinearRing=function(e){this.flatCoordinates?Object(h.c)(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},t.prototype.clone=function(){var e=new t(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e},t.prototype.closestPointXY=function(e,t,o,n){return n<Object(u.f)(this.getExtent(),e,t)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(c.a)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(c.b)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,t,o,n))},t.prototype.containsXY=function(e,t){return Object(v.c)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,t)},t.prototype.getArea=function(){return Object(y.b)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},t.prototype.getCoordinates=function(e){var t;return void 0!==e?(t=this.getOrientedFlatCoordinates().slice(),Object(m.d)(t,0,this.ends_,this.stride,e)):t=this.flatCoordinates,Object(f.b)(t,0,this.ends_,this.stride)},t.prototype.getEnds=function(){return this.ends_},t.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var e=Object(u.C)(this.getExtent());this.flatInteriorPoint_=Object(p.a)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},t.prototype.getInteriorPoint=function(){return new s.a(this.getFlatInteriorPoint(),r.a.XYM)},t.prototype.getLinearRingCount=function(){return this.ends_.length},t.prototype.getLinearRing=function(e){return e<0||this.ends_.length<=e?null:new a.a(this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e]),this.layout)},t.prototype.getLinearRings=function(){for(var e=this.layout,t=this.flatCoordinates,o=this.ends_,n=[],r=0,i=0,s=o.length;i<s;++i){var l=o[i],c=new a.a(t.slice(r,l),e);n.push(c),r=l}return n},t.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var e=this.flatCoordinates;Object(m.b)(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=Object(m.d)(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},t.prototype.getSimplifiedGeometryInternal=function(e){var o=[],n=[];return o.length=Object(b.e)(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),o,0,n),new t(o,r.a.XY,n)},t.prototype.getType=function(){return i.a.POLYGON},t.prototype.intersectsExtent=function(e){return Object(g.d)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)},t.prototype.setCoordinates=function(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);var o=Object(d.c)(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=0===o.length?0:o[o.length-1],this.changed()},t}(l.a);function E(e,t,o,n){for(var i=o||32,a=[],s=0;s<i;++s)Object(h.c)(a,Object(A.e)(e,t,2*Math.PI*s/i,n));return a.push(a[0],a[1]),new w(a,r.a.XY,[a.length])}function I(e){var t=e[0],o=e[1],n=e[2],i=e[3],a=[t,o,t,i,n,i,n,o,t,o];return new w(a,r.a.XY,[a.length])}function O(e,t,o){for(var n=t||32,r=e.getStride(),i=e.getLayout(),a=e.getCenter(),s=r*(n+1),l=new Array(s),c=0;c<s;c+=r){l[c]=0,l[c+1]=0;for(var u=2;u<r;u++)l[c+u]=a[u]}var d=[l.length],h=new w(l,i,d);return S(h,a,e.getRadius(),o),h}function S(e,t,o,n){for(var r=e.getFlatCoordinates(),i=e.getStride(),a=r.length/i-1,s=n||0,l=0;l<=a;++l){var c=l*i,u=s+2*Object(_.e)(l,a)*Math.PI/a;r[c]=t[0]+o*Math.cos(u),r[c+1]=t[1]+o*Math.sin(u)}e.changed()}t.b=w},"./node_modules/ol/geom/SimpleGeometry.js":function(e,t,o){"use strict";o.d(t,"b",(function(){return d})),o.d(t,"c",(function(){return h}));var n,r=o("./node_modules/ol/geom/Geometry.js"),i=o("./node_modules/ol/geom/GeometryLayout.js"),a=o("./node_modules/ol/util.js"),s=o("./node_modules/ol/extent.js"),l=o("./node_modules/ol/geom/flat/transform.js"),c=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),u=function(e){function t(){var t=e.call(this)||this;return t.layout=i.a.XY,t.stride=2,t.flatCoordinates=null,t}return c(t,e),t.prototype.computeExtent=function(e){return Object(s.p)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)},t.prototype.getCoordinates=function(){return Object(a.b)()},t.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},t.prototype.getFlatCoordinates=function(){return this.flatCoordinates},t.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},t.prototype.getLayout=function(){return this.layout},t.prototype.getSimplifiedGeometry=function(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var t=this.getSimplifiedGeometryInternal(e);return t.getFlatCoordinates().length<this.flatCoordinates.length?t:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)},t.prototype.getSimplifiedGeometryInternal=function(e){return this},t.prototype.getStride=function(){return this.stride},t.prototype.setFlatCoordinates=function(e,t){this.stride=d(e),this.layout=e,this.flatCoordinates=t},t.prototype.setCoordinates=function(e,t){Object(a.b)()},t.prototype.setLayout=function(e,t,o){var n;if(e)n=d(e);else{for(var r=0;r<o;++r){if(0===t.length)return this.layout=i.a.XY,void(this.stride=2);t=t[0]}e=function(e){var t;2==e?t=i.a.XY:3==e?t=i.a.XYZ:4==e&&(t=i.a.XYZM);return t}(n=t.length)}this.layout=e,this.stride=n},t.prototype.applyTransform=function(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},t.prototype.rotate=function(e,t){var o=this.getFlatCoordinates();if(o){var n=this.getStride();Object(l.a)(o,0,o.length,n,e,t,o),this.changed()}},t.prototype.scale=function(e,t,o){var n=t;void 0===n&&(n=e);var r=o;r||(r=Object(s.C)(this.getExtent()));var i=this.getFlatCoordinates();if(i){var a=this.getStride();Object(l.b)(i,0,i.length,a,e,n,r,i),this.changed()}},t.prototype.translate=function(e,t){var o=this.getFlatCoordinates();if(o){var n=this.getStride();Object(l.d)(o,0,o.length,n,e,t,o),this.changed()}},t}(r.a);function d(e){var t;return e==i.a.XY?t=2:e==i.a.XYZ||e==i.a.XYM?t=3:e==i.a.XYZM&&(t=4),t}function h(e,t,o){var n=e.getFlatCoordinates();if(n){var r=e.getStride();return Object(l.c)(n,0,n.length,r,t,o)}return null}t.a=u},"./node_modules/ol/geom/flat/area.js":function(e,t,o){"use strict";function n(e,t,o,n){for(var r=0,i=e[o-n],a=e[o-n+1];t<o;t+=n){var s=e[t],l=e[t+1];r+=a*s-i*l,i=s,a=l}return r/2}function r(e,t,o,r){for(var i=0,a=0,s=o.length;a<s;++a){var l=o[a];i+=n(e,t,l,r),t=l}return i}function i(e,t,o,n){for(var i=0,a=0,s=o.length;a<s;++a){var l=o[a];i+=r(e,t,l,n),t=l[l.length-1]}return i}o.d(t,"a",(function(){return n})),o.d(t,"b",(function(){return r})),o.d(t,"c",(function(){return i}))},"./node_modules/ol/geom/flat/center.js":function(e,t,o){"use strict";o.d(t,"a",(function(){return r}));var n=o("./node_modules/ol/extent.js");function r(e,t,o,r){for(var i=[],a=Object(n.k)(),s=0,l=o.length;s<l;++s){var c=o[s];a=Object(n.p)(e,t,c[0],r),i.push((a[0]+a[2])/2,(a[1]+a[3])/2),t=c[c.length-1]}return i}},"./node_modules/ol/geom/flat/closest.js":function(e,t,o){"use strict";o.d(t,"e",(function(){return i})),o.d(t,"a",(function(){return a})),o.d(t,"f",(function(){return s})),o.d(t,"d",(function(){return l})),o.d(t,"b",(function(){return c})),o.d(t,"c",(function(){return u}));var n=o("./node_modules/ol/math.js");function r(e,t,o,r,i,a,s){var l,c=e[t],u=e[t+1],d=e[o]-c,h=e[o+1]-u;if(0===d&&0===h)l=t;else{var p=((i-c)*d+(a-u)*h)/(d*d+h*h);if(p>1)l=o;else{if(p>0){for(var f=0;f<r;++f)s[f]=Object(n.c)(e[t+f],e[o+f],p);return void(s.length=r)}l=t}}for(f=0;f<r;++f)s[f]=e[l+f];s.length=r}function i(e,t,o,r,i){var a=e[t],s=e[t+1];for(t+=r;t<o;t+=r){var l=e[t],c=e[t+1],u=Object(n.g)(a,s,l,c);u>i&&(i=u),a=l,s=c}return i}function a(e,t,o,n,r){for(var a=0,s=o.length;a<s;++a){var l=o[a];r=i(e,t,l,n,r),t=l}return r}function s(e,t,o,n,r){for(var i=0,s=o.length;i<s;++i){var l=o[i];r=a(e,t,l,n,r),t=l[l.length-1]}return r}function l(e,t,o,i,a,s,l,c,u,d,h){if(t==o)return d;var p,f;if(0===a){if((f=Object(n.g)(l,c,e[t],e[t+1]))<d){for(p=0;p<i;++p)u[p]=e[t+p];return u.length=i,f}return d}for(var g=h||[NaN,NaN],m=t+i;m<o;)if(r(e,m-i,m,i,l,c,g),(f=Object(n.g)(l,c,g[0],g[1]))<d){for(d=f,p=0;p<i;++p)u[p]=g[p];u.length=i,m+=i}else m+=i*Math.max((Math.sqrt(f)-Math.sqrt(d))/a|0,1);if(s&&(r(e,o-i,t,i,l,c,g),(f=Object(n.g)(l,c,g[0],g[1]))<d)){for(d=f,p=0;p<i;++p)u[p]=g[p];u.length=i}return d}function c(e,t,o,n,r,i,a,s,c,u,d){for(var h=d||[NaN,NaN],p=0,f=o.length;p<f;++p){var g=o[p];u=l(e,t,g,n,r,i,a,s,c,u,h),t=g}return u}function u(e,t,o,n,r,i,a,s,l,u,d){for(var h=d||[NaN,NaN],p=0,f=o.length;p<f;++p){var g=o[p];u=c(e,t,g,n,r,i,a,s,l,u,h),t=g[g.length-1]}return u}},"./node_modules/ol/geom/flat/contains.js":function(e,t,o){"use strict";o.d(t,"a",(function(){return r})),o.d(t,"b",(function(){return i})),o.d(t,"c",(function(){return a})),o.d(t,"d",(function(){return s}));var n=o("./node_modules/ol/extent.js");function r(e,t,o,r,a){return!Object(n.y)(a,(function(n){return!i(e,t,o,r,n[0],n[1])}))}function i(e,t,o,n,r,i){for(var a=0,s=e[o-n],l=e[o-n+1];t<o;t+=n){var c=e[t],u=e[t+1];l<=i?u>i&&(c-s)*(i-l)-(r-s)*(u-l)>0&&a++:u<=i&&(c-s)*(i-l)-(r-s)*(u-l)<0&&a--,s=c,l=u}return 0!==a}function a(e,t,o,n,r,a){if(0===o.length)return!1;if(!i(e,t,o[0],n,r,a))return!1;for(var s=1,l=o.length;s<l;++s)if(i(e,o[s-1],o[s],n,r,a))return!1;return!0}function s(e,t,o,n,r,i){if(0===o.length)return!1;for(var s=0,l=o.length;s<l;++s){var c=o[s];if(a(e,t,c,n,r,i))return!0;t=c[c.length-1]}return!1}},"./node_modules/ol/geom/flat/deflate.js":function(e,t,o){"use strict";function n(e,t,o,n){for(var r=0,i=o.length;r<i;++r)e[t++]=o[r];return t}function r(e,t,o,n){for(var r=0,i=o.length;r<i;++r)for(var a=o[r],s=0;s<n;++s)e[t++]=a[s];return t}function i(e,t,o,n,i){for(var a=i||[],s=0,l=0,c=o.length;l<c;++l){var u=r(e,t,o[l],n);a[s++]=u,t=u}return a.length=s,a}function a(e,t,o,n,r){for(var a=r||[],s=0,l=0,c=o.length;l<c;++l){var u=i(e,t,o[l],n,a[s]);a[s++]=u,t=u[u.length-1]}return a.length=s,a}o.d(t,"a",(function(){return n})),o.d(t,"b",(function(){return r})),o.d(t,"c",(function(){return i})),o.d(t,"d",(function(){return a}))},"./node_modules/ol/geom/flat/geodesic.js":function(e,t,o){"use strict";o.d(t,"a",(function(){return a})),o.d(t,"b",(function(){return s})),o.d(t,"c",(function(){return l}));var n=o("./node_modules/ol/proj.js"),r=o("./node_modules/ol/math.js");function i(e,t,o){for(var n,i,a,s,l,c,u=[],d=e(0),h=e(1),p=t(d),f=t(h),g=[h,d],m=[f,p],y=[1,0],v={},_=1e5;--_>0&&y.length>0;)a=y.pop(),d=g.pop(),p=m.pop(),(c=a.toString())in v||(u.push(p[0],p[1]),v[c]=!0),s=y.pop(),h=g.pop(),f=m.pop(),i=t(n=e(l=(a+s)/2)),Object(r.h)(i[0],i[1],p[0],p[1],f[0],f[1])<o?(u.push(f[0],f[1]),v[c=s.toString()]=!0):(y.push(s,l,l,a),m.push(f,i,i,p),g.push(h,n,n,d));return u}function a(e,t,o,a,s,l){var c=Object(n.t)("EPSG:4326"),u=Math.cos(Object(r.j)(t)),d=Math.sin(Object(r.j)(t)),h=Math.cos(Object(r.j)(a)),p=Math.sin(Object(r.j)(a)),f=Math.cos(Object(r.j)(o-e)),g=Math.sin(Object(r.j)(o-e)),m=d*p+u*h*f;return i((function(t){if(1<=m)return[o,a];var n=t*Math.acos(m),i=Math.cos(n),s=Math.sin(n),l=g*h,c=u*p-d*h*f,y=Math.atan2(l,c),v=Math.asin(d*i+u*s*Math.cos(y)),_=Object(r.j)(e)+Math.atan2(Math.sin(y)*s*u,i-d*Math.sin(v));return[Object(r.i)(_),Object(r.i)(v)]}),Object(n.v)(c,s),l)}function s(e,t,o,r,a){var s=Object(n.t)("EPSG:4326");return i((function(n){return[e,t+(o-t)*n]}),Object(n.v)(s,r),a)}function l(e,t,o,r,a){var s=Object(n.t)("EPSG:4326");return i((function(n){return[t+(o-t)*n,e]}),Object(n.v)(s,r),a)}},"./node_modules/ol/geom/flat/inflate.js":function(e,t,o){"use strict";function n(e,t,o,n,r){for(var i=void 0!==r?r:[],a=0,s=t;s<o;s+=n)i[a++]=e.slice(s,s+n);return i.length=a,i}function r(e,t,o,r,i){for(var a=void 0!==i?i:[],s=0,l=0,c=o.length;l<c;++l){var u=o[l];a[s++]=n(e,t,u,r,a[s]),t=u}return a.length=s,a}function i(e,t,o,n,i){for(var a=void 0!==i?i:[],s=0,l=0,c=o.length;l<c;++l){var u=o[l];a[s++]=r(e,t,u,n,a[s]),t=u[u.length-1]}return a.length=s,a}o.d(t,"a",(function(){return n})),o.d(t,"b",(function(){return r})),o.d(t,"c",(function(){return i}))},"./node_modules/ol/geom/flat/interiorpoint.js":function(e,t,o){"use strict";o.d(t,"a",(function(){return i})),o.d(t,"b",(function(){return a}));var n=o("./node_modules/ol/geom/flat/contains.js"),r=o("./node_modules/ol/array.js");function i(e,t,o,i,a,s,l){for(var c,u,d,h,p,f,g,m=a[s+1],y=[],v=0,_=o.length;v<_;++v){var b=o[v];for(h=e[b-i],f=e[b-i+1],c=t;c<b;c+=i)p=e[c],g=e[c+1],(m<=f&&g<=m||f<=m&&m<=g)&&(d=(m-f)/(g-f)*(p-h)+h,y.push(d)),h=p,f=g}var A=NaN,C=-1/0;for(y.sort(r.i),h=y[0],c=1,u=y.length;c<u;++c){p=y[c];var w=Math.abs(p-h);w>C&&(d=(h+p)/2,Object(n.c)(e,t,o,i,d,m)&&(A=d,C=w)),h=p}return isNaN(A)&&(A=a[s]),l?(l.push(A,m,C),l):[A,m,C]}function a(e,t,o,n,r){for(var a=[],s=0,l=o.length;s<l;++s){var c=o[s];a=i(e,t,c,n,r,2*s,a),t=c[c.length-1]}return a}},"./node_modules/ol/geom/flat/interpolate.js":function(e,t,o){"use strict";o.d(t,"a",(function(){return i})),o.d(t,"b",(function(){return a})),o.d(t,"c",(function(){return s}));var n=o("./node_modules/ol/array.js"),r=o("./node_modules/ol/math.js");function i(e,t,o,i,a,s,l){var c,u,d=(o-t)/i;if(1===d)c=t;else if(2===d)c=t,u=a;else if(0!==d){for(var h=e[t],p=e[t+1],f=0,g=[0],m=t+i;m<o;m+=i){var y=e[m],v=e[m+1];f+=Math.sqrt((y-h)*(y-h)+(v-p)*(v-p)),g.push(f),h=y,p=v}var _=a*f,b=Object(n.a)(g,_);b<0?(u=(_-g[-b-2])/(g[-b-1]-g[-b-2]),c=t+(-b-2)*i):c=t+b*i}var A=l>1?l:2,C=s||new Array(A);for(m=0;m<A;++m)C[m]=void 0===c?NaN:void 0===u?e[c+m]:Object(r.c)(e[c+m],e[c+i+m],u);return C}function a(e,t,o,n,i,a){if(o==t)return null;var s;if(i<e[t+n-1])return a?((s=e.slice(t,t+n))[n-1]=i,s):null;if(e[o-1]<i)return a?((s=e.slice(o-n,o))[n-1]=i,s):null;if(i==e[t+n-1])return e.slice(t,t+n);for(var l=t/n,c=o/n;l<c;){var u=l+c>>1;i<e[(u+1)*n-1]?c=u:l=u+1}var d=e[l*n-1];if(i==d)return e.slice((l-1)*n,(l-1)*n+n);var h=(i-d)/(e[(l+1)*n-1]-d);s=[];for(var p=0;p<n-1;++p)s.push(Object(r.c)(e[(l-1)*n+p],e[l*n+p],h));return s.push(i),s}function s(e,t,o,n,r,i,s){if(s)return a(e,t,o[o.length-1],n,r,i);var l;if(r<e[n-1])return i?((l=e.slice(0,n))[n-1]=r,l):null;if(e[e.length-1]<r)return i?((l=e.slice(e.length-n))[n-1]=r,l):null;for(var c=0,u=o.length;c<u;++c){var d=o[c];if(t!=d){if(r<e[t+n-1])return null;if(r<=e[d-1])return a(e,t,d,n,r,!1);t=d}}return null}},"./node_modules/ol/geom/flat/intersectsextent.js":function(e,t,o){"use strict";o.d(t,"a",(function(){return a})),o.d(t,"b",(function(){return s})),o.d(t,"c",(function(){return l})),o.d(t,"d",(function(){return c})),o.d(t,"e",(function(){return u}));var n=o("./node_modules/ol/extent.js"),r=o("./node_modules/ol/geom/flat/segments.js"),i=o("./node_modules/ol/geom/flat/contains.js");function a(e,t,o,i,a){var s=Object(n.v)(Object(n.k)(),e,t,o,i);return!!Object(n.O)(a,s)&&(!!Object(n.h)(a,s)||(s[0]>=a[0]&&s[2]<=a[2]||(s[1]>=a[1]&&s[3]<=a[3]||Object(r.a)(e,t,o,i,(function(e,t){return Object(n.P)(a,e,t)})))))}function s(e,t,o,n,r){for(var i=0,s=o.length;i<s;++i){if(a(e,t,o[i],n,r))return!0;t=o[i]}return!1}function l(e,t,o,n,r){return!!a(e,t,o,n,r)||(!!Object(i.b)(e,t,o,n,r[0],r[1])||(!!Object(i.b)(e,t,o,n,r[0],r[3])||(!!Object(i.b)(e,t,o,n,r[2],r[1])||!!Object(i.b)(e,t,o,n,r[2],r[3]))))}function c(e,t,o,n,r){if(!l(e,t,o[0],n,r))return!1;if(1===o.length)return!0;for(var s=1,c=o.length;s<c;++s)if(Object(i.a)(e,o[s-1],o[s],n,r)&&!a(e,o[s-1],o[s],n,r))return!1;return!0}function u(e,t,o,n,r){for(var i=0,a=o.length;i<a;++i){var s=o[i];if(c(e,t,s,n,r))return!0;t=s[s.length-1]}return!1}},"./node_modules/ol/geom/flat/length.js":function(e,t,o){"use strict";function n(e,t,o,n){for(var r=e[t],i=e[t+1],a=0,s=t+n;s<o;s+=n){var l=e[s],c=e[s+1];a+=Math.sqrt((l-r)*(l-r)+(c-i)*(c-i)),r=l,i=c}return a}function r(e,t,o,r){var i=n(e,t,o,r),a=e[o-r]-e[t],s=e[o-r+1]-e[t+1];return i+=Math.sqrt(a*a+s*s)}o.d(t,"a",(function(){return n})),o.d(t,"b",(function(){return r}))},"./node_modules/ol/geom/flat/orient.js":function(e,t,o){"use strict";o.d(t,"a",(function(){return r})),o.d(t,"b",(function(){return i})),o.d(t,"c",(function(){return a})),o.d(t,"d",(function(){return s})),o.d(t,"e",(function(){return l}));var n=o("./node_modules/ol/geom/flat/reverse.js");function r(e,t,o,n){for(var r=0,i=e[o-n],a=e[o-n+1];t<o;t+=n){var s=e[t],l=e[t+1];r+=(s-i)*(l+a),i=s,a=l}return 0===r?void 0:r>0}function i(e,t,o,n,i){for(var a=void 0!==i&&i,s=0,l=o.length;s<l;++s){var c=o[s],u=r(e,t,c,n);if(0===s){if(a&&u||!a&&!u)return!1}else if(a&&!u||!a&&u)return!1;t=c}return!0}function a(e,t,o,n,r){for(var a=0,s=o.length;a<s;++a){var l=o[a];if(!i(e,t,l,n,r))return!1;l.length&&(t=l[l.length-1])}return!0}function s(e,t,o,i,a){for(var s=void 0!==a&&a,l=0,c=o.length;l<c;++l){var u=o[l],d=r(e,t,u,i);(0===l?s&&d||!s&&!d:s&&!d||!s&&d)&&Object(n.a)(e,t,u,i),t=u}return t}function l(e,t,o,n,r){for(var i=0,a=o.length;i<a;++i)t=s(e,t,o[i],n,r);return t}},"./node_modules/ol/geom/flat/reverse.js":function(e,t,o){"use strict";function n(e,t,o,n){for(;t<o-n;){for(var r=0;r<n;++r){var i=e[t+r];e[t+r]=e[o-n+r],e[o-n+r]=i}t+=n,o-=n}}o.d(t,"a",(function(){return n}))},"./node_modules/ol/geom/flat/segments.js":function(e,t,o){"use strict";function n(e,t,o,n,r){var i;for(t+=n;t<o;t+=n)if(i=r(e.slice(t-n,t),e.slice(t,t+n)))return i;return!1}o.d(t,"a",(function(){return n}))},"./node_modules/ol/geom/flat/simplify.js":function(e,t,o){"use strict";o.d(t,"h",(function(){return r})),o.d(t,"a",(function(){return i})),o.d(t,"b",(function(){return a})),o.d(t,"c",(function(){return s})),o.d(t,"g",(function(){return l})),o.d(t,"i",(function(){return c})),o.d(t,"d",(function(){return u})),o.d(t,"e",(function(){return d})),o.d(t,"f",(function(){return h}));var n=o("./node_modules/ol/math.js");function r(e,t,o,n,r,a,s){var c=void 0!==s?s:[];return a||(o=l(e,t,o,n,r,c,0),e=c,t=0,n=2),c.length=i(e,t,o,n,r,c,0),c}function i(e,t,o,r,i,a,s){var l=(o-t)/r;if(l<3){for(;t<o;t+=r)a[s++]=e[t],a[s++]=e[t+1];return s}var c=new Array(l);c[0]=1,c[l-1]=1;for(var u=[t,o-r],d=0;u.length>0;){for(var h=u.pop(),p=u.pop(),f=0,g=e[p],m=e[p+1],y=e[h],v=e[h+1],_=p+r;_<h;_+=r){var b=e[_],A=e[_+1],C=Object(n.h)(b,A,g,m,y,v);C>f&&(d=_,f=C)}f>i&&(c[(d-t)/r]=1,p+r<d&&u.push(p,d),d+r<h&&u.push(d,h))}for(_=0;_<l;++_)c[_]&&(a[s++]=e[t+_*r],a[s++]=e[t+_*r+1]);return s}function a(e,t,o,n,r,a,s,l){for(var c=0,u=o.length;c<u;++c){var d=o[c];s=i(e,t,d,n,r,a,s),l.push(s),t=d}return s}function s(e,t,o,n,r,i,s,l){for(var c=0,u=o.length;c<u;++c){var d=o[c],h=[];s=a(e,t,d,n,r,i,s,h),l.push(h),t=d[d.length-1]}return s}function l(e,t,o,r,i,a,s){if(o<=t+r){for(;t<o;t+=r)a[s++]=e[t],a[s++]=e[t+1];return s}var l=e[t],c=e[t+1];a[s++]=l,a[s++]=c;var u=l,d=c;for(t+=r;t<o;t+=r)u=e[t],d=e[t+1],Object(n.g)(l,c,u,d)>i&&(a[s++]=u,a[s++]=d,l=u,c=d);return u==l&&d==c||(a[s++]=u,a[s++]=d),s}function c(e,t){return t*Math.round(e/t)}function u(e,t,o,n,r,i,a){if(t==o)return a;var s,l,u=c(e[t],r),d=c(e[t+1],r);t+=n,i[a++]=u,i[a++]=d;do{if(s=c(e[t],r),l=c(e[t+1],r),(t+=n)==o)return i[a++]=s,i[a++]=l,a}while(s==u&&l==d);for(;t<o;){var h=c(e[t],r),p=c(e[t+1],r);if(t+=n,h!=s||p!=l){var f=s-u,g=l-d,m=h-u,y=p-d;f*y==g*m&&(f<0&&m<f||f==m||f>0&&m>f)&&(g<0&&y<g||g==y||g>0&&y>g)?(s=h,l=p):(i[a++]=s,i[a++]=l,u=s,d=l,s=h,l=p)}}return i[a++]=s,i[a++]=l,a}function d(e,t,o,n,r,i,a,s){for(var l=0,c=o.length;l<c;++l){var d=o[l];a=u(e,t,d,n,r,i,a),s.push(a),t=d}return a}function h(e,t,o,n,r,i,a,s){for(var l=0,c=o.length;l<c;++l){var u=o[l],h=[];a=d(e,t,u,n,r,i,a,h),s.push(h),t=u[u.length-1]}return a}},"./node_modules/ol/geom/flat/straightchunk.js":function(e,t,o){"use strict";function n(e,t,o,n,r){var i,a,s,l,c,u,d,h,p,f=o,g=o,m=0,y=0,v=o;for(i=o;i<n;i+=r){var _=t[i],b=t[i+1];void 0!==l&&(h=_-l,p=b-c,s=Math.sqrt(h*h+p*p),void 0!==u&&(y+=a,Math.acos((u*h+d*p)/(a*s))>e&&(y>m&&(m=y,f=v,g=i),y=0,v=i-r)),a=s,u=h,d=p),l=_,c=b}return(y+=s)>m?[v,i]:[f,g]}o.d(t,"a",(function(){return n}))},"./node_modules/ol/geom/flat/textpath.js":function(e,t,o){"use strict";o.d(t,"a",(function(){return i}));var n=o("./node_modules/ol/math.js"),r=o("./node_modules/ol/geom/flat/transform.js");function i(e,t,o,i,a,s,l,c,u,d,h,p){var f=e[t],g=e[t+1],m=0,y=0,v=0,_=0;function b(){m=f,y=g,f=e[t+=i],g=e[t+1],_+=v,v=Math.sqrt((f-m)*(f-m)+(g-y)*(g-y))}do{b()}while(t<o-i&&_+v<s);for(var A=0===v?0:(s-_)/v,C=Object(n.c)(m,f,A),w=Object(n.c)(y,g,A),E=t-i,I=_,O=s+c*u(d,a,h);t<o-i&&_+v<O;)b();A=0===v?0:(O-_)/v;var S,x=Object(n.c)(m,f,A),j=Object(n.c)(y,g,A);if(p){var P=[C,w,x,j];Object(r.a)(P,0,4,2,p,P,P),S=P[0]>P[2]}else S=C>x;var T,M=Math.PI,R=[],L=E+i===t;if(v=0,_=I,f=e[t=E],g=e[t+1],L){b(),T=Math.atan2(g-y,f-m),S&&(T+=T>0?-M:M);var k=(x+C)/2,G=(j+w)/2;return R[0]=[k,G,(O-s)/2,T,a],R}for(var D=0,N=a.length;D<N;){b();var F=Math.atan2(g-y,f-m);if(S&&(F+=F>0?-M:M),void 0!==T){var U=F-T;if(U+=U>M?-2*M:U<-M?2*M:0,Math.abs(U)>l)return null}T=F;for(var B=D,z=0;D<N;++D){var V=c*u(d,a[S?N-D-1:D],h);if(t+i<o&&_+v<s+z+V/2)break;z+=V}if(D!==B){var W=S?a.substring(N-B,N-D):a.substring(B,D);A=0===v?0:(s+z/2-_)/v;k=Object(n.c)(m,f,A),G=Object(n.c)(y,g,A);R.push([k,G,z/2,F,W]),s+=z}}return R}},"./node_modules/ol/geom/flat/transform.js":function(e,t,o){"use strict";function n(e,t,o,n,r,i){for(var a=i||[],s=0,l=t;l<o;l+=n){var c=e[l],u=e[l+1];a[s++]=r[0]*c+r[2]*u+r[4],a[s++]=r[1]*c+r[3]*u+r[5]}return i&&a.length!=s&&(a.length=s),a}function r(e,t,o,n,r,i,a){for(var s=a||[],l=Math.cos(r),c=Math.sin(r),u=i[0],d=i[1],h=0,p=t;p<o;p+=n){var f=e[p]-u,g=e[p+1]-d;s[h++]=u+f*l-g*c,s[h++]=d+f*c+g*l;for(var m=p+2;m<p+n;++m)s[h++]=e[m]}return a&&s.length!=h&&(s.length=h),s}function i(e,t,o,n,r,i,a,s){for(var l=s||[],c=a[0],u=a[1],d=0,h=t;h<o;h+=n){var p=e[h]-c,f=e[h+1]-u;l[d++]=c+r*p,l[d++]=u+i*f;for(var g=h+2;g<h+n;++g)l[d++]=e[g]}return s&&l.length!=d&&(l.length=d),l}function a(e,t,o,n,r,i,a){for(var s=a||[],l=0,c=t;c<o;c+=n){s[l++]=e[c]+r,s[l++]=e[c+1]+i;for(var u=c+2;u<c+n;++u)s[l++]=e[u]}return a&&s.length!=l&&(s.length=l),s}o.d(t,"c",(function(){return n})),o.d(t,"a",(function(){return r})),o.d(t,"b",(function(){return i})),o.d(t,"d",(function(){return a}))},"./node_modules/ol/has.js":function(e,t,o){"use strict";o.d(t,"b",(function(){return r})),o.d(t,"f",(function(){return i})),o.d(t,"g",(function(){return a})),o.d(t,"d",(function(){return s})),o.d(t,"a",(function(){return l})),o.d(t,"h",(function(){return c})),o.d(t,"c",(function(){return u})),o.d(t,"e",(function(){return d}));var n="undefined"!=typeof navigator&&void 0!==navigator.userAgent?navigator.userAgent.toLowerCase():"",r=-1!==n.indexOf("firefox"),i=-1!==n.indexOf("safari")&&-1==n.indexOf("chrom"),a=-1!==n.indexOf("webkit")&&-1==n.indexOf("edge"),s=-1!==n.indexOf("macintosh"),l="undefined"!=typeof devicePixelRatio?devicePixelRatio:1,c="undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,u="undefined"!=typeof Image&&Image.prototype.decode,d=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("_",null,t),window.removeEventListener("_",null,t)}catch(e){}return e}()},"./node_modules/ol/interaction.js":function(e,t,o){"use strict";o.d(t,"a",(function(){return f}));var n=o("./node_modules/ol/Collection.js"),r=o("./node_modules/ol/interaction/DoubleClickZoom.js"),i=o("./node_modules/ol/interaction/DragPan.js"),a=o("./node_modules/ol/interaction/DragRotate.js"),s=o("./node_modules/ol/interaction/DragZoom.js"),l=o("./node_modules/ol/interaction/KeyboardPan.js"),c=o("./node_modules/ol/interaction/KeyboardZoom.js"),u=o("./node_modules/ol/Kinetic.js"),d=o("./node_modules/ol/interaction/MouseWheelZoom.js"),h=o("./node_modules/ol/interaction/PinchRotate.js"),p=o("./node_modules/ol/interaction/PinchZoom.js");function f(e){var t=e||{},o=new n.b,f=new u.a(-.005,.05,100);return(void 0===t.altShiftDragRotate||t.altShiftDragRotate)&&o.push(new a.a),(void 0===t.doubleClickZoom||t.doubleClickZoom)&&o.push(new r.a({delta:t.zoomDelta,duration:t.zoomDuration})),(void 0===t.dragPan||t.dragPan)&&o.push(new i.a({onFocusOnly:t.onFocusOnly,kinetic:f})),(void 0===t.pinchRotate||t.pinchRotate)&&o.push(new h.a),(void 0===t.pinchZoom||t.pinchZoom)&&o.push(new p.a({duration:t.zoomDuration})),(void 0===t.keyboard||t.keyboard)&&(o.push(new l.a),o.push(new c.a({delta:t.zoomDelta,duration:t.zoomDuration}))),(void 0===t.mouseWheelZoom||t.mouseWheelZoom)&&o.push(new d.a({onFocusOnly:t.onFocusOnly,duration:t.zoomDuration})),(void 0===t.shiftDragZoom||t.shiftDragZoom)&&o.push(new s.a({duration:t.zoomDuration})),o}},"./node_modules/ol/interaction/DoubleClickZoom.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/interaction/Interaction.js"),i=o("./node_modules/ol/MapBrowserEventType.js"),a=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),s=function(e){function t(t){var o=e.call(this)||this,n=t||{};return o.delta_=n.delta?n.delta:1,o.duration_=void 0!==n.duration?n.duration:250,o}return a(t,e),t.prototype.handleEvent=function(e){var t=!1;if(e.type==i.a.DBLCLICK){var o=e.originalEvent,n=e.map,a=e.coordinate,s=o.shiftKey?-this.delta_:this.delta_,l=n.getView();Object(r.c)(l,s,a,this.duration_),o.preventDefault(),t=!0}return!t},t}(r.a);t.a=s},"./node_modules/ol/interaction/DragAndDrop.js":function(e,t,o){"use strict";o.d(t,"a",(function(){return p}));var n,r=o("./node_modules/ol/events/Event.js"),i=o("./node_modules/ol/events/EventType.js"),a=o("./node_modules/ol/format/FormatType.js"),s=o("./node_modules/ol/interaction/Interaction.js"),l=o("./node_modules/ol/functions.js"),c=o("./node_modules/ol/proj.js"),u=o("./node_modules/ol/events.js"),d=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),h="addfeatures",p=function(e){function t(t,o,n,r){var i=e.call(this,t)||this;return i.features=n,i.file=o,i.projection=r,i}return d(t,e),t}(r.a),f=function(e){function t(t){var o=this,n=t||{};(o=e.call(this,{handleEvent:l.b})||this).on,o.once,o.un,o.readAsBuffer_=!1,o.formats_=[];for(var r=n.formatConstructors?n.formatConstructors:[],i=0,s=r.length;i<s;++i){var u=r[i];"function"==typeof u&&(u=new u),o.formats_.push(u),o.readAsBuffer_=o.readAsBuffer_||u.getType()===a.a.ARRAY_BUFFER}return o.projection_=n.projection?Object(c.t)(n.projection):null,o.dropListenKeys_=null,o.source_=n.source||null,o.target=n.target?n.target:null,o}return d(t,e),t.prototype.handleResult_=function(e,t){var o,n=t.target.result,r=this.getMap(),i=this.projection_;i||(i=r.getView().getProjection());for(var s=this.formats_,l=0,c=s.length;l<c;++l){var u=s[l],d=n;this.readAsBuffer_&&u.getType()!==a.a.ARRAY_BUFFER&&(void 0===o&&(o=(new TextDecoder).decode(n)),d=o);var f=this.tryReadFeatures_(u,d,{featureProjection:i});if(f&&f.length>0){this.source_&&(this.source_.clear(),this.source_.addFeatures(f)),this.dispatchEvent(new p(h,e,f,i));break}}},t.prototype.registerListeners_=function(){var e=this.getMap();if(e){var t=this.target?this.target:e.getViewport();this.dropListenKeys_=[Object(u.a)(t,i.a.DROP,this.handleDrop,this),Object(u.a)(t,i.a.DRAGENTER,this.handleStop,this),Object(u.a)(t,i.a.DRAGOVER,this.handleStop,this),Object(u.a)(t,i.a.DROP,this.handleStop,this)]}},t.prototype.setActive=function(t){!this.getActive()&&t&&this.registerListeners_(),this.getActive()&&!t&&this.unregisterListeners_(),e.prototype.setActive.call(this,t)},t.prototype.setMap=function(t){this.unregisterListeners_(),e.prototype.setMap.call(this,t),this.getActive()&&this.registerListeners_()},t.prototype.tryReadFeatures_=function(e,t,o){try{return e.readFeatures(t,o)}catch(e){return null}},t.prototype.unregisterListeners_=function(){this.dropListenKeys_&&(this.dropListenKeys_.forEach(u.c),this.dropListenKeys_=null)},t.prototype.handleDrop=function(e){for(var t=e.dataTransfer.files,o=0,n=t.length;o<n;++o){var r=t.item(o),a=new FileReader;a.addEventListener(i.a.LOAD,this.handleResult_.bind(this,r)),this.readAsBuffer_?a.readAsArrayBuffer(r):a.readAsText(r)}},t.prototype.handleStop=function(e){e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy"},t}(s.a);t.b=f},"./node_modules/ol/interaction/DragBox.js":function(e,t,o){"use strict";o.d(t,"a",(function(){return p}));var n,r=o("./node_modules/ol/events/Event.js"),i=o("./node_modules/ol/interaction/Pointer.js"),a=o("./node_modules/ol/render/Box.js"),s=o("./node_modules/ol/events/condition.js"),l=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c="boxstart",u="boxdrag",d="boxend",h="boxcancel",p=function(e){function t(t,o,n){var r=e.call(this,t)||this;return r.coordinate=o,r.mapBrowserEvent=n,r}return l(t,e),t}(r.a),f=function(e){function t(t){var o=e.call(this)||this;o.on,o.once,o.un;var n=t||{};return o.box_=new a.a(n.className||"ol-dragbox"),o.minArea_=void 0!==n.minArea?n.minArea:64,n.onBoxEnd&&(o.onBoxEnd=n.onBoxEnd),o.startPixel_=null,o.condition_=n.condition?n.condition:s.i,o.boxEndCondition_=n.boxEndCondition?n.boxEndCondition:o.defaultBoxEndCondition,o}return l(t,e),t.prototype.defaultBoxEndCondition=function(e,t,o){var n=o[0]-t[0],r=o[1]-t[1];return n*n+r*r>=this.minArea_},t.prototype.getGeometry=function(){return this.box_.getGeometry()},t.prototype.handleDragEvent=function(e){this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new p(u,e.coordinate,e))},t.prototype.handleUpEvent=function(e){this.box_.setMap(null);var t=this.boxEndCondition_(e,this.startPixel_,e.pixel);return t&&this.onBoxEnd(e),this.dispatchEvent(new p(t?d:h,e.coordinate,e)),!1},t.prototype.handleDownEvent=function(e){return!!this.condition_(e)&&(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new p(c,e.coordinate,e)),!0)},t.prototype.onBoxEnd=function(e){},t}(i.b);t.b=f},"./node_modules/ol/interaction/DragPan.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/interaction/Pointer.js"),i=o("./node_modules/ol/functions.js"),a=o("./node_modules/ol/events/condition.js"),s=o("./node_modules/ol/easing.js"),l=o("./node_modules/ol/coordinate.js"),c=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),u=function(e){function t(t){var o=e.call(this,{stopDown:i.a})||this,n=t||{};o.kinetic_=n.kinetic,o.lastCentroid=null,o.lastPointersCount_,o.panning_=!1;var r=n.condition?n.condition:Object(a.a)(a.l,a.p);return o.condition_=n.onFocusOnly?Object(a.a)(a.h,r):r,o.noKinetic_=!1,o}return c(t,e),t.prototype.handleDragEvent=function(e){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var t=this.targetPointers,o=Object(r.a)(t);if(t.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(o[0],o[1]),this.lastCentroid){var n=[this.lastCentroid[0]-o[0],o[1]-this.lastCentroid[1]],i=e.map.getView();Object(l.k)(n,i.getResolution()),Object(l.j)(n,i.getRotation()),i.adjustCenterInternal(n)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=o,this.lastPointersCount_=t.length,e.originalEvent.preventDefault()},t.prototype.handleUpEvent=function(e){var t=e.map,o=t.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var n=this.kinetic_.getDistance(),r=this.kinetic_.getAngle(),i=o.getCenterInternal(),a=t.getPixelFromCoordinateInternal(i),l=t.getCoordinateFromPixelInternal([a[0]-n*Math.cos(r),a[1]-n*Math.sin(r)]);o.animateInternal({center:o.getConstrainedCenter(l),duration:500,easing:s.b})}return this.panning_&&(this.panning_=!1,o.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},t.prototype.handleDownEvent=function(e){if(this.targetPointers.length>0&&this.condition_(e)){var t=e.map.getView();return this.lastCentroid=null,t.getAnimating()&&t.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},t}(r.b);t.a=u},"./node_modules/ol/interaction/DragRotate.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/interaction/Pointer.js"),i=o("./node_modules/ol/functions.js"),a=o("./node_modules/ol/events/condition.js"),s=o("./node_modules/ol/rotationconstraint.js"),l=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=function(e){function t(t){var o=this,n=t||{};return(o=e.call(this,{stopDown:i.a})||this).condition_=n.condition?n.condition:a.c,o.lastAngle_=void 0,o.duration_=void 0!==n.duration?n.duration:250,o}return l(t,e),t.prototype.handleDragEvent=function(e){if(Object(a.j)(e)){var t=e.map,o=t.getView();if(o.getConstraints().rotation!==s.c){var n=t.getSize(),r=e.pixel,i=Math.atan2(n[1]/2-r[1],r[0]-n[0]/2);if(void 0!==this.lastAngle_){var l=i-this.lastAngle_;o.adjustRotationInternal(-l)}this.lastAngle_=i}}},t.prototype.handleUpEvent=function(e){return!Object(a.j)(e)||(e.map.getView().endInteraction(this.duration_),!1)},t.prototype.handleDownEvent=function(e){return!!Object(a.j)(e)&&(!(!Object(a.i)(e)||!this.condition_(e))&&(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0))},t}(r.b);t.a=c},"./node_modules/ol/interaction/DragRotateAndZoom.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/interaction/Pointer.js"),i=o("./node_modules/ol/events/condition.js"),a=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),s=function(e){function t(t){var o=this,n=t||{};return(o=e.call(this,n)||this).condition_=n.condition?n.condition:i.q,o.lastAngle_=void 0,o.lastMagnitude_=void 0,o.lastScaleDelta_=0,o.duration_=void 0!==n.duration?n.duration:400,o}return a(t,e),t.prototype.handleDragEvent=function(e){if(Object(i.j)(e)){var t=e.map,o=t.getSize(),n=e.pixel,r=n[0]-o[0]/2,a=o[1]/2-n[1],s=Math.atan2(a,r),l=Math.sqrt(r*r+a*a),c=t.getView();if(void 0!==this.lastAngle_){var u=this.lastAngle_-s;c.adjustRotationInternal(u)}this.lastAngle_=s,void 0!==this.lastMagnitude_&&c.adjustResolutionInternal(this.lastMagnitude_/l),void 0!==this.lastMagnitude_&&(this.lastScaleDelta_=this.lastMagnitude_/l),this.lastMagnitude_=l}},t.prototype.handleUpEvent=function(e){if(!Object(i.j)(e))return!0;var t=e.map.getView(),o=this.lastScaleDelta_>1?1:-1;return t.endInteraction(this.duration_,o),this.lastScaleDelta_=0,!1},t.prototype.handleDownEvent=function(e){return!!Object(i.j)(e)&&(!!this.condition_(e)&&(e.map.getView().beginInteraction(),this.lastAngle_=void 0,this.lastMagnitude_=void 0,!0))},t}(r.b);t.a=s},"./node_modules/ol/interaction/DragZoom.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/interaction/DragBox.js"),i=o("./node_modules/ol/easing.js"),a=o("./node_modules/ol/events/condition.js"),s=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=function(e){function t(t){var o=this,n=t||{},r=n.condition?n.condition:a.q;return(o=e.call(this,{condition:r,className:n.className||"ol-dragzoom",minArea:n.minArea})||this).duration_=void 0!==n.duration?n.duration:200,o.out_=void 0!==n.out&&n.out,o}return s(t,e),t.prototype.onBoxEnd=function(e){var t=this.getMap().getView(),o=this.getGeometry();if(this.out_){var n=t.rotatedExtentForGeometry(o),r=t.getResolutionForExtentInternal(n),a=t.getResolution()/r;(o=o.clone()).scale(a*a)}t.fitInternal(o,{duration:this.duration_,easing:i.b})},t}(r.b);t.a=l},"./node_modules/ol/interaction/Draw.js":function(e,t,o){"use strict";o.d(t,"a",(function(){return k})),o.d(t,"c",(function(){return D})),o.d(t,"b",(function(){return N}));var n,r=o("./node_modules/ol/geom/Circle.js"),i=o("./node_modules/ol/events/Event.js"),a=o("./node_modules/ol/events/EventType.js"),s=o("./node_modules/ol/Feature.js"),l=o("./node_modules/ol/geom/GeometryType.js"),c=o("./node_modules/ol/interaction/Property.js"),u=o("./node_modules/ol/geom/LineString.js"),d=o("./node_modules/ol/MapBrowserEvent.js"),h=o("./node_modules/ol/MapBrowserEventType.js"),p=o("./node_modules/ol/geom/MultiLineString.js"),f=o("./node_modules/ol/geom/MultiPoint.js"),g=o("./node_modules/ol/geom/MultiPolygon.js"),m=o("./node_modules/ol/geom/Point.js"),y=o("./node_modules/ol/interaction/Pointer.js"),v=o("./node_modules/ol/geom/Polygon.js"),_=o("./node_modules/ol/layer/Vector.js"),b=o("./node_modules/ol/source/Vector.js"),A=o("./node_modules/ol/functions.js"),C=o("./node_modules/ol/events/condition.js"),w=o("./node_modules/ol/extent.js"),E=o("./node_modules/ol/style/Style.js"),I=o("./node_modules/ol/proj.js"),O=o("./node_modules/ol/coordinate.js"),S=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),x="Point",j="LineString",P="Polygon",T="Circle",M="drawstart",R="drawend",L="drawabort",k=function(e){function t(t,o){var n=e.call(this,t)||this;return n.feature=o,n}return S(t,e),t}(i.a),G=function(e){function t(t){var o=this,n=t;n.stopDown||(n.stopDown=A.a),(o=e.call(this,n)||this).on,o.once,o.un,o.shouldHandle_=!1,o.downPx_=null,o.downTimeout_,o.lastDragTime_,o.pointerType_,o.freehand_=!1,o.source_=t.source?t.source:null,o.features_=t.features?t.features:null,o.snapTolerance_=t.snapTolerance?t.snapTolerance:12,o.type_=t.type,o.mode_=function(e){switch(e){case l.a.POINT:case l.a.MULTI_POINT:return x;case l.a.LINE_STRING:case l.a.MULTI_LINE_STRING:return j;case l.a.POLYGON:case l.a.MULTI_POLYGON:return P;case l.a.CIRCLE:return T;default:throw new Error("Invalid type: "+e)}}(o.type_),o.stopClick_=!!t.stopClick,o.minPoints_=t.minPoints?t.minPoints:o.mode_===P?3:2,o.maxPoints_=o.mode_===T?2:t.maxPoints?t.maxPoints:1/0,o.finishCondition_=t.finishCondition?t.finishCondition:A.b;var i,a=t.geometryFunction;if(!a){var s,d=o.mode_;if(d===T)a=function(e,t,o){var n=t||new r.a([NaN,NaN]),i=Object(I.q)(e[0],o),a=Object(O.l)(i,Object(I.q)(e[e.length-1],o));n.setCenterAndRadius(i,Math.sqrt(a));var s=Object(I.x)();return s&&n.transform(o,s),n};else d===x?s=m.a:d===j?s=u.a:d===P&&(s=v.b),a=function(e,t,o){return t?d===P?e[0].length?t.setCoordinates([e[0].concat([e[0][0]])]):t.setCoordinates([]):t.setCoordinates(e):t=new s(e),t}}return o.geometryFunction_=a,o.dragVertexDelay_=void 0!==t.dragVertexDelay?t.dragVertexDelay:500,o.finishCoordinate_=null,o.sketchFeature_=null,o.sketchPoint_=null,o.sketchCoords_=null,o.sketchLine_=null,o.sketchLineCoords_=null,o.squaredClickTolerance_=t.clickTolerance?t.clickTolerance*t.clickTolerance:36,o.overlay_=new _.a({source:new b.b({useSpatialIndex:!1,wrapX:!!t.wrapX&&t.wrapX}),style:t.style?t.style:(i=Object(E.b)(),function(e,t){return i[e.getGeometry().getType()]}),updateWhileInteracting:!0}),o.geometryName_=t.geometryName,o.condition_=t.condition?t.condition:C.l,o.freehandCondition_,t.freehand?o.freehandCondition_=C.d:o.freehandCondition_=t.freehandCondition?t.freehandCondition:C.q,o.addChangeListener(c.a.ACTIVE,o.updateState_),o}return S(t,e),t.prototype.setMap=function(t){e.prototype.setMap.call(this,t),this.updateState_()},t.prototype.getOverlay=function(){return this.overlay_},t.prototype.handleEvent=function(t){t.originalEvent.type===a.a.CONTEXTMENU&&t.originalEvent.preventDefault(),this.freehand_=this.mode_!==x&&this.freehandCondition_(t);var o=t.type===h.a.POINTERMOVE,n=!0;!this.freehand_&&this.lastDragTime_&&t.type===h.a.POINTERDRAG&&(Date.now()-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=t.pixel,this.shouldHandle_=!this.freehand_,o=!0):this.lastDragTime_=void 0,this.shouldHandle_&&void 0!==this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0));return this.freehand_&&t.type===h.a.POINTERDRAG&&null!==this.sketchFeature_?(this.addToDrawing_(t.coordinate),n=!1):this.freehand_&&t.type===h.a.POINTERDOWN?n=!1:o&&this.getPointerCount()<2?(n=t.type===h.a.POINTERMOVE)&&this.freehand_?(this.handlePointerMove_(t),this.shouldHandle_&&t.originalEvent.preventDefault()):("mouse"===t.originalEvent.pointerType||t.type===h.a.POINTERDRAG&&void 0===this.downTimeout_)&&this.handlePointerMove_(t):t.type===h.a.DBLCLICK&&(n=!1),e.prototype.handleEvent.call(this,t)&&n},t.prototype.handleDownEvent=function(e){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=e.pixel,this.finishCoordinate_||this.startDrawing_(e.coordinate),!0):this.condition_(e)?(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(function(){this.handlePointerMove_(new d.a(h.a.POINTERMOVE,e.map,e.originalEvent,!1,e.frameState))}.bind(this),this.dragVertexDelay_),this.downPx_=e.pixel,!0):(this.lastDragTime_=void 0,!1)},t.prototype.handleUpEvent=function(e){var t=!0;if(0===this.getPointerCount())if(this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(e),this.shouldHandle_){var o=!this.finishCoordinate_;o&&this.startDrawing_(e.coordinate),!o&&this.freehand_?this.finishDrawing():this.freehand_||o&&this.mode_!==x||(this.atFinish_(e.pixel)?this.finishCondition_(e)&&this.finishDrawing():this.addToDrawing_(e.coordinate)),t=!1}else this.freehand_&&this.abortDrawing();return!t&&this.stopClick_&&e.preventDefault(),t},t.prototype.handlePointerMove_=function(e){if(this.pointerType_=e.originalEvent.pointerType,this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var t=this.downPx_,o=e.pixel,n=t[0]-o[0],r=t[1]-o[1],i=n*n+r*r;if(this.shouldHandle_=this.freehand_?i>this.squaredClickTolerance_:i<=this.squaredClickTolerance_,!this.shouldHandle_)return}this.finishCoordinate_?this.modifyDrawing_(e.coordinate):this.createOrUpdateSketchPoint_(e.coordinate.slice())},t.prototype.atFinish_=function(e){var t=!1;if(this.sketchFeature_){var o=!1,n=[this.finishCoordinate_],r=this.mode_;if(r===x)t=!0;else if(r===T)t=2===this.sketchCoords_.length;else if(r===j)o=this.sketchCoords_.length>this.minPoints_;else if(r===P){var i=this.sketchCoords_;o=i[0].length>this.minPoints_,n=[i[0][0],i[0][i[0].length-2]]}if(o)for(var a=this.getMap(),s=0,l=n.length;s<l;s++){var c=n[s],u=a.getPixelFromCoordinate(c),d=e[0]-u[0],h=e[1]-u[1],p=this.freehand_?1:this.snapTolerance_;if(t=Math.sqrt(d*d+h*h)<=p){this.finishCoordinate_=c;break}}}return t},t.prototype.createOrUpdateSketchPoint_=function(e){this.sketchPoint_?this.sketchPoint_.getGeometry().setCoordinates(e):(this.sketchPoint_=new s.b(new m.a(e)),this.updateSketchFeatures_())},t.prototype.createOrUpdateCustomSketchLine_=function(e){this.sketchLine_||(this.sketchLine_=new s.b);var t=e.getLinearRing(0),o=this.sketchLine_.getGeometry();o?(o.setFlatCoordinates(t.getLayout(),t.getFlatCoordinates()),o.changed()):(o=new u.a(t.getFlatCoordinates(),t.getLayout()),this.sketchLine_.setGeometry(o))},t.prototype.startDrawing_=function(e){var t=this.getMap().getView().getProjection();this.finishCoordinate_=e,this.mode_===x?this.sketchCoords_=e.slice():this.mode_===P?(this.sketchCoords_=[[e.slice(),e.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[e.slice(),e.slice()],this.sketchLineCoords_&&(this.sketchLine_=new s.b(new u.a(this.sketchLineCoords_)));var o=this.geometryFunction_(this.sketchCoords_,void 0,t);this.sketchFeature_=new s.b,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(o),this.updateSketchFeatures_(),this.dispatchEvent(new k(M,this.sketchFeature_))},t.prototype.modifyDrawing_=function(e){var t,o,n=this.getMap(),r=this.sketchFeature_.getGeometry(),i=n.getView().getProjection();(this.mode_===x?o=this.sketchCoords_:this.mode_===P?(o=(t=this.sketchCoords_[0])[t.length-1],this.atFinish_(n.getPixelFromCoordinate(e))&&(e=this.finishCoordinate_.slice())):o=(t=this.sketchCoords_)[t.length-1],o[0]=e[0],o[1]=e[1],this.geometryFunction_(this.sketchCoords_,r,i),this.sketchPoint_)&&this.sketchPoint_.getGeometry().setCoordinates(e);if(r.getType()===l.a.POLYGON&&this.mode_!==P)this.createOrUpdateCustomSketchLine_(r);else if(this.sketchLineCoords_){this.sketchLine_.getGeometry().setCoordinates(this.sketchLineCoords_)}this.updateSketchFeatures_()},t.prototype.addToDrawing_=function(e){var t,o,n=this.sketchFeature_.getGeometry(),r=this.getMap().getView().getProjection(),i=this.mode_;i===j||i===T?(this.finishCoordinate_=e.slice(),(o=this.sketchCoords_).length>=this.maxPoints_&&(this.freehand_?o.pop():t=!0),o.push(e.slice()),this.geometryFunction_(o,n,r)):i===P&&((o=this.sketchCoords_[0]).length>=this.maxPoints_&&(this.freehand_?o.pop():t=!0),o.push(e.slice()),t&&(this.finishCoordinate_=o[0]),this.geometryFunction_(this.sketchCoords_,n,r)),this.createOrUpdateSketchPoint_(e.slice()),this.updateSketchFeatures_(),t&&this.finishDrawing()},t.prototype.removeLastPoint=function(){if(this.sketchFeature_){var e,t=this.sketchFeature_.getGeometry(),o=this.getMap().getView().getProjection(),n=this.mode_;if(n===j||n===T){if((e=this.sketchCoords_).splice(-2,1),e.length>=2){this.finishCoordinate_=e[e.length-2].slice();var r=this.finishCoordinate_.slice();e[e.length-1]=r,this.createOrUpdateSketchPoint_(r)}this.geometryFunction_(e,t,o),t.getType()===l.a.POLYGON&&this.sketchLine_&&this.createOrUpdateCustomSketchLine_(t)}else if(n===P){(e=this.sketchCoords_[0]).splice(-2,1);var i=this.sketchLine_.getGeometry();if(e.length>=2){r=e[e.length-2].slice();e[e.length-1]=r,this.createOrUpdateSketchPoint_(r)}i.setCoordinates(e),this.geometryFunction_(this.sketchCoords_,t,o)}1===e.length&&this.abortDrawing(),this.updateSketchFeatures_()}},t.prototype.finishDrawing=function(){var e=this.abortDrawing_();if(e){var t=this.sketchCoords_,o=e.getGeometry(),n=this.getMap().getView().getProjection();this.mode_===j?(t.pop(),this.geometryFunction_(t,o,n)):this.mode_===P&&(t[0].pop(),this.geometryFunction_(t,o,n),t=o.getCoordinates()),this.type_===l.a.MULTI_POINT?e.setGeometry(new f.a([t])):this.type_===l.a.MULTI_LINE_STRING?e.setGeometry(new p.a([t])):this.type_===l.a.MULTI_POLYGON&&e.setGeometry(new g.a([t])),this.dispatchEvent(new k(R,e)),this.features_&&this.features_.push(e),this.source_&&this.source_.addFeature(e)}},t.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var e=this.sketchFeature_;return this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0),e},t.prototype.abortDrawing=function(){var e=this.abortDrawing_();e&&this.dispatchEvent(new k(L,e))},t.prototype.appendCoordinates=function(e){var t,o=this.mode_,n=!this.sketchFeature_;if(n&&this.startDrawing_(e[0]),o===j||o===T)t=this.sketchCoords_;else{if(o!==P)return;t=this.sketchCoords_&&this.sketchCoords_.length?this.sketchCoords_[0]:[]}n&&t.shift(),t.pop();for(var r=0;r<e.length;r++)this.addToDrawing_(e[r]);var i=e[e.length-1];this.addToDrawing_(i),this.modifyDrawing_(i)},t.prototype.extend=function(e){var t=e.getGeometry();this.sketchFeature_=e,this.sketchCoords_=t.getCoordinates();var o=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=o.slice(),this.sketchCoords_.push(o.slice()),this.sketchPoint_=new s.b(new m.a(o)),this.updateSketchFeatures_(),this.dispatchEvent(new k(M,this.sketchFeature_))},t.prototype.updateSketchFeatures_=function(){var e=[];this.sketchFeature_&&e.push(this.sketchFeature_),this.sketchLine_&&e.push(this.sketchLine_),this.sketchPoint_&&e.push(this.sketchPoint_);var t=this.overlay_.getSource();t.clear(!0),t.addFeatures(e)},t.prototype.updateState_=function(){var e=this.getMap(),t=this.getActive();e&&t||this.abortDrawing(),this.overlay_.setMap(t?e:null)},t}(y.b);function D(e,t){return function(o,n,i){var a=Object(I.q)(o[0],i),s=Object(I.q)(o[o.length-1],i),l=Math.sqrt(Object(O.l)(a,s)),c=n||Object(v.c)(new r.a(a),e),u=t;if(!t&&0!==t){var d=s[0]-a[0],h=s[1]-a[1];u=Math.atan2(h,d)}Object(v.e)(c,a,l,u);var p=Object(I.x)();return p&&c.transform(i,p),c}}function N(){return function(e,t,o){var n=Object(w.c)([e[0],e[e.length-1]].map((function(e){return Object(I.q)(e,o)}))),r=[[Object(w.A)(n),Object(w.B)(n),Object(w.M)(n),Object(w.L)(n),Object(w.A)(n)]],i=t;i?i.setCoordinates(r):i=new v.b(r);var a=Object(I.x)();return a&&i.transform(o,a),i}}t.d=G},"./node_modules/ol/interaction/Extent.js":function(e,t,o){"use strict";o.d(t,"a",(function(){return b}));var n,r=o("./node_modules/ol/events/Event.js"),i=o("./node_modules/ol/Feature.js"),a=o("./node_modules/ol/geom/GeometryType.js"),s=o("./node_modules/ol/MapBrowserEventType.js"),l=o("./node_modules/ol/geom/Point.js"),c=o("./node_modules/ol/interaction/Pointer.js"),u=o("./node_modules/ol/layer/Vector.js"),d=o("./node_modules/ol/source/Vector.js"),h=o("./node_modules/ol/events/condition.js"),p=o("./node_modules/ol/extent.js"),f=o("./node_modules/ol/coordinate.js"),g=o("./node_modules/ol/style/Style.js"),m=o("./node_modules/ol/geom/Polygon.js"),y=o("./node_modules/ol/proj.js"),v=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),_="extentchanged",b=function(e){function t(t){var o=e.call(this,_)||this;return o.extent=t,o}return v(t,e),t}(r.a),A=function(e){function t(t){var o,n=this,r=t||{};return(n=e.call(this,r)||this).on,n.once,n.un,n.condition_=r.condition?r.condition:h.d,n.extent_=null,n.pointerHandler_=null,n.pixelTolerance_=void 0!==r.pixelTolerance?r.pixelTolerance:10,n.snappedToVertex_=!1,n.extentFeature_=null,n.vertexFeature_=null,t||(t={}),n.extentOverlay_=new u.a({source:new d.b({useSpatialIndex:!1,wrapX:!!t.wrapX}),style:t.boxStyle?t.boxStyle:(o=Object(g.b)(),function(e,t){return o[a.a.POLYGON]}),updateWhileAnimating:!0,updateWhileInteracting:!0}),n.vertexOverlay_=new u.a({source:new d.b({useSpatialIndex:!1,wrapX:!!t.wrapX}),style:t.pointerStyle?t.pointerStyle:C(),updateWhileAnimating:!0,updateWhileInteracting:!0}),t.extent&&n.setExtent(t.extent),n}return v(t,e),t.prototype.snapToVertex_=function(e,t){var o=t.getCoordinateFromPixelInternal(e),n=this.getExtentInternal();if(n){var r=function(e){return[[[e[0],e[1]],[e[0],e[3]]],[[e[0],e[3]],[e[2],e[3]]],[[e[2],e[3]],[e[2],e[1]]],[[e[2],e[1]],[e[0],e[1]]]]}(n);r.sort((function(e,t){return Object(f.m)(o,e)-Object(f.m)(o,t)}));var i=r[0],a=Object(f.c)(o,i),s=t.getPixelFromCoordinateInternal(a);if(Object(f.f)(e,s)<=this.pixelTolerance_){var l=t.getPixelFromCoordinateInternal(i[0]),c=t.getPixelFromCoordinateInternal(i[1]),u=Object(f.l)(s,l),d=Object(f.l)(s,c),h=Math.sqrt(Math.min(u,d));return this.snappedToVertex_=h<=this.pixelTolerance_,this.snappedToVertex_&&(a=u>d?i[1]:i[0]),a}}return null},t.prototype.handlePointerMove_=function(e){var t=e.pixel,o=e.map,n=this.snapToVertex_(t,o);n||(n=o.getCoordinateFromPixelInternal(t)),this.createOrUpdatePointerFeature_(n)},t.prototype.createOrUpdateExtentFeature_=function(e){var t=this.extentFeature_;return t?e?t.setGeometry(Object(m.d)(e)):t.setGeometry(void 0):(t=e?new i.b(Object(m.d)(e)):new i.b({}),this.extentFeature_=t,this.extentOverlay_.getSource().addFeature(t)),t},t.prototype.createOrUpdatePointerFeature_=function(e){var t=this.vertexFeature_;t?t.getGeometry().setCoordinates(e):(t=new i.b(new l.a(e)),this.vertexFeature_=t,this.vertexOverlay_.getSource().addFeature(t));return t},t.prototype.handleEvent=function(t){return!t.originalEvent||!this.condition_(t)||(t.type!=s.a.POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(t),e.prototype.handleEvent.call(this,t),!1)},t.prototype.handleDownEvent=function(e){var t=e.pixel,o=e.map,n=this.getExtentInternal(),r=this.snapToVertex_(t,o),i=function(e){var t=null,o=null;return e[0]==n[0]?t=n[2]:e[0]==n[2]&&(t=n[0]),e[1]==n[1]?o=n[3]:e[1]==n[3]&&(o=n[1]),null!==t&&null!==o?[t,o]:null};if(r&&n){var a=r[0]==n[0]||r[0]==n[2]?r[0]:null,s=r[1]==n[1]||r[1]==n[3]?r[1]:null;null!==a&&null!==s?this.pointerHandler_=w(i(r)):null!==a?this.pointerHandler_=E(i([a,n[1]]),i([a,n[3]])):null!==s&&(this.pointerHandler_=E(i([n[0],s]),i([n[2],s])))}else r=o.getCoordinateFromPixelInternal(t),this.setExtent([r[0],r[1],r[0],r[1]]),this.pointerHandler_=w(r);return!0},t.prototype.handleDragEvent=function(e){if(this.pointerHandler_){var t=e.coordinate;this.setExtent(this.pointerHandler_(t)),this.createOrUpdatePointerFeature_(t)}},t.prototype.handleUpEvent=function(e){this.pointerHandler_=null;var t=this.getExtentInternal();return t&&0!==Object(p.z)(t)||this.setExtent(null),!1},t.prototype.setMap=function(t){this.extentOverlay_.setMap(t),this.vertexOverlay_.setMap(t),e.prototype.setMap.call(this,t)},t.prototype.getExtent=function(){return Object(y.C)(this.getExtentInternal(),this.getMap().getView().getProjection())},t.prototype.getExtentInternal=function(){return this.extent_},t.prototype.setExtent=function(e){this.extent_=e||null,this.createOrUpdateExtentFeature_(e),this.dispatchEvent(new b(this.extent_))},t}(c.b);function C(){var e=Object(g.b)();return function(t,o){return e[a.a.POINT]}}function w(e){return function(t){return Object(p.c)([e,t])}}function E(e,t){return e[0]==t[0]?function(o){return Object(p.c)([e,[o[0],t[1]]])}:e[1]==t[1]?function(o){return Object(p.c)([e,[t[0],o[1]]])}:null}t.b=A},"./node_modules/ol/interaction/Interaction.js":function(e,t,o){"use strict";o.d(t,"b",(function(){return c})),o.d(t,"c",(function(){return u}));var n,r=o("./node_modules/ol/Object.js"),i=o("./node_modules/ol/interaction/Property.js"),a=o("./node_modules/ol/easing.js"),s=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=function(e){function t(t){var o=e.call(this)||this;return o.on,o.once,o.un,t&&t.handleEvent&&(o.handleEvent=t.handleEvent),o.map_=null,o.setActive(!0),o}return s(t,e),t.prototype.getActive=function(){return this.get(i.a.ACTIVE)},t.prototype.getMap=function(){return this.map_},t.prototype.handleEvent=function(e){return!0},t.prototype.setActive=function(e){this.set(i.a.ACTIVE,e)},t.prototype.setMap=function(e){this.map_=e},t}(r.b);function c(e,t,o){var n=e.getCenterInternal();if(n){var r=[n[0]+t[0],n[1]+t[1]];e.animateInternal({duration:void 0!==o?o:250,easing:a.d,center:e.getConstrainedCenter(r)})}}function u(e,t,o,n){var r=e.getZoom();if(void 0!==r){var i=e.getConstrainedZoom(r+t),s=e.getResolutionForZoom(i);e.getAnimating()&&e.cancelAnimations(),e.animate({resolution:s,anchor:o,duration:void 0!==n?n:250,easing:a.b})}}t.a=l},"./node_modules/ol/interaction/KeyboardPan.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/events/EventType.js"),i=o("./node_modules/ol/interaction/Interaction.js"),a=37,s=38,l=39,c=40,u=o("./node_modules/ol/events/condition.js"),d=o("./node_modules/ol/coordinate.js"),h=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),p=function(e){function t(t){var o=e.call(this)||this,n=t||{};return o.defaultCondition_=function(e){return Object(u.l)(e)&&Object(u.s)(e)},o.condition_=void 0!==n.condition?n.condition:o.defaultCondition_,o.duration_=void 0!==n.duration?n.duration:100,o.pixelDelta_=void 0!==n.pixelDelta?n.pixelDelta:128,o}return h(t,e),t.prototype.handleEvent=function(e){var t=!1;if(e.type==r.a.KEYDOWN){var o=e.originalEvent,n=o.keyCode;if(this.condition_(e)&&(n==c||n==a||n==l||n==s)){var u=e.map.getView(),h=u.getResolution()*this.pixelDelta_,p=0,f=0;n==c?f=-h:n==a?p=-h:n==l?p=h:f=h;var g=[p,f];Object(d.j)(g,u.getRotation()),Object(i.b)(u,g,this.duration_),o.preventDefault(),t=!0}}return!t},t}(i.a);t.a=p},"./node_modules/ol/interaction/KeyboardZoom.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/events/EventType.js"),i=o("./node_modules/ol/interaction/Interaction.js"),a=o("./node_modules/ol/events/condition.js"),s=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=function(e){function t(t){var o=e.call(this)||this,n=t||{};return o.condition_=n.condition?n.condition:a.s,o.delta_=n.delta?n.delta:1,o.duration_=void 0!==n.duration?n.duration:100,o}return s(t,e),t.prototype.handleEvent=function(e){var t=!1;if(e.type==r.a.KEYDOWN||e.type==r.a.KEYPRESS){var o=e.originalEvent,n=o.charCode;if(this.condition_(e)&&(n=="+".charCodeAt(0)||n=="-".charCodeAt(0))){var a=e.map,s=n=="+".charCodeAt(0)?this.delta_:-this.delta_,l=a.getView();Object(i.c)(l,s,void 0,this.duration_),o.preventDefault(),t=!0}}return!t},t}(i.a);t.a=l},"./node_modules/ol/interaction/Modify.js":function(e,t,o){"use strict";o.d(t,"a",(function(){return P}));var n,r=o("./node_modules/ol/Collection.js"),i=o("./node_modules/ol/CollectionEventType.js"),a=o("./node_modules/ol/events/Event.js"),s=o("./node_modules/ol/events/EventType.js"),l=o("./node_modules/ol/Feature.js"),c=o("./node_modules/ol/geom/GeometryType.js"),u=o("./node_modules/ol/MapBrowserEventType.js"),d=o("./node_modules/ol/geom/Point.js"),h=o("./node_modules/ol/interaction/Pointer.js"),p=o("./node_modules/ol/structs/RBush.js"),f=o("./node_modules/ol/source/VectorEventType.js"),g=o("./node_modules/ol/layer/Vector.js"),m=o("./node_modules/ol/source/Vector.js"),y=o("./node_modules/ol/events/condition.js"),v=o("./node_modules/ol/extent.js"),_=o("./node_modules/ol/coordinate.js"),b=o("./node_modules/ol/style/Style.js"),A=o("./node_modules/ol/array.js"),C=o("./node_modules/ol/geom/Polygon.js"),w=o("./node_modules/ol/proj.js"),E=o("./node_modules/ol/util.js"),I=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),O=[0,0,0,0],S=[],x="modifystart",j="modifyend",P=function(e){function t(t,o,n){var r=e.call(this,t)||this;return r.features=o,r.mapBrowserEvent=n,r}return I(t,e),t}(a.a),T=function(e){function t(t){var o,n,a=e.call(this,t)||this;if(a.on,a.once,a.un,a.boundHandleFeatureChange_=a.handleFeatureChange_.bind(a),a.condition_=t.condition?t.condition:y.p,a.defaultDeleteCondition_=function(e){return Object(y.b)(e)&&Object(y.r)(e)},a.deleteCondition_=t.deleteCondition?t.deleteCondition:a.defaultDeleteCondition_,a.insertVertexCondition_=t.insertVertexCondition?t.insertVertexCondition:y.d,a.vertexFeature_=null,a.vertexSegments_=null,a.lastPixel_=[0,0],a.ignoreNextSingleClick_=!1,a.featuresBeingModified_=null,a.rBush_=new p.a,a.pixelTolerance_=void 0!==t.pixelTolerance?t.pixelTolerance:10,a.snappedToVertex_=!1,a.changingFeature_=!1,a.dragSegments_=[],a.overlay_=new g.a({source:new m.b({useSpatialIndex:!1,wrapX:!!t.wrapX}),style:t.style?t.style:(o=Object(b.b)(),function(e,t){return o[c.a.POINT]}),updateWhileAnimating:!0,updateWhileInteracting:!0}),a.SEGMENT_WRITERS_={Point:a.writePointGeometry_.bind(a),LineString:a.writeLineStringGeometry_.bind(a),LinearRing:a.writeLineStringGeometry_.bind(a),Polygon:a.writePolygonGeometry_.bind(a),MultiPoint:a.writeMultiPointGeometry_.bind(a),MultiLineString:a.writeMultiLineStringGeometry_.bind(a),MultiPolygon:a.writeMultiPolygonGeometry_.bind(a),Circle:a.writeCircleGeometry_.bind(a),GeometryCollection:a.writeGeometryCollectionGeometry_.bind(a)},a.source_=null,a.hitDetection_=null,t.features?n=t.features:t.source&&(a.source_=t.source,n=new r.b(a.source_.getFeatures()),a.source_.addEventListener(f.a.ADDFEATURE,a.handleSourceAdd_.bind(a)),a.source_.addEventListener(f.a.REMOVEFEATURE,a.handleSourceRemove_.bind(a))),!n)throw new Error("The modify interaction requires features, a source or a layer");return t.hitDetection&&(a.hitDetection_=t.hitDetection),a.features_=n,a.features_.forEach(a.addFeature_.bind(a)),a.features_.addEventListener(i.a.ADD,a.handleFeatureAdd_.bind(a)),a.features_.addEventListener(i.a.REMOVE,a.handleFeatureRemove_.bind(a)),a.lastPointerEvent_=null,a.delta_=[0,0],a.snapToPointer_=void 0===t.snapToPointer?!a.hitDetection_:t.snapToPointer,a}return I(t,e),t.prototype.addFeature_=function(e){var t=e.getGeometry();if(t){var o=this.SEGMENT_WRITERS_[t.getType()];o&&o(e,t)}var n=this.getMap();n&&n.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(this.lastPixel_,n),e.addEventListener(s.a.CHANGE,this.boundHandleFeatureChange_)},t.prototype.willModifyFeatures_=function(e,t){if(!this.featuresBeingModified_){this.featuresBeingModified_=new r.b;for(var o=this.featuresBeingModified_.getArray(),n=0,i=t.length;n<i;++n)for(var a=t[n],s=0,l=a.length;s<l;++s){var c=a[s].feature;c&&-1===o.indexOf(c)&&this.featuresBeingModified_.push(c)}0===this.featuresBeingModified_.getLength()?this.featuresBeingModified_=null:this.dispatchEvent(new P(x,this.featuresBeingModified_,e))}},t.prototype.removeFeature_=function(e){this.removeFeatureSegmentData_(e),this.vertexFeature_&&0===this.features_.getLength()&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),e.removeEventListener(s.a.CHANGE,this.boundHandleFeatureChange_)},t.prototype.removeFeatureSegmentData_=function(e){var t=this.rBush_,o=[];t.forEach((function(t){e===t.feature&&o.push(t)}));for(var n=o.length-1;n>=0;--n){for(var r=o[n],i=this.dragSegments_.length-1;i>=0;--i)this.dragSegments_[i][0]===r&&this.dragSegments_.splice(i,1);t.remove(r)}},t.prototype.setActive=function(t){this.vertexFeature_&&!t&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),e.prototype.setActive.call(this,t)},t.prototype.setMap=function(t){this.overlay_.setMap(t),e.prototype.setMap.call(this,t)},t.prototype.getOverlay=function(){return this.overlay_},t.prototype.handleSourceAdd_=function(e){e.feature&&this.features_.push(e.feature)},t.prototype.handleSourceRemove_=function(e){e.feature&&this.features_.remove(e.feature)},t.prototype.handleFeatureAdd_=function(e){this.addFeature_(e.element)},t.prototype.handleFeatureChange_=function(e){if(!this.changingFeature_){var t=e.target;this.removeFeature_(t),this.addFeature_(t)}},t.prototype.handleFeatureRemove_=function(e){var t=e.element;this.removeFeature_(t)},t.prototype.writePointGeometry_=function(e,t){var o=t.getCoordinates(),n={feature:e,geometry:t,segment:[o,o]};this.rBush_.insert(t.getExtent(),n)},t.prototype.writeMultiPointGeometry_=function(e,t){for(var o=t.getCoordinates(),n=0,r=o.length;n<r;++n){var i=o[n],a={feature:e,geometry:t,depth:[n],index:n,segment:[i,i]};this.rBush_.insert(t.getExtent(),a)}},t.prototype.writeLineStringGeometry_=function(e,t){for(var o=t.getCoordinates(),n=0,r=o.length-1;n<r;++n){var i=o.slice(n,n+2),a={feature:e,geometry:t,index:n,segment:i};this.rBush_.insert(Object(v.c)(i),a)}},t.prototype.writeMultiLineStringGeometry_=function(e,t){for(var o=t.getCoordinates(),n=0,r=o.length;n<r;++n)for(var i=o[n],a=0,s=i.length-1;a<s;++a){var l=i.slice(a,a+2),c={feature:e,geometry:t,depth:[n],index:a,segment:l};this.rBush_.insert(Object(v.c)(l),c)}},t.prototype.writePolygonGeometry_=function(e,t){for(var o=t.getCoordinates(),n=0,r=o.length;n<r;++n)for(var i=o[n],a=0,s=i.length-1;a<s;++a){var l=i.slice(a,a+2),c={feature:e,geometry:t,depth:[n],index:a,segment:l};this.rBush_.insert(Object(v.c)(l),c)}},t.prototype.writeMultiPolygonGeometry_=function(e,t){for(var o=t.getCoordinates(),n=0,r=o.length;n<r;++n)for(var i=o[n],a=0,s=i.length;a<s;++a)for(var l=i[a],c=0,u=l.length-1;c<u;++c){var d=l.slice(c,c+2),h={feature:e,geometry:t,depth:[a,n],index:c,segment:d};this.rBush_.insert(Object(v.c)(d),h)}},t.prototype.writeCircleGeometry_=function(e,t){var o=t.getCenter(),n={feature:e,geometry:t,index:0,segment:[o,o]},r={feature:e,geometry:t,index:1,segment:[o,o]},i=[n,r];n.featureSegments=i,r.featureSegments=i,this.rBush_.insert(Object(v.n)(o),n);var a=t,s=Object(w.x)();if(s&&this.getMap()){var l=this.getMap().getView().getProjection();a=a.clone().transform(s,l),a=Object(C.c)(a).transform(l,s)}this.rBush_.insert(a.getExtent(),r)},t.prototype.writeGeometryCollectionGeometry_=function(e,t){for(var o=t.getGeometriesArray(),n=0;n<o.length;++n){var r=o[n];(0,this.SEGMENT_WRITERS_[r.getType()])(e,r)}},t.prototype.createOrUpdateVertexFeature_=function(e,t,o){var n=this.vertexFeature_;n?n.getGeometry().setCoordinates(e):(n=new l.b(new d.a(e)),this.vertexFeature_=n,this.overlay_.getSource().addFeature(n));return n.set("features",t),n.set("geometries",o),n},t.prototype.handleEvent=function(t){return!t.originalEvent||(this.lastPointerEvent_=t,t.map.getView().getInteracting()||t.type!=u.a.POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(t),this.vertexFeature_&&this.deleteCondition_(t)&&(o=!(t.type!=u.a.SINGLECLICK||!this.ignoreNextSingleClick_)||this.removePoint()),t.type==u.a.SINGLECLICK&&(this.ignoreNextSingleClick_=!1),e.prototype.handleEvent.call(this,t)&&!o);var o},t.prototype.handleDragEvent=function(e){this.ignoreNextSingleClick_=!1,this.willModifyFeatures_(e,this.dragSegments_);for(var t=[e.coordinate[0]+this.delta_[0],e.coordinate[1]+this.delta_[1]],o=[],n=[],r=0,i=this.dragSegments_.length;r<i;++r){var a=this.dragSegments_[r],s=a[0],l=s.feature;-1===o.indexOf(l)&&o.push(l);var u=s.geometry;-1===n.indexOf(u)&&n.push(u);for(var d=s.depth,h=void 0,p=s.segment,f=a[1];t.length<u.getStride();)t.push(p[f][t.length]);switch(u.getType()){case c.a.POINT:h=t,p[0]=t,p[1]=t;break;case c.a.MULTI_POINT:(h=u.getCoordinates())[s.index]=t,p[0]=t,p[1]=t;break;case c.a.LINE_STRING:(h=u.getCoordinates())[s.index+f]=t,p[f]=t;break;case c.a.MULTI_LINE_STRING:case c.a.POLYGON:(h=u.getCoordinates())[d[0]][s.index+f]=t,p[f]=t;break;case c.a.MULTI_POLYGON:(h=u.getCoordinates())[d[1]][d[0]][s.index+f]=t,p[f]=t;break;case c.a.CIRCLE:if(p[0]=t,p[1]=t,0===s.index)this.changingFeature_=!0,u.setCenter(t),this.changingFeature_=!1;else{this.changingFeature_=!0;var g=e.map.getView().getProjection(),m=Object(_.f)(Object(w.q)(u.getCenter(),g),Object(w.q)(t,g)),y=Object(w.x)();if(y){var v=u.clone().transform(y,g);v.setRadius(m),m=v.transform(g,y).getRadius()}u.setRadius(m),this.changingFeature_=!1}}h&&this.setGeometryCoordinates_(u,h)}this.createOrUpdateVertexFeature_(t,o,n)},t.prototype.handleDownEvent=function(e){if(!this.condition_(e))return!1;var t=e.coordinate;this.handlePointerAtPixel_(e.pixel,e.map,t),this.dragSegments_.length=0,this.featuresBeingModified_=null;var o=this.vertexFeature_;if(o){var n=e.map.getView().getProjection(),r=[],i=o.getGeometry().getCoordinates(),a=Object(v.c)([i]),s=this.rBush_.getInExtent(a),l={};s.sort(M);for(var u=0,d=s.length;u<d;++u){var h=s[u],p=h.segment,f=Object(E.c)(h.geometry),g=h.depth;if(g&&(f+="-"+g.join("-")),l[f]||(l[f]=new Array(2)),h.geometry.getType()!==c.a.CIRCLE||1!==h.index)if(!Object(_.g)(p[0],i)||l[f][0])if(!Object(_.g)(p[1],i)||l[f][1])Object(E.c)(p)in this.vertexSegments_&&!l[f][0]&&!l[f][1]&&this.insertVertexCondition_(e)&&r.push(h);else{if((h.geometry.getType()===c.a.LINE_STRING||h.geometry.getType()===c.a.MULTI_LINE_STRING)&&l[f][0]&&0===l[f][0].index)continue;this.dragSegments_.push([h,1]),l[f][1]=h}else this.dragSegments_.push([h,0]),l[f][0]=h;else{var m=L(t,h,n);Object(_.g)(m,i)&&!l[f][0]&&(this.dragSegments_.push([h,0]),l[f][0]=h)}}r.length&&this.willModifyFeatures_(e,[r]);for(var y=r.length-1;y>=0;--y)this.insertVertex_(r[y],i)}return!!this.vertexFeature_},t.prototype.handleUpEvent=function(e){for(var t=this.dragSegments_.length-1;t>=0;--t){var o=this.dragSegments_[t][0],n=o.geometry;if(n.getType()===c.a.CIRCLE){var r=n.getCenter(),i=o.featureSegments[0],a=o.featureSegments[1];i.segment[0]=r,i.segment[1]=r,a.segment[0]=r,a.segment[1]=r,this.rBush_.update(Object(v.n)(r),i);var s=n,l=Object(w.x)();if(l){var u=e.map.getView().getProjection();s=s.clone().transform(l,u),s=Object(C.c)(s).transform(u,l)}this.rBush_.update(s.getExtent(),a)}else this.rBush_.update(Object(v.c)(o.segment),o)}return this.featuresBeingModified_&&(this.dispatchEvent(new P(j,this.featuresBeingModified_,e)),this.featuresBeingModified_=null),!1},t.prototype.handlePointerMove_=function(e){this.lastPixel_=e.pixel,this.handlePointerAtPixel_(e.pixel,e.map,e.coordinate)},t.prototype.handlePointerAtPixel_=function(e,t,o){var n,r,i=this,a=o||t.getCoordinateFromPixel(e),s=t.getView().getProjection();if(this.hitDetection_){var l="object"==typeof this.hitDetection_?function(e){return e===i.hitDetection_}:void 0;t.forEachFeatureAtPixel(e,(function(e,t,o){if((o=o||e.getGeometry()).getType()===c.a.POINT&&Object(A.f)(i.features_.getArray(),e)){r=o;var a=o.getFlatCoordinates().slice(0,2);n=[{feature:e,geometry:o,segment:[a,a]}]}return!0}),{layerFilter:l})}if(!n){var u=Object(w.r)(Object(v.n)(a,O),s),d=t.getView().getResolution()*this.pixelTolerance_,h=Object(w.C)(Object(v.d)(u,d,O),s);n=this.rBush_.getInExtent(h)}if(n&&n.length>0){var p=n.sort((function(e,t){return R(a,e,s)-R(a,t,s)}))[0],f=p.segment,g=L(a,p,s),m=t.getPixelFromCoordinate(g),y=Object(_.f)(e,m);if(r||y<=this.pixelTolerance_){var b={};if(b[Object(E.c)(f)]=!0,this.snapToPointer_||(this.delta_[0]=g[0]-a[0],this.delta_[1]=g[1]-a[1]),p.geometry.getType()===c.a.CIRCLE&&1===p.index)this.snappedToVertex_=!0,this.createOrUpdateVertexFeature_(g,[p.feature],[p.geometry]);else{var C=t.getPixelFromCoordinate(f[0]),I=t.getPixelFromCoordinate(f[1]),S=Object(_.l)(m,C),x=Object(_.l)(m,I);y=Math.sqrt(Math.min(S,x)),this.snappedToVertex_=y<=this.pixelTolerance_,this.snappedToVertex_&&(g=S>x?f[1]:f[0]),this.createOrUpdateVertexFeature_(g,[p.feature],[p.geometry]);var j={};j[Object(E.c)(p.geometry)]=!0;for(var P=1,T=n.length;P<T;++P){var M=n[P].segment;if(!(Object(_.g)(f[0],M[0])&&Object(_.g)(f[1],M[1])||Object(_.g)(f[0],M[1])&&Object(_.g)(f[1],M[0])))break;var k=Object(E.c)(n[P].geometry);k in j||(j[k]=!0,b[Object(E.c)(M)]=!0)}}return void(this.vertexSegments_=b)}}this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)},t.prototype.insertVertex_=function(e,t){for(var o,n=e.segment,r=e.feature,i=e.geometry,a=e.depth,s=e.index;t.length<i.getStride();)t.push(0);switch(i.getType()){case c.a.MULTI_LINE_STRING:case c.a.POLYGON:(o=i.getCoordinates())[a[0]].splice(s+1,0,t);break;case c.a.MULTI_POLYGON:(o=i.getCoordinates())[a[1]][a[0]].splice(s+1,0,t);break;case c.a.LINE_STRING:(o=i.getCoordinates()).splice(s+1,0,t);break;default:return}this.setGeometryCoordinates_(i,o);var l=this.rBush_;l.remove(e),this.updateSegmentIndices_(i,s,a,1);var u={segment:[n[0],t],feature:r,geometry:i,depth:a,index:s};l.insert(Object(v.c)(u.segment),u),this.dragSegments_.push([u,1]);var d={segment:[t,n[1]],feature:r,geometry:i,depth:a,index:s+1};l.insert(Object(v.c)(d.segment),d),this.dragSegments_.push([d,0]),this.ignoreNextSingleClick_=!0},t.prototype.removePoint=function(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=u.a.POINTERDRAG){var e=this.lastPointerEvent_;this.willModifyFeatures_(e,this.dragSegments_);var t=this.removeVertex_();return this.dispatchEvent(new P(j,this.featuresBeingModified_,e)),this.featuresBeingModified_=null,t}return!1},t.prototype.removeVertex_=function(){var e,t,o,n,r,i,a,s,l,u,d,h=this.dragSegments_,p={},f=!1;for(r=h.length-1;r>=0;--r)u=(o=h[r])[0],d=Object(E.c)(u.feature),u.depth&&(d+="-"+u.depth.join("-")),d in p||(p[d]={}),0===o[1]?(p[d].right=u,p[d].index=u.index):1==o[1]&&(p[d].left=u,p[d].index=u.index+1);for(d in p){switch(l=p[d].right,a=p[d].left,(s=(i=p[d].index)-1)<0&&(s=0),e=t=(n=(u=void 0!==a?a:l).geometry).getCoordinates(),f=!1,n.getType()){case c.a.MULTI_LINE_STRING:t[u.depth[0]].length>2&&(t[u.depth[0]].splice(i,1),f=!0);break;case c.a.LINE_STRING:t.length>2&&(t.splice(i,1),f=!0);break;case c.a.MULTI_POLYGON:e=e[u.depth[1]];case c.a.POLYGON:(e=e[u.depth[0]]).length>4&&(i==e.length-1&&(i=0),e.splice(i,1),f=!0,0===i&&(e.pop(),e.push(e[0]),s=e.length-1))}if(f){this.setGeometryCoordinates_(n,t);var g=[];if(void 0!==a&&(this.rBush_.remove(a),g.push(a.segment[0])),void 0!==l&&(this.rBush_.remove(l),g.push(l.segment[1])),void 0!==a&&void 0!==l){var m={depth:u.depth,feature:u.feature,geometry:u.geometry,index:s,segment:g};this.rBush_.insert(Object(v.c)(m.segment),m)}this.updateSegmentIndices_(n,i,u.depth,-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),h.length=0}}return f},t.prototype.setGeometryCoordinates_=function(e,t){this.changingFeature_=!0,e.setCoordinates(t),this.changingFeature_=!1},t.prototype.updateSegmentIndices_=function(e,t,o,n){this.rBush_.forEachInExtent(e.getExtent(),(function(r){r.geometry===e&&(void 0===o||void 0===r.depth||Object(A.b)(r.depth,o))&&r.index>t&&(r.index+=n)}))},t}(h.b);function M(e,t){return e.index-t.index}function R(e,t,o){var n=t.geometry;if(n.getType()===c.a.CIRCLE){var r=n;if(1===t.index){var i=Object(w.x)();i&&(r=r.clone().transform(i,o));var a=Object(_.l)(r.getCenter(),Object(w.q)(e,o)),s=Math.sqrt(a)-r.getRadius();return s*s}}var l=Object(w.q)(e,o);return S[0]=Object(w.q)(t.segment[0],o),S[1]=Object(w.q)(t.segment[1],o),Object(_.m)(l,S)}function L(e,t,o){var n=t.geometry;if(n.getType()===c.a.CIRCLE&&1===t.index){var r=n,i=Object(w.x)();return i&&(r=r.clone().transform(i,o)),Object(w.B)(r.getClosestPoint(Object(w.q)(e,o)),o)}var a=Object(w.q)(e,o);return S[0]=Object(w.q)(t.segment[0],o),S[1]=Object(w.q)(t.segment[1],o),Object(w.B)(Object(_.c)(a,S),o)}t.b=T},"./node_modules/ol/interaction/MouseWheelZoom.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/events/EventType.js"),i=o("./node_modules/ol/interaction/Interaction.js"),a=o("./node_modules/ol/has.js"),s=o("./node_modules/ol/events/condition.js"),l=o("./node_modules/ol/math.js"),c=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),u="trackpad",d="wheel",h=function(e){function t(t){var o=this,n=t||{};(o=e.call(this,n)||this).totalDelta_=0,o.lastDelta_=0,o.maxDelta_=void 0!==n.maxDelta?n.maxDelta:1,o.duration_=void 0!==n.duration?n.duration:250,o.timeout_=void 0!==n.timeout?n.timeout:80,o.useAnchor_=void 0===n.useAnchor||n.useAnchor,o.constrainResolution_=void 0!==n.constrainResolution&&n.constrainResolution;var r=n.condition?n.condition:s.d;return o.condition_=n.onFocusOnly?Object(s.a)(s.h,r):r,o.lastAnchor_=null,o.startTime_=void 0,o.timeoutId_,o.mode_=void 0,o.trackpadEventGap_=400,o.trackpadTimeoutId_,o.deltaPerZoom_=300,o}return c(t,e),t.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)},t.prototype.handleEvent=function(e){if(!this.condition_(e))return!0;if(e.type!==r.a.WHEEL)return!0;var t,o=e.map,n=e.originalEvent;if(n.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.coordinate),e.type==r.a.WHEEL&&(t=n.deltaY,a.b&&n.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(t/=a.a),n.deltaMode===WheelEvent.DOM_DELTA_LINE&&(t*=40)),0===t)return!1;this.lastDelta_=t;var i=Date.now();void 0===this.startTime_&&(this.startTime_=i),(!this.mode_||i-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(t)<4?u:d);var s=o.getView();if(this.mode_===u&&!s.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(s.getAnimating()&&s.cancelAnimations(),s.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),s.adjustZoom(-t/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=i,!1;this.totalDelta_+=t;var l=Math.max(this.timeout_-(i-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,o),l),!1},t.prototype.handleWheelZoom_=function(e){var t=e.getView();t.getAnimating()&&t.cancelAnimations();var o=-Object(l.a)(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(t.getConstrainResolution()||this.constrainResolution_)&&(o=o?o>0?1:-1:0),Object(i.c)(t,o,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},t.prototype.setMouseAnchor=function(e){this.useAnchor_=e,e||(this.lastAnchor_=null)},t}(i.a);t.a=h},"./node_modules/ol/interaction/PinchRotate.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/interaction/Pointer.js"),i=o("./node_modules/ol/functions.js"),a=o("./node_modules/ol/rotationconstraint.js"),s=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=function(e){function t(t){var o=this,n=t||{},r=n;return r.stopDown||(r.stopDown=i.a),(o=e.call(this,r)||this).anchor_=null,o.lastAngle_=void 0,o.rotating_=!1,o.rotationDelta_=0,o.threshold_=void 0!==n.threshold?n.threshold:.3,o.duration_=void 0!==n.duration?n.duration:250,o}return s(t,e),t.prototype.handleDragEvent=function(e){var t=0,o=this.targetPointers[0],n=this.targetPointers[1],i=Math.atan2(n.clientY-o.clientY,n.clientX-o.clientX);if(void 0!==this.lastAngle_){var s=i-this.lastAngle_;this.rotationDelta_+=s,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),t=s}this.lastAngle_=i;var l=e.map,c=l.getView();if(c.getConstraints().rotation!==a.c){var u=l.getViewport().getBoundingClientRect(),d=Object(r.a)(this.targetPointers);d[0]-=u.left,d[1]-=u.top,this.anchor_=l.getCoordinateFromPixelInternal(d),this.rotating_&&(l.render(),c.adjustRotationInternal(t,this.anchor_))}},t.prototype.handleUpEvent=function(e){return!(this.targetPointers.length<2)||(e.map.getView().endInteraction(this.duration_),!1)},t.prototype.handleDownEvent=function(e){if(this.targetPointers.length>=2){var t=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1},t}(r.b);t.a=l},"./node_modules/ol/interaction/PinchZoom.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/interaction/Pointer.js"),i=o("./node_modules/ol/functions.js"),a=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),s=function(e){function t(t){var o=this,n=t||{},r=n;return r.stopDown||(r.stopDown=i.a),(o=e.call(this,r)||this).anchor_=null,o.duration_=void 0!==n.duration?n.duration:400,o.lastDistance_=void 0,o.lastScaleDelta_=1,o}return a(t,e),t.prototype.handleDragEvent=function(e){var t=1,o=this.targetPointers[0],n=this.targetPointers[1],i=o.clientX-n.clientX,a=o.clientY-n.clientY,s=Math.sqrt(i*i+a*a);void 0!==this.lastDistance_&&(t=this.lastDistance_/s),this.lastDistance_=s;var l=e.map,c=l.getView();1!=t&&(this.lastScaleDelta_=t);var u=l.getViewport().getBoundingClientRect(),d=Object(r.a)(this.targetPointers);d[0]-=u.left,d[1]-=u.top,this.anchor_=l.getCoordinateFromPixelInternal(d),l.render(),c.adjustResolutionInternal(t,this.anchor_)},t.prototype.handleUpEvent=function(e){if(this.targetPointers.length<2){var t=e.map.getView(),o=this.lastScaleDelta_>1?1:-1;return t.endInteraction(this.duration_,o),!1}return!0},t.prototype.handleDownEvent=function(e){if(this.targetPointers.length>=2){var t=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1},t}(r.b);t.a=s},"./node_modules/ol/interaction/Pointer.js":function(e,t,o){"use strict";o.d(t,"a",(function(){return c}));var n,r=o("./node_modules/ol/interaction/Interaction.js"),i=o("./node_modules/ol/MapBrowserEventType.js"),a=o("./node_modules/ol/obj.js"),s=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=function(e){function t(t){var o=this,n=t||{};return o=e.call(this,n)||this,n.handleDownEvent&&(o.handleDownEvent=n.handleDownEvent),n.handleDragEvent&&(o.handleDragEvent=n.handleDragEvent),n.handleMoveEvent&&(o.handleMoveEvent=n.handleMoveEvent),n.handleUpEvent&&(o.handleUpEvent=n.handleUpEvent),n.stopDown&&(o.stopDown=n.stopDown),o.handlingDownUpSequence=!1,o.trackedPointers_={},o.targetPointers=[],o}return s(t,e),t.prototype.getPointerCount=function(){return this.targetPointers.length},t.prototype.handleDownEvent=function(e){return!1},t.prototype.handleDragEvent=function(e){},t.prototype.handleEvent=function(e){if(!e.originalEvent)return!0;var t=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==i.a.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==i.a.POINTERUP){var o=this.handleUpEvent(e);this.handlingDownUpSequence=o&&this.targetPointers.length>0}}else if(e.type==i.a.POINTERDOWN){var n=this.handleDownEvent(e);this.handlingDownUpSequence=n,t=this.stopDown(n)}else e.type==i.a.POINTERMOVE&&this.handleMoveEvent(e);return!t},t.prototype.handleMoveEvent=function(e){},t.prototype.handleUpEvent=function(e){return!1},t.prototype.stopDown=function(e){return e},t.prototype.updateTrackedPointers_=function(e){if(function(e){var t=e.type;return t===i.a.POINTERDOWN||t===i.a.POINTERDRAG||t===i.a.POINTERUP}(e)){var t=e.originalEvent,o=t.pointerId.toString();e.type==i.a.POINTERUP?delete this.trackedPointers_[o]:(e.type==i.a.POINTERDOWN||o in this.trackedPointers_)&&(this.trackedPointers_[o]=t),this.targetPointers=Object(a.c)(this.trackedPointers_)}},t}(r.a);function c(e){for(var t=e.length,o=0,n=0,r=0;r<t;r++)o+=e[r].clientX,n+=e[r].clientY;return[o/t,n/t]}t.b=l},"./node_modules/ol/interaction/Property.js":function(e,t,o){"use strict";t.a={ACTIVE:"active"}},"./node_modules/ol/interaction/Select.js":function(e,t,o){"use strict";o.d(t,"a",(function(){return y}));var n,r=o("./node_modules/ol/Collection.js"),i=o("./node_modules/ol/CollectionEventType.js"),a=o("./node_modules/ol/events/Event.js"),s=o("./node_modules/ol/geom/GeometryType.js"),l=o("./node_modules/ol/interaction/Interaction.js"),c=o("./node_modules/ol/functions.js"),u=o("./node_modules/ol/obj.js"),d=o("./node_modules/ol/style/Style.js"),h=o("./node_modules/ol/array.js"),p=o("./node_modules/ol/util.js"),f=o("./node_modules/ol/events/condition.js"),g=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),m="select",y=function(e){function t(t,o,n,r){var i=e.call(this,t)||this;return i.selected=o,i.deselected=n,i.mapBrowserEvent=r,i}return g(t,e),t}(a.a),v={},_=function(e){function t(t){var o=e.call(this)||this;o.on,o.once,o.un;var n,i,a=t||{};if(o.boundAddFeature_=o.addFeature_.bind(o),o.boundRemoveFeature_=o.removeFeature_.bind(o),o.condition_=a.condition?a.condition:f.r,o.addCondition_=a.addCondition?a.addCondition:f.k,o.removeCondition_=a.removeCondition?a.removeCondition:f.k,o.toggleCondition_=a.toggleCondition?a.toggleCondition:f.q,o.multi_=!!a.multi&&a.multi,o.filter_=a.filter?a.filter:c.b,o.hitTolerance_=a.hitTolerance?a.hitTolerance:0,o.style_=void 0!==a.style?a.style:(n=Object(d.b)(),Object(h.c)(n[s.a.POLYGON],n[s.a.LINE_STRING]),Object(h.c)(n[s.a.GEOMETRY_COLLECTION],n[s.a.LINE_STRING]),function(e){return e.getGeometry()?n[e.getGeometry().getType()]:null}),o.features_=a.features||new r.b,a.layers)if("function"==typeof a.layers)i=a.layers;else{var l=a.layers;i=function(e){return Object(h.f)(l,e)}}else i=c.b;return o.layerFilter_=i,o.featureLayerAssociation_={},o}return g(t,e),t.prototype.addFeatureLayerAssociation_=function(e,t){this.featureLayerAssociation_[Object(p.c)(e)]=t},t.prototype.getFeatures=function(){return this.features_},t.prototype.getHitTolerance=function(){return this.hitTolerance_},t.prototype.getLayer=function(e){return this.featureLayerAssociation_[Object(p.c)(e)]},t.prototype.setHitTolerance=function(e){this.hitTolerance_=e},t.prototype.setMap=function(t){this.getMap()&&this.style_&&this.features_.forEach(this.restorePreviousStyle_.bind(this)),e.prototype.setMap.call(this,t),t?(this.features_.addEventListener(i.a.ADD,this.boundAddFeature_),this.features_.addEventListener(i.a.REMOVE,this.boundRemoveFeature_),this.style_&&this.features_.forEach(this.applySelectedStyle_.bind(this))):(this.features_.removeEventListener(i.a.ADD,this.boundAddFeature_),this.features_.removeEventListener(i.a.REMOVE,this.boundRemoveFeature_))},t.prototype.addFeature_=function(e){var t=e.element;this.style_&&this.applySelectedStyle_(t)},t.prototype.removeFeature_=function(e){var t=e.element;this.style_&&this.restorePreviousStyle_(t)},t.prototype.getStyle=function(){return this.style_},t.prototype.applySelectedStyle_=function(e){var t=Object(p.c)(e);t in v||(v[t]=e.getStyle()),e.setStyle(this.style_)},t.prototype.restorePreviousStyle_=function(e){for(var o=this.getMap().getInteractions().getArray(),n=o.length-1;n>=0;--n){var r=o[n];if(r!==this&&r instanceof t&&r.getStyle()&&-1!==r.getFeatures().getArray().lastIndexOf(e))return void e.setStyle(r.getStyle())}var i=Object(p.c)(e);e.setStyle(v[i]),delete v[i]},t.prototype.removeFeatureLayerAssociation_=function(e){delete this.featureLayerAssociation_[Object(p.c)(e)]},t.prototype.handleEvent=function(e){if(!this.condition_(e))return!0;var t=this.addCondition_(e),o=this.removeCondition_(e),n=this.toggleCondition_(e),r=!t&&!o&&!n,i=e.map,a=this.getFeatures(),s=[],l=[];if(r){Object(u.b)(this.featureLayerAssociation_),i.forEachFeatureAtPixel(e.pixel,function(e,t){if(this.filter_(e,t))return l.push(e),this.addFeatureLayerAssociation_(e,t),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var c=a.getLength()-1;c>=0;--c){var d=a.item(c),p=l.indexOf(d);p>-1?l.splice(p,1):(a.remove(d),s.push(d))}0!==l.length&&a.extend(l)}else{i.forEachFeatureAtPixel(e.pixel,function(e,r){if(this.filter_(e,r))return!t&&!n||Object(h.f)(a.getArray(),e)?(o||n)&&Object(h.f)(a.getArray(),e)&&(s.push(e),this.removeFeatureLayerAssociation_(e)):(l.push(e),this.addFeatureLayerAssociation_(e,r)),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var f=s.length-1;f>=0;--f)a.remove(s[f]);a.extend(l)}return(l.length>0||s.length>0)&&this.dispatchEvent(new y(m,l,s,e)),!0},t}(l.a);t.b=_},"./node_modules/ol/interaction/Snap.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/CollectionEventType.js"),i=o("./node_modules/ol/events/EventType.js"),a=o("./node_modules/ol/geom/GeometryType.js"),s=o("./node_modules/ol/interaction/Pointer.js"),l=o("./node_modules/ol/structs/RBush.js"),c=o("./node_modules/ol/source/VectorEventType.js"),u=o("./node_modules/ol/functions.js"),d=o("./node_modules/ol/extent.js"),h=o("./node_modules/ol/coordinate.js"),p=o("./node_modules/ol/geom/Polygon.js"),f=o("./node_modules/ol/proj.js"),g=o("./node_modules/ol/util.js"),m=o("./node_modules/ol/obj.js"),y=o("./node_modules/ol/events.js"),v=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});function _(e){return e.feature?e.feature:e.element?e.element:void 0}var b=[],A=function(e){function t(t){var o=this,n=t||{},r=n;return r.handleDownEvent||(r.handleDownEvent=u.b),r.stopDown||(r.stopDown=u.a),(o=e.call(this,r)||this).source_=n.source?n.source:null,o.vertex_=void 0===n.vertex||n.vertex,o.edge_=void 0===n.edge||n.edge,o.features_=n.features?n.features:null,o.featuresListenerKeys_=[],o.featureChangeListenerKeys_={},o.indexedFeaturesExtents_={},o.pendingFeatures_={},o.pixelTolerance_=void 0!==n.pixelTolerance?n.pixelTolerance:10,o.rBush_=new l.a,o.SEGMENT_WRITERS_={Point:o.writePointGeometry_.bind(o),LineString:o.writeLineStringGeometry_.bind(o),LinearRing:o.writeLineStringGeometry_.bind(o),Polygon:o.writePolygonGeometry_.bind(o),MultiPoint:o.writeMultiPointGeometry_.bind(o),MultiLineString:o.writeMultiLineStringGeometry_.bind(o),MultiPolygon:o.writeMultiPolygonGeometry_.bind(o),GeometryCollection:o.writeGeometryCollectionGeometry_.bind(o),Circle:o.writeCircleGeometry_.bind(o)},o}return v(t,e),t.prototype.addFeature=function(e,t){var o=void 0===t||t,n=Object(g.c)(e),r=e.getGeometry();if(r){var a=this.SEGMENT_WRITERS_[r.getType()];a&&(this.indexedFeaturesExtents_[n]=r.getExtent(Object(d.k)()),a(e,r))}o&&(this.featureChangeListenerKeys_[n]=Object(y.a)(e,i.a.CHANGE,this.handleFeatureChange_,this))},t.prototype.forEachFeatureAdd_=function(e){this.addFeature(e)},t.prototype.forEachFeatureRemove_=function(e){this.removeFeature(e)},t.prototype.getFeatures_=function(){var e;return this.features_?e=this.features_:this.source_&&(e=this.source_.getFeatures()),e},t.prototype.handleEvent=function(t){var o=this.snapTo(t.pixel,t.coordinate,t.map);return o.snapped&&(t.coordinate=o.vertex.slice(0,2),t.pixel=o.vertexPixel),e.prototype.handleEvent.call(this,t)},t.prototype.handleFeatureAdd_=function(e){var t=_(e);this.addFeature(t)},t.prototype.handleFeatureRemove_=function(e){var t=_(e);this.removeFeature(t)},t.prototype.handleFeatureChange_=function(e){var t=e.target;if(this.handlingDownUpSequence){var o=Object(g.c)(t);o in this.pendingFeatures_||(this.pendingFeatures_[o]=t)}else this.updateFeature_(t)},t.prototype.handleUpEvent=function(e){var t=Object(m.c)(this.pendingFeatures_);return t.length&&(t.forEach(this.updateFeature_.bind(this)),this.pendingFeatures_={}),!1},t.prototype.removeFeature=function(e,t){var o=void 0===t||t,n=Object(g.c)(e),r=this.indexedFeaturesExtents_[n];if(r){var i=this.rBush_,a=[];i.forEachInExtent(r,(function(t){e===t.feature&&a.push(t)}));for(var s=a.length-1;s>=0;--s)i.remove(a[s])}o&&(Object(y.c)(this.featureChangeListenerKeys_[n]),delete this.featureChangeListenerKeys_[n])},t.prototype.setMap=function(t){var o=this.getMap(),n=this.featuresListenerKeys_,i=this.getFeatures_();o&&(n.forEach(y.c),n.length=0,i.forEach(this.forEachFeatureRemove_.bind(this))),e.prototype.setMap.call(this,t),t&&(this.features_?n.push(Object(y.a)(this.features_,r.a.ADD,this.handleFeatureAdd_,this),Object(y.a)(this.features_,r.a.REMOVE,this.handleFeatureRemove_,this)):this.source_&&n.push(Object(y.a)(this.source_,c.a.ADDFEATURE,this.handleFeatureAdd_,this),Object(y.a)(this.source_,c.a.REMOVEFEATURE,this.handleFeatureRemove_,this)),i.forEach(this.forEachFeatureAdd_.bind(this)))},t.prototype.snapTo=function(e,t,o){var n=o.getCoordinateFromPixel([e[0]-this.pixelTolerance_,e[1]+this.pixelTolerance_]),r=o.getCoordinateFromPixel([e[0]+this.pixelTolerance_,e[1]-this.pixelTolerance_]),i=Object(d.c)([n,r]),s=this.rBush_.getInExtent(i);this.vertex_&&!this.edge_&&(s=s.filter((function(e){return e.feature.getGeometry().getType()!==a.a.CIRCLE})));var l=!1,c=null,u=null;if(0===s.length)return{snapped:l,vertex:c,vertexPixel:u};for(var p,g=o.getView().getProjection(),m=Object(f.q)(t,g),y=1/0,v=0;v<s.length;++v){var _=s[v];b[0]=Object(f.q)(_.segment[0],g),b[1]=Object(f.q)(_.segment[1],g);var A=Object(h.m)(m,b);A<y&&(p=_,y=A)}var C=p.segment;if(this.vertex_&&!this.edge_){var w=o.getPixelFromCoordinate(C[0]),E=o.getPixelFromCoordinate(C[1]),I=Object(h.l)(e,w),O=Object(h.l)(e,E);Math.sqrt(Math.min(I,O))<=this.pixelTolerance_&&(l=!0,c=I>O?C[1]:C[0],u=o.getPixelFromCoordinate(c))}else if(this.edge_){var S=p.feature.getGeometry().getType()===a.a.CIRCLE;if(S){var x=p.feature.getGeometry(),j=Object(f.x)();j&&(x=x.clone().transform(j,g)),c=Object(f.B)(Object(h.b)(m,x),g)}else b[0]=Object(f.q)(C[0],g),b[1]=Object(f.q)(C[1],g),c=Object(f.B)(Object(h.c)(m,b),g);if(u=o.getPixelFromCoordinate(c),Object(h.f)(e,u)<=this.pixelTolerance_&&(l=!0,this.vertex_&&!S)){w=o.getPixelFromCoordinate(C[0]),E=o.getPixelFromCoordinate(C[1]),I=Object(h.l)(u,w),O=Object(h.l)(u,E);Math.sqrt(Math.min(I,O))<=this.pixelTolerance_&&(c=I>O?C[1]:C[0],u=o.getPixelFromCoordinate(c))}}return l&&(u=[Math.round(u[0]),Math.round(u[1])]),{snapped:l,vertex:c,vertexPixel:u}},t.prototype.updateFeature_=function(e){this.removeFeature(e,!1),this.addFeature(e,!1)},t.prototype.writeCircleGeometry_=function(e,t){var o=this.getMap().getView().getProjection(),n=t,r=Object(f.x)();r&&(n=n.clone().transform(r,o));var i=Object(p.c)(n);r&&i.transform(o,r);for(var a=i.getCoordinates()[0],s=0,l=a.length-1;s<l;++s){var c=a.slice(s,s+2),u={feature:e,segment:c};this.rBush_.insert(Object(d.c)(c),u)}},t.prototype.writeGeometryCollectionGeometry_=function(e,t){for(var o=t.getGeometriesArray(),n=0;n<o.length;++n){var r=this.SEGMENT_WRITERS_[o[n].getType()];r&&r(e,o[n])}},t.prototype.writeLineStringGeometry_=function(e,t){for(var o=t.getCoordinates(),n=0,r=o.length-1;n<r;++n){var i=o.slice(n,n+2),a={feature:e,segment:i};this.rBush_.insert(Object(d.c)(i),a)}},t.prototype.writeMultiLineStringGeometry_=function(e,t){for(var o=t.getCoordinates(),n=0,r=o.length;n<r;++n)for(var i=o[n],a=0,s=i.length-1;a<s;++a){var l=i.slice(a,a+2),c={feature:e,segment:l};this.rBush_.insert(Object(d.c)(l),c)}},t.prototype.writeMultiPointGeometry_=function(e,t){for(var o=t.getCoordinates(),n=0,r=o.length;n<r;++n){var i=o[n],a={feature:e,segment:[i,i]};this.rBush_.insert(t.getExtent(),a)}},t.prototype.writeMultiPolygonGeometry_=function(e,t){for(var o=t.getCoordinates(),n=0,r=o.length;n<r;++n)for(var i=o[n],a=0,s=i.length;a<s;++a)for(var l=i[a],c=0,u=l.length-1;c<u;++c){var h=l.slice(c,c+2),p={feature:e,segment:h};this.rBush_.insert(Object(d.c)(h),p)}},t.prototype.writePointGeometry_=function(e,t){var o=t.getCoordinates(),n={feature:e,segment:[o,o]};this.rBush_.insert(t.getExtent(),n)},t.prototype.writePolygonGeometry_=function(e,t){for(var o=t.getCoordinates(),n=0,r=o.length;n<r;++n)for(var i=o[n],a=0,s=i.length-1;a<s;++a){var l=i.slice(a,a+2),c={feature:e,segment:l};this.rBush_.insert(Object(d.c)(l),c)}},t}(s.b);t.a=A},"./node_modules/ol/interaction/Translate.js":function(e,t,o){"use strict";o.d(t,"a",(function(){return g}));var n,r=o("./node_modules/ol/Collection.js"),i=o("./node_modules/ol/events/Event.js"),a=o("./node_modules/ol/interaction/Property.js"),s=o("./node_modules/ol/interaction/Pointer.js"),l=o("./node_modules/ol/functions.js"),c=o("./node_modules/ol/events/condition.js"),u=o("./node_modules/ol/array.js"),d=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),h="translatestart",p="translating",f="translateend",g=function(e){function t(t,o,n,r,i){var a=e.call(this,t)||this;return a.features=o,a.coordinate=n,a.startCoordinate=r,a.mapBrowserEvent=i,a}return d(t,e),t}(i.a),m=function(e){function t(t){var o,n=this,r=t||{};if((n=e.call(this,r)||this).on,n.once,n.un,n.lastCoordinate_=null,n.startCoordinate_=null,n.features_=void 0!==r.features?r.features:null,r.layers&&!n.features_)if("function"==typeof r.layers)o=r.layers;else{var i=r.layers;o=function(e){return Object(u.f)(i,e)}}else o=l.b;return n.layerFilter_=o,n.filter_=r.filter&&!n.features_?r.filter:l.b,n.hitTolerance_=r.hitTolerance?r.hitTolerance:0,n.condition_=r.condition?r.condition:c.d,n.lastFeature_=null,n.addChangeListener(a.a.ACTIVE,n.handleActiveChanged_),n}return d(t,e),t.prototype.handleDownEvent=function(e){if(!e.originalEvent||!this.condition_(e))return!1;if(this.lastFeature_=this.featuresAtPixel_(e.pixel,e.map),!this.lastCoordinate_&&this.lastFeature_){this.startCoordinate_=e.coordinate,this.lastCoordinate_=e.coordinate,this.handleMoveEvent(e);var t=this.features_||new r.b([this.lastFeature_]);return this.dispatchEvent(new g(h,t,e.coordinate,this.startCoordinate_,e)),!0}return!1},t.prototype.handleUpEvent=function(e){if(this.lastCoordinate_){this.lastCoordinate_=null,this.handleMoveEvent(e);var t=this.features_||new r.b([this.lastFeature_]);return this.dispatchEvent(new g(f,t,e.coordinate,this.startCoordinate_,e)),this.startCoordinate_=null,!0}return!1},t.prototype.handleDragEvent=function(e){if(this.lastCoordinate_){var t=e.coordinate,o=t[0]-this.lastCoordinate_[0],n=t[1]-this.lastCoordinate_[1],i=this.features_||new r.b([this.lastFeature_]);i.forEach((function(e){var t=e.getGeometry();t.translate(o,n),e.setGeometry(t)})),this.lastCoordinate_=t,this.dispatchEvent(new g(p,i,t,this.startCoordinate_,e))}},t.prototype.handleMoveEvent=function(e){var t=e.map.getViewport();this.featuresAtPixel_(e.pixel,e.map)?(t.classList.remove(this.lastCoordinate_?"ol-grab":"ol-grabbing"),t.classList.add(this.lastCoordinate_?"ol-grabbing":"ol-grab")):t.classList.remove("ol-grab","ol-grabbing")},t.prototype.featuresAtPixel_=function(e,t){return t.forEachFeatureAtPixel(e,function(e,t){if(this.filter_(e,t)&&(!this.features_||Object(u.f)(this.features_.getArray(),e)))return e}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_})},t.prototype.getHitTolerance=function(){return this.hitTolerance_},t.prototype.setHitTolerance=function(e){this.hitTolerance_=e},t.prototype.setMap=function(t){var o=this.getMap();e.prototype.setMap.call(this,t),this.updateState_(o)},t.prototype.handleActiveChanged_=function(){this.updateState_(null)},t.prototype.updateState_=function(e){var t=this.getMap(),o=this.getActive();t&&o||(t=t||e)&&t.getViewport().classList.remove("ol-grab","ol-grabbing")},t}(s.b);t.b=m},"./node_modules/ol/layer/Base.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/Object.js"),i=o("./node_modules/ol/layer/Property.js"),a=o("./node_modules/ol/util.js"),s=o("./node_modules/ol/asserts.js"),l=o("./node_modules/ol/obj.js"),c=o("./node_modules/ol/math.js"),u=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),d=function(e){function t(t){var o=e.call(this)||this;o.on,o.once,o.un;var n=Object(l.a)({},t);return"object"==typeof t.properties&&(delete n.properties,Object(l.a)(n,t.properties)),n[i.a.OPACITY]=void 0!==t.opacity?t.opacity:1,Object(s.a)("number"==typeof n[i.a.OPACITY],64),n[i.a.VISIBLE]=void 0===t.visible||t.visible,n[i.a.Z_INDEX]=t.zIndex,n[i.a.MAX_RESOLUTION]=void 0!==t.maxResolution?t.maxResolution:1/0,n[i.a.MIN_RESOLUTION]=void 0!==t.minResolution?t.minResolution:0,n[i.a.MIN_ZOOM]=void 0!==t.minZoom?t.minZoom:-1/0,n[i.a.MAX_ZOOM]=void 0!==t.maxZoom?t.maxZoom:1/0,o.className_=void 0!==n.className?t.className:"ol-layer",delete n.className,o.setProperties(n),o.state_=null,o}return u(t,e),t.prototype.getClassName=function(){return this.className_},t.prototype.getLayerState=function(e){var t=this.state_||{layer:this,managed:void 0===e||e},o=this.getZIndex();return t.opacity=Object(c.a)(Math.round(100*this.getOpacity())/100,0,1),t.sourceState=this.getSourceState(),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=void 0!==o||t.managed?o:1/0,t.maxResolution=this.getMaxResolution(),t.minResolution=Math.max(this.getMinResolution(),0),t.minZoom=this.getMinZoom(),t.maxZoom=this.getMaxZoom(),this.state_=t,t},t.prototype.getLayersArray=function(e){return Object(a.b)()},t.prototype.getLayerStatesArray=function(e){return Object(a.b)()},t.prototype.getExtent=function(){return this.get(i.a.EXTENT)},t.prototype.getMaxResolution=function(){return this.get(i.a.MAX_RESOLUTION)},t.prototype.getMinResolution=function(){return this.get(i.a.MIN_RESOLUTION)},t.prototype.getMinZoom=function(){return this.get(i.a.MIN_ZOOM)},t.prototype.getMaxZoom=function(){return this.get(i.a.MAX_ZOOM)},t.prototype.getOpacity=function(){return this.get(i.a.OPACITY)},t.prototype.getSourceState=function(){return Object(a.b)()},t.prototype.getVisible=function(){return this.get(i.a.VISIBLE)},t.prototype.getZIndex=function(){return this.get(i.a.Z_INDEX)},t.prototype.setExtent=function(e){this.set(i.a.EXTENT,e)},t.prototype.setMaxResolution=function(e){this.set(i.a.MAX_RESOLUTION,e)},t.prototype.setMinResolution=function(e){this.set(i.a.MIN_RESOLUTION,e)},t.prototype.setMaxZoom=function(e){this.set(i.a.MAX_ZOOM,e)},t.prototype.setMinZoom=function(e){this.set(i.a.MIN_ZOOM,e)},t.prototype.setOpacity=function(e){Object(s.a)("number"==typeof e,64),this.set(i.a.OPACITY,e)},t.prototype.setVisible=function(e){this.set(i.a.VISIBLE,e)},t.prototype.setZIndex=function(e){this.set(i.a.Z_INDEX,e)},t.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),e.prototype.disposeInternal.call(this)},t}(r.b);t.a=d},"./node_modules/ol/layer/BaseImage.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/layer/Layer.js"),i=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=function(e){function t(t){var o=t||{};return e.call(this,o)||this}return i(t,e),t}(r.a);t.a=a},"./node_modules/ol/layer/BaseTile.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/layer/Layer.js"),i=o("./node_modules/ol/layer/TileProperty.js"),a=o("./node_modules/ol/obj.js"),s=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=function(e){function t(t){var o=this,n=t||{},r=Object(a.a)({},n);return delete r.preload,delete r.useInterimTilesOnError,(o=e.call(this,r)||this).on,o.once,o.un,o.setPreload(void 0!==n.preload?n.preload:0),o.setUseInterimTilesOnError(void 0===n.useInterimTilesOnError||n.useInterimTilesOnError),o}return s(t,e),t.prototype.getPreload=function(){return this.get(i.a.PRELOAD)},t.prototype.setPreload=function(e){this.set(i.a.PRELOAD,e)},t.prototype.getUseInterimTilesOnError=function(){return this.get(i.a.USE_INTERIM_TILES_ON_ERROR)},t.prototype.setUseInterimTilesOnError=function(e){this.set(i.a.USE_INTERIM_TILES_ON_ERROR,e)},t}(r.a);t.a=l},"./node_modules/ol/layer/BaseVector.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/layer/Layer.js"),i=o("./node_modules/rbush/rbush.min.js"),a=o.n(i),s=o("./node_modules/ol/obj.js"),l=o("./node_modules/ol/style/Style.js"),c=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),u="renderOrder",d=function(e){function t(t){var o=this,n=t||{},r=Object(s.a)({},n);return delete r.style,delete r.renderBuffer,delete r.updateWhileAnimating,delete r.updateWhileInteracting,(o=e.call(this,r)||this).declutter_=void 0!==n.declutter&&n.declutter,o.renderBuffer_=void 0!==n.renderBuffer?n.renderBuffer:100,o.style_=null,o.styleFunction_=void 0,o.setStyle(n.style),o.updateWhileAnimating_=void 0!==n.updateWhileAnimating&&n.updateWhileAnimating,o.updateWhileInteracting_=void 0!==n.updateWhileInteracting&&n.updateWhileInteracting,o}return c(t,e),t.prototype.getDeclutter=function(){return this.declutter_},t.prototype.getFeatures=function(t){return e.prototype.getFeatures.call(this,t)},t.prototype.getRenderBuffer=function(){return this.renderBuffer_},t.prototype.getRenderOrder=function(){return this.get(u)},t.prototype.getStyle=function(){return this.style_},t.prototype.getStyleFunction=function(){return this.styleFunction_},t.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},t.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},t.prototype.renderDeclutter=function(e){e.declutterTree||(e.declutterTree=new a.a(9)),this.getRenderer().renderDeclutter(e)},t.prototype.setRenderOrder=function(e){this.set(u,e)},t.prototype.setStyle=function(e){this.style_=void 0!==e?e:l.a,this.styleFunction_=null===e?void 0:Object(l.d)(this.style_),this.changed()},t}(r.a);t.a=d},"./node_modules/ol/layer/Graticule.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/Collection.js"),i=o("./node_modules/ol/render/EventType.js"),a=o("./node_modules/ol/Feature.js"),s=o("./node_modules/ol/style/Fill.js"),l=o("./node_modules/ol/geom/GeometryLayout.js"),c=o("./node_modules/ol/geom/LineString.js"),u=o("./node_modules/ol/geom/Point.js"),d=o("./node_modules/ol/style/Stroke.js"),h=o("./node_modules/ol/style/Style.js"),p=o("./node_modules/ol/style/Text.js"),f=o("./node_modules/ol/layer/Vector.js"),g=o("./node_modules/ol/source/Vector.js"),m=o("./node_modules/ol/extent.js"),y=o("./node_modules/ol/obj.js"),v=o("./node_modules/ol/math.js"),_=o("./node_modules/ol/coordinate.js"),b=o("./node_modules/ol/proj.js"),A=o("./node_modules/ol/render.js"),C=o("./node_modules/ol/geom/flat/geodesic.js"),w=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),E=new d.a({color:"rgba(0,0,0,0.2)"}),I=[90,45,30,20,10,5,2,1,.5,.2,.1,.05,.01,.005,.002,.001],O=function(e){function t(t){var o=this,n=t||{},a=Object(y.a)({updateWhileAnimating:!0,updateWhileInteracting:!0,renderBuffer:0},n);return delete a.maxLines,delete a.strokeStyle,delete a.targetSize,delete a.showLabels,delete a.lonLabelFormatter,delete a.latLabelFormatter,delete a.lonLabelPosition,delete a.latLabelPosition,delete a.lonLabelStyle,delete a.latLabelStyle,delete a.intervals,(o=e.call(this,a)||this).projection_=null,o.maxLat_=1/0,o.maxLon_=1/0,o.minLat_=-1/0,o.minLon_=-1/0,o.maxX_=1/0,o.maxY_=1/0,o.minX_=-1/0,o.minY_=-1/0,o.targetSize_=void 0!==n.targetSize?n.targetSize:100,o.maxLines_=void 0!==n.maxLines?n.maxLines:100,o.meridians_=[],o.parallels_=[],o.strokeStyle_=void 0!==n.strokeStyle?n.strokeStyle:E,o.fromLonLatTransform_=void 0,o.toLonLatTransform_=void 0,o.projectionCenterLonLat_=null,o.bottomLeft_=null,o.bottomRight_=null,o.topLeft_=null,o.topRight_=null,o.meridiansLabels_=null,o.parallelsLabels_=null,n.showLabels&&(o.lonLabelFormatter_=null==n.lonLabelFormatter?_.e.bind(o,"EW"):n.lonLabelFormatter,o.latLabelFormatter_=null==n.latLabelFormatter?_.e.bind(o,"NS"):n.latLabelFormatter,o.lonLabelPosition_=null==n.lonLabelPosition?0:n.lonLabelPosition,o.latLabelPosition_=null==n.latLabelPosition?1:n.latLabelPosition,o.lonLabelStyleBase_=new h.c({text:void 0!==n.lonLabelStyle?n.lonLabelStyle.clone():new p.a({font:"12px Calibri,sans-serif",textBaseline:"bottom",fill:new s.a({color:"rgba(0,0,0,1)"}),stroke:new d.a({color:"rgba(255,255,255,1)",width:3})})}),o.lonLabelStyle_=function(e){var t=e.get("graticule_label");return this.lonLabelStyleBase_.getText().setText(t),this.lonLabelStyleBase_}.bind(o),o.latLabelStyleBase_=new h.c({text:void 0!==n.latLabelStyle?n.latLabelStyle.clone():new p.a({font:"12px Calibri,sans-serif",textAlign:"right",fill:new s.a({color:"rgba(0,0,0,1)"}),stroke:new d.a({color:"rgba(255,255,255,1)",width:3})})}),o.latLabelStyle_=function(e){var t=e.get("graticule_label");return this.latLabelStyleBase_.getText().setText(t),this.latLabelStyleBase_}.bind(o),o.meridiansLabels_=[],o.parallelsLabels_=[],o.addEventListener(i.a.POSTRENDER,o.drawLabels_.bind(o))),o.intervals_=void 0!==n.intervals?n.intervals:I,o.setSource(new g.b({loader:o.loaderFunction.bind(o),strategy:o.strategyFunction.bind(o),features:new r.b,overlaps:!1,useSpatialIndex:!1,wrapX:n.wrapX})),o.featurePool_=[],o.lineStyle_=new h.c({stroke:o.strokeStyle_}),o.loadedExtent_=null,o.renderedExtent_=null,o.setRenderOrder(null),o}return w(t,e),t.prototype.strategyFunction=function(e,t){var o=e.slice();return this.projection_&&this.getSource().getWrapX()&&Object(m.T)(o,this.projection_),this.loadedExtent_&&(Object(m.b)(this.loadedExtent_,o,t)?o=this.loadedExtent_.slice():this.getSource().removeLoadedExtent(this.loadedExtent_)),[o]},t.prototype.loaderFunction=function(e,t,o){this.loadedExtent_=e;var n=this.getSource(),r=this.getExtent()||[-1/0,-1/0,1/0,1/0],i=Object(m.H)(r,e);if(!(this.renderedExtent_&&Object(m.r)(this.renderedExtent_,i)||(this.renderedExtent_=i,Object(m.Q)(i)))){var s=Object(m.C)(i),l=t*t/4;(!this.projection_||!Object(b.o)(this.projection_,o))&&this.updateProjectionInfo_(o),this.createGraticule_(i,s,t,l);var c,u=this.meridians_.length+this.parallels_.length;for(this.meridiansLabels_&&(u+=this.meridians_.length),this.parallelsLabels_&&(u+=this.parallels_.length);u>this.featurePool_.length;)c=new a.b,this.featurePool_.push(c);var d=n.getFeaturesCollection();d.clear();var h,p,f=0;for(h=0,p=this.meridians_.length;h<p;++h)(c=this.featurePool_[f++]).setGeometry(this.meridians_[h]),c.setStyle(this.lineStyle_),d.push(c);for(h=0,p=this.parallels_.length;h<p;++h)(c=this.featurePool_[f++]).setGeometry(this.parallels_[h]),c.setStyle(this.lineStyle_),d.push(c)}},t.prototype.addMeridian_=function(e,t,o,n,r,i){var a=this.getMeridian_(e,t,o,n,i);if(Object(m.O)(a.getExtent(),r)){if(this.meridiansLabels_){var s=this.lonLabelFormatter_(e);i in this.meridiansLabels_?this.meridiansLabels_[i].text=s:this.meridiansLabels_[i]={geom:new u.a([]),text:s}}this.meridians_[i++]=a}return i},t.prototype.addParallel_=function(e,t,o,n,r,i){var a=this.getParallel_(e,t,o,n,i);if(Object(m.O)(a.getExtent(),r)){if(this.parallelsLabels_){var s=this.latLabelFormatter_(e);i in this.parallelsLabels_?this.parallelsLabels_[i].text=s:this.parallelsLabels_[i]={geom:new u.a([]),text:s}}this.parallels_[i++]=a}return i},t.prototype.drawLabels_=function(e){var t=e.frameState.viewState.rotation,o=e.frameState.extent,n=Object(m.C)(o),r=o;if(t){var i=Object(m.N)(o),a=Object(m.G)(o),s=Math.abs(Math.cos(t)),l=Math.abs(Math.sin(t)),c=(l*a-s*i)/(l*l-s*s),u=(l*i-s*a)/(l*l-s*s);r=[n[0]-c/2,n[1]-u/2,n[0]+c/2,n[1]+u/2]}var d=0,h=0,p=this.latLabelPosition_<.5,f=this.projection_.getExtent(),g=Object(m.N)(f);this.getSource().getWrapX()&&this.projection_.canWrapX()&&!Object(m.h)(f,o)&&(d=Math.floor((o[0]-f[0])/g),h=Math.ceil((o[2]-f[2])/g),p=p!==Math.abs(t)>Math.PI/2);for(var y=Object(A.b)(e),v=d;v<=h;++v){var _=this.meridians_.length+this.parallels_.length,b=void 0,C=void 0,w=void 0,E=void 0;if(this.meridiansLabels_)for(C=0,w=this.meridiansLabels_.length;C<w;++C){var I=this.meridians_[C];if(t||0!==v)(O=I.clone()).translate(v*g,0),O.rotate(-t,n),(E=this.getMeridianPoint_(O,r,C)).rotate(t,n);else E=this.getMeridianPoint_(I,o,C);(b=this.featurePool_[_++]).setGeometry(E),b.set("graticule_label",this.meridiansLabels_[C].text),y.drawFeature(b,this.lonLabelStyle_(b))}if(this.parallelsLabels_&&(v===d&&p||v===h&&!p))for(C=0,w=this.parallels_.length;C<w;++C){var O;I=this.parallels_[C];if(t||0!==v)(O=I.clone()).translate(v*g,0),O.rotate(-t,n),(E=this.getParallelPoint_(O,r,C)).rotate(t,n);else E=this.getParallelPoint_(I,o,C);(b=this.featurePool_[_++]).setGeometry(E),b.set("graticule_label",this.parallelsLabels_[C].text),y.drawFeature(b,this.latLabelStyle_(b))}}},t.prototype.createGraticule_=function(e,t,o,n){var r=this.getInterval_(o);if(-1==r)return this.meridians_.length=0,this.parallels_.length=0,this.meridiansLabels_&&(this.meridiansLabels_.length=0),void(this.parallelsLabels_&&(this.parallelsLabels_.length=0));var i=!1,a=this.projection_.getExtent(),s=Object(m.N)(a);this.getSource().getWrapX()&&this.projection_.canWrapX()&&!Object(m.h)(a,e)&&(Object(m.N)(e)>=s?(e[0]=a[0],e[2]=a[2]):i=!0);var l=[Object(v.a)(t[0],this.minX_,this.maxX_),Object(v.a)(t[1],this.minY_,this.maxY_)],c=this.toLonLatTransform_(l);isNaN(c[1])&&(c[1]=Math.abs(this.maxLat_)>=Math.abs(this.minLat_)?this.maxLat_:this.minLat_);var u,d,h,p,f=Object(v.a)(c[0],this.minLon_,this.maxLon_),g=Object(v.a)(c[1],this.minLat_,this.maxLat_),y=this.maxLines_,_=e;i||(_=[Object(v.a)(e[0],this.minX_,this.maxX_),Object(v.a)(e[1],this.minY_,this.maxY_),Object(v.a)(e[2],this.minX_,this.maxX_),Object(v.a)(e[3],this.minY_,this.maxY_)]);var b=Object(m.a)(_,this.toLonLatTransform_,void 0,8),A=b[3],C=b[2],w=b[1],E=b[0];if(i||(Object(m.g)(_,this.bottomLeft_)&&(E=this.minLon_,w=this.minLat_),Object(m.g)(_,this.bottomRight_)&&(C=this.maxLon_,w=this.minLat_),Object(m.g)(_,this.topLeft_)&&(E=this.minLon_,A=this.maxLat_),Object(m.g)(_,this.topRight_)&&(C=this.maxLon_,A=this.maxLat_),A=Object(v.a)(A,g,this.maxLat_),C=Object(v.a)(C,f,this.maxLon_),w=Object(v.a)(w,this.minLat_,g),E=Object(v.a)(E,this.minLon_,f)),f=Math.floor(f/r)*r,p=Object(v.a)(f,this.minLon_,this.maxLon_),d=this.addMeridian_(p,w,A,n,e,0),u=0,i)for(;(p-=r)>=E&&u++<y;)d=this.addMeridian_(p,w,A,n,e,d);else for(;p!=this.minLon_&&u++<y;)p=Math.max(p-r,this.minLon_),d=this.addMeridian_(p,w,A,n,e,d);if(p=Object(v.a)(f,this.minLon_,this.maxLon_),u=0,i)for(;(p+=r)<=C&&u++<y;)d=this.addMeridian_(p,w,A,n,e,d);else for(;p!=this.maxLon_&&u++<y;)p=Math.min(p+r,this.maxLon_),d=this.addMeridian_(p,w,A,n,e,d);for(this.meridians_.length=d,this.meridiansLabels_&&(this.meridiansLabels_.length=d),g=Math.floor(g/r)*r,h=Object(v.a)(g,this.minLat_,this.maxLat_),d=this.addParallel_(h,E,C,n,e,0),u=0;h!=this.minLat_&&u++<y;)h=Math.max(h-r,this.minLat_),d=this.addParallel_(h,E,C,n,e,d);for(h=Object(v.a)(g,this.minLat_,this.maxLat_),u=0;h!=this.maxLat_&&u++<y;)h=Math.min(h+r,this.maxLat_),d=this.addParallel_(h,E,C,n,e,d);this.parallels_.length=d,this.parallelsLabels_&&(this.parallelsLabels_.length=d)},t.prototype.getInterval_=function(e){for(var t=this.projectionCenterLonLat_[0],o=this.projectionCenterLonLat_[1],n=-1,r=Math.pow(this.targetSize_*e,2),i=[],a=[],s=0,l=this.intervals_.length;s<l;++s){var c=Object(v.a)(this.intervals_[s]/2,0,90),u=Object(v.a)(o,-90+c,90-c);if(i[0]=t-c,i[1]=u-c,a[0]=t+c,a[1]=u+c,this.fromLonLatTransform_(i,i),this.fromLonLatTransform_(a,a),Math.pow(a[0]-i[0],2)+Math.pow(a[1]-i[1],2)<=r)break;n=this.intervals_[s]}return n},t.prototype.getMeridian_=function(e,t,o,n,r){var i=Object(C.b)(e,t,o,this.projection_,n),a=this.meridians_[r];return a?(a.setFlatCoordinates(l.a.XY,i),a.changed()):(a=new c.a(i,l.a.XY),this.meridians_[r]=a),a},t.prototype.getMeridianPoint_=function(e,t,o){var n=e.getFlatCoordinates(),r=1,i=n.length-1;n[r]>n[i]&&(r=i,i=1);var a=Math.max(t[1],n[r]),s=Math.min(t[3],n[i]),l=Object(v.a)(t[1]+Math.abs(t[1]-t[3])*this.lonLabelPosition_,a,s),c=[n[r-1]+(n[i-1]-n[r-1])*(l-n[r])/(n[i]-n[r]),l],u=this.meridiansLabels_[o].geom;return u.setCoordinates(c),u},t.prototype.getMeridians=function(){return this.meridians_},t.prototype.getParallel_=function(e,t,o,n,r){var i=Object(C.c)(e,t,o,this.projection_,n),a=this.parallels_[r];return a?(a.setFlatCoordinates(l.a.XY,i),a.changed()):a=new c.a(i,l.a.XY),a},t.prototype.getParallelPoint_=function(e,t,o){var n=e.getFlatCoordinates(),r=0,i=n.length-2;n[r]>n[i]&&(r=i,i=0);var a=Math.max(t[0],n[r]),s=Math.min(t[2],n[i]),l=Object(v.a)(t[0]+Math.abs(t[0]-t[2])*this.latLabelPosition_,a,s),c=[l,n[r+1]+(n[i+1]-n[r+1])*(l-n[r])/(n[i]-n[r])],u=this.parallelsLabels_[o].geom;return u.setCoordinates(c),u},t.prototype.getParallels=function(){return this.parallels_},t.prototype.updateProjectionInfo_=function(e){var t=Object(b.t)("EPSG:4326"),o=e.getWorldExtent();this.maxLat_=o[3],this.maxLon_=o[2],this.minLat_=o[1],this.minLon_=o[0];var n=Object(b.v)(e,t);if(this.minLon_<this.maxLon_)this.toLonLatTransform_=n;else{var r=this.minLon_+this.maxLon_/2;this.maxLon_+=360,this.toLonLatTransform_=function(e,t,o){for(var i=o||2,a=n(e,t,i),s=0,l=a.length;s<l;s+=i)a[s]<r&&(a[s]+=360);return a}}this.fromLonLatTransform_=Object(b.v)(t,e);var i=Object(m.a)([this.minLon_,this.minLat_,this.maxLon_,this.maxLat_],this.fromLonLatTransform_,void 0,8);this.minX_=i[0],this.maxX_=i[2],this.minY_=i[1],this.maxY_=i[3],this.bottomLeft_=this.fromLonLatTransform_([this.minLon_,this.minLat_]),this.bottomRight_=this.fromLonLatTransform_([this.maxLon_,this.minLat_]),this.topLeft_=this.fromLonLatTransform_([this.minLon_,this.maxLat_]),this.topRight_=this.fromLonLatTransform_([this.maxLon_,this.maxLat_]),this.projectionCenterLonLat_=this.toLonLatTransform_(Object(m.C)(e.getExtent())),isNaN(this.projectionCenterLonLat_[1])&&(this.projectionCenterLonLat_[1]=Math.abs(this.maxLat_)>=Math.abs(this.minLat_)?this.maxLat_:this.minLat_),this.projection_=e},t}(f.a);t.a=O},"./node_modules/ol/layer/Group.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/layer/Base.js"),i=o("./node_modules/ol/Collection.js"),a=o("./node_modules/ol/CollectionEventType.js"),s=o("./node_modules/ol/events/EventType.js"),l=o("./node_modules/ol/ObjectEventType.js"),c=o("./node_modules/ol/source/State.js"),u=o("./node_modules/ol/asserts.js"),d=o("./node_modules/ol/obj.js"),h=o("./node_modules/ol/extent.js"),p=o("./node_modules/ol/util.js"),f=o("./node_modules/ol/events.js"),g=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),m="layers",y=function(e){function t(t){var o=this,n=t||{},r=Object(d.a)({},n);delete r.layers;var a=n.layers;return(o=e.call(this,r)||this).on,o.once,o.un,o.layersListenerKeys_=[],o.listenerKeys_={},o.addChangeListener(m,o.handleLayersChanged_),a?Array.isArray(a)?a=new i.b(a.slice(),{unique:!0}):Object(u.a)("function"==typeof a.getArray,43):a=new i.b(void 0,{unique:!0}),o.setLayers(a),o}return g(t,e),t.prototype.handleLayerChange_=function(){this.changed()},t.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(f.c),this.layersListenerKeys_.length=0;var e=this.getLayers();for(var t in this.layersListenerKeys_.push(Object(f.a)(e,a.a.ADD,this.handleLayersAdd_,this),Object(f.a)(e,a.a.REMOVE,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[t].forEach(f.c);Object(d.b)(this.listenerKeys_);for(var o=e.getArray(),n=0,r=o.length;n<r;n++){var i=o[n];this.listenerKeys_[Object(p.c)(i)]=[Object(f.a)(i,l.a.PROPERTYCHANGE,this.handleLayerChange_,this),Object(f.a)(i,s.a.CHANGE,this.handleLayerChange_,this)]}this.changed()},t.prototype.handleLayersAdd_=function(e){var t=e.element;this.listenerKeys_[Object(p.c)(t)]=[Object(f.a)(t,l.a.PROPERTYCHANGE,this.handleLayerChange_,this),Object(f.a)(t,s.a.CHANGE,this.handleLayerChange_,this)],this.changed()},t.prototype.handleLayersRemove_=function(e){var t=e.element,o=Object(p.c)(t);this.listenerKeys_[o].forEach(f.c),delete this.listenerKeys_[o],this.changed()},t.prototype.getLayers=function(){return this.get(m)},t.prototype.setLayers=function(e){this.set(m,e)},t.prototype.getLayersArray=function(e){var t=void 0!==e?e:[];return this.getLayers().forEach((function(e){e.getLayersArray(t)})),t},t.prototype.getLayerStatesArray=function(e){var t=void 0!==e?e:[],o=t.length;this.getLayers().forEach((function(e){e.getLayerStatesArray(t)}));var n=this.getLayerState(),r=n.zIndex;e||void 0!==n.zIndex||(r=0);for(var i=o,a=t.length;i<a;i++){var s=t[i];s.opacity*=n.opacity,s.visible=s.visible&&n.visible,s.maxResolution=Math.min(s.maxResolution,n.maxResolution),s.minResolution=Math.max(s.minResolution,n.minResolution),s.minZoom=Math.max(s.minZoom,n.minZoom),s.maxZoom=Math.min(s.maxZoom,n.maxZoom),void 0!==n.extent&&(void 0!==s.extent?s.extent=Object(h.H)(s.extent,n.extent):s.extent=n.extent),void 0===s.zIndex&&(s.zIndex=r)}return t},t.prototype.getSourceState=function(){return c.a.READY},t}(r.a);t.a=y},"./node_modules/ol/layer/Image.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/layer/BaseImage.js"),i=o("./node_modules/ol/renderer/canvas/ImageLayer.js"),a=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),s=function(e){function t(t){return e.call(this,t)||this}return a(t,e),t.prototype.createRenderer=function(){return new i.a(this)},t}(r.a);t.a=s},"./node_modules/ol/layer/Layer.js":function(e,t,o){"use strict";o.d(t,"b",(function(){return f}));var n,r=o("./node_modules/ol/layer/Base.js"),i=o("./node_modules/ol/events/EventType.js"),a=o("./node_modules/ol/layer/Property.js"),s=o("./node_modules/ol/render/EventType.js"),l=o("./node_modules/ol/source/State.js"),c=o("./node_modules/ol/asserts.js"),u=o("./node_modules/ol/obj.js"),d=o("./node_modules/ol/events.js"),h=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),p=function(e){function t(t){var o=this,n=Object(u.a)({},t);delete n.source,(o=e.call(this,n)||this).on,o.once,o.un,o.mapPrecomposeKey_=null,o.mapRenderKey_=null,o.sourceChangeKey_=null,o.renderer_=null,t.render&&(o.render=t.render),t.map&&o.setMap(t.map),o.addChangeListener(a.a.SOURCE,o.handleSourcePropertyChange_);var r=t.source?t.source:null;return o.setSource(r),o}return h(t,e),t.prototype.getLayersArray=function(e){var t=e||[];return t.push(this),t},t.prototype.getLayerStatesArray=function(e){var t=e||[];return t.push(this.getLayerState()),t},t.prototype.getSource=function(){return this.get(a.a.SOURCE)||null},t.prototype.getSourceState=function(){var e=this.getSource();return e?e.getState():l.a.UNDEFINED},t.prototype.handleSourceChange_=function(){this.changed()},t.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(Object(d.c)(this.sourceChangeKey_),this.sourceChangeKey_=null);var e=this.getSource();e&&(this.sourceChangeKey_=Object(d.a)(e,i.a.CHANGE,this.handleSourceChange_,this)),this.changed()},t.prototype.getFeatures=function(e){return this.renderer_?this.renderer_.getFeatures(e):new Promise((function(e){return e([])}))},t.prototype.render=function(e,t){var o=this.getRenderer();if(o.prepareFrame(e))return o.renderFrame(e,t)},t.prototype.setMap=function(e){this.mapPrecomposeKey_&&(Object(d.c)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(Object(d.c)(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=Object(d.a)(e,s.a.PRECOMPOSE,(function(e){var t=e.frameState.layerStatesArray,o=this.getLayerState(!1);Object(c.a)(!t.some((function(e){return e.layer===o.layer})),67),t.push(o)}),this),this.mapRenderKey_=Object(d.a)(this,i.a.CHANGE,e.render,e),this.changed())},t.prototype.setSource=function(e){this.set(a.a.SOURCE,e)},t.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},t.prototype.hasRenderer=function(){return!!this.renderer_},t.prototype.createRenderer=function(){return null},t.prototype.disposeInternal=function(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),e.prototype.disposeInternal.call(this)},t}(r.a);function f(e,t){if(!e.visible)return!1;var o=t.resolution;if(o<e.minResolution||o>=e.maxResolution)return!1;var n=t.zoom;return n>e.minZoom&&n<=e.maxZoom}t.a=p},"./node_modules/ol/layer/Property.js":function(e,t,o){"use strict";t.a={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source"}},"./node_modules/ol/layer/Tile.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/layer/BaseTile.js"),i=o("./node_modules/ol/renderer/canvas/TileLayer.js"),a=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),s=function(e){function t(t){return e.call(this,t)||this}return a(t,e),t.prototype.createRenderer=function(){return new i.a(this)},t}(r.a);t.a=s},"./node_modules/ol/layer/TileProperty.js":function(e,t,o){"use strict";t.a={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"}},"./node_modules/ol/layer/Vector.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/layer/BaseVector.js"),i=o("./node_modules/ol/renderer/canvas/VectorLayer.js"),a=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),s=function(e){function t(t){return e.call(this,t)||this}return a(t,e),t.prototype.createRenderer=function(){return new i.a(this)},t}(r.a);t.a=s},"./node_modules/ol/layer/VectorTile.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/layer/BaseVector.js"),i=o("./node_modules/ol/renderer/canvas/VectorTileLayer.js"),a=o("./node_modules/ol/layer/TileProperty.js"),s=o("./node_modules/ol/layer/VectorTileRenderType.js"),l=o("./node_modules/ol/asserts.js"),c=o("./node_modules/ol/obj.js"),u=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),d=function(e){function t(t){var o=this,n=t||{},r=Object(c.a)({},n);delete r.preload,delete r.useInterimTilesOnError,(o=e.call(this,r)||this).on,o.once,o.un,n.renderMode===s.a.IMAGE&&(console.warn('renderMode: "image" is deprecated. Option ignored.'),n.renderMode=void 0);var i=n.renderMode||s.a.HYBRID;return Object(l.a)(i==s.a.HYBRID||i==s.a.VECTOR,28),o.renderMode_=i,o.setPreload(n.preload?n.preload:0),o.setUseInterimTilesOnError(void 0===n.useInterimTilesOnError||n.useInterimTilesOnError),o}return u(t,e),t.prototype.createRenderer=function(){return new i.a(this)},t.prototype.getFeatures=function(t){return e.prototype.getFeatures.call(this,t)},t.prototype.getRenderMode=function(){return this.renderMode_},t.prototype.getPreload=function(){return this.get(a.a.PRELOAD)},t.prototype.getUseInterimTilesOnError=function(){return this.get(a.a.USE_INTERIM_TILES_ON_ERROR)},t.prototype.setPreload=function(e){this.set(a.a.PRELOAD,e)},t.prototype.setUseInterimTilesOnError=function(e){this.set(a.a.USE_INTERIM_TILES_ON_ERROR,e)},t}(r.a);t.a=d},"./node_modules/ol/layer/VectorTileRenderType.js":function(e,t,o){"use strict";t.a={IMAGE:"image",HYBRID:"hybrid",VECTOR:"vector"}},"./node_modules/ol/loadingstrategy.js":function(e,t,o){"use strict";o.d(t,"a",(function(){return r})),o.d(t,"b",(function(){return i})),o.d(t,"c",(function(){return a}));var n=o("./node_modules/ol/proj.js");function r(e,t){return[[-1/0,-1/0,1/0,1/0]]}function i(e,t){return[e]}function a(e){return function(t,o,r){var i=e.getZForResolution(Object(n.s)(o,r)),a=e.getTileRangeForExtentAndZ(Object(n.r)(t,r),i),s=[],l=[i,0,0];for(l[1]=a.minX;l[1]<=a.maxX;++l[1])for(l[2]=a.minY;l[2]<=a.maxY;++l[2])s.push(Object(n.C)(e.getTileCoordExtent(l),r));return s}}},"./node_modules/ol/math.js":function(e,t,o){"use strict";function n(e,t,o){return Math.min(Math.max(e,t),o)}o.d(t,"a",(function(){return n})),o.d(t,"b",(function(){return r})),o.d(t,"d",(function(){return i})),o.d(t,"h",(function(){return a})),o.d(t,"g",(function(){return s})),o.d(t,"f",(function(){return l})),o.d(t,"i",(function(){return c})),o.d(t,"j",(function(){return u})),o.d(t,"e",(function(){return d})),o.d(t,"c",(function(){return h}));var r="cosh"in Math?Math.cosh:function(e){var t=Math.exp(e);return(t+1/t)/2},i="log2"in Math?Math.log2:function(e){return Math.log(e)*Math.LOG2E};function a(e,t,o,n,r,i){var a=r-o,l=i-n;if(0!==a||0!==l){var c=((e-o)*a+(t-n)*l)/(a*a+l*l);c>1?(o=r,n=i):c>0&&(o+=a*c,n+=l*c)}return s(e,t,o,n)}function s(e,t,o,n){var r=o-e,i=n-t;return r*r+i*i}function l(e){for(var t=e.length,o=0;o<t;o++){for(var n=o,r=Math.abs(e[o][o]),i=o+1;i<t;i++){var a=Math.abs(e[i][o]);a>r&&(r=a,n=i)}if(0===r)return null;var s=e[n];e[n]=e[o],e[o]=s;for(var l=o+1;l<t;l++)for(var c=-e[l][o]/e[o][o],u=o;u<t+1;u++)o==u?e[l][u]=0:e[l][u]+=c*e[o][u]}for(var d=new Array(t),h=t-1;h>=0;h--){d[h]=e[h][t]/e[h][h];for(var p=h-1;p>=0;p--)e[p][t]-=e[p][h]*d[h]}return d}function c(e){return 180*e/Math.PI}function u(e){return e*Math.PI/180}function d(e,t){var o=e%t;return o*t<0?o+t:o}function h(e,t,o){return e+o*(t-e)}},"./node_modules/ol/net.js":function(e,t,o){"use strict";(function(e){o.d(t,"d",(function(){return a})),o.d(t,"b",(function(){return l})),o.d(t,"a",(function(){return c})),o.d(t,"c",(function(){return u})),o.d(t,"f",(function(){return d})),o.d(t,"e",(function(){return h})),o.d(t,"g",(function(){return p}));var n,r=o("./node_modules/ol/util.js"),i=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});function a(e,t,o,n){var i=document.createElement("script"),a="olc_"+Object(r.c)(t);function s(){delete window[a],i.parentNode.removeChild(i)}i.async=!0,i.src=e+(-1==e.indexOf("?")?"?":"&")+(n||"callback")+"="+a;var l=setTimeout((function(){s(),o&&o()}),1e4);window[a]=function(e){clearTimeout(l),s(),t(e)},document.getElementsByTagName("head")[0].appendChild(i)}var s,l=function(e){function t(t){var o=this,n="Unexpected response status: "+t.status;return(o=e.call(this,n)||this).name="ResponseError",o.response=t,o}return i(t,e),t}(Error),c=function(e){function t(t){var o=e.call(this,"Failed to issue request")||this;return o.name="ClientError",o.client=t,o}return i(t,e),t}(Error);function u(e){return new Promise((function(t,o){var n=new XMLHttpRequest;n.addEventListener("load",(function(e){var n=e.target;if(!n.status||n.status>=200&&n.status<300){var r=void 0;try{r=JSON.parse(n.responseText)}catch(e){var i="Error parsing response text as JSON: "+e.message;return void o(new Error(i))}t(r)}else o(new l(n))})),n.addEventListener("error",(function(e){o(new c(e.target))})),n.open("GET",e),n.setRequestHeader("Accept","application/json"),n.send()}))}function d(e,t){return t.indexOf("://")>=0?t:new URL(t,e).href}function h(t){"undefined"!=typeof XMLHttpRequest&&(s=XMLHttpRequest),e.XMLHttpRequest=t}function p(){e.XMLHttpRequest=s}}).call(this,o("./node_modules/webpack/buildin/global.js"))},"./node_modules/ol/obj.js":function(e,t,o){"use strict";o.d(t,"a",(function(){return n})),o.d(t,"b",(function(){return r})),o.d(t,"c",(function(){return i})),o.d(t,"d",(function(){return a}));var n="function"==typeof Object.assign?Object.assign:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(e),n=1,r=arguments.length;n<r;++n){var i=arguments[n];if(null!=i)for(var a in i)i.hasOwnProperty(a)&&(o[a]=i[a])}return o};function r(e){for(var t in e)delete e[t]}var i="function"==typeof Object.values?Object.values:function(e){var t=[];for(var o in e)t.push(e[o]);return t};function a(e){var t;for(t in e)return!1;return!t}},"./node_modules/ol/ol.css":function(e,t,o){},"./node_modules/ol/pointer/EventType.js":function(e,t,o){"use strict";t.a={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}},"./node_modules/ol/proj.js":function(e,t,o){"use strict";o.d(t,"k",(function(){return p})),o.d(t,"y",(function(){return f})),o.d(t,"g",(function(){return g})),o.d(t,"h",(function(){return m})),o.d(t,"t",(function(){return y})),o.d(t,"u",(function(){return v})),o.d(t,"e",(function(){return _})),o.d(t,"f",(function(){return b})),o.d(t,"i",(function(){return A})),o.d(t,"l",(function(){return C})),o.d(t,"n",(function(){return w})),o.d(t,"d",(function(){return E})),o.d(t,"p",(function(){return I})),o.d(t,"A",(function(){return O})),o.d(t,"o",(function(){return S})),o.d(t,"w",(function(){return x})),o.d(t,"v",(function(){return j})),o.d(t,"E",(function(){return P})),o.d(t,"F",(function(){return T})),o.d(t,"G",(function(){return M})),o.d(t,"z",(function(){return L})),o.d(t,"j",(function(){return k})),o.d(t,"x",(function(){return G})),o.d(t,"H",(function(){return D})),o.d(t,"B",(function(){return N})),o.d(t,"q",(function(){return F})),o.d(t,"C",(function(){return U})),o.d(t,"r",(function(){return B})),o.d(t,"D",(function(){return z})),o.d(t,"s",(function(){return V})),o.d(t,"m",(function(){return W})),o.d(t,"c",(function(){return q}));var n=o("./node_modules/ol/proj/Projection.js");o.d(t,"b",(function(){return n.a}));var r=o("./node_modules/ol/proj/Units.js");o.d(t,"a",(function(){return r.a}));var i=o("./node_modules/ol/proj/epsg3857.js"),a=o("./node_modules/ol/proj/epsg4326.js"),s=o("./node_modules/ol/proj/projections.js"),l=o("./node_modules/ol/proj/transforms.js"),c=o("./node_modules/ol/extent.js"),u=o("./node_modules/ol/math.js"),d=o("./node_modules/ol/sphere.js"),h=o("./node_modules/ol/coordinate.js");function p(e,t,o){var n;if(void 0!==t){for(var r=0,i=e.length;r<i;++r)t[r]=e[r];n=t}else n=e.slice();return n}function f(e,t,o){if(void 0!==t&&e!==t){for(var n=0,r=e.length;n<r;++n)t[n]=e[n];e=t}return e}function g(e){Object(s.a)(e.getCode(),e),Object(l.a)(e,e,p)}function m(e){e.forEach(g)}function y(e){return"string"==typeof e?Object(s.c)(e):e||null}function v(e,t,o,n){var i,a=(e=y(e)).getPointResolutionFunc();if(a){if(i=a(t,o),n&&n!==e.getUnits())(l=e.getMetersPerUnit())&&(i=i*l/r.a[n])}else{var s=e.getUnits();if(s==r.b.DEGREES&&!n||n==r.b.DEGREES)i=t;else{var l,c=x(e,y("EPSG:4326"));if(c===f&&s!==r.b.DEGREES)i=t*e.getMetersPerUnit();else{var u=[o[0]-t/2,o[1],o[0]+t/2,o[1],o[0],o[1]-t/2,o[0],o[1]+t/2];u=c(u,u,2),i=(Object(d.c)(u.slice(0,2),u.slice(2,4))+Object(d.c)(u.slice(4,6),u.slice(6,8)))/2}void 0!==(l=n?r.a[n]:e.getMetersPerUnit())&&(i/=l)}}return i}function _(e){m(e),e.forEach((function(t){e.forEach((function(e){t!==e&&Object(l.a)(t,e,p)}))}))}function b(e,t,o,n){e.forEach((function(e){t.forEach((function(t){Object(l.a)(e,t,o),Object(l.a)(t,e,n)}))}))}function A(){Object(s.b)(),Object(l.b)()}function C(e,t){return e?"string"==typeof e?y(e):e:y(t)}function w(e){return function(t,o,n){for(var r=t.length,i=void 0!==n?n:2,a=void 0!==o?o:new Array(r),s=0;s<r;s+=i){var l=e([t[s],t[s+1]]);a[s]=l[0],a[s+1]=l[1];for(var c=i-1;c>=2;--c)a[s+c]=t[s+c]}return a}}function E(e,t,o,n){var r=y(e),i=y(t);Object(l.a)(r,i,w(o)),Object(l.a)(i,r,w(n))}function I(e,t){return P(e,"EPSG:4326",void 0!==t?t:"EPSG:3857")}function O(e,t){var o=P(e,void 0!==t?t:"EPSG:3857","EPSG:4326"),n=o[0];return(n<-180||n>180)&&(o[0]=Object(u.e)(n+180,360)-180),o}function S(e,t){if(e===t)return!0;var o=e.getUnits()===t.getUnits();return(e.getCode()===t.getCode()||x(e,t)===p)&&o}function x(e,t){var o=e.getCode(),n=t.getCode(),r=Object(l.c)(o,n);return r||(r=f),r}function j(e,t){return x(y(e),y(t))}function P(e,t,o){return j(t,o)(e,void 0,e.length)}function T(e,t,o,n){var r=j(t,o);return Object(c.a)(e,r,void 0,n)}function M(e,t,o){return x(t,o)(e)}var R=null;function L(e){R=y(e)}function k(){R=null}function G(){return R}function D(){L("EPSG:4326")}function N(e,t){return R?P(e,t,R):e}function F(e,t){return R?P(e,R,t):e}function U(e,t){return R?T(e,t,R):e}function B(e,t){return R?T(e,R,t):e}function z(e,t){if(!R)return e;var o=y(t).getUnits(),n=R.getUnits();return o&&n?e*r.a[o]/r.a[n]:e}function V(e,t){if(!R)return e;var o=y(t).getUnits(),n=R.getUnits();return o&&n?e*r.a[n]/r.a[o]:e}function W(e,t,o){return function(n){var r,i,a=n[0],s=n[1];if(e.canWrapX()){var l=e.getExtent(),d=Object(c.N)(l);(i=Object(h.i)(n,e,d))&&(a-=i*d),a=Object(u.a)(a,l[0],l[2]),s=Object(u.a)(s,l[1],l[3]),r=o([a,s])}else r=o(n);return i&&t.canWrapX()&&(r[0]+=i*Object(c.N)(t.getExtent())),r}}function q(){_(i.d),_(a.c),b(a.c,i.d,i.g,i.h)}q()},"./node_modules/ol/proj/Projection.js":function(e,t,o){"use strict";var n=o("./node_modules/ol/proj/Units.js"),r=function(){function e(e){this.code_=e.code,this.units_=e.units,this.extent_=void 0!==e.extent?e.extent:null,this.worldExtent_=void 0!==e.worldExtent?e.worldExtent:null,this.axisOrientation_=void 0!==e.axisOrientation?e.axisOrientation:"enu",this.global_=void 0!==e.global&&e.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}return e.prototype.canWrapX=function(){return this.canWrapX_},e.prototype.getCode=function(){return this.code_},e.prototype.getExtent=function(){return this.extent_},e.prototype.getUnits=function(){return this.units_},e.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||n.a[this.units_]},e.prototype.getWorldExtent=function(){return this.worldExtent_},e.prototype.getAxisOrientation=function(){return this.axisOrientation_},e.prototype.isGlobal=function(){return this.global_},e.prototype.setGlobal=function(e){this.global_=e,this.canWrapX_=!(!e||!this.extent_)},e.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},e.prototype.setDefaultTileGrid=function(e){this.defaultTileGrid_=e},e.prototype.setExtent=function(e){this.extent_=e,this.canWrapX_=!(!this.global_||!e)},e.prototype.setWorldExtent=function(e){this.worldExtent_=e},e.prototype.setGetPointResolution=function(e){this.getPointResolutionFunc_=e},e.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},e}();t.a=r},"./node_modules/ol/proj/Units.js":function(e,t,o){"use strict";o.d(t,"c",(function(){return i})),o.d(t,"a",(function(){return a}));var n={RADIANS:"radians",DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},r={9001:n.METERS,9002:n.FEET,9003:n.USFEET,9101:n.RADIANS,9102:n.DEGREES};function i(e){return r[e]}var a={};a[n.RADIANS]=6370997/(2*Math.PI),a[n.DEGREES]=2*Math.PI*6370997/360,a[n.FEET]=.3048,a[n.METERS]=1,a[n.USFEET]=1200/3937,t.b=n},"./node_modules/ol/proj/epsg3857.js":function(e,t,o){"use strict";o.d(t,"e",(function(){return l})),o.d(t,"b",(function(){return c})),o.d(t,"a",(function(){return u})),o.d(t,"f",(function(){return d})),o.d(t,"c",(function(){return h})),o.d(t,"d",(function(){return f})),o.d(t,"g",(function(){return g})),o.d(t,"h",(function(){return m}));var n,r=o("./node_modules/ol/proj/Projection.js"),i=o("./node_modules/ol/proj/Units.js"),a=o("./node_modules/ol/math.js"),s=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=6378137,c=Math.PI*l,u=[-c,-c,c,c],d=[-180,-85,180,85],h=l*Math.log(Math.tan(Math.PI/2)),p=function(e){function t(t){return e.call(this,{code:t,units:i.b.METERS,extent:u,global:!0,worldExtent:d,getPointResolution:function(e,t){return e/Object(a.b)(t[1]/l)}})||this}return s(t,e),t}(r.a),f=[new p("EPSG:3857"),new p("EPSG:102100"),new p("EPSG:102113"),new p("EPSG:900913"),new p("http://www.opengis.net/def/crs/EPSG/0/3857"),new p("http://www.opengis.net/gml/srs/epsg.xml#3857")];function g(e,t,o){var n=e.length,r=o>1?o:2,i=t;void 0===i&&(i=r>2?e.slice():new Array(n));for(var a=0;a<n;a+=r){i[a]=c*e[a]/180;var s=l*Math.log(Math.tan(Math.PI*(+e[a+1]+90)/360));s>h?s=h:s<-h&&(s=-h),i[a+1]=s}return i}function m(e,t,o){var n=e.length,r=o>1?o:2,i=t;void 0===i&&(i=r>2?e.slice():new Array(n));for(var a=0;a<n;a+=r)i[a]=180*e[a]/c,i[a+1]=360*Math.atan(Math.exp(e[a+1]/l))/Math.PI-90;return i}},"./node_modules/ol/proj/epsg4326.js":function(e,t,o){"use strict";o.d(t,"d",(function(){return s})),o.d(t,"a",(function(){return l})),o.d(t,"b",(function(){return c})),o.d(t,"c",(function(){return d}));var n,r=o("./node_modules/ol/proj/Projection.js"),i=o("./node_modules/ol/proj/Units.js"),a=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),s=6378137,l=[-180,-90,180,90],c=Math.PI*s/180,u=function(e){function t(t,o){return e.call(this,{code:t,units:i.b.DEGREES,extent:l,axisOrientation:o,global:!0,metersPerUnit:c,worldExtent:l})||this}return a(t,e),t}(r.a),d=[new u("CRS:84"),new u("EPSG:4326","neu"),new u("urn:ogc:def:crs:OGC:1.3:CRS84"),new u("urn:ogc:def:crs:OGC:2:84"),new u("http://www.opengis.net/def/crs/OGC/1.3/CRS84","neu"),new u("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new u("http://www.opengis.net/def/crs/EPSG/0/4326","neu")]},"./node_modules/ol/proj/projections.js":function(e,t,o){"use strict";o.d(t,"b",(function(){return r})),o.d(t,"c",(function(){return i})),o.d(t,"a",(function(){return a}));var n={};function r(){n={}}function i(e){return n[e]||n[e.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function a(e,t){n[e]=t}},"./node_modules/ol/proj/transforms.js":function(e,t,o){"use strict";o.d(t,"b",(function(){return i})),o.d(t,"a",(function(){return a})),o.d(t,"d",(function(){return s})),o.d(t,"c",(function(){return l}));var n=o("./node_modules/ol/obj.js"),r={};function i(){r={}}function a(e,t,o){var n=e.getCode(),i=t.getCode();n in r||(r[n]={}),r[n][i]=o}function s(e,t){var o=e.getCode(),i=t.getCode(),a=r[o][i];return delete r[o][i],Object(n.d)(r[o])&&delete r[o],a}function l(e,t){var o;return e in r&&t in r[e]&&(o=r[e][t]),o}},"./node_modules/ol/render.js":function(e,t,o){"use strict";o.d(t,"c",(function(){return l})),o.d(t,"b",(function(){return c})),o.d(t,"a",(function(){return u}));var n=o("./node_modules/ol/render/canvas/Immediate.js"),r=o("./node_modules/ol/has.js"),i=o("./node_modules/ol/transform.js"),a=o("./node_modules/ol/renderer/vector.js"),s=o("./node_modules/ol/proj.js");function l(e,t){var o=e.canvas,a=t||{},s=a.pixelRatio||r.a,l=a.size;l&&(o.width=l[0]*s,o.height=l[1]*s,o.style.width=l[0]+"px",o.style.height=l[1]+"px");var c=[0,0,o.width,o.height],u=Object(i.l)(Object(i.d)(),s,s);return new n.a(e,s,c,u,0)}function c(e){var t,o=e.inversePixelTransform[0],r=e.frameState,l=Object(i.i)(e.inversePixelTransform.slice(),r.coordinateToPixelTransform),c=Object(a.b)(r.viewState.resolution,o),u=Object(s.x)();return u&&(t=Object(s.w)(u,r.viewState.projection)),new n.a(e.context,o,r.extent,l,r.viewState.rotation,c,t)}function u(e,t){var o=t.slice(0);return Object(i.a)(e.inversePixelTransform.slice(),o),o}},"./node_modules/ol/render/Box.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/Disposable.js"),i=o("./node_modules/ol/geom/Polygon.js"),a=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),s=function(e){function t(t){var o=e.call(this)||this;return o.geometry_=null,o.element_=document.createElement("div"),o.element_.style.position="absolute",o.element_.style.pointerEvents="auto",o.element_.className="ol-box "+t,o.map_=null,o.startPixel_=null,o.endPixel_=null,o}return a(t,e),t.prototype.disposeInternal=function(){this.setMap(null)},t.prototype.render_=function(){var e=this.startPixel_,t=this.endPixel_,o=this.element_.style;o.left=Math.min(e[0],t[0])+"px",o.top=Math.min(e[1],t[1])+"px",o.width=Math.abs(t[0]-e[0])+"px",o.height=Math.abs(t[1]-e[1])+"px"},t.prototype.setMap=function(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var t=this.element_.style;t.left="inherit",t.top="inherit",t.width="inherit",t.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},t.prototype.setPixels=function(e,t){this.startPixel_=e,this.endPixel_=t,this.createOrUpdateGeometry(),this.render_()},t.prototype.createOrUpdateGeometry=function(){var e=this.startPixel_,t=this.endPixel_,o=[e,[e[0],t[1]],t,[t[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);o[4]=o[0].slice(),this.geometry_?this.geometry_.setCoordinates([o]):this.geometry_=new i.b([o])},t.prototype.getGeometry=function(){return this.geometry_},t}(r.a);t.a=s},"./node_modules/ol/render/Event.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/events/Event.js"),i=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=function(e){function t(t,o,n,r){var i=e.call(this,t)||this;return i.inversePixelTransform=o,i.frameState=n,i.context=r,i}return i(t,e),t}(r.a);t.a=a},"./node_modules/ol/render/EventType.js":function(e,t,o){"use strict";t.a={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"}},"./node_modules/ol/render/Feature.js":function(e,t,o){"use strict";var n=o("./node_modules/ol/geom/GeometryType.js"),r=o("./node_modules/ol/transform.js"),i=o("./node_modules/ol/extent.js"),a=o("./node_modules/ol/array.js"),s=o("./node_modules/ol/geom/flat/interiorpoint.js"),l=o("./node_modules/ol/proj.js"),c=o("./node_modules/ol/geom/flat/interpolate.js"),u=o("./node_modules/ol/geom/flat/center.js"),d=o("./node_modules/ol/geom/flat/transform.js"),h=Object(r.d)(),p=function(){function e(e,t,o,n,r){this.extent_,this.id_=r,this.type_=e,this.flatCoordinates_=t,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=o,this.properties_=n}return e.prototype.get=function(e){return this.properties_[e]},e.prototype.getExtent=function(){return this.extent_||(this.extent_=this.type_===n.a.POINT?Object(i.n)(this.flatCoordinates_):Object(i.p)(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_},e.prototype.getFlatInteriorPoint=function(){if(!this.flatInteriorPoints_){var e=Object(i.C)(this.getExtent());this.flatInteriorPoints_=Object(s.a)(this.flatCoordinates_,0,this.ends_,2,e,0)}return this.flatInteriorPoints_},e.prototype.getFlatInteriorPoints=function(){if(!this.flatInteriorPoints_){var e=Object(u.a)(this.flatCoordinates_,0,this.ends_,2);this.flatInteriorPoints_=Object(s.b)(this.flatCoordinates_,0,this.ends_,2,e)}return this.flatInteriorPoints_},e.prototype.getFlatMidpoint=function(){return this.flatMidpoints_||(this.flatMidpoints_=Object(c.a)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_},e.prototype.getFlatMidpoints=function(){if(!this.flatMidpoints_){this.flatMidpoints_=[];for(var e=this.flatCoordinates_,t=0,o=this.ends_,n=0,r=o.length;n<r;++n){var i=o[n],s=Object(c.a)(e,t,i,2,.5);Object(a.c)(this.flatMidpoints_,s),t=i}}return this.flatMidpoints_},e.prototype.getId=function(){return this.id_},e.prototype.getOrientedFlatCoordinates=function(){return this.flatCoordinates_},e.prototype.getGeometry=function(){return this},e.prototype.getSimplifiedGeometry=function(e){return this},e.prototype.simplifyTransformed=function(e,t){return this},e.prototype.getProperties=function(){return this.properties_},e.prototype.getStride=function(){return 2},e.prototype.getStyleFunction=function(){},e.prototype.getType=function(){return this.type_},e.prototype.transform=function(e){var t=(e=Object(l.t)(e)).getExtent(),o=e.getWorldExtent();if(t&&o){var n=Object(i.G)(o)/Object(i.G)(t);Object(r.b)(h,o[0],o[3],n,-n,0,0,0),Object(d.c)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,h,this.flatCoordinates_)}},e.prototype.getEnds=function(){return this.ends_},e}();p.prototype.getEndss=p.prototype.getEnds,p.prototype.getFlatCoordinates=p.prototype.getOrientedFlatCoordinates,t.a=p},"./node_modules/ol/render/VectorContext.js":function(e,t,o){"use strict";var n=function(){function e(){}return e.prototype.drawCustom=function(e,t,o,n){},e.prototype.drawGeometry=function(e){},e.prototype.setStyle=function(e){},e.prototype.drawCircle=function(e,t){},e.prototype.drawFeature=function(e,t){},e.prototype.drawGeometryCollection=function(e,t){},e.prototype.drawLineString=function(e,t){},e.prototype.drawMultiLineString=function(e,t){},e.prototype.drawMultiPoint=function(e,t){},e.prototype.drawMultiPolygon=function(e,t){},e.prototype.drawPoint=function(e,t){},e.prototype.drawPolygon=function(e,t){},e.prototype.drawText=function(e,t){},e.prototype.setFillStrokeStyle=function(e,t){},e.prototype.setImageStyle=function(e,t){},e.prototype.setTextStyle=function(e,t){},e}();t.a=n},"./node_modules/ol/render/canvas.js":function(e,t,o){"use strict";o.d(t,"c",(function(){return c})),o.d(t,"b",(function(){return u})),o.d(t,"d",(function(){return d})),o.d(t,"e",(function(){return h})),o.d(t,"f",(function(){return p})),o.d(t,"g",(function(){return f})),o.d(t,"i",(function(){return g})),o.d(t,"k",(function(){return m})),o.d(t,"l",(function(){return y})),o.d(t,"m",(function(){return v})),o.d(t,"j",(function(){return _})),o.d(t,"h",(function(){return b})),o.d(t,"a",(function(){return A})),o.d(t,"o",(function(){return C})),o.d(t,"v",(function(){return O})),o.d(t,"t",(function(){return S})),o.d(t,"q",(function(){return x})),o.d(t,"r",(function(){return P})),o.d(t,"p",(function(){return T})),o.d(t,"s",(function(){return M})),o.d(t,"u",(function(){return R})),o.d(t,"n",(function(){return L}));var n=o("./node_modules/ol/Object.js"),r=o("./node_modules/ol/events/Target.js"),i=o("./node_modules/ol/has.js"),a=o("./node_modules/ol/obj.js"),s=o("./node_modules/ol/dom.js"),l=o("./node_modules/ol/css.js"),c="10px sans-serif",u="#000",d="round",h=[],p=0,f="round",g=10,m="#000",y="center",v="middle",_=[0,0,0,0],b=1,A=new n.b,C=new r.a;C.setSize=function(){console.warn("labelCache is deprecated.")};var w,E,I=null,O={},S=function(){var e,t,o=["monospace","serif"],n=o.length,r="wmytzilWMYTZIL@#/&?$%10ï";function i(e,i,a){for(var s=!0,l=0;l<n;++l){var c=o[l];if(t=P(e+" "+i+" 32px "+c,r),a!=c){var u=P(e+" "+i+" 32px "+a+","+c,r);s=s&&u!=t}}return!!s}function s(){for(var t=!0,o=A.getKeys(),n=0,r=o.length;n<r;++n){var s=o[n];A.get(s)<100&&(i.apply(this,s.split("\n"))?(Object(a.b)(O),I=null,w=void 0,A.set(s,100)):(A.set(s,A.get(s)+1,!0),t=!1))}t&&(clearInterval(e),e=void 0)}return function(t){var o=Object(l.h)(t);if(o)for(var n=o.families,r=0,a=n.length;r<a;++r){var c=n[r],u=o.style+"\n"+o.weight+"\n"+c;void 0===A.get(u)&&(A.set(u,100,!0),i(o.style,o.weight,c)||(A.set(u,0,!0),void 0===e&&(e=setInterval(s,32))))}}}(),x=function(e){var t=O[e];if(null==t){if(i.h){var o=Object(l.h)(e),n=j(e,"Å½g");t=(isNaN(Number(o.lineHeight))?1.2:Number(o.lineHeight))*(n.actualBoundingBoxAscent+n.actualBoundingBoxDescent)}else E||((E=document.createElement("div")).innerHTML="M",E.style.minHeight="0",E.style.maxHeight="none",E.style.height="auto",E.style.padding="0",E.style.border="none",E.style.position="absolute",E.style.display="block",E.style.left="-99999px"),E.style.font=e,document.body.appendChild(E),t=E.offsetHeight,document.body.removeChild(E);O[e]=t}return t};function j(e,t){return I||(I=Object(s.a)(1,1)),e!=w&&(I.font=e,w=I.font),I.measureText(t)}function P(e,t){return j(e,t).width}function T(e,t,o){if(t in o)return o[t];var n=P(e,t);return o[t]=n,n}function M(e,t,o){for(var n=t.length,r=0,i=0;i<n;++i){var a=P(e,t[i]);r=Math.max(r,a),o.push(a)}return r}function R(e,t,o,n){0!==t&&(e.translate(o,n),e.rotate(t),e.translate(-o,-n))}function L(e,t,o,n,r,i,a,s,l,c,u){e.save(),1!==o&&(e.globalAlpha*=o),t&&e.setTransform.apply(e,t),n.contextInstructions?(e.translate(l,c),e.scale(u[0],u[1]),function(e,t){for(var o=e.contextInstructions,n=0,r=o.length;n<r;n+=2)Array.isArray(o[n+1])?t[o[n]].apply(t,o[n+1]):t[o[n]]=o[n+1]}(n,e)):u[0]<0||u[1]<0?(e.translate(l,c),e.scale(u[0],u[1]),e.drawImage(n,r,i,a,s,0,0,a,s)):e.drawImage(n,r,i,a,s,l,c,a*u[0],s*u[1]),e.restore()}},"./node_modules/ol/render/canvas/Builder.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/render/canvas/Instruction.js"),i=o("./node_modules/ol/geom/GeometryType.js"),a=o("./node_modules/ol/extent/Relationship.js"),s=o("./node_modules/ol/render/VectorContext.js"),l=o("./node_modules/ol/colorlike.js"),c=o("./node_modules/ol/extent.js"),u=o("./node_modules/ol/render/canvas.js"),d=o("./node_modules/ol/array.js"),h=o("./node_modules/ol/geom/flat/inflate.js"),p=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),f=function(e){function t(t,o,n,r){var i=e.call(this)||this;return i.tolerance=t,i.maxExtent=o,i.pixelRatio=r,i.maxLineWidth=0,i.resolution=n,i.beginGeometryInstruction1_=null,i.beginGeometryInstruction2_=null,i.bufferedMaxExtent_=null,i.instructions=[],i.coordinates=[],i.tmpCoordinate_=[],i.hitDetectionInstructions=[],i.state={},i}return p(t,e),t.prototype.applyPixelRatio=function(e){var t=this.pixelRatio;return 1==t?e:e.map((function(e){return e*t}))},t.prototype.appendFlatPointCoordinates=function(e,t){for(var o=this.getBufferedMaxExtent(),n=this.tmpCoordinate_,r=this.coordinates,i=r.length,a=0,s=e.length;a<s;a+=t)n[0]=e[a],n[1]=e[a+1],Object(c.g)(o,n)&&(r[i++]=n[0],r[i++]=n[1]);return i},t.prototype.appendFlatLineCoordinates=function(e,t,o,n,r,i){var s=this.coordinates,l=s.length,u=this.getBufferedMaxExtent();i&&(t+=n);var d,h,p,f=e[t],g=e[t+1],m=this.tmpCoordinate_,y=!0;for(d=t+n;d<o;d+=n)m[0]=e[d],m[1]=e[d+1],(p=Object(c.j)(u,m))!==h?(y&&(s[l++]=f,s[l++]=g,y=!1),s[l++]=m[0],s[l++]=m[1]):p===a.a.INTERSECTING?(s[l++]=m[0],s[l++]=m[1],y=!1):y=!0,f=m[0],g=m[1],h=p;return(r&&y||d===t+n)&&(s[l++]=f,s[l++]=g),l},t.prototype.drawCustomCoordinates_=function(e,t,o,n,r){for(var i=0,a=o.length;i<a;++i){var s=o[i],l=this.appendFlatLineCoordinates(e,t,s,n,!1,!1);r.push(l),t=s}return t},t.prototype.drawCustom=function(e,t,o,n){this.beginGeometry(e,t);var a,s,l,c,u,d=e.getType(),p=e.getStride(),f=this.coordinates.length;switch(d){case i.a.MULTI_POLYGON:a=e.getOrientedFlatCoordinates(),c=[];var g=e.getEndss();u=0;for(var m=0,y=g.length;m<y;++m){var v=[];u=this.drawCustomCoordinates_(a,u,g[m],p,v),c.push(v)}this.instructions.push([r.c.CUSTOM,f,c,e,o,h.c]),this.hitDetectionInstructions.push([r.c.CUSTOM,f,c,e,n||o,h.c]);break;case i.a.POLYGON:case i.a.MULTI_LINE_STRING:l=[],a=d==i.a.POLYGON?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),u=this.drawCustomCoordinates_(a,0,e.getEnds(),p,l),this.instructions.push([r.c.CUSTOM,f,l,e,o,h.b]),this.hitDetectionInstructions.push([r.c.CUSTOM,f,l,e,n||o,h.b]);break;case i.a.LINE_STRING:case i.a.CIRCLE:a=e.getFlatCoordinates(),s=this.appendFlatLineCoordinates(a,0,a.length,p,!1,!1),this.instructions.push([r.c.CUSTOM,f,s,e,o,h.a]),this.hitDetectionInstructions.push([r.c.CUSTOM,f,s,e,n||o,h.a]);break;case i.a.MULTI_POINT:a=e.getFlatCoordinates(),(s=this.appendFlatPointCoordinates(a,p))>f&&(this.instructions.push([r.c.CUSTOM,f,s,e,o,h.a]),this.hitDetectionInstructions.push([r.c.CUSTOM,f,s,e,n||o,h.a]));break;case i.a.POINT:a=e.getFlatCoordinates(),this.coordinates.push(a[0],a[1]),s=this.coordinates.length,this.instructions.push([r.c.CUSTOM,f,s,e,o]),this.hitDetectionInstructions.push([r.c.CUSTOM,f,s,e,n||o])}this.endGeometry(t)},t.prototype.beginGeometry=function(e,t){this.beginGeometryInstruction1_=[r.c.BEGIN_GEOMETRY,t,0,e],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[r.c.BEGIN_GEOMETRY,t,0,e],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},t.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},t.prototype.reverseHitDetectionInstructions=function(){var e,t=this.hitDetectionInstructions;t.reverse();var o,n,i=t.length,a=-1;for(e=0;e<i;++e)(n=(o=t[e])[0])==r.c.END_GEOMETRY?a=e:n==r.c.BEGIN_GEOMETRY&&(o[2]=e,Object(d.k)(this.hitDetectionInstructions,a,e),a=-1)},t.prototype.setFillStrokeStyle=function(e,t){var o=this.state;if(e){var n=e.getColor();o.fillStyle=Object(l.a)(n||u.b)}else o.fillStyle=void 0;if(t){var r=t.getColor();o.strokeStyle=Object(l.a)(r||u.k);var i=t.getLineCap();o.lineCap=void 0!==i?i:u.d;var a=t.getLineDash();o.lineDash=a?a.slice():u.e;var s=t.getLineDashOffset();o.lineDashOffset=s||u.f;var c=t.getLineJoin();o.lineJoin=void 0!==c?c:u.g;var d=t.getWidth();o.lineWidth=void 0!==d?d:u.h;var h=t.getMiterLimit();o.miterLimit=void 0!==h?h:u.i,o.lineWidth>this.maxLineWidth&&(this.maxLineWidth=o.lineWidth,this.bufferedMaxExtent_=null)}else o.strokeStyle=void 0,o.lineCap=void 0,o.lineDash=null,o.lineDashOffset=void 0,o.lineJoin=void 0,o.lineWidth=void 0,o.miterLimit=void 0},t.prototype.createFill=function(e){var t=e.fillStyle,o=[r.c.SET_FILL_STYLE,t];return"string"!=typeof t&&o.push(!0),o},t.prototype.applyStroke=function(e){this.instructions.push(this.createStroke(e))},t.prototype.createStroke=function(e){return[r.c.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,this.applyPixelRatio(e.lineDash),e.lineDashOffset*this.pixelRatio]},t.prototype.updateFillStyle=function(e,t){var o=e.fillStyle;"string"==typeof o&&e.currentFillStyle==o||(void 0!==o&&this.instructions.push(t.call(this,e)),e.currentFillStyle=o)},t.prototype.updateStrokeStyle=function(e,t){var o=e.strokeStyle,n=e.lineCap,r=e.lineDash,i=e.lineDashOffset,a=e.lineJoin,s=e.lineWidth,l=e.miterLimit;(e.currentStrokeStyle!=o||e.currentLineCap!=n||r!=e.currentLineDash&&!Object(d.b)(e.currentLineDash,r)||e.currentLineDashOffset!=i||e.currentLineJoin!=a||e.currentLineWidth!=s||e.currentMiterLimit!=l)&&(void 0!==o&&t.call(this,e),e.currentStrokeStyle=o,e.currentLineCap=n,e.currentLineDash=r,e.currentLineDashOffset=i,e.currentLineJoin=a,e.currentLineWidth=s,e.currentMiterLimit=l)},t.prototype.endGeometry=function(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var t=[r.c.END_GEOMETRY,e];this.instructions.push(t),this.hitDetectionInstructions.push(t)},t.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=Object(c.e)(this.maxExtent),this.maxLineWidth>0)){var e=this.resolution*(this.maxLineWidth+1)/2;Object(c.d)(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},t}(s.a);t.a=f},"./node_modules/ol/render/canvas/BuilderGroup.js":function(e,t,o){"use strict";var n=o("./node_modules/ol/render/canvas/Builder.js"),r=o("./node_modules/ol/render/canvas/ImageBuilder.js"),i=o("./node_modules/ol/render/canvas/LineStringBuilder.js"),a=o("./node_modules/ol/render/canvas/PolygonBuilder.js"),s=o("./node_modules/ol/render/canvas/TextBuilder.js"),l={Circle:a.a,Default:n.a,Image:r.a,LineString:i.a,Polygon:a.a,Text:s.b},c=function(){function e(e,t,o,n){this.tolerance_=e,this.maxExtent_=t,this.pixelRatio_=n,this.resolution_=o,this.buildersByZIndex_={}}return e.prototype.finish=function(){var e={};for(var t in this.buildersByZIndex_){e[t]=e[t]||{};var o=this.buildersByZIndex_[t];for(var n in o){var r=o[n].finish();e[t][n]=r}}return e},e.prototype.getBuilder=function(e,t){var o=void 0!==e?e.toString():"0",n=this.buildersByZIndex_[o];void 0===n&&(n={},this.buildersByZIndex_[o]=n);var r=n[t];void 0===r&&(r=new(0,l[t])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),n[t]=r);return r},e}();t.a=c},"./node_modules/ol/render/canvas/BuilderType.js":function(e,t,o){"use strict";t.a={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"}},"./node_modules/ol/render/canvas/Executor.js":function(e,t,o){"use strict";var n=o("./node_modules/ol/render/canvas/Instruction.js"),r=o("./node_modules/ol/render/canvas/TextBuilder.js"),i=o("./node_modules/ol/has.js"),a=o("./node_modules/ol/transform.js"),s=o("./node_modules/ol/extent.js"),l=o("./node_modules/ol/render/canvas.js"),c=o("./node_modules/ol/geom/flat/textpath.js"),u=o("./node_modules/ol/array.js"),d=o("./node_modules/ol/geom/flat/length.js"),h=o("./node_modules/ol/geom/flat/transform.js"),p=Object(s.k)(),f=[],g=[],m=[],y=[];function v(e){return e[3].declutterBox}var _=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function b(e,t){return"start"!==t&&"end"!==t||_.test(e)||(t="start"===t?"left":"right"),r.a[t]}var A=function(){function e(e,t,o,n){this.overlaps=o,this.pixelRatio=t,this.resolution=e,this.alignFill_,this.instructions=n.instructions,this.coordinates=n.coordinates,this.coordinateCache_={},this.renderedTransform_=Object(a.d)(),this.hitDetectionInstructions=n.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=n.fillStates||{},this.strokeStates=n.strokeStates||{},this.textStates=n.textStates||{},this.widths_={},this.labels_={}}return e.prototype.createLabel=function(e,t,o,n){var r=e+t+o+n;if(this.labels_[r])return this.labels_[r];var a=n?this.strokeStates[n]:null,s=o?this.fillStates[o]:null,c=this.textStates[t],u=this.pixelRatio,d=[c.scale[0]*u,c.scale[1]*u],h=b(e,c.textAlign||l.l),p=n&&a.lineWidth?a.lineWidth:0,f=e.split("\n"),g=f.length,m=[],y=Object(l.s)(c.font,f,m),v=Object(l.q)(c.font),_=y+p,A=[],C=(_+2)*d[0],w=(v*g+p)*d[1],E={width:C<0?Math.floor(C):Math.ceil(C),height:w<0?Math.floor(w):Math.ceil(w),contextInstructions:A};(1==d[0]&&1==d[1]||A.push("scale",d),A.push("font",c.font),n)&&(A.push("strokeStyle",a.strokeStyle),A.push("lineWidth",p),A.push("lineCap",a.lineCap),A.push("lineJoin",a.lineJoin),A.push("miterLimit",a.miterLimit),(i.h?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D).prototype.setLineDash&&(A.push("setLineDash",[a.lineDash]),A.push("lineDashOffset",a.lineDashOffset)));o&&A.push("fillStyle",s.fillStyle),A.push("textBaseline","middle"),A.push("textAlign","center");var I,O=.5-h,S=h*_+O*p;if(n)for(I=0;I<g;++I)A.push("strokeText",[f[I],S+O*m[I],.5*(p+v)+I*v]);if(o)for(I=0;I<g;++I)A.push("fillText",[f[I],S+O*m[I],.5*(p+v)+I*v]);return this.labels_[r]=E,E},e.prototype.replayTextBackground_=function(e,t,o,n,r,i,a){e.beginPath(),e.moveTo.apply(e,t),e.lineTo.apply(e,o),e.lineTo.apply(e,n),e.lineTo.apply(e,r),e.lineTo.apply(e,t),i&&(this.alignFill_=i[2],this.fill_(e)),a&&(this.setStrokeStyle_(e,a),e.stroke())},e.prototype.calculateImageOrLabelDimensions_=function(e,t,o,n,r,i,l,c,u,d,h,v,_,b,A,C){var w,E=o-(l*=v[0]),I=n-(c*=v[1]),O=r+u>e?e-u:r,S=i+d>t?t-d:i,x=b[3]+O*v[0]+b[1],j=b[0]+S*v[1]+b[2],P=E-b[3],T=I-b[0];return(A||0!==h)&&(f[0]=P,y[0]=P,f[1]=T,g[1]=T,g[0]=P+x,m[0]=g[0],m[1]=T+j,y[1]=m[1]),0!==h?(w=Object(a.b)(Object(a.d)(),o,n,1,1,h,-o,-n),Object(a.a)(w,f),Object(a.a)(w,g),Object(a.a)(w,m),Object(a.a)(w,y),Object(s.l)(Math.min(f[0],g[0],m[0],y[0]),Math.min(f[1],g[1],m[1],y[1]),Math.max(f[0],g[0],m[0],y[0]),Math.max(f[1],g[1],m[1],y[1]),p)):Object(s.l)(Math.min(P,P+x),Math.min(T,T+j),Math.max(P,P+x),Math.max(T,T+j),p),_&&(E=Math.round(E),I=Math.round(I)),{drawImageX:E,drawImageY:I,drawImageW:O,drawImageH:S,originX:u,originY:d,declutterBox:{minX:p[0],minY:p[1],maxX:p[2],maxY:p[3],value:C},canvasTransform:w,scale:v}},e.prototype.replayImageOrLabel_=function(e,t,o,n,r,i,a){var s=!(!i&&!a),c=n.declutterBox,u=e.canvas,d=a?a[2]*n.scale[0]/2:0;return c.minX-d<=u.width/t&&c.maxX+d>=0&&c.minY-d<=u.height/t&&c.maxY+d>=0&&(s&&this.replayTextBackground_(e,f,g,m,y,i,a),Object(l.n)(e,n.canvasTransform,r,o,n.originX,n.originY,n.drawImageW,n.drawImageH,n.drawImageX,n.drawImageY,n.scale)),!0},e.prototype.fill_=function(e){if(this.alignFill_){var t=Object(a.a)(this.renderedTransform_,[0,0]),o=512*this.pixelRatio;e.save(),e.translate(t[0]%o,t[1]%o),e.rotate(this.viewRotation_)}e.fill(),this.alignFill_&&e.restore()},e.prototype.setStrokeStyle_=function(e,t){e.strokeStyle=t[1],e.lineWidth=t[2],e.lineCap=t[3],e.lineJoin=t[4],e.miterLimit=t[5],e.setLineDash&&(e.lineDashOffset=t[7],e.setLineDash(t[6]))},e.prototype.drawLabelWithPointPlacement_=function(e,t,o,n){var i=this.textStates[t],a=this.createLabel(e,t,n,o),s=this.strokeStates[o],c=this.pixelRatio,u=b(e,i.textAlign||l.l),d=r.a[i.textBaseline||l.m],h=s&&s.lineWidth?s.lineWidth:0;return{label:a,anchorX:u*(a.width/c-2*i.scale[0])+2*(.5-u)*h,anchorY:d*a.height/c+2*(.5-d)*h}},e.prototype.execute_=function(e,t,o,i,p,f,g,m){var y;this.pixelCoordinates_&&Object(u.b)(o,this.renderedTransform_)?y=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),y=Object(h.c)(this.coordinates,0,this.coordinates.length,2,o,this.pixelCoordinates_),Object(a.n)(this.renderedTransform_,o));for(var _,b,A,C,w,E,I,O,S,x,j,P,T,M,R,L,k=0,G=i.length,D=0,N=0,F=0,U=null,B=null,z=this.coordinateCache_,V=this.viewRotation_,W=Math.round(1e12*Math.atan2(-o[1],o[0]))/1e12,q={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:V},Y=this.instructions!=i||this.overlaps?0:200;k<G;){var H=i[k];switch(H[0]){case n.c.BEGIN_GEOMETRY:T=H[1],L=H[3],T.getGeometry()?void 0===g||Object(s.O)(g,L.getExtent())?++k:k=H[2]+1:k=H[2];break;case n.c.BEGIN_PATH:N>Y&&(this.fill_(e),N=0),F>Y&&(e.stroke(),F=0),N||F||(e.beginPath(),C=NaN,w=NaN),++k;break;case n.c.CIRCLE:var X=y[D=H[1]],Z=y[D+1],K=y[D+2]-X,J=y[D+3]-Z,Q=Math.sqrt(K*K+J*J);e.moveTo(X+Q,Z),e.arc(X,Z,Q,0,2*Math.PI,!0),++k;break;case n.c.CLOSE_PATH:e.closePath(),++k;break;case n.c.CUSTOM:D=H[1],_=H[2];var $=H[3],ee=H[4],te=6==H.length?H[5]:void 0;q.geometry=$,q.feature=T,k in z||(z[k]=[]);var oe=z[k];te?te(y,D,_,2,oe):(oe[0]=y[D],oe[1]=y[D+1],oe.length=2),ee(oe,q),++k;break;case n.c.DRAW_IMAGE:D=H[1],_=H[2],O=H[3],b=H[4],A=H[5];var ne=H[6],re=H[7],ie=H[8],ae=H[9],se=H[10],le=H[11],ce=H[12],ue=H[13],de=H[14];if(!O&&H.length>=19){S=H[18],x=H[19],j=H[20],P=H[21];var he=this.drawLabelWithPointPlacement_(S,x,j,P);O=he.label,H[3]=O;var pe=H[22];b=(he.anchorX-pe)*this.pixelRatio,H[4]=b;var fe=H[23];A=(he.anchorY-fe)*this.pixelRatio,H[5]=A,ne=O.height,H[6]=ne,ue=O.width,H[13]=ue}var ge=void 0;H.length>24&&(ge=H[24]);var me=void 0,ye=void 0,ve=void 0;H.length>16?(me=H[15],ye=H[16],ve=H[17]):(me=l.j,ye=!1,ve=!1),se&&W?le+=V:se||W||(le-=V);for(var _e=0;D<_;D+=2)if(!(ge&&ge[_e++]<ue/this.pixelRatio)){var be=[e,t,O,Xe=this.calculateImageOrLabelDimensions_(O.width,O.height,y[D],y[D+1],ue,ne,b,A,ie,ae,le,ce,p,me,ye||ve,T),re,ye?U:null,ve?B:null],Ae=void 0,Ce=void 0;if(m&&de){var we=_-D;if(!de[we]){de[we]=be;continue}if(Ae=de[we],delete de[we],Ce=v(Ae),m.collides(Ce))continue}m&&m.collides(Xe.declutterBox)||(Ae&&(m&&m.insert(Ce),this.replayImageOrLabel_.apply(this,Ae)),m&&m.insert(Xe.declutterBox),this.replayImageOrLabel_.apply(this,be))}++k;break;case n.c.DRAW_CHARS:var Ee=H[1],Ie=H[2],Oe=H[3],Se=H[4];P=H[5];var xe=H[6],je=H[7],Pe=H[8];j=H[9];var Te=H[10];S=H[11],x=H[12];var Me=[H[13],H[13]],Re=this.textStates[x],Le=Re.font,ke=[Re.scale[0]*je,Re.scale[1]*je],Ge=void 0;Le in this.widths_?Ge=this.widths_[Le]:(Ge={},this.widths_[Le]=Ge);var De=Object(d.a)(y,Ee,Ie,2),Ne=Math.abs(ke[0])*Object(l.p)(Le,S,Ge);if(Se||Ne<=De){var Fe=this.textStates[x].textAlign,Ue=(De-Ne)*r.a[Fe],Be=Object(c.a)(y,Ee,Ie,2,S,Ue,xe,Math.abs(ke[0]),l.p,Le,Ge,W?0:this.viewRotation_);e:if(Be){var ze=[],Ve=void 0,We=void 0,qe=void 0,Ye=void 0,He=void 0;if(j)for(Ve=0,We=Be.length;Ve<We;++Ve){qe=(He=Be[Ve])[4],Ye=this.createLabel(qe,x,"",j),b=He[2]+(ke[0]<0?-Te:Te),A=Oe*Ye.height+2*(.5-Oe)*Te*ke[1]/ke[0]-Pe;var Xe=this.calculateImageOrLabelDimensions_(Ye.width,Ye.height,He[0],He[1],Ye.width,Ye.height,b,A,0,0,He[3],Me,!1,l.j,!1,T);if(m&&m.collides(Xe.declutterBox))break e;ze.push([e,t,Ye,Xe,1,null,null])}if(P)for(Ve=0,We=Be.length;Ve<We;++Ve){qe=(He=Be[Ve])[4],Ye=this.createLabel(qe,x,P,""),b=He[2],A=Oe*Ye.height-Pe;Xe=this.calculateImageOrLabelDimensions_(Ye.width,Ye.height,He[0],He[1],Ye.width,Ye.height,b,A,0,0,He[3],Me,!1,l.j,!1,T);if(m&&m.collides(Xe.declutterBox))break e;ze.push([e,t,Ye,Xe,1,null,null])}m&&m.load(ze.map(v));for(var Ze=0,Ke=ze.length;Ze<Ke;++Ze)this.replayImageOrLabel_.apply(this,ze[Ze])}}++k;break;case n.c.END_GEOMETRY:if(void 0!==f){var Je=f(T=H[1],L);if(Je)return Je}++k;break;case n.c.FILL:Y?N++:this.fill_(e),++k;break;case n.c.MOVE_TO_LINE_TO:for(D=H[1],_=H[2],M=y[D],I=(R=y[D+1])+.5|0,(E=M+.5|0)===C&&I===w||(e.moveTo(M,R),C=E,w=I),D+=2;D<_;D+=2)E=(M=y[D])+.5|0,I=(R=y[D+1])+.5|0,D!=_-2&&E===C&&I===w||(e.lineTo(M,R),C=E,w=I);++k;break;case n.c.SET_FILL_STYLE:U=H,this.alignFill_=H[2],N&&(this.fill_(e),N=0,F&&(e.stroke(),F=0)),e.fillStyle=H[1],++k;break;case n.c.SET_STROKE_STYLE:B=H,F&&(e.stroke(),F=0),this.setStrokeStyle_(e,H),++k;break;case n.c.STROKE:Y?F++:e.stroke(),++k;break;default:++k}}N&&this.fill_(e),F&&e.stroke()},e.prototype.execute=function(e,t,o,n,r,i){this.viewRotation_=n,this.execute_(e,t,o,this.instructions,r,void 0,void 0,i)},e.prototype.executeHitDetection=function(e,t,o,n,r){return this.viewRotation_=o,this.execute_(e,1,t,this.hitDetectionInstructions,!0,n,r)},e}();t.a=A},"./node_modules/ol/render/canvas/ExecutorGroup.js":function(e,t,o){"use strict";o.d(t,"b",(function(){return f}));var n=o("./node_modules/ol/render/canvas/BuilderType.js"),r=o("./node_modules/ol/render/canvas/Executor.js"),i=o("./node_modules/ol/extent.js"),a=o("./node_modules/ol/transform.js"),s=o("./node_modules/ol/dom.js"),l=o("./node_modules/ol/obj.js"),c=o("./node_modules/ol/array.js"),u=o("./node_modules/ol/geom/flat/transform.js"),d=[n.a.POLYGON,n.a.CIRCLE,n.a.LINE_STRING,n.a.IMAGE,n.a.TEXT,n.a.DEFAULT],h=function(){function e(e,t,o,n,r,i){this.maxExtent_=e,this.overlaps_=n,this.pixelRatio_=o,this.resolution_=t,this.renderBuffer_=i,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=Object(a.d)(),this.createExecutors_(r)}return e.prototype.clip=function(e,t){var o=this.getClipCoords(t);e.beginPath(),e.moveTo(o[0],o[1]),e.lineTo(o[2],o[3]),e.lineTo(o[4],o[5]),e.lineTo(o[6],o[7]),e.clip()},e.prototype.createExecutors_=function(e){for(var t in e){var o=this.executorsByZIndex_[t];void 0===o&&(o={},this.executorsByZIndex_[t]=o);var n=e[t];for(var i in n){var a=n[i];o[i]=new r.a(this.resolution_,this.pixelRatio_,this.overlaps_,a)}}},e.prototype.hasExecutors=function(e){for(var t in this.executorsByZIndex_)for(var o=this.executorsByZIndex_[t],n=0,r=e.length;n<r;++n)if(e[n]in o)return!0;return!1},e.prototype.forEachFeatureAtCoordinate=function(e,t,o,r,l,u){var h=2*(r=Math.round(r))+1,p=Object(a.b)(this.hitDetectionTransform_,r+.5,r+.5,1/t,-1/t,-o,-e[0],-e[1]),g=!this.hitDetectionContext_;g&&(this.hitDetectionContext_=Object(s.a)(h,h));var m,y=this.hitDetectionContext_;y.canvas.width!==h||y.canvas.height!==h?(y.canvas.width=h,y.canvas.height=h):g||y.clearRect(0,0,h,h),void 0!==this.renderBuffer_&&(m=Object(i.k)(),Object(i.t)(m,e),Object(i.d)(m,t*(this.renderBuffer_+r),m));var v,_=f(r);function b(e,t){for(var o=y.getImageData(0,0,h,h).data,i=0,a=_.length;i<a;i++)if(o[_[i]]>0){if(!u||v!==n.a.IMAGE&&v!==n.a.TEXT||-1!==u.indexOf(e)){var s=(_[i]-3)/4,c=r-s%h,d=r-(s/h|0),p=l(e,t,c*c+d*d);if(p)return p}y.clearRect(0,0,h,h);break}}var A,C,w,E,I,O=Object.keys(this.executorsByZIndex_).map(Number);for(O.sort(c.i),A=O.length-1;A>=0;--A){var S=O[A].toString();for(w=this.executorsByZIndex_[S],C=d.length-1;C>=0;--C)if(void 0!==(E=w[v=d[C]])&&(I=E.executeHitDetection(y,p,o,b,m)))return I}},e.prototype.getClipCoords=function(e){var t=this.maxExtent_;if(!t)return null;var o=t[0],n=t[1],r=t[2],i=t[3],a=[o,n,o,i,r,i,r,n];return Object(u.c)(a,0,8,2,e,a),a},e.prototype.isEmpty=function(){return Object(l.d)(this.executorsByZIndex_)},e.prototype.execute=function(e,t,o,n,r,i,a){var s=Object.keys(this.executorsByZIndex_).map(Number);s.sort(c.i),this.maxExtent_&&(e.save(),this.clip(e,o));var l,u,h,p,f,g,m=i||d;for(a&&s.reverse(),l=0,u=s.length;l<u;++l){var y=s[l].toString();for(f=this.executorsByZIndex_[y],h=0,p=m.length;h<p;++h){void 0!==(g=f[m[h]])&&g.execute(e,t,o,n,r,a)}}this.maxExtent_&&e.restore()},e}(),p={};function f(e){if(void 0!==p[e])return p[e];for(var t=2*e+1,o=e*e,n=new Array(o+1),r=0;r<=e;++r)for(var i=0;i<=e;++i){var a=r*r+i*i;if(a>o)break;var s=n[a];s||(s=[],n[a]=s),s.push(4*((e+r)*t+(e+i))+3),r>0&&s.push(4*((e-r)*t+(e+i))+3),i>0&&(s.push(4*((e+r)*t+(e-i))+3),r>0&&s.push(4*((e-r)*t+(e-i))+3))}for(var l=[],c=(r=0,n.length);r<c;++r)n[r]&&l.push.apply(l,n[r]);return p[e]=l,l}t.a=h},"./node_modules/ol/render/canvas/ImageBuilder.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/render/canvas/Builder.js"),i=o("./node_modules/ol/render/canvas/Instruction.js"),a=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),s=function(e){function t(t,o,n,r){var i=e.call(this,t,o,n,r)||this;return i.hitDetectionImage_=null,i.image_=null,i.imagePixelRatio_=void 0,i.anchorX_=void 0,i.anchorY_=void 0,i.height_=void 0,i.opacity_=void 0,i.originX_=void 0,i.originY_=void 0,i.rotateWithView_=void 0,i.rotation_=void 0,i.scale_=void 0,i.width_=void 0,i.declutterImageWithText_=void 0,i}return a(t,e),t.prototype.drawPoint=function(e,t){if(this.image_){this.beginGeometry(e,t);var o=e.getFlatCoordinates(),n=e.getStride(),r=this.coordinates.length,a=this.appendFlatPointCoordinates(o,n);this.instructions.push([i.c.DRAW_IMAGE,r,a,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([i.c.DRAW_IMAGE,r,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(t)}},t.prototype.drawMultiPoint=function(e,t){if(this.image_){this.beginGeometry(e,t);var o=e.getFlatCoordinates(),n=e.getStride(),r=this.coordinates.length,a=this.appendFlatPointCoordinates(o,n);this.instructions.push([i.c.DRAW_IMAGE,r,a,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([i.c.DRAW_IMAGE,r,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(t)}},t.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,e.prototype.finish.call(this)},t.prototype.setImageStyle=function(e,t){var o=e.getAnchor(),n=e.getSize(),r=e.getHitDetectionImage(),i=e.getImage(this.pixelRatio),a=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=o[0],this.anchorY_=o[1],this.hitDetectionImage_=r,this.image_=i,this.height_=n[1],this.opacity_=e.getOpacity(),this.originX_=a[0]*this.imagePixelRatio_,this.originY_=a[1]*this.imagePixelRatio_,this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=n[0],this.declutterImageWithText_=t},t}(r.a);t.a=s},"./node_modules/ol/render/canvas/Immediate.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/geom/GeometryType.js"),i=o("./node_modules/ol/render/VectorContext.js"),a=o("./node_modules/ol/colorlike.js"),s=o("./node_modules/ol/transform.js"),l=o("./node_modules/ol/render/canvas.js"),c=o("./node_modules/ol/array.js"),u=o("./node_modules/ol/extent.js"),d=o("./node_modules/ol/geom/flat/transform.js"),h=o("./node_modules/ol/geom/SimpleGeometry.js"),p=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),f=function(e){function t(t,o,n,r,i,a,l){var c=e.call(this)||this;return c.context_=t,c.pixelRatio_=o,c.extent_=n,c.transform_=r,c.viewRotation_=i,c.squaredTolerance_=a,c.userTransform_=l,c.contextFillState_=null,c.contextStrokeState_=null,c.contextTextState_=null,c.fillState_=null,c.strokeState_=null,c.image_=null,c.imageAnchorX_=0,c.imageAnchorY_=0,c.imageHeight_=0,c.imageOpacity_=0,c.imageOriginX_=0,c.imageOriginY_=0,c.imageRotateWithView_=!1,c.imageRotation_=0,c.imageScale_=[0,0],c.imageWidth_=0,c.text_="",c.textOffsetX_=0,c.textOffsetY_=0,c.textRotateWithView_=!1,c.textRotation_=0,c.textScale_=[0,0],c.textFillState_=null,c.textStrokeState_=null,c.textState_=null,c.pixelCoordinates_=[],c.tmpLocalTransform_=Object(s.d)(),c}return p(t,e),t.prototype.drawImages_=function(e,t,o,n){if(this.image_){var r=Object(d.c)(e,t,o,n,this.transform_,this.pixelCoordinates_),i=this.context_,a=this.tmpLocalTransform_,l=i.globalAlpha;1!=this.imageOpacity_&&(i.globalAlpha=l*this.imageOpacity_);var c=this.imageRotation_;this.imageRotateWithView_&&(c+=this.viewRotation_);for(var u=0,h=r.length;u<h;u+=2){var p=r[u]-this.imageAnchorX_,f=r[u+1]-this.imageAnchorY_;if(0!==c||1!=this.imageScale_[0]||1!=this.imageScale_[1]){var g=p+this.imageAnchorX_,m=f+this.imageAnchorY_;Object(s.b)(a,g,m,1,1,c,-g,-m),i.setTransform.apply(i,a),i.translate(g,m),i.scale(this.imageScale_[0],this.imageScale_[1]),i.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),i.setTransform(1,0,0,1,0,0)}else i.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,p,f,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(i.globalAlpha=l)}},t.prototype.drawText_=function(e,t,o,n){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var r=Object(d.c)(e,t,o,n,this.transform_,this.pixelCoordinates_),i=this.context_,a=this.textRotation_;for(this.textRotateWithView_&&(a+=this.viewRotation_);t<o;t+=n){var l=r[t]+this.textOffsetX_,c=r[t+1]+this.textOffsetY_;if(0!==a||1!=this.textScale_[0]||1!=this.textScale_[1]){var u=Object(s.b)(this.tmpLocalTransform_,l,c,1,1,a,-l,-c);i.setTransform.apply(i,u),i.translate(l,c),i.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&i.strokeText(this.text_,0,0),this.textFillState_&&i.fillText(this.text_,0,0),i.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&i.strokeText(this.text_,l,c),this.textFillState_&&i.fillText(this.text_,l,c)}}},t.prototype.moveToLineTo_=function(e,t,o,n,r){var i=this.context_,a=Object(d.c)(e,t,o,n,this.transform_,this.pixelCoordinates_);i.moveTo(a[0],a[1]);var s=a.length;r&&(s-=2);for(var l=2;l<s;l+=2)i.lineTo(a[l],a[l+1]);return r&&i.closePath(),o},t.prototype.drawRings_=function(e,t,o,n){for(var r=0,i=o.length;r<i;++r)t=this.moveToLineTo_(e,t,o[r],n,!0);return t},t.prototype.drawCircle=function(e){if(Object(u.O)(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var t=Object(h.c)(e,this.transform_,this.pixelCoordinates_),o=t[2]-t[0],n=t[3]-t[1],r=Math.sqrt(o*o+n*n),i=this.context_;i.beginPath(),i.arc(t[0],t[1],r,0,2*Math.PI),this.fillState_&&i.fill(),this.strokeState_&&i.stroke()}""!==this.text_&&this.drawText_(e.getCenter(),0,2,2)}},t.prototype.setStyle=function(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())},t.prototype.setTransform=function(e){this.transform_=e},t.prototype.drawGeometry=function(e){switch(e.getType()){case r.a.POINT:this.drawPoint(e);break;case r.a.LINE_STRING:this.drawLineString(e);break;case r.a.POLYGON:this.drawPolygon(e);break;case r.a.MULTI_POINT:this.drawMultiPoint(e);break;case r.a.MULTI_LINE_STRING:this.drawMultiLineString(e);break;case r.a.MULTI_POLYGON:this.drawMultiPolygon(e);break;case r.a.GEOMETRY_COLLECTION:this.drawGeometryCollection(e);break;case r.a.CIRCLE:this.drawCircle(e)}},t.prototype.drawFeature=function(e,t){var o=t.getGeometryFunction()(e);o&&Object(u.O)(this.extent_,o.getExtent())&&(this.setStyle(t),this.drawGeometry(o))},t.prototype.drawGeometryCollection=function(e){for(var t=e.getGeometriesArray(),o=0,n=t.length;o<n;++o)this.drawGeometry(t[o])},t.prototype.drawPoint=function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var t=e.getFlatCoordinates(),o=e.getStride();this.image_&&this.drawImages_(t,0,t.length,o),""!==this.text_&&this.drawText_(t,0,t.length,o)},t.prototype.drawMultiPoint=function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var t=e.getFlatCoordinates(),o=e.getStride();this.image_&&this.drawImages_(t,0,t.length,o),""!==this.text_&&this.drawText_(t,0,t.length,o)},t.prototype.drawLineString=function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Object(u.O)(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var t=this.context_,o=e.getFlatCoordinates();t.beginPath(),this.moveToLineTo_(o,0,o.length,e.getStride(),!1),t.stroke()}if(""!==this.text_){var n=e.getFlatMidpoint();this.drawText_(n,0,2,2)}}},t.prototype.drawMultiLineString=function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var t=e.getExtent();if(Object(u.O)(this.extent_,t)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var o=this.context_,n=e.getFlatCoordinates(),r=0,i=e.getEnds(),a=e.getStride();o.beginPath();for(var s=0,l=i.length;s<l;++s)r=this.moveToLineTo_(n,r,i[s],a,!1);o.stroke()}if(""!==this.text_){var c=e.getFlatMidpoints();this.drawText_(c,0,c.length,2)}}},t.prototype.drawPolygon=function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Object(u.O)(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var t=this.context_;t.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(""!==this.text_){var o=e.getFlatInteriorPoint();this.drawText_(o,0,2,2)}}},t.prototype.drawMultiPolygon=function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Object(u.O)(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var t=this.context_,o=e.getOrientedFlatCoordinates(),n=0,r=e.getEndss(),i=e.getStride();t.beginPath();for(var a=0,s=r.length;a<s;++a){var l=r[a];n=this.drawRings_(o,n,l,i)}this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(""!==this.text_){var c=e.getFlatInteriorPoints();this.drawText_(c,0,c.length,2)}}},t.prototype.setContextFillState_=function(e){var t=this.context_,o=this.contextFillState_;o?o.fillStyle!=e.fillStyle&&(o.fillStyle=e.fillStyle,t.fillStyle=e.fillStyle):(t.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})},t.prototype.setContextStrokeState_=function(e){var t=this.context_,o=this.contextStrokeState_;o?(o.lineCap!=e.lineCap&&(o.lineCap=e.lineCap,t.lineCap=e.lineCap),t.setLineDash&&(Object(c.b)(o.lineDash,e.lineDash)||t.setLineDash(o.lineDash=e.lineDash),o.lineDashOffset!=e.lineDashOffset&&(o.lineDashOffset=e.lineDashOffset,t.lineDashOffset=e.lineDashOffset)),o.lineJoin!=e.lineJoin&&(o.lineJoin=e.lineJoin,t.lineJoin=e.lineJoin),o.lineWidth!=e.lineWidth&&(o.lineWidth=e.lineWidth,t.lineWidth=e.lineWidth),o.miterLimit!=e.miterLimit&&(o.miterLimit=e.miterLimit,t.miterLimit=e.miterLimit),o.strokeStyle!=e.strokeStyle&&(o.strokeStyle=e.strokeStyle,t.strokeStyle=e.strokeStyle)):(t.lineCap=e.lineCap,t.setLineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineJoin=e.lineJoin,t.lineWidth=e.lineWidth,t.miterLimit=e.miterLimit,t.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})},t.prototype.setContextTextState_=function(e){var t=this.context_,o=this.contextTextState_,n=e.textAlign?e.textAlign:l.l;o?(o.font!=e.font&&(o.font=e.font,t.font=e.font),o.textAlign!=n&&(o.textAlign=n,t.textAlign=n),o.textBaseline!=e.textBaseline&&(o.textBaseline=e.textBaseline,t.textBaseline=e.textBaseline)):(t.font=e.font,t.textAlign=n,t.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:n,textBaseline:e.textBaseline})},t.prototype.setFillStrokeStyle=function(e,t){var o=this;if(e){var n=e.getColor();this.fillState_={fillStyle:Object(a.a)(n||l.b)}}else this.fillState_=null;if(t){var r=t.getColor(),i=t.getLineCap(),s=t.getLineDash(),c=t.getLineDashOffset(),u=t.getLineJoin(),d=t.getWidth(),h=t.getMiterLimit(),p=s||l.e;this.strokeState_={lineCap:void 0!==i?i:l.d,lineDash:1===this.pixelRatio_?p:p.map((function(e){return e*o.pixelRatio_})),lineDashOffset:(c||l.f)*this.pixelRatio_,lineJoin:void 0!==u?u:l.g,lineWidth:(void 0!==d?d:l.h)*this.pixelRatio_,miterLimit:void 0!==h?h:l.i,strokeStyle:Object(a.a)(r||l.k)}}else this.strokeState_=null},t.prototype.setImageStyle=function(e){var t;if(e&&(t=e.getSize())){var o=e.getAnchor(),n=e.getOrigin();this.image_=e.getImage(this.pixelRatio_),this.imageAnchorX_=o[0]*this.pixelRatio_,this.imageAnchorY_=o[1]*this.pixelRatio_,this.imageHeight_=t[1]*this.pixelRatio_,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=n[0],this.imageOriginY_=n[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation(),this.imageScale_=e.getScaleArray(),this.imageWidth_=t[0]*this.pixelRatio_}else this.image_=null},t.prototype.setTextStyle=function(e){if(e){var t=e.getFill();if(t){var o=t.getColor();this.textFillState_={fillStyle:Object(a.a)(o||l.b)}}else this.textFillState_=null;var n=e.getStroke();if(n){var r=n.getColor(),i=n.getLineCap(),s=n.getLineDash(),c=n.getLineDashOffset(),u=n.getLineJoin(),d=n.getWidth(),h=n.getMiterLimit();this.textStrokeState_={lineCap:void 0!==i?i:l.d,lineDash:s||l.e,lineDashOffset:c||l.f,lineJoin:void 0!==u?u:l.g,lineWidth:void 0!==d?d:l.h,miterLimit:void 0!==h?h:l.i,strokeStyle:Object(a.a)(r||l.k)}}else this.textStrokeState_=null;var p=e.getFont(),f=e.getOffsetX(),g=e.getOffsetY(),m=e.getRotateWithView(),y=e.getRotation(),v=e.getScaleArray(),_=e.getText(),b=e.getTextAlign(),A=e.getTextBaseline();this.textState_={font:void 0!==p?p:l.c,textAlign:void 0!==b?b:l.l,textBaseline:void 0!==A?A:l.m},this.text_=void 0!==_?_:"",this.textOffsetX_=void 0!==f?this.pixelRatio_*f:0,this.textOffsetY_=void 0!==g?this.pixelRatio_*g:0,this.textRotateWithView_=void 0!==m&&m,this.textRotation_=void 0!==y?y:0,this.textScale_=[this.pixelRatio_*v[0],this.pixelRatio_*v[1]]}else this.text_=""},t}(i.a);t.a=f},"./node_modules/ol/render/canvas/Instruction.js":function(e,t,o){"use strict";o.d(t,"d",(function(){return r})),o.d(t,"e",(function(){return i})),o.d(t,"a",(function(){return a})),o.d(t,"b",(function(){return s}));var n={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},r=[n.FILL],i=[n.STROKE],a=[n.BEGIN_PATH],s=[n.CLOSE_PATH];t.c=n},"./node_modules/ol/render/canvas/LineStringBuilder.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/render/canvas/Builder.js"),i=o("./node_modules/ol/render/canvas/Instruction.js"),a=o("./node_modules/ol/render/canvas.js"),s=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=function(e){function t(t,o,n,r){return e.call(this,t,o,n,r)||this}return s(t,e),t.prototype.drawFlatCoordinates_=function(e,t,o,n){var r=this.coordinates.length,a=this.appendFlatLineCoordinates(e,t,o,n,!1,!1),s=[i.c.MOVE_TO_LINE_TO,r,a];return this.instructions.push(s),this.hitDetectionInstructions.push(s),o},t.prototype.drawLineString=function(e,t){var o=this.state,n=o.strokeStyle,r=o.lineWidth;if(void 0!==n&&void 0!==r){this.updateStrokeStyle(o,this.applyStroke),this.beginGeometry(e,t),this.hitDetectionInstructions.push([i.c.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,a.e,a.f],i.a);var s=e.getFlatCoordinates(),l=e.getStride();this.drawFlatCoordinates_(s,0,s.length,l),this.hitDetectionInstructions.push(i.e),this.endGeometry(t)}},t.prototype.drawMultiLineString=function(e,t){var o=this.state,n=o.strokeStyle,r=o.lineWidth;if(void 0!==n&&void 0!==r){this.updateStrokeStyle(o,this.applyStroke),this.beginGeometry(e,t),this.hitDetectionInstructions.push([i.c.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,o.lineDashOffset],i.a);for(var a=e.getEnds(),s=e.getFlatCoordinates(),l=e.getStride(),c=0,u=0,d=a.length;u<d;++u)c=this.drawFlatCoordinates_(s,c,a[u],l);this.hitDetectionInstructions.push(i.e),this.endGeometry(t)}},t.prototype.finish=function(){var t=this.state;return null!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&this.instructions.push(i.e),this.reverseHitDetectionInstructions(),this.state=null,e.prototype.finish.call(this)},t.prototype.applyStroke=function(t){null!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(i.e),t.lastStroke=this.coordinates.length),t.lastStroke=0,e.prototype.applyStroke.call(this,t),this.instructions.push(i.a)},t}(r.a);t.a=l},"./node_modules/ol/render/canvas/PolygonBuilder.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/render/canvas/Builder.js"),i=o("./node_modules/ol/render/canvas/Instruction.js"),a=o("./node_modules/ol/render/canvas.js"),s=o("./node_modules/ol/geom/flat/simplify.js"),l=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=function(e){function t(t,o,n,r){return e.call(this,t,o,n,r)||this}return l(t,e),t.prototype.drawFlatCoordinatess_=function(e,t,o,n){var r=this.state,a=void 0!==r.fillStyle,s=void 0!==r.strokeStyle,l=o.length;this.instructions.push(i.a),this.hitDetectionInstructions.push(i.a);for(var c=0;c<l;++c){var u=o[c],d=this.coordinates.length,h=this.appendFlatLineCoordinates(e,t,u,n,!0,!s),p=[i.c.MOVE_TO_LINE_TO,d,h];this.instructions.push(p),this.hitDetectionInstructions.push(p),s&&(this.instructions.push(i.b),this.hitDetectionInstructions.push(i.b)),t=u}return a&&(this.instructions.push(i.d),this.hitDetectionInstructions.push(i.d)),s&&(this.instructions.push(i.e),this.hitDetectionInstructions.push(i.e)),t},t.prototype.drawCircle=function(e,t){var o=this.state,n=o.fillStyle,r=o.strokeStyle;if(void 0!==n||void 0!==r){this.setFillStrokeStyles_(),this.beginGeometry(e,t),void 0!==o.fillStyle&&this.hitDetectionInstructions.push([i.c.SET_FILL_STYLE,a.b]),void 0!==o.strokeStyle&&this.hitDetectionInstructions.push([i.c.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,o.lineDashOffset]);var s=e.getFlatCoordinates(),l=e.getStride(),c=this.coordinates.length;this.appendFlatLineCoordinates(s,0,s.length,l,!1,!1);var u=[i.c.CIRCLE,c];this.instructions.push(i.a,u),this.hitDetectionInstructions.push(i.a,u),void 0!==o.fillStyle&&(this.instructions.push(i.d),this.hitDetectionInstructions.push(i.d)),void 0!==o.strokeStyle&&(this.instructions.push(i.e),this.hitDetectionInstructions.push(i.e)),this.endGeometry(t)}},t.prototype.drawPolygon=function(e,t){var o=this.state,n=o.fillStyle,r=o.strokeStyle;if(void 0!==n||void 0!==r){this.setFillStrokeStyles_(),this.beginGeometry(e,t),void 0!==o.fillStyle&&this.hitDetectionInstructions.push([i.c.SET_FILL_STYLE,a.b]),void 0!==o.strokeStyle&&this.hitDetectionInstructions.push([i.c.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,o.lineDashOffset]);var s=e.getEnds(),l=e.getOrientedFlatCoordinates(),c=e.getStride();this.drawFlatCoordinatess_(l,0,s,c),this.endGeometry(t)}},t.prototype.drawMultiPolygon=function(e,t){var o=this.state,n=o.fillStyle,r=o.strokeStyle;if(void 0!==n||void 0!==r){this.setFillStrokeStyles_(),this.beginGeometry(e,t),void 0!==o.fillStyle&&this.hitDetectionInstructions.push([i.c.SET_FILL_STYLE,a.b]),void 0!==o.strokeStyle&&this.hitDetectionInstructions.push([i.c.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,o.lineDashOffset]);for(var s=e.getEndss(),l=e.getOrientedFlatCoordinates(),c=e.getStride(),u=0,d=0,h=s.length;d<h;++d)u=this.drawFlatCoordinatess_(l,u,s[d],c);this.endGeometry(t)}},t.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var t=this.tolerance;if(0!==t)for(var o=this.coordinates,n=0,r=o.length;n<r;++n)o[n]=Object(s.i)(o[n],t);return e.prototype.finish.call(this)},t.prototype.setFillStrokeStyles_=function(){var e=this.state;void 0!==e.fillStyle&&this.updateFillStyle(e,this.createFill),void 0!==e.strokeStyle&&this.updateStrokeStyle(e,this.applyStroke)},t}(r.a);t.a=c},"./node_modules/ol/render/canvas/TextBuilder.js":function(e,t,o){"use strict";o.d(t,"a",(function(){return f}));var n,r=o("./node_modules/ol/render/canvas/Builder.js"),i=o("./node_modules/ol/render/canvas/Instruction.js"),a=o("./node_modules/ol/geom/GeometryType.js"),s=o("./node_modules/ol/style/TextPlacement.js"),l=o("./node_modules/ol/colorlike.js"),c=o("./node_modules/ol/render/canvas.js"),u=o("./node_modules/ol/util.js"),d=o("./node_modules/ol/extent.js"),h=o("./node_modules/ol/geom/flat/straightchunk.js"),p=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),f={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},g=function(e){function t(t,o,n,r){var i=e.call(this,t,o,n,r)||this;return i.labels_=null,i.text_="",i.textOffsetX_=0,i.textOffsetY_=0,i.textRotateWithView_=void 0,i.textRotation_=0,i.textFillState_=null,i.fillStates={},i.textStrokeState_=null,i.strokeStates={},i.textState_={},i.textStates={},i.textKey_="",i.fillKey_="",i.strokeKey_="",i.declutterImageWithText_=void 0,i}return p(t,e),t.prototype.finish=function(){var t=e.prototype.finish.call(this);return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t},t.prototype.drawText=function(e,t){var o=this.textFillState_,n=this.textStrokeState_,r=this.textState_;if(""!==this.text_&&r&&(o||n)){var l=this.coordinates,u=l.length,p=e.getType(),f=null,g=e.getStride();if(r.placement!==s.a.LINE||p!=a.a.LINE_STRING&&p!=a.a.MULTI_LINE_STRING&&p!=a.a.POLYGON&&p!=a.a.MULTI_POLYGON){var m=r.overflow?null:[];switch(p){case a.a.POINT:case a.a.MULTI_POINT:f=e.getFlatCoordinates();break;case a.a.LINE_STRING:f=e.getFlatMidpoint();break;case a.a.CIRCLE:f=e.getCenter();break;case a.a.MULTI_LINE_STRING:f=e.getFlatMidpoints(),g=2;break;case a.a.POLYGON:f=e.getFlatInteriorPoint(),r.overflow||m.push(f[2]/this.resolution),g=3;break;case a.a.MULTI_POLYGON:var y=e.getFlatInteriorPoints();f=[];for(x=0,j=y.length;x<j;x+=3)r.overflow||m.push(y[x+2]/this.resolution),f.push(y[x],y[x+1]);if(0===f.length)return;g=2}if((G=this.appendFlatPointCoordinates(f,g))===u)return;if(m&&(G-u)/2!=f.length/g){var v=u/2;m=m.filter((function(e,t){var o=l[2*(v+t)]===f[t*g]&&l[2*(v+t)+1]===f[t*g+1];return o||--v,o}))}this.saveTextStates_(),(r.backgroundFill||r.backgroundStroke)&&(this.setFillStrokeStyle(r.backgroundFill,r.backgroundStroke),r.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),r.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(e,t);var _=r.padding;if(_!=c.j&&(r.scale[0]<0||r.scale[1]<0)){var b=r.padding[0],A=r.padding[1],C=r.padding[2],w=r.padding[3];r.scale[0]<0&&(A=-A,w=-w),r.scale[1]<0&&(b=-b,C=-C),_=[b,A,C,w]}var E=this.pixelRatio;this.instructions.push([i.c.DRAW_IMAGE,u,G,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterImageWithText_,_==c.j?c.j:_.map((function(e){return e*E})),!!r.backgroundFill,!!r.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,m]);var I=1/E;this.hitDetectionInstructions.push([i.c.DRAW_IMAGE,u,G,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[I,I],NaN,this.declutterImageWithText_,_,!!r.backgroundFill,!!r.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,m]),this.endGeometry(t)}else{if(!Object(d.O)(this.getBufferedMaxExtent(),e.getExtent()))return;var O=void 0;if(f=e.getFlatCoordinates(),p==a.a.LINE_STRING)O=[f.length];else if(p==a.a.MULTI_LINE_STRING)O=e.getEnds();else if(p==a.a.POLYGON)O=e.getEnds().slice(0,1);else if(p==a.a.MULTI_POLYGON){var S=e.getEndss();O=[];for(var x=0,j=S.length;x<j;++x)O.push(S[x][0])}this.beginGeometry(e,t);for(var P=r.textAlign,T=0,M=void 0,R=0,L=O.length;R<L;++R){if(null==P){var k=Object(h.a)(r.maxAngle,f,T,O[R],g);T=k[0],M=k[1]}else M=O[R];for(var x=T;x<M;x+=g)l.push(f[x],f[x+1]);var G=l.length;T=O[R],this.drawChars_(u,G),u=G}this.endGeometry(t)}}},t.prototype.saveTextStates_=function(){var e=this.textStrokeState_,t=this.textState_,o=this.textFillState_,n=this.strokeKey_;e&&(n in this.strokeStates||(this.strokeStates[n]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));var r=this.textKey_;r in this.textStates||(this.textStates[r]={font:t.font,textAlign:t.textAlign||c.l,textBaseline:t.textBaseline||c.m,scale:t.scale});var i=this.fillKey_;o&&(i in this.fillStates||(this.fillStates[i]={fillStyle:o.fillStyle}))},t.prototype.drawChars_=function(e,t){var o=this.textStrokeState_,n=this.textState_,r=this.strokeKey_,a=this.textKey_,s=this.fillKey_;this.saveTextStates_();var l=this.pixelRatio,c=f[n.textBaseline],u=this.textOffsetY_*l,d=this.text_,h=o?o.lineWidth*Math.abs(n.scale[0])/2:0;this.instructions.push([i.c.DRAW_CHARS,e,t,c,n.overflow,s,n.maxAngle,l,u,r,h*l,d,a,1]),this.hitDetectionInstructions.push([i.c.DRAW_CHARS,e,t,c,n.overflow,s,n.maxAngle,1,u,r,h,d,a,1/l])},t.prototype.setTextStyle=function(e,t){var o,n,r;if(e){var i=e.getFill();i?((n=this.textFillState_)||(n={},this.textFillState_=n),n.fillStyle=Object(l.a)(i.getColor()||c.b)):(n=null,this.textFillState_=n);var a=e.getStroke();if(a){(r=this.textStrokeState_)||(r={},this.textStrokeState_=r);var s=a.getLineDash(),d=a.getLineDashOffset(),h=a.getWidth(),p=a.getMiterLimit();r.lineCap=a.getLineCap()||c.d,r.lineDash=s?s.slice():c.e,r.lineDashOffset=void 0===d?c.f:d,r.lineJoin=a.getLineJoin()||c.g,r.lineWidth=void 0===h?c.h:h,r.miterLimit=void 0===p?c.i:p,r.strokeStyle=Object(l.a)(a.getColor()||c.k)}else r=null,this.textStrokeState_=r;o=this.textState_;var f=e.getFont()||c.c;Object(c.t)(f);var g=e.getScaleArray();o.overflow=e.getOverflow(),o.font=f,o.maxAngle=e.getMaxAngle(),o.placement=e.getPlacement(),o.textAlign=e.getTextAlign(),o.textBaseline=e.getTextBaseline()||c.m,o.backgroundFill=e.getBackgroundFill(),o.backgroundStroke=e.getBackgroundStroke(),o.padding=e.getPadding()||c.j,o.scale=void 0===g?[1,1]:g;var m=e.getOffsetX(),y=e.getOffsetY(),v=e.getRotateWithView(),_=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=void 0===m?0:m,this.textOffsetY_=void 0===y?0:y,this.textRotateWithView_=void 0!==v&&v,this.textRotation_=void 0===_?0:_,this.strokeKey_=r?("string"==typeof r.strokeStyle?r.strokeStyle:Object(u.c)(r.strokeStyle))+r.lineCap+r.lineDashOffset+"|"+r.lineWidth+r.lineJoin+r.miterLimit+"["+r.lineDash.join()+"]":"",this.textKey_=o.font+o.scale+(o.textAlign||"?")+(o.textBaseline||"?"),this.fillKey_=n?"string"==typeof n.fillStyle?n.fillStyle:"|"+Object(u.c)(n.fillStyle):""}else this.text_="";this.declutterImageWithText_=t},t}(r.a);t.b=g},"./node_modules/ol/render/canvas/hitdetect.js":function(e,t,o){"use strict";o.d(t,"a",(function(){return d})),o.d(t,"b",(function(){return h})),o.d(t,"c",(function(){return p}));var n=o("./node_modules/ol/render/canvas/Immediate.js"),r=o("./node_modules/ol/geom/GeometryType.js"),i=o("./node_modules/ol/style/IconAnchorUnits.js"),a=o("./node_modules/ol/style/Icon.js"),s=o("./node_modules/ol/math.js"),l=o("./node_modules/ol/dom.js"),c=o("./node_modules/ol/extent.js"),u=o("./node_modules/ol/array.js"),d=.5;function h(e,t,o,s,h,p,f){var g=e[0]*d,m=e[1]*d,y=Object(l.a)(g,m);y.imageSmoothingEnabled=!1;for(var v=y.canvas,_=new n.a(y,d,h,null,f),b=o.length,A=Math.floor(16777215/b),C={},w=1;w<=b;++w){var E=o[w-1],I=E.getStyleFunction()||s;if(s){var O=I(E,p);if(O){Array.isArray(O)||(O=[O]);for(var S="#"+("000000"+(w*A).toString(16)).slice(-6),x=0,j=O.length;x<j;++x){var P=O[x],T=P.getGeometryFunction()(E);if(T&&Object(c.O)(h,T.getExtent())){var M=P.clone(),R=M.getFill();R&&R.setColor(S);var L=M.getStroke();L&&(L.setColor(S),L.setLineDash(null)),M.setText(void 0);var k=P.getImage();if(k&&0!==k.getOpacity()){var G=k.getImageSize();if(!G)continue;var D=Object(l.a)(G[0],G[1],void 0,{alpha:!1}),N=D.canvas;D.fillStyle=S,D.fillRect(0,0,N.width,N.height),M.setImage(new a.a({img:N,imgSize:G,anchor:k.getAnchor(),anchorXUnits:i.a.PIXELS,anchorYUnits:i.a.PIXELS,offset:k.getOrigin(),opacity:1,size:k.getSize(),scale:k.getScale(),rotation:k.getRotation(),rotateWithView:k.getRotateWithView()}))}var F=M.getZIndex()||0;(z=C[F])||(z={},C[F]=z,z[r.a.POLYGON]=[],z[r.a.CIRCLE]=[],z[r.a.LINE_STRING]=[],z[r.a.POINT]=[]),z[T.getType().replace("Multi","")].push(T,M)}}}}}for(var U=Object.keys(C).map(Number).sort(u.i),B=(w=0,U.length);w<B;++w){var z=C[U[w]];for(var V in z){var W=z[V];for(x=0,j=W.length;x<j;x+=2){_.setStyle(W[x+1]);for(var q=0,Y=t.length;q<Y;++q)_.setTransform(t[q]),_.drawGeometry(W[x])}}}return y.getImageData(0,0,v.width,v.height)}function p(e,t,o){var n=[];if(o){var r=Math.floor(Math.round(e[0])*d),i=Math.floor(Math.round(e[1])*d),a=4*(Object(s.a)(r,0,o.width-1)+Object(s.a)(i,0,o.height-1)*o.width),l=o.data[a],c=o.data[a+1],u=o.data[a+2]+256*(c+256*l),h=Math.floor(16777215/t.length);u&&u%h==0&&n.push(t[u/h-1])}return n}},"./node_modules/ol/renderer/Composite.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/renderer/Map.js"),i=o("./node_modules/ol/ObjectEventType.js"),a=o("./node_modules/ol/render/Event.js"),s=o("./node_modules/ol/render/EventType.js"),l=o("./node_modules/ol/source/State.js"),c=o("./node_modules/ol/css.js"),u=o("./node_modules/ol/render/canvas.js"),d=o("./node_modules/ol/layer/Layer.js"),h=o("./node_modules/ol/events.js"),p=o("./node_modules/ol/dom.js"),f=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),g=function(e){function t(t){var o=e.call(this,t)||this;o.fontChangeListenerKey_=Object(h.a)(u.a,i.a.PROPERTYCHANGE,t.redrawText.bind(t)),o.element_=document.createElement("div");var n=o.element_.style;n.position="absolute",n.width="100%",n.height="100%",n.zIndex="0",o.element_.className=c.e+" ol-layers";var r=t.getViewport();return r.insertBefore(o.element_,r.firstChild||null),o.children_=[],o.renderedVisible_=!0,o}return f(t,e),t.prototype.dispatchRenderEvent=function(e,t){var o=this.getMap();if(o.hasListener(e)){var n=new a.a(e,void 0,t);o.dispatchEvent(n)}},t.prototype.disposeInternal=function(){Object(h.c)(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),e.prototype.disposeInternal.call(this)},t.prototype.renderFrame=function(e){if(e){this.calculateMatrices2D(e),this.dispatchRenderEvent(s.a.PRECOMPOSE,e);var t=e.layerStatesArray.sort((function(e,t){return e.zIndex-t.zIndex})),o=e.viewState;this.children_.length=0;for(var n=[],r=null,i=0,a=t.length;i<a;++i){var c=t[i];if(e.layerIndex=i,Object(d.b)(c,o)&&(c.sourceState==l.a.READY||c.sourceState==l.a.UNDEFINED)){var u=c.layer,h=u.render(e,r);h&&(h!==r&&(this.children_.push(h),r=h),"getDeclutter"in u&&n.push(u))}}for(i=n.length-1;i>=0;--i)n[i].renderDeclutter(e);Object(p.f)(this.element_,this.children_),this.dispatchRenderEvent(s.a.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)},t.prototype.forEachLayerAtPixel=function(e,t,o,n,r){for(var i=t.viewState,a=t.layerStatesArray,s=a.length-1;s>=0;--s){var l=a[s],c=l.layer;if(c.hasRenderer()&&Object(d.b)(l,i)&&r(c)){var u=c.getRenderer().getDataAtPixel(e,t,o);if(u){var h=n(c,u);if(h)return h}}}},t}(r.a);t.a=g},"./node_modules/ol/renderer/Layer.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/events/EventType.js"),i=o("./node_modules/ol/ImageState.js"),a=o("./node_modules/ol/Observable.js"),s=o("./node_modules/ol/source/State.js"),l=o("./node_modules/ol/util.js"),c=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),u=function(e){function t(t){var o=e.call(this)||this;return o.boundHandleImageChange_=o.handleImageChange_.bind(o),o.layer_=t,o.declutterExecutorGroup=null,o}return c(t,e),t.prototype.getFeatures=function(e){return Object(l.b)()},t.prototype.prepareFrame=function(e){return Object(l.b)()},t.prototype.renderFrame=function(e,t){return Object(l.b)()},t.prototype.loadedTileCallback=function(e,t,o){e[t]||(e[t]={}),e[t][o.tileCoord.toString()]=o},t.prototype.createLoadedTileFinder=function(e,t,o){return function(n,r){var i=this.loadedTileCallback.bind(this,o,n);return e.forEachLoadedTile(t,n,r,i)}.bind(this)},t.prototype.forEachFeatureAtCoordinate=function(e,t,o,n,r){},t.prototype.getDataAtPixel=function(e,t,o){return null},t.prototype.getLayer=function(){return this.layer_},t.prototype.handleFontsChanged=function(){},t.prototype.handleImageChange_=function(e){e.target.getState()===i.a.LOADED&&this.renderIfReadyAndVisible()},t.prototype.loadImage=function(e){var t=e.getState();return t!=i.a.LOADED&&t!=i.a.ERROR&&e.addEventListener(r.a.CHANGE,this.boundHandleImageChange_),t==i.a.IDLE&&(e.load(),t=e.getState()),t==i.a.LOADED},t.prototype.renderIfReadyAndVisible=function(){var e=this.getLayer();e.getVisible()&&e.getSourceState()==s.a.READY&&e.changed()},t}(a.a);t.a=u},"./node_modules/ol/renderer/Map.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/Disposable.js"),i=o("./node_modules/ol/functions.js"),a=o("./node_modules/ol/util.js"),s=o("./node_modules/ol/transform.js"),l=o("./node_modules/ol/extent.js"),c=o("./node_modules/ol/style/IconImageCache.js"),u=o("./node_modules/ol/layer/Layer.js"),d=o("./node_modules/ol/coordinate.js"),h=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),p=function(e){function t(t){var o=e.call(this)||this;return o.map_=t,o}return h(t,e),t.prototype.dispatchRenderEvent=function(e,t){Object(a.b)()},t.prototype.calculateMatrices2D=function(e){var t=e.viewState,o=e.coordinateToPixelTransform,n=e.pixelToCoordinateTransform;Object(s.b)(o,e.size[0]/2,e.size[1]/2,1/t.resolution,-1/t.resolution,-t.rotation,-t.center[0],-t.center[1]),Object(s.g)(n,o)},t.prototype.forEachFeatureAtCoordinate=function(e,t,o,n,r,i,a,s){var c,h=t.viewState;function p(e,t,o,n){return r.call(i,t,e?o:null,n)}var f=h.projection,g=Object(d.p)(e.slice(),f),m=[[0,0]];if(f.canWrapX()&&n){var y=f.getExtent(),v=Object(l.N)(y);m.push([-v,0],[v,0])}for(var _=t.layerStatesArray,b=_.length,A=[],C=[],w=0;w<m.length;w++)for(var E=b-1;E>=0;--E){var I=_[E],O=I.layer;if(O.hasRenderer()&&Object(u.b)(I,h)&&a.call(s,O)){var S=O.getRenderer(),x=O.getSource();if(S&&x){var j=x.getWrapX()?g:e,P=p.bind(null,I.managed);C[0]=j[0]+m[w][0],C[1]=j[1]+m[w][1],c=S.forEachFeatureAtCoordinate(C,t,o,P,A)}if(c)return c}}if(0!==A.length){var T=1/A.length;return A.forEach((function(e,t){return e.distanceSq+=t*T})),A.sort((function(e,t){return e.distanceSq-t.distanceSq})),A.some((function(e){return c=e.callback(e.feature,e.layer,e.geometry)})),c}},t.prototype.forEachLayerAtPixel=function(e,t,o,n,r){return Object(a.b)()},t.prototype.hasFeatureAtCoordinate=function(e,t,o,n,r,a){return void 0!==this.forEachFeatureAtCoordinate(e,t,o,n,i.b,this,r,a)},t.prototype.getMap=function(){return this.map_},t.prototype.renderFrame=function(e){Object(a.b)()},t.prototype.scheduleExpireIconCache=function(e){c.b.canExpireCache()&&e.postRenderFunctions.push(f)},t}(r.a);function f(e,t){c.b.expire()}t.a=p},"./node_modules/ol/renderer/canvas/ImageLayer.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/renderer/canvas/Layer.js"),i=o("./node_modules/ol/ViewHint.js"),a=o("./node_modules/ol/reproj/common.js"),s=o("./node_modules/ol/obj.js"),l=o("./node_modules/ol/transform.js"),c=o("./node_modules/ol/extent.js"),u=o("./node_modules/ol/proj.js"),d=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),h=function(e){function t(t){var o=e.call(this,t)||this;return o.image_=null,o}return d(t,e),t.prototype.getImage=function(){return this.image_?this.image_.getImage():null},t.prototype.prepareFrame=function(e){var t=e.layerStatesArray[e.layerIndex],o=e.pixelRatio,n=e.viewState,r=n.resolution,s=this.getLayer().getSource(),l=e.viewHints,d=e.extent;if(void 0!==t.extent&&(d=Object(c.H)(d,Object(u.r)(t.extent,n.projection))),!l[i.a.ANIMATING]&&!l[i.a.INTERACTING]&&!Object(c.Q)(d))if(s){var h=n.projection;if(!a.a){var p=s.getProjection();p&&(h=p)}var f=s.getImage(d,r,o,h);f&&this.loadImage(f)&&(this.image_=f)}else this.image_=null;return!!this.image_},t.prototype.renderFrame=function(e,t){var o=this.image_,n=o.getExtent(),r=o.getResolution(),i=o.getPixelRatio(),a=e.layerStatesArray[e.layerIndex],d=e.pixelRatio,h=e.viewState,p=h.center,f=h.resolution,g=e.size,m=d*r/(f*i),y=Math.round(g[0]*d),v=Math.round(g[1]*d),_=h.rotation;if(_){var b=Math.round(Math.sqrt(y*y+v*v));y=b,v=b}Object(l.b)(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/d,1/d,_,-y/2,-v/2),Object(l.g)(this.inversePixelTransform,this.pixelTransform);var A=Object(l.o)(this.pixelTransform);this.useContainer(t,A,a.opacity);var C=this.context,w=C.canvas;w.width!=y||w.height!=v?(w.width=y,w.height=v):this.containerReused||C.clearRect(0,0,y,v);var E=!1,I=!0;if(a.extent){var O=Object(u.r)(a.extent,h.projection);(E=(I=Object(c.O)(O,e.extent))&&!Object(c.h)(O,e.extent))&&this.clipUnrotated(C,e,O)}var S=o.getImage(),x=Object(l.b)(this.tempTransform,y/2,v/2,m,m,0,i*(n[0]-p[0])/r,i*(p[1]-n[3])/r);this.renderedResolution=r*d/i;var j=S.width*x[0],P=S.height*x[3];if(Object(s.a)(C,this.getLayer().getSource().getContextOptions()),this.preRender(C,e),I&&j>=.5&&P>=.5){var T=x[4],M=x[5],R=a.opacity,L=void 0;1!==R&&(L=C.globalAlpha,C.globalAlpha=R),C.drawImage(S,0,0,+S.width,+S.height,Math.round(T),Math.round(M),Math.round(j),Math.round(P)),1!==R&&(C.globalAlpha=L)}return this.postRender(C,e),E&&C.restore(),A!==w.style.transform&&(w.style.transform=A),this.container},t}(r.a);t.a=h},"./node_modules/ol/renderer/canvas/Layer.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/renderer/Layer.js"),i=o("./node_modules/ol/render/Event.js"),a=o("./node_modules/ol/render/EventType.js"),s=o("./node_modules/ol/transform.js"),l=o("./node_modules/ol/extent.js"),c=o("./node_modules/ol/dom.js"),u=o("./node_modules/ol/css.js"),d=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),h=function(e){function t(t){var o=e.call(this,t)||this;return o.container=null,o.renderedResolution,o.tempTransform=Object(s.d)(),o.pixelTransform=Object(s.d)(),o.inversePixelTransform=Object(s.d)(),o.context=null,o.containerReused=!1,o}return d(t,e),t.prototype.useContainer=function(e,t,o){var n,r,i=this.getLayer().getClassName();e&&e.style.opacity===Object(u.g)(o)&&e.className===i&&((s=e.firstElementChild)instanceof HTMLCanvasElement&&(r=s.getContext("2d")));if(r&&r.canvas.style.transform===t?(this.container=e,this.context=r,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){(n=document.createElement("div")).className=i;var a=n.style;a.position="absolute",a.width="100%",a.height="100%";var s=(r=Object(c.a)()).canvas;n.appendChild(s),(a=s.style).position="absolute",a.left="0",a.transformOrigin="top left",this.container=n,this.context=r}},t.prototype.clipUnrotated=function(e,t,o){var n=Object(l.L)(o),r=Object(l.M)(o),i=Object(l.B)(o),a=Object(l.A)(o);Object(s.a)(t.coordinateToPixelTransform,n),Object(s.a)(t.coordinateToPixelTransform,r),Object(s.a)(t.coordinateToPixelTransform,i),Object(s.a)(t.coordinateToPixelTransform,a);var c=this.inversePixelTransform;Object(s.a)(c,n),Object(s.a)(c,r),Object(s.a)(c,i),Object(s.a)(c,a),e.save(),e.beginPath(),e.moveTo(Math.round(n[0]),Math.round(n[1])),e.lineTo(Math.round(r[0]),Math.round(r[1])),e.lineTo(Math.round(i[0]),Math.round(i[1])),e.lineTo(Math.round(a[0]),Math.round(a[1])),e.clip()},t.prototype.dispatchRenderEvent_=function(e,t,o){var n=this.getLayer();if(n.hasListener(e)){var r=new i.a(e,this.inversePixelTransform,o,t);n.dispatchEvent(r)}},t.prototype.preRender=function(e,t){this.dispatchRenderEvent_(a.a.PRERENDER,e,t)},t.prototype.postRender=function(e,t){this.dispatchRenderEvent_(a.a.POSTRENDER,e,t)},t.prototype.getRenderTransform=function(e,t,o,n,r,i,a){var l=r/2,c=i/2,u=n/t,d=-u,h=-e[0]+a,p=-e[1];return Object(s.b)(this.tempTransform,l,c,u,d,-o,h,p)},t.prototype.getDataAtPixel=function(e,t,o){var n,r=Object(s.a)(this.inversePixelTransform,e.slice()),i=this.context,a=this.getLayer().getExtent();if(a){var c=Object(s.a)(t.pixelToCoordinateTransform,e.slice());if(!Object(l.g)(a,c))return null}try{var u=Math.round(r[0]),d=Math.round(r[1]),h=document.createElement("canvas"),p=h.getContext("2d");h.width=1,h.height=1,p.clearRect(0,0,1,1),p.drawImage(i.canvas,u,d,1,1,0,0,1,1),n=p.getImageData(0,0,1,1).data}catch(e){return"SecurityError"===e.name?new Uint8Array:n}return 0===n[3]?null:n},t}(r.a);t.a=h},"./node_modules/ol/renderer/canvas/TileLayer.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/renderer/canvas/Layer.js"),i=o("./node_modules/ol/TileRange.js"),a=o("./node_modules/ol/TileState.js"),s=o("./node_modules/ol/transform.js"),l=o("./node_modules/ol/obj.js"),c=o("./node_modules/ol/extent.js"),u=o("./node_modules/ol/css.js"),d=o("./node_modules/ol/proj.js"),h=o("./node_modules/ol/util.js"),p=o("./node_modules/ol/array.js"),f=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),g=function(e){function t(t){var o=e.call(this,t)||this;return o.extentChanged=!0,o.renderedExtent_=null,o.renderedPixelRatio,o.renderedProjection=null,o.renderedRevision,o.renderedTiles=[],o.newTiles_=!1,o.tmpExtent=Object(c.k)(),o.tmpTileRange_=new i.b(0,0,0,0),o}return f(t,e),t.prototype.isDrawableTile=function(e){var t=this.getLayer(),o=e.getState(),n=t.getUseInterimTilesOnError();return o==a.a.LOADED||o==a.a.EMPTY||o==a.a.ERROR&&!n},t.prototype.getTile=function(e,t,o,n){var r=n.pixelRatio,i=n.viewState.projection,s=this.getLayer(),l=s.getSource().getTile(e,t,o,r,i);return l.getState()==a.a.ERROR&&(s.getUseInterimTilesOnError()?s.getPreload()>0&&(this.newTiles_=!0):l.setState(a.a.LOADED)),this.isDrawableTile(l)||(l=l.getInterimTile()),l},t.prototype.loadedTileCallback=function(t,o,n){return!!this.isDrawableTile(n)&&e.prototype.loadedTileCallback.call(this,t,o,n)},t.prototype.prepareFrame=function(e){return!!this.getLayer().getSource()},t.prototype.renderFrame=function(e,t){var o=e.layerStatesArray[e.layerIndex],n=e.viewState,r=n.projection,i=n.resolution,f=n.center,g=n.rotation,m=e.pixelRatio,y=this.getLayer(),v=y.getSource(),_=v.getRevision(),b=v.getTileGridForProjection(r),A=b.getZForResolution(i,v.zDirection),C=b.getResolution(A),w=e.extent,E=o.extent&&Object(d.r)(o.extent,r);E&&(w=Object(c.H)(w,Object(d.r)(o.extent,r)));var I=v.getTilePixelRatio(m),O=Math.round(e.size[0]*I),S=Math.round(e.size[1]*I);if(g){var x=Math.round(Math.sqrt(O*O+S*S));O=x,S=x}var j=C*O/2/I,P=C*S/2/I,T=[f[0]-j,f[1]-P,f[0]+j,f[1]+P],M=b.getTileRangeForExtentAndZ(w,A),R={};R[A]={};var L=this.createLoadedTileFinder(v,r,R),k=this.tmpExtent,G=this.tmpTileRange_;this.newTiles_=!1;for(var D=M.minX;D<=M.maxX;++D)for(var N=M.minY;N<=M.maxY;++N){var F=this.getTile(A,D,N,e);if(this.isDrawableTile(F)){var U=Object(h.c)(this);if(F.getState()==a.a.LOADED){R[A][F.tileCoord.toString()]=F;var B=F.inTransition(U);this.newTiles_||!B&&-1!==this.renderedTiles.indexOf(F)||(this.newTiles_=!0)}if(1===F.getAlpha(U,e.time))continue}var z=b.getTileCoordChildTileRange(F.tileCoord,G,k),V=!1;z&&(V=L(A+1,z)),V||b.forEachTileCoordParentTileRange(F.tileCoord,L,G,k)}var W=C/i;Object(s.b)(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/I,1/I,g,-O/2,-S/2);var q=Object(s.o)(this.pixelTransform);this.useContainer(t,q,o.opacity);var Y=this.context,H=Y.canvas;Object(s.g)(this.inversePixelTransform,this.pixelTransform),Object(s.b)(this.tempTransform,O/2,S/2,W,W,0,-O/2,-S/2),H.width!=O||H.height!=S?(H.width=O,H.height=S):this.containerReused||Y.clearRect(0,0,O,S),E&&this.clipUnrotated(Y,e,E),Object(l.a)(Y,v.getContextOptions()),this.preRender(Y,e),this.renderedTiles.length=0;var X,Z,K,J=Object.keys(R).map(Number);J.sort(p.i),1!==o.opacity||this.containerReused&&!v.getOpaque(e.viewState.projection)?(X=[],Z=[]):J=J.reverse();for(var Q=J.length-1;Q>=0;--Q){var $=J[Q],ee=v.getTilePixelSize($,m,r),te=b.getResolution($)/C,oe=ee[0]*te*W,ne=ee[1]*te*W,re=b.getTileCoordForCoordAndZ(Object(c.L)(T),$),ie=b.getTileCoordExtent(re),ae=Object(s.a)(this.tempTransform,[I*(ie[0]-T[0])/C,I*(T[3]-ie[3])/C]),se=I*v.getGutterForProjection(r),le=R[$];for(var ce in le){var ue=(F=le[ce]).tileCoord,de=re[1]-ue[1],he=Math.round(ae[0]-(de-1)*oe),pe=re[2]-ue[2],fe=Math.round(ae[1]-(pe-1)*ne),ge=he-(D=Math.round(ae[0]-de*oe)),me=fe-(N=Math.round(ae[1]-pe*ne)),ye=A===$;if(!(B=ye&&1!==F.getAlpha(Object(h.c)(this),e.time)))if(X){Y.save(),K=[D,N,D+ge,N,D+ge,N+me,D,N+me];for(var ve=0,_e=X.length;ve<_e;++ve)if(A!==$&&$<Z[ve]){var be=X[ve];Y.beginPath(),Y.moveTo(K[0],K[1]),Y.lineTo(K[2],K[3]),Y.lineTo(K[4],K[5]),Y.lineTo(K[6],K[7]),Y.moveTo(be[6],be[7]),Y.lineTo(be[4],be[5]),Y.lineTo(be[2],be[3]),Y.lineTo(be[0],be[1]),Y.clip()}X.push(K),Z.push($)}else Y.clearRect(D,N,ge,me);this.drawTileImage(F,e,D,N,ge,me,se,ye),X&&!B?(Y.restore(),this.renderedTiles.unshift(F)):this.renderedTiles.push(F),this.updateUsedTiles(e.usedTiles,v,F)}}this.renderedRevision=_,this.renderedResolution=C,this.extentChanged=!this.renderedExtent_||!Object(c.r)(this.renderedExtent_,T),this.renderedExtent_=T,this.renderedPixelRatio=m,this.renderedProjection=r,this.manageTilePyramid(e,v,b,m,r,w,A,y.getPreload()),this.scheduleExpireCache(e,v),this.postRender(Y,e),o.extent&&Y.restore(),q!==H.style.transform&&(H.style.transform=q);var Ae=Object(u.g)(o.opacity),Ce=this.container;return Ae!==Ce.style.opacity&&(Ce.style.opacity=Ae),this.container},t.prototype.drawTileImage=function(e,t,o,n,r,i,a,s){var l=this.getTileImage(e);if(l){var c=Object(h.c)(this),u=s?e.getAlpha(c,t.time):1,d=u!==this.context.globalAlpha;d&&(this.context.save(),this.context.globalAlpha=u),this.context.drawImage(l,a,a,l.width-2*a,l.height-2*a,o,n,r,i),d&&this.context.restore(),1!==u?t.animate=!0:s&&e.endTransition(c)}},t.prototype.getImage=function(){var e=this.context;return e?e.canvas:null},t.prototype.getTileImage=function(e){return e.getImage()},t.prototype.scheduleExpireCache=function(e,t){if(t.canExpireCache()){var o=function(e,t,o){var n=Object(h.c)(e);n in o.usedTiles&&e.expireCache(o.viewState.projection,o.usedTiles[n])}.bind(null,t);e.postRenderFunctions.push(o)}},t.prototype.updateUsedTiles=function(e,t,o){var n=Object(h.c)(t);n in e||(e[n]={}),e[n][o.getKey()]=!0},t.prototype.manageTilePyramid=function(e,t,o,n,r,i,s,l,c){var u=Object(h.c)(t);u in e.wantedTiles||(e.wantedTiles[u]={});var d,p,f,g,m,y,v=e.wantedTiles[u],_=e.tileQueue,b=0;for(y=o.getMinZoom();y<=s;++y)for(p=o.getTileRangeForExtentAndZ(i,y,p),f=o.getResolution(y),g=p.minX;g<=p.maxX;++g)for(m=p.minY;m<=p.maxY;++m)s-y<=l?(++b,(d=t.getTile(y,g,m,n,r)).getState()==a.a.IDLE&&(v[d.getKey()]=!0,_.isKeyQueued(d.getKey())||_.enqueue([d,u,o.getTileCoordCenter(d.tileCoord),f])),void 0!==c&&c(d)):t.useTile(y,g,m,r);t.updateCacheSize(b,r)},t}(r.a);g.prototype.getLayer,t.a=g},"./node_modules/ol/renderer/canvas/VectorLayer.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/render/canvas/BuilderGroup.js"),i=o("./node_modules/ol/renderer/canvas/Layer.js"),a=o("./node_modules/ol/render/canvas/ExecutorGroup.js"),s=o("./node_modules/ol/ViewHint.js"),l=o("./node_modules/ol/render/canvas/hitdetect.js"),c=o("./node_modules/ol/transform.js"),u=o("./node_modules/ol/extent.js"),d=o("./node_modules/ol/css.js"),h=o("./node_modules/ol/renderer/vector.js"),p=o("./node_modules/ol/array.js"),f=o("./node_modules/ol/proj.js"),g=o("./node_modules/ol/util.js"),m=o("./node_modules/ol/coordinate.js"),y=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),v=function(e){function t(t){var o=e.call(this,t)||this;return o.boundHandleStyleImageChange_=o.handleStyleImageChange_.bind(o),o.animatingOrInteracting_,o.dirty_=!1,o.hitDetectionImageData_=null,o.renderedFeatures_=null,o.renderedRevision_=-1,o.renderedResolution_=NaN,o.renderedExtent_=Object(u.k)(),o.wrappedRenderedExtent_=Object(u.k)(),o.renderedRotation_,o.renderedCenter_=null,o.renderedProjection_=null,o.renderedRenderOrder_=null,o.replayGroup_=null,o.replayGroupChanged=!0,o.declutterExecutorGroup=null,o.clipping=!0,o}return y(t,e),t.prototype.useContainer=function(t,o,n){n<1&&(t=null),e.prototype.useContainer.call(this,t,o,n)},t.prototype.renderWorlds=function(e,t,o){var n=t.extent,r=t.viewState,i=r.center,a=r.resolution,l=r.projection,c=r.rotation,d=l.getExtent(),h=this.getLayer().getSource(),p=t.pixelRatio,f=t.viewHints,g=!(f[s.a.ANIMATING]||f[s.a.INTERACTING]),m=this.context,y=Math.round(t.size[0]*p),v=Math.round(t.size[1]*p),_=h.getWrapX()&&l.canWrapX(),b=_?Object(u.N)(d):null,A=_?Math.ceil((n[2]-d[2])/b)+1:1,C=_?Math.floor((n[0]-d[0])/b):0;do{var w=this.getRenderTransform(i,a,c,p,y,v,C*b);e.execute(m,1,w,c,g,void 0,o)}while(++C<A)},t.prototype.renderDeclutter=function(e){this.declutterExecutorGroup&&this.renderWorlds(this.declutterExecutorGroup,e,e.declutterTree)},t.prototype.renderFrame=function(e,t){var o=e.pixelRatio,n=e.layerStatesArray[e.layerIndex];Object(c.h)(this.pixelTransform,1/o,1/o),Object(c.g)(this.inversePixelTransform,this.pixelTransform);var r=Object(c.o)(this.pixelTransform);this.useContainer(t,r,n.opacity);var i=this.context,a=i.canvas,s=this.replayGroup_,l=this.declutterExecutorGroup;if((!s||s.isEmpty())&&(!l||l.isEmpty()))return null;var h=Math.round(e.size[0]*o),p=Math.round(e.size[1]*o);a.width!=h||a.height!=p?(a.width=h,a.height=p,a.style.transform!==r&&(a.style.transform=r)):this.containerReused||i.clearRect(0,0,h,p),this.preRender(i,e);var g=e.viewState,m=g.projection,y=!1,v=!0;if(n.extent&&this.clipping){var _=Object(f.r)(n.extent,m);(y=(v=Object(u.O)(_,e.extent))&&!Object(u.h)(_,e.extent))&&this.clipUnrotated(i,e,_)}v&&this.renderWorlds(s,e),y&&i.restore(),this.postRender(i,e);var b=Object(d.g)(n.opacity),A=this.container;return b!==A.style.opacity&&(A.style.opacity=b),this.renderedRotation_!==g.rotation&&(this.renderedRotation_=g.rotation,this.hitDetectionImageData_=null),this.container},t.prototype.getFeatures=function(e){return new Promise(function(t){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var o=[this.context.canvas.width,this.context.canvas.height];Object(c.a)(this.pixelTransform,o);var n=this.renderedCenter_,r=this.renderedResolution_,i=this.renderedRotation_,a=this.renderedProjection_,s=this.wrappedRenderedExtent_,d=this.getLayer(),h=[],p=o[0]*l.a,f=o[1]*l.a;h.push(this.getRenderTransform(n,r,i,l.a,p,f,0).slice());var g=d.getSource(),m=a.getExtent();if(g.getWrapX()&&a.canWrapX()&&!Object(u.h)(m,s)){for(var y=s[0],v=Object(u.N)(m),_=0,b=void 0;y<m[0];)b=v*--_,h.push(this.getRenderTransform(n,r,i,l.a,p,f,b).slice()),y+=v;for(_=0,y=s[2];y>m[2];)b=v*++_,h.push(this.getRenderTransform(n,r,i,l.a,p,f,b).slice()),y-=v}this.hitDetectionImageData_=Object(l.b)(o,h,this.renderedFeatures_,d.getStyleFunction(),s,r,i)}t(Object(l.c)(e,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))},t.prototype.forEachFeatureAtCoordinate=function(e,t,o,n,r){var i=this;if(this.replayGroup_){var a,s=t.viewState.resolution,l=t.viewState.rotation,c=this.getLayer(),u={},d=function(e,t,o){var i=Object(g.c)(e),a=u[i];if(a){if(!0!==a&&o<a.distanceSq){if(0===o)return u[i]=!0,r.splice(r.lastIndexOf(a),1),n(e,c,t);a.geometry=t,a.distanceSq=o}}else{if(0===o)return u[i]=!0,n(e,c,t);r.push(u[i]={feature:e,layer:c,geometry:t,distanceSq:o,callback:n})}},h=[this.replayGroup_];return this.declutterExecutorGroup&&h.push(this.declutterExecutorGroup),h.some((function(n){return a=n.forEachFeatureAtCoordinate(e,s,l,o,d,n===i.declutterExecutorGroup?t.declutterTree.all().map((function(e){return e.value})):null)})),a}},t.prototype.handleFontsChanged=function(){var e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()},t.prototype.handleStyleImageChange_=function(e){this.renderIfReadyAndVisible()},t.prototype.prepareFrame=function(e){var t=this.getLayer(),o=t.getSource();if(!o)return!1;var n=e.viewHints[s.a.ANIMATING],i=e.viewHints[s.a.INTERACTING],l=t.getUpdateWhileAnimating(),c=t.getUpdateWhileInteracting();if(!this.dirty_&&!l&&n||!c&&i)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var d=e.extent,g=e.viewState,y=g.projection,v=g.resolution,_=e.pixelRatio,b=t.getRevision(),A=t.getRenderBuffer(),C=t.getRenderOrder();void 0===C&&(C=h.a);var w=g.center.slice(),E=Object(u.d)(d,A*v),I=E.slice(),O=[E.slice()],S=y.getExtent();if(o.getWrapX()&&y.canWrapX()&&!Object(u.h)(S,e.extent)){var x=Object(u.N)(S),j=Math.max(Object(u.N)(E)/2,x);E[0]=S[0]-j,E[2]=S[2]+j,Object(m.p)(w,y);var P=Object(u.T)(O[0],y);P[0]<S[0]&&P[2]<S[2]?O.push([P[0]+x,P[1],P[2]+x,P[3]]):P[0]>S[0]&&P[2]>S[2]&&O.push([P[0]-x,P[1],P[2]-x,P[3]])}if(!this.dirty_&&this.renderedResolution_==v&&this.renderedRevision_==b&&this.renderedRenderOrder_==C&&Object(u.h)(this.wrappedRenderedExtent_,E))return Object(p.b)(this.renderedExtent_,I)||(this.hitDetectionImageData_=null,this.renderedExtent_=I),this.renderedCenter_=w,this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var T,M=new r.a(Object(h.c)(v,_),E,v,_);this.getLayer().getDeclutter()&&(T=new r.a(Object(h.c)(v,_),E,v,_));var R,L=Object(f.x)();if(L){for(var k=0,G=O.length;k<G;++k){var D=O[k],N=Object(f.C)(D,y);o.loadFeatures(N,Object(f.D)(v,y),L)}R=Object(f.w)(L,y)}else for(k=0,G=O.length;k<G;++k)o.loadFeatures(O[k],v,y);var F=Object(h.b)(v,_),U=function(e){var o,n=e.getStyleFunction()||t.getStyleFunction();if(n&&(o=n(e,v)),o){var r=this.renderFeature(e,F,o,M,R,T);this.dirty_=this.dirty_||r}}.bind(this),B=Object(f.C)(E,y),z=o.getFeaturesInExtent(B);C&&z.sort(C);for(k=0,G=z.length;k<G;++k)U(z[k]);this.renderedFeatures_=z;var V=M.finish(),W=new a.a(E,v,_,o.getOverlaps(),V,t.getRenderBuffer());return T&&(this.declutterExecutorGroup=new a.a(E,v,_,o.getOverlaps(),T.finish(),t.getRenderBuffer())),this.renderedResolution_=v,this.renderedRevision_=b,this.renderedRenderOrder_=C,this.renderedExtent_=I,this.wrappedRenderedExtent_=E,this.renderedCenter_=w,this.renderedProjection_=y,this.replayGroup_=W,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},t.prototype.renderFeature=function(e,t,o,n,r,i){if(!o)return!1;var a=!1;if(Array.isArray(o))for(var s=0,l=o.length;s<l;++s)a=Object(h.d)(n,e,o[s],t,this.boundHandleStyleImageChange_,r,i)||a;else a=Object(h.d)(n,e,o,t,this.boundHandleStyleImageChange_,r,i);return a},t}(i.a);t.a=v},"./node_modules/ol/renderer/canvas/VectorTileLayer.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/render/canvas/BuilderGroup.js"),i=o("./node_modules/ol/render/canvas/ExecutorGroup.js"),a=o("./node_modules/ol/renderer/canvas/TileLayer.js"),s=o("./node_modules/ol/render/canvas/BuilderType.js"),l=o("./node_modules/ol/TileState.js"),c=o("./node_modules/ol/layer/VectorTileRenderType.js"),u=o("./node_modules/ol/ViewHint.js"),d=o("./node_modules/ol/render/canvas/hitdetect.js"),h=o("./node_modules/ol/transform.js"),p=o("./node_modules/ol/extent.js"),f=o("./node_modules/ol/renderer/vector.js"),g=o("./node_modules/ol/util.js"),m=o("./node_modules/ol/size.js"),y=o("./node_modules/ol/coordinate.js"),v=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),_={image:[s.a.POLYGON,s.a.CIRCLE,s.a.LINE_STRING,s.a.IMAGE,s.a.TEXT],hybrid:[s.a.POLYGON,s.a.LINE_STRING],vector:[]},b={hybrid:[s.a.IMAGE,s.a.TEXT,s.a.DEFAULT],vector:[s.a.POLYGON,s.a.CIRCLE,s.a.LINE_STRING,s.a.IMAGE,s.a.TEXT,s.a.DEFAULT]},A=function(e){function t(t){var o=e.call(this,t)||this;return o.boundHandleStyleImageChange_=o.handleStyleImageChange_.bind(o),o.dirty_=!1,o.renderedLayerRevision_,o.renderedPixelToCoordinateTransform_=null,o.renderedRotation_,o.tmpTransform_=Object(h.d)(),o}return v(t,e),t.prototype.prepareTile=function(e,t,o){var n,r=e.getState();return r!==l.a.LOADED&&r!==l.a.ERROR||(this.updateExecutorGroup_(e,t,o),this.tileImageNeedsRender_(e)&&(n=!0)),n},t.prototype.getTile=function(t,o,n,r){var i=r.pixelRatio,a=r.viewState,s=a.resolution,l=a.projection,d=this.getLayer(),h=d.getSource().getTile(t,o,n,i,l),p=r.viewHints,f=!(p[u.a.ANIMATING]||p[u.a.INTERACTING]);return!f&&h.wantedResolution||(h.wantedResolution=s),this.prepareTile(h,i,l)&&(f||Date.now()-r.time<8)&&d.getRenderMode()!==c.a.VECTOR&&this.renderTileImage_(h,r),e.prototype.getTile.call(this,t,o,n,r)},t.prototype.isDrawableTile=function(t){var o=this.getLayer();return e.prototype.isDrawableTile.call(this,t)&&(o.getRenderMode()===c.a.VECTOR?Object(g.c)(o)in t.executorGroups:t.hasContext(o))},t.prototype.getTileImage=function(e){return e.getImage(this.getLayer())},t.prototype.prepareFrame=function(t){var o=this.getLayer().getRevision();return this.renderedLayerRevision_!=o&&(this.renderedTiles.length=0),this.renderedLayerRevision_=o,e.prototype.prepareFrame.call(this,t)},t.prototype.updateExecutorGroup_=function(e,t,o){var n=this.getLayer(),a=n.getRevision(),s=n.getRenderOrder()||null,u=e.wantedResolution,d=e.getReplayState(n);if(d.dirty||d.renderedResolution!==u||d.renderedRevision!=a||d.renderedRenderOrder!=s){var h=n.getSource(),m=n.getDeclutter(),y=h.getTileGrid(),v=h.getTileGridForProjection(o).getTileCoordExtent(e.wrappedTileCoord),_=h.getSourceTiles(t,o,e),b=Object(g.c)(n);delete e.hitDetectionImageData[b],e.executorGroups[b]=[],m&&(e.declutterExecutorGroups[b]=[]);for(var A=function(o,a){var g=_[o];if(g.getState()!=l.a.LOADED)return"continue";var A=g.tileCoord,w=y.getTileCoordExtent(A),E=Object(p.H)(v,w),I=Object(p.d)(E,n.getRenderBuffer()*u,C.tmpExtent),O=Object(p.r)(w,E)?null:I;d.dirty=!1;var S=new r.a(0,I,u,t),x=m?new r.a(0,E,u,t):void 0,j=Object(f.b)(u,t),P=function(e){var t,o=e.getStyleFunction()||n.getStyleFunction();if(o&&(t=o(e,u)),t){var r=this.renderFeature(e,j,t,S,x);this.dirty_=this.dirty_||r,d.dirty=d.dirty||r}},T=g.getFeatures();s&&s!==d.renderedRenderOrder&&T.sort(s);for(var M=0,R=T.length;M<R;++M){var L=T[M];O&&!Object(p.O)(O,L.getGeometry().getExtent())||P.call(C,L)}var k=S.finish(),G=n.getRenderMode()!==c.a.VECTOR&&m&&1===_.length?null:E,D=new i.a(G,u,t,h.getOverlaps(),k,n.getRenderBuffer());if(e.executorGroups[b].push(D),x){var N=new i.a(null,u,t,h.getOverlaps(),x.finish(),n.getRenderBuffer());e.declutterExecutorGroups[b].push(N)}},C=this,w=0,E=_.length;w<E;++w)A(w);d.renderedRevision=a,d.renderedRenderOrder=s,d.renderedResolution=u}},t.prototype.forEachFeatureAtCoordinate=function(e,t,o,n,r){var i=t.viewState.resolution,a=t.viewState.rotation;o=null==o?0:o;var s=this.getLayer(),l=s.getSource().getTileGridForProjection(t.viewState.projection),c=Object(p.c)([e]);Object(p.d)(c,i*o,c);for(var u,d={},h=function(e,t,o){var i=e.getId();void 0===i&&(i=Object(g.c)(e));var a=d[i];if(a){if(!0!==a&&o<a.distanceSq){if(0===o)return d[i]=!0,r.splice(r.lastIndexOf(a),1),n(e,s,t);a.geometry=t,a.distanceSq=o}}else{if(0===o)return d[i]=!0,n(e,s,t);r.push(d[i]={feature:e,layer:s,geometry:t,distanceSq:o,callback:n})}},f=this.renderedTiles,m=function(n,r){var d=f[n],m=l.getTileCoordExtent(d.wrappedTileCoord);if(!Object(p.O)(m,c))return"continue";var y=Object(g.c)(s),v=[d.executorGroups[y]],_=d.declutterExecutorGroups[y];_&&v.push(_),v.some((function(n){for(var r=n===_?t.declutterTree.all().map((function(e){return e.value})):null,s=0,l=n.length;s<l;++s){var c=n[s];if(u=c.forEachFeatureAtCoordinate(e,i,a,o,h,r))return!0}}))},y=0,v=f.length;!u&&y<v;++y)m(y);return u},t.prototype.getFeatures=function(e){return new Promise(function(t,o){for(var n,r=this.getLayer(),i=Object(g.c)(r),a=r.getSource(),s=this.renderedProjection,c=s.getExtent(),u=this.renderedResolution,f=a.getTileGridForProjection(s),v=Object(h.a)(this.renderedPixelToCoordinateTransform_,e.slice()),_=f.getTileCoordForCoordAndResolution(v,u),b=0,A=this.renderedTiles.length;b<A;++b)if(_.toString()===this.renderedTiles[b].tileCoord.toString()){if((n=this.renderedTiles[b]).getState()===l.a.LOADED){var C=f.getTileCoordExtent(n.tileCoord);a.getWrapX()&&s.canWrapX()&&!Object(p.h)(c,C)&&Object(y.p)(v,s);break}n=void 0}if(!n||n.loadingSourceTiles>0)t([]);else{var w=f.getTileCoordExtent(n.wrappedTileCoord),E=Object(p.L)(w),I=[(v[0]-E[0])/u,(E[1]-v[1])/u],O=n.getSourceTiles().reduce((function(e,t){return e.concat(t.getFeatures())}),[]),S=n.hitDetectionImageData[i];if(!S&&!this.animatingOrInteracting_){var x=Object(m.d)(f.getTileSize(f.getZForResolution(u))),j=this.renderedRotation_,P=[this.getRenderTransform(f.getTileCoordCenter(n.wrappedTileCoord),u,0,d.a,x[0]*d.a,x[1]*d.a,0)];S=Object(d.b)(x,P,O,r.getStyleFunction(),f.getTileCoordExtent(n.wrappedTileCoord),n.getReplayState(r).renderedResolution,j),n.hitDetectionImageData[i]=S}t(Object(d.c)(I,O,S))}}.bind(this))},t.prototype.handleFontsChanged=function(){var e=this.getLayer();e.getVisible()&&void 0!==this.renderedLayerRevision_&&e.changed()},t.prototype.handleStyleImageChange_=function(e){this.renderIfReadyAndVisible()},t.prototype.renderDeclutter=function(e){var t=this.context,o=t.globalAlpha;t.globalAlpha=this.getLayer().getOpacity();for(var n=e.viewHints,r=!(n[u.a.ANIMATING]||n[u.a.INTERACTING]),i=this.renderedTiles,a=0,s=i.length;a<s;++a){var l=i[a],c=l.declutterExecutorGroups[Object(g.c)(this.getLayer())];if(c)for(var d=c.length-1;d>=0;--d)c[d].execute(this.context,1,this.getTileRenderTransform(l,e),e.viewState.rotation,r,void 0,e.declutterTree)}t.globalAlpha=o},t.prototype.getTileRenderTransform=function(e,t){var o=t.pixelRatio,n=t.viewState,r=n.center,i=n.resolution,a=n.rotation,s=t.size,l=Math.round(s[0]*o),c=Math.round(s[1]*o),u=this.getLayer().getSource().getTileGridForProjection(t.viewState.projection),d=e.tileCoord,p=u.getTileCoordExtent(e.wrappedTileCoord),f=u.getTileCoordExtent(d,this.tmpExtent)[0]-p[0];return Object(h.i)(Object(h.l)(this.inversePixelTransform.slice(),1/o,1/o),this.getRenderTransform(r,i,a,o,l,c,f))},t.prototype.renderFrame=function(t,o){var n=t.viewHints,r=!(n[u.a.ANIMATING]||n[u.a.INTERACTING]);e.prototype.renderFrame.call(this,t,o),this.renderedPixelToCoordinateTransform_=t.pixelToCoordinateTransform.slice(),this.renderedRotation_=t.viewState.rotation;var i=this.getLayer(),a=i.getRenderMode(),s=this.context,l=s.globalAlpha;s.globalAlpha=i.getOpacity();for(var c=b[a],d=t.viewState.rotation,h=this.renderedTiles,p=[],f=[],m=h.length-1;m>=0;--m)for(var y=h[m],v=this.getTileRenderTransform(y,t),_=y.executorGroups[Object(g.c)(i)],A=!1,C=0,w=_.length;C<w;++C){var E=_[C];if(E.hasExecutors(c)){var I=y.tileCoord[0],O=void 0;if(!A&&(O=E.getClipCoords(v))){s.save();for(var S=0,x=p.length;S<x;++S){var j=p[S];I<f[S]&&(s.beginPath(),s.moveTo(O[0],O[1]),s.lineTo(O[2],O[3]),s.lineTo(O[4],O[5]),s.lineTo(O[6],O[7]),s.moveTo(j[6],j[7]),s.lineTo(j[4],j[5]),s.lineTo(j[2],j[3]),s.lineTo(j[0],j[1]),s.clip())}}E.execute(s,1,v,d,r,c),!A&&O&&(s.restore(),p.push(O),f.push(I),A=!0)}}return s.globalAlpha=l,this.container},t.prototype.renderFeature=function(e,t,o,n,r){if(!o)return!1;var i=!1;if(Array.isArray(o))for(var a=0,s=o.length;a<s;++a)i=Object(f.d)(n,e,o[a],t,this.boundHandleStyleImageChange_,void 0,r)||i;else i=Object(f.d)(n,e,o,t,this.boundHandleStyleImageChange_,void 0,r);return i},t.prototype.tileImageNeedsRender_=function(e){var t=this.getLayer();if(t.getRenderMode()===c.a.VECTOR)return!1;var o=e.getReplayState(t),n=t.getRevision(),r=e.wantedResolution;return o.renderedTileResolution!==r||o.renderedTileRevision!==n},t.prototype.renderTileImage_=function(e,t){var o=this.getLayer(),n=e.getReplayState(o),r=o.getRevision(),i=e.executorGroups[Object(g.c)(o)];n.renderedTileRevision=r;var a=e.wrappedTileCoord,s=a[0],l=o.getSource(),c=t.pixelRatio,u=t.viewState.projection,d=l.getTileGridForProjection(u),p=d.getResolution(e.tileCoord[0]),f=t.pixelRatio/e.wantedResolution*p,m=d.getResolution(s),y=e.getContext(o);c=Math.round(Math.max(c,f/c));var v=l.getTilePixelSize(s,c,u);y.canvas.width=v[0],y.canvas.height=v[1];var b=c/f;if(1!==b){var A=Object(h.j)(this.tmpTransform_);Object(h.l)(A,b,b),y.setTransform.apply(y,A)}var C=d.getTileCoordExtent(a,this.tmpExtent),w=f/m,E=Object(h.j)(this.tmpTransform_);Object(h.l)(E,w,-w),Object(h.p)(E,-C[0],-C[3]);for(var I=0,O=i.length;I<O;++I){i[I].execute(y,b,E,0,!0,_[o.getRenderMode()])}n.renderedTileResolution=e.wantedResolution},t}(a.a);t.a=A},"./node_modules/ol/renderer/vector.js":function(e,t,o){"use strict";o.d(t,"a",(function(){return l})),o.d(t,"b",(function(){return c})),o.d(t,"c",(function(){return u})),o.d(t,"d",(function(){return d}));var n=o("./node_modules/ol/render/canvas/BuilderType.js"),r=o("./node_modules/ol/geom/GeometryType.js"),i=o("./node_modules/ol/ImageState.js"),a=o("./node_modules/ol/util.js"),s={Point:function(e,t,o,r,a){var s,l=o.getImage(),c=o.getText();a&&(e=a,s=l&&c&&c.getText()?{}:void 0);if(l){if(l.getImageState()!=i.a.LOADED)return;var u=e.getBuilder(o.getZIndex(),n.a.IMAGE);u.setImageStyle(l,s),u.drawPoint(t,r)}if(c&&c.getText()){var d=e.getBuilder(o.getZIndex(),n.a.TEXT);d.setTextStyle(c,s),d.drawText(t,r)}},LineString:function(e,t,o,r,i){var a=o.getStroke();if(a){var s=e.getBuilder(o.getZIndex(),n.a.LINE_STRING);s.setFillStrokeStyle(null,a),s.drawLineString(t,r)}var l=o.getText();if(l&&l.getText()){var c=(i||e).getBuilder(o.getZIndex(),n.a.TEXT);c.setTextStyle(l),c.drawText(t,r)}},Polygon:function(e,t,o,r,i){var a=o.getFill(),s=o.getStroke();if(a||s){var l=e.getBuilder(o.getZIndex(),n.a.POLYGON);l.setFillStrokeStyle(a,s),l.drawPolygon(t,r)}var c=o.getText();if(c&&c.getText()){var u=(i||e).getBuilder(o.getZIndex(),n.a.TEXT);u.setTextStyle(c),u.drawText(t,r)}},MultiPoint:function(e,t,o,r,a){var s,l=o.getImage(),c=o.getText();a&&(e=a,s=l&&c&&c.getText()?{}:void 0);if(l){if(l.getImageState()!=i.a.LOADED)return;var u=e.getBuilder(o.getZIndex(),n.a.IMAGE);u.setImageStyle(l,s),u.drawMultiPoint(t,r)}if(c&&c.getText()){var d=(a||e).getBuilder(o.getZIndex(),n.a.TEXT);d.setTextStyle(c,s),d.drawText(t,r)}},MultiLineString:function(e,t,o,r,i){var a=o.getStroke();if(a){var s=e.getBuilder(o.getZIndex(),n.a.LINE_STRING);s.setFillStrokeStyle(null,a),s.drawMultiLineString(t,r)}var l=o.getText();if(l&&l.getText()){var c=(i||e).getBuilder(o.getZIndex(),n.a.TEXT);c.setTextStyle(l),c.drawText(t,r)}},MultiPolygon:function(e,t,o,r,i){var a=o.getFill(),s=o.getStroke();if(s||a){var l=e.getBuilder(o.getZIndex(),n.a.POLYGON);l.setFillStrokeStyle(a,s),l.drawMultiPolygon(t,r)}var c=o.getText();if(c&&c.getText()){var u=(i||e).getBuilder(o.getZIndex(),n.a.TEXT);u.setTextStyle(c),u.drawText(t,r)}},GeometryCollection:function(e,t,o,n,r){var i,a,l=t.getGeometriesArray();for(i=0,a=l.length;i<a;++i){(0,s[l[i].getType()])(e,l[i],o,n,r)}},Circle:function(e,t,o,r,i){var a=o.getFill(),s=o.getStroke();if(a||s){var l=e.getBuilder(o.getZIndex(),n.a.CIRCLE);l.setFillStrokeStyle(a,s),l.drawCircle(t,r)}var c=o.getText();if(c&&c.getText()){var u=(i||e).getBuilder(o.getZIndex(),n.a.TEXT);u.setTextStyle(c),u.drawText(t,r)}}};function l(e,t){return parseInt(Object(a.c)(e),10)-parseInt(Object(a.c)(t),10)}function c(e,t){var o=u(e,t);return o*o}function u(e,t){return.5*e/t}function d(e,t,o,a,l,c,u){var d=!1,h=o.getImage();if(h){var p=h.getImageState();p==i.a.LOADED||p==i.a.ERROR?h.unlistenImageChange(l):(p==i.a.IDLE&&h.load(),p=h.getImageState(),h.listenImageChange(l),d=!0)}return function(e,t,o,i,a,l){var c=o.getGeometryFunction()(t);if(!c)return;var u=c.simplifyTransformed(i,a);if(o.getRenderer())!function e(t,o,i,a){if(o.getType()==r.a.GEOMETRY_COLLECTION){for(var s=o.getGeometries(),l=0,c=s.length;l<c;++l)e(t,s[l],i,a);return}t.getBuilder(i.getZIndex(),n.a.DEFAULT).drawCustom(o,a,i.getRenderer(),i.getHitDetectionRenderer())}(e,u,o,t);else{(0,s[u.getType()])(e,u,o,t,l)}}(e,t,o,a,c,u),d}},"./node_modules/ol/reproj.js":function(e,t,o){"use strict";o.d(t,"b",(function(){return h})),o.d(t,"a",(function(){return p})),o.d(t,"c",(function(){return f}));var n,r=o("./node_modules/ol/source/common.js"),i=o("./node_modules/ol/obj.js"),a=o("./node_modules/ol/extent.js"),s=o("./node_modules/ol/dom.js"),l=o("./node_modules/ol/proj.js"),c=o("./node_modules/ol/math.js");function u(e,t,o,n,r){e.beginPath(),e.moveTo(0,0),e.lineTo(t,o),e.lineTo(n,r),e.closePath(),e.save(),e.clip(),e.fillRect(0,0,Math.max(t,n)+1,Math.max(o,r)),e.restore()}function d(e,t){return Math.abs(e[4*t]-210)>2||Math.abs(e[4*t+3]-191.25)>2}function h(e,t,o,n){var r=Object(l.E)(o,t,e),i=Object(l.u)(t,n,o),s=t.getMetersPerUnit();void 0!==s&&(i*=s);var c=e.getMetersPerUnit();void 0!==c&&(i/=c);var u=e.getExtent();if(!u||Object(a.g)(u,r)){var d=Object(l.u)(e,i,r)/i;isFinite(d)&&d>0&&(i/=d)}return i}function p(e,t,o,n){var r=Object(a.C)(o),i=h(e,t,r,n);return(!isFinite(i)||i<=0)&&Object(a.y)(o,(function(o){return i=h(e,t,o,n),isFinite(i)&&i>0})),i}function f(e,t,o,l,h,p,f,g,m,y,v,_){var b=Object(s.a)(Math.round(o*e),Math.round(o*t));if(Object(i.a)(b,_),0===m.length)return b.canvas;function A(e){return Math.round(e*o)/o}b.scale(o,o),b.globalCompositeOperation="lighter";var C=Object(a.k)();m.forEach((function(e,t,o){Object(a.s)(C,e.extent)}));var w=Object(a.N)(C),E=Object(a.G)(C),I=Object(s.a)(Math.round(o*w/l),Math.round(o*E/l));Object(i.a)(I,_);var O=o/l;m.forEach((function(e,t,o){var n=e.extent[0]-C[0],r=-(e.extent[3]-C[3]),i=Object(a.N)(e.extent),s=Object(a.G)(e.extent);e.image.width>0&&e.image.height>0&&I.drawImage(e.image,y,y,e.image.width-2*y,e.image.height-2*y,n*O,r*O,i*O,s*O)}));var S=Object(a.L)(f);return g.getTriangles().forEach((function(e,t,i){var a=e.source,s=e.target,h=a[0][0],f=a[0][1],g=a[1][0],m=a[1][1],y=a[2][0],v=a[2][1],w=A((s[0][0]-S[0])/p),E=A(-(s[0][1]-S[1])/p),O=A((s[1][0]-S[0])/p),x=A(-(s[1][1]-S[1])/p),j=A((s[2][0]-S[0])/p),P=A(-(s[2][1]-S[1])/p),T=h,M=f;h=0,f=0;var R=[[g-=T,m-=M,0,0,O-w],[y-=T,v-=M,0,0,j-w],[0,0,g,m,x-E],[0,0,y,v,P-E]],L=Object(c.f)(R);if(L){if(b.save(),b.beginPath(),function(){if(void 0===n){var e=document.createElement("canvas").getContext("2d");e.globalCompositeOperation="lighter",e.fillStyle="rgba(210, 0, 0, 0.75)",u(e,4,5,4,0),u(e,4,5,0,5);var t=e.getImageData(0,0,3,3).data;n=d(t,0)||d(t,4)||d(t,8)}return n}()||_===r.b){b.moveTo(O,x);for(var k=w-O,G=E-x,D=0;D<4;D++)b.lineTo(O+A((D+1)*k/4),x+A(D*G/3)),3!=D&&b.lineTo(O+A((D+1)*k/4),x+A((D+1)*G/3));b.lineTo(j,P)}else b.moveTo(O,x),b.lineTo(w,E),b.lineTo(j,P);b.clip(),b.transform(L[0],L[2],L[1],L[3],w,E),b.translate(C[0]-T,C[3]-M),b.scale(l/o,-l/o),b.drawImage(I.canvas,0,0),b.restore()}})),v&&(b.save(),b.globalCompositeOperation="source-over",b.strokeStyle="black",b.lineWidth=1,g.getTriangles().forEach((function(e,t,o){var n=e.target,r=(n[0][0]-S[0])/p,i=-(n[0][1]-S[1])/p,a=(n[1][0]-S[0])/p,s=-(n[1][1]-S[1])/p,l=(n[2][0]-S[0])/p,c=-(n[2][1]-S[1])/p;b.beginPath(),b.moveTo(a,s),b.lineTo(r,i),b.lineTo(l,c),b.closePath(),b.stroke()})),b.restore()),b.canvas}},"./node_modules/ol/reproj/Image.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/reproj/common.js"),i=o("./node_modules/ol/events/EventType.js"),a=o("./node_modules/ol/ImageBase.js"),s=o("./node_modules/ol/ImageState.js"),l=o("./node_modules/ol/reproj/Triangulation.js"),c=o("./node_modules/ol/reproj.js"),u=o("./node_modules/ol/extent.js"),d=o("./node_modules/ol/events.js"),h=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),p=function(e){function t(t,o,n,i,a,d,h){var p=this,f=t.getExtent(),g=o.getExtent(),m=g?Object(u.H)(n,g):n,y=Object(u.C)(m),v=Object(c.b)(t,o,y,i),_=r.b,b=new l.a(t,o,m,f,v*_,i),A=d(b.calculateSourceExtent(),v,a),C=A?s.a.IDLE:s.a.EMPTY,w=A?A.getPixelRatio():1;return(p=e.call(this,n,i,w,C)||this).targetProj_=o,p.maxSourceExtent_=f,p.triangulation_=b,p.targetResolution_=i,p.targetExtent_=n,p.sourceImage_=A,p.sourcePixelRatio_=w,p.contextOptions_=h,p.canvas_=null,p.sourceListenerKey_=null,p}return h(t,e),t.prototype.disposeInternal=function(){this.state==s.a.LOADING&&this.unlistenSource_(),e.prototype.disposeInternal.call(this)},t.prototype.getImage=function(){return this.canvas_},t.prototype.getProjection=function(){return this.targetProj_},t.prototype.reproject_=function(){var e=this.sourceImage_.getState();if(e==s.a.LOADED){var t=Object(u.N)(this.targetExtent_)/this.targetResolution_,o=Object(u.G)(this.targetExtent_)/this.targetResolution_;this.canvas_=Object(c.c)(t,o,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.contextOptions_)}this.state=e,this.changed()},t.prototype.load=function(){if(this.state==s.a.IDLE){this.state=s.a.LOADING,this.changed();var e=this.sourceImage_.getState();e==s.a.LOADED||e==s.a.ERROR?this.reproject_():(this.sourceListenerKey_=Object(d.a)(this.sourceImage_,i.a.CHANGE,(function(e){var t=this.sourceImage_.getState();t!=s.a.LOADED&&t!=s.a.ERROR||(this.unlistenSource_(),this.reproject_())}),this),this.sourceImage_.load())}},t.prototype.unlistenSource_=function(){Object(d.c)(this.sourceListenerKey_),this.sourceListenerKey_=null},t}(a.a);t.a=p},"./node_modules/ol/reproj/Tile.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/reproj/common.js"),i=o("./node_modules/ol/events/EventType.js"),a=o("./node_modules/ol/Tile.js"),s=o("./node_modules/ol/TileState.js"),l=o("./node_modules/ol/reproj/Triangulation.js"),c=o("./node_modules/ol/reproj.js"),u=o("./node_modules/ol/math.js"),d=o("./node_modules/ol/extent.js"),h=o("./node_modules/ol/events.js"),p=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),f=function(e){function t(t,o,n,i,a,h,p,f,g,m,y,v){var _=e.call(this,a,s.a.IDLE)||this;_.renderEdges_=void 0!==y&&y,_.contextOptions_=v,_.pixelRatio_=p,_.gutter_=f,_.canvas_=null,_.sourceTileGrid_=o,_.targetTileGrid_=i,_.wrappedTileCoord_=h||a,_.sourceTiles_=[],_.sourcesListenerKeys_=null,_.sourceZ_=0;var b=i.getTileCoordExtent(_.wrappedTileCoord_),A=_.targetTileGrid_.getExtent(),C=_.sourceTileGrid_.getExtent(),w=A?Object(d.H)(b,A):b;if(0===Object(d.z)(w))return _.state=s.a.EMPTY,_;var E=t.getExtent();E&&(C=C?Object(d.H)(C,E):E);var I=i.getResolution(_.wrappedTileCoord_[0]),O=Object(c.a)(t,n,w,I);if(!isFinite(O)||O<=0)return _.state=s.a.EMPTY,_;var S=void 0!==m?m:r.b;if(_.triangulation_=new l.a(t,n,w,C,O*S,I),0===_.triangulation_.getTriangles().length)return _.state=s.a.EMPTY,_;_.sourceZ_=o.getZForResolution(O);var x=_.triangulation_.calculateSourceExtent();if(C&&(t.canWrapX()?(x[1]=Object(u.a)(x[1],C[1],C[3]),x[3]=Object(u.a)(x[3],C[1],C[3])):x=Object(d.H)(x,C)),Object(d.z)(x)){for(var j=o.getTileRangeForExtentAndZ(x,_.sourceZ_),P=j.minX;P<=j.maxX;P++)for(var T=j.minY;T<=j.maxY;T++){var M=g(_.sourceZ_,P,T,p);M&&_.sourceTiles_.push(M)}0===_.sourceTiles_.length&&(_.state=s.a.EMPTY)}else _.state=s.a.EMPTY;return _}return p(t,e),t.prototype.getImage=function(){return this.canvas_},t.prototype.reproject_=function(){var e=[];if(this.sourceTiles_.forEach(function(t,o,n){t&&t.getState()==s.a.LOADED&&e.push({extent:this.sourceTileGrid_.getTileCoordExtent(t.tileCoord),image:t.getImage()})}.bind(this)),this.sourceTiles_.length=0,0===e.length)this.state=s.a.ERROR;else{var t=this.wrappedTileCoord_[0],o=this.targetTileGrid_.getTileSize(t),n="number"==typeof o?o:o[0],r="number"==typeof o?o:o[1],i=this.targetTileGrid_.getResolution(t),a=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=Object(c.c)(n,r,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),i,l,this.triangulation_,e,this.gutter_,this.renderEdges_,this.contextOptions_),this.state=s.a.LOADED}this.changed()},t.prototype.load=function(){if(this.state==s.a.IDLE){this.state=s.a.LOADING,this.changed();var e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(t,o,n){var r=t.getState();if(r==s.a.IDLE||r==s.a.LOADING){e++;var a=Object(h.a)(t,i.a.CHANGE,(function(o){var n=t.getState();n!=s.a.LOADED&&n!=s.a.ERROR&&n!=s.a.EMPTY||(Object(h.c)(a),0===--e&&(this.unlistenSources_(),this.reproject_()))}),this);this.sourcesListenerKeys_.push(a)}}.bind(this)),0===e?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach((function(e,t,o){e.getState()==s.a.IDLE&&e.load()}))}},t.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(h.c),this.sourcesListenerKeys_=null},t}(a.a);t.a=f},"./node_modules/ol/reproj/Triangulation.js":function(e,t,o){"use strict";var n=o("./node_modules/ol/extent.js"),r=o("./node_modules/ol/proj.js"),i=o("./node_modules/ol/math.js"),a=function(){function e(e,t,o,a,s,l){this.sourceProj_=e,this.targetProj_=t;var c={},u=Object(r.v)(this.targetProj_,this.sourceProj_);this.transformInv_=function(e){var t=e[0]+"/"+e[1];return c[t]||(c[t]=u(e)),c[t]},this.maxSourceExtent_=a,this.errorThresholdSquared_=s*s,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!a&&!!this.sourceProj_.getExtent()&&Object(n.N)(a)==Object(n.N)(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Object(n.N)(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Object(n.N)(this.targetProj_.getExtent()):null;var d=Object(n.L)(o),h=Object(n.M)(o),p=Object(n.B)(o),f=Object(n.A)(o),g=this.transformInv_(d),m=this.transformInv_(h),y=this.transformInv_(p),v=this.transformInv_(f),_=10+(l?Math.max(0,Math.ceil(Object(i.d)(Object(n.z)(o)/(l*l*256*256)))):0);if(this.addQuad_(d,h,p,f,g,m,y,v,_),this.wrapsXInSource_){var b=1/0;this.triangles_.forEach((function(e,t,o){b=Math.min(b,e.source[0][0],e.source[1][0],e.source[2][0])})),this.triangles_.forEach(function(e){if(Math.max(e.source[0][0],e.source[1][0],e.source[2][0])-b>this.sourceWorldWidth_/2){var t=[[e.source[0][0],e.source[0][1]],[e.source[1][0],e.source[1][1]],[e.source[2][0],e.source[2][1]]];t[0][0]-b>this.sourceWorldWidth_/2&&(t[0][0]-=this.sourceWorldWidth_),t[1][0]-b>this.sourceWorldWidth_/2&&(t[1][0]-=this.sourceWorldWidth_),t[2][0]-b>this.sourceWorldWidth_/2&&(t[2][0]-=this.sourceWorldWidth_);var o=Math.min(t[0][0],t[1][0],t[2][0]);Math.max(t[0][0],t[1][0],t[2][0])-o<this.sourceWorldWidth_/2&&(e.source=t)}}.bind(this))}c={}}return e.prototype.addTriangle_=function(e,t,o,n,r,i){this.triangles_.push({source:[n,r,i],target:[e,t,o]})},e.prototype.addQuad_=function(e,t,o,r,a,s,l,c,u){var d=Object(n.c)([a,s,l,c]),h=this.sourceWorldWidth_?Object(n.N)(d)/this.sourceWorldWidth_:null,p=this.sourceWorldWidth_,f=this.sourceProj_.canWrapX()&&h>.5&&h<1,g=!1;if(u>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var m=Object(n.c)([e,t,o,r]);g=Object(n.N)(m)/this.targetWorldWidth_>.25||g}!f&&this.sourceProj_.isGlobal()&&h&&(g=h>.25||g)}if(!(!g&&this.maxSourceExtent_&&isFinite(d[0])&&isFinite(d[1])&&isFinite(d[2])&&isFinite(d[3]))||Object(n.O)(d,this.maxSourceExtent_)){var y=0;if(!(g||isFinite(a[0])&&isFinite(a[1])&&isFinite(s[0])&&isFinite(s[1])&&isFinite(l[0])&&isFinite(l[1])&&isFinite(c[0])&&isFinite(c[1])))if(u>0)g=!0;else if(1!=(y=(isFinite(a[0])&&isFinite(a[1])?0:8)+(isFinite(s[0])&&isFinite(s[1])?0:4)+(isFinite(l[0])&&isFinite(l[1])?0:2)+(isFinite(c[0])&&isFinite(c[1])?0:1))&&2!=y&&4!=y&&8!=y)return;if(u>0){if(!g){var v=[(e[0]+o[0])/2,(e[1]+o[1])/2],_=this.transformInv_(v),b=void 0;if(f)b=(Object(i.e)(a[0],p)+Object(i.e)(l[0],p))/2-Object(i.e)(_[0],p);else b=(a[0]+l[0])/2-_[0];var A=(a[1]+l[1])/2-_[1];g=b*b+A*A>this.errorThresholdSquared_}if(g){if(Math.abs(e[0]-o[0])<=Math.abs(e[1]-o[1])){var C=[(t[0]+o[0])/2,(t[1]+o[1])/2],w=this.transformInv_(C),E=[(r[0]+e[0])/2,(r[1]+e[1])/2],I=this.transformInv_(E);this.addQuad_(e,t,C,E,a,s,w,I,u-1),this.addQuad_(E,C,o,r,I,w,l,c,u-1)}else{var O=[(e[0]+t[0])/2,(e[1]+t[1])/2],S=this.transformInv_(O),x=[(o[0]+r[0])/2,(o[1]+r[1])/2],j=this.transformInv_(x);this.addQuad_(e,O,x,r,a,S,j,c,u-1),this.addQuad_(O,t,o,x,S,s,l,j,u-1)}return}}if(f){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(11&y)&&this.addTriangle_(e,o,r,a,l,c),0==(14&y)&&this.addTriangle_(e,o,t,a,l,s),y&&(0==(13&y)&&this.addTriangle_(t,r,e,s,c,a),0==(7&y)&&this.addTriangle_(t,r,o,s,c,l))}},e.prototype.calculateSourceExtent=function(){var e=Object(n.k)();return this.triangles_.forEach((function(t,o,r){var i=t.source;Object(n.t)(e,i[0]),Object(n.t)(e,i[1]),Object(n.t)(e,i[2])})),e},e.prototype.getTriangles=function(){return this.triangles_},e}();t.a=a},"./node_modules/ol/reproj/common.js":function(e,t,o){"use strict";o.d(t,"b",(function(){return n})),o.d(t,"a",(function(){return r}));var n=.5,r=!0},"./node_modules/ol/resolutionconstraint.js":function(e,t,o){"use strict";o.d(t,"c",(function(){return l})),o.d(t,"b",(function(){return c})),o.d(t,"a",(function(){return u}));var n=o("./node_modules/ol/math.js"),r=o("./node_modules/ol/extent.js"),i=o("./node_modules/ol/array.js");function a(e,t,o,n){var i=Object(r.N)(t)/o[0],a=Object(r.G)(t)/o[1];return n?Math.min(e,Math.max(i,a)):Math.min(e,Math.min(i,a))}function s(e,t,o){var r=Math.min(e,t);return r*=Math.log(1+50*Math.max(0,e/t-1))/50+1,o&&(r=Math.max(r,o),r/=Math.log(1+50*Math.max(0,o/e-1))/50+1),Object(n.a)(r,o/2,2*t)}function l(e,t,o,r){return function(l,c,u,d){if(void 0!==l){var h=e[0],p=e[e.length-1],f=o?a(h,o,u,r):h;if(d)return void 0===t||t?s(l,f,p):Object(n.a)(l,p,f);var g=Math.min(f,l),m=Math.floor(Object(i.h)(e,g,c));return e[m]>f&&m<e.length-1?e[m+1]:e[m]}}}function c(e,t,o,r,i,l){return function(c,u,d,h){if(void 0!==c){var p=i?a(t,i,d,l):t,f=void 0!==o?o:0;if(h)return void 0===r||r?s(c,p,f):Object(n.a)(c,f,p);var g=Math.ceil(Math.log(t/p)/Math.log(e)-1e-9),m=-u*(.5-1e-9)+.5,y=Math.min(p,c),v=Math.floor(Math.log(t/y)/Math.log(e)+m),_=Math.max(g,v),b=t/Math.pow(e,_);return Object(n.a)(b,f,p)}}}function u(e,t,o,r,i){return function(l,c,u,d){if(void 0!==l){var h=r?a(e,r,u,i):e;return(void 0===o||o)&&d?s(l,h,t):Object(n.a)(l,t,h)}}}},"./node_modules/ol/rotationconstraint.js":function(e,t,o){"use strict";o.d(t,"c",(function(){return r})),o.d(t,"d",(function(){return i})),o.d(t,"a",(function(){return a})),o.d(t,"b",(function(){return s}));var n=o("./node_modules/ol/math.js");function r(e){return void 0!==e?0:void 0}function i(e){return void 0!==e?e:void 0}function a(e){var t=2*Math.PI/e;return function(e,o){return o?e:void 0!==e?e=Math.floor(e/t+.5)*t:void 0}}function s(e){var t=e||Object(n.j)(5);return function(e,o){return o?e:void 0!==e?Math.abs(e)<=t?0:e:void 0}}},"./node_modules/ol/size.js":function(e,t,o){"use strict";function n(e,t,o){return void 0===o&&(o=[0,0]),o[0]=e[0]+2*t,o[1]=e[1]+2*t,o}function r(e){return e[0]>0&&e[1]>0}function i(e,t,o){return void 0===o&&(o=[0,0]),o[0]=e[0]*t+.5|0,o[1]=e[1]*t+.5|0,o}function a(e,t){return Array.isArray(e)?e:(void 0===t?t=[e,e]:(t[0]=e,t[1]=e),t)}o.d(t,"a",(function(){return n})),o.d(t,"b",(function(){return r})),o.d(t,"c",(function(){return i})),o.d(t,"d",(function(){return a}))},"./node_modules/ol/source/Image.js":function(e,t,o){"use strict";o.d(t,"a",(function(){return v})),o.d(t,"c",(function(){return b}));var n,r=o("./node_modules/ol/events/Event.js"),i=o("./node_modules/ol/ImageState.js"),a=o("./node_modules/ol/reproj/Image.js"),s=o("./node_modules/ol/source/Source.js"),l=o("./node_modules/ol/reproj/common.js"),c=o("./node_modules/ol/source/common.js"),u=o("./node_modules/ol/util.js"),d=o("./node_modules/ol/extent.js"),h=o("./node_modules/ol/proj.js"),p=o("./node_modules/ol/array.js"),f=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),g="imageloadstart",m="imageloadend",y="imageloaderror",v=function(e){function t(t,o){var n=e.call(this,t)||this;return n.image=o,n}return f(t,e),t}(r.a),_=function(e){function t(t){var o=e.call(this,{attributions:t.attributions,projection:t.projection,state:t.state})||this;return o.on,o.once,o.un,o.resolutions_=void 0!==t.resolutions?t.resolutions:null,o.reprojectedImage_=null,o.reprojectedRevision_=0,o.contextOptions_=!1===t.imageSmoothing?c.b:void 0,o}return f(t,e),t.prototype.getResolutions=function(){return this.resolutions_},t.prototype.getContextOptions=function(){return this.contextOptions_},t.prototype.findNearestResolution=function(e){if(this.resolutions_){var t=Object(p.h)(this.resolutions_,e,0);e=this.resolutions_[t]}return e},t.prototype.getImage=function(e,t,o,n){var r=this.getProjection();if(l.a&&r&&n&&!Object(h.o)(r,n)){if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&Object(h.o)(this.reprojectedImage_.getProjection(),n)&&this.reprojectedImage_.getResolution()==t&&Object(d.r)(this.reprojectedImage_.getExtent(),e))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new a.a(r,n,e,t,o,function(e,t,o){return this.getImageInternal(e,t,o,r)}.bind(this),this.contextOptions_),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}return r&&(n=r),this.getImageInternal(e,t,o,n)},t.prototype.getImageInternal=function(e,t,o,n){return Object(u.b)()},t.prototype.handleImageChange=function(e){var t=e.target;switch(t.getState()){case i.a.LOADING:this.loading=!0,this.dispatchEvent(new v(g,t));break;case i.a.LOADED:this.loading=!1,this.dispatchEvent(new v(m,t));break;case i.a.ERROR:this.loading=!1,this.dispatchEvent(new v(y,t))}},t}(s.a);function b(e,t){e.getImage().src=t}t.b=_},"./node_modules/ol/source/ImageWMS.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/source/common.js"),i=o("./node_modules/ol/events/EventType.js"),a=o("./node_modules/ol/source/Image.js"),s=o("./node_modules/ol/Image.js"),l=o("./node_modules/ol/source/WMSServerType.js"),c=o("./node_modules/ol/uri.js"),u=o("./node_modules/ol/asserts.js"),d=o("./node_modules/ol/obj.js"),h=o("./node_modules/ol/reproj.js"),p=o("./node_modules/ol/string.js"),f=o("./node_modules/ol/extent.js"),g=o("./node_modules/ol/proj.js"),m=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),y=[101,101],v=function(e){function t(t){var o=this,n=t||{};return(o=e.call(this,{attributions:n.attributions,imageSmoothing:n.imageSmoothing,projection:n.projection,resolutions:n.resolutions})||this).crossOrigin_=void 0!==n.crossOrigin?n.crossOrigin:null,o.url_=n.url,o.imageLoadFunction_=void 0!==n.imageLoadFunction?n.imageLoadFunction:a.c,o.params_=n.params||{},o.v13_=!0,o.updateV13_(),o.serverType_=n.serverType,o.hidpi_=void 0===n.hidpi||n.hidpi,o.image_=null,o.imageSize_=[0,0],o.renderedRevision_=0,o.ratio_=void 0!==n.ratio?n.ratio:1.5,o}return m(t,e),t.prototype.getFeatureInfoUrl=function(e,t,o,n){if(void 0!==this.url_){var i=Object(g.t)(o),a=this.getProjection();a&&a!==i&&(t=Object(h.b)(a,i,e,t),e=Object(g.E)(e,i,a));var s=Object(f.F)(e,t,0,y),l={SERVICE:"WMS",VERSION:r.a,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};Object(d.a)(l,this.params_,n);var c=Math.floor((e[0]-s[0])/t),u=Math.floor((s[3]-e[1])/t);return l[this.v13_?"I":"X"]=c,l[this.v13_?"J":"Y"]=u,this.getRequestUrl_(s,y,1,a||i,l)}},t.prototype.getLegendUrl=function(e,t){if(void 0!==this.url_){var o={SERVICE:"WMS",VERSION:r.a,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===t||void 0===t.LAYER){var n=this.params_.LAYERS;if(!(!Array.isArray(n)||1===n.length))return;o.LAYER=n}if(void 0!==e){var i=this.getProjection()?this.getProjection().getMetersPerUnit():1;o.SCALE=e*i/28e-5}return Object(d.a)(o,t),Object(c.a)(this.url_,o)}},t.prototype.getParams=function(){return this.params_},t.prototype.getImageInternal=function(e,t,o,n){if(void 0===this.url_)return null;t=this.findNearestResolution(t),1==o||this.hidpi_&&void 0!==this.serverType_||(o=1);var a=t/o,l=Object(f.C)(e),c=Math.ceil(Object(f.N)(e)/a),u=Math.ceil(Object(f.G)(e)/a),h=Object(f.F)(l,a,0,[c,u]),p=Math.ceil(this.ratio_*Object(f.N)(e)/a),g=Math.ceil(this.ratio_*Object(f.G)(e)/a),m=Object(f.F)(l,a,0,[p,g]),y=this.image_;if(y&&this.renderedRevision_==this.getRevision()&&y.getResolution()==t&&y.getPixelRatio()==o&&Object(f.h)(y.getExtent(),h))return y;var v={SERVICE:"WMS",VERSION:r.a,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};Object(d.a)(v,this.params_),this.imageSize_[0]=Math.round(Object(f.N)(m)/a),this.imageSize_[1]=Math.round(Object(f.G)(m)/a);var _=this.getRequestUrl_(m,this.imageSize_,o,n,v);return this.image_=new s.a(m,t,o,_,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),this.image_.addEventListener(i.a.CHANGE,this.handleImageChange.bind(this)),this.image_},t.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},t.prototype.getRequestUrl_=function(e,t,o,n,r){if(Object(u.a)(void 0!==this.url_,9),r[this.v13_?"CRS":"SRS"]=n.getCode(),"STYLES"in this.params_||(r.STYLES=""),1!=o)switch(this.serverType_){case l.a.GEOSERVER:var i=90*o+.5|0;"FORMAT_OPTIONS"in r?r.FORMAT_OPTIONS+=";dpi:"+i:r.FORMAT_OPTIONS="dpi:"+i;break;case l.a.MAPSERVER:r.MAP_RESOLUTION=90*o;break;case l.a.CARMENTA_SERVER:case l.a.QGIS:r.DPI=90*o;break;default:Object(u.a)(!1,8)}r.WIDTH=t[0],r.HEIGHT=t[1];var a,s=n.getAxisOrientation();return a=this.v13_&&"ne"==s.substr(0,2)?[e[1],e[0],e[3],e[2]]:e,r.BBOX=a.join(","),Object(c.a)(this.url_,r)},t.prototype.getUrl=function(){return this.url_},t.prototype.setImageLoadFunction=function(e){this.image_=null,this.imageLoadFunction_=e,this.changed()},t.prototype.setUrl=function(e){e!=this.url_&&(this.url_=e,this.image_=null,this.changed())},t.prototype.updateParams=function(e){Object(d.a)(this.params_,e),this.updateV13_(),this.image_=null,this.changed()},t.prototype.updateV13_=function(){var e=this.params_.VERSION||r.a;this.v13_=Object(p.a)(e,"1.3")>=0},t}(a.b);t.a=v},"./node_modules/ol/source/OSM.js":function(e,t,o){"use strict";o.d(t,"a",(function(){return a}));var n,r=o("./node_modules/ol/source/XYZ.js"),i=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.',s=function(e){function t(t){var o,n=t||{};o=void 0!==n.attributions?n.attributions:[a];var r=void 0!==n.crossOrigin?n.crossOrigin:"anonymous",i=void 0!==n.url?n.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";return e.call(this,{attributions:o,attributionsCollapsible:!1,cacheSize:n.cacheSize,crossOrigin:r,imageSmoothing:n.imageSmoothing,maxZoom:void 0!==n.maxZoom?n.maxZoom:19,opaque:void 0===n.opaque||n.opaque,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileLoadFunction:n.tileLoadFunction,transition:n.transition,url:i,wrapX:n.wrapX,zDirection:n.zDirection})||this}return i(t,e),t}(r.a);t.b=s},"./node_modules/ol/source/Source.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/Object.js"),i=o("./node_modules/ol/source/State.js"),a=o("./node_modules/ol/util.js"),s=o("./node_modules/ol/proj.js"),l=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=function(e){function t(t){var o=e.call(this)||this;o.projection=Object(s.t)(t.projection),o.attributions_=u(t.attributions),o.attributionsCollapsible_=void 0===t.attributionsCollapsible||t.attributionsCollapsible,o.loading=!1,o.state_=void 0!==t.state?t.state:i.a.READY,o.wrapX_=void 0!==t.wrapX&&t.wrapX,o.viewResolver=null,o.viewRejector=null;var n=o;return o.viewPromise_=new Promise((function(e,t){n.viewResolver=e,n.viewRejector=t})),o}return l(t,e),t.prototype.getAttributions=function(){return this.attributions_},t.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},t.prototype.getProjection=function(){return this.projection},t.prototype.getResolutions=function(){return Object(a.b)()},t.prototype.getView=function(){return this.viewPromise_},t.prototype.getState=function(){return this.state_},t.prototype.getWrapX=function(){return this.wrapX_},t.prototype.getContextOptions=function(){},t.prototype.refresh=function(){this.changed()},t.prototype.setAttributions=function(e){this.attributions_=u(e),this.changed()},t.prototype.setState=function(e){this.state_=e,this.changed()},t}(r.b);function u(e){return e?Array.isArray(e)?function(t){return e}:"function"==typeof e?e:function(t){return[e]}:null}t.a=c},"./node_modules/ol/source/State.js":function(e,t,o){"use strict";t.a={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"}},"./node_modules/ol/source/Tile.js":function(e,t,o){"use strict";o.d(t,"a",(function(){return m}));var n,r=o("./node_modules/ol/events/Event.js"),i=o("./node_modules/ol/source/Source.js"),a=o("./node_modules/ol/TileCache.js"),s=o("./node_modules/ol/TileState.js"),l=o("./node_modules/ol/util.js"),c=o("./node_modules/ol/asserts.js"),u=o("./node_modules/ol/proj.js"),d=o("./node_modules/ol/tilecoord.js"),h=o("./node_modules/ol/tilegrid.js"),p=o("./node_modules/ol/size.js"),f=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),g=function(e){function t(t){var o=e.call(this,{attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX})||this;o.on,o.once,o.un,o.opaque_=void 0!==t.opaque&&t.opaque,o.tilePixelRatio_=void 0!==t.tilePixelRatio?t.tilePixelRatio:1,o.tileGrid=void 0!==t.tileGrid?t.tileGrid:null;var n=t.tileGrid;return n&&Object(p.d)(n.getTileSize(n.getMinZoom()),[256,256]),o.tileCache=new a.a(t.cacheSize||0),o.tmpSize=[0,0],o.key_=t.key||"",o.tileOptions={transition:t.transition},o.zDirection=t.zDirection?t.zDirection:0,o}return f(t,e),t.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},t.prototype.expireCache=function(e,t){var o=this.getTileCacheForProjection(e);o&&o.expireCache(t)},t.prototype.forEachLoadedTile=function(e,t,o,n){var r=this.getTileCacheForProjection(e);if(!r)return!1;for(var i,a,l,c=!0,u=o.minX;u<=o.maxX;++u)for(var h=o.minY;h<=o.maxY;++h)a=Object(d.e)(t,u,h),l=!1,r.containsKey(a)&&(l=(i=r.get(a)).getState()===s.a.LOADED)&&(l=!1!==n(i)),l||(c=!1);return c},t.prototype.getGutterForProjection=function(e){return 0},t.prototype.getKey=function(){return this.key_},t.prototype.setKey=function(e){this.key_!==e&&(this.key_=e,this.changed())},t.prototype.getOpaque=function(e){return this.opaque_},t.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},t.prototype.getTile=function(e,t,o,n,r){return Object(l.b)()},t.prototype.getTileGrid=function(){return this.tileGrid},t.prototype.getTileGridForProjection=function(e){return this.tileGrid?this.tileGrid:Object(h.e)(e)},t.prototype.getTileCacheForProjection=function(e){return Object(c.a)(Object(u.o)(this.getProjection(),e),68),this.tileCache},t.prototype.getTilePixelRatio=function(e){return this.tilePixelRatio_},t.prototype.getTilePixelSize=function(e,t,o){var n=this.getTileGridForProjection(o),r=this.getTilePixelRatio(t),i=Object(p.d)(n.getTileSize(e),this.tmpSize);return 1==r?i:Object(p.c)(i,r,this.tmpSize)},t.prototype.getTileCoordForTileUrlFunction=function(e,t){var o=void 0!==t?t:this.getProjection(),n=this.getTileGridForProjection(o);return this.getWrapX()&&o.isGlobal()&&(e=Object(h.f)(n,e,o)),Object(d.g)(e,n)?e:null},t.prototype.clear=function(){this.tileCache.clear()},t.prototype.refresh=function(){this.clear(),e.prototype.refresh.call(this)},t.prototype.updateCacheSize=function(e,t){var o=this.getTileCacheForProjection(t);e>o.highWaterMark&&(o.highWaterMark=e)},t.prototype.useTile=function(e,t,o,n){},t}(i.a),m=function(e){function t(t,o){var n=e.call(this,t)||this;return n.tile=o,n}return f(t,e),t}(r.a);t.b=g},"./node_modules/ol/source/TileEventType.js":function(e,t,o){"use strict";t.a={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"}},"./node_modules/ol/source/TileImage.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/events/EventType.js"),i=o("./node_modules/ol/ImageTile.js"),a=o("./node_modules/ol/reproj/Tile.js"),s=o("./node_modules/ol/TileCache.js"),l=o("./node_modules/ol/TileState.js"),c=o("./node_modules/ol/source/UrlTile.js"),u=o("./node_modules/ol/reproj/common.js"),d=o("./node_modules/ol/source/common.js"),h=o("./node_modules/ol/proj.js"),p=o("./node_modules/ol/tilecoord.js"),f=o("./node_modules/ol/tilegrid.js"),g=o("./node_modules/ol/util.js"),m=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),y=function(e){function t(t){var o=e.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:v,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection})||this;return o.crossOrigin=void 0!==t.crossOrigin?t.crossOrigin:null,o.tileClass=void 0!==t.tileClass?t.tileClass:i.a,o.tileCacheForProjection={},o.tileGridForProjection={},o.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,o.contextOptions_=!1===t.imageSmoothing?d.b:void 0,o.renderReprojectionEdges_=!1,o}return m(t,e),t.prototype.canExpireCache=function(){if(!u.a)return e.prototype.canExpireCache.call(this);if(this.tileCache.canExpireCache())return!0;for(var t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1},t.prototype.expireCache=function(t,o){if(u.a){var n=this.getTileCacheForProjection(t);for(var r in this.tileCache.expireCache(this.tileCache==n?o:{}),this.tileCacheForProjection){var i=this.tileCacheForProjection[r];i.expireCache(i==n?o:{})}}else e.prototype.expireCache.call(this,t,o)},t.prototype.getContextOptions=function(){return this.contextOptions_},t.prototype.getGutterForProjection=function(e){return u.a&&this.getProjection()&&e&&!Object(h.o)(this.getProjection(),e)?0:this.getGutter()},t.prototype.getGutter=function(){return 0},t.prototype.getKey=function(){return e.prototype.getKey.call(this)+(this.contextOptions_?"\n"+JSON.stringify(this.contextOptions_):"")},t.prototype.getOpaque=function(t){return!(u.a&&this.getProjection()&&t&&!Object(h.o)(this.getProjection(),t))&&e.prototype.getOpaque.call(this,t)},t.prototype.getTileGridForProjection=function(t){if(!u.a)return e.prototype.getTileGridForProjection.call(this,t);var o=this.getProjection();if(!this.tileGrid||o&&!Object(h.o)(o,t)){var n=Object(g.c)(t);return n in this.tileGridForProjection||(this.tileGridForProjection[n]=Object(f.e)(t)),this.tileGridForProjection[n]}return this.tileGrid},t.prototype.getTileCacheForProjection=function(t){if(!u.a)return e.prototype.getTileCacheForProjection.call(this,t);var o=this.getProjection();if(!o||Object(h.o)(o,t))return this.tileCache;var n=Object(g.c)(t);return n in this.tileCacheForProjection||(this.tileCacheForProjection[n]=new s.a(this.tileCache.highWaterMark)),this.tileCacheForProjection[n]},t.prototype.createTile_=function(e,t,o,n,i,a){var s=[e,t,o],c=this.getTileCoordForTileUrlFunction(s,i),u=c?this.tileUrlFunction(c,n,i):void 0,d=new this.tileClass(s,void 0!==u?l.a.IDLE:l.a.EMPTY,void 0!==u?u:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return d.key=a,d.addEventListener(r.a.CHANGE,this.handleTileChange.bind(this)),d},t.prototype.getTile=function(e,t,o,n,r){var i=this.getProjection();if(u.a&&i&&r&&!Object(h.o)(i,r)){var s=this.getTileCacheForProjection(r),l=[e,t,o],c=void 0,d=Object(p.d)(l);s.containsKey(d)&&(c=s.get(d));var f=this.getKey();if(c&&c.key==f)return c;var g=this.getTileGridForProjection(i),m=this.getTileGridForProjection(r),y=this.getTileCoordForTileUrlFunction(l,r),v=new a.a(i,g,r,m,l,y,this.getTilePixelRatio(n),this.getGutter(),function(e,t,o,n){return this.getTileInternal(e,t,o,n,i)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.contextOptions_);return v.key=f,c?(v.interimTile=c,v.refreshInterimChain(),s.replace(d,v)):s.set(d,v),v}return this.getTileInternal(e,t,o,n,i||r)},t.prototype.getTileInternal=function(e,t,o,n,r){var i=null,a=Object(p.e)(e,t,o),s=this.getKey();if(this.tileCache.containsKey(a)){if((i=this.tileCache.get(a)).key!=s){var c=i;i=this.createTile_(e,t,o,n,r,s),c.getState()==l.a.IDLE?i.interimTile=c.interimTile:i.interimTile=c,i.refreshInterimChain(),this.tileCache.replace(a,i)}}else i=this.createTile_(e,t,o,n,r,s),this.tileCache.set(a,i);return i},t.prototype.setRenderReprojectionEdges=function(e){if(u.a&&this.renderReprojectionEdges_!=e){for(var t in this.renderReprojectionEdges_=e,this.tileCacheForProjection)this.tileCacheForProjection[t].clear();this.changed()}},t.prototype.setTileGridForProjection=function(e,t){if(u.a){var o=Object(h.t)(e);if(o){var n=Object(g.c)(o);n in this.tileGridForProjection||(this.tileGridForProjection[n]=t)}}},t}(c.a);function v(e,t){e.getImage().src=t}t.a=y},"./node_modules/ol/source/TileJSON.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/source/State.js"),i=o("./node_modules/ol/source/TileImage.js"),a=o("./node_modules/ol/extent.js"),s=o("./node_modules/ol/asserts.js"),l=o("./node_modules/ol/tileurlfunction.js"),c=o("./node_modules/ol/tilegrid.js"),u=o("./node_modules/ol/proj.js"),d=o("./node_modules/ol/net.js"),h=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),p=function(e){function t(t){var o=e.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,imageSmoothing:t.imageSmoothing,projection:Object(u.t)("EPSG:3857"),reprojectionErrorThreshold:t.reprojectionErrorThreshold,state:r.a.LOADING,tileLoadFunction:t.tileLoadFunction,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition,zDirection:t.zDirection})||this;if(o.tileJSON_=null,o.tileSize_=t.tileSize,t.url)if(t.jsonp)Object(d.d)(t.url,o.handleTileJSONResponse.bind(o),o.handleTileJSONError.bind(o));else{var n=new XMLHttpRequest;n.addEventListener("load",o.onXHRLoad_.bind(o)),n.addEventListener("error",o.onXHRError_.bind(o)),n.open("GET",t.url),n.send()}else t.tileJSON?o.handleTileJSONResponse(t.tileJSON):Object(s.a)(!1,51);return o}return h(t,e),t.prototype.onXHRLoad_=function(e){var t=e.target;if(!t.status||t.status>=200&&t.status<300){var o=void 0;try{o=JSON.parse(t.responseText)}catch(e){return void this.handleTileJSONError()}this.handleTileJSONResponse(o)}else this.handleTileJSONError()},t.prototype.onXHRError_=function(e){this.handleTileJSONError()},t.prototype.getTileJSON=function(){return this.tileJSON_},t.prototype.handleTileJSONResponse=function(e){var t,o=Object(u.t)("EPSG:4326"),n=this.getProjection();if(void 0!==e.bounds){var i=Object(u.w)(o,n);t=Object(a.a)(e.bounds,i)}var s=Object(c.d)(n),d=e.minzoom||0,h=e.maxzoom||22,p=Object(c.c)({extent:s,maxZoom:h,minZoom:d,tileSize:this.tileSize_});if(this.tileGrid=p,this.tileUrlFunction=Object(l.b)(e.tiles,p),void 0!==e.attribution&&!this.getAttributions()){var f=void 0!==t?t:s;this.setAttributions((function(t){return Object(a.O)(f,t.extent)?[e.attribution]:null}))}this.tileJSON_=e,this.setState(r.a.READY)},t.prototype.handleTileJSONError=function(){this.setState(r.a.ERROR)},t}(i.a);t.a=p},"./node_modules/ol/source/TileWMS.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/source/common.js"),i=o("./node_modules/ol/source/TileImage.js"),a=o("./node_modules/ol/source/WMSServerType.js"),s=o("./node_modules/ol/uri.js"),l=o("./node_modules/ol/asserts.js"),c=o("./node_modules/ol/obj.js"),u=o("./node_modules/ol/extent.js"),d=o("./node_modules/ol/size.js"),h=o("./node_modules/ol/reproj.js"),p=o("./node_modules/ol/string.js"),f=o("./node_modules/ol/proj.js"),g=o("./node_modules/ol/math.js"),m=o("./node_modules/ol/tilecoord.js"),y=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),v=function(e){function t(t){var o=this,n=t||{},r=n.params||{},i=!("TRANSPARENT"in r)||r.TRANSPARENT;return(o=e.call(this,{attributions:n.attributions,attributionsCollapsible:n.attributionsCollapsible,cacheSize:n.cacheSize,crossOrigin:n.crossOrigin,imageSmoothing:n.imageSmoothing,opaque:!i,projection:n.projection,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileClass:n.tileClass,tileGrid:n.tileGrid,tileLoadFunction:n.tileLoadFunction,url:n.url,urls:n.urls,wrapX:void 0===n.wrapX||n.wrapX,transition:n.transition,zDirection:n.zDirection})||this).gutter_=void 0!==n.gutter?n.gutter:0,o.params_=r,o.v13_=!0,o.serverType_=n.serverType,o.hidpi_=void 0===n.hidpi||n.hidpi,o.tmpExtent_=Object(u.k)(),o.updateV13_(),o.setKey(o.getKeyForParams_()),o}return y(t,e),t.prototype.getFeatureInfoUrl=function(e,t,o,n){var i=Object(f.t)(o),a=this.getProjection(),s=this.getTileGrid();s||(s=this.getTileGridForProjection(i));var l=s.getZForResolution(t,this.zDirection),p=s.getTileCoordForCoordAndZ(e,l);if(!(s.getResolutions().length<=p[0])){var g=s.getResolution(p[0]),m=s.getTileCoordExtent(p,this.tmpExtent_),y=Object(d.d)(s.getTileSize(p[0]),this.tmpSize),v=this.gutter_;0!==v&&(y=Object(d.a)(y,v,this.tmpSize),m=Object(u.d)(m,g*v,m)),a&&a!==i&&(g=Object(h.b)(a,i,e,g),m=Object(f.F)(m,i,a),e=Object(f.E)(e,i,a));var _={SERVICE:"WMS",VERSION:r.a,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};Object(c.a)(_,this.params_,n);var b=Math.floor((e[0]-m[0])/g),A=Math.floor((m[3]-e[1])/g);return _[this.v13_?"I":"X"]=b,_[this.v13_?"J":"Y"]=A,this.getRequestUrl_(p,y,m,1,a||i,_)}},t.prototype.getLegendUrl=function(e,t){if(void 0!==this.urls[0]){var o={SERVICE:"WMS",VERSION:r.a,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===t||void 0===t.LAYER){var n=this.params_.LAYERS;if(!(!Array.isArray(n)||1===n.length))return;o.LAYER=n}if(void 0!==e){var i=this.getProjection()?this.getProjection().getMetersPerUnit():1;o.SCALE=e*i/28e-5}return Object(c.a)(o,t),Object(s.a)(this.urls[0],o)}},t.prototype.getGutter=function(){return this.gutter_},t.prototype.getParams=function(){return this.params_},t.prototype.getRequestUrl_=function(e,t,o,n,r,i){var c=this.urls;if(c){if(i.WIDTH=t[0],i.HEIGHT=t[1],i[this.v13_?"CRS":"SRS"]=r.getCode(),"STYLES"in this.params_||(i.STYLES=""),1!=n)switch(this.serverType_){case a.a.GEOSERVER:var u=90*n+.5|0;"FORMAT_OPTIONS"in i?i.FORMAT_OPTIONS+=";dpi:"+u:i.FORMAT_OPTIONS="dpi:"+u;break;case a.a.MAPSERVER:i.MAP_RESOLUTION=90*n;break;case a.a.CARMENTA_SERVER:case a.a.QGIS:i.DPI=90*n;break;default:Object(l.a)(!1,52)}var d,h=r.getAxisOrientation(),p=o;if(this.v13_&&"ne"==h.substr(0,2)){var f=void 0;f=o[0],p[0]=o[1],p[1]=f,f=o[2],p[2]=o[3],p[3]=f}if(i.BBOX=p.join(","),1==c.length)d=c[0];else d=c[Object(g.e)(Object(m.f)(e),c.length)];return Object(s.a)(d,i)}},t.prototype.getTilePixelRatio=function(e){return this.hidpi_&&void 0!==this.serverType_?e:1},t.prototype.getKeyForParams_=function(){var e=0,t=[];for(var o in this.params_)t[e++]=o+"-"+this.params_[o];return t.join("/")},t.prototype.updateParams=function(e){Object(c.a)(this.params_,e),this.updateV13_(),this.setKey(this.getKeyForParams_())},t.prototype.updateV13_=function(){var e=this.params_.VERSION||r.a;this.v13_=Object(p.a)(e,"1.3")>=0},t.prototype.tileUrlFunction=function(e,t,o){var n=this.getTileGrid();if(n||(n=this.getTileGridForProjection(o)),!(n.getResolutions().length<=e[0])){1==t||this.hidpi_&&void 0!==this.serverType_||(t=1);var i=n.getResolution(e[0]),a=n.getTileCoordExtent(e,this.tmpExtent_),s=Object(d.d)(n.getTileSize(e[0]),this.tmpSize),l=this.gutter_;0!==l&&(s=Object(d.a)(s,l,this.tmpSize),a=Object(u.d)(a,i*l,a)),1!=t&&(s=Object(d.c)(s,t,this.tmpSize));var h={SERVICE:"WMS",VERSION:r.a,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};return Object(c.a)(h,this.params_),this.getRequestUrl_(e,s,a,t,o,h)}},t}(i.a);t.a=v},"./node_modules/ol/source/UrlTile.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/source/TileEventType.js"),i=o("./node_modules/ol/source/Tile.js"),a=o("./node_modules/ol/TileState.js"),s=o("./node_modules/ol/tileurlfunction.js"),l=o("./node_modules/ol/tilecoord.js"),c=o("./node_modules/ol/util.js"),u=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),d=function(e){function t(o){var n=e.call(this,{attributions:o.attributions,cacheSize:o.cacheSize,opaque:o.opaque,projection:o.projection,state:o.state,tileGrid:o.tileGrid,tilePixelRatio:o.tilePixelRatio,wrapX:o.wrapX,transition:o.transition,key:o.key,attributionsCollapsible:o.attributionsCollapsible,zDirection:o.zDirection})||this;return n.generateTileUrlFunction_=n.tileUrlFunction===t.prototype.tileUrlFunction,n.tileLoadFunction=o.tileLoadFunction,o.tileUrlFunction&&(n.tileUrlFunction=o.tileUrlFunction),n.urls=null,o.urls?n.setUrls(o.urls):o.url&&n.setUrl(o.url),n.tileLoadingKeys_={},n}return u(t,e),t.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},t.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction},t.prototype.getUrls=function(){return this.urls},t.prototype.handleTileChange=function(e){var t,o=e.target,n=Object(c.c)(o),s=o.getState();s==a.a.LOADING?(this.tileLoadingKeys_[n]=!0,t=r.a.TILELOADSTART):n in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[n],t=s==a.a.ERROR?r.a.TILELOADERROR:s==a.a.LOADED?r.a.TILELOADEND:void 0),null!=t&&this.dispatchEvent(new i.a(t,o))},t.prototype.setTileLoadFunction=function(e){this.tileCache.clear(),this.tileLoadFunction=e,this.changed()},t.prototype.setTileUrlFunction=function(e,t){this.tileUrlFunction=e,this.tileCache.pruneExceptNewestZ(),void 0!==t?this.setKey(t):this.changed()},t.prototype.setUrl=function(e){var t=Object(s.d)(e);this.urls=t,this.setUrls(t)},t.prototype.setUrls=function(e){this.urls=e;var t=e.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(Object(s.b)(e,this.tileGrid),t):this.setKey(t)},t.prototype.tileUrlFunction=function(e,t,o){},t.prototype.useTile=function(e,t,o){var n=Object(l.e)(e,t,o);this.tileCache.containsKey(n)&&this.tileCache.get(n)},t}(i.b);t.a=d},"./node_modules/ol/source/Vector.js":function(e,t,o){"use strict";o.d(t,"a",(function(){return w}));var n,r=o("./node_modules/ol/Collection.js"),i=o("./node_modules/ol/CollectionEventType.js"),a=o("./node_modules/ol/events/Event.js"),s=o("./node_modules/ol/events/EventType.js"),l=o("./node_modules/ol/ObjectEventType.js"),c=o("./node_modules/ol/structs/RBush.js"),u=o("./node_modules/ol/source/Source.js"),d=o("./node_modules/ol/source/State.js"),h=o("./node_modules/ol/source/VectorEventType.js"),p=o("./node_modules/ol/functions.js"),f=o("./node_modules/ol/loadingstrategy.js"),g=o("./node_modules/ol/asserts.js"),m=o("./node_modules/ol/extent.js"),y=o("./node_modules/ol/array.js"),v=o("./node_modules/ol/util.js"),_=o("./node_modules/ol/obj.js"),b=o("./node_modules/ol/events.js"),A=o("./node_modules/ol/featureloader.js"),C=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),w=function(e){function t(t,o,n){var r=e.call(this,t)||this;return r.feature=o,r.features=n,r}return C(t,e),t}(a.a),E=function(e){function t(t){var o=this,n=t||{};(o=e.call(this,{attributions:n.attributions,projection:void 0,state:d.a.READY,wrapX:void 0===n.wrapX||n.wrapX})||this).on,o.once,o.un,o.loader_=p.c,o.format_=n.format,o.overlaps_=void 0===n.overlaps||n.overlaps,o.url_=n.url,void 0!==n.loader?o.loader_=n.loader:void 0!==o.url_&&(Object(g.a)(o.format_,7),o.loader_=Object(A.c)(o.url_,o.format_)),o.strategy_=void 0!==n.strategy?n.strategy:f.a;var i,a,s=void 0===n.useSpatialIndex||n.useSpatialIndex;return o.featuresRtree_=s?new c.a:null,o.loadedExtentsRtree_=new c.a,o.loadingExtentsCount_=0,o.nullGeometryFeatures_={},o.idIndex_={},o.uidIndex_={},o.featureChangeKeys_={},o.featuresCollection_=null,Array.isArray(n.features)?a=n.features:n.features&&(a=(i=n.features).getArray()),s||void 0!==i||(i=new r.b(a)),void 0!==a&&o.addFeaturesInternal(a),void 0!==i&&o.bindFeaturesCollection_(i),o}return C(t,e),t.prototype.addFeature=function(e){this.addFeatureInternal(e),this.changed()},t.prototype.addFeatureInternal=function(e){var t=Object(v.c)(e);if(this.addToIndex_(t,e)){this.setupChangeEvents_(t,e);var o=e.getGeometry();if(o){var n=o.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(n,e)}else this.nullGeometryFeatures_[t]=e;this.dispatchEvent(new w(h.a.ADDFEATURE,e))}else this.featuresCollection_&&this.featuresCollection_.remove(e)},t.prototype.setupChangeEvents_=function(e,t){this.featureChangeKeys_[e]=[Object(b.a)(t,s.a.CHANGE,this.handleFeatureChange_,this),Object(b.a)(t,l.a.PROPERTYCHANGE,this.handleFeatureChange_,this)]},t.prototype.addToIndex_=function(e,t){var o=!0,n=t.getId();return void 0!==n&&(n.toString()in this.idIndex_?o=!1:this.idIndex_[n.toString()]=t),o&&(Object(g.a)(!(e in this.uidIndex_),30),this.uidIndex_[e]=t),o},t.prototype.addFeatures=function(e){this.addFeaturesInternal(e),this.changed()},t.prototype.addFeaturesInternal=function(e){for(var t=[],o=[],n=[],r=0,i=e.length;r<i;r++){var a=e[r],s=Object(v.c)(a);this.addToIndex_(s,a)&&o.push(a)}r=0;for(var l=o.length;r<l;r++){a=o[r],s=Object(v.c)(a);this.setupChangeEvents_(s,a);var c=a.getGeometry();if(c){var u=c.getExtent();t.push(u),n.push(a)}else this.nullGeometryFeatures_[s]=a}this.featuresRtree_&&this.featuresRtree_.load(t,n);r=0;for(var d=o.length;r<d;r++)this.dispatchEvent(new w(h.a.ADDFEATURE,o[r]))},t.prototype.bindFeaturesCollection_=function(e){var t=!1;this.addEventListener(h.a.ADDFEATURE,(function(o){t||(t=!0,e.push(o.feature),t=!1)})),this.addEventListener(h.a.REMOVEFEATURE,(function(o){t||(t=!0,e.remove(o.feature),t=!1)})),e.addEventListener(i.a.ADD,function(e){t||(t=!0,this.addFeature(e.element),t=!1)}.bind(this)),e.addEventListener(i.a.REMOVE,function(e){t||(t=!0,this.removeFeature(e.element),t=!1)}.bind(this)),this.featuresCollection_=e},t.prototype.clear=function(e){if(e){for(var t in this.featureChangeKeys_){this.featureChangeKeys_[t].forEach(b.c)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_)for(var o in this.featuresRtree_.forEach(this.removeFeatureInternal.bind(this)),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[o]);this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var n=new w(h.a.CLEAR);this.dispatchEvent(n),this.changed()},t.prototype.forEachFeature=function(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},t.prototype.forEachFeatureAtCoordinateDirect=function(e,t){var o=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(o,(function(o){return o.getGeometry().intersectsCoordinate(e)?t(o):void 0}))},t.prototype.forEachFeatureInExtent=function(e,t){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},t.prototype.forEachFeatureIntersectingExtent=function(e,t){return this.forEachFeatureInExtent(e,(function(o){if(o.getGeometry().intersectsExtent(e)){var n=t(o);if(n)return n}}))},t.prototype.getFeaturesCollection=function(){return this.featuresCollection_},t.prototype.getFeatures=function(){var e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),Object(_.d)(this.nullGeometryFeatures_)||Object(y.c)(e,Object(_.c)(this.nullGeometryFeatures_))),e},t.prototype.getFeaturesAtCoordinate=function(e){var t=[];return this.forEachFeatureAtCoordinateDirect(e,(function(e){t.push(e)})),t},t.prototype.getFeaturesInExtent=function(e){return this.featuresRtree_?this.featuresRtree_.getInExtent(e):this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]},t.prototype.getClosestFeatureToCoordinate=function(e,t){var o=e[0],n=e[1],r=null,i=[NaN,NaN],a=1/0,s=[-1/0,-1/0,1/0,1/0],l=t||p.b;return this.featuresRtree_.forEachInExtent(s,(function(e){if(l(e)){var t=e.getGeometry(),c=a;if((a=t.closestPointXY(o,n,i,a))<c){r=e;var u=Math.sqrt(a);s[0]=o-u,s[1]=n-u,s[2]=o+u,s[3]=n+u}}})),r},t.prototype.getExtent=function(e){return this.featuresRtree_.getExtent(e)},t.prototype.getFeatureById=function(e){var t=this.idIndex_[e.toString()];return void 0!==t?t:null},t.prototype.getFeatureByUid=function(e){var t=this.uidIndex_[e];return void 0!==t?t:null},t.prototype.getFormat=function(){return this.format_},t.prototype.getOverlaps=function(){return this.overlaps_},t.prototype.getUrl=function(){return this.url_},t.prototype.handleFeatureChange_=function(e){var t=e.target,o=Object(v.c)(t),n=t.getGeometry();if(n){var r=n.getExtent();o in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[o],this.featuresRtree_&&this.featuresRtree_.insert(r,t)):this.featuresRtree_&&this.featuresRtree_.update(r,t)}else o in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(t),this.nullGeometryFeatures_[o]=t);var i=t.getId();if(void 0!==i){var a=i.toString();this.idIndex_[a]!==t&&(this.removeFromIdIndex_(t),this.idIndex_[a]=t)}else this.removeFromIdIndex_(t),this.uidIndex_[o]=t;this.changed(),this.dispatchEvent(new w(h.a.CHANGEFEATURE,t))},t.prototype.hasFeature=function(e){var t=e.getId();return void 0!==t?t in this.idIndex_:Object(v.c)(e)in this.uidIndex_},t.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&Object(_.d)(this.nullGeometryFeatures_)},t.prototype.loadFeatures=function(e,t,o){for(var n=this.loadedExtentsRtree_,r=this.strategy_(e,t,o),i=function(e,i){var s=r[e];n.forEachInExtent(s,(function(e){return Object(m.h)(e.extent,s)}))||(++a.loadingExtentsCount_,a.dispatchEvent(new w(h.a.FEATURESLOADSTART)),a.loader_.call(a,s,t,o,function(e){--this.loadingExtentsCount_,this.dispatchEvent(new w(h.a.FEATURESLOADEND,void 0,e))}.bind(a),function(){--this.loadingExtentsCount_,this.dispatchEvent(new w(h.a.FEATURESLOADERROR))}.bind(a)),n.insert(s,{extent:s.slice()}))},a=this,s=0,l=r.length;s<l;++s)i(s);this.loading=!(this.loader_.length<4)&&this.loadingExtentsCount_>0},t.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),e.prototype.refresh.call(this)},t.prototype.removeLoadedExtent=function(e){var t,o=this.loadedExtentsRtree_;o.forEachInExtent(e,(function(o){if(Object(m.r)(o.extent,e))return t=o,!0})),t&&o.remove(t)},t.prototype.removeFeature=function(e){var t=Object(v.c)(e);t in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[t]:this.featuresRtree_&&this.featuresRtree_.remove(e),this.removeFeatureInternal(e),this.changed()},t.prototype.removeFeatureInternal=function(e){var t=Object(v.c)(e);this.featureChangeKeys_[t].forEach(b.c),delete this.featureChangeKeys_[t];var o=e.getId();void 0!==o&&delete this.idIndex_[o.toString()],delete this.uidIndex_[t],this.dispatchEvent(new w(h.a.REMOVEFEATURE,e))},t.prototype.removeFromIdIndex_=function(e){var t=!1;for(var o in this.idIndex_)if(this.idIndex_[o]===e){delete this.idIndex_[o],t=!0;break}return t},t.prototype.setLoader=function(e){this.loader_=e},t.prototype.setUrl=function(e){Object(g.a)(this.format_,7),this.url_=e,this.setLoader(Object(A.c)(e,this.format_))},t}(u.a);t.b=E},"./node_modules/ol/source/VectorEventType.js":function(e,t,o){"use strict";t.a={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"}},"./node_modules/ol/source/VectorTile.js":function(e,t,o){"use strict";o.d(t,"b",(function(){return v}));var n,r=o("./node_modules/ol/events/EventType.js"),i=o("./node_modules/ol/VectorTile.js"),a=o("./node_modules/ol/TileCache.js"),s=o("./node_modules/ol/TileState.js"),l=o("./node_modules/ol/source/UrlTile.js"),c=o("./node_modules/ol/VectorRenderTile.js"),u=o("./node_modules/ol/extent.js"),d=o("./node_modules/ol/tilegrid.js"),h=o("./node_modules/ol/tilecoord.js"),p=o("./node_modules/ol/obj.js"),f=o("./node_modules/ol/featureloader.js"),g=o("./node_modules/ol/size.js"),m=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),y=function(e){function t(t){var o=this,n=t.projection||"EPSG:3857",r=t.extent||Object(d.d)(n),s=t.tileGrid||Object(d.c)({extent:r,maxResolution:t.maxResolution,maxZoom:void 0!==t.maxZoom?t.maxZoom:22,minZoom:t.minZoom,tileSize:t.tileSize||512});return(o=e.call(this,{attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,cacheSize:t.cacheSize,opaque:!1,projection:n,state:t.state,tileGrid:s,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:v,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition,zDirection:void 0===t.zDirection?1:t.zDirection})||this).format_=t.format?t.format:null,o.sourceTileCache=new a.a(o.tileCache.highWaterMark),o.overlaps_=null==t.overlaps||t.overlaps,o.tileClass=t.tileClass?t.tileClass:i.a,o.tileGrids_={},o}return m(t,e),t.prototype.getFeaturesInExtent=function(e){var t=[],o=this.tileCache;if(0===o.getCount())return t;var n=Object(h.b)(o.peekFirstKey())[0],r=this.tileGrid;return o.forEach((function(o){if(o.tileCoord[0]===n&&o.getState()===s.a.LOADED)for(var i=o.getSourceTiles(),a=0,l=i.length;a<l;++a){var c=i[a],d=c.tileCoord;if(Object(u.O)(e,r.getTileCoordExtent(d))){var h=c.getFeatures();if(h)for(var p=0,f=h.length;p<f;++p){var g=h[p],m=g.getGeometry();Object(u.O)(e,m.getExtent())&&t.push(g)}}}})),t},t.prototype.getOverlaps=function(){return this.overlaps_},t.prototype.clear=function(){this.tileCache.clear(),this.sourceTileCache.clear()},t.prototype.expireCache=function(t,o){var n=this.getTileCacheForProjection(t),r=Object.keys(o).reduce((function(e,t){var o=Object(h.c)(t);if(n.containsKey(o))for(var r=n.get(o).sourceTiles,i=0,a=r.length;i<a;++i)e[r[i].getKey()]=!0;return e}),{});e.prototype.expireCache.call(this,t,o),this.sourceTileCache.expireCache(r)},t.prototype.getSourceTiles=function(e,t,o){var n=this;if(o.getState()===s.a.IDLE){o.setState(s.a.LOADING);var i=o.wrappedTileCoord,a=this.getTileGridForProjection(t),l=a.getTileCoordExtent(i),c=i[0],d=a.getResolution(c);Object(u.d)(l,-d,l);var h=this.tileGrid,f=h.getExtent();f&&Object(u.H)(l,f,l);var g=h.getZForResolution(d,1);h.forEachTileCoord(l,g,(function(i){var a=n.tileUrlFunction(i,e,t),l=n.sourceTileCache.containsKey(a)?n.sourceTileCache.get(a):new n.tileClass(i,a?s.a.IDLE:s.a.EMPTY,a,n.format_,n.tileLoadFunction);o.sourceTiles.push(l);var c=l.getState();if(c<s.a.LOADED){var u=function(e){n.handleTileChange(e);var t=l.getState();if(t===s.a.LOADED||t===s.a.ERROR){var i=l.getKey();i in o.errorTileKeys?l.getState()===s.a.LOADED&&delete o.errorTileKeys[i]:o.loadingSourceTiles--,t===s.a.ERROR?o.errorTileKeys[i]=!0:l.removeEventListener(r.a.CHANGE,u),0===o.loadingSourceTiles&&o.setState(Object(p.d)(o.errorTileKeys)?s.a.LOADED:s.a.ERROR)}};l.addEventListener(r.a.CHANGE,u),o.loadingSourceTiles++}c===s.a.IDLE&&(l.extent=h.getTileCoordExtent(i),l.projection=t,l.resolution=h.getResolution(i[0]),n.sourceTileCache.set(a,l),l.load())})),o.loadingSourceTiles||o.setState(o.sourceTiles.some((function(e){return e.getState()===s.a.ERROR}))?s.a.ERROR:s.a.LOADED)}return o.sourceTiles},t.prototype.getTile=function(e,t,o,n,r){var i,a=Object(h.e)(e,t,o),l=this.getKey();if(this.tileCache.containsKey(a)&&(i=this.tileCache.get(a)).key===l)return i;var d=[e,t,o],p=this.getTileCoordForTileUrlFunction(d,r),f=this.getTileGrid().getExtent(),g=this.getTileGridForProjection(r);if(p&&f){var m=g.getTileCoordExtent(p);Object(u.d)(m,-g.getResolution(e),m),Object(u.O)(f,m)||(p=null)}var y=!0;if(null!==p){var v=this.tileGrid,_=g.getResolution(e),b=v.getZForResolution(_,1),A=g.getTileCoordExtent(p);Object(u.d)(A,-_,A),v.forEachTileCoord(A,b,function(e){y=y&&!this.tileUrlFunction(e,n,r)}.bind(this))}var C=new c.a(d,y?s.a.EMPTY:s.a.IDLE,p,this.getSourceTiles.bind(this,n,r));return C.key=l,i?(C.interimTile=i,C.refreshInterimChain(),this.tileCache.replace(a,C)):this.tileCache.set(a,C),C},t.prototype.getTileGridForProjection=function(e){var t=e.getCode(),o=this.tileGrids_[t];if(!o){var n=this.tileGrid;o=Object(d.b)(e,void 0,n?n.getTileSize(n.getMinZoom()):void 0),this.tileGrids_[t]=o}return o},t.prototype.getTilePixelRatio=function(e){return e},t.prototype.getTilePixelSize=function(e,t,o){var n=this.getTileGridForProjection(o),r=Object(g.d)(n.getTileSize(e),this.tmpSize);return[Math.round(r[0]*t),Math.round(r[1]*t)]},t.prototype.updateCacheSize=function(t,o){e.prototype.updateCacheSize.call(this,2*t,o),this.sourceTileCache.highWaterMark=this.getTileCacheForProjection(o).highWaterMark},t}(l.a);function v(e,t){e.setLoader((function(o,n,r){Object(f.a)(t,e.getFormat(),o,n,r,e.onLoad.bind(e),e.onError.bind(e))}))}t.a=y},"./node_modules/ol/source/WMSServerType.js":function(e,t,o){"use strict";t.a={CARMENTA_SERVER:"carmentaserver",GEOSERVER:"geoserver",MAPSERVER:"mapserver",QGIS:"qgis"}},"./node_modules/ol/source/WMTS.js":function(e,t,o){"use strict";o.d(t,"b",(function(){return m}));var n,r=o("./node_modules/ol/source/TileImage.js"),i="KVP",a="REST",s=o("./node_modules/ol/uri.js"),l=o("./node_modules/ol/obj.js"),c=o("./node_modules/ol/extent.js"),u=o("./node_modules/ol/tilegrid/WMTS.js"),d=o("./node_modules/ol/tileurlfunction.js"),h=o("./node_modules/ol/proj.js"),p=o("./node_modules/ol/array.js"),f=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),g=function(e){function t(t){var o=this,n=void 0!==t.requestEncoding?t.requestEncoding:i,r=t.tileGrid,a=t.urls;return void 0===a&&void 0!==t.url&&(a=Object(d.d)(t.url)),(o=e.call(this,{attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,imageSmoothing:t.imageSmoothing,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:t.tileClass,tileGrid:r,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,urls:a,wrapX:void 0!==t.wrapX&&t.wrapX,transition:t.transition,zDirection:t.zDirection})||this).version_=void 0!==t.version?t.version:"1.0.0",o.format_=void 0!==t.format?t.format:"image/jpeg",o.dimensions_=void 0!==t.dimensions?t.dimensions:{},o.layer_=t.layer,o.matrixSet_=t.matrixSet,o.style_=t.style,o.requestEncoding_=n,o.setKey(o.getKeyForDimensions_()),a&&a.length>0&&(o.tileUrlFunction=Object(d.c)(a.map(o.createFromWMTSTemplate.bind(o)))),o}return f(t,e),t.prototype.setUrls=function(e){this.urls=e;var t=e.join("\n");this.setTileUrlFunction(Object(d.c)(e.map(this.createFromWMTSTemplate.bind(this))),t)},t.prototype.getDimensions=function(){return this.dimensions_},t.prototype.getFormat=function(){return this.format_},t.prototype.getLayer=function(){return this.layer_},t.prototype.getMatrixSet=function(){return this.matrixSet_},t.prototype.getRequestEncoding=function(){return this.requestEncoding_},t.prototype.getStyle=function(){return this.style_},t.prototype.getVersion=function(){return this.version_},t.prototype.getKeyForDimensions_=function(){var e=0,t=[];for(var o in this.dimensions_)t[e++]=o+"-"+this.dimensions_[o];return t.join("/")},t.prototype.updateDimensions=function(e){Object(l.a)(this.dimensions_,e),this.setKey(this.getKeyForDimensions_())},t.prototype.createFromWMTSTemplate=function(e){var t=this.requestEncoding_,o={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};t==i&&Object(l.a)(o,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_}),e=t==i?Object(s.a)(e,o):e.replace(/\{(\w+?)\}/g,(function(e,t){return t.toLowerCase()in o?o[t.toLowerCase()]:e}));var n=this.tileGrid,r=this.dimensions_;return function(o,a,c){if(o){var u={TileMatrix:n.getMatrixId(o[0]),TileCol:o[1],TileRow:o[2]};Object(l.a)(u,r);var d=e;return d=t==i?Object(s.a)(d,u):d.replace(/\{(\w+?)\}/g,(function(e,t){return u[t]}))}}},t}(r.a);t.a=g;function m(e,t){var o=e.Contents.Layer,n=Object(p.d)(o,(function(e,o,n){return e.Identifier==t.layer}));if(null===n)return null;var r,s=e.Contents.TileMatrixSet;(r=n.TileMatrixSetLink.length>1?"projection"in t?Object(p.e)(n.TileMatrixSetLink,(function(e,o,n){var r=Object(p.d)(s,(function(t){return t.Identifier==e.TileMatrixSet})).SupportedCRS,i=Object(h.t)(r),a=Object(h.t)(t.projection);return i&&a?Object(h.o)(i,a):r==t.projection})):Object(p.e)(n.TileMatrixSetLink,(function(e,o,n){return e.TileMatrixSet==t.matrixSet})):0)<0&&(r=0);var l=n.TileMatrixSetLink[r].TileMatrixSet,d=n.TileMatrixSetLink[r].TileMatrixSetLimits,f=n.Format[0];"format"in t&&(f=t.format),(r=Object(p.e)(n.Style,(function(e,o,n){return"style"in t?e.Title==t.style:e.isDefault})))<0&&(r=0);var g=n.Style[r].Identifier,m={};"Dimension"in n&&n.Dimension.forEach((function(e,t,o){var n=e.Identifier,r=e.Default;void 0===r&&(r=e.Value[0]),m[n]=r}));var y,v=e.Contents.TileMatrixSet,_=Object(p.d)(v,(function(e,t,o){return e.Identifier==l})),b=_.SupportedCRS;if(b&&(y=Object(h.t)(b)),"projection"in t){var A=Object(h.t)(t.projection);A&&(y&&!Object(h.o)(A,y)||(y=A))}var C=!1,w="ne"==y.getAxisOrientation().substr(0,2),E=_.TileMatrix[0],I={MinTileCol:0,MinTileRow:0,MaxTileCol:E.MatrixWidth-1,MaxTileRow:E.MatrixHeight-1};if(d){I=d[d.length-1];var O=Object(p.d)(_.TileMatrix,(function(e){return e.Identifier===I.TileMatrix||_.Identifier+":"+e.Identifier===I.TileMatrix}));O&&(E=O)}var S=28e-5*E.ScaleDenominator/y.getMetersPerUnit(),x=w?[E.TopLeftCorner[1],E.TopLeftCorner[0]]:E.TopLeftCorner,j=E.TileWidth*S,P=E.TileHeight*S,T=_.BoundingBox,M=[x[0]+j*I.MinTileCol,x[1]-P*(1+I.MaxTileRow),x[0]+j*(1+I.MaxTileCol),x[1]-P*I.MinTileRow];if(void 0!==T&&!Object(c.h)(T,M)){var R=n.WGS84BoundingBox,L=Object(h.t)("EPSG:4326").getExtent();if(M=T,R)C=R[0]===L[0]&&R[2]===L[2];else{var k=Object(h.F)(T,_.SupportedCRS,"EPSG:4326");C=k[0]-1e-10<=L[0]&&k[2]+1e-10>=L[2]}}var G=Object(u.a)(_,M,d),D=[],N=t.requestEncoding;if(N=void 0!==N?N:"","OperationsMetadata"in e&&"GetTile"in e.OperationsMetadata)for(var F=e.OperationsMetadata.GetTile.DCP.HTTP.Get,U=0,B=F.length;U<B;++U)if(F[U].Constraint){var z=Object(p.d)(F[U].Constraint,(function(e){return"GetEncoding"==e.name})).AllowedValues.Value;if(""===N&&(N=z[0]),N!==i)break;Object(p.f)(z,i)&&D.push(F[U].href)}else F[U].href&&(N=i,D.push(F[U].href));return 0===D.length&&(N=a,n.ResourceURL.forEach((function(e){"tile"===e.resourceType&&(f=e.format,D.push(e.template))}))),{urls:D,layer:t.layer,matrixSet:l,format:f,projection:y,requestEncoding:N,tileGrid:G,style:g,dimensions:m,wrapX:C,crossOrigin:t.crossOrigin}}},"./node_modules/ol/source/XYZ.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/source/TileImage.js"),i=o("./node_modules/ol/tilegrid.js"),a=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),s=function(e){function t(t){var o=t||{},n=void 0!==o.projection?o.projection:"EPSG:3857",r=void 0!==o.tileGrid?o.tileGrid:Object(i.c)({extent:Object(i.d)(n),maxResolution:o.maxResolution,maxZoom:o.maxZoom,minZoom:o.minZoom,tileSize:o.tileSize});return e.call(this,{attributions:o.attributions,cacheSize:o.cacheSize,crossOrigin:o.crossOrigin,imageSmoothing:o.imageSmoothing,opaque:o.opaque,projection:n,reprojectionErrorThreshold:o.reprojectionErrorThreshold,tileGrid:r,tileLoadFunction:o.tileLoadFunction,tilePixelRatio:o.tilePixelRatio,tileUrlFunction:o.tileUrlFunction,url:o.url,urls:o.urls,wrapX:void 0===o.wrapX||o.wrapX,transition:o.transition,attributionsCollapsible:o.attributionsCollapsible,zDirection:o.zDirection})||this}return a(t,e),t}(r.a);t.a=s},"./node_modules/ol/source/common.js":function(e,t,o){"use strict";o.d(t,"a",(function(){return n})),o.d(t,"b",(function(){return r}));var n="1.3.0",r={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1}},"./node_modules/ol/sphere.js":function(e,t,o){"use strict";o.d(t,"a",(function(){return i})),o.d(t,"c",(function(){return a})),o.d(t,"d",(function(){return l})),o.d(t,"b",(function(){return u})),o.d(t,"e",(function(){return d}));var n=o("./node_modules/ol/geom/GeometryType.js"),r=o("./node_modules/ol/math.js"),i=6371008.8;function a(e,t,o){var n=o||i,a=Object(r.j)(e[1]),s=Object(r.j)(t[1]),l=(s-a)/2,c=Object(r.j)(t[0]-e[0])/2,u=Math.sin(l)*Math.sin(l)+Math.sin(c)*Math.sin(c)*Math.cos(a)*Math.cos(s);return 2*n*Math.atan2(Math.sqrt(u),Math.sqrt(1-u))}function s(e,t){for(var o=0,n=0,r=e.length;n<r-1;++n)o+=a(e[n],e[n+1],t);return o}function l(e,t){var o=t||{},r=o.radius||i,a=o.projection||"EPSG:3857",c=e.getType();c!==n.a.GEOMETRY_COLLECTION&&(e=e.clone().transform(a,"EPSG:4326"));var u,d,h,p,f,g,m=0;switch(c){case n.a.POINT:case n.a.MULTI_POINT:break;case n.a.LINE_STRING:case n.a.LINEAR_RING:m=s(u=e.getCoordinates(),r);break;case n.a.MULTI_LINE_STRING:case n.a.POLYGON:for(h=0,p=(u=e.getCoordinates()).length;h<p;++h)m+=s(u[h],r);break;case n.a.MULTI_POLYGON:for(h=0,p=(u=e.getCoordinates()).length;h<p;++h)for(f=0,g=(d=u[h]).length;f<g;++f)m+=s(d[f],r);break;case n.a.GEOMETRY_COLLECTION:var y=e.getGeometries();for(h=0,p=y.length;h<p;++h)m+=l(y[h],t);break;default:throw new Error("Unsupported geometry type: "+c)}return m}function c(e,t){for(var o=0,n=e.length,i=e[n-1][0],a=e[n-1][1],s=0;s<n;s++){var l=e[s][0],c=e[s][1];o+=Object(r.j)(l-i)*(2+Math.sin(Object(r.j)(a))+Math.sin(Object(r.j)(c))),i=l,a=c}return o*t*t/2}function u(e,t){var o=t||{},r=o.radius||i,a=o.projection||"EPSG:3857",s=e.getType();s!==n.a.GEOMETRY_COLLECTION&&(e=e.clone().transform(a,"EPSG:4326"));var l,d,h,p,f,g,m=0;switch(s){case n.a.POINT:case n.a.MULTI_POINT:case n.a.LINE_STRING:case n.a.MULTI_LINE_STRING:case n.a.LINEAR_RING:break;case n.a.POLYGON:for(l=e.getCoordinates(),m=Math.abs(c(l[0],r)),h=1,p=l.length;h<p;++h)m-=Math.abs(c(l[h],r));break;case n.a.MULTI_POLYGON:for(h=0,p=(l=e.getCoordinates()).length;h<p;++h)for(d=l[h],m+=Math.abs(c(d[0],r)),f=1,g=d.length;f<g;++f)m-=Math.abs(c(d[f],r));break;case n.a.GEOMETRY_COLLECTION:var y=e.getGeometries();for(h=0,p=y.length;h<p;++h)m+=u(y[h],t);break;default:throw new Error("Unsupported geometry type: "+s)}return m}function d(e,t,o,n){var a=n||i,s=Object(r.j)(e[1]),l=Object(r.j)(e[0]),c=t/a,u=Math.asin(Math.sin(s)*Math.cos(c)+Math.cos(s)*Math.sin(c)*Math.cos(o)),d=l+Math.atan2(Math.sin(o)*Math.sin(c)*Math.cos(s),Math.cos(c)-Math.sin(s)*Math.sin(u));return[Object(r.i)(d),Object(r.i)(u)]}},"./node_modules/ol/string.js":function(e,t,o){"use strict";function n(e,t,o){var n=void 0!==o?e.toFixed(o):""+e,r=n.indexOf(".");return(r=-1===r?n.length:r)>t?n:new Array(1+t-r).join("0")+n}function r(e,t){for(var o=(""+e).split("."),n=(""+t).split("."),r=0;r<Math.max(o.length,n.length);r++){var i=parseInt(o[r]||"0",10),a=parseInt(n[r]||"0",10);if(i>a)return 1;if(a>i)return-1}return 0}o.d(t,"b",(function(){return n})),o.d(t,"a",(function(){return r}))},"./node_modules/ol/structs/LRUCache.js":function(e,t,o){"use strict";var n=o("./node_modules/ol/asserts.js"),r=function(){function e(e){this.highWaterMark=void 0!==e?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return e.prototype.canExpireCache=function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark},e.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},e.prototype.containsKey=function(e){return this.entries_.hasOwnProperty(e)},e.prototype.forEach=function(e){for(var t=this.oldest_;t;)e(t.value_,t.key_,this),t=t.newer},e.prototype.get=function(e,t){var o=this.entries_[e];return Object(n.a)(void 0!==o,15),o===this.newest_||(o===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(o.newer.older=o.older,o.older.newer=o.newer),o.newer=null,o.older=this.newest_,this.newest_.newer=o,this.newest_=o),o.value_},e.prototype.remove=function(e){var t=this.entries_[e];return Object(n.a)(void 0!==t,15),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[e],--this.count_,t.value_},e.prototype.getCount=function(){return this.count_},e.prototype.getKeys=function(){var e,t=new Array(this.count_),o=0;for(e=this.newest_;e;e=e.older)t[o++]=e.key_;return t},e.prototype.getValues=function(){var e,t=new Array(this.count_),o=0;for(e=this.newest_;e;e=e.older)t[o++]=e.value_;return t},e.prototype.peekLast=function(){return this.oldest_.value_},e.prototype.peekLastKey=function(){return this.oldest_.key_},e.prototype.peekFirstKey=function(){return this.newest_.key_},e.prototype.pop=function(){var e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_},e.prototype.replace=function(e,t){this.get(e),this.entries_[e].value_=t},e.prototype.set=function(e,t){Object(n.a)(!(e in this.entries_),16);var o={key_:e,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=o:this.oldest_=o,this.newest_=o,this.entries_[e]=o,++this.count_},e.prototype.setSize=function(e){this.highWaterMark=e},e}();t.a=r},"./node_modules/ol/structs/PriorityQueue.js":function(e,t,o){"use strict";o.d(t,"a",(function(){return i}));var n=o("./node_modules/ol/asserts.js"),r=o("./node_modules/ol/obj.js"),i=1/0,a=function(){function e(e,t){this.priorityFunction_=e,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return e.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,Object(r.b)(this.queuedElements_)},e.prototype.dequeue=function(){var e=this.elements_,t=this.priorities_,o=e[0];1==e.length?(e.length=0,t.length=0):(e[0]=e.pop(),t[0]=t.pop(),this.siftUp_(0));var n=this.keyFunction_(o);return delete this.queuedElements_[n],o},e.prototype.enqueue=function(e){Object(n.a)(!(this.keyFunction_(e)in this.queuedElements_),31);var t=this.priorityFunction_(e);return t!=i&&(this.elements_.push(e),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},e.prototype.getCount=function(){return this.elements_.length},e.prototype.getLeftChildIndex_=function(e){return 2*e+1},e.prototype.getRightChildIndex_=function(e){return 2*e+2},e.prototype.getParentIndex_=function(e){return e-1>>1},e.prototype.heapify_=function(){var e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)},e.prototype.isEmpty=function(){return 0===this.elements_.length},e.prototype.isKeyQueued=function(e){return e in this.queuedElements_},e.prototype.isQueued=function(e){return this.isKeyQueued(this.keyFunction_(e))},e.prototype.siftUp_=function(e){for(var t=this.elements_,o=this.priorities_,n=t.length,r=t[e],i=o[e],a=e;e<n>>1;){var s=this.getLeftChildIndex_(e),l=this.getRightChildIndex_(e),c=l<n&&o[l]<o[s]?l:s;t[e]=t[c],o[e]=o[c],e=c}t[e]=r,o[e]=i,this.siftDown_(a,e)},e.prototype.siftDown_=function(e,t){for(var o=this.elements_,n=this.priorities_,r=o[t],i=n[t];t>e;){var a=this.getParentIndex_(t);if(!(n[a]>i))break;o[t]=o[a],n[t]=n[a],t=a}o[t]=r,n[t]=i},e.prototype.reprioritize=function(){var e,t,o,n=this.priorityFunction_,r=this.elements_,a=this.priorities_,s=0,l=r.length;for(t=0;t<l;++t)(o=n(e=r[t]))==i?delete this.queuedElements_[this.keyFunction_(e)]:(a[s]=o,r[s++]=e);r.length=s,a.length=s,this.heapify_()},e}();t.b=a},"./node_modules/ol/structs/RBush.js":function(e,t,o){"use strict";var n=o("./node_modules/rbush/rbush.min.js"),r=o.n(n),i=o("./node_modules/ol/extent.js"),a=o("./node_modules/ol/util.js"),s=o("./node_modules/ol/obj.js"),l=function(){function e(e){this.rbush_=new r.a(e),this.items_={}}return e.prototype.insert=function(e,t){var o={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};this.rbush_.insert(o),this.items_[Object(a.c)(t)]=o},e.prototype.load=function(e,t){for(var o=new Array(t.length),n=0,r=t.length;n<r;n++){var i=e[n],s=t[n],l={minX:i[0],minY:i[1],maxX:i[2],maxY:i[3],value:s};o[n]=l,this.items_[Object(a.c)(s)]=l}this.rbush_.load(o)},e.prototype.remove=function(e){var t=Object(a.c)(e),o=this.items_[t];return delete this.items_[t],null!==this.rbush_.remove(o)},e.prototype.update=function(e,t){var o=this.items_[Object(a.c)(t)],n=[o.minX,o.minY,o.maxX,o.maxY];Object(i.r)(n,e)||(this.remove(t),this.insert(e,t))},e.prototype.getAll=function(){return this.rbush_.all().map((function(e){return e.value}))},e.prototype.getInExtent=function(e){var t={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]};return this.rbush_.search(t).map((function(e){return e.value}))},e.prototype.forEach=function(e){return this.forEach_(this.getAll(),e)},e.prototype.forEachInExtent=function(e,t){return this.forEach_(this.getInExtent(e),t)},e.prototype.forEach_=function(e,t){for(var o,n=0,r=e.length;n<r;n++)if(o=t(e[n]))return o;return o},e.prototype.isEmpty=function(){return Object(s.d)(this.items_)},e.prototype.clear=function(){this.rbush_.clear(),this.items_={}},e.prototype.getExtent=function(e){var t=this.rbush_.toJSON();return Object(i.l)(t.minX,t.minY,t.maxX,t.maxY,e)},e.prototype.concat=function(e){for(var t in this.rbush_.load(e.rbush_.all()),e.items_)this.items_[t]=e.items_[t]},e}();t.a=l},"./node_modules/ol/style/Circle.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/style/RegularShape.js"),i=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=function(e){function t(t){var o=t||{};return e.call(this,{points:1/0,fill:o.fill,radius:o.radius,stroke:o.stroke,scale:void 0!==o.scale?o.scale:1,rotation:void 0!==o.rotation?o.rotation:0,rotateWithView:void 0!==o.rotateWithView&&o.rotateWithView,displacement:void 0!==o.displacement?o.displacement:[0,0]})||this}return i(t,e),t.prototype.clone=function(){var e=this.getScale(),o=new t({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()});return o.setOpacity(this.getOpacity()),o},t.prototype.setRadius=function(e){this.radius_=e,this.render()},t}(r.a);t.a=a},"./node_modules/ol/style/Fill.js":function(e,t,o){"use strict";var n=function(){function e(e){var t=e||{};this.color_=void 0!==t.color?t.color:null}return e.prototype.clone=function(){var t=this.getColor();return new e({color:Array.isArray(t)?t.slice():t||void 0})},e.prototype.getColor=function(){return this.color_},e.prototype.setColor=function(e){this.color_=e},e}();t.a=n},"./node_modules/ol/style/Icon.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/events/EventType.js"),i=o("./node_modules/ol/style/IconAnchorUnits.js"),a=o("./node_modules/ol/style/IconOrigin.js"),s=o("./node_modules/ol/ImageState.js"),l=o("./node_modules/ol/style/Image.js"),c=o("./node_modules/ol/color.js"),u=o("./node_modules/ol/asserts.js"),d=o("./node_modules/ol/style/IconImage.js"),h=o("./node_modules/ol/util.js"),p=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),f=function(e){function t(t){var o=this,n=t||{},r=void 0!==n.opacity?n.opacity:1,l=void 0!==n.rotation?n.rotation:0,p=void 0!==n.scale?n.scale:1,f=void 0!==n.rotateWithView&&n.rotateWithView;(o=e.call(this,{opacity:r,rotation:l,scale:p,displacement:void 0!==n.displacement?n.displacement:[0,0],rotateWithView:f})||this).anchor_=void 0!==n.anchor?n.anchor:[.5,.5],o.normalizedAnchor_=null,o.anchorOrigin_=void 0!==n.anchorOrigin?n.anchorOrigin:a.a.TOP_LEFT,o.anchorXUnits_=void 0!==n.anchorXUnits?n.anchorXUnits:i.a.FRACTION,o.anchorYUnits_=void 0!==n.anchorYUnits?n.anchorYUnits:i.a.FRACTION,o.crossOrigin_=void 0!==n.crossOrigin?n.crossOrigin:null;var g=void 0!==n.img?n.img:null,m=void 0!==n.imgSize?n.imgSize:null,y=n.src;Object(u.a)(!(void 0!==y&&g),4),Object(u.a)(!g||g&&m,5),void 0!==y&&0!==y.length||!g||(y=g.src||Object(h.c)(g)),Object(u.a)(void 0!==y&&y.length>0,6);var v=void 0!==n.src?s.a.IDLE:s.a.LOADED;return o.color_=void 0!==n.color?Object(c.a)(n.color):null,o.iconImage_=Object(d.b)(g,y,m,o.crossOrigin_,v,o.color_),o.offset_=void 0!==n.offset?n.offset:[0,0],o.offsetOrigin_=void 0!==n.offsetOrigin?n.offsetOrigin:a.a.TOP_LEFT,o.origin_=null,o.size_=void 0!==n.size?n.size:null,o}return p(t,e),t.prototype.clone=function(){var e=this.getScale();return new t({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},t.prototype.getAnchor=function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;var e=this.anchor_,t=this.getSize();if(this.anchorXUnits_==i.a.FRACTION||this.anchorYUnits_==i.a.FRACTION){if(!t)return null;e=this.anchor_.slice(),this.anchorXUnits_==i.a.FRACTION&&(e[0]*=t[0]),this.anchorYUnits_==i.a.FRACTION&&(e[1]*=t[1])}if(this.anchorOrigin_!=a.a.TOP_LEFT){if(!t)return null;e===this.anchor_&&(e=this.anchor_.slice()),this.anchorOrigin_!=a.a.TOP_RIGHT&&this.anchorOrigin_!=a.a.BOTTOM_RIGHT||(e[0]=-e[0]+t[0]),this.anchorOrigin_!=a.a.BOTTOM_LEFT&&this.anchorOrigin_!=a.a.BOTTOM_RIGHT||(e[1]=-e[1]+t[1])}var o=this.getDisplacement();return e[0]-=o[0],e[1]+=o[1],this.normalizedAnchor_=e,this.normalizedAnchor_},t.prototype.setAnchor=function(e){this.anchor_=e,this.normalizedAnchor_=null},t.prototype.getColor=function(){return this.color_},t.prototype.getImage=function(e){return this.iconImage_.getImage(e)},t.prototype.getPixelRatio=function(e){return this.iconImage_.getPixelRatio(e)},t.prototype.getImageSize=function(){return this.iconImage_.getSize()},t.prototype.getImageState=function(){return this.iconImage_.getImageState()},t.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},t.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var e=this.offset_;if(this.offsetOrigin_!=a.a.TOP_LEFT){var t=this.getSize(),o=this.iconImage_.getSize();if(!t||!o)return null;e=e.slice(),this.offsetOrigin_!=a.a.TOP_RIGHT&&this.offsetOrigin_!=a.a.BOTTOM_RIGHT||(e[0]=o[0]-t[0]-e[0]),this.offsetOrigin_!=a.a.BOTTOM_LEFT&&this.offsetOrigin_!=a.a.BOTTOM_RIGHT||(e[1]=o[1]-t[1]-e[1])}return this.origin_=e,this.origin_},t.prototype.getSrc=function(){return this.iconImage_.getSrc()},t.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},t.prototype.listenImageChange=function(e){this.iconImage_.addEventListener(r.a.CHANGE,e)},t.prototype.load=function(){this.iconImage_.load()},t.prototype.unlistenImageChange=function(e){this.iconImage_.removeEventListener(r.a.CHANGE,e)},t}(l.a);t.a=f},"./node_modules/ol/style/IconAnchorUnits.js":function(e,t,o){"use strict";t.a={FRACTION:"fraction",PIXELS:"pixels"}},"./node_modules/ol/style/IconImage.js":function(e,t,o){"use strict";o.d(t,"b",(function(){return f}));var n,r=o("./node_modules/ol/events/Target.js"),i=o("./node_modules/ol/events/EventType.js"),a=o("./node_modules/ol/ImageState.js"),s=o("./node_modules/ol/color.js"),l=o("./node_modules/ol/dom.js"),c=o("./node_modules/ol/style/IconImageCache.js"),u=o("./node_modules/ol/Image.js"),d=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),h=null,p=function(e){function t(t,o,n,r,i,a){var s=e.call(this)||this;return s.hitDetectionImage_=null,s.image_=t||new Image,null!==r&&(s.image_.crossOrigin=r),s.canvas_={},s.color_=a,s.unlisten_=null,s.imageState_=i,s.size_=n,s.src_=o,s.tainted_,s}return d(t,e),t.prototype.isTainted_=function(){if(void 0===this.tainted_&&this.imageState_===a.a.LOADED){h||(h=Object(l.a)(1,1)),h.drawImage(this.image_,0,0);try{h.getImageData(0,0,1,1),this.tainted_=!1}catch(e){h=null,this.tainted_=!0}}return!0===this.tainted_},t.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(i.a.CHANGE)},t.prototype.handleImageError_=function(){this.imageState_=a.a.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},t.prototype.handleImageLoad_=function(){this.imageState_=a.a.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},t.prototype.getImage=function(e){return this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_},t.prototype.getPixelRatio=function(e){return this.replaceColor_(e),this.canvas_[e]?e:1},t.prototype.getImageState=function(){return this.imageState_},t.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var e=this.size_[0],t=this.size_[1],o=Object(l.a)(e,t);o.fillRect(0,0,e,t),this.hitDetectionImage_=o.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},t.prototype.getSize=function(){return this.size_},t.prototype.getSrc=function(){return this.src_},t.prototype.load=function(){if(this.imageState_==a.a.IDLE){this.imageState_=a.a.LOADING;try{this.image_.src=this.src_}catch(e){this.handleImageError_()}this.unlisten_=Object(u.b)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},t.prototype.replaceColor_=function(e){if(this.color_&&!this.canvas_[e]&&this.imageState_===a.a.LOADED){var t=document.createElement("canvas");this.canvas_[e]=t,t.width=Math.ceil(this.image_.width*e),t.height=Math.ceil(this.image_.height*e);var o=t.getContext("2d");if(o.scale(e,e),o.drawImage(this.image_,0,0),o.globalCompositeOperation="multiply","multiply"===o.globalCompositeOperation||this.isTainted_())o.fillStyle=Object(s.b)(this.color_),o.fillRect(0,0,t.width/e,t.height/e),o.globalCompositeOperation="destination-in",o.drawImage(this.image_,0,0);else{for(var n=o.getImageData(0,0,t.width,t.height),r=n.data,i=this.color_[0]/255,l=this.color_[1]/255,c=this.color_[2]/255,u=this.color_[3],d=0,h=r.length;d<h;d+=4)r[d]*=i,r[d+1]*=l,r[d+2]*=c,r[d+3]*=u;o.putImageData(n,0,0)}}},t.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},t}(r.a);function f(e,t,o,n,r,i){var a=c.b.get(t,n,i);return a||(a=new p(e,t,o,n,r,i),c.b.set(t,n,i,a)),a}t.a=p},"./node_modules/ol/style/IconImageCache.js":function(e,t,o){"use strict";o.d(t,"b",(function(){return a}));var n=o("./node_modules/ol/color.js"),r=function(){function e(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return e.prototype.clear=function(){this.cache_={},this.cacheSize_=0},e.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},e.prototype.expire=function(){if(this.canExpireCache()){var e=0;for(var t in this.cache_){var o=this.cache_[t];0!=(3&e++)||o.hasListener()||(delete this.cache_[t],--this.cacheSize_)}}},e.prototype.get=function(e,t,o){var n=i(e,t,o);return n in this.cache_?this.cache_[n]:null},e.prototype.set=function(e,t,o,n){var r=i(e,t,o);this.cache_[r]=n,++this.cacheSize_},e.prototype.setSize=function(e){this.maxCacheSize_=e,this.expire()},e}();function i(e,t,o){return t+":"+e+":"+(o?Object(n.b)(o):"null")}t.a=r;var a=new r},"./node_modules/ol/style/IconOrigin.js":function(e,t,o){"use strict";t.a={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}},"./node_modules/ol/style/Image.js":function(e,t,o){"use strict";var n=o("./node_modules/ol/util.js"),r=o("./node_modules/ol/size.js"),i=function(){function e(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=Object(r.d)(e.scale),this.displacement_=e.displacement}return e.prototype.clone=function(){var t=this.getScale();return new e({opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()})},e.prototype.getOpacity=function(){return this.opacity_},e.prototype.getRotateWithView=function(){return this.rotateWithView_},e.prototype.getRotation=function(){return this.rotation_},e.prototype.getScale=function(){return this.scale_},e.prototype.getScaleArray=function(){return this.scaleArray_},e.prototype.getDisplacement=function(){return this.displacement_},e.prototype.getAnchor=function(){return Object(n.b)()},e.prototype.getImage=function(e){return Object(n.b)()},e.prototype.getHitDetectionImage=function(){return Object(n.b)()},e.prototype.getPixelRatio=function(e){return 1},e.prototype.getImageState=function(){return Object(n.b)()},e.prototype.getImageSize=function(){return Object(n.b)()},e.prototype.getOrigin=function(){return Object(n.b)()},e.prototype.getSize=function(){return Object(n.b)()},e.prototype.setOpacity=function(e){this.opacity_=e},e.prototype.setRotateWithView=function(e){this.rotateWithView_=e},e.prototype.setRotation=function(e){this.rotation_=e},e.prototype.setScale=function(e){this.scale_=e,this.scaleArray_=Object(r.d)(e)},e.prototype.listenImageChange=function(e){Object(n.b)()},e.prototype.load=function(){Object(n.b)()},e.prototype.unlistenImageChange=function(e){Object(n.b)()},e}();t.a=i},"./node_modules/ol/style/RegularShape.js":function(e,t,o){"use strict";var n,r=o("./node_modules/ol/ImageState.js"),i=o("./node_modules/ol/style/Image.js"),a=o("./node_modules/ol/color.js"),s=o("./node_modules/ol/colorlike.js"),l=o("./node_modules/ol/dom.js"),c=o("./node_modules/ol/render/canvas.js"),u=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),d=function(e){function t(t){var o=this,n=void 0!==t.rotateWithView&&t.rotateWithView;return(o=e.call(this,{opacity:1,rotateWithView:n,rotation:void 0!==t.rotation?t.rotation:0,scale:void 0!==t.scale?t.scale:1,displacement:void 0!==t.displacement?t.displacement:[0,0]})||this).canvas_=void 0,o.hitDetectionCanvas_=null,o.fill_=void 0!==t.fill?t.fill:null,o.origin_=[0,0],o.points_=t.points,o.radius_=void 0!==t.radius?t.radius:t.radius1,o.radius2_=t.radius2,o.angle_=void 0!==t.angle?t.angle:0,o.stroke_=void 0!==t.stroke?t.stroke:null,o.anchor_=null,o.size_=null,o.renderOptions_=null,o.render(),o}return u(t,e),t.prototype.clone=function(){var e=this.getScale(),o=new t({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice()});return o.setOpacity(this.getOpacity()),o},t.prototype.getAnchor=function(){return this.anchor_},t.prototype.getAngle=function(){return this.angle_},t.prototype.getFill=function(){return this.fill_},t.prototype.getHitDetectionImage=function(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_},t.prototype.getImage=function(e){var t=this.canvas_[e];if(!t){var o=this.renderOptions_,n=Object(l.a)(o.size*e,o.size*e);this.draw_(o,n,e),t=n.canvas,this.canvas_[e]=t}return t},t.prototype.getPixelRatio=function(e){return e},t.prototype.getImageSize=function(){return this.size_},t.prototype.getImageState=function(){return r.a.LOADED},t.prototype.getOrigin=function(){return this.origin_},t.prototype.getPoints=function(){return this.points_},t.prototype.getRadius=function(){return this.radius_},t.prototype.getRadius2=function(){return this.radius2_},t.prototype.getSize=function(){return this.size_},t.prototype.getStroke=function(){return this.stroke_},t.prototype.listenImageChange=function(e){},t.prototype.load=function(){},t.prototype.unlistenImageChange=function(e){},t.prototype.calculateLineJoinSize_=function(e,t,o){if(0===t||this.points_===1/0||"bevel"!==e&&"miter"!==e)return t;var n=this.radius_,r=void 0===this.radius2_?n:this.radius2_;if(n<r){var i=n;n=r,r=i}var a=void 0===this.radius2_?this.points_:2*this.points_,s=2*Math.PI/a,l=r*Math.sin(s),c=n-Math.sqrt(r*r-l*l),u=Math.sqrt(l*l+c*c),d=u/l;if("miter"===e&&d<=o)return d*t;var h=t/2/d,p=t/2*(c/u),f=Math.sqrt((n+h)*(n+h)+p*p)-n;if(void 0===this.radius2_||"bevel"===e)return 2*f;var g=n*Math.sin(s),m=r-Math.sqrt(n*n-g*g),y=Math.sqrt(g*g+m*m)/g;if(y<=o){var v=y*t/2-r-n;return 2*Math.max(f,v)}return 2*f},t.prototype.createRenderOptions=function(){var e,t=c.g,o=0,n=null,r=0,i=0;this.stroke_&&(null===(e=this.stroke_.getColor())&&(e=c.k),e=Object(s.a)(e),void 0===(i=this.stroke_.getWidth())&&(i=c.h),n=this.stroke_.getLineDash(),r=this.stroke_.getLineDashOffset(),void 0===(t=this.stroke_.getLineJoin())&&(t=c.g),void 0===(o=this.stroke_.getMiterLimit())&&(o=c.i));var a=this.calculateLineJoinSize_(t,i,o),l=Math.max(this.radius_,this.radius2_||0);return{strokeStyle:e,strokeWidth:i,size:Math.ceil(2*l+a),lineDash:n,lineDashOffset:r,lineJoin:t,miterLimit:o}},t.prototype.render=function(){this.renderOptions_=this.createRenderOptions();var e=this.renderOptions_.size,t=this.getDisplacement();this.canvas_={},this.anchor_=[e/2-t[0],e/2+t[1]],this.size_=[e,e]},t.prototype.draw_=function(e,t,o){if(t.scale(o,o),t.translate(e.size/2,e.size/2),this.createPath_(t),this.fill_){var n=this.fill_.getColor();null===n&&(n=c.b),t.fillStyle=Object(s.a)(n),t.fill()}this.stroke_&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,t.setLineDash&&e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())},t.prototype.createHitDetectionCanvas_=function(e){if(this.fill_){var t=this.fill_.getColor(),o=0;if("string"==typeof t&&(t=Object(a.a)(t)),null===t?o=1:Array.isArray(t)&&(o=4===t.length?t[3]:1),0===o){var n=Object(l.a)(e.size,e.size);this.hitDetectionCanvas_=n.canvas,this.drawHitDetectionCanvas_(e,n)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))},t.prototype.createPath_=function(e){var t=this.points_,o=this.radius_;if(t===1/0)e.arc(0,0,o,0,2*Math.PI);else{var n=void 0===this.radius2_?o:this.radius2_;void 0!==this.radius2_&&(t*=2);for(var r=this.angle_-Math.PI/2,i=2*Math.PI/t,a=0;a<t;a++){var s=r+a*i,l=a%2==0?o:n;e.lineTo(l*Math.cos(s),l*Math.sin(s))}e.closePath()}},t.prototype.drawHitDetectionCanvas_=function(e,t){t.translate(e.size/2,e.size/2),this.createPath_(t),t.fillStyle=c.b,t.fill(),this.stroke_&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())},t}(i.a);t.a=d},"./node_modules/ol/style/Stroke.js":function(e,t,o){"use strict";var n=function(){function e(e){var t=e||{};this.color_=void 0!==t.color?t.color:null,this.lineCap_=t.lineCap,this.lineDash_=void 0!==t.lineDash?t.lineDash:null,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width}return e.prototype.clone=function(){var t=this.getColor();return new e({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},e.prototype.getColor=function(){return this.color_},e.prototype.getLineCap=function(){return this.lineCap_},e.prototype.getLineDash=function(){return this.lineDash_},e.prototype.getLineDashOffset=function(){return this.lineDashOffset_},e.prototype.getLineJoin=function(){return this.lineJoin_},e.prototype.getMiterLimit=function(){return this.miterLimit_},e.prototype.getWidth=function(){return this.width_},e.prototype.setColor=function(e){this.color_=e},e.prototype.setLineCap=function(e){this.lineCap_=e},e.prototype.setLineDash=function(e){this.lineDash_=e},e.prototype.setLineDashOffset=function(e){this.lineDashOffset_=e},e.prototype.setLineJoin=function(e){this.lineJoin_=e},e.prototype.setMiterLimit=function(e){this.miterLimit_=e},e.prototype.setWidth=function(e){this.width_=e},e}();t.a=n},"./node_modules/ol/style/Style.js":function(e,t,o){"use strict";o.d(t,"d",(function(){return c})),o.d(t,"a",(function(){return d})),o.d(t,"b",(function(){return h}));var n=o("./node_modules/ol/style/Circle.js"),r=o("./node_modules/ol/style/Fill.js"),i=o("./node_modules/ol/geom/GeometryType.js"),a=o("./node_modules/ol/style/Stroke.js"),s=o("./node_modules/ol/asserts.js"),l=function(){function e(e){var t=e||{};this.geometry_=null,this.geometryFunction_=p,void 0!==t.geometry&&this.setGeometry(t.geometry),this.fill_=void 0!==t.fill?t.fill:null,this.image_=void 0!==t.image?t.image:null,this.renderer_=void 0!==t.renderer?t.renderer:null,this.hitDetectionRenderer_=void 0!==t.hitDetectionRenderer?t.hitDetectionRenderer:null,this.stroke_=void 0!==t.stroke?t.stroke:null,this.text_=void 0!==t.text?t.text:null,this.zIndex_=t.zIndex}return e.prototype.clone=function(){var t=this.getGeometry();return t&&"object"==typeof t&&(t=t.clone()),new e({geometry:t,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.setRenderer=function(e){this.renderer_=e},e.prototype.setHitDetectionRenderer=function(e){this.hitDetectionRenderer_=e},e.prototype.getHitDetectionRenderer=function(){return this.hitDetectionRenderer_},e.prototype.getGeometry=function(){return this.geometry_},e.prototype.getGeometryFunction=function(){return this.geometryFunction_},e.prototype.getFill=function(){return this.fill_},e.prototype.setFill=function(e){this.fill_=e},e.prototype.getImage=function(){return this.image_},e.prototype.setImage=function(e){this.image_=e},e.prototype.getStroke=function(){return this.stroke_},e.prototype.setStroke=function(e){this.stroke_=e},e.prototype.getText=function(){return this.text_},e.prototype.setText=function(e){this.text_=e},e.prototype.getZIndex=function(){return this.zIndex_},e.prototype.setGeometry=function(e){"function"==typeof e?this.geometryFunction_=e:"string"==typeof e?this.geometryFunction_=function(t){return t.get(e)}:e?void 0!==e&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=p,this.geometry_=e},e.prototype.setZIndex=function(e){this.zIndex_=e},e}();function c(e){var t;if("function"==typeof e)t=e;else{var o;if(Array.isArray(e))o=e;else Object(s.a)("function"==typeof e.getZIndex,41),o=[e];t=function(){return o}}return t}var u=null;function d(e,t){if(!u){var o=new r.a({color:"rgba(255,255,255,0.4)"}),i=new a.a({color:"#3399CC",width:1.25});u=[new l({image:new n.a({fill:o,stroke:i,radius:5}),fill:o,stroke:i})]}return u}function h(){var e={},t=[255,255,255,1],o=[0,153,255,1];return e[i.a.POLYGON]=[new l({fill:new r.a({color:[255,255,255,.5]})})],e[i.a.MULTI_POLYGON]=e[i.a.POLYGON],e[i.a.LINE_STRING]=[new l({stroke:new a.a({color:t,width:5})}),new l({stroke:new a.a({color:o,width:3})})],e[i.a.MULTI_LINE_STRING]=e[i.a.LINE_STRING],e[i.a.CIRCLE]=e[i.a.POLYGON].concat(e[i.a.LINE_STRING]),e[i.a.POINT]=[new l({image:new n.a({radius:6,fill:new r.a({color:o}),stroke:new a.a({color:t,width:1.5})}),zIndex:1/0})],e[i.a.MULTI_POINT]=e[i.a.POINT],e[i.a.GEOMETRY_COLLECTION]=e[i.a.POLYGON].concat(e[i.a.LINE_STRING],e[i.a.POINT]),e}function p(e){return e.getGeometry()}t.c=l},"./node_modules/ol/style/Text.js":function(e,t,o){"use strict";var n=o("./node_modules/ol/style/Fill.js"),r=o("./node_modules/ol/style/TextPlacement.js"),i=o("./node_modules/ol/size.js"),a=function(){function e(e){var t=e||{};this.font_=t.font,this.rotation_=t.rotation,this.rotateWithView_=t.rotateWithView,this.scale_=t.scale,this.scaleArray_=Object(i.d)(void 0!==t.scale?t.scale:1),this.text_=t.text,this.textAlign_=t.textAlign,this.textBaseline_=t.textBaseline,this.fill_=void 0!==t.fill?t.fill:new n.a({color:"#333"}),this.maxAngle_=void 0!==t.maxAngle?t.maxAngle:Math.PI/4,this.placement_=void 0!==t.placement?t.placement:r.a.POINT,this.overflow_=!!t.overflow,this.stroke_=void 0!==t.stroke?t.stroke:null,this.offsetX_=void 0!==t.offsetX?t.offsetX:0,this.offsetY_=void 0!==t.offsetY?t.offsetY:0,this.backgroundFill_=t.backgroundFill?t.backgroundFill:null,this.backgroundStroke_=t.backgroundStroke?t.backgroundStroke:null,this.padding_=void 0===t.padding?null:t.padding}return e.prototype.clone=function(){var t=this.getScale();return new e({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()})},e.prototype.getOverflow=function(){return this.overflow_},e.prototype.getFont=function(){return this.font_},e.prototype.getMaxAngle=function(){return this.maxAngle_},e.prototype.getPlacement=function(){return this.placement_},e.prototype.getOffsetX=function(){return this.offsetX_},e.prototype.getOffsetY=function(){return this.offsetY_},e.prototype.getFill=function(){return this.fill_},e.prototype.getRotateWithView=function(){return this.rotateWithView_},e.prototype.getRotation=function(){return this.rotation_},e.prototype.getScale=function(){return this.scale_},e.prototype.getScaleArray=function(){return this.scaleArray_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.getText=function(){return this.text_},e.prototype.getTextAlign=function(){return this.textAlign_},e.prototype.getTextBaseline=function(){return this.textBaseline_},e.prototype.getBackgroundFill=function(){return this.backgroundFill_},e.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},e.prototype.getPadding=function(){return this.padding_},e.prototype.setOverflow=function(e){this.overflow_=e},e.prototype.setFont=function(e){this.font_=e},e.prototype.setMaxAngle=function(e){this.maxAngle_=e},e.prototype.setOffsetX=function(e){this.offsetX_=e},e.prototype.setOffsetY=function(e){this.offsetY_=e},e.prototype.setPlacement=function(e){this.placement_=e},e.prototype.setRotateWithView=function(e){this.rotateWithView_=e},e.prototype.setFill=function(e){this.fill_=e},e.prototype.setRotation=function(e){this.rotation_=e},e.prototype.setScale=function(e){this.scale_=e,this.scaleArray_=Object(i.d)(void 0!==e?e:1)},e.prototype.setStroke=function(e){this.stroke_=e},e.prototype.setText=function(e){this.text_=e},e.prototype.setTextAlign=function(e){this.textAlign_=e},e.prototype.setTextBaseline=function(e){this.textBaseline_=e},e.prototype.setBackgroundFill=function(e){this.backgroundFill_=e},e.prototype.setBackgroundStroke=function(e){this.backgroundStroke_=e},e.prototype.setPadding=function(e){this.padding_=e},e}();t.a=a},"./node_modules/ol/style/TextPlacement.js":function(e,t,o){"use strict";t.a={POINT:"point",LINE:"line"}},"./node_modules/ol/tilecoord.js":function(e,t,o){"use strict";function n(e,t,o,n){return void 0!==n?(n[0]=e,n[1]=t,n[2]=o,n):[e,t,o]}function r(e,t,o){return e+"/"+t+"/"+o}function i(e){return r(e[0],e[1],e[2])}function a(e){var t=e.substring(e.lastIndexOf("/")+1,e.length).split(",").map(Number);return r(t[0],t[1],t[2])}function s(e){return e.split("/").map(Number)}function l(e){return(e[1]<<e[0])+e[2]}function c(e,t){var o=e[0],n=e[1],r=e[2];if(t.getMinZoom()>o||o>t.getMaxZoom())return!1;var i=t.getFullTileRange(o);return!i||i.containsXY(n,r)}o.d(t,"a",(function(){return n})),o.d(t,"e",(function(){return r})),o.d(t,"d",(function(){return i})),o.d(t,"c",(function(){return a})),o.d(t,"b",(function(){return s})),o.d(t,"f",(function(){return l})),o.d(t,"g",(function(){return c}))},"./node_modules/ol/tilegrid.js":function(e,t,o){"use strict";o.d(t,"e",(function(){return u})),o.d(t,"f",(function(){return d})),o.d(t,"a",(function(){return h})),o.d(t,"c",(function(){return p})),o.d(t,"b",(function(){return g})),o.d(t,"d",(function(){return m}));var n=o("./node_modules/ol/extent/Corner.js"),r=o("./node_modules/ol/tilegrid/TileGrid.js"),i=o("./node_modules/ol/proj/Units.js"),a=o("./node_modules/ol/tilegrid/common.js"),s=o("./node_modules/ol/proj.js"),l=o("./node_modules/ol/extent.js"),c=o("./node_modules/ol/size.js");function u(e){var t=e.getDefaultTileGrid();return t||(t=g(e),e.setDefaultTileGrid(t)),t}function d(e,t,o){var n=t[0],r=e.getTileCoordCenter(t),i=m(o);if(Object(l.g)(i,r))return t;var a=Object(l.N)(i),s=Math.ceil((i[0]-r[0])/a);return r[0]+=a*s,e.getTileCoordForCoordAndZ(r,n)}function h(e,t,o,i){var a=void 0!==i?i:n.a.TOP_LEFT,s=f(e,t,o);return new r.a({extent:e,origin:Object(l.D)(e,a),resolutions:s,tileSize:o})}function p(e){var t=e||{},o=t.extent||Object(s.t)("EPSG:3857").getExtent(),n={extent:o,minZoom:t.minZoom,tileSize:t.tileSize,resolutions:f(o,t.maxZoom,t.tileSize,t.maxResolution)};return new r.a(n)}function f(e,t,o,n){for(var r=void 0!==t?t:a.a,i=Object(l.G)(e),s=Object(l.N)(e),u=Object(c.d)(void 0!==o?o:a.b),d=n>0?n:Math.max(s/u[0],i/u[1]),h=r+1,p=new Array(h),f=0;f<h;++f)p[f]=d/Math.pow(2,f);return p}function g(e,t,o,n){return h(m(e),t,o,n)}function m(e){var t=(e=Object(s.t)(e)).getExtent();if(!t){var o=180*s.a[i.b.DEGREES]/e.getMetersPerUnit();t=Object(l.l)(-o,-o,o,o)}return t}},"./node_modules/ol/tilegrid/TileGrid.js":function(e,t,o){"use strict";var n=o("./node_modules/ol/TileRange.js"),r=o("./node_modules/ol/tilegrid/common.js"),i=o("./node_modules/ol/asserts.js"),a=o("./node_modules/ol/math.js"),s=o("./node_modules/ol/extent.js"),l=o("./node_modules/ol/tilecoord.js"),c=o("./node_modules/ol/array.js"),u=o("./node_modules/ol/size.js"),d=[0,0,0],h=function(){function e(e){var t;if(this.minZoom=void 0!==e.minZoom?e.minZoom:0,this.resolutions_=e.resolutions,Object(i.a)(Object(c.g)(this.resolutions_,(function(e,t){return t-e}),!0),17),!e.origins)for(var o=0,a=this.resolutions_.length-1;o<a;++o)if(t){if(this.resolutions_[o]/this.resolutions_[o+1]!==t){t=void 0;break}}else t=this.resolutions_[o]/this.resolutions_[o+1];this.zoomFactor_=t,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==e.origin?e.origin:null,this.origins_=null,void 0!==e.origins&&(this.origins_=e.origins,Object(i.a)(this.origins_.length==this.resolutions_.length,20));var l=e.extent;void 0===l||this.origin_||this.origins_||(this.origin_=Object(s.L)(l)),Object(i.a)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==e.tileSizes&&(this.tileSizes_=e.tileSizes,Object(i.a)(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==e.tileSize?e.tileSize:this.tileSizes_?null:r.b,Object(i.a)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==l?l:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],void 0!==e.sizes?this.fullTileRanges_=e.sizes.map((function(e,t){var o=new n.b(Math.min(0,e[0]),Math.max(e[0]-1,-1),Math.min(0,e[1]),Math.max(e[1]-1,-1));if(l){var r=this.getTileRangeForExtentAndZ(l,t);o.minX=Math.max(r.minX,o.minX),o.maxX=Math.min(r.maxX,o.maxX),o.minY=Math.max(r.minY,o.minY),o.maxY=Math.min(r.maxY,o.maxY)}return o}),this):l&&this.calculateTileRanges_(l)}return e.prototype.forEachTileCoord=function(e,t,o){for(var n=this.getTileRangeForExtentAndZ(e,t),r=n.minX,i=n.maxX;r<=i;++r)for(var a=n.minY,s=n.maxY;a<=s;++a)o([t,r,a])},e.prototype.forEachTileCoordParentTileRange=function(e,t,o,r){var i,a,s,l=null,c=e[0]-1;for(2===this.zoomFactor_?(a=e[1],s=e[2]):l=this.getTileCoordExtent(e,r);c>=this.minZoom;){if(2===this.zoomFactor_?(a=Math.floor(a/2),s=Math.floor(s/2),i=Object(n.a)(a,a,s,s,o)):i=this.getTileRangeForExtentAndZ(l,c,o),t(c,i))return!0;--c}return!1},e.prototype.getExtent=function(){return this.extent_},e.prototype.getMaxZoom=function(){return this.maxZoom},e.prototype.getMinZoom=function(){return this.minZoom},e.prototype.getOrigin=function(e){return this.origin_?this.origin_:this.origins_[e]},e.prototype.getResolution=function(e){return this.resolutions_[e]},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getTileCoordChildTileRange=function(e,t,o){if(e[0]<this.maxZoom){if(2===this.zoomFactor_){var r=2*e[1],i=2*e[2];return Object(n.a)(r,r+1,i,i+1,t)}var a=this.getTileCoordExtent(e,o||this.tmpExtent_);return this.getTileRangeForExtentAndZ(a,e[0]+1,t)}return null},e.prototype.getTileRangeForTileCoordAndZ=function(e,t,o){if(t>this.maxZoom||t<this.minZoom)return null;var r=e[0],i=e[1],a=e[2];if(t===r)return Object(n.a)(i,a,i,a,o);if(this.zoomFactor_){var s=Math.pow(this.zoomFactor_,t-r),l=Math.floor(i*s),c=Math.floor(a*s);if(t<r)return Object(n.a)(l,l,c,c,o);var u=Math.floor(s*(i+1))-1,d=Math.floor(s*(a+1))-1;return Object(n.a)(l,u,c,d,o)}var h=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(h,t,o)},e.prototype.getTileRangeExtent=function(e,t,o){var n=this.getOrigin(e),r=this.getResolution(e),i=Object(u.d)(this.getTileSize(e),this.tmpSize_),a=n[0]+t.minX*i[0]*r,l=n[0]+(t.maxX+1)*i[0]*r,c=n[1]+t.minY*i[1]*r,d=n[1]+(t.maxY+1)*i[1]*r;return Object(s.l)(a,c,l,d,o)},e.prototype.getTileRangeForExtentAndZ=function(e,t,o){var r=d;this.getTileCoordForXYAndZ_(e[0],e[3],t,!1,r);var i=r[1],a=r[2];return this.getTileCoordForXYAndZ_(e[2],e[1],t,!0,r),Object(n.a)(i,r[1],a,r[2],o)},e.prototype.getTileCoordCenter=function(e){var t=this.getOrigin(e[0]),o=this.getResolution(e[0]),n=Object(u.d)(this.getTileSize(e[0]),this.tmpSize_);return[t[0]+(e[1]+.5)*n[0]*o,t[1]-(e[2]+.5)*n[1]*o]},e.prototype.getTileCoordExtent=function(e,t){var o=this.getOrigin(e[0]),n=this.getResolution(e[0]),r=Object(u.d)(this.getTileSize(e[0]),this.tmpSize_),i=o[0]+e[1]*r[0]*n,a=o[1]-(e[2]+1)*r[1]*n,l=i+r[0]*n,c=a+r[1]*n;return Object(s.l)(i,a,l,c,t)},e.prototype.getTileCoordForCoordAndResolution=function(e,t,o){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,o)},e.prototype.getTileCoordForXYAndResolution_=function(e,t,o,n,r){var i=this.getZForResolution(o),a=o/this.getResolution(i),s=this.getOrigin(i),c=Object(u.d)(this.getTileSize(i),this.tmpSize_),d=n?.5:0,h=n?.5:0,p=Math.floor((e-s[0])/o+d),f=Math.floor((s[1]-t)/o+h),g=a*p/c[0],m=a*f/c[1];return n?(g=Math.ceil(g)-1,m=Math.ceil(m)-1):(g=Math.floor(g),m=Math.floor(m)),Object(l.a)(i,g,m,r)},e.prototype.getTileCoordForXYAndZ_=function(e,t,o,n,r){var i=this.getOrigin(o),a=this.getResolution(o),s=Object(u.d)(this.getTileSize(o),this.tmpSize_),c=n?.5:0,d=n?.5:0,h=Math.floor((e-i[0])/a+c),p=Math.floor((i[1]-t)/a+d),f=h/s[0],g=p/s[1];return n?(f=Math.ceil(f)-1,g=Math.ceil(g)-1):(f=Math.floor(f),g=Math.floor(g)),Object(l.a)(o,f,g,r)},e.prototype.getTileCoordForCoordAndZ=function(e,t,o){return this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,o)},e.prototype.getTileCoordResolution=function(e){return this.resolutions_[e[0]]},e.prototype.getTileSize=function(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]},e.prototype.getFullTileRange=function(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null},e.prototype.getZForResolution=function(e,t){var o=Object(c.h)(this.resolutions_,e,t||0);return Object(a.a)(o,this.minZoom,this.maxZoom)},e.prototype.calculateTileRanges_=function(e){for(var t=this.resolutions_.length,o=new Array(t),n=this.minZoom;n<t;++n)o[n]=this.getTileRangeForExtentAndZ(e,n);this.fullTileRanges_=o},e}();t.a=h},"./node_modules/ol/tilegrid/WMTS.js":function(e,t,o){"use strict";o.d(t,"a",(function(){return c}));var n,r=o("./node_modules/ol/tilegrid/TileGrid.js"),i=o("./node_modules/ol/array.js"),a=o("./node_modules/ol/proj.js"),s=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=function(e){function t(t){var o=e.call(this,{extent:t.extent,origin:t.origin,origins:t.origins,resolutions:t.resolutions,tileSize:t.tileSize,tileSizes:t.tileSizes,sizes:t.sizes})||this;return o.matrixIds_=t.matrixIds,o}return s(t,e),t.prototype.getMatrixId=function(e){return this.matrixIds_[e]},t.prototype.getMatrixIds=function(){return this.matrixIds_},t}(r.a);function c(e,t,o){var n=[],r=[],s=[],c=[],u=[],d=void 0!==o?o:[],h=e.SupportedCRS,p=Object(a.t)(h),f=p.getMetersPerUnit(),g="ne"==p.getAxisOrientation().substr(0,2);return e.TileMatrix.sort((function(e,t){return t.ScaleDenominator-e.ScaleDenominator})),e.TileMatrix.forEach((function(t){if(!(d.length>0)||Object(i.d)(d,(function(o){return t.Identifier==o.TileMatrix||-1===t.Identifier.indexOf(":")&&e.Identifier+":"+t.Identifier===o.TileMatrix}))){r.push(t.Identifier);var o=28e-5*t.ScaleDenominator/f,a=t.TileWidth,l=t.TileHeight;g?s.push([t.TopLeftCorner[1],t.TopLeftCorner[0]]):s.push(t.TopLeftCorner),n.push(o),c.push(a==l?a:[a,l]),u.push([t.MatrixWidth,t.MatrixHeight])}})),new l({extent:t,origins:s,resolutions:n,matrixIds:r,tileSizes:c,sizes:u})}t.b=l},"./node_modules/ol/tilegrid/common.js":function(e,t,o){"use strict";o.d(t,"a",(function(){return n})),o.d(t,"b",(function(){return r}));var n=42,r=256},"./node_modules/ol/tileurlfunction.js":function(e,t,o){"use strict";o.d(t,"a",(function(){return a})),o.d(t,"b",(function(){return s})),o.d(t,"c",(function(){return l})),o.d(t,"e",(function(){return c})),o.d(t,"d",(function(){return u}));var n=o("./node_modules/ol/asserts.js"),r=o("./node_modules/ol/math.js"),i=o("./node_modules/ol/tilecoord.js");function a(e,t){var o=/\{z\}/g,r=/\{x\}/g,i=/\{y\}/g,a=/\{-y\}/g;return function(s,l,c){return s?e.replace(o,s[0].toString()).replace(r,s[1].toString()).replace(i,s[2].toString()).replace(a,(function(){var e=s[0],o=t.getFullTileRange(e);return Object(n.a)(o,55),(o.getHeight()-s[2]-1).toString()})):void 0}}function s(e,t){for(var o=e.length,n=new Array(o),r=0;r<o;++r)n[r]=a(e[r],t);return l(n)}function l(e){return 1===e.length?e[0]:function(t,o,n){if(t){var a=Object(i.f)(t),s=Object(r.e)(a,e.length);return e[s](t,o,n)}}}function c(e,t,o){}function u(e){var t=[],o=/\{([a-z])-([a-z])\}/.exec(e);if(o){var n=o[1].charCodeAt(0),r=o[2].charCodeAt(0),i=void 0;for(i=n;i<=r;++i)t.push(e.replace(o[0],String.fromCharCode(i)));return t}if(o=/\{(\d+)-(\d+)\}/.exec(e)){for(var a=parseInt(o[2],10),s=parseInt(o[1],10);s<=a;s++)t.push(e.replace(o[0],s.toString()));return t}return t.push(e),t}},"./node_modules/ol/transform.js":function(e,t,o){"use strict";o.d(t,"d",(function(){return s})),o.d(t,"j",(function(){return l})),o.d(t,"i",(function(){return c})),o.d(t,"m",(function(){return u})),o.d(t,"n",(function(){return d})),o.d(t,"a",(function(){return h})),o.d(t,"k",(function(){return p})),o.d(t,"l",(function(){return f})),o.d(t,"h",(function(){return g})),o.d(t,"p",(function(){return m})),o.d(t,"b",(function(){return y})),o.d(t,"c",(function(){return v})),o.d(t,"f",(function(){return _})),o.d(t,"g",(function(){return b})),o.d(t,"e",(function(){return A})),o.d(t,"o",(function(){return C}));var n,r=o("./node_modules/ol/has.js"),i=o("./node_modules/ol/asserts.js"),a=new Array(6);function s(){return[1,0,0,1,0,0]}function l(e){return u(e,1,0,0,1,0,0)}function c(e,t){var o=e[0],n=e[1],r=e[2],i=e[3],a=e[4],s=e[5],l=t[0],c=t[1],u=t[2],d=t[3],h=t[4],p=t[5];return e[0]=o*l+r*c,e[1]=n*l+i*c,e[2]=o*u+r*d,e[3]=n*u+i*d,e[4]=o*h+r*p+a,e[5]=n*h+i*p+s,e}function u(e,t,o,n,r,i,a){return e[0]=t,e[1]=o,e[2]=n,e[3]=r,e[4]=i,e[5]=a,e}function d(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function h(e,t){var o=t[0],n=t[1];return t[0]=e[0]*o+e[2]*n+e[4],t[1]=e[1]*o+e[3]*n+e[5],t}function p(e,t){var o=Math.cos(t),n=Math.sin(t);return c(e,u(a,o,n,-n,o,0,0))}function f(e,t,o){return c(e,u(a,t,0,0,o,0,0))}function g(e,t,o){return u(e,t,0,0,o,0,0)}function m(e,t,o){return c(e,u(a,1,0,0,1,t,o))}function y(e,t,o,n,r,i,a,s){var l=Math.sin(i),c=Math.cos(i);return e[0]=n*c,e[1]=r*l,e[2]=-n*l,e[3]=r*c,e[4]=a*n*c-s*n*l+t,e[5]=a*r*l+s*r*c+o,e}function v(e,t,o,n,r,i,a){return C(y([1,0,0,1,0,0],e,t,o,n,r,i,a))}function _(e){return b(e,e)}function b(e,t){var o=A(t);Object(i.a)(0!==o,32);var n=t[0],r=t[1],a=t[2],s=t[3],l=t[4],c=t[5];return e[0]=s/o,e[1]=-r/o,e[2]=-a/o,e[3]=n/o,e[4]=(a*c-s*l)/o,e[5]=-(n*c-r*l)/o,e}function A(e){return e[0]*e[3]-e[1]*e[2]}function C(e){var t="matrix("+e.join(", ")+")";if(r.h)return t;var o=n||(n=document.createElement("div"));return o.style.transform=t,o.style.transform}},"./node_modules/ol/uri.js":function(e,t,o){"use strict";function n(e,t){var o=[];Object.keys(t).forEach((function(e){null!==t[e]&&void 0!==t[e]&&o.push(e+"="+encodeURIComponent(t[e]))}));var n=o.join("&");return(e=-1===(e=e.replace(/[?&]$/,"")).indexOf("?")?e+"?":e+"&")+n}o.d(t,"a",(function(){return n}))},"./node_modules/ol/util.js":function(e,t,o){"use strict";function n(){return function(){throw new Error("Unimplemented abstract method.")}()}o.d(t,"b",(function(){return n})),o.d(t,"c",(function(){return i})),o.d(t,"a",(function(){return a}));var r=0;function i(e){return e.ol_uid||(e.ol_uid=String(++r))}var a="6.9.0"},"./node_modules/ol/xml.js":function(e,t,o){"use strict";o.d(t,"b",(function(){return r})),o.d(t,"c",(function(){return i})),o.d(t,"d",(function(){return a})),o.d(t,"e",(function(){return s})),o.d(t,"i",(function(){return l})),o.d(t,"f",(function(){return c})),o.d(t,"t",(function(){return u})),o.d(t,"j",(function(){return d})),o.d(t,"k",(function(){return h})),o.d(t,"p",(function(){return p})),o.d(t,"n",(function(){return f})),o.d(t,"o",(function(){return g})),o.d(t,"m",(function(){return m})),o.d(t,"l",(function(){return y})),o.d(t,"r",(function(){return v})),o.d(t,"a",(function(){return _})),o.d(t,"q",(function(){return b})),o.d(t,"s",(function(){return A})),o.d(t,"u",(function(){return C})),o.d(t,"v",(function(){return w})),o.d(t,"z",(function(){return E})),o.d(t,"w",(function(){return I})),o.d(t,"y",(function(){return S})),o.d(t,"h",(function(){return x})),o.d(t,"x",(function(){return P})),o.d(t,"g",(function(){return T}));var n=o("./node_modules/ol/array.js"),r="http://www.w3.org/2001/XMLSchema-instance";function i(e,t){return T().createElementNS(e,t)}function a(e,t){return s(e,t,[]).join("")}function s(e,t,o){if(e.nodeType==Node.CDATA_SECTION_NODE||e.nodeType==Node.TEXT_NODE)t?o.push(String(e.nodeValue).replace(/(\r\n|\r|\n)/g,"")):o.push(e.nodeValue);else{var n=void 0;for(n=e.firstChild;n;n=n.nextSibling)s(n,t,o)}return o}function l(e){return"documentElement"in e}function c(e,t,o){return e.getAttributeNS(t,o)||""}function u(e){return(new DOMParser).parseFromString(e,"application/xml")}function d(e,t){return function(o,r){var i=e.call(void 0!==t?t:this,o,r);if(void 0!==i){var a=r[r.length-1];Object(n.c)(a,i)}}}function h(e,t){return function(o,n){var r=e.call(void 0!==t?t:this,o,n);void 0!==r&&n[n.length-1].push(r)}}function p(e,t){return function(o,n){var r=e.call(void 0!==t?t:this,o,n);void 0!==r&&(n[n.length-1]=r)}}function f(e,t,o){return function(n,r){var i=e.call(void 0!==o?o:this,n,r);if(void 0!==i){var a=r[r.length-1],s=void 0!==t?t:n.localName,l=void 0;s in a?l=a[s]:(l=[],a[s]=l),l.push(i)}}}function g(e,t,o){return function(n,r){var i=e.call(void 0!==o?o:this,n,r);void 0!==i&&(r[r.length-1][void 0!==t?t:n.localName]=i)}}function m(e,t){return function(o,n,r){e.call(void 0!==t?t:this,o,n,r),r[r.length-1].node.appendChild(o)}}function y(e,t){var o,n;return function(t,r,i){if(void 0===o){o={};var a={};a[t.localName]=e,o[t.namespaceURI]=a,n=v(t.localName)}E(o,n,r,i)}}function v(e,t){var o=e;return function(e,n,r){var a=n[n.length-1].node,s=o;return void 0===s&&(s=r),i(void 0!==t?t:a.namespaceURI,s)}}var _=v();function b(e,t){for(var o=t.length,n=new Array(o),r=0;r<o;++r)n[r]=e[t[r]];return n}function A(e,t,o){var n,r,i=void 0!==o?o:{};for(n=0,r=e.length;n<r;++n)i[e[n]]=t;return i}function C(e,t,o,n){var r;for(r=t.firstElementChild;r;r=r.nextElementSibling){var i=e[r.namespaceURI];if(void 0!==i){var a=i[r.localName];void 0!==a&&a.call(n,r,o)}}}function w(e,t,o,n,r){return n.push(e),C(t,o,n,r),n.pop()}function E(e,t,o,n,r,i){for(var a,s,l=(void 0!==r?r:o).length,c=0;c<l;++c)void 0!==(a=o[c])&&void 0!==(s=t.call(void 0!==i?i:this,a,n,void 0!==r?r[c]:void 0))&&e[s.namespaceURI][s.localName].call(i,s,a,n)}function I(e,t,o,n,r,i,a){return r.push(e),E(t,o,n,r,i,a),r.pop()}var O=void 0;function S(e){O=e}function x(){return void 0===O&&"undefined"!=typeof XMLSerializer&&(O=new XMLSerializer),O}var j=void 0;function P(e){j=e}function T(){return void 0===j&&"undefined"!=typeof document&&(j=document.implementation.createDocument("","",null)),j}},"./node_modules/pbf/index.js":function(e,t,o){"use strict";e.exports=r;var n=o("./node_modules/ieee754/index.js");function r(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}r.Varint=0,r.Fixed64=1,r.Bytes=2,r.Fixed32=5;var i="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function a(e){return e.type===r.Bytes?e.readVarint()+e.pos:e.pos+1}function s(e,t,o){return o?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function l(e,t,o){var n=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));o.realloc(n);for(var r=o.pos-1;r>=e;r--)o.buf[r+n]=o.buf[r]}function c(e,t){for(var o=0;o<e.length;o++)t.writeVarint(e[o])}function u(e,t){for(var o=0;o<e.length;o++)t.writeSVarint(e[o])}function d(e,t){for(var o=0;o<e.length;o++)t.writeFloat(e[o])}function h(e,t){for(var o=0;o<e.length;o++)t.writeDouble(e[o])}function p(e,t){for(var o=0;o<e.length;o++)t.writeBoolean(e[o])}function f(e,t){for(var o=0;o<e.length;o++)t.writeFixed32(e[o])}function g(e,t){for(var o=0;o<e.length;o++)t.writeSFixed32(e[o])}function m(e,t){for(var o=0;o<e.length;o++)t.writeFixed64(e[o])}function y(e,t){for(var o=0;o<e.length;o++)t.writeSFixed64(e[o])}function v(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function _(e,t,o){e[o]=t,e[o+1]=t>>>8,e[o+2]=t>>>16,e[o+3]=t>>>24}function b(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}r.prototype={destroy:function(){this.buf=null},readFields:function(e,t,o){for(o=o||this.length;this.pos<o;){var n=this.readVarint(),r=n>>3,i=this.pos;this.type=7&n,e(r,t,this),this.pos===i&&this.skip(n)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=v(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=b(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=v(this.buf,this.pos)+4294967296*v(this.buf,this.pos+4);return this.pos+=8,e},readSFixed64:function(){var e=v(this.buf,this.pos)+4294967296*b(this.buf,this.pos+4);return this.pos+=8,e},readFloat:function(){var e=n.read(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=n.read(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,o,n=this.buf;return t=127&(o=n[this.pos++]),o<128?t:(t|=(127&(o=n[this.pos++]))<<7,o<128?t:(t|=(127&(o=n[this.pos++]))<<14,o<128?t:(t|=(127&(o=n[this.pos++]))<<21,o<128?t:function(e,t,o){var n,r,i=o.buf;if(r=i[o.pos++],n=(112&r)>>4,r<128)return s(e,n,t);if(r=i[o.pos++],n|=(127&r)<<3,r<128)return s(e,n,t);if(r=i[o.pos++],n|=(127&r)<<10,r<128)return s(e,n,t);if(r=i[o.pos++],n|=(127&r)<<17,r<128)return s(e,n,t);if(r=i[o.pos++],n|=(127&r)<<24,r<128)return s(e,n,t);if(r=i[o.pos++],n|=(1&r)<<31,r<128)return s(e,n,t);throw new Error("Expected varint not more than 10 bytes")}(t|=(15&(o=n[this.pos]))<<28,e,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2==1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=12&&i?function(e,t,o){return i.decode(e.subarray(t,o))}(this.buf,t,e):function(e,t,o){var n="",r=t;for(;r<o;){var i,a,s,l=e[r],c=null,u=l>239?4:l>223?3:l>191?2:1;if(r+u>o)break;1===u?l<128&&(c=l):2===u?128==(192&(i=e[r+1]))&&(c=(31&l)<<6|63&i)<=127&&(c=null):3===u?(i=e[r+1],a=e[r+2],128==(192&i)&&128==(192&a)&&((c=(15&l)<<12|(63&i)<<6|63&a)<=2047||c>=55296&&c<=57343)&&(c=null)):4===u&&(i=e[r+1],a=e[r+2],s=e[r+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&((c=(15&l)<<18|(63&i)<<12|(63&a)<<6|63&s)<=65535||c>=1114112)&&(c=null)),null===c?(c=65533,u=1):c>65535&&(c-=65536,n+=String.fromCharCode(c>>>10&1023|55296),c=56320|1023&c),n+=String.fromCharCode(c),r+=u}return n}(this.buf,t,e)},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){if(this.type!==r.Bytes)return e.push(this.readVarint(t));var o=a(this);for(e=e||[];this.pos<o;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){if(this.type!==r.Bytes)return e.push(this.readSVarint());var t=a(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==r.Bytes)return e.push(this.readBoolean());var t=a(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==r.Bytes)return e.push(this.readFloat());var t=a(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==r.Bytes)return e.push(this.readDouble());var t=a(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==r.Bytes)return e.push(this.readFixed32());var t=a(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==r.Bytes)return e.push(this.readSFixed32());var t=a(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==r.Bytes)return e.push(this.readFixed64());var t=a(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==r.Bytes)return e.push(this.readSFixed64());var t=a(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===r.Varint)for(;this.buf[this.pos++]>127;);else if(t===r.Bytes)this.pos=this.readVarint()+this.pos;else if(t===r.Fixed32)this.pos+=4;else{if(t!==r.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var o=new Uint8Array(t);o.set(this.buf),this.buf=o,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),_(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),_(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),_(this.buf,-1&e,this.pos),_(this.buf,Math.floor(e*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),_(this.buf,-1&e,this.pos),_(this.buf,Math.floor(e*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(e){(e=+e||0)>268435455||e<0?function(e,t){var o,n;e>=0?(o=e%4294967296|0,n=e/4294967296|0):(n=~(-e/4294967296),4294967295^(o=~(-e%4294967296))?o=o+1|0:(o=0,n=n+1|0));if(e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),function(e,t,o){o.buf[o.pos++]=127&e|128,e>>>=7,o.buf[o.pos++]=127&e|128,e>>>=7,o.buf[o.pos++]=127&e|128,e>>>=7,o.buf[o.pos++]=127&e|128,e>>>=7,o.buf[o.pos]=127&e}(o,0,t),function(e,t){var o=(7&e)<<4;if(t.buf[t.pos++]|=o|((e>>>=3)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;t.buf[t.pos++]=127&e}(n,t)}(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=function(e,t,o){for(var n,r,i=0;i<t.length;i++){if((n=t.charCodeAt(i))>55295&&n<57344){if(!r){n>56319||i+1===t.length?(e[o++]=239,e[o++]=191,e[o++]=189):r=n;continue}if(n<56320){e[o++]=239,e[o++]=191,e[o++]=189,r=n;continue}n=r-55296<<10|n-56320|65536,r=null}else r&&(e[o++]=239,e[o++]=191,e[o++]=189,r=null);n<128?e[o++]=n:(n<2048?e[o++]=n>>6|192:(n<65536?e[o++]=n>>12|224:(e[o++]=n>>18|240,e[o++]=n>>12&63|128),e[o++]=n>>6&63|128),e[o++]=63&n|128)}return o}(this.buf,e,this.pos);var o=this.pos-t;o>=128&&l(t,o,this),this.pos=t-1,this.writeVarint(o),this.pos+=o},writeFloat:function(e){this.realloc(4),n.write(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),n.write(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var o=0;o<t;o++)this.buf[this.pos++]=e[o]},writeRawMessage:function(e,t){this.pos++;var o=this.pos;e(t,this);var n=this.pos-o;n>=128&&l(o,n,this),this.pos=o-1,this.writeVarint(n),this.pos+=n},writeMessage:function(e,t,o){this.writeTag(e,r.Bytes),this.writeRawMessage(t,o)},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,c,t)},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,u,t)},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,p,t)},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,d,t)},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,h,t)},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,f,t)},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,g,t)},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,m,t)},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,y,t)},writeBytesField:function(e,t){this.writeTag(e,r.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,r.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,r.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,r.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,r.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,r.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,r.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,r.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,r.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,r.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}}},"./node_modules/process/browser.js":function(e,t){var o,n,r=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(o===setTimeout)return setTimeout(e,0);if((o===i||!o)&&setTimeout)return o=setTimeout,setTimeout(e,0);try{return o(e,0)}catch(t){try{return o.call(null,e,0)}catch(t){return o.call(this,e,0)}}}!function(){try{o="function"==typeof setTimeout?setTimeout:i}catch(e){o=i}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var l,c=[],u=!1,d=-1;function h(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&p())}function p(){if(!u){var e=s(h);u=!0;for(var t=c.length;t;){for(l=c,c=[];++d<t;)l&&l[d].run();d=-1,t=c.length}l=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function g(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var o=1;o<arguments.length;o++)t[o-1]=arguments[o];c.push(new f(e,t)),1!==c.length||u||s(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=g,r.addListener=g,r.once=g,r.off=g,r.removeListener=g,r.removeAllListeners=g,r.emit=g,r.prependListener=g,r.prependOnceListener=g,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},"./node_modules/proj4/dist/proj4-src.js":function(e,t,o){e.exports=function(){"use strict";var e=484813681109536e-20,t=Math.PI/2,o=.017453292519943295,n=57.29577951308232,r=Math.PI/4,i=2*Math.PI,a=3.14159265359,s={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667},l={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}},c=/[\s_\-\/\(\)]/g;function u(e,t){if(e[t])return e[t];for(var o,n=Object.keys(e),r=t.toLowerCase().replace(c,""),i=-1;++i<n.length;)if((o=n[i]).toLowerCase().replace(c,"")===r)return e[o]}var d=function(e){var t,n,r,i={},a=e.split("+").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var o=t.split("=");return o.push(!0),e[o[0].toLowerCase()]=o[1],e}),{}),c={proj:"projName",datum:"datumCode",rf:function(e){i.rf=parseFloat(e)},lat_0:function(e){i.lat0=e*o},lat_1:function(e){i.lat1=e*o},lat_2:function(e){i.lat2=e*o},lat_ts:function(e){i.lat_ts=e*o},lon_0:function(e){i.long0=e*o},lon_1:function(e){i.long1=e*o},lon_2:function(e){i.long2=e*o},alpha:function(e){i.alpha=parseFloat(e)*o},gamma:function(e){i.rectified_grid_angle=parseFloat(e)},lonc:function(e){i.longc=e*o},x_0:function(e){i.x0=parseFloat(e)},y_0:function(e){i.y0=parseFloat(e)},k_0:function(e){i.k0=parseFloat(e)},k:function(e){i.k0=parseFloat(e)},a:function(e){i.a=parseFloat(e)},b:function(e){i.b=parseFloat(e)},r_a:function(){i.R_A=!0},zone:function(e){i.zone=parseInt(e,10)},south:function(){i.utmSouth=!0},towgs84:function(e){i.datum_params=e.split(",").map((function(e){return parseFloat(e)}))},to_meter:function(e){i.to_meter=parseFloat(e)},units:function(e){i.units=e;var t=u(l,e);t&&(i.to_meter=t.to_meter)},from_greenwich:function(e){i.from_greenwich=e*o},pm:function(e){var t=u(s,e);i.from_greenwich=(t||parseFloat(e))*o},nadgrids:function(e){"@null"===e?i.datumCode="none":i.nadgrids=e},axis:function(e){3===e.length&&-1!=="ewnsud".indexOf(e.substr(0,1))&&-1!=="ewnsud".indexOf(e.substr(1,1))&&-1!=="ewnsud".indexOf(e.substr(2,1))&&(i.axis=e)},approx:function(){i.approx=!0}};for(t in a)n=a[t],t in c?"function"==typeof(r=c[t])?r(n):i[r]=n:i[t]=n;return"string"==typeof i.datumCode&&"WGS84"!==i.datumCode&&(i.datumCode=i.datumCode.toLowerCase()),i},h=/\s/,p=/[A-Za-z]/,f=/[A-Za-z84]/,g=/[,\]]/,m=/[\d\.E\-\+]/;function y(e){if("string"!=typeof e)throw new Error("not a string");this.text=e.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=1}function v(e,t,o){Array.isArray(t)&&(o.unshift(t),t=null);var n=t?{}:e,r=o.reduce((function(e,t){return _(t,e),e}),n);t&&(e[t]=r)}function _(e,t){if(Array.isArray(e)){var o=e.shift();if("PARAMETER"===o&&(o=e.shift()),1===e.length)return Array.isArray(e[0])?(t[o]={},void _(e[0],t[o])):void(t[o]=e[0]);if(e.length)if("TOWGS84"!==o){if("AXIS"===o)return o in t||(t[o]=[]),void t[o].push(e);var n;switch(Array.isArray(o)||(t[o]={}),o){case"UNIT":case"PRIMEM":case"VERT_DATUM":return t[o]={name:e[0].toLowerCase(),convert:e[1]},void(3===e.length&&_(e[2],t[o]));case"SPHEROID":case"ELLIPSOID":return t[o]={name:e[0],a:e[1],rf:e[2]},void(4===e.length&&_(e[3],t[o]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return e[0]=["name",e[0]],void v(t,o,e);default:for(n=-1;++n<e.length;)if(!Array.isArray(e[n]))return _(e,t[o]);return v(t,o,e)}}else t[o]=e;else t[o]=!0}else t[e]=!0}function b(e){return.017453292519943295*e}y.prototype.readCharicter=function(){var e=this.text[this.place++];if(4!==this.state)for(;h.test(e);){if(this.place>=this.text.length)return;e=this.text[this.place++]}switch(this.state){case 1:return this.neutral(e);case 2:return this.keyword(e);case 4:return this.quoted(e);case 5:return this.afterquote(e);case 3:return this.number(e);case-1:return}},y.prototype.afterquote=function(e){if('"'===e)return this.word+='"',void(this.state=4);if(g.test(e))return this.word=this.word.trim(),void this.afterItem(e);throw new Error("havn't handled \""+e+'" in afterquote yet, index '+this.place)},y.prototype.afterItem=function(e){return","===e?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=1)):"]"===e?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=1,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=-1))):void 0},y.prototype.number=function(e){if(!m.test(e)){if(g.test(e))return this.word=parseFloat(this.word),void this.afterItem(e);throw new Error("havn't handled \""+e+'" in number yet, index '+this.place)}this.word+=e},y.prototype.quoted=function(e){'"'!==e?this.word+=e:this.state=5},y.prototype.keyword=function(e){if(f.test(e))this.word+=e;else{if("["===e){var t=[];return t.push(this.word),this.level++,null===this.root?this.root=t:this.currentObject.push(t),this.stack.push(this.currentObject),this.currentObject=t,void(this.state=1)}if(!g.test(e))throw new Error("havn't handled \""+e+'" in keyword yet, index '+this.place);this.afterItem(e)}},y.prototype.neutral=function(e){if(p.test(e))return this.word=e,void(this.state=2);if('"'===e)return this.word="",void(this.state=4);if(m.test(e))return this.word=e,void(this.state=3);if(!g.test(e))throw new Error("havn't handled \""+e+'" in neutral yet, index '+this.place);this.afterItem(e)},y.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(-1===this.state)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};var A=function(e){var t=new y(e).output(),o=t.shift(),n=t.shift();t.unshift(["name",n]),t.unshift(["type",o]);var r={};return _(t,r),function(e){if("GEOGCS"===e.type?e.projName="longlat":"LOCAL_CS"===e.type?(e.projName="identity",e.local=!0):"object"==typeof e.PROJECTION?e.projName=Object.keys(e.PROJECTION)[0]:e.projName=e.PROJECTION,e.AXIS){for(var t="",o=0,n=e.AXIS.length;o<n;++o){var r=[e.AXIS[o][0].toLowerCase(),e.AXIS[o][1].toLowerCase()];-1!==r[0].indexOf("north")||("y"===r[0]||"lat"===r[0])&&"north"===r[1]?t+="n":-1!==r[0].indexOf("south")||("y"===r[0]||"lat"===r[0])&&"south"===r[1]?t+="s":-1!==r[0].indexOf("east")||("x"===r[0]||"lon"===r[0])&&"east"===r[1]?t+="e":-1===r[0].indexOf("west")&&("x"!==r[0]&&"lon"!==r[0]||"west"!==r[1])||(t+="w")}2===t.length&&(t+="u"),3===t.length&&(e.axis=t)}e.UNIT&&(e.units=e.UNIT.name.toLowerCase(),"metre"===e.units&&(e.units="meter"),e.UNIT.convert&&("GEOGCS"===e.type?e.DATUM&&e.DATUM.SPHEROID&&(e.to_meter=e.UNIT.convert*e.DATUM.SPHEROID.a):e.to_meter=e.UNIT.convert));var i=e.GEOGCS;function a(t){return t*(e.to_meter||1)}"GEOGCS"===e.type&&(i=e),i&&(i.DATUM?e.datumCode=i.DATUM.name.toLowerCase():e.datumCode=i.name.toLowerCase(),"d_"===e.datumCode.slice(0,2)&&(e.datumCode=e.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==e.datumCode&&"new_zealand_1949"!==e.datumCode||(e.datumCode="nzgd49"),"wgs_1984"!==e.datumCode&&"world_geodetic_system_1984"!==e.datumCode||("Mercator_Auxiliary_Sphere"===e.PROJECTION&&(e.sphere=!0),e.datumCode="wgs84"),"_ferro"===e.datumCode.slice(-6)&&(e.datumCode=e.datumCode.slice(0,-6)),"_jakarta"===e.datumCode.slice(-8)&&(e.datumCode=e.datumCode.slice(0,-8)),~e.datumCode.indexOf("belge")&&(e.datumCode="rnb72"),i.DATUM&&i.DATUM.SPHEROID&&(e.ellps=i.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===e.ellps.toLowerCase().slice(0,13)&&(e.ellps="intl"),e.a=i.DATUM.SPHEROID.a,e.rf=parseFloat(i.DATUM.SPHEROID.rf,10)),i.DATUM&&i.DATUM.TOWGS84&&(e.datum_params=i.DATUM.TOWGS84),~e.datumCode.indexOf("osgb_1936")&&(e.datumCode="osgb36"),~e.datumCode.indexOf("osni_1952")&&(e.datumCode="osni52"),(~e.datumCode.indexOf("tm65")||~e.datumCode.indexOf("geodetic_datum_of_1965"))&&(e.datumCode="ire65"),"ch1903+"===e.datumCode&&(e.datumCode="ch1903"),~e.datumCode.indexOf("israel")&&(e.datumCode="isr93")),e.b&&!isFinite(e.b)&&(e.b=e.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",b],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",b],["x0","false_easting",a],["y0","false_northing",a],["long0","central_meridian",b],["lat0","latitude_of_origin",b],["lat0","standard_parallel_1",b],["lat1","standard_parallel_1",b],["lat2","standard_parallel_2",b],["azimuth","Azimuth"],["alpha","azimuth",b],["srsCode","name"]].forEach((function(t){return function(e,t){var o=t[0],n=t[1];!(o in e)&&n in e&&(e[o]=e[n],3===t.length&&(e[o]=t[2](e[o])))}(e,t)})),e.long0||!e.longc||"Albers_Conic_Equal_Area"!==e.projName&&"Lambert_Azimuthal_Equal_Area"!==e.projName||(e.long0=e.longc),e.lat_ts||!e.lat1||"Stereographic_South_Pole"!==e.projName&&"Polar Stereographic (variant B)"!==e.projName||(e.lat0=b(e.lat1>0?90:-90),e.lat_ts=e.lat1)}(r),r};function C(e){var t=this;if(2===arguments.length){var o=arguments[1];"string"==typeof o?"+"===o.charAt(0)?C[e]=d(arguments[1]):C[e]=A(arguments[1]):C[e]=o}else if(1===arguments.length){if(Array.isArray(e))return e.map((function(e){Array.isArray(e)?C.apply(t,e):C(e)}));if("string"==typeof e){if(e in C)return C[e]}else"EPSG"in e?C["EPSG:"+e.EPSG]=e:"ESRI"in e?C["ESRI:"+e.ESRI]=e:"IAU2000"in e?C["IAU2000:"+e.IAU2000]=e:console.log(e);return}}!function(e){e("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),e("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),e("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),e.WGS84=e["EPSG:4326"],e["EPSG:3785"]=e["EPSG:3857"],e.GOOGLE=e["EPSG:3857"],e["EPSG:900913"]=e["EPSG:3857"],e["EPSG:102113"]=e["EPSG:3857"]}(C);var w=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"],E=["3857","900913","3785","102113"];function I(e){if(!function(e){return"string"==typeof e}(e))return e;if(function(e){return e in C}(e))return C[e];if(function(e){return w.some((function(t){return e.indexOf(t)>-1}))}(e)){var t=A(e);if(function(e){var t=u(e,"authority");if(t){var o=u(t,"epsg");return o&&E.indexOf(o)>-1}}(t))return C["EPSG:3857"];var o=function(e){var t=u(e,"extension");if(t)return u(t,"proj4")}(t);return o?d(o):t}return function(e){return"+"===e[0]}(e)?d(e):void 0}var O=function(e,t){var o,n;if(e=e||{},!t)return e;for(n in t)void 0!==(o=t[n])&&(e[n]=o);return e},S=function(e,t,o){var n=e*t;return o/Math.sqrt(1-n*n)},x=function(e){return e<0?-1:1},j=function(e){return Math.abs(e)<=a?e:e-x(e)*i},P=function(e,o,n){var r=e*n,i=.5*e;return r=Math.pow((1-r)/(1+r),i),Math.tan(.5*(t-o))/r},T=function(e,o){for(var n,r,i=.5*e,a=t-2*Math.atan(o),s=0;s<=15;s++)if(n=e*Math.sin(a),a+=r=t-2*Math.atan(o*Math.pow((1-n)/(1+n),i))-a,Math.abs(r)<=1e-10)return a;return-9999};function M(e){return e}var R=[{init:function(){var e=this.b/this.a;this.es=1-e*e,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=S(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},forward:function(e){var o,i,a=e.x,s=e.y;if(s*n>90&&s*n<-90&&a*n>180&&a*n<-180)return null;if(Math.abs(Math.abs(s)-t)<=1e-10)return null;if(this.sphere)o=this.x0+this.a*this.k0*j(a-this.long0),i=this.y0+this.a*this.k0*Math.log(Math.tan(r+.5*s));else{var l=Math.sin(s),c=P(this.e,s,l);o=this.x0+this.a*this.k0*j(a-this.long0),i=this.y0-this.a*this.k0*Math.log(c)}return e.x=o,e.y=i,e},inverse:function(e){var o,n,r=e.x-this.x0,i=e.y-this.y0;if(this.sphere)n=t-2*Math.atan(Math.exp(-i/(this.a*this.k0)));else{var a=Math.exp(-i/(this.a*this.k0));if(-9999===(n=T(this.e,a)))return null}return o=j(this.long0+r/(this.a*this.k0)),e.x=o,e.y=n,e},names:["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{init:function(){},forward:M,inverse:M,names:["longlat","identity"]}],L={},k=[];function G(e,t){var o=k.length;return e.names?(k[o]=e,e.names.forEach((function(e){L[e.toLowerCase()]=o})),this):(console.log(t),!0)}var D={start:function(){R.forEach(G)},add:G,get:function(e){if(!e)return!1;var t=e.toLowerCase();return void 0!==L[t]&&k[L[t]]?k[L[t]]:void 0}},N={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},F=N.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};N.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var U={wgs84:{towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},ch1903:{towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},ggrs87:{towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},nad83:{towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},nad27:{nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},potsdam:{towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},carthage:{towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},hermannskogel:{towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},osni52:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},ire65:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},rassadiran:{towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},nzgd49:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},osgb36:{towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},s_jtsk:{towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},beduaram:{towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},gunung_segara:{towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},rnb72:{towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}},B={};function z(e){if(0===e.length)return null;var t="@"===e[0];return t&&(e=e.slice(1)),"null"===e?{name:"null",mandatory:!t,grid:null,isNull:!0}:{name:e,mandatory:!t,grid:B[e]||null,isNull:!1}}function V(e){return e/3600*Math.PI/180}function W(e,t,o){return String.fromCharCode.apply(null,new Uint8Array(e.buffer.slice(t,o)))}function q(e){return e.map((function(e){return[V(e.longitudeShift),V(e.latitudeShift)]}))}function Y(e,t,o){return{name:W(e,t+8,t+16).trim(),parent:W(e,t+24,t+24+8).trim(),lowerLatitude:e.getFloat64(t+72,o),upperLatitude:e.getFloat64(t+88,o),lowerLongitude:e.getFloat64(t+104,o),upperLongitude:e.getFloat64(t+120,o),latitudeInterval:e.getFloat64(t+136,o),longitudeInterval:e.getFloat64(t+152,o),gridNodeCount:e.getInt32(t+168,o)}}function H(e,t,o,n){for(var r=t+176,i=[],a=0;a<o.gridNodeCount;a++){var s={latitudeShift:e.getFloat32(r+16*a,n),longitudeShift:e.getFloat32(r+16*a+4,n),latitudeAccuracy:e.getFloat32(r+16*a+8,n),longitudeAccuracy:e.getFloat32(r+16*a+12,n)};i.push(s)}return i}function X(t,o){if(!(this instanceof X))return new X(t);o=o||function(e){if(e)throw e};var n=I(t);if("object"==typeof n){var r=X.projections.get(n.projName);if(r){if(n.datumCode&&"none"!==n.datumCode){var i=u(U,n.datumCode);i&&(n.datum_params=n.datum_params||(i.towgs84?i.towgs84.split(","):null),n.ellps=i.ellipse,n.datumName=i.datumName?i.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84",n.lat1=n.lat1||n.lat0;var a,s,l,c,d,h,p,f=function(e,t,o,n,r){if(!e){var i=u(N,n);i||(i=F),e=i.a,t=i.b,o=i.rf}return o&&!t&&(t=(1-1/o)*e),(0===o||Math.abs(e-t)<1e-10)&&(r=!0,t=e),{a:e,b:t,rf:o,sphere:r}}(n.a,n.b,n.rf,n.ellps,n.sphere),g=(a=f.a,s=f.b,f.rf,l=n.R_A,h=((c=a*a)-(d=s*s))/c,p=0,l?(c=(a*=1-h*(.16666666666666666+h*(.04722222222222222+.022156084656084655*h)))*a,h=0):p=Math.sqrt(h),{es:h,e:p,ep2:(c-d)/d}),m=function(e){return void 0===e?null:e.split(",").map(z)}(n.nadgrids),y=n.datum||function(t,o,n,r,i,a,s){var l={};return l.datum_type=void 0===t||"none"===t?5:4,o&&(l.datum_params=o.map(parseFloat),0===l.datum_params[0]&&0===l.datum_params[1]&&0===l.datum_params[2]||(l.datum_type=1),l.datum_params.length>3&&(0===l.datum_params[3]&&0===l.datum_params[4]&&0===l.datum_params[5]&&0===l.datum_params[6]||(l.datum_type=2,l.datum_params[3]*=e,l.datum_params[4]*=e,l.datum_params[5]*=e,l.datum_params[6]=l.datum_params[6]/1e6+1))),s&&(l.datum_type=3,l.grids=s),l.a=n,l.b=r,l.es=i,l.ep2=a,l}(n.datumCode,n.datum_params,f.a,f.b,g.es,g.ep2,m);O(this,n),O(this,r),this.a=f.a,this.b=f.b,this.rf=f.rf,this.sphere=f.sphere,this.es=g.es,this.e=g.e,this.ep2=g.ep2,this.datum=y,this.init(),o(null,this)}else o(t)}else o(t)}function Z(e,o,n){var r,i,a,s,l=e.x,c=e.y,u=e.z?e.z:0;if(c<-t&&c>-1.001*t)c=-t;else if(c>t&&c<1.001*t)c=t;else{if(c<-t)return{x:-1/0,y:-1/0,z:e.z};if(c>t)return{x:1/0,y:1/0,z:e.z}}return l>Math.PI&&(l-=2*Math.PI),i=Math.sin(c),s=Math.cos(c),a=i*i,{x:((r=n/Math.sqrt(1-o*a))+u)*s*Math.cos(l),y:(r+u)*s*Math.sin(l),z:(r*(1-o)+u)*i}}function K(e,t,o,n){var r,i,a,s,l,c,u,d,h,p,f,g,m,y,v,_=e.x,b=e.y,A=e.z?e.z:0;if(r=Math.sqrt(_*_+b*b),i=Math.sqrt(_*_+b*b+A*A),r/o<1e-12){if(y=0,i/o<1e-12)return v=-n,{x:e.x,y:e.y,z:e.z}}else y=Math.atan2(b,_);a=A/i,d=(s=r/i)*(1-t)*(l=1/Math.sqrt(1-t*(2-t)*s*s)),h=a*l,m=0;do{m++,c=t*(u=o/Math.sqrt(1-t*h*h))/(u+(v=r*d+A*h-u*(1-t*h*h))),g=(f=a*(l=1/Math.sqrt(1-c*(2-c)*s*s)))*d-(p=s*(1-c)*l)*h,d=p,h=f}while(g*g>1e-24&&m<30);return{x:y,y:Math.atan(f/Math.abs(p)),z:v}}function J(e){return 1===e||2===e}X.projections=D,X.projections.start();var Q=function(e,t,o){if(function(e,t){return e.datum_type===t.datum_type&&!(e.a!==t.a||Math.abs(e.es-t.es)>5e-11)&&(1===e.datum_type?e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]:2!==e.datum_type||e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]&&e.datum_params[3]===t.datum_params[3]&&e.datum_params[4]===t.datum_params[4]&&e.datum_params[5]===t.datum_params[5]&&e.datum_params[6]===t.datum_params[6])}(e,t))return o;if(5===e.datum_type||5===t.datum_type)return o;var n=e.a,r=e.es;if(3===e.datum_type){if(0!==$(e,!1,o))return;n=6378137,r=.0066943799901413165}var i=t.a,a=t.b,s=t.es;return 3===t.datum_type&&(i=6378137,a=6356752.314,s=.0066943799901413165),r!==s||n!==i||J(e.datum_type)||J(t.datum_type)?(o=Z(o,r,n),J(e.datum_type)&&(o=function(e,t,o){if(1===t)return{x:e.x+o[0],y:e.y+o[1],z:e.z+o[2]};if(2===t){var n=o[0],r=o[1],i=o[2],a=o[3],s=o[4],l=o[5],c=o[6];return{x:c*(e.x-l*e.y+s*e.z)+n,y:c*(l*e.x+e.y-a*e.z)+r,z:c*(-s*e.x+a*e.y+e.z)+i}}}(o,e.datum_type,e.datum_params)),J(t.datum_type)&&(o=function(e,t,o){if(1===t)return{x:e.x-o[0],y:e.y-o[1],z:e.z-o[2]};if(2===t){var n=o[0],r=o[1],i=o[2],a=o[3],s=o[4],l=o[5],c=o[6],u=(e.x-n)/c,d=(e.y-r)/c,h=(e.z-i)/c;return{x:u+l*d-s*h,y:-l*u+d+a*h,z:s*u-a*d+h}}}(o,t.datum_type,t.datum_params)),o=K(o,s,i,a),3!==t.datum_type||0===$(t,!0,o)?o:void 0):o};function $(e,t,o){if(null===e.grids||0===e.grids.length)return console.log("Grid shift grids not found"),-1;for(var r={x:-o.x,y:o.y},i={x:Number.NaN,y:Number.NaN},a=[],s=0;s<e.grids.length;s++){var l=e.grids[s];if(a.push(l.name),l.isNull){i=r;break}if(null!==l.grid){var c=l.grid.subgrids[0],u=(Math.abs(c.del[1])+Math.abs(c.del[0]))/1e4,d=c.ll[0]-u,h=c.ll[1]-u,p=c.ll[0]+(c.lim[0]-1)*c.del[0]+u,f=c.ll[1]+(c.lim[1]-1)*c.del[1]+u;if(!(h>r.y||d>r.x||f<r.y||p<r.x||(i=ee(r,t,c),isNaN(i.x))))break}else if(l.mandatory)return console.log("Unable to find mandatory grid '"+l.name+"'"),-1}return isNaN(i.x)?(console.log("Failed to find a grid shift table for location '"+-r.x*n+" "+r.y*n+" tried: '"+a+"'"),-1):(o.x=-i.x,o.y=i.y,0)}function ee(e,t,o){var n={x:Number.NaN,y:Number.NaN};if(isNaN(e.x))return n;var r={x:e.x,y:e.y};r.x-=o.ll[0],r.y-=o.ll[1],r.x=j(r.x-Math.PI)+Math.PI;var i=te(r,o);if(t){if(isNaN(i.x))return n;i.x=r.x-i.x,i.y=r.y-i.y;var a,s,l=9;do{if(s=te(i,o),isNaN(s.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}a={x:r.x-(s.x+i.x),y:r.y-(s.y+i.y)},i.x+=a.x,i.y+=a.y}while(l--&&Math.abs(a.x)>1e-12&&Math.abs(a.y)>1e-12);if(l<0)return console.log("Inverse grid shift iterator failed to converge."),n;n.x=j(i.x+o.ll[0]),n.y=i.y+o.ll[1]}else isNaN(i.x)||(n.x=e.x+i.x,n.y=e.y+i.y);return n}function te(e,t){var o,n={x:e.x/t.del[0],y:e.y/t.del[1]},r=Math.floor(n.x),i=Math.floor(n.y),a=n.x-1*r,s=n.y-1*i,l={x:Number.NaN,y:Number.NaN};if(r<0||r>=t.lim[0])return l;if(i<0||i>=t.lim[1])return l;o=i*t.lim[0]+r;var c=t.cvs[o][0],u=t.cvs[o][1];o++;var d=t.cvs[o][0],h=t.cvs[o][1];o+=t.lim[0];var p=t.cvs[o][0],f=t.cvs[o][1];o--;var g=t.cvs[o][0],m=t.cvs[o][1],y=a*s,v=a*(1-s),_=(1-a)*(1-s),b=(1-a)*s;return l.x=_*c+v*d+b*g+y*p,l.y=_*u+v*h+b*m+y*f,l}var oe=function(e,t,o){var n,r,i,a=o.x,s=o.y,l=o.z||0,c={};for(i=0;i<3;i++)if(!t||2!==i||void 0!==o.z)switch(0===i?(n=a,r=-1!=="ew".indexOf(e.axis[i])?"x":"y"):1===i?(n=s,r=-1!=="ns".indexOf(e.axis[i])?"y":"x"):(n=l,r="z"),e.axis[i]){case"e":c[r]=n;break;case"w":c[r]=-n;break;case"n":c[r]=n;break;case"s":c[r]=-n;break;case"u":void 0!==o[r]&&(c.z=n);break;case"d":void 0!==o[r]&&(c.z=-n);break;default:return null}return c},ne=function(e){var t={x:e[0],y:e[1]};return e.length>2&&(t.z=e[2]),e.length>3&&(t.m=e[3]),t};function re(e){if("function"==typeof Number.isFinite){if(Number.isFinite(e))return;throw new TypeError("coordinates must be finite numbers")}if("number"!=typeof e||e!=e||!isFinite(e))throw new TypeError("coordinates must be finite numbers")}function ie(e,t,r,i){var a;if(Array.isArray(r)&&(r=ne(r)),function(e){re(e.x),re(e.y)}(r),e.datum&&t.datum&&function(e,t){return(1===e.datum.datum_type||2===e.datum.datum_type)&&"WGS84"!==t.datumCode||(1===t.datum.datum_type||2===t.datum.datum_type)&&"WGS84"!==e.datumCode}(e,t)&&(r=ie(e,a=new X("WGS84"),r,i),e=a),i&&"enu"!==e.axis&&(r=oe(e,!1,r)),"longlat"===e.projName)r={x:r.x*o,y:r.y*o,z:r.z||0};else if(e.to_meter&&(r={x:r.x*e.to_meter,y:r.y*e.to_meter,z:r.z||0}),!(r=e.inverse(r)))return;if(e.from_greenwich&&(r.x+=e.from_greenwich),r=Q(e.datum,t.datum,r))return t.from_greenwich&&(r={x:r.x-t.from_greenwich,y:r.y,z:r.z||0}),"longlat"===t.projName?r={x:r.x*n,y:r.y*n,z:r.z||0}:(r=t.forward(r),t.to_meter&&(r={x:r.x/t.to_meter,y:r.y/t.to_meter,z:r.z||0})),i&&"enu"!==t.axis?oe(t,!0,r):r}var ae=X("WGS84");function se(e,t,o,n){var r,i,a;return Array.isArray(o)?(r=ie(e,t,o,n)||{x:NaN,y:NaN},o.length>2?void 0!==e.name&&"geocent"===e.name||void 0!==t.name&&"geocent"===t.name?"number"==typeof r.z?[r.x,r.y,r.z].concat(o.splice(3)):[r.x,r.y,o[2]].concat(o.splice(3)):[r.x,r.y].concat(o.splice(2)):[r.x,r.y]):(i=ie(e,t,o,n),2===(a=Object.keys(o)).length||a.forEach((function(n){if(void 0!==e.name&&"geocent"===e.name||void 0!==t.name&&"geocent"===t.name){if("x"===n||"y"===n||"z"===n)return}else if("x"===n||"y"===n)return;i[n]=o[n]})),i)}function le(e){return e instanceof X?e:e.oProj?e.oProj:X(e)}function ce(e,t,o){e=le(e);var n,r=!1;return void 0===t?(t=e,e=ae,r=!0):(void 0!==t.x||Array.isArray(t))&&(o=t,t=e,e=ae,r=!0),t=le(t),o?se(e,t,o):(n={forward:function(o,n){return se(e,t,o,n)},inverse:function(o,n){return se(t,e,o,n)}},r&&(n.oProj=t),n)}var ue=65,de=73,he=79,pe={forward:fe,inverse:function(e){var t=ve(be(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat,t.lon,t.lat]:[t.left,t.bottom,t.right,t.top]},toPoint:ge};function fe(e,t){return t=t||5,function(e,t){var o,n,r,i,a,s,l,c,u,d,h,p,f,g,m="00000"+e.easting,y="00000"+e.northing;return e.zoneNumber+e.zoneLetter+(u=e.easting,d=e.northing,h=e.zoneNumber,p=_e(h),f=Math.floor(u/1e5),g=Math.floor(d/1e5)%20,o=f,n=g,i="AJSAJS".charCodeAt(r=p-1),a="AFAFAF".charCodeAt(r),c=!1,(s=i+o-1)>90&&(s=s-90+ue-1,c=!0),(s===de||i<de&&s>de||(s>de||i<de)&&c)&&s++,(s===he||i<he&&s>he||(s>he||i<he)&&c)&&++s===de&&s++,s>90&&(s=s-90+ue-1),(l=a+n)>86?(l=l-86+ue-1,c=!0):c=!1,(l===de||a<de&&l>de||(l>de||a<de)&&c)&&l++,(l===he||a<he&&l>he||(l>he||a<he)&&c)&&++l===de&&l++,l>86&&(l=l-86+ue-1),String.fromCharCode(s)+String.fromCharCode(l))+m.substr(m.length-5,t)+y.substr(y.length-5,t)}(function(e){var t,o,n,r,i,a,s,l=e.lat,c=e.lon,u=6378137,d=me(l),h=me(c);s=Math.floor((c+180)/6)+1,180===c&&(s=60),l>=56&&l<64&&c>=3&&c<12&&(s=32),l>=72&&l<84&&(c>=0&&c<9?s=31:c>=9&&c<21?s=33:c>=21&&c<33?s=35:c>=33&&c<42&&(s=37)),a=me(6*(s-1)-180+3),t=u/Math.sqrt(1-.00669438*Math.sin(d)*Math.sin(d)),o=Math.tan(d)*Math.tan(d),n=.006739496752268451*Math.cos(d)*Math.cos(d),r=Math.cos(d)*(h-a),i=u*(.9983242984503243*d-.002514607064228144*Math.sin(2*d)+2639046602129982e-21*Math.sin(4*d)-3.418046101696858e-9*Math.sin(6*d));var p,f,g=.9996*t*(r+(1-o+n)*r*r*r/6+(5-18*o+o*o+72*n-.39089081163157013)*r*r*r*r*r/120)+5e5,m=.9996*(i+t*Math.tan(d)*(r*r/2+(5-o+9*n+4*n*n)*r*r*r*r/24+(61-58*o+o*o+600*n-2.2240339282485886)*r*r*r*r*r*r/720));return l<0&&(m+=1e7),{northing:Math.round(m),easting:Math.round(g),zoneNumber:s,zoneLetter:(p=l,f="Z",84>=p&&p>=72?f="X":72>p&&p>=64?f="W":64>p&&p>=56?f="V":56>p&&p>=48?f="U":48>p&&p>=40?f="T":40>p&&p>=32?f="S":32>p&&p>=24?f="R":24>p&&p>=16?f="Q":16>p&&p>=8?f="P":8>p&&p>=0?f="N":0>p&&p>=-8?f="M":-8>p&&p>=-16?f="L":-16>p&&p>=-24?f="K":-24>p&&p>=-32?f="J":-32>p&&p>=-40?f="H":-40>p&&p>=-48?f="G":-48>p&&p>=-56?f="F":-56>p&&p>=-64?f="E":-64>p&&p>=-72?f="D":-72>p&&p>=-80&&(f="C"),f)}}({lat:e[1],lon:e[0]}),t)}function ge(e){var t=ve(be(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat]:[(t.left+t.right)/2,(t.top+t.bottom)/2]}function me(e){return e*(Math.PI/180)}function ye(e){return e/Math.PI*180}function ve(e){var t=e.northing,o=e.easting,n=e.zoneLetter,r=e.zoneNumber;if(r<0||r>60)return null;var i,a,s,l,c,u,d,h,p=6378137,f=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),g=o-5e5,m=t;n<"N"&&(m-=1e7),u=6*(r-1)-180+3,h=(d=m/.9996/6367449.145945056)+(3*f/2-27*f*f*f/32)*Math.sin(2*d)+(21*f*f/16-55*f*f*f*f/32)*Math.sin(4*d)+151*f*f*f/96*Math.sin(6*d),i=p/Math.sqrt(1-.00669438*Math.sin(h)*Math.sin(h)),a=Math.tan(h)*Math.tan(h),s=.006739496752268451*Math.cos(h)*Math.cos(h),l=.99330562*p/Math.pow(1-.00669438*Math.sin(h)*Math.sin(h),1.5),c=g/(.9996*i);var y=h-i*Math.tan(h)/l*(c*c/2-(5+3*a+10*s-4*s*s-.06065547077041606)*c*c*c*c/24+(61+90*a+298*s+45*a*a-1.6983531815716497-3*s*s)*c*c*c*c*c*c/720);y=ye(y);var v,_=(c-(1+2*a+s)*c*c*c/6+(5-2*s+28*a-3*s*s+.05391597401814761+24*a*a)*c*c*c*c*c/120)/Math.cos(h);if(_=u+ye(_),e.accuracy){var b=ve({northing:e.northing+e.accuracy,easting:e.easting+e.accuracy,zoneLetter:e.zoneLetter,zoneNumber:e.zoneNumber});v={top:b.lat,right:b.lon,bottom:y,left:_}}else v={lat:y,lon:_};return v}function _e(e){var t=e%6;return 0===t&&(t=6),t}function be(e){if(e&&0===e.length)throw"MGRSPoint coverting from nothing";for(var t,o=e.length,n=null,r="",i=0;!/[A-Z]/.test(t=e.charAt(i));){if(i>=2)throw"MGRSPoint bad conversion from: "+e;r+=t,i++}var a=parseInt(r,10);if(0===i||i+3>o)throw"MGRSPoint bad conversion from: "+e;var s=e.charAt(i++);if(s<="A"||"B"===s||"Y"===s||s>="Z"||"I"===s||"O"===s)throw"MGRSPoint zone letter "+s+" not handled: "+e;n=e.substring(i,i+=2);for(var l=_e(a),c=function(e,t){for(var o="AJSAJS".charCodeAt(t-1),n=1e5,r=!1;o!==e.charCodeAt(0);){if(++o===de&&o++,o===he&&o++,o>90){if(r)throw"Bad character: "+e;o=ue,r=!0}n+=1e5}return n}(n.charAt(0),l),u=function(e,t){if(e>"V")throw"MGRSPoint given invalid Northing "+e;for(var o="AFAFAF".charCodeAt(t-1),n=0,r=!1;o!==e.charCodeAt(0);){if(++o===de&&o++,o===he&&o++,o>86){if(r)throw"Bad character: "+e;o=ue,r=!0}n+=1e5}return n}(n.charAt(1),l);u<Ae(s);)u+=2e6;var d=o-i;if(d%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+e;var h,p,f,g=d/2,m=0,y=0;return g>0&&(h=1e5/Math.pow(10,g),p=e.substring(i,i+g),m=parseFloat(p)*h,f=e.substring(i+g),y=parseFloat(f)*h),{easting:m+c,northing:y+u,zoneLetter:s,zoneNumber:a,accuracy:h}}function Ae(e){var t;switch(e){case"C":t=11e5;break;case"D":t=2e6;break;case"E":t=28e5;break;case"F":t=37e5;break;case"G":t=46e5;break;case"H":t=55e5;break;case"J":t=64e5;break;case"K":t=73e5;break;case"L":t=82e5;break;case"M":t=91e5;break;case"N":t=0;break;case"P":t=8e5;break;case"Q":t=17e5;break;case"R":t=26e5;break;case"S":t=35e5;break;case"T":t=44e5;break;case"U":t=53e5;break;case"V":t=62e5;break;case"W":t=7e6;break;case"X":t=79e5;break;default:t=-1}if(t>=0)return t;throw"Invalid zone letter: "+e}function Ce(e,t,o){if(!(this instanceof Ce))return new Ce(e,t,o);if(Array.isArray(e))this.x=e[0],this.y=e[1],this.z=e[2]||0;else if("object"==typeof e)this.x=e.x,this.y=e.y,this.z=e.z||0;else if("string"==typeof e&&void 0===t){var n=e.split(",");this.x=parseFloat(n[0],10),this.y=parseFloat(n[1],10),this.z=parseFloat(n[2],10)||0}else this.x=e,this.y=t,this.z=o||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}Ce.fromMGRS=function(e){return new Ce(ge(e))},Ce.prototype.toMGRS=function(e){return fe([this.x,this.y],e)};var we=.01068115234375,Ee=function(e){var t=[];t[0]=1-e*(.25+e*(.046875+e*(.01953125+e*we))),t[1]=e*(.75-e*(.046875+e*(.01953125+e*we)));var o=e*e;return t[2]=o*(.46875-e*(.013020833333333334+.007120768229166667*e)),o*=e,t[3]=o*(.3645833333333333-.005696614583333333*e),t[4]=o*e*.3076171875,t},Ie=function(e,t,o,n){return o*=t,t*=t,n[0]*e-o*(n[1]+t*(n[2]+t*(n[3]+t*n[4])))},Oe=function(e,t,o){for(var n=1/(1-t),r=e,i=20;i;--i){var a=Math.sin(r),s=1-t*a*a;if(r-=s=(Ie(r,a,Math.cos(r),o)-e)*(s*Math.sqrt(s))*n,Math.abs(s)<1e-10)return r}return r},Se={init:function(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=Ee(this.es),this.ml0=Ie(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))},forward:function(e){var t,o,n,r=e.x,i=e.y,a=j(r-this.long0),s=Math.sin(i),l=Math.cos(i);if(this.es){var c=l*a,u=Math.pow(c,2),d=this.ep2*Math.pow(l,2),h=Math.pow(d,2),p=Math.abs(l)>1e-10?Math.tan(i):0,f=Math.pow(p,2),g=Math.pow(f,2);t=1-this.es*Math.pow(s,2),c/=Math.sqrt(t);var m=Ie(i,s,l,this.en);o=this.a*(this.k0*c*(1+u/6*(1-f+d+u/20*(5-18*f+g+14*d-58*f*d+u/42*(61+179*g-g*f-479*f)))))+this.x0,n=this.a*(this.k0*(m-this.ml0+s*a*c/2*(1+u/12*(5-f+9*d+4*h+u/30*(61+g-58*f+270*d-330*f*d+u/56*(1385+543*g-g*f-3111*f))))))+this.y0}else{var y=l*Math.sin(a);if(Math.abs(Math.abs(y)-1)<1e-10)return 93;if(o=.5*this.a*this.k0*Math.log((1+y)/(1-y))+this.x0,n=l*Math.cos(a)/Math.sqrt(1-Math.pow(y,2)),(y=Math.abs(n))>=1){if(y-1>1e-10)return 93;n=0}else n=Math.acos(n);i<0&&(n=-n),n=this.a*this.k0*(n-this.lat0)+this.y0}return e.x=o,e.y=n,e},inverse:function(e){var o,n,r,i,a=(e.x-this.x0)*(1/this.a),s=(e.y-this.y0)*(1/this.a);if(this.es)if(o=this.ml0+s/this.k0,n=Oe(o,this.es,this.en),Math.abs(n)<t){var l=Math.sin(n),c=Math.cos(n),u=Math.abs(c)>1e-10?Math.tan(n):0,d=this.ep2*Math.pow(c,2),h=Math.pow(d,2),p=Math.pow(u,2),f=Math.pow(p,2);o=1-this.es*Math.pow(l,2);var g=a*Math.sqrt(o)/this.k0,m=Math.pow(g,2);r=n-(o*=u)*m/(1-this.es)*.5*(1-m/12*(5+3*p-9*d*p+d-4*h-m/30*(61+90*p-252*d*p+45*f+46*d-m/56*(1385+3633*p+4095*f+1574*f*p)))),i=j(this.long0+g*(1-m/6*(1+2*p+d-m/20*(5+28*p+24*f+8*d*p+6*d-m/42*(61+662*p+1320*f+720*f*p))))/c)}else r=t*x(s),i=0;else{var y=Math.exp(a/this.k0),v=.5*(y-1/y),_=this.lat0+s/this.k0,b=Math.cos(_);o=Math.sqrt((1-Math.pow(b,2))/(1+Math.pow(v,2))),r=Math.asin(o),s<0&&(r=-r),i=0===v&&0===b?0:j(Math.atan2(v,b)+this.long0)}return e.x=i,e.y=r,e},names:["Fast_Transverse_Mercator","Fast Transverse Mercator"]},xe=function(e){var t=Math.exp(e);return t=(t-1/t)/2},je=function(e,t){e=Math.abs(e),t=Math.abs(t);var o=Math.max(e,t),n=Math.min(e,t)/(o||1);return o*Math.sqrt(1+Math.pow(n,2))},Pe=function(e){var t=Math.abs(e);return t=function(e){var t=1+e,o=t-1;return 0===o?e:e*Math.log(t)/o}(t*(1+t/(je(1,t)+1))),e<0?-t:t},Te=function(e,t){for(var o,n=2*Math.cos(2*t),r=e.length-1,i=e[r],a=0;--r>=0;)o=n*i-a+e[r],a=i,i=o;return t+o*Math.sin(2*t)},Me=function(e,t,o){for(var n,r,i=Math.sin(t),a=Math.cos(t),s=xe(o),l=function(e){var t=Math.exp(e);return t=(t+1/t)/2}(o),c=2*a*l,u=-2*i*s,d=e.length-1,h=e[d],p=0,f=0,g=0;--d>=0;)n=f,r=p,h=c*(f=h)-n-u*(p=g)+e[d],g=u*f-r+c*p;return[(c=i*l)*h-(u=a*s)*g,c*g+u*h]},Re={init:function(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(Se.init.apply(this),this.forward=Se.forward,this.inverse=Se.inverse),this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var e=this.es/(1+Math.sqrt(1-this.es)),t=e/(2-e),o=t;this.cgb[0]=t*(2+t*(-2/3+t*(t*(116/45+t*(26/45+t*(-2854/675)))-2))),this.cbg[0]=t*(t*(2/3+t*(4/3+t*(-82/45+t*(32/45+t*(4642/4725)))))-2),o*=t,this.cgb[1]=o*(7/3+t*(t*(-227/45+t*(2704/315+t*(2323/945)))-1.6)),this.cbg[1]=o*(5/3+t*(-16/15+t*(-13/9+t*(904/315+t*(-1522/945))))),o*=t,this.cgb[2]=o*(56/15+t*(-136/35+t*(-1262/105+t*(73814/2835)))),this.cbg[2]=o*(-26/15+t*(34/21+t*(1.6+t*(-12686/2835)))),o*=t,this.cgb[3]=o*(4279/630+t*(-332/35+t*(-399572/14175))),this.cbg[3]=o*(1237/630+t*(t*(-24832/14175)-2.4)),o*=t,this.cgb[4]=o*(4174/315+t*(-144838/6237)),this.cbg[4]=o*(-734/315+t*(109598/31185)),o*=t,this.cgb[5]=o*(601676/22275),this.cbg[5]=o*(444337/155925),o=Math.pow(t,2),this.Qn=this.k0/(1+t)*(1+o*(1/4+o*(1/64+o/256))),this.utg[0]=t*(t*(2/3+t*(-37/96+t*(1/360+t*(81/512+t*(-96199/604800)))))-.5),this.gtu[0]=t*(.5+t*(-2/3+t*(5/16+t*(41/180+t*(-127/288+t*(7891/37800)))))),this.utg[1]=o*(-1/48+t*(-1/15+t*(437/1440+t*(-46/105+t*(1118711/3870720))))),this.gtu[1]=o*(13/48+t*(t*(557/1440+t*(281/630+t*(-1983433/1935360)))-.6)),o*=t,this.utg[2]=o*(-17/480+t*(37/840+t*(209/4480+t*(-5569/90720)))),this.gtu[2]=o*(61/240+t*(-103/140+t*(15061/26880+t*(167603/181440)))),o*=t,this.utg[3]=o*(-4397/161280+t*(11/504+t*(830251/7257600))),this.gtu[3]=o*(49561/161280+t*(-179/168+t*(6601661/7257600))),o*=t,this.utg[4]=o*(-4583/161280+t*(108847/3991680)),this.gtu[4]=o*(34729/80640+t*(-3418889/1995840)),o*=t,this.utg[5]=o*(-20648693/638668800),this.gtu[5]=.6650675310896665*o;var n=Te(this.cbg,this.lat0);this.Zb=-this.Qn*(n+function(e,t){for(var o,n=2*Math.cos(t),r=e.length-1,i=e[r],a=0;--r>=0;)o=n*i-a+e[r],a=i,i=o;return Math.sin(t)*o}(this.gtu,2*n))},forward:function(e){var t=j(e.x-this.long0),o=e.y;o=Te(this.cbg,o);var n=Math.sin(o),r=Math.cos(o),i=Math.sin(t),a=Math.cos(t);o=Math.atan2(n,a*r),t=Math.atan2(i*r,je(n,r*a)),t=Pe(Math.tan(t));var s,l,c=Me(this.gtu,2*o,2*t);return o+=c[0],t+=c[1],Math.abs(t)<=2.623395162778?(s=this.a*(this.Qn*t)+this.x0,l=this.a*(this.Qn*o+this.Zb)+this.y0):(s=1/0,l=1/0),e.x=s,e.y=l,e},inverse:function(e){var t,o,n=(e.x-this.x0)*(1/this.a),r=(e.y-this.y0)*(1/this.a);if(r=(r-this.Zb)/this.Qn,n/=this.Qn,Math.abs(n)<=2.623395162778){var i=Me(this.utg,2*r,2*n);r+=i[0],n+=i[1],n=Math.atan(xe(n));var a=Math.sin(r),s=Math.cos(r),l=Math.sin(n),c=Math.cos(n);r=Math.atan2(a*c,je(l,c*s)),n=Math.atan2(l,c*s),t=j(n+this.long0),o=Te(this.cgb,r)}else t=1/0,o=1/0;return e.x=t,e.y=o,e},names:["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","tmerc"]},Le={init:function(){var e=function(e,t){if(void 0===e){if((e=Math.floor(30*(j(t)+Math.PI)/Math.PI)+1)<0)return 0;if(e>60)return 60}return e}(this.zone,this.long0);if(void 0===e)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(e)-183)*o,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,Re.init.apply(this),this.forward=Re.forward,this.inverse=Re.inverse},names:["Universal Transverse Mercator System","utm"],dependsOn:"etmerc"},ke=function(e,t){return Math.pow((1-e)/(1+e),t)},Ge={init:function(){var e=Math.sin(this.lat0),t=Math.cos(this.lat0);t*=t,this.rc=Math.sqrt(1-this.es)/(1-this.es*e*e),this.C=Math.sqrt(1+this.es*t*t/(1-this.es)),this.phic0=Math.asin(e/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+r)/(Math.pow(Math.tan(.5*this.lat0+r),this.C)*ke(this.e*e,this.ratexp))},forward:function(e){var o=e.x,n=e.y;return e.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+r),this.C)*ke(this.e*Math.sin(n),this.ratexp))-t,e.x=this.C*o,e},inverse:function(e){for(var o=e.x/this.C,n=e.y,i=Math.pow(Math.tan(.5*n+r)/this.K,1/this.C),a=20;a>0&&(n=2*Math.atan(i*ke(this.e*Math.sin(e.y),-.5*this.e))-t,!(Math.abs(n-e.y)<1e-14));--a)e.y=n;return a?(e.x=o,e.y=n,e):null},names:["gauss"]},De={init:function(){Ge.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},forward:function(e){var t,o,n,r;return e.x=j(e.x-this.long0),Ge.forward.apply(this,[e]),t=Math.sin(e.y),o=Math.cos(e.y),n=Math.cos(e.x),r=this.k0*this.R2/(1+this.sinc0*t+this.cosc0*o*n),e.x=r*o*Math.sin(e.x),e.y=r*(this.cosc0*t-this.sinc0*o*n),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e},inverse:function(e){var t,o,n,r,i;if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,i=Math.sqrt(e.x*e.x+e.y*e.y)){var a=2*Math.atan2(i,this.R2);t=Math.sin(a),o=Math.cos(a),r=Math.asin(o*this.sinc0+e.y*t*this.cosc0/i),n=Math.atan2(e.x*t,i*this.cosc0*o-e.y*this.sinc0*t)}else r=this.phic0,n=0;return e.x=n,e.y=r,Ge.inverse.apply(this,[e]),e.x=j(e.x+this.long0),e},names:["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"]},Ne={init:function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=1e-10&&(this.k0=.5*(1+x(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=1e-10&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=1e-10&&(this.k0=.5*this.cons*S(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/P(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=S(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-t,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},forward:function(e){var o,n,r,i,a,s,l=e.x,c=e.y,u=Math.sin(c),d=Math.cos(c),h=j(l-this.long0);return Math.abs(Math.abs(l-this.long0)-Math.PI)<=1e-10&&Math.abs(c+this.lat0)<=1e-10?(e.x=NaN,e.y=NaN,e):this.sphere?(o=2*this.k0/(1+this.sinlat0*u+this.coslat0*d*Math.cos(h)),e.x=this.a*o*d*Math.sin(h)+this.x0,e.y=this.a*o*(this.coslat0*u-this.sinlat0*d*Math.cos(h))+this.y0,e):(n=2*Math.atan(this.ssfn_(c,u,this.e))-t,i=Math.cos(n),r=Math.sin(n),Math.abs(this.coslat0)<=1e-10?(a=P(this.e,c*this.con,this.con*u),s=2*this.a*this.k0*a/this.cons,e.x=this.x0+s*Math.sin(l-this.long0),e.y=this.y0-this.con*s*Math.cos(l-this.long0),e):(Math.abs(this.sinlat0)<1e-10?(o=2*this.a*this.k0/(1+i*Math.cos(h)),e.y=o*r):(o=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*r+this.cosX0*i*Math.cos(h))),e.y=o*(this.cosX0*r-this.sinX0*i*Math.cos(h))+this.y0),e.x=o*i*Math.sin(h)+this.x0,e))},inverse:function(e){var o,n,r,i,a;e.x-=this.x0,e.y-=this.y0;var s=Math.sqrt(e.x*e.x+e.y*e.y);if(this.sphere){var l=2*Math.atan(s/(2*this.a*this.k0));return o=this.long0,n=this.lat0,s<=1e-10?(e.x=o,e.y=n,e):(n=Math.asin(Math.cos(l)*this.sinlat0+e.y*Math.sin(l)*this.coslat0/s),o=Math.abs(this.coslat0)<1e-10?this.lat0>0?j(this.long0+Math.atan2(e.x,-1*e.y)):j(this.long0+Math.atan2(e.x,e.y)):j(this.long0+Math.atan2(e.x*Math.sin(l),s*this.coslat0*Math.cos(l)-e.y*this.sinlat0*Math.sin(l))),e.x=o,e.y=n,e)}if(Math.abs(this.coslat0)<=1e-10){if(s<=1e-10)return n=this.lat0,o=this.long0,e.x=o,e.y=n,e;e.x*=this.con,e.y*=this.con,r=s*this.cons/(2*this.a*this.k0),n=this.con*T(this.e,r),o=this.con*j(this.con*this.long0+Math.atan2(e.x,-1*e.y))}else i=2*Math.atan(s*this.cosX0/(2*this.a*this.k0*this.ms1)),o=this.long0,s<=1e-10?a=this.X0:(a=Math.asin(Math.cos(i)*this.sinX0+e.y*Math.sin(i)*this.cosX0/s),o=j(this.long0+Math.atan2(e.x*Math.sin(i),s*this.cosX0*Math.cos(i)-e.y*this.sinX0*Math.sin(i)))),n=-1*T(this.e,Math.tan(.5*(t+a)));return e.x=o,e.y=n,e},names:["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],ssfn_:function(e,o,n){return o*=n,Math.tan(.5*(t+e))*Math.pow((1-o)/(1+o),.5*n)}},Fe={init:function(){var e=this.lat0;this.lambda0=this.long0;var t=Math.sin(e),o=this.a,n=1/this.rf,r=2*n-Math.pow(n,2),i=this.e=Math.sqrt(r);this.R=this.k0*o*Math.sqrt(1-r)/(1-r*Math.pow(t,2)),this.alpha=Math.sqrt(1+r/(1-r)*Math.pow(Math.cos(e),4)),this.b0=Math.asin(t/this.alpha);var a=Math.log(Math.tan(Math.PI/4+this.b0/2)),s=Math.log(Math.tan(Math.PI/4+e/2)),l=Math.log((1+i*t)/(1-i*t));this.K=a-this.alpha*s+this.alpha*i/2*l},forward:function(e){var t=Math.log(Math.tan(Math.PI/4-e.y/2)),o=this.e/2*Math.log((1+this.e*Math.sin(e.y))/(1-this.e*Math.sin(e.y))),n=-this.alpha*(t+o)+this.K,r=2*(Math.atan(Math.exp(n))-Math.PI/4),i=this.alpha*(e.x-this.lambda0),a=Math.atan(Math.sin(i)/(Math.sin(this.b0)*Math.tan(r)+Math.cos(this.b0)*Math.cos(i))),s=Math.asin(Math.cos(this.b0)*Math.sin(r)-Math.sin(this.b0)*Math.cos(r)*Math.cos(i));return e.y=this.R/2*Math.log((1+Math.sin(s))/(1-Math.sin(s)))+this.y0,e.x=this.R*a+this.x0,e},inverse:function(e){for(var t=e.x-this.x0,o=e.y-this.y0,n=t/this.R,r=2*(Math.atan(Math.exp(o/this.R))-Math.PI/4),i=Math.asin(Math.cos(this.b0)*Math.sin(r)+Math.sin(this.b0)*Math.cos(r)*Math.cos(n)),a=Math.atan(Math.sin(n)/(Math.cos(this.b0)*Math.cos(n)-Math.sin(this.b0)*Math.tan(r))),s=this.lambda0+a/this.alpha,l=0,c=i,u=-1e3,d=0;Math.abs(c-u)>1e-7;){if(++d>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+i/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(c))/2)),u=c,c=2*Math.atan(Math.exp(l))-Math.PI/2}return e.x=s,e.y=c,e},names:["somerc"]},Ue={init:function(){var e,n,a,s,l,c,u,d,h,p,f,g,m,y=0,v=0,_=0,b=0,A=0,C=0,w=0;this.no_off=(m="object"==typeof(g=this).PROJECTION?Object.keys(g.PROJECTION)[0]:g.PROJECTION,"no_uoff"in g||"no_off"in g||-1!==["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"].indexOf(m)),this.no_rot="no_rot"in this;var E=!1;"alpha"in this&&(E=!0);var I=!1;if("rectified_grid_angle"in this&&(I=!0),E&&(w=this.alpha),I&&(y=this.rectified_grid_angle*o),E||I)v=this.longc;else if(_=this.long1,A=this.lat1,b=this.long2,C=this.lat2,Math.abs(A-C)<=1e-7||(e=Math.abs(A))<=1e-7||Math.abs(e-t)<=1e-7||Math.abs(Math.abs(this.lat0)-t)<=1e-7||Math.abs(Math.abs(C)-t)<=1e-7)throw new Error;var O=1-this.es;n=Math.sqrt(O),Math.abs(this.lat0)>1e-10?(d=Math.sin(this.lat0),a=Math.cos(this.lat0),e=1-this.es*d*d,this.B=a*a,this.B=Math.sqrt(1+this.es*this.B*this.B/O),this.A=this.B*this.k0*n/e,(l=(s=this.B*n/(a*Math.sqrt(e)))*s-1)<=0?l=0:(l=Math.sqrt(l),this.lat0<0&&(l=-l)),this.E=l+=s,this.E*=Math.pow(P(this.e,this.lat0,d),this.B)):(this.B=1/n,this.A=this.k0,this.E=s=l=1),E||I?(E?(f=Math.asin(Math.sin(w)/s),I||(y=w)):(f=y,w=Math.asin(s*Math.sin(f))),this.lam0=v-Math.asin(.5*(l-1/l)*Math.tan(f))/this.B):(c=Math.pow(P(this.e,A,Math.sin(A)),this.B),u=Math.pow(P(this.e,C,Math.sin(C)),this.B),l=this.E/c,h=(u-c)/(u+c),p=((p=this.E*this.E)-u*c)/(p+u*c),(e=_-b)<-Math.pi?b-=i:e>Math.pi&&(b+=i),this.lam0=j(.5*(_+b)-Math.atan(p*Math.tan(.5*this.B*(_-b))/h)/this.B),f=Math.atan(2*Math.sin(this.B*j(_-this.lam0))/(l-1/l)),y=w=Math.asin(s*Math.sin(f))),this.singam=Math.sin(f),this.cosgam=Math.cos(f),this.sinrot=Math.sin(y),this.cosrot=Math.cos(y),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(s*s-1)/Math.cos(w))),this.lat0<0&&(this.u_0=-this.u_0)),l=.5*f,this.v_pole_n=this.ArB*Math.log(Math.tan(r-l)),this.v_pole_s=this.ArB*Math.log(Math.tan(r+l))},forward:function(e){var o,n,r,i,a,s,l,c,u={};if(e.x=e.x-this.lam0,Math.abs(Math.abs(e.y)-t)>1e-10){if(o=.5*((a=this.E/Math.pow(P(this.e,e.y,Math.sin(e.y)),this.B))-(s=1/a)),n=.5*(a+s),i=Math.sin(this.B*e.x),r=(o*this.singam-i*this.cosgam)/n,Math.abs(Math.abs(r)-1)<1e-10)throw new Error;c=.5*this.ArB*Math.log((1-r)/(1+r)),s=Math.cos(this.B*e.x),l=Math.abs(s)<1e-7?this.A*e.x:this.ArB*Math.atan2(o*this.cosgam+i*this.singam,s)}else c=e.y>0?this.v_pole_n:this.v_pole_s,l=this.ArB*e.y;return this.no_rot?(u.x=l,u.y=c):(l-=this.u_0,u.x=c*this.cosrot+l*this.sinrot,u.y=l*this.cosrot-c*this.sinrot),u.x=this.a*u.x+this.x0,u.y=this.a*u.y+this.y0,u},inverse:function(e){var o,n,r,i,a,s,l,c={};if(e.x=(e.x-this.x0)*(1/this.a),e.y=(e.y-this.y0)*(1/this.a),this.no_rot?(n=e.y,o=e.x):(n=e.x*this.cosrot-e.y*this.sinrot,o=e.y*this.cosrot+e.x*this.sinrot+this.u_0),i=.5*((r=Math.exp(-this.BrA*n))-1/r),a=.5*(r+1/r),l=((s=Math.sin(this.BrA*o))*this.cosgam+i*this.singam)/a,Math.abs(Math.abs(l)-1)<1e-10)c.x=0,c.y=l<0?-t:t;else{if(c.y=this.E/Math.sqrt((1+l)/(1-l)),c.y=T(this.e,Math.pow(c.y,1/this.B)),c.y===1/0)throw new Error;c.x=-this.rB*Math.atan2(i*this.cosgam-s*this.singam,Math.cos(this.BrA*o))}return c.x+=this.lam0,c},names:["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"]},Be={init:function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<1e-10)){var e=this.b/this.a;this.e=Math.sqrt(1-e*e);var t=Math.sin(this.lat1),o=Math.cos(this.lat1),n=S(this.e,t,o),r=P(this.e,this.lat1,t),i=Math.sin(this.lat2),a=Math.cos(this.lat2),s=S(this.e,i,a),l=P(this.e,this.lat2,i),c=P(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>1e-10?this.ns=Math.log(n/s)/Math.log(r/l):this.ns=t,isNaN(this.ns)&&(this.ns=t),this.f0=n/(this.ns*Math.pow(r,this.ns)),this.rh=this.a*this.f0*Math.pow(c,this.ns),this.title||(this.title="Lambert Conformal Conic")}},forward:function(e){var o=e.x,n=e.y;Math.abs(2*Math.abs(n)-Math.PI)<=1e-10&&(n=x(n)*(t-2e-10));var r,i,a=Math.abs(Math.abs(n)-t);if(a>1e-10)r=P(this.e,n,Math.sin(n)),i=this.a*this.f0*Math.pow(r,this.ns);else{if((a=n*this.ns)<=0)return null;i=0}var s=this.ns*j(o-this.long0);return e.x=this.k0*(i*Math.sin(s))+this.x0,e.y=this.k0*(this.rh-i*Math.cos(s))+this.y0,e},inverse:function(e){var o,n,r,i,a,s=(e.x-this.x0)/this.k0,l=this.rh-(e.y-this.y0)/this.k0;this.ns>0?(o=Math.sqrt(s*s+l*l),n=1):(o=-Math.sqrt(s*s+l*l),n=-1);var c=0;if(0!==o&&(c=Math.atan2(n*s,n*l)),0!==o||this.ns>0){if(n=1/this.ns,r=Math.pow(o/(this.a*this.f0),n),-9999===(i=T(this.e,r)))return null}else i=-t;return a=j(c/this.ns+this.long0),e.x=a,e.y=i,e},names:["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc"]},ze={init:function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},forward:function(e){var t,o,n,r,i,a,s,l=e.x,c=e.y,u=j(l-this.long0);return t=Math.pow((1+this.e*Math.sin(c))/(1-this.e*Math.sin(c)),this.alfa*this.e/2),o=2*(Math.atan(this.k*Math.pow(Math.tan(c/2+this.s45),this.alfa)/t)-this.s45),n=-u*this.alfa,r=Math.asin(Math.cos(this.ad)*Math.sin(o)+Math.sin(this.ad)*Math.cos(o)*Math.cos(n)),i=Math.asin(Math.cos(o)*Math.sin(n)/Math.cos(r)),a=this.n*i,s=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(r/2+this.s45),this.n),e.y=s*Math.cos(a)/1,e.x=s*Math.sin(a)/1,this.czech||(e.y*=-1,e.x*=-1),e},inverse:function(e){var t,o,n,r,i,a,s,l=e.x;e.x=e.y,e.y=l,this.czech||(e.y*=-1,e.x*=-1),i=Math.sqrt(e.x*e.x+e.y*e.y),r=Math.atan2(e.y,e.x)/Math.sin(this.s0),n=2*(Math.atan(Math.pow(this.ro0/i,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),t=Math.asin(Math.cos(this.ad)*Math.sin(n)-Math.sin(this.ad)*Math.cos(n)*Math.cos(r)),o=Math.asin(Math.cos(n)*Math.sin(r)/Math.cos(t)),e.x=this.long0-o/this.alfa,a=t,s=0;var c=0;do{e.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(t/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(a))/(1-this.e*Math.sin(a)),this.e/2))-this.s45),Math.abs(a-e.y)<1e-10&&(s=1),a=e.y,c+=1}while(0===s&&c<15);return c>=15?null:e},names:["Krovak","krovak"]},Ve=function(e,t,o,n,r){return e*r-t*Math.sin(2*r)+o*Math.sin(4*r)-n*Math.sin(6*r)},We=function(e){return 1-.25*e*(1+e/16*(3+1.25*e))},qe=function(e){return.375*e*(1+.25*e*(1+.46875*e))},Ye=function(e){return.05859375*e*e*(1+.75*e)},He=function(e){return e*e*e*(35/3072)},Xe=function(e,t,o){var n=t*o;return e/Math.sqrt(1-n*n)},Ze=function(e){return Math.abs(e)<t?e:e-x(e)*Math.PI},Ke=function(e,t,o,n,r){var i,a;i=e/t;for(var s=0;s<15;s++)if(i+=a=(e-(t*i-o*Math.sin(2*i)+n*Math.sin(4*i)-r*Math.sin(6*i)))/(t-2*o*Math.cos(2*i)+4*n*Math.cos(4*i)-6*r*Math.cos(6*i)),Math.abs(a)<=1e-10)return i;return NaN},Je={init:function(){this.sphere||(this.e0=We(this.es),this.e1=qe(this.es),this.e2=Ye(this.es),this.e3=He(this.es),this.ml0=this.a*Ve(this.e0,this.e1,this.e2,this.e3,this.lat0))},forward:function(e){var t,o,n=e.x,r=e.y;if(n=j(n-this.long0),this.sphere)t=this.a*Math.asin(Math.cos(r)*Math.sin(n)),o=this.a*(Math.atan2(Math.tan(r),Math.cos(n))-this.lat0);else{var i=Math.sin(r),a=Math.cos(r),s=Xe(this.a,this.e,i),l=Math.tan(r)*Math.tan(r),c=n*Math.cos(r),u=c*c,d=this.es*a*a/(1-this.es);t=s*c*(1-u*l*(1/6-(8-l+8*d)*u/120)),o=this.a*Ve(this.e0,this.e1,this.e2,this.e3,r)-this.ml0+s*i/a*u*(.5+(5-l+6*d)*u/24)}return e.x=t+this.x0,e.y=o+this.y0,e},inverse:function(e){e.x-=this.x0,e.y-=this.y0;var o,n,r=e.x/this.a,i=e.y/this.a;if(this.sphere){var a=i+this.lat0;o=Math.asin(Math.sin(a)*Math.cos(r)),n=Math.atan2(Math.tan(r),Math.cos(a))}else{var s=this.ml0/this.a+i,l=Ke(s,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(l)-t)<=1e-10)return e.x=this.long0,e.y=t,i<0&&(e.y*=-1),e;var c=Xe(this.a,this.e,Math.sin(l)),u=c*c*c/this.a/this.a*(1-this.es),d=Math.pow(Math.tan(l),2),h=r*this.a/c,p=h*h;o=l-c*Math.tan(l)/u*h*h*(.5-(1+3*d)*h*h/24),n=h*(1-p*(d/3+(1+3*d)*d*p/15))/Math.cos(l)}return e.x=j(n+this.long0),e.y=Ze(o),e},names:["Cassini","Cassini_Soldner","cass"]},Qe=function(e,t){var o;return e>1e-7?(1-e*e)*(t/(1-(o=e*t)*o)-.5/e*Math.log((1-o)/(1+o))):2*t},$e={init:function(){var e,o=Math.abs(this.lat0);if(Math.abs(o-t)<1e-10?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(o)<1e-10?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0)switch(this.qp=Qe(this.e,1),this.mmf=.5/(1-this.es),this.apa=function(e){var t,o=[];return o[0]=.3333333333333333*e,t=e*e,o[0]+=.17222222222222222*t,o[1]=.06388888888888888*t,t*=e,o[0]+=.10257936507936508*t,o[1]+=.0664021164021164*t,o[2]=.016415012942191543*t,o}(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=Qe(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},forward:function(e){var o,n,i,a,s,l,c,u,d,h,p=e.x,f=e.y;if(p=j(p-this.long0),this.sphere){if(s=Math.sin(f),h=Math.cos(f),i=Math.cos(p),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((n=this.mode===this.EQUIT?1+h*i:1+this.sinph0*s+this.cosph0*h*i)<=1e-10)return null;o=(n=Math.sqrt(2/n))*h*Math.sin(p),n*=this.mode===this.EQUIT?s:this.cosph0*s-this.sinph0*h*i}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(i=-i),Math.abs(f+this.lat0)<1e-10)return null;n=r-.5*f,o=(n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)))*Math.sin(p),n*=i}}else{switch(c=0,u=0,d=0,i=Math.cos(p),a=Math.sin(p),s=Math.sin(f),l=Qe(this.e,s),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(c=l/this.qp,u=Math.sqrt(1-c*c)),this.mode){case this.OBLIQ:d=1+this.sinb1*c+this.cosb1*u*i;break;case this.EQUIT:d=1+u*i;break;case this.N_POLE:d=t+f,l=this.qp-l;break;case this.S_POLE:d=f-t,l=this.qp+l}if(Math.abs(d)<1e-10)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:d=Math.sqrt(2/d),n=this.mode===this.OBLIQ?this.ymf*d*(this.cosb1*c-this.sinb1*u*i):(d=Math.sqrt(2/(1+u*i)))*c*this.ymf,o=this.xmf*d*u*a;break;case this.N_POLE:case this.S_POLE:l>=0?(o=(d=Math.sqrt(l))*a,n=i*(this.mode===this.S_POLE?d:-d)):o=n=0}}return e.x=this.a*o+this.x0,e.y=this.a*n+this.y0,e},inverse:function(e){e.x-=this.x0,e.y-=this.y0;var o,n,r,i,a,s,l,c,u,d,h=e.x/this.a,p=e.y/this.a;if(this.sphere){var f,g=0,m=0;if((n=.5*(f=Math.sqrt(h*h+p*p)))>1)return null;switch(n=2*Math.asin(n),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(m=Math.sin(n),g=Math.cos(n)),this.mode){case this.EQUIT:n=Math.abs(f)<=1e-10?0:Math.asin(p*m/f),h*=m,p=g*f;break;case this.OBLIQ:n=Math.abs(f)<=1e-10?this.lat0:Math.asin(g*this.sinph0+p*m*this.cosph0/f),h*=m*this.cosph0,p=(g-Math.sin(n)*this.sinph0)*f;break;case this.N_POLE:p=-p,n=t-n;break;case this.S_POLE:n-=t}o=0!==p||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(h,p):0}else{if(l=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(h/=this.dd,p*=this.dd,(s=Math.sqrt(h*h+p*p))<1e-10)return e.x=this.long0,e.y=this.lat0,e;i=2*Math.asin(.5*s/this.rq),r=Math.cos(i),h*=i=Math.sin(i),this.mode===this.OBLIQ?(l=r*this.sinb1+p*i*this.cosb1/s,a=this.qp*l,p=s*this.cosb1*r-p*this.sinb1*i):(l=p*i/s,a=this.qp*l,p=s*r)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(p=-p),!(a=h*h+p*p))return e.x=this.long0,e.y=this.lat0,e;l=1-a/this.qp,this.mode===this.S_POLE&&(l=-l)}o=Math.atan2(h,p),c=Math.asin(l),u=this.apa,d=c+c,n=c+u[0]*Math.sin(d)+u[1]*Math.sin(d+d)+u[2]*Math.sin(d+d+d)}return e.x=j(this.long0+o),e.y=n,e},names:["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4},et=function(e){return Math.abs(e)>1&&(e=e>1?1:-1),Math.asin(e)},tt={init:function(){Math.abs(this.lat1+this.lat2)<1e-10||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=S(this.e3,this.sin_po,this.cos_po),this.qs1=Qe(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=S(this.e3,this.sin_po,this.cos_po),this.qs2=Qe(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=Qe(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>1e-10?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},forward:function(e){var t=e.x,o=e.y;this.sin_phi=Math.sin(o),this.cos_phi=Math.cos(o);var n=Qe(this.e3,this.sin_phi,this.cos_phi),r=this.a*Math.sqrt(this.c-this.ns0*n)/this.ns0,i=this.ns0*j(t-this.long0),a=r*Math.sin(i)+this.x0,s=this.rh-r*Math.cos(i)+this.y0;return e.x=a,e.y=s,e},inverse:function(e){var t,o,n,r,i,a;return e.x-=this.x0,e.y=this.rh-e.y+this.y0,this.ns0>=0?(t=Math.sqrt(e.x*e.x+e.y*e.y),n=1):(t=-Math.sqrt(e.x*e.x+e.y*e.y),n=-1),r=0,0!==t&&(r=Math.atan2(n*e.x,n*e.y)),n=t*this.ns0/this.a,this.sphere?a=Math.asin((this.c-n*n)/(2*this.ns0)):(o=(this.c-n*n)/this.ns0,a=this.phi1z(this.e3,o)),i=j(r/this.ns0+this.long0),e.x=i,e.y=a,e},names:["Albers_Conic_Equal_Area","Albers","aea"],phi1z:function(e,t){var o,n,r,i,a=et(.5*t);if(e<1e-10)return a;for(var s=e*e,l=1;l<=25;l++)if(a+=i=.5*(r=1-(n=e*(o=Math.sin(a)))*n)*r/Math.cos(a)*(t/(1-s)-o/r+.5/e*Math.log((1-n)/(1+n))),Math.abs(i)<=1e-7)return a;return null}},ot={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},forward:function(e){var t,o,n,r,i,a,s,l=e.x,c=e.y;return n=j(l-this.long0),t=Math.sin(c),o=Math.cos(c),r=Math.cos(n),(i=this.sin_p14*t+this.cos_p14*o*r)>0||Math.abs(i)<=1e-10?(a=this.x0+1*this.a*o*Math.sin(n)/i,s=this.y0+1*this.a*(this.cos_p14*t-this.sin_p14*o*r)/i):(a=this.x0+this.infinity_dist*o*Math.sin(n),s=this.y0+this.infinity_dist*(this.cos_p14*t-this.sin_p14*o*r)),e.x=a,e.y=s,e},inverse:function(e){var t,o,n,r,i,a;return e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,(t=Math.sqrt(e.x*e.x+e.y*e.y))?(r=Math.atan2(t,this.rc),o=Math.sin(r),n=Math.cos(r),a=et(n*this.sin_p14+e.y*o*this.cos_p14/t),i=Math.atan2(e.x*o,t*this.cos_p14*n-e.y*this.sin_p14*o),i=j(this.long0+i)):(a=this.phic0,i=0),e.x=i,e.y=a,e},names:["gnom"]},nt={init:function(){this.sphere||(this.k0=S(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},forward:function(e){var t,o,n=e.x,r=e.y,i=j(n-this.long0);if(this.sphere)t=this.x0+this.a*i*Math.cos(this.lat_ts),o=this.y0+this.a*Math.sin(r)/Math.cos(this.lat_ts);else{var a=Qe(this.e,Math.sin(r));t=this.x0+this.a*this.k0*i,o=this.y0+this.a*a*.5/this.k0}return e.x=t,e.y=o,e},inverse:function(e){var o,n;return e.x-=this.x0,e.y-=this.y0,this.sphere?(o=j(this.long0+e.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(e.y/this.a*Math.cos(this.lat_ts))):(n=function(e,o){var n=1-(1-e*e)/(2*e)*Math.log((1-e)/(1+e));if(Math.abs(Math.abs(o)-n)<1e-6)return o<0?-1*t:t;for(var r,i,a,s,l=Math.asin(.5*o),c=0;c<30;c++)if(i=Math.sin(l),a=Math.cos(l),s=e*i,l+=r=Math.pow(1-s*s,2)/(2*a)*(o/(1-e*e)-i/(1-s*s)+.5/e*Math.log((1-s)/(1+s))),Math.abs(r)<=1e-10)return l;return NaN}(this.e,2*e.y*this.k0/this.a),o=j(this.long0+e.x/(this.a*this.k0))),e.x=o,e.y=n,e},names:["cea"]},rt={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},forward:function(e){var t=e.x,o=e.y,n=j(t-this.long0),r=Ze(o-this.lat0);return e.x=this.x0+this.a*n*this.rc,e.y=this.y0+this.a*r,e},inverse:function(e){var t=e.x,o=e.y;return e.x=j(this.long0+(t-this.x0)/(this.a*this.rc)),e.y=Ze(this.lat0+(o-this.y0)/this.a),e},names:["Equirectangular","Equidistant_Cylindrical","eqc"]},it={init:function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=We(this.es),this.e1=qe(this.es),this.e2=Ye(this.es),this.e3=He(this.es),this.ml0=this.a*Ve(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function(e){var t,o,n,r=e.x,i=e.y,a=j(r-this.long0);if(n=a*Math.sin(i),this.sphere)Math.abs(i)<=1e-10?(t=this.a*a,o=-1*this.a*this.lat0):(t=this.a*Math.sin(n)/Math.tan(i),o=this.a*(Ze(i-this.lat0)+(1-Math.cos(n))/Math.tan(i)));else if(Math.abs(i)<=1e-10)t=this.a*a,o=-1*this.ml0;else{var s=Xe(this.a,this.e,Math.sin(i))/Math.tan(i);t=s*Math.sin(n),o=this.a*Ve(this.e0,this.e1,this.e2,this.e3,i)-this.ml0+s*(1-Math.cos(n))}return e.x=t+this.x0,e.y=o+this.y0,e},inverse:function(e){var t,o,n,r,i,a,s,l,c;if(n=e.x-this.x0,r=e.y-this.y0,this.sphere)if(Math.abs(r+this.a*this.lat0)<=1e-10)t=j(n/this.a+this.long0),o=0;else{var u;for(a=this.lat0+r/this.a,s=n*n/this.a/this.a+a*a,l=a,i=20;i;--i)if(l+=c=-1*(a*(l*(u=Math.tan(l))+1)-l-.5*(l*l+s)*u)/((l-a)/u-1),Math.abs(c)<=1e-10){o=l;break}t=j(this.long0+Math.asin(n*Math.tan(l)/this.a)/Math.sin(o))}else if(Math.abs(r+this.ml0)<=1e-10)o=0,t=j(this.long0+n/this.a);else{var d,h,p,f,g;for(a=(this.ml0+r)/this.a,s=n*n/this.a/this.a+a*a,l=a,i=20;i;--i)if(g=this.e*Math.sin(l),d=Math.sqrt(1-g*g)*Math.tan(l),h=this.a*Ve(this.e0,this.e1,this.e2,this.e3,l),p=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),l-=c=(a*(d*(f=h/this.a)+1)-f-.5*d*(f*f+s))/(this.es*Math.sin(2*l)*(f*f+s-2*a*f)/(4*d)+(a-f)*(d*p-2/Math.sin(2*l))-p),Math.abs(c)<=1e-10){o=l;break}d=Math.sqrt(1-this.es*Math.pow(Math.sin(o),2))*Math.tan(o),t=j(this.long0+Math.asin(n*d/this.a)/Math.sin(o))}return e.x=t,e.y=o,e},names:["Polyconic","poly"]},at={init:function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},forward:function(t){var o,n=t.x,r=t.y-this.lat0,i=n-this.long0,a=r/e*1e-5,s=i,l=1,c=0;for(o=1;o<=10;o++)l*=a,c+=this.A[o]*l;var u,d=c,h=s,p=1,f=0,g=0,m=0;for(o=1;o<=6;o++)u=f*d+p*h,p=p*d-f*h,f=u,g=g+this.B_re[o]*p-this.B_im[o]*f,m=m+this.B_im[o]*p+this.B_re[o]*f;return t.x=m*this.a+this.x0,t.y=g*this.a+this.y0,t},inverse:function(t){var o,n,r=t.x,i=t.y,a=r-this.x0,s=(i-this.y0)/this.a,l=a/this.a,c=1,u=0,d=0,h=0;for(o=1;o<=6;o++)n=u*s+c*l,c=c*s-u*l,u=n,d=d+this.C_re[o]*c-this.C_im[o]*u,h=h+this.C_im[o]*c+this.C_re[o]*u;for(var p=0;p<this.iterations;p++){var f,g=d,m=h,y=s,v=l;for(o=2;o<=6;o++)f=m*d+g*h,g=g*d-m*h,m=f,y+=(o-1)*(this.B_re[o]*g-this.B_im[o]*m),v+=(o-1)*(this.B_im[o]*g+this.B_re[o]*m);g=1,m=0;var _=this.B_re[1],b=this.B_im[1];for(o=2;o<=6;o++)f=m*d+g*h,g=g*d-m*h,m=f,_+=o*(this.B_re[o]*g-this.B_im[o]*m),b+=o*(this.B_im[o]*g+this.B_re[o]*m);var A=_*_+b*b;d=(y*_+v*b)/A,h=(v*_-y*b)/A}var C=d,w=h,E=1,I=0;for(o=1;o<=9;o++)E*=C,I+=this.D[o]*E;var O=this.lat0+I*e*1e5,S=this.long0+w;return t.x=S,t.y=O,t},names:["New_Zealand_Map_Grid","nzmg"]},st={init:function(){},forward:function(e){var t=e.x,o=e.y,n=j(t-this.long0),r=this.x0+this.a*n,i=this.y0+this.a*Math.log(Math.tan(Math.PI/4+o/2.5))*1.25;return e.x=r,e.y=i,e},inverse:function(e){e.x-=this.x0,e.y-=this.y0;var t=j(this.long0+e.x/this.a),o=2.5*(Math.atan(Math.exp(.8*e.y/this.a))-Math.PI/4);return e.x=t,e.y=o,e},names:["Miller_Cylindrical","mill"]},lt={init:function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=Ee(this.es)},forward:function(e){var t,o,n=e.x,r=e.y;if(n=j(n-this.long0),this.sphere){if(this.m)for(var i=this.n*Math.sin(r),a=20;a;--a){var s=(this.m*r+Math.sin(r)-i)/(this.m+Math.cos(r));if(r-=s,Math.abs(s)<1e-10)break}else r=1!==this.n?Math.asin(this.n*Math.sin(r)):r;t=this.a*this.C_x*n*(this.m+Math.cos(r)),o=this.a*this.C_y*r}else{var l=Math.sin(r),c=Math.cos(r);o=this.a*Ie(r,l,c,this.en),t=this.a*n*c/Math.sqrt(1-this.es*l*l)}return e.x=t,e.y=o,e},inverse:function(e){var o,n,r,i;return e.x-=this.x0,r=e.x/this.a,e.y-=this.y0,o=e.y/this.a,this.sphere?(o/=this.C_y,r/=this.C_x*(this.m+Math.cos(o)),this.m?o=et((this.m*o+Math.sin(o))/this.n):1!==this.n&&(o=et(Math.sin(o)/this.n)),r=j(r+this.long0),o=Ze(o)):(o=Oe(e.y/this.a,this.es,this.en),(i=Math.abs(o))<t?(i=Math.sin(o),n=this.long0+e.x*Math.sqrt(1-this.es*i*i)/(this.a*Math.cos(o)),r=j(n)):i-1e-10<t&&(r=this.long0)),e.x=r,e.y=o,e},names:["Sinusoidal","sinu"]},ct={init:function(){},forward:function(e){for(var t=e.x,o=e.y,n=j(t-this.long0),r=o,i=Math.PI*Math.sin(o);;){var a=-(r+Math.sin(r)-i)/(1+Math.cos(r));if(r+=a,Math.abs(a)<1e-10)break}r/=2,Math.PI/2-Math.abs(o)<1e-10&&(n=0);var s=.900316316158*this.a*n*Math.cos(r)+this.x0,l=1.4142135623731*this.a*Math.sin(r)+this.y0;return e.x=s,e.y=l,e},inverse:function(e){var t,o;e.x-=this.x0,e.y-=this.y0,o=e.y/(1.4142135623731*this.a),Math.abs(o)>.999999999999&&(o=.999999999999),t=Math.asin(o);var n=j(this.long0+e.x/(.900316316158*this.a*Math.cos(t)));n<-Math.PI&&(n=-Math.PI),n>Math.PI&&(n=Math.PI),o=(2*t+Math.sin(2*t))/Math.PI,Math.abs(o)>1&&(o=1);var r=Math.asin(o);return e.x=n,e.y=r,e},names:["Mollweide","moll"]},ut={init:function(){Math.abs(this.lat1+this.lat2)<1e-10||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=We(this.es),this.e1=qe(this.es),this.e2=Ye(this.es),this.e3=He(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=S(this.e,this.sinphi,this.cosphi),this.ml1=Ve(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<1e-10?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=S(this.e,this.sinphi,this.cosphi),this.ml2=Ve(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Ve(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},forward:function(e){var t,o=e.x,n=e.y;if(this.sphere)t=this.a*(this.g-n);else{var r=Ve(this.e0,this.e1,this.e2,this.e3,n);t=this.a*(this.g-r)}var i=this.ns*j(o-this.long0),a=this.x0+t*Math.sin(i),s=this.y0+this.rh-t*Math.cos(i);return e.x=a,e.y=s,e},inverse:function(e){var t,o,n,r;e.x-=this.x0,e.y=this.rh-e.y+this.y0,this.ns>=0?(o=Math.sqrt(e.x*e.x+e.y*e.y),t=1):(o=-Math.sqrt(e.x*e.x+e.y*e.y),t=-1);var i=0;if(0!==o&&(i=Math.atan2(t*e.x,t*e.y)),this.sphere)return r=j(this.long0+i/this.ns),n=Ze(this.g-o/this.a),e.x=r,e.y=n,e;var a=this.g-o/this.a;return n=Ke(a,this.e0,this.e1,this.e2,this.e3),r=j(this.long0+i/this.ns),e.x=r,e.y=n,e},names:["Equidistant_Conic","eqdc"]},dt={init:function(){this.R=this.a},forward:function(e){var o,n,r=e.x,i=e.y,a=j(r-this.long0);Math.abs(i)<=1e-10&&(o=this.x0+this.R*a,n=this.y0);var s=et(2*Math.abs(i/Math.PI));(Math.abs(a)<=1e-10||Math.abs(Math.abs(i)-t)<=1e-10)&&(o=this.x0,n=i>=0?this.y0+Math.PI*this.R*Math.tan(.5*s):this.y0+Math.PI*this.R*-Math.tan(.5*s));var l=.5*Math.abs(Math.PI/a-a/Math.PI),c=l*l,u=Math.sin(s),d=Math.cos(s),h=d/(u+d-1),p=h*h,f=h*(2/u-1),g=f*f,m=Math.PI*this.R*(l*(h-g)+Math.sqrt(c*(h-g)*(h-g)-(g+c)*(p-g)))/(g+c);a<0&&(m=-m),o=this.x0+m;var y=c+h;return m=Math.PI*this.R*(f*y-l*Math.sqrt((g+c)*(c+1)-y*y))/(g+c),n=i>=0?this.y0+m:this.y0-m,e.x=o,e.y=n,e},inverse:function(e){var t,o,n,r,i,a,s,l,c,u,d,h;return e.x-=this.x0,e.y-=this.y0,d=Math.PI*this.R,i=(n=e.x/d)*n+(r=e.y/d)*r,d=3*(r*r/(l=-2*(a=-Math.abs(r)*(1+i))+1+2*r*r+i*i)+(2*(s=a-2*r*r+n*n)*s*s/l/l/l-9*a*s/l/l)/27)/(c=(a-s*s/3/l)/l)/(u=2*Math.sqrt(-c/3)),Math.abs(d)>1&&(d=d>=0?1:-1),h=Math.acos(d)/3,o=e.y>=0?(-u*Math.cos(h+Math.PI/3)-s/3/l)*Math.PI:-(-u*Math.cos(h+Math.PI/3)-s/3/l)*Math.PI,t=Math.abs(n)<1e-10?this.long0:j(this.long0+Math.PI*(i-1+Math.sqrt(1+2*(n*n-r*r)+i*i))/2/n),e.x=t,e.y=o,e},names:["Van_der_Grinten_I","VanDerGrinten","vandg"]},ht={init:function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},forward:function(e){var o,n,r,i,a,s,l,c,u,d,h,p,f,g,m,y,v,_,b,A,C,w,E=e.x,I=e.y,O=Math.sin(e.y),S=Math.cos(e.y),x=j(E-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=1e-10?(e.x=this.x0+this.a*(t-I)*Math.sin(x),e.y=this.y0-this.a*(t-I)*Math.cos(x),e):Math.abs(this.sin_p12+1)<=1e-10?(e.x=this.x0+this.a*(t+I)*Math.sin(x),e.y=this.y0+this.a*(t+I)*Math.cos(x),e):(_=this.sin_p12*O+this.cos_p12*S*Math.cos(x),v=(y=Math.acos(_))?y/Math.sin(y):1,e.x=this.x0+this.a*v*S*Math.sin(x),e.y=this.y0+this.a*v*(this.cos_p12*O-this.sin_p12*S*Math.cos(x)),e):(o=We(this.es),n=qe(this.es),r=Ye(this.es),i=He(this.es),Math.abs(this.sin_p12-1)<=1e-10?(a=this.a*Ve(o,n,r,i,t),s=this.a*Ve(o,n,r,i,I),e.x=this.x0+(a-s)*Math.sin(x),e.y=this.y0-(a-s)*Math.cos(x),e):Math.abs(this.sin_p12+1)<=1e-10?(a=this.a*Ve(o,n,r,i,t),s=this.a*Ve(o,n,r,i,I),e.x=this.x0+(a+s)*Math.sin(x),e.y=this.y0+(a+s)*Math.cos(x),e):(l=O/S,c=Xe(this.a,this.e,this.sin_p12),u=Xe(this.a,this.e,O),d=Math.atan((1-this.es)*l+this.es*c*this.sin_p12/(u*S)),b=0===(h=Math.atan2(Math.sin(x),this.cos_p12*Math.tan(d)-this.sin_p12*Math.cos(x)))?Math.asin(this.cos_p12*Math.sin(d)-this.sin_p12*Math.cos(d)):Math.abs(Math.abs(h)-Math.PI)<=1e-10?-Math.asin(this.cos_p12*Math.sin(d)-this.sin_p12*Math.cos(d)):Math.asin(Math.sin(x)*Math.cos(d)/Math.sin(h)),p=this.e*this.sin_p12/Math.sqrt(1-this.es),y=c*b*(1-(A=b*b)*(m=(f=this.e*this.cos_p12*Math.cos(h)/Math.sqrt(1-this.es))*f)*(1-m)/6+(C=A*b)/8*(g=p*f)*(1-2*m)+(w=C*b)/120*(m*(4-7*m)-3*p*p*(1-7*m))-w*b/48*g),e.x=this.x0+y*Math.sin(h),e.y=this.y0+y*Math.cos(h),e))},inverse:function(e){var o,n,r,i,a,s,l,c,u,d,h,p,f,g,m,y,v,_,b,A,C,w,E;if(e.x-=this.x0,e.y-=this.y0,this.sphere){if((o=Math.sqrt(e.x*e.x+e.y*e.y))>2*t*this.a)return;return n=o/this.a,r=Math.sin(n),i=Math.cos(n),a=this.long0,Math.abs(o)<=1e-10?s=this.lat0:(s=et(i*this.sin_p12+e.y*r*this.cos_p12/o),l=Math.abs(this.lat0)-t,a=Math.abs(l)<=1e-10?this.lat0>=0?j(this.long0+Math.atan2(e.x,-e.y)):j(this.long0-Math.atan2(-e.x,e.y)):j(this.long0+Math.atan2(e.x*r,o*this.cos_p12*i-e.y*this.sin_p12*r))),e.x=a,e.y=s,e}return c=We(this.es),u=qe(this.es),d=Ye(this.es),h=He(this.es),Math.abs(this.sin_p12-1)<=1e-10?(p=this.a*Ve(c,u,d,h,t),o=Math.sqrt(e.x*e.x+e.y*e.y),s=Ke((p-o)/this.a,c,u,d,h),a=j(this.long0+Math.atan2(e.x,-1*e.y)),e.x=a,e.y=s,e):Math.abs(this.sin_p12+1)<=1e-10?(p=this.a*Ve(c,u,d,h,t),o=Math.sqrt(e.x*e.x+e.y*e.y),s=Ke((o-p)/this.a,c,u,d,h),a=j(this.long0+Math.atan2(e.x,e.y)),e.x=a,e.y=s,e):(o=Math.sqrt(e.x*e.x+e.y*e.y),m=Math.atan2(e.x,e.y),f=Xe(this.a,this.e,this.sin_p12),y=Math.cos(m),_=-(v=this.e*this.cos_p12*y)*v/(1-this.es),b=3*this.es*(1-_)*this.sin_p12*this.cos_p12*y/(1-this.es),w=1-_*(C=(A=o/f)-_*(1+_)*Math.pow(A,3)/6-b*(1+3*_)*Math.pow(A,4)/24)*C/2-A*C*C*C/6,g=Math.asin(this.sin_p12*Math.cos(C)+this.cos_p12*Math.sin(C)*y),a=j(this.long0+Math.asin(Math.sin(m)*Math.sin(C)/Math.cos(g))),E=Math.sin(g),s=Math.atan2((E-this.es*w*this.sin_p12)*Math.tan(g),E*(1-this.es)),e.x=a,e.y=s,e)},names:["Azimuthal_Equidistant","aeqd"]},pt={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)},forward:function(e){var t,o,n,r,i,a,s,l=e.x,c=e.y;return n=j(l-this.long0),t=Math.sin(c),o=Math.cos(c),r=Math.cos(n),((i=this.sin_p14*t+this.cos_p14*o*r)>0||Math.abs(i)<=1e-10)&&(a=1*this.a*o*Math.sin(n),s=this.y0+1*this.a*(this.cos_p14*t-this.sin_p14*o*r)),e.x=a,e.y=s,e},inverse:function(e){var o,n,r,i,a,s,l;return e.x-=this.x0,e.y-=this.y0,o=Math.sqrt(e.x*e.x+e.y*e.y),n=et(o/this.a),r=Math.sin(n),i=Math.cos(n),s=this.long0,Math.abs(o)<=1e-10?(l=this.lat0,e.x=s,e.y=l,e):(l=et(i*this.sin_p14+e.y*r*this.cos_p14/o),a=Math.abs(this.lat0)-t,Math.abs(a)<=1e-10?(s=this.lat0>=0?j(this.long0+Math.atan2(e.x,-e.y)):j(this.long0-Math.atan2(-e.x,e.y)),e.x=s,e.y=l,e):(s=j(this.long0+Math.atan2(e.x*r,o*this.cos_p14*i-e.y*this.sin_p14*r)),e.x=s,e.y=l,e))},names:["ortho"]},ft=1,gt=2,mt=3,yt=4,vt=5,_t=6,bt=1,At=2,Ct=3,wt=4;function Et(e,o,n,i){var s;return e<1e-10?(i.value=bt,s=0):(s=Math.atan2(o,n),Math.abs(s)<=r?i.value=bt:s>r&&s<=t+r?(i.value=At,s-=t):s>t+r||s<=-(t+r)?(i.value=Ct,s=s>=0?s-a:s+a):(i.value=wt,s+=t)),s}function It(e,t){var o=e+t;return o<-a?o+=i:o>+a&&(o-=i),o}var Ot,St={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=t-r/2?this.face=vt:this.lat0<=-(t-r/2)?this.face=_t:Math.abs(this.long0)<=r?this.face=ft:Math.abs(this.long0)<=t+r?this.face=this.long0>0?gt:yt:this.face=mt,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)},forward:function(e){var o,n,i,s,l,c,u={x:0,y:0},d={value:0};if(e.x-=this.long0,o=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(e.y)):e.y,n=e.x,this.face===vt)s=t-o,n>=r&&n<=t+r?(d.value=bt,i=n-t):n>t+r||n<=-(t+r)?(d.value=At,i=n>0?n-a:n+a):n>-(t+r)&&n<=-r?(d.value=Ct,i=n+t):(d.value=wt,i=n);else if(this.face===_t)s=t+o,n>=r&&n<=t+r?(d.value=bt,i=-n+t):n<r&&n>=-r?(d.value=At,i=-n):n<-r&&n>=-(t+r)?(d.value=Ct,i=-n-t):(d.value=wt,i=n>0?-n+a:-n-a);else{var h,p,f,g,m,y;this.face===gt?n=It(n,+t):this.face===mt?n=It(n,+a):this.face===yt&&(n=It(n,-t)),g=Math.sin(o),m=Math.cos(o),y=Math.sin(n),h=m*Math.cos(n),p=m*y,f=g,this.face===ft?i=Et(s=Math.acos(h),f,p,d):this.face===gt?i=Et(s=Math.acos(p),f,-h,d):this.face===mt?i=Et(s=Math.acos(-h),f,-p,d):this.face===yt?i=Et(s=Math.acos(-p),f,h,d):(s=i=0,d.value=bt)}return c=Math.atan(12/a*(i+Math.acos(Math.sin(i)*Math.cos(r))-t)),l=Math.sqrt((1-Math.cos(s))/(Math.cos(c)*Math.cos(c))/(1-Math.cos(Math.atan(1/Math.cos(i))))),d.value===At?c+=t:d.value===Ct?c+=a:d.value===wt&&(c+=1.5*a),u.x=l*Math.cos(c),u.y=l*Math.sin(c),u.x=u.x*this.a+this.x0,u.y=u.y*this.a+this.y0,e.x=u.x,e.y=u.y,e},inverse:function(e){var o,n,r,i,s,l,c,u,d,h,p,f,g={lam:0,phi:0},m={value:0};if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,n=Math.atan(Math.sqrt(e.x*e.x+e.y*e.y)),o=Math.atan2(e.y,e.x),e.x>=0&&e.x>=Math.abs(e.y)?m.value=bt:e.y>=0&&e.y>=Math.abs(e.x)?(m.value=At,o-=t):e.x<0&&-e.x>=Math.abs(e.y)?(m.value=Ct,o=o<0?o+a:o-a):(m.value=wt,o+=t),d=a/12*Math.tan(o),s=Math.sin(d)/(Math.cos(d)-1/Math.sqrt(2)),l=Math.atan(s),(c=1-(r=Math.cos(o))*r*(i=Math.tan(n))*i*(1-Math.cos(Math.atan(1/Math.cos(l)))))<-1?c=-1:c>1&&(c=1),this.face===vt)u=Math.acos(c),g.phi=t-u,m.value===bt?g.lam=l+t:m.value===At?g.lam=l<0?l+a:l-a:m.value===Ct?g.lam=l-t:g.lam=l;else if(this.face===_t)u=Math.acos(c),g.phi=u-t,m.value===bt?g.lam=-l+t:m.value===At?g.lam=-l:m.value===Ct?g.lam=-l-t:g.lam=l<0?-l-a:-l+a;else{var y,v,_;d=(y=c)*y,v=(d+=(_=d>=1?0:Math.sqrt(1-d)*Math.sin(l))*_)>=1?0:Math.sqrt(1-d),m.value===At?(d=v,v=-_,_=d):m.value===Ct?(v=-v,_=-_):m.value===wt&&(d=v,v=_,_=-d),this.face===gt?(d=y,y=-v,v=d):this.face===mt?(y=-y,v=-v):this.face===yt&&(d=y,y=v,v=-d),g.phi=Math.acos(-_)-t,g.lam=Math.atan2(v,y),this.face===gt?g.lam=It(g.lam,-t):this.face===mt?g.lam=It(g.lam,-a):this.face===yt&&(g.lam=It(g.lam,+t))}return 0!==this.es&&(h=g.phi<0?1:0,p=Math.tan(g.phi),f=this.b/Math.sqrt(p*p+this.one_minus_f_squared),g.phi=Math.atan(Math.sqrt(this.a*this.a-f*f)/(this.one_minus_f*f)),h&&(g.phi=-g.phi)),g.lam+=this.long0,e.x=g.lam,e.y=g.phi,e},names:["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"]},xt=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],jt=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],Pt=n/5,Tt=function(e,t){return e[0]+t*(e[1]+t*(e[2]+t*e[3]))},Mt={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"},forward:function(e){var t=j(e.x-this.long0),o=Math.abs(e.y),r=Math.floor(o*Pt);r<0?r=0:r>=18&&(r=17);var i={x:Tt(xt[r],o=n*(o-.08726646259971647*r))*t,y:Tt(jt[r],o)};return e.y<0&&(i.y=-i.y),i.x=i.x*this.a*.8487+this.x0,i.y=i.y*this.a*1.3523+this.y0,i},inverse:function(e){var n={x:(e.x-this.x0)/(.8487*this.a),y:Math.abs(e.y-this.y0)/(1.3523*this.a)};if(n.y>=1)n.x/=xt[18][0],n.y=e.y<0?-t:t;else{var r=Math.floor(18*n.y);for(r<0?r=0:r>=18&&(r=17);;)if(jt[r][0]>n.y)--r;else{if(!(jt[r+1][0]<=n.y))break;++r}var i=jt[r],a=5*(n.y-i[0])/(jt[r+1][0]-i[0]);a=function(e,t,o,n){for(var r=t;n;--n){var i=e(r);if(r-=i,Math.abs(i)<o)break}return r}((function(e){return(Tt(i,e)-n.y)/function(e,t){return e[1]+t*(2*e[2]+3*t*e[3])}(i,e)}),a,1e-10,100),n.x/=Tt(xt[r],a),n.y=(5*r+a)*o,e.y<0&&(n.y=-n.y)}return n.x=j(n.x+this.long0),n},names:["Robinson","robin"]},Rt={init:function(){this.name="geocent"},forward:function(e){return Z(e,this.es,this.a)},inverse:function(e){return K(e,this.es,this.a,this.b)},names:["Geocentric","geocentric","geocent","Geocent"]},Lt=0,kt=1,Gt=2,Dt=3,Nt={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}},Ft={init:function(){if(Object.keys(Nt).forEach(function(e){if(void 0===this[e])this[e]=Nt[e].def;else{if(Nt[e].num&&isNaN(this[e]))throw new Error("Invalid parameter value, must be numeric "+e+" = "+this[e]);Nt[e].num&&(this[e]=parseFloat(this[e]))}Nt[e].degrees&&(this[e]=this[e]*o)}.bind(this)),Math.abs(Math.abs(this.lat0)-t)<1e-10?this.mode=this.lat0<0?kt:Lt:Math.abs(this.lat0)<1e-10?this.mode=Gt:(this.mode=Dt,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var e=this.tilt,n=this.azi;this.cg=Math.cos(n),this.sg=Math.sin(n),this.cw=Math.cos(e),this.sw=Math.sin(e)},forward:function(e){e.x-=this.long0;var t,o,n,r,i=Math.sin(e.y),a=Math.cos(e.y),s=Math.cos(e.x);switch(this.mode){case Dt:o=this.sinph0*i+this.cosph0*a*s;break;case Gt:o=a*s;break;case kt:o=-i;break;case Lt:o=i}switch(t=(o=this.pn1/(this.p-o))*a*Math.sin(e.x),this.mode){case Dt:o*=this.cosph0*i-this.sinph0*a*s;break;case Gt:o*=i;break;case Lt:o*=-a*s;break;case kt:o*=a*s}return r=1/((n=o*this.cg+t*this.sg)*this.sw*this.h1+this.cw),t=(t*this.cg-o*this.sg)*this.cw*r,o=n*r,e.x=t*this.a,e.y=o*this.a,e},inverse:function(e){e.x/=this.a,e.y/=this.a;var t,o,n,r={x:e.x,y:e.y};n=1/(this.pn1-e.y*this.sw),t=this.pn1*e.x*n,o=this.pn1*e.y*this.cw*n,e.x=t*this.cg+o*this.sg,e.y=o*this.cg-t*this.sg;var i=je(e.x,e.y);if(Math.abs(i)<1e-10)r.x=0,r.y=e.y;else{var a,s;switch(s=1-i*i*this.pfact,s=(this.p-Math.sqrt(s))/(this.pn1/i+i/this.pn1),a=Math.sqrt(1-s*s),this.mode){case Dt:r.y=Math.asin(a*this.sinph0+e.y*s*this.cosph0/i),e.y=(a-this.sinph0*Math.sin(r.y))*i,e.x*=s*this.cosph0;break;case Gt:r.y=Math.asin(e.y*s/i),e.y=a*i,e.x*=s;break;case Lt:r.y=Math.asin(a),e.y=-e.y;break;case kt:r.y=-Math.asin(a)}r.x=Math.atan2(e.x,e.y)}return e.x=r.x+this.long0,e.y=r.y,e},names:["Tilted_Perspective","tpers"]};return ce.defaultDatum="WGS84",ce.Proj=X,ce.WGS84=new ce.Proj("WGS84"),ce.Point=Ce,ce.toPoint=ne,ce.defs=C,ce.nadgrid=function(e,t){var o=new DataView(t),n=function(e){var t=e.getInt32(8,!1);return 11!==t&&(11!==(t=e.getInt32(8,!0))&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}(o),r=function(e,t){return{nFields:e.getInt32(8,t),nSubgridFields:e.getInt32(24,t),nSubgrids:e.getInt32(40,t),shiftType:W(e,56,64).trim(),fromSemiMajorAxis:e.getFloat64(120,t),fromSemiMinorAxis:e.getFloat64(136,t),toSemiMajorAxis:e.getFloat64(152,t),toSemiMinorAxis:e.getFloat64(168,t)}}(o,n);r.nSubgrids>1&&console.log("Only single NTv2 subgrids are currently supported, subsequent sub grids are ignored");var i=function(e,t,o){for(var n=[],r=0;r<t.nSubgrids;r++){var i=Y(e,176,o),a=H(e,176,i,o),s=Math.round(1+(i.upperLongitude-i.lowerLongitude)/i.longitudeInterval),l=Math.round(1+(i.upperLatitude-i.lowerLatitude)/i.latitudeInterval);n.push({ll:[V(i.lowerLongitude),V(i.lowerLatitude)],del:[V(i.longitudeInterval),V(i.latitudeInterval)],lim:[s,l],count:i.gridNodeCount,cvs:q(a)})}return n}(o,r,n),a={header:r,subgrids:i};return B[e]=a,a},ce.transform=ie,ce.mgrs=pe,ce.version="2.7.5",(Ot=ce).Proj.projections.add(Se),Ot.Proj.projections.add(Re),Ot.Proj.projections.add(Le),Ot.Proj.projections.add(De),Ot.Proj.projections.add(Ne),Ot.Proj.projections.add(Fe),Ot.Proj.projections.add(Ue),Ot.Proj.projections.add(Be),Ot.Proj.projections.add(ze),Ot.Proj.projections.add(Je),Ot.Proj.projections.add($e),Ot.Proj.projections.add(tt),Ot.Proj.projections.add(ot),Ot.Proj.projections.add(nt),Ot.Proj.projections.add(rt),Ot.Proj.projections.add(it),Ot.Proj.projections.add(at),Ot.Proj.projections.add(st),Ot.Proj.projections.add(lt),Ot.Proj.projections.add(ct),Ot.Proj.projections.add(ut),Ot.Proj.projections.add(dt),Ot.Proj.projections.add(ht),Ot.Proj.projections.add(pt),Ot.Proj.projections.add(St),Ot.Proj.projections.add(Mt),Ot.Proj.projections.add(Rt),Ot.Proj.projections.add(Ft),ce}()},"./node_modules/proj4/dist/proj4-src.js-exposed":function(e,t,o){(function(t){e.exports=t.proj4=o("./node_modules/proj4/dist/proj4-src.js")}).call(this,o("./node_modules/webpack/buildin/global.js"))},"./node_modules/rbush/rbush.min.js":function(e,t,o){e.exports=function(){"use strict";function e(e,n,r,i,a){!function e(o,n,r,i,a){for(;i>r;){if(i-r>600){var s=i-r+1,l=n-r+1,c=Math.log(s),u=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*u*(s-u)/s)*(l-s/2<0?-1:1);e(o,n,Math.max(r,Math.floor(n-l*u/s+d)),Math.min(i,Math.floor(n+(s-l)*u/s+d)),a)}var h=o[n],p=r,f=i;for(t(o,r,n),a(o[i],h)>0&&t(o,r,i);p<f;){for(t(o,p,f),p++,f--;a(o[p],h)<0;)p++;for(;a(o[f],h)>0;)f--}0===a(o[r],h)?t(o,r,f):t(o,++f,i),f<=n&&(r=f+1),n<=f&&(i=f-1)}}(e,n,r||0,i||e.length-1,a||o)}function t(e,t,o){var n=e[t];e[t]=e[o],e[o]=n}function o(e,t){return e<t?-1:e>t?1:0}var n=function(e){void 0===e&&(e=9),this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function r(e,t,o){if(!o)return t.indexOf(e);for(var n=0;n<t.length;n++)if(o(e,t[n]))return n;return-1}function i(e,t){a(e,0,e.children.length,t,e)}function a(e,t,o,n,r){r||(r=f(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var i=t;i<o;i++){var a=e.children[i];s(r,e.leaf?n(a):a)}return r}function s(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function l(e,t){return e.minX-t.minX}function c(e,t){return e.minY-t.minY}function u(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function d(e){return e.maxX-e.minX+(e.maxY-e.minY)}function h(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function p(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function f(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function g(t,o,n,r,i){for(var a=[o,n];a.length;)if(!((n=a.pop())-(o=a.pop())<=r)){var s=o+Math.ceil((n-o)/r/2)*r;e(t,s,o,n,i),a.push(o,s,s,n)}}return n.prototype.all=function(){return this._all(this.data,[])},n.prototype.search=function(e){var t=this.data,o=[];if(!p(e,t))return o;for(var n=this.toBBox,r=[];t;){for(var i=0;i<t.children.length;i++){var a=t.children[i],s=t.leaf?n(a):a;p(e,s)&&(t.leaf?o.push(a):h(e,s)?this._all(a,o):r.push(a))}t=r.pop()}return o},n.prototype.collides=function(e){var t=this.data;if(!p(e,t))return!1;for(var o=[];t;){for(var n=0;n<t.children.length;n++){var r=t.children[n],i=t.leaf?this.toBBox(r):r;if(p(e,i)){if(t.leaf||h(e,i))return!0;o.push(r)}}t=o.pop()}return!1},n.prototype.load=function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0;t<e.length;t++)this.insert(e[t]);return this}var o=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===o.height)this._splitRoot(this.data,o);else{if(this.data.height<o.height){var n=this.data;this.data=o,o=n}this._insert(o,this.data.height-o.height-1,!0)}else this.data=o;return this},n.prototype.insert=function(e){return e&&this._insert(e,this.data.height-1),this},n.prototype.clear=function(){return this.data=f([]),this},n.prototype.remove=function(e,t){if(!e)return this;for(var o,n,i,a=this.data,s=this.toBBox(e),l=[],c=[];a||l.length;){if(a||(a=l.pop(),n=l[l.length-1],o=c.pop(),i=!0),a.leaf){var u=r(e,a.children,t);if(-1!==u)return a.children.splice(u,1),l.push(a),this._condense(l),this}i||a.leaf||!h(a,s)?n?(o++,a=n.children[o],i=!1):a=null:(l.push(a),c.push(o),o=0,n=a,a=a.children[0])}return this},n.prototype.toBBox=function(e){return e},n.prototype.compareMinX=function(e,t){return e.minX-t.minX},n.prototype.compareMinY=function(e,t){return e.minY-t.minY},n.prototype.toJSON=function(){return this.data},n.prototype.fromJSON=function(e){return this.data=e,this},n.prototype._all=function(e,t){for(var o=[];e;)e.leaf?t.push.apply(t,e.children):o.push.apply(o,e.children),e=o.pop();return t},n.prototype._build=function(e,t,o,n){var r,a=o-t+1,s=this._maxEntries;if(a<=s)return i(r=f(e.slice(t,o+1)),this.toBBox),r;n||(n=Math.ceil(Math.log(a)/Math.log(s)),s=Math.ceil(a/Math.pow(s,n-1))),(r=f([])).leaf=!1,r.height=n;var l=Math.ceil(a/s),c=l*Math.ceil(Math.sqrt(s));g(e,t,o,c,this.compareMinX);for(var u=t;u<=o;u+=c){var d=Math.min(u+c-1,o);g(e,u,d,l,this.compareMinY);for(var h=u;h<=d;h+=l){var p=Math.min(h+l-1,d);r.children.push(this._build(e,h,p,n-1))}}return i(r,this.toBBox),r},n.prototype._chooseSubtree=function(e,t,o,n){for(;n.push(t),!t.leaf&&n.length-1!==o;){for(var r=1/0,i=1/0,a=void 0,s=0;s<t.children.length;s++){var l=t.children[s],c=u(l),d=(h=e,p=l,(Math.max(p.maxX,h.maxX)-Math.min(p.minX,h.minX))*(Math.max(p.maxY,h.maxY)-Math.min(p.minY,h.minY))-c);d<i?(i=d,r=c<r?c:r,a=l):d===i&&c<r&&(r=c,a=l)}t=a||t.children[0]}var h,p;return t},n.prototype._insert=function(e,t,o){var n=o?e:this.toBBox(e),r=[],i=this._chooseSubtree(n,this.data,t,r);for(i.children.push(e),s(i,n);t>=0&&r[t].children.length>this._maxEntries;)this._split(r,t),t--;this._adjustParentBBoxes(n,r,t)},n.prototype._split=function(e,t){var o=e[t],n=o.children.length,r=this._minEntries;this._chooseSplitAxis(o,r,n);var a=this._chooseSplitIndex(o,r,n),s=f(o.children.splice(a,o.children.length-a));s.height=o.height,s.leaf=o.leaf,i(o,this.toBBox),i(s,this.toBBox),t?e[t-1].children.push(s):this._splitRoot(o,s)},n.prototype._splitRoot=function(e,t){this.data=f([e,t]),this.data.height=e.height+1,this.data.leaf=!1,i(this.data,this.toBBox)},n.prototype._chooseSplitIndex=function(e,t,o){for(var n,r,i,s,l,c,d,h=1/0,p=1/0,f=t;f<=o-t;f++){var g=a(e,0,f,this.toBBox),m=a(e,f,o,this.toBBox),y=(r=g,i=m,s=Math.max(r.minX,i.minX),l=Math.max(r.minY,i.minY),c=Math.min(r.maxX,i.maxX),d=Math.min(r.maxY,i.maxY),Math.max(0,c-s)*Math.max(0,d-l)),v=u(g)+u(m);y<h?(h=y,n=f,p=v<p?v:p):y===h&&v<p&&(p=v,n=f)}return n||o-t},n.prototype._chooseSplitAxis=function(e,t,o){var n=e.leaf?this.compareMinX:l,r=e.leaf?this.compareMinY:c;this._allDistMargin(e,t,o,n)<this._allDistMargin(e,t,o,r)&&e.children.sort(n)},n.prototype._allDistMargin=function(e,t,o,n){e.children.sort(n);for(var r=this.toBBox,i=a(e,0,t,r),l=a(e,o-t,o,r),c=d(i)+d(l),u=t;u<o-t;u++){var h=e.children[u];s(i,e.leaf?r(h):h),c+=d(i)}for(var p=o-t-1;p>=t;p--){var f=e.children[p];s(l,e.leaf?r(f):f),c+=d(l)}return c},n.prototype._adjustParentBBoxes=function(e,t,o){for(var n=o;n>=0;n--)s(t[n],e)},n.prototype._condense=function(e){for(var t=e.length-1,o=void 0;t>=0;t--)0===e[t].children.length?t>0?(o=e[t-1].children).splice(o.indexOf(e[t]),1):this.clear():i(e[t],this.toBBox)},n}()},"./node_modules/threads/dist-esm/common.js":function(e,t,o){"use strict";o.d(t,"a",(function(){return i})),o.d(t,"b",(function(){return a}));const n={deserialize:e=>Object.assign(Error(e.message),{name:e.name,stack:e.stack}),serialize:e=>({__error_marker:"$$error",message:e.message,name:e.name,stack:e.stack})};let r={deserialize(e){return(t=e)&&"object"==typeof t&&"__error_marker"in t&&"$$error"===t.__error_marker?n.deserialize(e):e;var t},serialize:e=>e instanceof Error?n.serialize(e):e};function i(e){return r.deserialize(e)}function a(e){return r.serialize(e)}},"./node_modules/threads/dist-esm/master/invocation-proxy.js":function(e,t,o){"use strict";o.d(t,"a",(function(){return v})),o.d(t,"b",(function(){return _}));var n=o("./node_modules/debug/src/browser.js"),r=o.n(n),i=o("./node_modules/observable-fns/dist.esm/observable.js"),a=o("./node_modules/observable-fns/dist.esm/multicast.js"),s=o("./node_modules/threads/dist-esm/common.js");const l=()=>{},c=e=>e,u=e=>Promise.resolve().then(e);function d(e){throw e}class h extends i.a{constructor(e){super(t=>{const o=this,n=Object.assign(Object.assign({},t),{complete(){t.complete(),o.onCompletion()},error(e){t.error(e),o.onError(e)},next(e){t.next(e),o.onNext(e)}});try{return this.initHasRun=!0,e(n)}catch(e){n.error(e)}}),this.initHasRun=!1,this.fulfillmentCallbacks=[],this.rejectionCallbacks=[],this.firstValueSet=!1,this.state="pending"}onNext(e){this.firstValueSet||(this.firstValue=e,this.firstValueSet=!0)}onError(e){this.state="rejected",this.rejection=e;for(const t of this.rejectionCallbacks)u(()=>t(e))}onCompletion(){this.state="fulfilled";for(const e of this.fulfillmentCallbacks)u(()=>e(this.firstValue))}then(e,t){const o=e||c,n=t||d;let r=!1;return new Promise((e,t)=>{const i=o=>{if(!r){r=!0;try{e(n(o))}catch(e){t(e)}}};return this.initHasRun||this.subscribe({error:i}),"fulfilled"===this.state?e(o(this.firstValue)):"rejected"===this.state?(r=!0,e(n(this.rejection))):(this.fulfillmentCallbacks.push(t=>{try{e(o(t))}catch(e){i(e)}}),void this.rejectionCallbacks.push(i))})}catch(e){return this.then(void 0,e)}finally(e){const t=e||l;return this.then(e=>(t(),e),()=>t())}static from(e){return function(e){return e&&"function"==typeof e.then}(e)?new h(t=>{e.then(e=>{t.next(e),t.complete()},e=>{t.error(e)})}):super.from(e)}}var p=o("./node_modules/threads/dist-esm/transferable.js"),f=o("./node_modules/threads/dist-esm/types/messages.js");const g=r()("threads:master:messages");let m=1;function y(e,t){return new i.a(o=>{let n;const r=i=>{var a;if(g("Message from worker:",i.data),i.data&&i.data.uid===t)if((a=i.data)&&a.type===f.b.running)n=i.data.resultType;else if((e=>e&&e.type===f.b.result)(i.data))"promise"===n?(void 0!==i.data.payload&&o.next(Object(s.a)(i.data.payload)),o.complete(),e.removeEventListener("message",r)):(i.data.payload&&o.next(Object(s.a)(i.data.payload)),i.data.complete&&(o.complete(),e.removeEventListener("message",r)));else if((e=>e&&e.type===f.b.error)(i.data)){const t=Object(s.a)(i.data.error);o.error(t),e.removeEventListener("message",r)}};return e.addEventListener("message",r),()=>{if("observable"===n||!n){const o={type:f.a.cancel,uid:t};e.postMessage(o)}e.removeEventListener("message",r)}})}function v(e,t){return(...o)=>{const n=m++,{args:r,transferables:i}=function(e){if(0===e.length)return{args:[],transferables:[]};const t=[],o=[];for(const n of e)Object(p.b)(n)?(t.push(Object(s.b)(n.send)),o.push(...n.transferables)):t.push(Object(s.b)(n));return{args:t,transferables:0===o.length?o:(n=o,Array.from(new Set(n)))};var n}(o),l={type:f.a.run,uid:n,method:t,args:r};g("Sending command to run function to worker:",l);try{e.postMessage(l,i)}catch(e){return h.from(Promise.reject(e))}return h.from(Object(a.a)(y(e,n)))}}function _(e,t){const o={};for(const n of t)o[n]=v(e,n);return o}},"./node_modules/threads/dist-esm/master/spawn.js":function(e,t,o){"use strict";(function(e){o.d(t,"a",(function(){return y}));var n=o("./node_modules/debug/src/browser.js"),r=o.n(n),i=o("./node_modules/observable-fns/dist.esm/observable.js"),a=o("./node_modules/threads/dist-esm/common.js"),s=o("./node_modules/threads/dist-esm/promise.js"),l=o("./node_modules/threads/dist-esm/symbols.js"),c=o("./node_modules/threads/dist-esm/types/master.js"),u=o("./node_modules/threads/dist-esm/master/invocation-proxy.js"),d=function(e,t,o,n){return new(o||(o=Promise))((function(r,i){function a(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,s)}l((n=n.apply(e,t||[])).next())}))};const h=r()("threads:master:messages"),p=r()("threads:master:spawn"),f=r()("threads:master:thread-utils"),g=void 0!==e&&e.env.THREADS_WORKER_INIT_TIMEOUT?Number.parseInt(e.env.THREADS_WORKER_INIT_TIMEOUT,10):1e4;function m(e,t,o,n){const r=o.filter(e=>e.type===c.a.internalError).map(e=>e.error);return Object.assign(e,{[l.a]:r,[l.b]:o,[l.c]:n,[l.e]:t})}function y(e,t){return d(this,void 0,void 0,(function*(){p("Initializing new thread");const o=t&&t.timeout?t.timeout:g,n=(yield function(e,t,o){return d(this,void 0,void 0,(function*(){let n;const r=new Promise((e,r)=>{n=setTimeout(()=>r(Error(o)),t)}),i=yield Promise.race([e,r]);return clearTimeout(n),i}))}(function(e){return new Promise((t,o)=>{const n=r=>{var i;h("Message from worker before finishing initialization:",r.data),(i=r.data)&&"init"===i.type?(e.removeEventListener("message",n),t(r.data)):(e=>e&&"uncaughtError"===e.type)(r.data)&&(e.removeEventListener("message",n),o(Object(a.a)(r.data.error)))};e.addEventListener("message",n)})}(e),o,`Timeout: Did not receive an init message from worker after ${o}ms. Make sure the worker calls expose().`)).exposed,{termination:r,terminate:l}=function(e){const[t,o]=Object(s.a)();return{terminate:()=>d(this,void 0,void 0,(function*(){f("Terminating worker"),yield e.terminate(),o()})),termination:t}}(e),y=function(e,t){return new i.a(o=>{const n=e=>{const t={type:c.a.message,data:e.data};o.next(t)},r=e=>{f("Unhandled promise rejection event in thread:",e);const t={type:c.a.internalError,error:Error(e.reason)};o.next(t)};e.addEventListener("message",n),e.addEventListener("unhandledrejection",r),t.then(()=>{const t={type:c.a.termination};e.removeEventListener("message",n),e.removeEventListener("unhandledrejection",r),o.next(t),o.complete()})})}(e,r);if("function"===n.type){return m(Object(u.a)(e),e,y,l)}if("module"===n.type){return m(Object(u.b)(e,n.methods),e,y,l)}{const e=n.type;throw Error("Worker init message states unexpected type of expose(): "+e)}}))}}).call(this,o("./node_modules/process/browser.js"))},"./node_modules/threads/dist-esm/promise.js":function(e,t,o){"use strict";o.d(t,"a",(function(){return r}));const n=()=>{};function r(){let e,t=!1,o=n;return[new Promise(n=>{t?n(e):o=n}),n=>{t=!0,e=n,o(e)}]}},"./node_modules/threads/dist-esm/symbols.js":function(e,t,o){"use strict";o.d(t,"a",(function(){return n})),o.d(t,"b",(function(){return r})),o.d(t,"c",(function(){return i})),o.d(t,"d",(function(){return a})),o.d(t,"e",(function(){return s}));const n=Symbol("thread.errors"),r=Symbol("thread.events"),i=Symbol("thread.terminate"),a=Symbol("thread.transferable"),s=Symbol("thread.worker")},"./node_modules/threads/dist-esm/transferable.js":function(e,t,o){"use strict";o.d(t,"b",(function(){return r})),o.d(t,"a",(function(){return i}));var n=o("./node_modules/threads/dist-esm/symbols.js");function r(e){return e&&"object"==typeof e&&e[n.d]}function i(e,t){if(!t){if(!(o=e)||"object"!=typeof o)throw Error();t=[e]}var o;return{[n.d]:!0,send:e,transferables:t}}},"./node_modules/threads/dist-esm/types/master.js":function(e,t,o){"use strict";var n;o.d(t,"a",(function(){return n})),function(e){e.internalError="internalError",e.message="message",e.termination="termination"}(n||(n={}))},"./node_modules/threads/dist-esm/types/messages.js":function(e,t,o){"use strict";var n,r;o.d(t,"a",(function(){return n})),o.d(t,"b",(function(){return r})),function(e){e.cancel="cancel",e.run="run"}(n||(n={})),function(e){e.error="error",e.init="init",e.result="result",e.running="running",e.uncaughtError="uncaughtError"}(r||(r={}))},"./node_modules/webfont-matcher/lib/fonts/google.js":function(e,t){(function(){var t;e.exports={icon:"icons/google.svg",name:"google",title:"Google Fonts",link:"google.com/fonts",getNames:function(){return t},getLink:function(e){return"https://fonts.google.com/specimen/"+e.replace(/( )/g,"+")},normalizeName:function(e){return e}},t=["ABeeZee","Abel","Abril Fatface","Aclonica","Acme","Actor","Adamina","Advent Pro","Aguafina Script","Akronim","Aladin","Aldrich","Alef","Alegreya","Alegreya SC","Alegreya Sans","Alegreya Sans SC","Alex Brush","Alfa Slab One","Alice","Alike","Alike Angular","Allan","Allerta","Allerta Stencil","Allura","Almendra","Almendra Display","Almendra SC","Amarante","Amaranth","Amatic SC","Amethysta","Amiri","Amita","Anaheim","Andada","Andika","Angkor","Annie Use Your Telescope","Anonymous Pro","Antic","Antic Didone","Antic Slab","Anton","Arapey","Arbutus","Arbutus Slab","Architects Daughter","Archivo Black","Archivo Narrow","Arimo","Arizonia","Armata","Artifika","Arvo","Arya","Asap","Asar","Asset","Astloch","Asul","Atomic Age","Aubrey","Audiowide","Autour One","Average","Average Sans","Averia Gruesa Libre","Averia Libre","Averia Sans Libre","Averia Serif Libre","Bad Script","Balthazar","Bangers","Basic","Battambang","Baumans","Bayon","Belgrano","Belleza","BenchNine","Bentham","Berkshire Swash","Bevan","Bigelow Rules","Bigshot One","Bilbo","Bilbo Swash Caps","Biryani","Bitter","Black Ops One","Bokor","Bonbon","Boogaloo","Bowlby One","Bowlby One SC","Brawler","Bree Serif","Bubblegum Sans","Bubbler One","Buda","Buenard","Butcherman","Butterfly Kids","Cabin","Cabin Condensed","Cabin Sketch","Caesar Dressing","Cagliostro","Calligraffitti","Cambay","Cambo","Candal","Cantarell","Cantata One","Cantora One","Capriola","Cardo","Carme","Carrois Gothic","Carrois Gothic SC","Carter One","Catamaran","Caudex","Caveat","Caveat Brush","Cedarville Cursive","Ceviche One","Changa One","Chango","Chau Philomene One","Chela One","Chelsea Market","Chenla","Cherry Cream Soda","Cherry Swash","Chewy","Chicle","Chivo","Chonburi","Cinzel","Cinzel Decorative","Clicker Script","Coda","Coda Caption","Codystar","Combo","Comfortaa","Coming Soon","Concert One","Condiment","Content","Contrail One","Convergence","Cookie","Copse","Corben","Courgette","Cousine","Coustard","Covered By Your Grace","Crafty Girls","Creepster","Crete Round","Crimson Text","Croissant One","Crushed","Cuprum","Cutive","Cutive Mono","Damion","Dancing Script","Dangrek","Dawning of a New Day","Days One","Dekko","Delius","Delius Swash Caps","Delius Unicase","Della Respira","Denk One","Devonshire","Dhurjati","Didact Gothic","Diplomata","Diplomata SC","Domine","Donegal One","Doppio One","Dorsa","Dosis","Dr Sugiyama","Droid Sans","Droid Sans Mono","Droid Serif","Duru Sans","Dynalight","EB Garamond","Eagle Lake","Eater","Economica","Eczar","Ek Mukta","Electrolize","Elsie","Elsie Swash Caps","Emblema One","Emilys Candy","Engagement","Englebert","Enriqueta","Erica One","Esteban","Euphoria Script","Ewert","Exo","Exo 2","Expletus Sans","Fanwood Text","Fascinate","Fascinate Inline","Faster One","Fasthand","Fauna One","Federant","Federo","Felipa","Fenix","Finger Paint","Fira Mono","Fira Sans","Fjalla One","Fjord One","Flamenco","Flavors","Fondamento","Fontdiner Swanky","Forum","Francois One","Freckle Face","Fredericka the Great","Fredoka One","Freehand","Fresca","Frijole","Fruktur","Fugaz One","GFS Didot","GFS Neohellenic","Gabriela","Gafata","Galdeano","Galindo","Gentium Basic","Gentium Book Basic","Geo","Geostar","Geostar Fill","Germania One","Gidugu","Gilda Display","Give You Glory","Glass Antiqua","Glegoo","Gloria Hallelujah","Goblin One","Gochi Hand","Gorditas","Goudy Bookletter 1911","Graduate","Grand Hotel","Gravitas One","Great Vibes","Griffy","Gruppo","Gudea","Gurajada","Habibi","Halant","Hammersmith One","Hanalei","Hanalei Fill","Handlee","Hanuman","Happy Monkey","Headland One","Henny Penny","Herr Von Muellerhoff","Hind","Hind Siliguri","Hind Vadodara","Holtwood One SC","Homemade Apple","Homenaje","IM Fell DW Pica","IM Fell DW Pica SC","IM Fell Double Pica","IM Fell Double Pica SC","IM Fell English","IM Fell English SC","IM Fell French Canon","IM Fell French Canon SC","IM Fell Great Primer","IM Fell Great Primer SC","Iceberg","Iceland","Imprima","Inconsolata","Inder","Indie Flower","Inika","Inknut Antiqua","Irish Grover","Istok Web","Italiana","Italianno","Itim","Jacques Francois","Jacques Francois Shadow","Jaldi","Jim Nightshade","Jockey One","Jolly Lodger","Josefin Sans","Josefin Slab","Joti One","Judson","Julee","Julius Sans One","Junge","Jura","Just Another Hand","Just Me Again Down Here","Kadwa","Kalam","Kameron","Kantumruy","Karla","Karma","Kaushan Script","Kavoon","Kdam Thmor","Keania One","Kelly Slab","Kenia","Khand","Khmer","Khula","Kite One","Knewave","Kotta One","Koulen","Kranky","Kreon","Kristi","Krona One","Kurale","La Belle Aurore","Laila","Lakki Reddy","Lancelot","Lateef","Lato","League Script","Leckerli One","Ledger","Lekton","Lemon","Libre Baskerville","Life Savers","Lilita One","Lily Script One","Limelight","Linden Hill","Lobster","Lobster Two","Londrina Outline","Londrina Shadow","Londrina Sketch","Londrina Solid","Lora","Love Ya Like A Sister","Loved by the King","Lovers Quarrel","Luckiest Guy","Lusitana","Lustria","Macondo","Macondo Swash Caps","Magra","Maiden Orange","Mako","Mallanna","Mandali","Marcellus","Marcellus SC","Marck Script","Margarine","Marko One","Marmelad","Martel","Martel Sans","Marvel","Mate","Mate SC","Maven Pro","McLaren","Meddon","MedievalSharp","Medula One","Megrim","Meie Script","Merienda","Merienda One","Merriweather","Merriweather Sans","Metal","Metal Mania","Metamorphous","Metrophobic","Michroma","Milonga","Miltonian","Miltonian Tattoo","Miniver","Miss Fajardose","Modak","Modern Antiqua","Molengo","Molle","Monda","Monofett","Monoton","Monsieur La Doulaise","Montaga","Montez","Montserrat","Montserrat Alternates","Montserrat Subrayada","Moul","Moulpali","Mountains of Christmas","Mouse Memoirs","Mr Bedfort","Mr Dafoe","Mr De Haviland","Mrs Saint Delafield","Mrs Sheppards","Muli","Mystery Quest","NTR","Neucha","Neuton","New Rocker","News Cycle","Niconne","Nixie One","Nobile","Nokora","Norican","Nosifer","Nothing You Could Do","Noticia Text","Noto Sans","Noto Serif","Nova Cut","Nova Flat","Nova Mono","Nova Oval","Nova Round","Nova Script","Nova Slim","Nova Square","Numans","Nunito","Odor Mean Chey","Offside","Old Standard TT","Oldenburg","Oleo Script","Oleo Script Swash Caps","Open Sans","Open Sans Condensed","Oranienbaum","Orbitron","Oregano","Orienta","Original Surfer","Oswald","Over the Rainbow","Overlock","Overlock SC","Ovo","Oxygen","Oxygen Mono","PT Mono","PT Sans","PT Sans Caption","PT Sans Narrow","PT Serif","PT Serif Caption","Pacifico","Palanquin","Palanquin Dark","Paprika","Parisienne","Passero One","Passion One","Pathway Gothic One","Patrick Hand","Patrick Hand SC","Patua One","Paytone One","Peddana","Peralta","Permanent Marker","Petit Formal Script","Petrona","Philosopher","Piedra","Pinyon Script","Pirata One","Plaster","Play","Playball","Playfair Display","Playfair Display SC","Podkova","Poiret One","Poller One","Poly","Pompiere","Pontano Sans","Poppins","Port Lligat Sans","Port Lligat Slab","Pragati Narrow","Prata","Preahvihear","Press Start 2P","Princess Sofia","Prociono","Prosto One","Puritan","Purple Purse","Quando","Quantico","Quattrocento","Quattrocento Sans","Questrial","Quicksand","Quintessential","Qwigley","Racing Sans One","Radley","Rajdhani","Raleway","Raleway Dots","Ramabhadra","Ramaraja","Rambla","Rammetto One","Ranchers","Rancho","Ranga","Rationale","Ravi Prakash","Redressed","Reenie Beanie","Revalia","Rhodium Libre","Ribeye","Ribeye Marrow","Righteous","Risque","Roboto","Roboto Condensed","Roboto Mono","Roboto Slab","Rochester","Rock Salt","Rokkitt","Romanesco","Ropa Sans","Rosario","Rosarivo","Rouge Script","Rozha One","Rubik","Rubik Mono One","Rubik One","Ruda","Rufina","Ruge Boogie","Ruluko","Rum Raisin","Ruslan Display","Russo One","Ruthie","Rye","Sacramento","Sahitya","Sail","Salsa","Sanchez","Sancreek","Sansita One","Sarala","Sarina","Sarpanch","Satisfy","Scada","Scheherazade","Schoolbell","Seaweed Script","Sevillana","Seymour One","Shadows Into Light","Shadows Into Light Two","Shanti","Share","Share Tech","Share Tech Mono","Shojumaru","Short Stack","Siemreap","Sigmar One","Signika","Signika Negative","Simonetta","Sintony","Sirin Stencil","Six Caps","Skranji","Slabo 13px","Slabo 27px","Slackey","Smokum","Smythe","Sniglet","Snippet","Snowburst One","Sofadi One","Sofia","Sonsie One","Sorts Mill Goudy","Source Code Pro","Source Sans Pro","Source Serif Pro","Special Elite","Spicy Rice","Spinnaker","Spirax","Squada One","Sree Krushnadevaraya","Stalemate","Stalinist One","Stardos Stencil","Stint Ultra Condensed","Stint Ultra Expanded","Stoke","Strait","Sue Ellen Francisco","Sumana","Sunshiney","Supermercado One","Sura","Suranna","Suravaram","Suwannaphum","Swanky and Moo Moo","Syncopate","Tangerine","Taprom","Tauri","Teko","Telex","Tenali Ramakrishna","Tenor Sans","Text Me One","The Girl Next Door","Tienne","Tillana","Timmana","Tinos","Titan One","Titillium Web","Trade Winds","Trocchi","Trochut","Trykker","Tulpen One","Ubuntu","Ubuntu Condensed","Ubuntu Mono","Ultra","Uncial Antiqua","Underdog","Unica One","UnifrakturCook","UnifrakturMaguntia","Unkempt","Unlock","Unna","VT323","Vampiro One","Varela","Varela Round","Vast Shadow","Vesper Libre","Vibur","Vidaloka","Viga","Voces","Volkhov","Vollkorn","Voltaire","Waiting for the Sunrise","Wallpoet","Walter Turncoat","Warnes","Wellfleet","Wendy One","Wire One","Work Sans","Yanone Kaffeesatz","Yantramanav","Yellowtail","Yeseva One","Yesteryear","Zeyada"]}).call(this)},"./node_modules/webpack/buildin/global.js":function(e,t){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch(e){"object"==typeof window&&(o=window)}e.exports=o},"./node_modules/whatwg-fetch/fetch.js":function(e,t,o){"use strict";o.r(t),o.d(t,"Headers",(function(){return p})),o.d(t,"Request",(function(){return b})),o.d(t,"Response",(function(){return C})),o.d(t,"DOMException",(function(){return E})),o.d(t,"fetch",(function(){return I}));var n="URLSearchParams"in self,r="Symbol"in self&&"iterator"in Symbol,i="FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),a="FormData"in self,s="ArrayBuffer"in self;if(s)var l=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(e){return e&&l.indexOf(Object.prototype.toString.call(e))>-1};function u(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function d(e){return"string"!=typeof e&&(e=String(e)),e}function h(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function p(e){this.map={},e instanceof p?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function f(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function g(e){return new Promise((function(t,o){e.onload=function(){t(e.result)},e.onerror=function(){o(e.error)}}))}function m(e){var t=new FileReader,o=g(t);return t.readAsArrayBuffer(e),o}function y(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:a&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():s&&i&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=y(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(e)||c(e))?this._bodyArrayBuffer=y(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var e,t,o,n=f(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,o=g(t),t.readAsText(e),o;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),o=new Array(t.length),n=0;n<t.length;n++)o[n]=String.fromCharCode(t[n]);return o.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a&&(this.formData=function(){return this.text().then(A)}),this.json=function(){return this.text().then(JSON.parse)},this}p.prototype.append=function(e,t){e=u(e),t=d(t);var o=this.map[e];this.map[e]=o?o+", "+t:t},p.prototype.delete=function(e){delete this.map[u(e)]},p.prototype.get=function(e){return e=u(e),this.has(e)?this.map[e]:null},p.prototype.has=function(e){return this.map.hasOwnProperty(u(e))},p.prototype.set=function(e,t){this.map[u(e)]=d(t)},p.prototype.forEach=function(e,t){for(var o in this.map)this.map.hasOwnProperty(o)&&e.call(t,this.map[o],o,this)},p.prototype.keys=function(){var e=[];return this.forEach((function(t,o){e.push(o)})),h(e)},p.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),h(e)},p.prototype.entries=function(){var e=[];return this.forEach((function(t,o){e.push([o,t])})),h(e)},r&&(p.prototype[Symbol.iterator]=p.prototype.entries);var _=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(e,t){var o,n,r=(t=t||{}).body;if(e instanceof b){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new p(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new p(t.headers)),this.method=(o=t.method||this.method||"GET",n=o.toUpperCase(),_.indexOf(n)>-1?n:o),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function A(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var o=e.split("="),n=o.shift().replace(/\+/g," "),r=o.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(r))}})),t}function C(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new p(t.headers),this.url=t.url||"",this._initBody(e)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},v.call(b.prototype),v.call(C.prototype),C.prototype.clone=function(){return new C(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},C.error=function(){var e=new C(null,{status:0,statusText:""});return e.type="error",e};var w=[301,302,303,307,308];C.redirect=function(e,t){if(-1===w.indexOf(t))throw new RangeError("Invalid status code");return new C(null,{status:t,headers:{location:e}})};var E=self.DOMException;try{new E}catch(e){(E=function(e,t){this.message=e,this.name=t;var o=Error(e);this.stack=o.stack}).prototype=Object.create(Error.prototype),E.prototype.constructor=E}function I(e,t){return new Promise((function(o,n){var r=new b(e,t);if(r.signal&&r.signal.aborted)return n(new E("Aborted","AbortError"));var a=new XMLHttpRequest;function s(){a.abort()}a.onload=function(){var e,t,n={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new p,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var o=e.split(":"),n=o.shift().trim();if(n){var r=o.join(":").trim();t.append(n,r)}})),t)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var r="response"in a?a.response:a.responseText;o(new C(r,n))},a.onerror=function(){n(new TypeError("Network request failed"))},a.ontimeout=function(){n(new TypeError("Network request failed"))},a.onabort=function(){n(new E("Aborted","AbortError"))},a.open(r.method,r.url,!0),"include"===r.credentials?a.withCredentials=!0:"omit"===r.credentials&&(a.withCredentials=!1),"responseType"in a&&i&&(a.responseType="blob"),r.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),r.signal&&(r.signal.addEventListener("abort",s),a.onreadystatechange=function(){4===a.readyState&&r.signal.removeEventListener("abort",s)}),a.send(void 0===r._bodyInit?null:r._bodyInit)}))}I.polyfill=!0,self.fetch||(self.fetch=I,self.Headers=p,self.Request=b,self.Response=C)},"./package.json":function(e){e.exports=JSON.parse('{"name":"geoportal-sdk","version":"3.5.4","date":"05/06/2024","SDK2DVersion":"3.5.4","SDK3DVersion":"3.5.4","description":"French Geoportal SDK based on OpenLayers (2D) and iTowns (3D) libraries","main":"dist/2d/GpSDK2D-src.js, dist/3d/GpSDK3d-src.js","module":"src/SDK2D.js, src/SDK3D.js","scripts":{"setup":"npm install","clean":"echo \\"Warning: target not yet implemented!\\" && exit 0","check":"eslint src/","test:serve":"webpack-dev-server --config webpack.test.serve.js","doc:serve":"webpack-dev-server --config webpack.config.3d --content-base jsdoc/ --port 9001 --open","sample:3d:serve":"webpack-dev-server --config webpack.config.3d --mode=development --https --open-page samples/index-3d-map.html --content-base . --output-public-path \'/dist/3d/\' --port 9001 --open","sample:2d:serve":"webpack-dev-server --config webpack.config.2d --mode=development --https --open-page samples/index-2d-map.html --content-base . --output-public-path \'/dist/2d/\' --port 9001 --open","stat:2d":"npm run build:2d:src -- --profile --json > map-2d.json","stat:3d":"npm run build:3d:src -- --profile --json > map-3d.json","clean:chunk":"rm dist/*/chunk*","build":"npm-run-all --print-label --print-name build:*:*","build:dev":"npm-run-all --print-label --print-name build:*:dev","build:prod":"npm-run-all --print-label --print-name build:*:prod","build:src":"npm-run-all --print-label --print-name build:*:src","build:3d":"npm-run-all --print-label --print-name build:3d:*","build:3d:src":"webpack --config webpack.config.3d --mode=none && npm run clean:chunk","build:3d:dev":"webpack --config webpack.config.3d --mode=development && npm run clean:chunk","build:3d:prod":"webpack --config webpack.config.3d --mode=production && npm run clean:chunk","build:2d":"npm-run-all --print-label --print-name build:2d:*","build:2d:src":"webpack --config webpack.config.2d --mode=none && npm run clean:chunk","build:2d:dev":"webpack --config webpack.config.2d --mode=development && npm run clean:chunk","build:2d:prod":"webpack --config webpack.config.2d --mode=production && npm run clean:chunk"},"repository":{"type":"git","url":"https://github.com/IGNF/geoportal-sdk.git"},"keywords":["openlayers","itowns","geoportail","geoplateforme","webservice","javascript"],"author":"IGNF","license":"CECILL-B","bugs":{"url":"https://github.com/IGNF/geoportal-sdk/issues"},"homepage":"https://geoservices.ign.fr/documentation/utilisation_web/sdk.html","dependencies":{"whatwg-fetch":"3.0.0"},"devDependencies":{"@babel/core":"^7.8.3","@babel/plugin-transform-runtime":"^7.8.3","@babel/preset-env":"^7.8.3","@mapbox/mapbox-gl-style-spec":"13.20.1","babel-loader":"^8.0.5","chai":"^4.2.0","chalk":"^4.0.0","copy-webpack-plugin":"^5.1.1","core-js":"^3.6.4","css-loader":"^3.4.2","eslint":"^6.8.0","eslint-config-standard":"^14.1.1","eslint-loader":"^4.0.0","eslint-plugin-import":"^2.17.2","eslint-plugin-node":"^11.1.0","eslint-plugin-promise":"^4.1.1","eslint-plugin-standard":"^4.0.0","exports-loader":"^0.7.0","expose-loader":"^0.7.5","fs-extra":"^9.0.0","geoportal-extensions-itowns":"2.5.1","geoportal-extensions-openlayers":"3.4.4","handlebars":"^4.7.5","handlebars-layouts":"^3.1.4","html-webpack-plugin":"^4.0.4","itowns":"2.38.2","jsdoc-webpack-plugin":"^0.3.0","loglevel":"1.6.6","mini-css-extract-plugin":"^0.9.0","mocha":"^7.1.1","mocha-loader":"^5.0.0","npm-run-all":"^4.1.5","ol":"6.9.0","ol-mapbox-style":"6.7.0","optimize-css-assets-webpack-plugin":"^5.0.1","path":"^0.12.7","proj4":"2.7.5","replace-bundle-webpack-plugin":"^1.0.0","requirejs":"^2.3.6","responsive-loader":"^1.2.0","shelljs":"^0.8.3","speed-measure-webpack-plugin":"^1.3.0","string-template":"^1.0.0","style-loader":"^1.1.3","terser-webpack-plugin":"^2.0.0","three":"0.137.5","three.meshline":"1.2.0","url-loader":"^4.0.0","webpack":"^4.41.5","webpack-cli":"^3.3.10","webpack-dev-server":"^3.10.1","webpack-merge":"^4.2.1","webpack-node-externals":"^1.7.2"}}')},"./src/OpenLayers/CSS/OlMap.css":function(e,t,o){},"./src/SDK2D.js":function(e,t,o){"use strict";o.r(t),o.d(t,"Services",(function(){return Ds})),o.d(t,"Error",(function(){return Ns})),o.d(t,"Helper",(function(){return Fs})),o.d(t,"Protocols",(function(){return Us})),o.d(t,"Logger",(function(){return mt})),o.d(t,"servicesDate",(function(){return Bs})),o.d(t,"servicesVersion",(function(){return zs})),o.d(t,"LayerUtils",(function(){return no})),o.d(t,"ProxyUtils",(function(){return yt})),o.d(t,"ColorUtils",(function(){return jt})),o.d(t,"MathUtils",(function(){return Qr})),o.d(t,"olUtils",(function(){return Bt})),o.d(t,"olExtVersion",(function(){return Vs})),o.d(t,"olExtDate",(function(){return Ws})),o.d(t,"olExtended",(function(){return Ys})),o.d(t,"Map",(function(){return a})),o.d(t,"sdkVersion",(function(){return bl})),o.d(t,"sdkDate",(function(){return Al})),o.d(t,"Editor",(function(){return Cl}));var n=o("./package.json"),r=o("./node_modules/loglevel/lib/loglevel.js"),i={getLogger:function(e){"true".match(/true/)?r.disableAll():r.enableAll();var t=e||"default";return r.getLogger(t)}},a={load:function(e,t){var o=i.getLogger("MapLoader.load");if(!e)throw new Error("missing parameter div !");if("string"==typeof e&&(e=document.getElementById(e)),!e)throw new Error("HTML element with id ["+e+"] not found.");t||(t={}),t.hasOwnProperty("viewMode")||(t.viewMode="2d");var n=null,r=null;null!==this.__class2d&&"function"==typeof this.__class2d&&(n=this.__class2d),null!==this.__class3d&&"function"==typeof this.__class3d&&(r=this.__class3d);var a=null;switch(t.viewMode){case"2d":if(o.trace("construction de la carte 2D"),null===n||"function"!=typeof n)throw new Error("library ol is not loaded !");a=new n({div:e,mapOptions:t});break;case"3d":if(o.trace("construction du globe 3D"),null===r||"function"!=typeof r)throw new Error("library itowns is not loaded !");a=new r({div:e,mapOptions:t});break;default:throw new Error("not supported view mode")}return a}},s=o("./node_modules/ol/proj.js"),l=o("./node_modules/geoportal-extensions-openlayers/package.json"),c=(o("./node_modules/geoportal-extensions-openlayers/src/Common/CSS/GPboostRelief.css"),o("./node_modules/geoportal-extensions-openlayers/src/Common/CSS/GPbuildings.css"),o("./node_modules/geoportal-extensions-openlayers/src/Common/CSS/GPdrawing.css"),o("./node_modules/geoportal-extensions-openlayers/src/Common/CSS/GPelevationPath.css"),o("./node_modules/geoportal-extensions-openlayers/src/Common/CSS/GPgeneralWidget.css"),o("./node_modules/geoportal-extensions-openlayers/src/Common/CSS/GPgetFeatureInfo.css"),o("./node_modules/geoportal-extensions-openlayers/src/Common/CSS/GPisochron.css"),o("./node_modules/geoportal-extensions-openlayers/src/Common/CSS/GPlayerSwitcher.css"),o("./node_modules/geoportal-extensions-openlayers/src/Common/CSS/GPlocation.css"),o("./node_modules/geoportal-extensions-openlayers/src/Common/CSS/GPmeasureArea.css"),o("./node_modules/geoportal-extensions-openlayers/src/Common/CSS/GPmeasureAzimuth.css"),o("./node_modules/geoportal-extensions-openlayers/src/Common/CSS/GPmeasureLength.css"),o("./node_modules/geoportal-extensions-openlayers/src/Common/CSS/GPmeasureToolTip.css"),o("./node_modules/geoportal-extensions-openlayers/src/Common/CSS/GPmousePosition.css"),o("./node_modules/geoportal-extensions-openlayers/src/Common/CSS/GPreverseGeocoding.css"),o("./node_modules/geoportal-extensions-openlayers/src/Common/CSS/GProute.css"),o("./node_modules/geoportal-extensions-openlayers/src/Common/CSS/GPsearchEngine.css"),o("./node_modules/geoportal-extensions-openlayers/src/Common/CSS/GPwaiting.css"),o("./node_modules/geoportal-extensions-openlayers/src/OpenLayers/CSS/GPgeneralWidgetOpenLayers.css"),o("./node_modules/geoportal-extensions-openlayers/src/OpenLayers/CSS/Controls/Attribution/GPattributionOpenLayers.css"),o("./node_modules/geoportal-extensions-openlayers/src/OpenLayers/CSS/Controls/Drawing/GPdrawingOpenLayers.css"),o("./node_modules/geoportal-extensions-openlayers/src/OpenLayers/CSS/Controls/Editor/GPeditorOpenLayers.css"),o("./node_modules/geoportal-extensions-openlayers/src/OpenLayers/CSS/Controls/ElevationPath/GPelevationPathOpenLayers.css"),o("./node_modules/geoportal-extensions-openlayers/src/OpenLayers/CSS/Controls/GetFeatureInfo/GPgetFeatureInfoOpenLayers.css"),o("./node_modules/geoportal-extensions-openlayers/src/OpenLayers/CSS/Controls/Isochrone/GPisochronOpenLayers.css"),o("./node_modules/geoportal-extensions-openlayers/src/OpenLayers/CSS/Controls/LayerImport/GPimportOpenLayers.css"),o("./node_modules/geoportal-extensions-openlayers/src/OpenLayers/CSS/Controls/LayerSwitcher/GPlayerSwitcherOpenLayers.css"),o("./node_modules/geoportal-extensions-openlayers/src/OpenLayers/CSS/Controls/LocationSelector/GPlocationOpenLayers.css"),o("./node_modules/geoportal-extensions-openlayers/src/OpenLayers/CSS/Controls/Measures/GPmeasureAreaOpenLayers.css"),o("./node_modules/geoportal-extensions-openlayers/src/OpenLayers/CSS/Controls/Measures/GPmeasureAzimuthOpenLayers.css"),o("./node_modules/geoportal-extensions-openlayers/src/OpenLayers/CSS/Controls/Measures/GPmeasureLengthOpenLayers.css"),o("./node_modules/geoportal-extensions-openlayers/src/OpenLayers/CSS/Controls/MousePosition/GPmousePositionOpenLayers.css"),o("./node_modules/geoportal-extensions-openlayers/src/OpenLayers/CSS/Controls/ReverseGeocoding/GPreverseGeocodingOpenLayers.css"),o("./node_modules/geoportal-extensions-openlayers/src/OpenLayers/CSS/Controls/Route/GProuteOpenLayers.css"),o("./node_modules/geoportal-extensions-openlayers/src/OpenLayers/CSS/Controls/SearchEngine/GPsearchEngineOpenLayers.css"),o("./node_modules/geoportal-extensions-openlayers/src/OpenLayers/CSS/Controls/ToolBoxMeasure/GPtoolBoxMeasureOpenLayers.css"),o("./node_modules/ol/Overlay.js")),u=o("./node_modules/ol/source/VectorTile.js"),d=o("./node_modules/ol/source/Vector.js"),h=o("./node_modules/ol/source/TileWMS.js"),p=o("./node_modules/ol/source/WMTS.js"),f=o("./node_modules/ol/source/ImageWMS.js"),g=o("./node_modules/ol/interaction/Select.js"),m=o("./node_modules/ol/interaction/Modify.js"),y=o("./node_modules/ol/interaction/Draw.js"),v={getLogger:function(e){if(void 0===t)var t={env:{VERBOSE:!1}};t.env.VERBOSE?r.enableAll():r.disableAll();var o=e||"default";return r.getLogger(o)}},_={PARAM_MISSING:"Parameter(s) '%var%' missing",PARAM_EMPTY:"Parameter(s) '%var%' empty",PARAM_TYPE:"Wrong type(s) for parameter(s) '%var%'",PARAM_FORMAT:"Parameter(s) '%var%' not correctly formatted",PARAM_NOT_SUPPORT:"Value(s) for parameter(s) '%var%' not supported",PARAM_NOT_SUPPORT_NODEJS:"Value(s) for parameter(s) '%var%' not supported to NodeJS",PARAM_UNKNOWN:"Value(s) for parameter(s) '%var%' unknown",SERVICE_REQUEST_BUILD:"An error occurred during the request building of the service",SERVICE_REQUEST_EMPTY:"The request sent to the service is empty",SERVICE_RESPONSE_EXCEPTION:"The service returned an exception : '%var%'",SERVICE_RESPONSE_EXCEPTION_2:"The service returned an exception",SERVICE_RESPONSE_ANALYSE:"An error occurred while parsing the response '%var%' of the service",SERVICE_RESPONSE_ANALYSE_2:"An unknown error occurred while parsing the response",SERVICE_RESPONSE_EMPTY:"The response of the service is empty",SERVICE_RESPONSE_EMPTY_2:"The response from the service could not be analyzed or is empty",SERVICE_RESPONSE_FORMAT:"The format of the service response is not supported (handled format(s) : '%var%')",SERVICE_RESPONSE_FORMAT_2:"The format of the service response is not supported",SERVICE_RESPONSE_FORMAT_3:"No suggestion matching the search",CLASS_CONSTRUCTOR:"'%var%' constructor cannot be called as a function.",getMessage:function(e,t){if(0===Object.keys(arguments).length)return"Message indefined !";var o=Array.prototype.slice.call(arguments),n=o.shift(),r=o,i=this[n];try{i=Array.isArray(r)&&r.length>0?i.replace("%var%",r.join(" - ")):i.replace("%var%","%var% (not specified)")}catch(e){}return i}},b={normalyzeParameters:function(e){var t=null;if(e){var o=[];for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];r||(r=""),o.push(n+"="+r)}t=o.join("&")}return t},normalyzeUrl:function(e,t,o){var n=e;if(e){if(e.split("?").length-1>=2){var r=e.search(/\?/)+1;n=e.substring(0,r)+e.slice(r).replace(/\?/g,"&")}var i=e.indexOf("?");-1===i&&(n+="?"),-1!==i&&i!==e.length-1&&(n+="&")}return t&&(n+="string"==typeof t?t=t.replace("?",""):this.normalyzeParameters(t)),o&&(n=encodeURIComponent(n)),n},indent:function(e,t){return new Array((e||0)+1).join("\t")+t}},A=o("./node_modules/es6-promise/dist/es6-promise.js"),C=o.n(A);function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var E,I={call:function(e){var t=v.getLogger("XHR");if(t.trace("[XHR::call()]"),C.a.polyfill(),!e.url)throw new Error("missing parameter : url is not defined !");if(!e.method)throw new Error("missing parameter : method is not defined !");e.format||(e.format="text");var o={};switch(o.url=e.url,o.data=e.data?e.data:null,o.method=e.method,o.timeOut=e.timeOut||0,o.scope=e.scope||this,o.proxy=e.proxy||null,o.content=e.content||null,o.headers=e.headers||{referer:"http://localhost"},e.method){case"DELETE":case"GET":break;case"PUT":case"POST":o.content=e.content?e.content:"application/x-www-form-urlencoded",o.headers=e.headers?e.headers:{referer:"http://localhost"};break;case"HEAD":case"OPTIONS":throw new Error("HTTP method not yet supported !");default:throw new Error("HTTP method unknown !")}switch(e.format){case"text":this.__call(o).then((function(o){t.trace(o),e.onResponse.call(this,o)})).catch((function(t){e.onFailure.call(this,t)}));break;case"json":this.__callJSON(o).then((function(o){t.trace(o),e.onResponse.call(this,o)})).catch((function(t){e.onFailure.call(this,t)}));break;case"xml":this.__callXML(o).then((function(o){t.trace(o),e.onResponse.call(this,o)})).catch((function(t){e.onFailure.call(this,t)}));break;default:throw new Error("This output Format is not yet supported !")}},__call:function(e){var t=v.getLogger("XHR");return t.trace("[XHR::__call()]"),new Promise((function(n,r){var i="POST"===e.method||"PUT"===e.method?1:0;e.data&&("object"===w(e.data)&&Object.keys(e.data).length||"string"==typeof e.data&&e.data.length)&&!i&&(e.url=b.normalyzeUrl(e.url,e.data)),t.trace("URL = ",e.url);var a=null;if("undefined"==typeof window){var s=o("node-fetch"),l={headers:{Referer:"https://localhost"}};return e.data&&"string"==typeof e.data&&i&&(l={method:e.method,body:e.data,headers:{"Content-Type":e.content,Referer:"https://localhost"}}),s(e.url,l).then((function(e){if(e.ok)n(e.text());else{var t="Errors Occured on Http Request (status : '"+e.statusText+"' | url : '"+e.url+"')",o=e.status;r({message:t,status:o})}})).catch((function(e){r({message:e,status:-1})}))}if(window.XMLHttpRequest){t.trace("XMLHttpRequest"),(a=new XMLHttpRequest).open(e.method,e.url,!0),a.overrideMimeType=e.content;var c=null;e.timeOut>0&&(t.trace("XHR - TimeOut actif !"),c=window.setTimeout((function(){r({message:"TimeOut Occured on Http Request with XMLHttpRequest !",status:-1})}),e.timeOut)),i&&(t.trace("data = ",e.data),a.setRequestHeader("Content-type",e.content)),a.onerror=function(e){console.log(e),r(new Error("Errors Occured on Http Request with XMLHttpRequest !"))},a.ontimeout=function(e){console.log(e),r(new Error("TimeOut Occured on Http Request with XMLHttpRequest !"))},a.onreadystatechange=function(e){if(4===a.readyState)if(200===a.status)window.clearTimeout(c),n(a.response);else{var t="Errors Occured on Http Request (status : '"+e.target.statusText+"' | url : '"+e.target.responseURL+"' | response : '"+e.target.response+"')",o=e.target.status;r({message:t,status:o})}};var u=e.data&&i?e.data:null;a.send(u)}else{if(!window.XDomainRequest)throw new Error("CORS not supported");t.trace("XDomainRequest"),(a=new XDomainRequest).open(e.method,e.url),a.overrideMimeType=e.content,e.timeOut>0&&(a.timeout=e.timeout,t.trace("XHR - TimeOut actif !")),i&&a.setRequestHeader("Content-type",e.content),a.onerror=function(){r(new Error("Errors Occured on Http Request with XMLHttpRequest !"))},a.ontimeout=function(){r(new Error("TimeOut Occured on Http Request with XMLHttpRequest !"))},a.onload=function(e){if(200===a.status)n(a.responseText);else{var t="Errors Occured on Http Request (status : '"+e.target.statusText+"' | url : '"+e.target.responseURL+"')",o=e.target.status;r({message:t,status:o})}};var d=e.data&&i?e.data:null;a.send(d)}}))},__callJSON:function(e){return this.__call(e).then(JSON.parse).catch((function(t){console.log("_callJSON failed on : ",e.url,t)}))},__callXML:function(e){return this.__call(e).then((function(e){var t;"undefined"==typeof window?t=(new(0,o("./node_modules/@xmldom/xmldom/lib/index.js").DOMParser)).parseFromString(e,"text/xml"):window.DOMParser?t=(new window.DOMParser).parseFromString(e,"text/xml"):((t=new window.ActiveXObject("Microsoft.XMLDOM")).async=!1,t.loadXML(e));return t})).catch((function(t){console.log("__callXML failed on : ",e.url,t)}))}},O={uuid:(E=Math.floor(Date.now()),function(){return E++}),call:function(e){var t=v.getLogger("JSONP");if(t.trace("[JSONP::call ()]"),!e)throw t.error("missing parameter : options !"),new Error("missing parameter : options !");if(!e.url)throw t.error("missing parameter : options.url !"),new Error("missing parameter : options.url !");if(e.timeOut||(t.info("setting 'options.timeOut' default value"),e.timeOut=0),!e.onResponse)throw t.error("missing parameter : options.onResponse !"),new Error("missing parameter : options.onResponse !");var o="string"==typeof e.callbackSuffix?e.callbackSuffix:this.uuid(),n=!1,r=!1,i=e.url.indexOf("callback=");if(-1!==i){n=!0;var a=e.url.indexOf("&",i);-1===a&&(a=e.url.length);var s=e.url.substring(i+9,a);s&&(r=!0,e.callbackName=s,t.info("setting 'options.callbackName' value ("+e.callbackName+") from 'options.url' parameter"))}if(!n){var l=e.url.indexOf("?");-1===l?e.url=e.url+"?callback=":l===e.url.length?e.url=e.url+"callback=":e.url=e.url+"&callback=",t.info("setting callback default key in 'options.url' : "+e.url)}var c=!!e.callbackName||r;if(r||(e.callbackName||(t.info("setting 'options.callbackName' default value"),e.callbackName="callback",(o||""===o)&&(e.callbackName+=o)),e.url=e.url.replace("callback=","callback="+e.callbackName),t.info("setting callback function name in 'options.url' : "+e.url)),e.onTimeOut||(t.info("setting 'options.onTimeOut' default value"),e.onTimeOut=function(){console.log("TimeOut while invoking url : "+e.url)}),!c){var u=this,d=null;e.timeOut>0&&(d=window.setTimeout((function(){window[e.callbackName]=function(){},e.onTimeOut(),u._deleteScript(o)}),e.timeOut)),window[e.callbackName]=function(t){window.clearTimeout(d),e.onResponse(t),u._deleteScript(o)}}this._createScript(o,e.url)},_createScript:function(e,t){var o,n=document.getElementById("results"+e);(o=document.createElement("script")).setAttribute("type","text/javascript"),o.setAttribute("src",t),o.setAttribute("charset","UTF-8"),o.setAttribute("id","results"+e),o.setAttribute("async","true");var r=document.documentElement||document.getElementsByTagName("head")[0];null===n?r.appendChild(o):r.replaceChild(o,n)},_deleteScript:function(e){var t=document.getElementById("results"+e);if(t){var o=t.parentNode||document.documentElement;if(!o)return;o.removeChild(t)}}},S={send:function(e){var t=e||{method:"GET",protocol:"XHR",timeOut:0,format:null,wrap:!0,nocache:!0,output:"json",callback:null,callbackSuffix:null};if("undefined"!=typeof window||"JSONP"!==e.protocol){if("XHR"===e.protocol||"json"===e.format?t.wrap=!1:"JSONP"===e.protocol&&"xml"===e.format&&(t.wrap=!0),t.callback=null,t.output=t.wrap?"json":null,t.wrap){var o={};o.output=t.output,o.callback=t.callback,delete o.callback,t.url=b.normalyzeUrl(e.url,o)}switch(t.protocol){case"XHR":"GET"===e.method&&e.nocache&&(t.url=b.normalyzeUrl(t.url,{t:(new Date).getTime()})),I.call(t);break;case"JSONP":t.data&&(t.url=b.normalyzeUrl(t.url,t.data)),O.call(t);break;default:throw new Error("protocol not supported (XHR|JSONP) !")}}else console.log("Value (s) for parameter (s) 'protocol=JSONP (instead use XHR)' not supported to NodeJS")}};function x(e){if(!(this instanceof x))throw new TypeError("ErrorService constructor cannot be called as a function.");var t=e;"string"==typeof e||e instanceof String?(this.message=e,this.status=-1,this.type=x.TYPE_UNKERR):(this.message=t.message||"undefined!?",this.type=t.type,this.status=t.status||-1),this.name="ErrorService",this.stack=(new Error).stack}x.TYPE_SRVERR="SERVICE_ERROR",x.TYPE_USEERR="USAGE_ERROR",x.TYPE_UNKERR="UNKNOWN_ERROR",x.prototype=Object.create(Error.prototype,{constructor:{value:x,writable:!0,configurable:!0}});var j=x,P=o("./node_modules/geoportal-access-lib/package.json");function T(e){if(!(this instanceof T))throw new TypeError(_.getMessage("CLASS_CONSTRUCTOR"));for(var t in this.logger=v.getLogger("CommonService"),this.logger.trace("[Constructeur CommonService (options)]"),this.options={protocol:"XHR",ssl:!0,proxyURL:"",callbackSuffix:null,httpMethod:"GET",timeOut:0,rawResponse:!1,scope:this,onSuccess:function(e){console.log("onSuccess - la reponse est la suivante : ",e)},onFailure:function(e){200!==e.status&&e.status?console.log("onFailure - Erreur (",e.status,") : ",e.message):console.log("onFailure : ",e.message)}},e)e.hasOwnProperty(t)&&(this.options[t]=e[t]);if(this.options.rawResponse&&!this.options.onSuccess&&(this.options.onSuccess=function(e){console.log("onSuccess - la rÃ©ponse brute du service est la suivante : ",e)}),!!(null===this.options.onSuccess||"function"!=typeof this.options.onSuccess))throw new Error(_.getMessage("PARAM_MISSING","onSuccess()"));switch(this.options.httpMethod="string"==typeof e.httpMethod?e.httpMethod.toUpperCase():"GET",this.options.httpMethod){case"POST":case"GET":break;case"PUT":case"DELETE":case"HEAD":case"OPTIONS":throw new Error(_.getMessage("PARAM_NOT_SUPPORT","httpMethod"));default:throw new Error(_.getMessage("PARAM_UNKNOWN","httpMethod"))}switch(this.options.protocol="string"==typeof e.protocol?e.protocol.toUpperCase():"XHR",this.options.protocol){case"JSONP":case"XHR":break;default:throw new Error(_.getMessage("PARAM_UNKNOWN","protocol"))}if("undefined"==typeof window&&"JSONP"===this.options.protocol)throw new Error(_.getMessage("PARAM_NOT_SUPPORT_NODEJS","protocol=JSONP (instead use XHR)"));"JSONP"===this.options.protocol&&(this.options.httpMethod="GET"),this.options.nocache=e.nocache||!1,this.options.outputFormat=null,this.request=null,this.response=null}T.prototype={constructor:T,call:function(){this.logger.trace("CommonService::call ()");var e=this;function t(t){this.logger.trace("CommonService::onBuildRequest : ",t),this.callService.call(e,r,o)}function o(t){this.logger.trace("CommonService::onCallService : ",t),this.analyzeResponse.call(e,r,n)}function n(e){if(this.logger.trace("CommonService::onAnalyzeResponse : ",e),!e)return r.call(this,new j("Analyse de la reponse en Ã©chec !?"));this.options.onSuccess.call(this,e)}function r(e){this.logger.trace("CommonService::onError()");var t=e;t instanceof j||(t=new j(e.message)),this.options.onFailure.call(this,t)}(function(){this.logger.trace("CommonService::run ()"),this.buildRequest.call(e,r,t)}).call(e)},buildRequest:function(e,t){this.logger.error("overwritten method !"),e&&e.call(this,"This method must be overwritten !"),t.call(this,"This method must be overwritten !")},callService:function(e,t){var o=null,n=this.request,r=!(!this.options.proxyURL||"XHR"!==this.options.protocol),i={"gp-access-lib":P.version};this.options.apiKey&&(i.apiKey=this.options.apiKey),this.options.serverUrl=b.normalyzeUrl(this.options.serverUrl,i,!1),r&&("GET"===this.options.httpMethod&&(o=this.options.proxyURL+b.normalyzeUrl(this.options.serverUrl,this.request,!0),n=null),"POST"===this.options.httpMethod&&(o=this.options.proxyURL+b.normalyzeUrl(this.options.serverUrl,null,!0),n=this.request));var a=this,s={url:o||this.options.serverUrl,method:this.options.httpMethod,protocol:this.options.protocol,timeOut:this.options.timeOut||0,format:this.options.outputFormat,nocache:this.options.nocache||!1,wrap:"XHR"!==this.options.protocol,callbackSuffix:this.options.callbackSuffix,data:n,headers:null,content:this.options.contentType||"application/xml",scope:this.options.scope||this,onResponse:function(o){a.logger.trace("callService::onResponse()");var n=null;if("XHR"===a.options.protocol&&(a.logger.trace("Response XHR",o),n=o),"JSONP"===a.options.protocol){if(a.logger.trace("Response JSON",o),!o)return void e.call(a,new j("Le contenu de la reponse est vide !?"));if(o.http){if(200!==o.http.status)return void e.call(a,new j({status:o.http.status,message:o.http.error,type:j.TYPE_SRVERR}));n=o.xml,a.options.rawResponse&&(n=o)}else n=o}if("function"==typeof a.options.onBeforeParse){var r=a.options.onBeforeParse(n);"string"==typeof r&&(n=r)}a.response=n,t.call(a,n)},onFailure:function(t){a.logger.trace("callService::onFailure()"),t.type=j.TYPE_SRVERR,e.call(a,new j(t))},onTimeOut:function(){a.logger.trace("callService::onTimeOut()"),e.call(a,new j("TimeOut!"))}};S.send(s)},analyzeResponse:function(e,t){this.logger.error("overwritten method !"),e&&e.call(this,"This method must be overwritten !"),t.call(this,"This method must be overwritten !")}};var M=T,R={ssl:!0,newUrl:function(e){return(!1===R.ssl?"http://":"https://")+"data.geopf.fr"+e},Alti:{new_key:{"elevation-json":"/altimetrie/1.0/calcul/alti/rest/elevation.json","elevation-xml":"/altimetrie/1.0/calcul/alti/rest/elevation.xml","profil-json":"/altimetrie/1.0/calcul/alti/rest/elevationLine.json","profil-xml":"/altimetrie/1.0/calcul/alti/rest/elevationLine.xml"},newUrl:function(){return{"elevation-json":R.newUrl(this.new_key["elevation-json"]),"elevation-xml":R.newUrl(this.new_key["elevation-xml"]),"profil-json":R.newUrl(this.new_key["profil-json"]),"profil-xml":R.newUrl(this.new_key["profil-xml"])}}},ProcessIsoCurve:{new_key:"/navigation/isochrone",newUrl:function(){return R.newUrl(this.new_key)}},Config:{_key:"https://raw.githubusercontent.com/IGNF/geoportal-configuration/new-url/dist/",url:function(e){Array.isArray(e)||(e=e.split(","));for(var t=[],o=0;o<e.length;o++)t[o]=this._key+e[o]+"Config.json";return t}},AutoComplete:{new_key:"/geocodage/completion",newUrl:function(){return R.newUrl(this.new_key)}},ReverseGeocode:{new_key:"/geocodage/reverse",newUrl:function(){return R.newUrl(this.new_key)}},Geocode:{new_key:"/geocodage/search",newUrl:function(){return R.newUrl(this.new_key)}},Route:{new_key:"/navigation/itineraire",newUrl:function(){return R.newUrl(this.new_key)}}},L=R;function k(){if(!(this instanceof k))throw new TypeError("ConfigInterface constructor cannot be called as a function.");this.generalOptions={apiKeys:{},title:null,defaultGMLGFIStyle:null,theme:null,wgs84Resolutions:[]},this.layers={},this.tileMatrixSets={}}k.prototype={constructor:k,isKeyConfLoaded:function(e){if(e)return!!this.generalOptions.apiKeys[e]},getLayersId:function(e){return this.generalOptions.apiKeys[e]},getLayerId:function(e,t){if(e&&t){var o=null;if(this.layers){var n=this.layers;for(var r in n)if(n.hasOwnProperty(r)){var i=r.split("$");if(e===i[0]&&i[1]){var a=i[1].split(":");if(i[1].split(";")[1]===t.toUpperCase()){o=r;break}if(a[2]===t.toUpperCase()){o=r;break}}}}if(o)return o}},getLayersConf:function(e){var t={},o=this.getLayersId(e);if(o)for(var n=0;n<o.length;n++){var r=o[n];t[r]=this.layers[r]}return t},getLayerConf:function(e){if(this.layers)return this.layers[e]},getLayerParams:function(e,t){var o={};if(("WMS"===t||0!==Object.keys(this.tileMatrixSets).length)&&0!==Object.keys(this.layers).length){var n=this.getLayerId(e,t);if(n){var r=this.getLayerConf(n),i=this.getLayerKey(n);if(0===i.length)return;for(var a=0;a<i.length;a++)r.serviceParams.serverUrl[i[a]]&&(o.url=r.serviceParams.serverUrl[i[a]]);if(/\/v\//.test(o.url)?o.styles=" ":o.styles=r.styles[0].name,o.version=r.serviceParams.version,o.format=r.formats[0].name,o.projection=r.defaultProjection,o.minScale=r.globalConstraint.minScaleDenominator,o.maxScale=r.globalConstraint.maxScaleDenominator,o.extent=r.globalConstraint.bbox,o.legends=r.legends,o.title=r.title,o.description=r.description,"WMS"===t&&(o.metadata=r.metadata),r.wmtsOptions){o.tileMatrixSetLimits=r.wmtsOptions.tileMatrixSetLimits;var s=r.wmtsOptions.tileMatrixSetLink;if(s){o.TMSLink=s;var l=this.getTMSConf(s);o.matrixIds=Object.keys(l.tileMatrices),o.tileMatrices=l.tileMatrices,o.nativeResolutions=l.nativeResolutions||this.getTMSConf("PM").nativeResolutions}}}}return o},getLayerKey:function(e){var t=[];if(this.generalOptions&&this.generalOptions.apiKeys&&0!==Object.keys(this.generalOptions.apiKeys).length){var o=this.generalOptions.apiKeys;for(var n in o){o[n].forEach((function(o){o===e&&t.push(n)}))}}return t},getTileMatrixSets:function(){return this.tileMatrixSets},getTMSConf:function(e){if(this.tileMatrixSets)return this.tileMatrixSets[e]},getGlobalConstraints:function(e){var t={};if(e){var o=this.getLayerConf(e);t.projection=o.defaultProjection,t.minScale=o.globalConstraint.minScaleDenominator,t.maxScale=o.globalConstraint.maxScaleDenominator,t.extent=o.globalConstraint.bbox}return t}};var G=k;function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function F(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?N(Object(o),!0).forEach((function(t){U(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):N(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function U(e,t,o){return(t=function(e){var t=function(e,t){if("object"!=D(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!=D(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==D(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function B(e){if(!(this instanceof B))throw new TypeError(_.getMessage("CLASS_CONSTRUCTOR","Config"));if(this.CLASSNAME="Config",this.logger=v.getLogger("Gp.Config"),this.logger.trace("[Constructeur Config (options)]"),!!(null===e.onSuccess||"function"!=typeof e.onSuccess))throw new Error(_.getMessage("PARAM_MISSING","onSuccess()"));e.apiKey||e.customConfigFile||(e.apiKey="full"),this.options={},this.options.onSuccess=e.onSuccess,this.options.onFailure=e.onFailure,this.options.sync=e.sync||!1,this.options.listConfigUrls=e.customConfigFile?[e.customConfigFile]:Array.isArray(e.apiKey)?L.Config.url(e.apiKey):L.Config.url(e.apiKey.split(","))}B.prototype=Object.create(M.prototype,{}),B.prototype.constructor=B,B.prototype.buildRequest=function(e,t){this.listConfigUrls=this.options.listConfigUrls,this.listConfigUrls?t.call(this,this.listConfigUrls):e.call(this,new Error("url by default not found !"))},B.prototype.callService=function(e,t){this.options.sync?V.call(this,e,t):z.call(this,e,t)};var z=function(e,t){var n=this;this.listConfigResults=[];var r=null;if("undefined"==typeof window){var i=o("node-fetch");r=i}else r=window.fetch;for(var a=function(e){return r(e,{credentials:"same-origin"}).then((function(e){if(e.ok)return e.json().then((function(e){return e})).catch((function(e){throw new Error("Exception Json : "+e)}));throw new Error("Exception HTTP : "+e.status+" (status code) !")})).catch((function(e){return new Promise((function(t,o){o(e)}))}))},s=[],l=0;l<this.listConfigUrls.length;l++){var c=this.listConfigUrls[l];s.push(a(c))}Promise.all(s).then((function(e){if(!e)throw new Error("results config empty !?");e.forEach((function(e){n.listConfigResults.push(e)}))})).then((function(){t.call(n,n.listConfigResults)})).catch((function(t){e.call(n,t)}))},V=function(e,t){this.listConfigResults=[];for(var o=0;o<this.listConfigUrls.length;o++){var n=this.listConfigUrls[o],r=new XMLHttpRequest;if(r.open("GET",n,!1),r.send(null),200===r.status){var i=JSON.parse(r.responseText);this.listConfigResults.push(i)}}0!==this.listConfigResults.length?t.call(this,this.listConfigResults):e.call(this,new Error("..."))};B.prototype.analyzeResponse=function(e,t){var o=function(e){for(var t={},o={},n={},r=0;r<e.length;r++){if(!e[r].generalOptions||!e[r].layers)return;o=F(F({},o),e[r].generalOptions.apiKeys),t=F(F({},t),e[r].layers),n=F(F({},n),e[r].tileMatrixSets)}return{generalOptions:{apiKeys:o},layers:t,tileMatrixSets:n}}(this.listConfigResults);if(o){var n=new G;Object.assign(n,o);var r="undefined"!=typeof window?window:{};if(r.Gp||(r.Gp={}),r.Gp.Config)for(var i in Object.assign(r.Gp.Config,n),n)r.Gp.Config[i]=n[i];else r.Gp.Config=n;t.call(this,r.Gp.Config)}else e.call(this,new Error("configuration structure not conforme !"))};var W=B;function q(e){if(!(this instanceof q))throw new TypeError("AltiRequest constructor cannot be called as a function.");this.logger=v.getLogger(),this.logger.trace("[Constructeur AltiRequest ()]"),this.options=e||{},this.positions=this.options.positions||[],this.delimiter=this.options.delimiter||"|",this.indent=this.options.indent||!1,this.crs=this.options.crs||"CRS:84",this.format=this.options.format||"json",this.resource=this.options.resource,this.measures=this.options.measures||!1}q.CLASSNAME="AltiRequest",q.prototype={constructor:q,setPositions:function(e){for(var t=[],o=0;o<e.length;o++){var n=e[o];n.lon&&n.lat&&t.push(n)}this.positions=t},getPositions:function(e){if(!e)return this.positions;var t=this.positions.length-1;return e>t||e<t?(this.logger.warn("index out of range !"),this.positions):this.positions[e]},addPositions:function(e){for(var t=0;t<e.length;t++){var o=e[t];o.lon&&o.lat&&this.positions.push(e[t])}},getLon:function(){for(var e=[],t=0;t<this.positions.length;t++)e.push(this.positions[t].lon);return this.logger.trace(e),e.join(this.delimiter)},getLat:function(){for(var e=[],t=0;t<this.positions.length;t++)e.push(this.positions[t].lat);return this.logger.trace(e),e.join(this.delimiter)}},q.prototype.getData=function(){var e=[];return e.push({k:"lon",v:this.getLon()}),e.push({k:"lat",v:this.getLat()}),e.push({k:"delimiter",v:this.delimiter}),e.push({k:"indent",v:this.indent}),e.push({k:"crs",v:this.crs}),e.push({k:"format",v:this.format}),e};var Y=q;function H(e){if(!(this instanceof H))throw new TypeError("AltiElevationRequest constructor cannot be called as a function.");this.CLASSNAME="AltiElevationRequest",Y.apply(this,arguments),this.logger=v.getLogger(),this.logger.trace("[Constructeur AltiElevationRequest ()]"),this.zonly=this.options.zonly||!1}H.prototype=Object.create(Y.prototype,{zonly:{get:function(){return this._zonly},set:function(e){this._zonly=e}}}),H.prototype.constructor=H,H.prototype.getData=function(){var e=[];return e.push({k:"lon",v:this.getLon()}),e.push({k:"lat",v:this.getLat()}),e.push({k:"indent",v:this.indent}),e.push({k:"crs",v:this.crs}),e.push({k:"zonly",v:this.zonly}),e.push({k:"format",v:this.format}),e.push({k:"resource",v:this.resource}),e};var X=H;function Z(e){if(!(this instanceof Z))throw new TypeError("AltiProfilRequest constructor cannot be called as a function.");this.CLASSNAME="AltiProfilRequest",Y.apply(this,arguments),this.logger=v.getLogger(),this.logger.trace("[Constructeur AltiProfilRequest ()]"),this.sampling=this.options.sampling||3}Z.prototype=Object.create(Y.prototype,{sampling:{get:function(){return this._sampling},set:function(e){this._sampling=e}}}),Z.prototype.constructor=Z,Z.prototype.getData=function(){var e=[];return e.push({k:"lon",v:this.getLon()}),e.push({k:"lat",v:this.getLat()}),e.push({k:"indent",v:this.indent}),e.push({k:"crs",v:this.crs}),e.push({k:"sampling",v:this.sampling}),e.push({k:"format",v:this.format}),e.push({k:"resource",v:this.resource}),e};var K=Z;function J(e){if(this.logger=v.getLogger("AltiRequestREST"),this.logger.trace("[Constructeur AltiRequestREST ()]"),!(this instanceof J))throw new TypeError("AltiRequestREST constructor cannot be called as a function.");if(this.options=e||{},!this.options)throw new Error(_.getMessage("PARAM_EMPTY","options"));if(!this.options.type)throw new Error(_.getMessage("PARAM_EMPTY","type (Elevation or Profil)"));switch(this.DataObject=null,this.options.type){case"Elevation":this.DataObject=new X(this.options.param);break;case"Profil":this.DataObject=new K(this.options.param);break;default:throw new Error(_.getMessage("PARAM_TYPE","type (Elevation or Profil)"))}this.method=this.options.method||"GET"}J.prototype={requestString:null,constructor:J,template:{get:{value:"lon=__LON__&lat=__LAT__&indent=__INDENT__&crs='__CRS__'&resource=__RESOURCE__&measures=__MEASURES__",input:{point:"&zonly=__ZONLY__",profil:"&sampling=__SAMPLING__"}},post:{value:"lon=__LON__\nlat=__LAT__\nindent=__INDENT__\ncrs='__CRS__'\nresource='__RESOURCE__'\nmeasures='__MEASURES__'\n",input:{point:"zonly=__ZONLY__\n",profil:"sampling=__SAMPLING__"}}},processRequestString:function(){this.logger.trace("AltiRequestREST::processRequestString ()");var e="";return"POST"===this.method?e=this.template.post.value:"GET"===this.method&&(e=this.template.get.value),e=(e=(e=(e=(e=(e=e.replace(/__LON__/g,this.DataObject.getLon())).replace(/__LAT__/g,this.DataObject.getLat())).replace(/__INDENT__/g,this.DataObject.indent)).replace(/__CRS__/g,this.DataObject.crs)).replace(/__RESOURCE__/g,this.DataObject.resource)).replace(/__MEASURES__/g,this.DataObject.measures),e+=this.__addDataInputs(),this.logger.trace("traduction tmpl",e),this.requestString=e,this.requestString},__addDataInputs:function(){var e;if(this.logger.trace("AltiRequestREST::addDataInput ()"),"POST"===this.method)e=this.template.post;else{if("GET"!==this.method)throw new Error("No other HTTP method supported by the service !");e=this.template.get}if("AltiElevationRequest"===this.DataObject.CLASSNAME)return e.input.point.replace(/__ZONLY__/g,this.DataObject.zonly.toString());if("AltiProfilRequest"===this.DataObject.CLASSNAME)return e.input.profil.replace(/__SAMPLING__/g,this.DataObject.sampling);throw new Error("No other object supported than elevation or profil !?")}};var Q=J;function $(e){if(this.logger=v.getLogger(),this.logger.trace("[Constructeur WPS()]"),!(this instanceof $))throw new TypeError("WPS constructor cannot be called as a function.");if(this.options=e||{},this.DataObject=this.options.data,!this.DataObject)throw new TypeError("This data object is not defined !");this.paramservice=this.options.param.service||"WPS",this.paramversion=this.options.param.version||"1.0.0",this.paramidentifier=this.options.param.identifier||"gs:WPS",this.paramrawdataoutput=this.options.param.rawdataoutput||"result",this.paramrequest=this.options.param.request||"Execute",this.method=this.options.method||"GET"}$.prototype={requestString:null,constructor:$,template:{get:{value:"service=__SERVICE__&version=__VERSION__&rawdataoutput=__RAWDATAOUTPUT__&identifier=__IDENTIFIER__&request=__REQUEST__&datainputs=\x3c!-- __DATAINPUTS__ --\x3e",input:"__KEY__=__DATA__"},post:{value:'<?xml version="1.0" encoding="UTF-8"?><wps:__REQUEST__ version="__VERSION__" service="__SERVICE__" __NAMESPACE__ __SCHEMALOCATION__><ows:Identifier>__IDENTIFIER__</ows:Identifier><wps:DataInputs>\x3c!-- __DATAINPUTS__ --\x3e</wps:DataInputs><wps:ResponseForm><wps:RawDataOutput><ows:Identifier>__RAWDATAOUTPUT__</ows:Identifier></wps:RawDataOutput></wps:ResponseForm></wps:__REQUEST__>',input:"<wps:Input><ows:Identifier>__KEY__</ows:Identifier><wps:Data><wps:LiteralData>__DATA__</wps:LiteralData></wps:Data></wps:Input>"}},namespaceByDefault:function(){return['xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"','xmlns="http://www.opengis.net/wps/1.0.0"','xmlns:wfs="http://www.opengis.net/wfs"','xmlns:wps="http://www.opengis.net/wps/1.0.0"','xmlns:ows="http://www.opengis.net/ows/1.1"','xmlns:gml="http://www.opengis.net/gml"','xmlns:ogc="http://www.opengis.net/ogc"','xmlns:wcs="http://www.opengis.net/wcs/1.1.1"','xmlns:xlink="http://www.w3.org/1999/xlink"'].join(" ")},schemaLocationByDefault:function(){return'xsi:schemaLocation="http://www.opengis.net/wps/1.0.0 http://schemas.opengis.net/wps/1.0.0/wpsAll.xsd"'},processRequestString:function(){this.logger.trace("WPS::processRequestString ()");var e="";if("POST"===this.method)e=this.template.post.value;else{if("GET"!==this.method)return this.logger.error("No other method supported by the service !"),!1;e=this.template.get.value}return e=(e=(e=(e=(e=e.replace(/__SERVICE__/g,this.paramservice)).replace(/__VERSION__/g,this.paramversion)).replace(/__RAWDATAOUTPUT__/g,this.paramrawdataoutput)).replace(/__IDENTIFIER__/g,this.paramidentifier)).replace(/__REQUEST__/g,this.paramrequest),"POST"===this.method&&(e=(e=e.replace(/__NAMESPACE__/g,this.namespaceByDefault)).replace(/__SCHEMALOCATION__/g,this.schemaLocationByDefault)),(e=e.replace(/<!-- __DATAINPUTS__ -->/g,this.__addDataInputs()))?(this.requestString=e,this.logger.trace("traduction tmpl",e),!0):(this.logger.warn("traduction tmpl : empty request !?"),!1)},__addDataInputs:function(){this.logger.trace("WPS::__addDataInputs ()");for(var e,t="GET"===this.method?this.template.get.input:this.template.post.input,o="GET"===this.method?";":"",n="",r=this,i=this.DataObject.getData(),a=0;a<i.length;a++)e=a,o&&(o=e===i.length-1?"":";"),n=n.concat(r.__addDataInput(t,i[e].k,i[e].v),o);return n},__addDataInput:function(e,t,o){var n=e;return n=(n=n.replace(/__KEY__/g,t)).replace(/__DATA__/g,o)},setMethod:function(e){"GET"===e||"POST"===e?this.method=e:this.logger.warn("support only GET and POST method !")},getMethod:function(){return this.method}};var ee=$,te={build:function(e){if(v.getLogger("AltiRequestWPS").trace(["AltiRequestWPS::build()"]),!e)throw new Error(_.getMessage("PARAM_EMPTY","options"));if(!e.type)throw new Error(_.getMessage("PARAM_EMPTY","type (Elevation or Profil)"));var t=null;switch(e.type){case"Elevation":e.wps.identifier="gs:WPSElevation",t=new X(e.param);break;case"Profil":e.wps.identifier="gs:WPSLineElevation",t=new K(e.param);break;default:throw new Error(_.getMessage("PARAM_TYPE","type (Elevation or Profil)"))}var o={data:t,method:e.method,param:e.wps},n=new ee(o);if(!n.processRequestString())throw new Error("Enable to process request !");return n.requestString}},oe={build:function(e){v.getLogger("AltiRequestFactory").trace(["AltiRequestFactory::build()"]);var t=null,o={type:e.sampling?"Profil":"Elevation",method:e.httpMethod,param:{positions:null,delimiter:null,indent:null,crs:null,format:null,sampling:null,zonly:null,measures:null}};o.param.positions=e.positions,o.param.format=e.outputFormat,o.param.sampling=e.sampling,o.param.zonly=e.zonly,o.param.measures=e.measures,o.param.resource=e.resource;var n=!(null===e.onError||"function"!=typeof e.onError),r=!(null===e.onSuccess||"function"!=typeof e.onSuccess),i=null;switch(e.api){case"REST":var a=new Q(o);if(!a.processRequestString()){if(i="Error in process request (rest) !",n)return void e.onError.call(e.scope,new j(i));throw new Error(i)}t=a.requestString;break;case"WPS":if(o.wps={service:null,version:null,identifier:null,rawdataoutput:null,request:null},!(t=te.build(o))){if(i="Error in process request (wps) !",n)return void e.onError.call(e.scope,new j(i));throw new Error(i)}break;default:if(i="Type of API is not supported by service (REST or WPS) !",n)return void e.onError.call(e.scope,new j(i));throw new Error(i)}return r&&e.onSuccess.call(e.scope,t),t}};function ne(e){if(!(this instanceof ne))throw new TypeError("XML constructor cannot be called as a function.");this.logger=v.getLogger(),this.logger.trace("[Constructeur XML ()]"),this.xmlString=null,this.xmlDoc=null,this.reader=null,e&&(e.xmlString&&"string"==typeof e.xmlString&&(this.xmlString=e.xmlString,this.xmlDoc=re(e.xmlString)),e.reader&&this.setReader(e.reader))}function re(e){if("undefined"==typeof window)return(new(0,o("./node_modules/@xmldom/xmldom/lib/index.js").DOMParser)).parseFromString(e,"text/xml");var t,n,r="Erreur lors du parsing de la rÃ©ponse du service : XML non conforme";if(window.ActiveXObject){(n=new window.ActiveXObject("Microsoft.XMLDOM")).async=!1,n.loadXML(e);var i=n.parseError;if(i.errorCode)throw i.line&&i.linepos&&(r+="( ligne "+i.line+", colonne "+i.linepos),i.reason&&(r+=":  "+i.reason+")"),new Error(r);return n}if(window.DOMParser){t=new window.DOMParser;try{n=t.parseFromString(e,"text/xml")}catch(e){throw"SyntaxError"===e.message?new Error(r):new Error("Erreur lors du parsing de la rÃ©ponse du service : "+e.message)}if(n.getElementsByTagName("parsererror").length>0)for(var a=n.getElementsByTagName("parsererror"),s=0;s<a.length;s++){var l=a[s].innerHTML;if(-1===l.indexOf("Huge input lookup"))throw r+="("+l+")",new Error(r)}else if(!n.documentElement)throw new Error(r);return n}throw new Error("Incompatible DOM Parser pour ce navigateur !")}ne.prototype={constructor:ne,getXMLString:function(){return this.xmlString},setXMLString:function(e){e&&"string"==typeof e&&(this.xmlString=e,this.xmlDoc=re(e))},getReader:function(){return this.reader},setReader:function(e){e&&e.read&&"function"==typeof e.read&&(this.reader=e)},getXMLDoc:function(){return this.xmlDoc},setXMLDoc:function(e){this.xmlDoc=e},parse:function(){if(!this.xmlDoc&&this.xmlString&&(this.xmlDoc=re(this.xmlString)),this.xmlDoc){var e,t=function(e){var t;9===e.nodeType?t=e.documentElement:1===e.nodeType&&(t=e);return t}(this.xmlDoc);return t?(this.reader&&this.reader.read?e=this.reader.read(t):(e={})[t.nodeName]=function e(t){var o={};if(t.attributes.length>0){var n=function(e){if(e.attributes.length>0){for(var t={},o=e.attributes,n=0;n<o.length;n++){var r=o[n];t[r.nodeName]=r.nodeValue}return t}}(t);o.attributes=n}if(t.hasChildNodes())for(var r,i={},a=t.childNodes,s=0;s<a.length;s++)if(3===(r=a[s]).nodeType)o.textContent=r.nodeValue;else if(1===r.nodeType)if(i=e(r),o[r.nodeName]){if(!Array.isArray(o[r.nodeName])){var l=o[r.nodeName];o[r.nodeName]=[],o[r.nodeName].push(l)}o[r.nodeName].push(i)}else o[r.nodeName]=i;return o}(t),e):{}}}};var ie=ne;function ae(){if(!(this instanceof ae))throw new TypeError("AltiResponse constructor cannot be called as a function.");this.elevations=[]}ae.prototype={constructor:ae};var se=ae;function le(){if(!(this instanceof le))throw new TypeError("Elevation constructor cannot be called as a function.");this.z=null}le.prototype={constructor:le};var ce=le;function ue(){if(!(this instanceof ue))throw new TypeError("Measure constructor cannot be called as a function.");this.source_name=null,this.source_measure=null,this.z=null,this.acc=null}ue.prototype={constructor:ue};var de=ue,he={};he.READERS={elevations:function(e){var t=new se;if(e.hasChildNodes())for(var o,n,r=e.childNodes,i=0;i<r.length;i++)o=r[i],he.READERS[o.nodeName]&&(n=he.READERS[o.nodeName](o),t.elevations.push(n));return t},elevation:function(e){var t=new ce;if(e.hasChildNodes())for(var o,n=e.childNodes,r=0;r<n.length;r++)o=n[r],he.READERS[o.nodeName]&&he.READERS[o.nodeName](o,t);return t},lat:function(e,t){var o=e.firstChild;if(!o||3!==o.nodeType)throw new Error("Erreur dans la lecture de la rÃ©ponse du service : latitude attendue mais absente");t.lat=parseFloat(o.nodeValue)},lon:function(e,t){var o=e.firstChild;if(!o||3!==o.nodeType)throw new Error("Erreur dans la lecture de la rÃ©ponse du service : longitude attendue mais absente");t.lon=parseFloat(o.nodeValue)},z:function(e,t){var o=e.firstChild;if(!o||3!==o.nodeType)throw new Error("Erreur dans la lecture de la rÃ©ponse du service : altitude attendue mais absente");if(!t)return(t=new ce).z=parseFloat(o.nodeValue),t;t.z=parseFloat(o.nodeValue)},acc:function(e,t){var o=e.firstChild;if(!o||3!==o.nodeType)throw new Error("Erreur dans la lecture de la rÃ©ponse du service : prÃ©cision (acc) attendue mais absente");t.acc=parseFloat(o.nodeValue)},source_name:function(e,t){var o=e.firstChild;if(!o||3!==o.nodeType)throw new Error("Erreur dans la lecture de la rÃ©ponse du service : source_name attendue mais absente");t.source_name=o.nodeValue},source_measure:function(e,t){var o=e.firstChild;if(!o||3!==o.nodeType)throw new Error("Erreur dans la lecture de la rÃ©ponse du service : source_measure attendue mais absente");t.source_measure=o.nodeValue},measures:function(e,t){var o;if(t.measures=[],e.hasChildNodes())for(var n,r=e.childNodes,i=0;i<r.length;i++){o=new de,n=r[i].childNodes;for(var a=0;a<n.length;a++){if(!he.READERS[n[a].nodeName])throw new Error("Erreur dans la lecture de la rÃ©ponse du service : measures attendues mais absentes");he.READERS[n[a].nodeName](n[a],o)}t.measures.push(o)}},exceptionreport:function(e){var t={};if(e.hasChildNodes())for(var o,n=e.childNodes,r=0;r<n.length;r++)"Exception"===(o=n[r]).nodeName&&(t.exceptionReport=he.READERS.exception(o));return t},exception:function(e){var t={},o=e.getAttribute("exceptionCode");o&&(t.exceptionCode=o);var n=e.firstChild;return n&&3===n.nodeType&&(t.exception=n.nodeValue),t},error:function(e){var t={error:{}};if(e.hasChildNodes())for(var o,n=e.childNodes,r=0;r<n.length;r++){var i;1===(o=n[r]).nodeType&&"code"===o.nodeName&&(i=o.firstChild)&&3===i.nodeType&&(t.error.code=i.nodeValue),1===o.nodeType&&"description"===o.nodeName&&(i=o.firstChild)&&3===i.nodeType&&(t.error.description=i.nodeValue)}return t}},he.read=function(e){if("elevations"===e.nodeName)return he.READERS.elevations(e);if("ExceptionReport"===e.nodeName)return he.READERS.exceptionreport(e);if("error"===e.nodeName)return he.READERS.error(e);throw new Error("Erreur lors de la lecture de la rÃ©ponse : elle n'est pas au format attendu.")};var pe=he;function fe(e){return(fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ge={build:function(e){var t=v.getLogger("AltiResponseFactory");t.trace(["AltiResponseFactory::build()"]);var o=null;if(e.response){if(e.rawResponse)t.trace("analyze response : raw"),o=e.response;else{switch(e.outputFormat){case"xml":t.trace("analyze response : xml");try{var n=new ie({reader:pe});if("string"==typeof e.response?n.setXMLString(e.response):n.setXMLDoc(e.response),!(o=n.parse()))throw new Error(_.getMessage("SERVICE_RESPONSE_EXCEPTION_2"))}catch(t){var r=t.message;return void e.onError.call(e.scope,new j({message:_.getMessage("SERVICE_RESPONSE_EXCEPTION",r),status:200,type:j.TYPE_SRVERR}))}break;case"json":t.trace("analyze response : json"),t.trace("analyze response : ",fe(e.response));var i=null;if((i="string"==typeof e.response?JSON.parse(e.response):e.response)&&i.error)return void e.onError.call(e.scope,new j({message:_.getMessage("SERVICE_RESPONSE_EXCEPTION",i.error.description),status:200,type:j.TYPE_SRVERR}));if(i){var a,s=i.elevations,l=new se;if(Array.isArray(s)&&s.length)for(var c=0;c<s.length;c++)a=new ce,"object"===fe(s[c])?(s[c].lon&&(a.lon=s[c].lon),s[c].lat&&(a.lat=s[c].lat),s[c].z&&(a.z=s[c].z),s[c].acc&&(a.acc=s[c].acc),s[c].measures&&(a.measures=s[c].measures)):"number"==typeof s[c]&&(a.z=s[c]),Array.isArray(l.elevations)&&l.elevations.push(a);o=l}if(!o)return void e.onError.call(e.scope,new j({message:_.getMessage("SERVICE_RESPONSE_ANALYSE_2"),type:j.TYPE_UNKERR,status:-1}));break;default:return void e.onError.call(e.scope,new j({message:_.getMessage("SERVICE_RESPONSE_FORMAT_2"),type:j.TYPE_UNKERR,status:-1}))}if(o.exceptionReport)return void e.onError.call(e.scope,new j({message:_.getMessage("SERVICE_RESPONSE_EXCEPTION",o.exceptionReport),type:j.TYPE_SRVERR,status:200}));if(o.error){var u=o.error.description;return void e.onError.call(e.scope,new j({message:_.getMessage("SERVICE_RESPONSE_EXCEPTION",u),type:j.TYPE_SRVERR,status:200}))}}e.onSuccess.call(e.scope,o)}else e.onError.call(e.scope,new j(_.getMessage("SERVICE_RESPONSE_EMPTY")))}};function me(e){if(!(this instanceof me))throw new TypeError(_.getMessage("CLASS_CONSTRUCTOR","Alti"));if(this.CLASSNAME="Alti",M.apply(this,arguments),this.logger=v.getLogger("Gp.Services.Alti"),this.logger.trace("[Constructeur Alti (options)]"),!e.positions)throw new Error(_.getMessage("PARAM_MISSING","positions"));if(0===e.positions.length)throw new Error(_.getMessage("PARAM_EMPTY","positions"));if(this.options.positions=e.positions,this.options.outputFormat="string"==typeof e.outputFormat?e.outputFormat.toLowerCase():"xml",this.options.resource=e.resource||"ign_rge_alti_wld",this.options.sampling=e.sampling||null,this.options.api="string"==typeof e.api?e.api.toUpperCase():"REST","REST"===this.options.api&&(this.options.httpMethod="GET"),this.options.zonly=e.zonly||!1,this.options.measures=e.measures||!1,!this.options.serverUrl){var t=L.Alti.newUrl(),o=null;switch(this.options.api){case"WPS":o=t.wps;break;case"REST":var n=(e.sampling?"profil":"elevation")+"-"+this.options.outputFormat;o=t[n];break;default:throw new Error(_.getMessage("PARAM_UNKNOWN","api"))}if(!o)throw new Error("Url by default not found !");this.options.serverUrl=o,this.logger.trace("Server URL by default : "+this.options.serverUrl)}var r=this.options.serverUrl.lastIndexOf(".");if(-1!==r){var i=this.options.serverUrl.substring(r+1);if(i&&i.length<5)switch(this.logger.trace("Server Extension URL : "+i),i.toLowerCase()){case"json":case"xml":this.options.outputFormat=i.toLowerCase();break;default:throw new Error("type of service : unknown or unsupported (json or xml) !")}}}me.prototype=Object.create(M.prototype,{}),me.prototype.constructor=me,me.prototype.buildRequest=function(e,t){var o={httpMethod:this.options.httpMethod,onSuccess:function(e){this.request=e,t.call(this,this.request)},onError:e,scope:this,resource:this.options.resource,positions:this.options.positions,outputFormat:this.options.outputFormat,sampling:this.options.sampling,api:this.options.api,zonly:this.options.zonly,measures:this.options.measures};oe.build(o)},me.prototype.analyzeResponse=function(e,t){if(this.response){var o={response:this.response,outputFormat:this.options.outputFormat,rawResponse:this.options.rawResponse,onError:e,onSuccess:t,scope:this};ge.build(o)}else e.call(this,new j(_.getMessage("SERVICE_RESPONSE_EMPTY")))};var ye=me;function ve(e){if(!(this instanceof ve))throw new TypeError("GeocodeParamREST constructor cannot be called as a function.");if(this.logger=v.getLogger(),this.logger.trace("[Constructeur GeocodeParamREST ()]"),this.options=e||{},!this.options.geocodeMethod||"search"!==this.options.geocodeMethod&&"reverse"!==this.options.geocodeMethod)throw new Error("Error geocodeMethod not valid");this.geocodeMethod=this.options.geocodeMethod,this.query=void 0!==this.options?this.options.query:null,this.searchGeometry=this.options.searchGeometry||null,this.index=this.options.index||null,this.lon=this.options.position&&this.options.position.lon?this.options.position.lon:null,this.lat=this.options.position&&this.options.position.lat?this.options.position.lat:null,this.maxResp=this.options.maxResp||null,this.returnTrueGeometry=this.options.returnTrueGeometry||null,this.filters=this.options.filters||{}}ve.CLASSNAME="GeocodeParamREST",ve.prototype={constructor:ve,getFilters:function(){var e={};for(var t in this.filters)this.filters.hasOwnProperty(t)&&(e[t]=this.filters[t]);return e},getIndex:function(){return void 0===this.index?null:"StreetAddress"===this.index?"address":"CadastralParcel"===this.index?"parcel":"PositionOfInterest"===this.index?"poi":"location"===this.index?"location":this.index},getSearchGeometry:function(){return JSON.stringify(this.searchGeometry)}},ve.prototype.getParams=function(){var e=[];"search"===this.geocodeMethod&&e.push({k:"q",v:this.query}),this.index&&e.push({k:"index",v:this.getIndex()}),"reverse"===this.geocodeMethod&&this.searchGeometry&&e.push({k:"searchgeom",v:this.getSearchGeometry()}),this.lon&&this.lat&&(e.push({k:"lon",v:this.lon}),e.push({k:"lat",v:this.lat})),this.maxResp&&e.push({k:"limit",v:this.maxResp}),this.returnTrueGeometry&&e.push({k:"returntruegeometry",v:this.returnTrueGeometry});var t=this.getFilters();for(var o in t)e.push({k:o,v:t[o]});return e};var _e=ve;function be(e){if(this.logger=v.getLogger("GeocodeRequestREST"),this.logger.trace("[Constructeur GeocodeRequestREST ()]"),!(this instanceof be))throw new TypeError("GeocodeRequestREST constructor cannot be called as a function.");if(!e)throw new Error(_.getMessage("PARAM_EMPTY","options"));this.settings=e}be.prototype={requestString:null,constructor:be,processRequestString:function(){for(var e="",t=new _e(this.settings).getParams(),o=0;o<t.length;o++){var n=t[o];e&&(e+="&"),e+=n.k+"="+n.v}if(!this.settings.geocodeMethod||"search"!==this.settings.geocodeMethod&&"reverse"!==this.settings.geocodeMethod)throw new Error("Error geocodeMethod not valid");return this.requestString="?"+e,this.logger.trace(this.requestString),this.requestString}};var Ae=be,Ce={build:function(e){var t=v.getLogger("GeocodeRequestFactory");t.trace(["GeocodeRequestFactory::build()"]);var o=new Ae(e||{});if(!o.processRequestString())throw new Error("Error process request (rest) !");var n=o.requestString;return t.trace(n),n}};function we(){if(!(this instanceof we))throw new TypeError("GeocodeResponse constructor cannot be called as a function.");this.locations=[]}we.prototype={constructor:we};var Ee=we;function Ie(){if(!(this instanceof Ie))throw new TypeError("GeocodedLocation constructor cannot be called as a function.");this.position=null,this.matchType=null,this.placeAttributes={},this.type=null,this.accuracy=null,this.CLASSNAME="GeocodedLocation"}Ie.prototype={constructor:Ie};var Oe=Ie;function Se(){if(!(this instanceof Se))throw new TypeError("GeocodeResponseParser constructor cannot be called as a function.")}function xe(e,t){var o=new Oe;if(e.geometry&&"Point"===e.geometry.type&&(o.position={lon:e.geometry.coordinates[0],lat:e.geometry.coordinates[1]}),e.properties){for(var n in e.properties)"score"===n?o.accuracy=e.properties[n]:"_type"===n?"address"===e.properties[n]?o.type="StreetAddress":"poi"===e.properties[n]?o.type="PositionOfInterest":"parcel"!==e.properties[n]&&"cadastral"!==e.properties[n]||(o.type="CadastralParcel"):o.placeAttributes[n]=e.properties[n];"address"===e.properties._type&&(o.matchType=void 0!==e.properties.number&&null!==e.properties.number?"street number":"street")}t.locations.push(o)}Se.prototype={constructor:Se,parse:function(e){var t=new Ee,o=JSON.parse(e);if("FeatureCollection"===o.type)for(var n=0;n<o.features.length;++n)xe(o.features[n],t);else{if("Feature"!==o.type){if("SERVICE_ERROR"===o.type)return{exceptionReport:o};var r=_.getMessage("SERVICE_RESPONSE_ANALYSE",o.type);throw new j({message:r,type:j.TYPE_UNKERR,status:200})}xe(o,t)}return t}};var je=Se,Pe={build:function(e){var t=null;if(e.response){if(e.rawResponse)t=e.response;else{try{if(!(t=(new je).parse(e.response)))throw new Error("L'analyse de la rÃ©ponse du service !?")}catch(t){var o=t.message;return"string"==typeof e.response?o+="('"+e.response+"')":o+="('"+e.response.documentElement.innerHTML+"')",void e.onError.call(e.scope,new j({message:_.getMessage("SERVICE_RESPONSE_ANALYSE",o),type:j.TYPE_UNKERR,status:-1}))}if(t.exceptionReport)return void e.onError.call(e.scope,new j({message:_.getMessage("SERVICE_RESPONSE_EXCEPTION",t.exceptionReport),type:j.TYPE_SRVERR,status:200}))}e.onSuccess.call(e.scope,t)}else e.onError.call(e.scope,new j({message:_.getMessage("SERVICE_RESPONSE_EMPTY"),type:j.TYPE_SRVERR,status:-1}))}};function Te(e){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Me(e){if(!(this instanceof Me))throw new TypeError(_.getMessage("CLASS_CONSTRUCTOR","Geocode"));this.CLASSNAME="Geocode",this.logger=v.getLogger("Gp.Services.Geocode"),this.logger.trace("[Constructeur Geocode (options)]");var t=this.patchOptionConvertor(e);if(t.serverUrl||(t.serverUrl=L.Geocode.newUrl()),M.apply(this,[t]),!t.hasOwnProperty("query"))throw new Error(_.getMessage("PARAM_MISSING","query"));if(this.options.query=t.query,t.index||(this.options.index=t.index="StreetAddress"),t.filters)for(var o=Object.keys(t.filters),n=0;n<o.length;n++){var r=o[n];(void 0===t.filters[r]||"object"===Te(t.filters[r])&&0===Object.keys(t.filters[r]).length||"string"==typeof t.filters[r]&&0===t.filters[r].length||Array.isArray(t.filters[r])&&0===t.filters[r].length)&&delete this.options.filters[r]}this.options.index=t.index||"StreetAddress",this.options.maximumResponses=t.maximumResponses||20}Me.prototype=Object.create(M.prototype,{}),Me.prototype.constructor=Me,Me.prototype.patchOptionConvertor=function(e){var t=e;return t.hasOwnProperty("location")&&(this.logger.warn("The parameter 'location' is deprecated"),t.query||(t.query=t.location),delete t.location),t.filterOptions&&(this.logger.warn("The parameter 'filterOptions' is deprecated"),t.filters||(t.filters=t.filterOptions,t.filters.type&&(this.logger.warn("The parameter 'filterOptions.type' is deprecated"),t.index||(Array.isArray(t.filters.type)&&t.filters.type.length>0?t.index=t.filters.type[0]:t.index=t.filters.type),delete t.filters.type),t.filters.bbox&&(this.logger.warn("The parameter 'filterOptions.bbox' is deprecated"),delete t.filters.bbox)),delete t.filterOptions),t.position&&(t.position.x&&(this.logger.warn("The parameter 'position.x' is deprecated"),t.position.lon||(t.position.lon=t.position.x),delete t.position.x),t.position.y&&(this.logger.warn("The parameter 'position.y' is deprecated"),t.position.lat||(t.position.lat=t.position.y),delete t.position.y)),t.returnFreeForm&&(this.logger.warn("The parameter 'returnFreeForm' is deprecated"),delete t.returnFreeForm),t.srs&&(this.logger.warn("The parameter 'srs' is deprecated"),delete t.srs),t},Me.prototype.buildRequest=function(e,t){var o={httpMethod:this.options.httpMethod,geocodeMethod:"search",query:this.options.query,index:this.options.index,returnTrueGeometry:this.options.returnTrueGeometry,position:this.options.position,maxResp:this.options.maximumResponses,filters:this.options.filters};this.request=Ce.build(o),this.request?t.call(this,this.request):e.call(this,new j(_.getMessage("SERVICE_REQUEST_BUILD")))},Me.prototype.analyzeResponse=function(e,t){if(this.response){var o={response:this.response,rawResponse:this.options.rawResponse,onError:e,onSuccess:t,scope:this};Pe.build(o)}else e.call(this,new j(_.getMessage("SERVICE_RESPONSE_EMPTY")))};var Re=Me;function Le(e){return(Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ke(e){if(!(this instanceof ke))throw new TypeError(_.getMessage("CLASS_CONSTRUCTOR","ReverseGeocode"));this.CLASSNAME="ReverseGeocode",this.logger=v.getLogger("Gp.Services.ReverseGeocode"),this.logger.trace("[Constructeur ReverseGeocode (options)]");var t=this.patchOptionConvertor(e);if(t.serverUrl||(t.serverUrl=L.ReverseGeocode.newUrl()),M.apply(this,[t]),t.searchGeometry)this.options.searchGeometry=t.searchGeometry;else if(!t.position)throw new Error(_.getMessage("PARAM_MISSING","searchGeometry"));if(t.index||(this.options.index=t.index="StreetAddress"),t.filters)for(var o=Object.keys(t.filters),n=0;n<o.length;n++){var r=o[n];(void 0===t.filters[r]||"object"===Le(t.filters[r])&&0===Object.keys(t.filters[r]).length||"string"==typeof t.filters[r]&&0===t.filters[r].length||Array.isArray(t.filters[r])&&0===t.filters[r].length)&&delete this.options.filters[r]}this.options.position=t.position,this.options.index=t.index||"StreetAddress",this.options.maximumResponses=t.maximumResponses||20}ke.prototype=Object.create(M.prototype,{}),ke.prototype.constructor=ke,ke.prototype.patchOptionConvertor=function(e){var t=e;return t.filterOptions&&(this.logger.warn("The parameter 'filterOptions' is deprecated"),t.filterOptions.type&&(this.logger.warn("The parameter 'filterOptions.type' is deprecated"),t.index||(Array.isArray(t.filterOptions.type)&&t.filterOptions.type.length>0?t.index=t.filterOptions.type[0]:t.index=t.filterOptions.type),delete t.filterOptions.type),t.filterOptions.bbox&&(this.logger.warn("The parameter 'filterOptions.bbox' is deprecated"),t.searchGeometry||(t.searchGeometry=this.bbox2Json(t.filterOptions.bbox)),delete t.filterOptions.bbox),t.filterOptions.circle&&(this.logger.warn("The parameter 'filterOptions.circle' is deprecated"),t.searchGeometry||(t.searchGeometry=this.circle2Json(t.filterOptions.circle)),delete t.filterOptions.circle),t.filterOptions.polygon&&(this.logger.warn("The parameter 'filterOptions.polygon' is deprecated"),t.searchGeometry||(t.searchGeometry=this.polygon2Json(t.filterOptions.polygon)),delete t.filterOptions.polygon),!t.filters&&Object.keys(t.filterOptions).length>0&&(t.filters=t.filterOptions),delete t.filterOptions),t.position&&(t.position.x&&(this.logger.warn("The parameter 'position.x' is deprecated"),t.position.lon||(t.position.lon=t.position.x),delete t.position.x),t.position.y&&(this.logger.warn("The parameter 'position.y' is deprecated"),t.position.lat||(t.position.lat=t.position.y),delete t.position.y)),t.srs&&(this.logger.warn("The parameter 'srs' is deprecated"),delete t.srs),t},ke.prototype.buildRequest=function(e,t){var o={httpMethod:this.options.httpMethod,geocodeMethod:"reverse",searchGeometry:this.options.searchGeometry,index:this.options.index,position:this.options.position,returnTrueGeometry:this.options.returnTrueGeometry,maxResp:this.options.maximumResponses,filters:this.options.filters};this.request=Ce.build(o),this.request?t.call(this,this.request):e.call(this,new j(_.getMessage("SERVICE_REQUEST_BUILD")))},ke.prototype.analyzeResponse=function(e,t){if(this.response){var o={response:this.response,rawResponse:this.options.rawResponse,onError:e,onSuccess:t,scope:this};Pe.build(o)}else e.call(this,new j(_.getMessage("SERVICE_RESPONSE_EMPTY")))},ke.prototype.bbox2Json=function(e){return{type:"Polygon",coordinates:[[[e.left,e.top],[e.right,e.top],[e.right,e.bottom],[e.left,e.bottom],[e.left,e.top]]]}},ke.prototype.circle2Json=function(e){return{type:"Circle",radius:e.radius,coordinates:[e.x,e.y]}},ke.prototype.polygon2Json=function(e){for(var t={type:"Polygon",coordinates:[[]]},o=0;o<e.length;++o)t.coordinates[0].push([e[o].x,e[o].y]);return t},ke.geoEPSG=["EPSG:4326"];var Ge=ke;function De(){if(!(this instanceof De))throw new TypeError("AutoCompleteResponse constructor cannot be called as a function.");this.suggestedLocations=[]}De.prototype={constructor:De};var Ne=De;function Fe(){if(!(this instanceof Fe))throw new TypeError("SuggestedLocation constructor cannot be called as a function.");this.type=null,this.position={x:null,y:null},this.commune=null,this.fullText=null,this.postalCode=null,this.classification=null,this.street=null,this.poi=null,this.kind=null}Fe.prototype={constructor:Fe};var Ue=Fe,Be={build:function(e){var t=v.getLogger("AutoCompleteResponseFactory");t.trace(["AutoCompleteResponseFactory::build()"]);var o=null;if(e.response){if(e.rawResponse)t.trace("analyze response : raw"),o=e.response;else{var n=null;if(n="string"==typeof e.response?JSON.parse(e.response):e.response){if(n.error)return void e.onError.call(e.scope,new j({message:_.getMessage("SERVICE_RESPONSE_EXCEPTION",n.error.description),status:n.error.code,type:j.TYPE_SRVERR}));if(o=new Ne,!n.results||!Array.isArray(n.results))return void e.onError.call(e.scope,new j(_.getMessage("SERVICE_RESPONSE_FORMAT_3")));for(var r=null,i=0;i<n.results.length;i++){var a=n.results[i];r=new Ue,a&&("StreetAddress"===a.country?(r.street=a.street,r.type="StreetAddress"):"PositionOfInterest"===a.country&&(r.poi=a.street,r.type="PositionOfInterest",r.poiType=a.poiType),r.position&&(r.position.x=a.x,r.position.y=a.y),r.kind=a.kind,r.commune=a.city,r.fullText=a.fulltext,r.postalCode=a.zipcode,r.classification=a.classification),o.suggestedLocations.push(r)}if(!o.suggestedLocations.length)return void e.onError.call(e.scope,new j(_.getMessage("SERVICE_RESPONSE_FORMAT_3")))}if(!o)return void e.onError.call(e.scope,new j({message:_.getMessage("SERVICE_RESPONSE_ANALYSE_2"),type:j.TYPE_UNKERR,status:-1}));if(o.exceptionReport)return void e.onError.call(e.scope,new j({message:_.getMessage("SERVICE_RESPONSE_EXCEPTION",o.exceptionReport),type:j.TYPE_SRVERR,status:200}))}e.onSuccess.call(e.scope,o)}else e.onError.call(e.scope,new j(_.getMessage("SERVICE_RESPONSE_EMPTY")))}};function ze(e){if(!(this instanceof ze))throw new TypeError(_.getMessage("CLASS_CONSTRUCTOR","AutoComplete"));this.CLASSNAME="AutoComplete",this.logger=v.getLogger("Gp.Services.AutoComplete"),this.logger.trace("[Constructeur AutoComplete (options)]");var t=this.patchOptionConvertor(e);if(t.serverUrl||(t.serverUrl=L.AutoComplete.newUrl()),M.apply(this,arguments),!t.text)throw new Error(_.getMessage("PARAM_MISSING","text"));this.options.text=t.text,t.type||(t.type=["StreetAddress,PositionOfInterest"]),this.options.type=t.type,this.options.territory=t.terr||"",this.options.maximumResponses=t.maximumResponses||10,"XHR"===this.options.protocol&&"POST"===this.options.httpMethod&&(this.logger.warn("Le service ne gÃ©re pas le mode d'interrogation en POST, on bascule sur du GET !"),this.options.httpMethod="GET"),this.options.outputFormat=this.options.rawResponse?"":"json"}ze.prototype=Object.create(M.prototype,{}),ze.prototype.constructor=ze,ze.prototype.patchOptionConvertor=function(e){var t=e;return t.filterOptions&&(this.logger.warn("The parameter 'filterOptions' is deprecated"),t.filterOptions.type&&(this.logger.warn("The parameter 'filterOptions.type' is deprecated"),t.type||(t.type=t.filterOptions.type)),t.filterOptions.territory&&(this.logger.warn("The parameter 'filterOptions.territory' is deprecated"),t.terr||(t.terr=t.filterOptions.territory)),delete t.filterOptions),t},ze.prototype.buildRequest=function(e,t){var o="";this.options.territory&&(o=this.options.territory);var n="";this.options.type&&(n=this.options.type.join(",")),this.request=b.normalyzeParameters({text:encodeURIComponent(this.options.text),type:n,terr:o,maximumResponses:this.options.maximumResponses}),this.request?t.call(this,this.request):e.call(this,new j(_.getMessage("SERVICE_REQUEST_BUILD")))},ze.prototype.analyzeResponse=function(e,t){if(this.response){var o={response:this.response,rawResponse:this.options.rawResponse,onSuccess:t,onError:e,scope:this};Be.build(o)}else e.call(this,new j(_.getMessage("SERVICE_RESPONSE_EMPTY")))};var Ve=ze;function We(e){if(!(this instanceof We))throw new TypeError("RouteParamREST constructor cannot be called as a function.");this.logger=v.getLogger(),this.logger.trace("[Constructeur RouteParamREST ()]"),this.options=e||{},this.resource=this.options.resource,this.start=this.options.startPoint.x+","+this.options.startPoint.y,this.end=this.options.endPoint.x+","+this.options.endPoint.y,this.intermediates=this.options.viaPoints,this.profile=this.options.graph,this.crs=this.options.srs,this.constraints=this.options.constraints,this.optimization=this.options.routePreference,this.getSteps=this.options.geometryInInstructions?"true":"false",this.distanceUnit=this.options.distanceUnit,this.timeUnit=this.options.timeUnit,this.waysAttributes=this.options.waysAttributes}We.CLASSNAME="RouteParamREST",We.prototype={constructor:We,getIntermediates:function(){var e=[];if(0!==this.intermediates.length)for(var t=0;t<this.intermediates.length;t++){var o=this.intermediates[t];e.push(o.x+","+o.y)}return e.join("|")},getWaysAttributes:function(){return this.waysAttributes.join("|")},getProfile:function(){return this.profile},getDistanceUnit:function(){return"m"===this.distanceUnit?"meter":"km"===this.distanceUnit?"kilometer":""},getOptimization:function(){return this.optimization?this.optimization:""},getConstraints:function(){var e=[];if(0!==this.constraints.length)for(var t=0;t<this.constraints.length;t++)e.push(JSON.stringify(this.constraints[t]));return e.join("|")}},We.prototype.getParams=function(){var e=[];return e.push({k:"resource",v:this.resource}),e.push({k:"start",v:this.start}),e.push({k:"end",v:this.end}),e.push({k:"geometryFormat",v:"geojson"}),this.optimization&&e.push({k:"optimization",v:this.getOptimization()}),this.intermediates&&e.push({k:"intermediates",v:this.getIntermediates()}),this.profile&&e.push({k:"profile",v:this.getProfile()}),this.constraints&&e.push({k:"constraints",v:this.getConstraints()}),this.crs&&e.push({k:"crs",v:this.crs}),this.distanceUnit&&e.push({k:"distanceUnit",v:this.getDistanceUnit()}),this.timeUnit&&e.push({k:"timeUnit",v:this.timeUnit}),this.waysAttributes&&e.push({k:"waysAttributes",v:this.getWaysAttributes()}),e};var qe=We;function Ye(e){if(this.logger=v.getLogger("RouteRequestREST"),this.logger.trace("[Constructeur RouteRequestREST ()]"),!(this instanceof Ye))throw new TypeError("RouteRequestREST constructor cannot be called as a function.");if(!e)throw new Error(_.getMessage("PARAM_EMPTY","options"));this.settings=e}Ye.prototype={requestString:null,constructor:Ye,processRequestString:function(){this.logger.warn(" PROTOTYPE !");for(var e=new qe(this.settings).getParams(),t="",o=0;o<e.length;o++){var n=e[o];t&&(t+="&"),t+=n.k+"="+n.v}return this.logger.trace(t),this.requestString=t,this.requestString}};var He=Ye,Xe={build:function(e){v.getLogger("RouteRequestFactory").trace(["RouteRequestFactory::build()"]);var t=e||{},o=!(null===e.onError||"function"!=typeof e.onError),n=null,r=new He(t);if(!r.processRequestString()){if(n="Error process request (rest) !",o)return void e.onError.call(e.scope,new j(n));throw new Error(n)}return r.requestString}};function Ze(){if(!(this instanceof Ze))throw new TypeError("RouteResponse constructor cannot be called as a function.");this.totalTime=null,this.totalDistance=null,this.bbox={left:null,right:null,top:null,bottom:null},this.routeGeometry=null,this.routeInstructions=[]}Ze.prototype={constructor:Ze};var Ke=Ze;function Je(){if(!(this instanceof Je))throw new TypeError("RouteInstruction constructor cannot be called as a function.");this.duration=null,this.distance=null,this.code=null,this.instruction=null,this.geometry=null}Je.prototype={constructor:Je};var Qe=Je,$e={build:function(e){var t=v.getLogger("RouteResponseFactory");t.trace("RouteResponseFactory::build()");var o=null;if(e.response){if(e.rawResponse)t.trace("analyze response : raw"),o=e.response;else{var n;if(t.trace("analyze response : json"),n="string"==typeof e.response?JSON.parse(e.response):e.response){if(n.message)return void e.onError.call(e.scope,new j(_.getMessage("SERVICE_RESPONSE_EXCEPTION",n.message)));var r=[],i=[],a=[];if((o=new Ke).hasOwnProperty("totalTime")&&(o.totalTime=parseFloat(n.duration)),o.hasOwnProperty("totalDistance")&&(o.totalDistance=parseFloat(n.distance)),o.hasOwnProperty("bbox")&&(o.bbox.left=parseFloat(n.bbox[0]),o.bbox.bottom=parseFloat(n.bbox[1]),o.bbox.right=parseFloat(n.bbox[2]),o.bbox.top=parseFloat(n.bbox[3])),o.hasOwnProperty("routeGeometry")&&!e.geometryInInstructions&&(o.routeGeometry=n.geometry),o.hasOwnProperty("routeInstructions")&&e.geometryInInstructions){var s,l=n.portions;if(Array.isArray(l)&&l.length)for(s=0;s<l.length;s++)r.push(l[s]);if(r.length)for(s=0;s<r.length;s++)i.push(r[s].steps);if(i.length)for(s=0;s<i.length;s++)a=a.concat(i[s]);a.forEach((function(e){switch(o.routeInstructions.push(new Qe),o.routeInstructions[o.routeInstructions.length-1].duration=e.duration,o.routeInstructions[o.routeInstructions.length-1].distance=e.distance,o.routeInstructions[o.routeInstructions.length-1].code="",o.routeInstructions[o.routeInstructions.length-1].instruction="",o.routeInstructions[o.routeInstructions.length-1].geometry=e.geometry,"Valeur non renseignÃ©e"===e.name&&(e.name=""),e.instruction.type){case"turn":o.routeInstructions[o.routeInstructions.length-1].instruction+="Tourner";break;case"new name":o.routeInstructions[o.routeInstructions.length-1].instruction+="Continuer tout droit";break;case"depart":o.routeInstructions[o.routeInstructions.length-1].instruction+="DÃ©part";break;case"arrive":o.routeInstructions[o.routeInstructions.length-1].instruction+="ArrivÃ©e";break;case"merge":o.routeInstructions[o.routeInstructions.length-1].instruction+="Rejoindre";break;case"ramp":case"on ramp":o.routeInstructions[o.routeInstructions.length-1].instruction+="Prendre la bretelle";break;case"off ramp":o.routeInstructions[o.routeInstructions.length-1].instruction+="Prendre la sortie";break;case"fork":o.routeInstructions[o.routeInstructions.length-1].instruction+="Sur la bifurcation, prendre";break;case"end of road":o.routeInstructions[o.routeInstructions.length-1].instruction+="Ã la fin de la route, prendre";break;case"use lane":o.routeInstructions[o.routeInstructions.length-1].instruction+="Utiliser la file";break;case"continue":o.routeInstructions[o.routeInstructions.length-1].instruction+="Continuer";break;case"roundabout":case"rotary":o.routeInstructions[o.routeInstructions.length-1].instruction+="Au rond-point";break;case"roundabout turn":o.routeInstructions[o.routeInstructions.length-1].instruction+="Au rond point, tourner";break;case"notification":o.routeInstructions[o.routeInstructions.length-1].instruction+="";break;default:o.routeInstructions[o.routeInstructions.length-1].instruction+="?"+e.instruction.type+"?"}if(e.instruction.modifier)switch(e.instruction.modifier){case"uturn":o.routeInstructions[o.routeInstructions.length-1].instruction="Faire demi-tour";break;case"sharp right":o.routeInstructions[o.routeInstructions.length-1].instruction+=" complÃ¨tement Ã  droite";break;case"right":o.routeInstructions[o.routeInstructions.length-1].instruction+=" Ã  droite";break;case"slight right":o.routeInstructions[o.routeInstructions.length-1].instruction+=" lÃ©gÃ¨rement Ã  droite";break;case"straight":o.routeInstructions[o.routeInstructions.length-1].instruction="Continuer tout droit";break;case"slight left":o.routeInstructions[o.routeInstructions.length-1].instruction+=" lÃ¨gÃ¨rement Ã  gauche";break;case"left":o.routeInstructions[o.routeInstructions.length-1].instruction+=" Ã  gauche";break;case"sharp left":o.routeInstructions[o.routeInstructions.length-1].instruction+=" complÃ¨tement Ã  gauche";break;default:o.routeInstructions[o.routeInstructions.length-1].instruction+=" ?"+e.instruction.modifier+"?"}e.instruction.exit&&(o.routeInstructions[o.routeInstructions.length-1].instruction+="".concat(e.instruction.exit,"e sortie")),e.attributes.name&&((e.attributes.name.nom_1_droite||e.attributes.name.toponyme)&&(o.routeInstructions[o.routeInstructions.length-1].instruction+=" sur"),e.attributes.name.nom_1_droite&&(o.routeInstructions[o.routeInstructions.length-1].instruction+=" ".concat(e.attributes.name.nom_1_droite)),e.attributes.name.toponyme&&(o.routeInstructions[o.routeInstructions.length-1].instruction+=" ".concat(e.attributes.name.toponyme)))}))}}if(!o)return void e.onError.call(e.scope,new j(_.getMessage("SERVICE_RESPONSE_ANALYSE","json")));if(o.exceptionReport)return void e.onError.call(e.scope,new j(_.getMessage("SERVICE_RESPONSE_EXCEPTION_2")))}e.onSuccess.call(e.scope,o)}else e.onError.call(e.scope,new j(_.getMessage("SERVICE_RESPONSE_EMPTY")))}};function et(e){if(!(this instanceof et))throw new TypeError(_.getMessage("CLASS_CONSTRUCTOR","Route"));if(this.CLASSNAME="Route",M.apply(this,arguments),this.logger=v.getLogger("Gp.Services.Route"),this.logger.trace("[Constructeur Route (options)]"),!e.startPoint)throw new Error(_.getMessage("PARAM_MISSING","startPoint"));if(null===e.startPoint.x)throw new Error(_.getMessage("PARAM_MISSING","startPoint.x"));if(null===e.startPoint.y)throw new Error(_.getMessage("PARAM_MISSING","startPoint.y"));if(!e.endPoint)throw new Error(_.getMessage("PARAM_MISSING","endPoint"));if(null===e.endPoint.x)throw new Error(_.getMessage("PARAM_MISSING","endPoint.x"));if(null===e.endPoint.y)throw new Error(_.getMessage("PARAM_MISSING","endPoint.y"));if(e.outputFormat&&"json"!==e.outputFormat&&this.logger.warn("options.outputFormat could only be json"),this.options.outputFormat="json",this.options.resource=e.resource||"bdtopo-osrm",this.options.startPoint=e.startPoint,this.options.endPoint=e.endPoint,this.options.viaPoints=e.viaPoints||[],this.options.routePreference=e.routePreference||"fastest",e.graph?("Voiture"===e.graph&&(this.options.graph="car"),"Pieton"===e.graph&&(this.options.graph="pedestrian")):this.options.graph="car",this.options.constraints=[],e.constraints){if(!Array.isArray(e.constraints))throw new Error(_.getMessage("PARAM_TYPE","constraints"));for(var t=0;t<e.constraints.length;t++)this.options.constraints.push(e.constraints[t])}var o={},n={},r={};if(e.exclusions&&0!==e.exclusions.length){this.logger.warn("options.exclusions is DEPRECATED !!");for(var i=0;i<e.exclusions.length;i++)"string"==typeof e.exclusions[i]&&(e.exclusions[i]=e.exclusions[i].toLowerCase(),"toll"===e.exclusions[i]&&(r.constraintType="banned",r.key="wayType",r.operator="=",r.value="autoroute",this.options.constraints.push(r)),"tunnel"===e.exclusions[i]&&(o.constraintType="banned",o.key="wayType",o.operator="=",o.value="tunnel",this.options.constraints.push(o)),"bridge"===e.exclusions[i]&&(n.constraintType="banned",n.key="wayType",n.operator="=",n.value="pont",this.options.constraints.push(n)))}if(this.options.geometryInInstructions=e.geometryInInstructions||!1,this.options.provideBbox=e.provideBbox||!0,this.options.distanceUnit=e.distanceUnit||"m",this.options.timeUnit=e.timeUnit||"second",this.options.expectedStartTime=null,this.options.srs=e.srs||"EPSG:4326",this.options.waysAttributes=e.waysAttributes||[],!this.options.serverUrl){var a=L.Route.newUrl();if(!a)throw new Error("Url by default not found !");this.options.serverUrl=a,this.logger.trace("Serveur URL par defaut : "+this.options.serverUrl)}}et.prototype=Object.create(M.prototype,{}),et.prototype.constructor=et,et.prototype.buildRequest=function(e,t){var o={resource:this.options.resource,startPoint:this.options.startPoint,endPoint:this.options.endPoint,viaPoints:this.options.viaPoints,provideBbox:this.options.provideBbox,constraints:this.options.constraints,distanceUnit:this.options.distanceUnit,timeUnit:this.options.timeUnit,graph:this.options.graph,geometryInInstructions:this.options.geometryInInstructions,routePreference:this.options.routePreference,srs:this.options.srs,waysAttributes:this.options.waysAttributes};this.request=Xe.build(o),this.request?t.call(this,this.request):e.call(this,new j(_.getMessage("SERVICE_REQUEST_BUILD")))},et.prototype.analyzeResponse=function(e,t){if(this.response){var o={distanceUnit:this.options.distanceUnit,timeUnit:this.options.timeUnit,response:this.response,outputFormat:this.options.outputFormat,rawResponse:this.options.rawResponse,onError:e,onSuccess:t,scope:this,geometryInInstructions:this.options.geometryInInstructions};$e.build(o)}else e.call(this,new j(_.getMessage("SERVICE_RESPONSE_EMPTY")))};var tt=et;function ot(e){if(!(this instanceof ot))throw new TypeError("ProcessIsoCurveParam constructor cannot be called as a function.");this.logger=v.getLogger(),this.logger.trace("[Constructeur ProcessIsoCurveParam ()]"),this.options=e||{},this.id=this.options.id,this.resource=this.options.resource,this.point=this.options.position,this.crs=this.options.srs,this.profile=this.options.graph,this.constraints=this.options.constraints,this.reverse=this.options.reverse,this.timeUnit=this.options.timeUnit,this.distanceUnit=this.options.distanceUnit,"distance"===this.options.method?(this.costType="distance",this.costValue=this.options.distance,"m"===this.distanceUnit&&this.costValue>=5e4&&(this.distanceUnit="km",this.costValue/=1e3)):(this.costType="time",this.costValue=this.options.time)}ot.CLASSNAME="ProcessIsoCurveParam",ot.prototype={constructor:ot,getLocation:function(){return this.point.x+","+this.point.y},getDistanceUnit:function(){return"m"===this.distanceUnit?"meter":"km"===this.distanceUnit?"kilometer":""},getConstraints:function(){var e=[];if(0!==this.constraints.length)for(var t=0;t<this.constraints.length;t++)e.push(JSON.stringify(this.constraints[t]));return e.join("|")},getDirection:function(){return this.reverse?"arrival":"departure"}},ot.prototype.getParams=function(){var e=[];return e.push({k:"resource",v:this.resource}),e.push({k:"point",v:this.getLocation()}),e.push({k:"direction",v:this.getDirection()}),e.push({k:"costType",v:this.costType}),e.push({k:"costValue",v:this.costValue}),e.push({k:"profile",v:this.profile}),e.push({k:"timeUnit",v:this.timeUnit}),e.push({k:"distanceUnit",v:this.getDistanceUnit()}),this.crs&&e.push({k:"crs",v:this.crs}),this.constraints&&e.push({k:"constraints",v:this.getConstraints()}),e};var nt=ot;function rt(e){if(this.logger=v.getLogger("ProcessIsoCurveRequest"),this.logger.trace("[Constructeur ProcessIsoCurveRequest ()]"),!(this instanceof rt))throw new TypeError("ProcessIsoCurveRequest constructor cannot be called as a function.");if(!e)throw new Error(_.getMessage("PARAM_EMPTY","options"));this.settings=e,this.mode=this.settings.httpMethod||"GET"}rt.prototype={requestString:null,constructor:rt,processRequestString:function(){var e="",t=0;switch(this.mode){case"GET":this.logger.trace("Process GET Request");var o=new nt(this.settings).getParams();for(t=0;t<o.length;t++){var n=o[t];e&&(e+="&"),e+=n.k+"="+n.v}break;case"POST":this.logger.trace("Process POST Request");var r={};r.resource=this.settings.resource,r.point=this.settings.position.x+","+this.settings.position.y,"distance"===this.settings.method?(r.costType="distance",r.costValue=this.settings.distance):(r.costType="time",r.costValue=this.settings.time),r.profile=this.settings.graph,this.settings.reverse?r.direction="arrival":r.direction="departure",r.constraints=this.settings.constraints,r.distanceUnit=this.settings.distanceUnit,r.timeUnit=this.settings.timeUnit,r.crs=this.settings.srs,e=JSON.stringify(r);break;default:this.logger.error("No other HTTP method supported by the service !")}return this.logger.trace(e),this.requestString=e,this.requestString}};var it=rt;function at(){if(!(this instanceof at))throw new TypeError("ProcessIsoCurveResponse constructor cannot be called as a function.");this.message=null,this.id=null,this.location={},this.location.x=null,this.location.y=null,this.srs=null,this.geometry=null,this.time=null,this.distance=null}at.prototype={constructor:at};var st=at,lt={build:function(e){var t=v.getLogger("ProcessIsoCurveResponseFactory");t.trace(["ProcessIsoCurveResponseFactory::build()"]);var o=null;if(e.response){if(e.rawResponse)t.trace("analyze response : raw"),o=e.response;else{var n;if(t.trace("analyze response : json"),n="string"==typeof e.response?JSON.parse(e.response):e.response,o=new st,!n)return void e.onError.call(e.scope,new j(_.getMessage("SERVICE_RESPONSE_ANALYSE",e.response)));"distance"===n.costType?(o.time="",o.distance=n.costValue):(o.time=n.costValue,o.distance=""),o.message="",o.id="",o.srs=n.crs,o.geometry=n.geometry;var r=n.point.split(",");if(o.location&&(o.location.x=r[0],o.location.y=r[1]),o.exceptionReport)return void e.onError.call(e.scope,new j({message:_.getMessage("SERVICE_RESPONSE_EXCEPTION",o.exceptionReport),type:j.TYPE_SRVERR,status:200}))}e.onSuccess.call(e.scope,o)}else e.onError.call(e.scope,new j(_.getMessage("SERVICE_RESPONSE_EMPTY")))}};function ct(e){if(!(this instanceof ct))throw new TypeError(_.getMessage("CLASS_CONSTRUCTOR","ProcessIsoCurve"));if(this.CLASSNAME="ProcessIsoCurve",M.apply(this,arguments),this.logger=v.getLogger("Gp.Services.ProcessIsoCurve"),this.logger.trace("[Constructeur ProcessIsoCurve (options)]"),!e.position)throw new Error(_.getMessage("PARAM_MISSING","position"));if(null===e.position.x)throw new Error(_.getMessage("PARAM_MISSING","position.x"));if(null===e.position.y)throw new Error(_.getMessage("PARAM_MISSING","position.y"));if(!e.time&&!e.distance)throw new Error("Parameter (s) 'distance' missing. Parameter time to calculate an isochrone, parameter distance for an isodistance");if(!e.time&&e.distance&&(this.options.method="distance",this.options.time&&delete this.options.time),e.time&&!e.distance&&(this.options.method="time",this.options.distance&&delete this.options.distance),this.options.method=this.options.method||"time",this.options.resource=e.resource||"bdtopo-valhalla",this.options.exclusions=e.exclusions||[],this.options.reverse=e.reverse||!1,this.options.srs=e.srs||"EPSG:4326",this.options.distanceUnit=e.distanceUnit||"m",this.options.timeUnit=e.timeUnit||"second",e.smoothing&&this.logger.warn("options.smoothing is DEPRECATED"),this.options.smoothing=!1,e.holes&&this.logger.warn("options.holes is DEPRECATED"),this.options.holes=!1,e.graph?("Voiture"===e.graph&&(this.options.graph="car"),"Pieton"===e.graph&&(this.options.graph="pedestrian")):this.options.graph="car",this.options.constraints=[],e.constraints){if(!Array.isArray(e.constraints))throw new Error(_.getMessage("PARAM_TYPE","constraints"));for(var t=0;t<e.constraints.length;t++)this.options.constraints.push(e.constraints[t])}var o={},n={},r={};if(e.exclusions&&0!==e.exclusions.length){this.logger.warn("options.exclusions is DEPRECATED !!");for(var i=0;i<e.exclusions.length;i++)"string"==typeof e.exclusions[i]&&(e.exclusions[i]=e.exclusions[i].toLowerCase(),"toll"===e.exclusions[i]&&(r.constraintType="banned",r.key="wayType",r.operator="=",r.value="autoroute",this.options.constraints.push(r)),"tunnel"===e.exclusions[i]&&(o.constraintType="banned",o.key="wayType",o.operator="=",o.value="tunnel",this.options.constraints.push(o)),"bridge"===e.exclusions[i]&&(n.constraintType="banned",n.key="wayType",n.operator="=",n.value="pont",this.options.constraints.push(n)))}if(this.options.outputFormat="string"==typeof e.outputFormat?e.outputFormat.toLowerCase():"json",e.outputFormat&&"json"!==e.outputFormat)throw new Error(_.getMessage("PARAM_NOT_SUPPORT","outputFormat"));if(this.options.outputFormat="json",!this.options.serverUrl){var a=L.ProcessIsoCurve.newUrl();if(!a)throw new Error("Url by default not found !");this.options.serverUrl=a,this.logger.trace("Serveur URL par defaut : "+this.options.serverUrl)}}ct.prototype=Object.create(M.prototype,{}),ct.prototype.constructor=ct,ct.prototype.buildRequest=function(e,t){try{var o=new it(this.options);if(!o.processRequestString())throw new Error(_.getMessage("SERVICE_REQUEST_BUILD"));this.request=o.requestString}catch(t){return void e.call(this,new j(t.message))}t.call(this,this.request)},ct.prototype.analyzeResponse=function(e,t){if(this.response){var o={response:this.response,outputFormat:this.options.outputFormat,rawResponse:this.options.rawResponse,onSuccess:t,onError:e,scope:this};lt.build(o)}else e.call(this,new j(_.getMessage("SERVICE_RESPONSE_EMPTY")))};var ut=ct,dt={getConfig:function(e){new W(e).call()},getAltitude:function(e){new ye(e).call()},geocode:function(e){new Re(e).call()},reverseGeocode:function(e){new Ge(e).call()},autoComplete:function(e){new Ve(e).call()},route:function(e){new tt(e).call()},isoCurve:function(e){new ut(e).call()}},ht=P.version,pt=P.date,ft={};ft.servicesVersion=ht,ft.servicesDate=pt,ft.Protocols={},ft.Protocols.XHR=I,ft.Services=dt,ft.Services.DefaultUrl=L,ft.Services.AltiResponse=se,ft.Services.Alti={},ft.Services.Alti.Elevation=ce,ft.Services.AutoCompleteResponse=Ne,ft.Services.AutoComplete={},ft.Services.AutoComplete.SuggestedLocation=Ue,ft.Services.Config=W,ft.Services.IsoCurveResponse=st,ft.Services.RouteResponse=Ke,ft.Services.Route={},ft.Services.Route.RouteInstruction=Qe,ft.Error=j,ft.Helper=b;var gt=ft,mt={getLogger:function(e){if(void 0===t)var t={env:{VERBOSE:!1}};t.env.VERBOSE?r.enableAll():r.disableAll();var o=e||"default";return r.getLogger(o)},disableAll:function(){var e=r.getLoggers();for(var t in e){if(Object.hasOwnProperty.call(e,t))e[t].disableAll()}},enableAll:function(){var e=r.getLoggers();for(var t in e){if(Object.hasOwnProperty.call(e,t))e[t].enableAll()}}},yt={proxifyUrl:function(e,t){var o=mt.getLogger("proxifyUrl");if(!t||!t.hasOwnProperty("proxyUrl")||null===t.proxyUrl||0===t.proxyUrl.trim().length)return e;if(t.noProxyDomains&&Array.isArray(t.noProxyDomains)&&t.noProxyDomains.length>0)for(var n in t.noProxyDomains)if(o.trace("[ProxyUtils] proxifyUrl : analyzing "+t.noProxyDomains[n]),-1!==e.indexOf(t.noProxyDomains[n]))return o.info("[ProxyUtils] proxifyUrl : "+e+" found in noProxyDomains list ("+t.noProxyDomains[n]+")."),e;return t.proxyUrl+encodeURIComponent(e)}};function vt(e){return(vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var _t=mt.getLogger("GfiUtils"),bt={getLayerFormat:function(e){var t="function"==typeof e.getType?e.getType():null,o=e.getSource();if(t){if("VECTOR"===t||"VECTOR_TILE"===t)return"vector";if("TILE"===t)return o.tileGrid?"wmts":"wms";if("IMAGE"===t)return"wms"}else{if(o instanceof h.a||o instanceof f.a)return"wms";if(o instanceof p.a)return"wmts";if(o instanceof d.b||o instanceof u.a)return"vector"}return"unknown"},displayInfo:function(e,t,n,r,i){if(_t.trace("[GfiUtils] : displayInfo..."),r||(r="text/html"),null!==n){var a=null,s=n;s=(s=s.replace(/\n/g,"")).replace(/(>)\s*(<)/g,"$1$2");var l="undefined"!=typeof window?window:null;if("object"===("undefined"==typeof exports?"undefined":vt(exports))&&null===window)a=(new(0,o("xmldom").DOMParser)).parseFromString(s,r);else if(l.DOMParser)a=(new l.DOMParser).parseFromString(s,r);else{if(!l.ActiveXObject)return _t.log("Incompatible environment for DOM Parser !"),!1;(a=new l.ActiveXObject("Microsoft.XMLDOM")).async=!1,a.loadXML(s)}var u=a.getElementsByTagName("body");if(u&&1===u.length&&!u[0].hasChildNodes())return!1;var d=document.createElement("div");d.className="gp-feature-info-div";var h=document.createElement("input");h.type="button",h.className="gp-styling-button closer",h.onclick=function(){return e.featuresOverlay&&(e.removeOverlay(e.featuresOverlay),e.featuresOverlay=null),!1};var p=document.createElement("div");return p.className="gp-features-content-div",p.innerHTML=n,d.appendChild(p),d.appendChild(h),e.featuresOverlay&&(e.removeOverlay(e.featuresOverlay),e.featuresOverlay=null),e.featuresOverlay=new c.a({element:d,autoPan:i.autoPan,autoPanAnimation:i.autoPanAnimation,autoPanMargin:i.autoPanMargin,positioning:"bottom-center",insertFirst:!1,stopEvent:!0}),e.addOverlay(e.featuresOverlay),e.featuresOverlay.setPosition(t),e.featuresOverlay.render(),!0}},features2html:function(e,t){var o=document.createElement("div");return t.forEach((function(e){var t=e.getProperties();if(t.hasOwnProperty("render"))o.insertAdjacentHTML("beforeend",t.render);else{if(t.hasOwnProperty("name")){var n=document.createElement("div");n.className="gp-att-name-div",n.insertAdjacentHTML("afterbegin",t.name),o.appendChild(n)}if(t.hasOwnProperty("description")){var r=document.createElement("div");r.className="gp-att-description-div",r.insertAdjacentHTML("afterbegin",t.description),o.appendChild(r)}var i=null,a=!1,s=null,l=null,c=null,u=["fill","fill-opacity","stroke","stroke-opacity","stroke-width","marker-symbol","marker-color","marker-size","geometry","value","name","description","styleUrl","extensionsNode_","icon"];for(i in t)if(void 0!==t[i]&&-1===u.indexOf(i)){a||((s=document.createElement("div")).className="gp-att-others-div",l=document.createElement("ul"),a=!0),c=document.createElement("li");var d=document.createElement("span");d.className="gp-attname-others-span",d.appendChild(document.createTextNode(i+" : ")),c.appendChild(d),c.appendChild(document.createTextNode(t[i])),l.appendChild(c)}l&&(s.appendChild(l),o.appendChild(s))}}),e),o.hasChildNodes()||(o=null),o},layerGetFeatureAtCoordinates:function(e,t,o){var n=e.getPixelFromCoordinate(o);return e.hasFeatureAtPixel(n,(function(e){return e===t}))},displayVectorFeatureInfo:function(e,t,o,n){var r=e.getPixelFromCoordinate(t),i=[];if(e.forEachFeatureAtPixel(r,(function(e,t){(!o||o.indexOf(t)>-1)&&i.push(e)})),0===i.length)return!1;var a=this.features2html(e,i);return null!==a&&(this.displayInfo(e,t,a.innerHTML,"text/html",n),!0)},displayFeatureInfo:function(e,t,o,n,r){for(var i={},a=0;a<o.length;a++){var s=o[a],l=s.obj.getZIndex();i[l]||(i[l]=[]),i[l].push(s)}var c=[],u=Object.keys(i);u.sort((function(e,t){return t-e}));for(var d=0;d<u.length;d++)for(var h=u[d],p=0;p<i[h].length;++p){var f=i[h][p].obj,g=i[h][p].infoFormat||"text/html",m=!0;if(f.minResolution&&f.minResolution>e.getResolution()&&(m=!1),m&&f.maxResolution&&f.maxResolution<e.getResolution()&&(m=!1),f.getVisible()&&m){var y=this.getLayerFormat(f);if("vector"===y){this.layerGetFeatureAtCoordinates(e,f,t)&&c.push({format:y,scope:this,coordinate:t});continue}if("wms"!==y&&"wmts"!==y){_t.log("[ERROR] DisplayFeatureInfo - layer format '"+y+"' not allowed");continue}var v=e.getView().getResolution(),_=null;_="wmts"===y?f.getSource().getFeatureInfoUrl.call(f.getSource(),t,v,e.getView().getProjection(),{INFOFORMAT:g}):f.getSource().getFeatureInfoUrl.call(f.getSource(),t,v,e.getView().getProjection(),{INFO_FORMAT:g}),c.push({format:g,url:yt.proxifyUrl(_,n),scope:this,coordinate:t})}}var b=null;var A=this;!function(e,t,o){if(0!==e.length){var n=0;t(e[0],(function r(i){n++,i||n===e.length?o():t(e[n],r)}))}}(c,(function(t,o){if("vector"===t.format){if(!b){b=[];for(var n=0;n<u.length;n++)for(var a=u[n],s=0;s<i[a].length;++s)b.push(i[a][s].obj)}o(t.scope.displayVectorFeatureInfo(e,t.coordinate,b,r))}else gt.Protocols.XHR.call({url:t.url,method:"GET",scope:t.scope,onResponse:function(n){var i=!1;0!==n.trim().length&&-1===n.indexOf("ServiceExceptionReport")&&-1===n.indexOf("java.lang.NullPointerException")&&-1===n.indexOf("java.lang.OutOfMemoryError")&&-1===n.indexOf("not queryable")||(i=!0);var a=!i&&A.displayInfo(e,t.coordinate,n,"text/html",r);o(a)},onFailure:function(e){_t.log(e),o(!1)}})}),(function(){_t.trace("Finish sync to GFI !")}))},getPosition:function(e,t){if(e.coordinate)return e.coordinate;var o=[0,0];if(e.offsetX||e.offsetY)o[0]=e.offsetX,o[1]=e.offsetY;else if("touch"===e.pointerType){var n=e.pointers[0];o[0]=n.pageX,o[1]=n.pageY}return t.getCoordinateFromPixel(o)},onDisplayFeatureInfo:function(e,t){if(t.isActive()){_t.trace(e);var o=t.getMap();if("contextmenu"===e.type||"dblclick"===e.type)e.preventDefault();else if("singleclick"===e.type)for(var n=o.getInteractions().getArray(),r=0;r<n.length;r++)if(n[r].getActive()&&(n[r]instanceof g.b||n[r]instanceof m.b||n[r]instanceof y.d))return;var i={};t._proxyUrl&&(i.proxyUrl=t._proxyUrl),t._noProxyDomains&&(i.noProxyDomains=t._noProxyDomains);var a={};t._autoPan&&(a.autoPan=t._autoPan),t._autoPanAnimation&&(a.autoPanAnimation=t._autoPanAnimation),t._autoPanMargin&&(a.autoPanMargin=t._autoPanMargin);for(var s=[],l=0;l<t._layers.length;++l){if((t._layers[l].event?t._layers[l].event:t._defaultEvent)===e.type){var c=s.push(t._layers[l])-1;s[c].infoFormat||(s[c].infoFormat=t._defaultInfoFormat)}}var u=this.getPosition(e,o);this.displayFeatureInfo(o,u,s,i,a)}}},At=bt;window.ol&&(window.ol.gp?window.ol.gp.GfiUtils=bt:window.ol.gp={GfiUtils:bt});var Ct=o("./node_modules/ol/format/KML.js"),wt=o("./node_modules/ol/style/Circle.js"),Et=o("./node_modules/ol/style/Icon.js"),It=o("./node_modules/ol/style/Style.js"),Ot=o("./node_modules/ol/style/Stroke.js"),St=o("./node_modules/ol/style/Fill.js"),xt=o("./node_modules/ol/style/Text.js"),jt={hex:function(e){if(e>255)throw new Error("'"+e+"'' is greater than 255(0xff);");return("0"+Number(e).toString(16)).slice(-2)},num:function(e){return parseInt(e,16)},arrayToRgba:function(e){if(!Array.isArray(e))throw new Error("Not an array !");var t=e[0],o=e[1],n=e[2],r=e[3]||1;return"rgba("+t+", "+o+", "+n+", "+parseFloat(r)+")"},arrayToHex:function(e){if(!Array.isArray(e))throw new Error("Not an array !");var t=e[0],o=e[1],n=e[2],r=e[3],i=[this.hex(t),this.hex(o),this.hex(n)],a={};return a.hex="#"+i.join(""),r&&(a.opacity=parseFloat(r)),a},rgbaToHex:function(e){var t=/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(0?.?\d+)\s*)?\)/.exec(e);if(!t)throw new Error("Invalid format: "+e);var o=t[1],n=t[2],r=t[3],i=t[4],a=[this.hex(o),this.hex(n),this.hex(r)],s={};return s.hex="#"+a.join(""),i&&(s.opacity=parseFloat(i)),s},hexToRgba:function(e,t){if(!e)throw new Error("Invalid format");e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,o,n){return t+t+o+o+n+n}));var o=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return(o=o?{r:parseInt(o[1],16),g:parseInt(o[2],16),b:parseInt(o[3],16)}:null)?"rgba("+o.r+", "+o.g+", "+o.b+", "+t+")":null},isHex:function(e){if(!e)return!1;if("#"!==e.charAt(0))return!1;return!!/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e)},isRGB:function(e){if(!e)return!1;return!!/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(0?.?\d+)\s*)?\)/.exec(e)}},Pt={lightOrange:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADMAAAAgCAYAAAC/40AfAAASf3pUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHjapZpptuO4DYX/cxVZAsEBIJfD8ZzsIMvPB8mvpq5OupN6Xc8uW5Yo4OIOdIfzr3/e8A/+lNo1lGpNu2rkT+mlp8GTFt8/4/ktsTy/nz85f96Tn18P6fN6TLzkB30ObPo5/ut1+XaC92HwrP5worY+b8yf3+jlc/72y4k+F8q+Il/F/pyof06U0/uGfE4w3tuK2pv9eAvzvI/7607a+zf4r/tVE3sffv13Maq3K9fJKZ0sOfL7U6ycsv/NIQ+eVH6nXDhQsj3P31fssxIK8rs6ffvTWdH1pZbfHvRTV749+6Vbnwpwa790q6TPIfmXIuu3x9++HqT+vitP6X+4cmmfZ+nn10eVz4p+qf5T/Lvbfe6ZuxhFKbV+burrFp9nHDe5hF+6BZamdEfBUOPRfzo/jZtfQGHHFSc/S7ok2nWlyJYhV87zuGSxxJJOSMaTlFbKz4stW+ppZe9f8R+5yXLPOze6uJ62l5y+rUWey/a4wnO1xpW3cGgSTiZ85G//hL/7gXt9FES8luOtFetKyYvNMrxz/pvD6IjcT1HrU+Cvn1//eF8zHaxeZR+Rzqnne4r5NvPFVn4anTmw8vjOoNj+nIAScenKYiTTAbomuYpKtJRMhEI2GjRYus/MpANSa9osMpWcld605JfmIybPoakmXg68DpnRiZqVOWt0aNCsUir4sdLA0Ki5llqrVqut9jo0a9GqqqZOisOylWDV1MyadRstt9Jq02attd5GTz1DmhBpt95672NwzcGZB58eHDDGTDPPMmuYOm222edYwGeVVZcuW231NXbaecMfW7fttvseRw5QOuXUo8dOO/2MC9RuDrfcevXabbff8a1rn7b+4edvdE0+XUtPp/xA+9Y1XjX7OoU4nVTvGQ1LoQgdN28BgE7es9iklOSd857FDv3lmlhk9Z5t8Y7RwXIk1StfvQvp7ah37v/qW7DyU9/S/9q54K37m537Y99+17XtJLyejr1T6EWNmenjmJEa/zGtf3wMnycdEnrmgScKh+W2rFIB58FVtiU7CVaLdS1hHXPoPkvVW5b2oXDBZM5kyN7VVS1pzsLdAoljo1+6tE5b+ciweuqaTNwEgrpb3atwvSOzw3Aa7Git98o4VD3nq3Nz/50yiEw9MXMCh+hOfU+a3euZl0IjZX1tW/VQIF0lHO5kjFqF2hvlvCOvrEi+yhlzzHKu6fCXapZzFpUqw+TMUoU1TrM8K8eEt2CcvwpvlcXjErqqEPqJVIoz1cQ7CdQOB0qqW1QrkrCsK6Afva0R7pobdpd7pG47/Z7UpwDkCm4ql9Y8G2Oi4+S0rJ3LiVdtruM9Jb1Ja6ESIbdenfb7pXSsmRIcyTStcG9xoGh7gbLD1W/ra462dTTubFKUsWyMLTThhmZUszvGdgZEZizn7D1Pvb3VmlkuoOsHSOIrxmpt0EbpgB81ynTMBlDt4TB1Vq5U0EsVt3mfgfWpNiTznwumVxaPWHprbym/Svr9MfzZG/QkgrS9IGdlYQ6i4zdpbQ/m9sbCKqv0ZKwrI5D8c+V9b9uzAIzM/Z4lm07xdl/X4aOlTekLNI+orHQcAKRJpdnQM8CoBLRYV9plleJl8yJpa3OPe+a+2ljD2pnF7GnxzrzWZijn2Ke3SytrYTJHl3CK9lQgFlNNC3tc+vJx88VLOxAB9avWjwIU0L+9m61oK7lrkrd4DEFof16knx/5sM6pOzqQ89r9dFase7a2kvXApdQOnAIH5T1mG+BM+ikt1QrNMltZKx0fC2XliVbK2enAuDk5P93TQXSY4nS4IchETYYPGGuNXfPJe8dboIixZ13bJ3mSES4KnZel1RgaaOZA8OcESKbuDaQOmjUXww93t1szsyHSFGynylw7HKfe096ywI75p6qE/1AWLgx4tMx14z2j6kyisec64EDuBCwwy/Hkm8cNzHK6iw7YiNbnVQpjdjOH0neUT9rCo7fozG2DjiOBKQKQC/0ivclYZtIwF7fDPLR2xsKkM0cZc3h3ubjIPgBmOYr3S+fTa5Zz1mfVLToJjbVH2GgN1DhKaQuluyAVe7PRRMRsWBqIgqYBoNC+NuDliY1RKG/iF5V5dztbGlQLAybsk82qaE3fzPS1zo1n5ygmKC4wsUvbiNBGerilBnJoSE4DG6x13BXWzXBv4vYFstG1VoOoC6oGPXX/UIRoN9Ib52D6Juin06jZss0ksVys5ZihjGxtMgDdLmq0EzXjzAC3GYCBXfJmwiQVEFzdurMKcZKkpyctqt0wSD0I04f4UnjXutEEdDzPuPOKKFPiKejaATr81NlRGzDe3HRwNPkVbr8UG4ZhJjM8BolsXMthNArGnMEfadoZhuRvosTdXPLOb6A0JOrIp3/hv06r4ESq1wpWZVzvZn6y/7vgYoE/RL0HgLxUNSFWB62gtiN2hhEcIbWpICkUOvvAoA/4gwScv+C0v8MJXQ+Nhqg1bgvZyqdP8vWsKBV8RUCGpsq1Orzz87Z547iFBkQcRUQrWKA86w2AavJxAguRhd6xoAOTYog6816YrroLXcGYxwUwoyFHxbtxwRY8c6zO2TQAYZkL53DIRQdBfHU1oxhJNzYpyVhcSYrFDSNPjwSTWZx0C7pf0DkOS8j9rA2q42RUpIpREda6Y4OVDMScySKSXydzjIPsENagrkkhcCt4BqZhB/N2onoPdi7ctdN3/3Qrd4qgPo8DCaYdnU9QE0W7h/vF5XGz3/AdFCBL/iqDfzDxQUSMGzfioPgJEvYDInjPyQaugchuEgbt4iCQY5ZDnwpnKTiqgj3mLhg1NCq+QwLyYPY43chRPVrq0WriYlciCNXr9VZ3eICCMIBS4nhvGEAIw0qEhaAkDex6p7qYKmQHB1AbnfAkxigx1QyOzGYXWYL/CubfGEbWGIDhxA3eiL9PpQDHRUgAbReX0ZAINyI0tQyUgcVzKFiDBOCFjXMlQ6QIYkMb7saZZliZxQwEHn7o2G6Dw8gKBXCjW9HZ5/SKXUR+OGGzMloZaAvkmmvAMyBcC4kU4YA7WToAmhlidyGKa0VSxUljYxnPcmeRgXsRbqRzbRBckHloBPPrw4Zr9/nkeMzb5VrMpFf9AdVcbrK+uoGUwtqrX/d3dJMJxvohLt7qvV04IsR7p1zM26eJ1/k1x//g+d/H8D4BAfSL+aSxxKRFa8VwUdeY6QURKy/NDAFrToKxoZTYfM331eZeAgxflY4XBZ69YaDqBP0056yGHyqnI9Rm+K1p4rSSFV9wIQGusB4PwEsdXUP9DnZtZ94jN0xuBSPBvXtoV2+0IasUFkXDKp3lXoDfe5DX9kLTOsqO9cOHgM9dqcdiEIusVMgFQy508wSbpxADbn2mkuCEx6EsXBGIAZaI1QujONgyMWaU1cti1qaQEDl1Vj7vsZFkI2m+A1t7/N49QJhK5OIUe/mWkE5sXwYa+J+lLKYCuDVajRjq3pAsYg3SQnkfQcb5LTz7xuPjv3k+dmCWUDi39Gl2ps4dXcYVJ+59d99wRJHQ9LtAD2XCRjYYkN8YUkIsrfFM5Bua5BDFyIKdxluACNO7zFkGegGi99np8n9j/ehWp2oYY4SOQWj9XHz1WcHWQL0BTYasCIpgkjyEg2C5TjD10bCGFz/PM8b5+O4Qk/m+Q5382uG5+CN3633jvfzjO4W5+TohQ8+pxIiNEfMI6VGFDe3Vd7VByDt4j0ebGrIEM2FxoZRLB0ld8XEkKBgMwyDC7QsJysobUBnjBgjRwxnsynv/tfjqx2VNJC2GPT4rjSDBV4jDl/3nVG6B+hHJ/bY9TyerWAXsIZHtzugCQWRAOXCVZl5Xxtv3fWErmHaDtJp8l2EikIXuKSylj/uCveU2fazmTH53yCEnm+KTd2E8hu4qTrIvHDJGlUkZS4IXFcPl7A8fAbrNqGf3Qh0xQTZ0SOsbIwDBLK/x9DWhsopPIiRsgHCMYjfP9wzMjbM37G0lr8B9aaI3NOogBL6Xs2HMOSH289KUQKo/Buvw+9qVTK6UUwqBuBPJFVPro5AfXk+Hn4zJjMj3RBR5J8BC2PqEG63CIG16OTfx+pr5fu30UWcS0DFuDuKHtdFjnLuM6psYkD2+oF5CjVvhS0CnoHwa/WNusfqXim5qQpjM1ZuFIjyYKi4vxKw4DZoiVeu6o4ZKaXzoURuq4nOHt6Fa9ATnU7ncxo7g6UE+0kYg8fExDzwLcq3ErIGXRo5wH+cRiu336mjg3/3hG2IT6ohLvVXuTCXB0dhTZ+++gRgyV/xAITch2WCqEVVrzPAxLgXRI1voOfSbmnM3/CXgYh8rPhxfDFL225b2jePCd7J7H2GzAwgjZgFyJj8SfsUItFBpFvCwUUQDA4ArY0Ch61SNvFZ8rw4vVhHyw5p9f3bEFDt1PjrID05RjBzVgqbJUJXSLARoRkQCNSZf5olAkobc12LqI73yrQJsCI4mLYS/rubukwKjPDlOFkPFgSrnRyNwuAcbiRm94aPI9zdmLUkujYQqcYLjaGRIFnZ9jYRcLJlv/hX30BiQgE6j5A+dU2RwwDKwGdzTAYnH2f2ctN0O7I1HTtBURMBcroAlYgjM8GYBFvPdA+imolWmjWHi4gzYfRqHKRuMrUQIsUDygBhBxs1jo+CJ/IRoNDEAuvemMJCC/Xg00L/U+v7I1Ly3qnhB/Jnv36SmOB4fM0A35hihOAcqHpM4x/zAdUx8e02G/BVzGxEpEBsqKathzVgltlb3EfNtLcNVGPPt0TpvbA+eMs3SfMcK04ln8fXDhgIiSOwUm4lj8jugXZhmRg6AHMb9gijciwnTDnNhKBXDI9m3iD38ciZ0YLpbxWho2ISpAY66Q2ZZgwv9YyzHM2QkASaOBrCM9OP4q+8xXnvSaycEuDbB4cHeJeEM08EstvvA765nu7r4RjF5YxNiO742DawE9XUMghITWK87c1sOWHBLFCdbxFqYR1wcoI8cBOX6jFuFBLCGvrO4QGX1bQxLMyX1IOX6X7bSfq7geCNzFbDeFfsL4sAm9acvxwtCFjQCGbaQ5SXYzrfVaxzOdTr6hCG35oVdOc2NjGrlX48wehxksic+UH1zZFGbgTZ0K7g4w03xafwEKo3qmAT1ovmmWMLjkxQfaNJsfbCSfP/Bjam3D72Oor77aumCQix5g05JlNJPOM40mKCcXes2BgAqwbwjX9C6YD5GLvF1Btsafh9ONbfSezJDaSKHSLBCtccxqI9oQpBKdPOW8ElM6cLAUEp480Jj9F8ZWZlutjwrw34IF3Ru/nXGEPVdmdKGfy3h2xPSckwZ++JVZyTNxYgPu4Xr7t9dEwC884PvdGPaUoDyS8JT24R1WOfECBGsahPUmDtm+cTW6WDpaAjUzlyS1kncYJEIDAiZyxN0E5/siGdvg+9mUv9KxWpkpJZHQvPvaxZnxBcgaAiXh+X94PwInyIy3xvwy/LG3eRYB/K+3Rv/0tbkr5t1/t2Cf/2ywR63xthCV3sBUwghIvm+R2nAiiQx9m1ALsHxHN59A48pBKgBad+otn9vQ+k4H3eDprO46VGMaI8i2WtEMWRIDaGfMTZn+VEuSgW8+gwAObmZIcwd38EfjH/1vT7fEMfSUMtuvYNP3y02Lp8384OnnB5SE3yl2JVLXkupN8SeLMR0edpWPOdiYAzEoLsnU06ADN0M4jS0g3qw/pl6ie/3qbB8IAwhZKSSWdYi2UeyRcdX7oYRIJHqRg3ohnS35cvNC0hB48rizpKbfgIpJ4K8UTXsMyPJS8f3molSYALLgj3yJXXfIQUczfMrnTGm9vXmbqT9Cxm1gL0Av0xdB/GsoGePVRtqwDiU7NkOC5OoSHUj2313k5QM26h2luk7Bj3ZCNe/pU0Qy4KK4CUIssMEE7uGyWV2uHjb+uw+wh8kX2daUJevGzUyICdt1kJizKnhNN9fJdvgDiNkP/wLw3jTrngRHBUjR54lJbBuOeAjo47O6yybKKQ1+BYN9E7SdXSh7kg7fhkCp+XcFTAgpvpIdDeDnincsPl3LFAaQHpywRwhptNoKXGKHlun1+/eKorKDU6M+vPdy4TRM3hBqOByFyqMtsOze740DPsC8pAEAoG/Lv5/CMA8eARSjpFJ/D3fpm7bv13y/1/gYgKdVn1LkvDNrMDBe5OOZLrnE6TOLjSDqjEAmIBNMzyKH+RuFd8whbrQq0Eg9sSGkBz/Ho6Yxe0G6mANNHo8de/ikteZX99WyNEZrVJf5T6opO+8RJLMjhgqGLMdsOXbSlqCutkhdPhvUMPc/H7Tgqm9nnHDvwF6YngoNZcUVAAAAYRpQ0NQSUNDIHByb2ZpbGUAAHicfZE9SMNAHMVfU0tFKh3sUMUhQ3WyICriqFUoQoVSK7TqYHLpFzRpSFJcHAXXgoMfi1UHF2ddHVwFQfADxNXFSdFFSvxfUmgR48FxP97de9y9A4RmlalmzzigapaRSSbEXH5VDL4igCjCGERIYqY+l06n4Dm+7uHj612cZ3mf+3P0KwWTAT6ReJbphkW8QTy9aemc94kjrCwpxOfEYwZdkPiR67LLb5xLDgs8M2JkM/PEEWKx1MVyF7OyoRJPEccUVaN8IeeywnmLs1qts/Y9+QtDBW1lmes0h5HEIpaQhggZdVRQhYU4rRopJjK0n/DwDzn+NLlkclXAyLGAGlRIjh/8D353axYnJ9ykUAIIvNj2xwgQ3AVaDdv+Prbt1gngfwautI6/1gRmPklvdLTYERDeBi6uO5q8B1zuANEnXTIkR/LTFIpF4P2MvikPDNwCfWtub+19nD4AWeoqdQMcHAKjJcpe93h3b3dv/55p9/cDPGdykYtTXU4AAA0aaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA0LjQuMC1FeGl2MiI+CiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgICB4bWxuczpHSU1QPSJodHRwOi8vd3d3LmdpbXAub3JnL3htcC8iCiAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgeG1wTU06RG9jdW1lbnRJRD0iZ2ltcDpkb2NpZDpnaW1wOjkyYWVkNjM2LWY3MDMtNDAzOC1hNzM4LWZiYzYxYzZlMTljNCIKICAgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo5NWMzZWI3NC0zYWRmLTRkYzUtOWZjZS1iODQ4NTc3Nzg4ODQiCiAgIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo0NjI3ZDg3NC1lZDIyLTRiZTUtYTlkNS00NDlmMzVhZDIxYzgiCiAgIGRjOkZvcm1hdD0iaW1hZ2UvcG5nIgogICBHSU1QOkFQST0iMi4wIgogICBHSU1QOlBsYXRmb3JtPSJMaW51eCIKICAgR0lNUDpUaW1lU3RhbXA9IjE2ODQ5NDE5Mjc4OTUzMDYiCiAgIEdJTVA6VmVyc2lvbj0iMi4xMC4zMCIKICAgdGlmZjpPcmllbnRhdGlvbj0iMSIKICAgeG1wOkNyZWF0b3JUb29sPSJHSU1QIDIuMTAiPgogICA8eG1wTU06SGlzdG9yeT4KICAgIDxyZGY6U2VxPgogICAgIDxyZGY6bGkKICAgICAgc3RFdnQ6YWN0aW9uPSJzYXZlZCIKICAgICAgc3RFdnQ6Y2hhbmdlZD0iLyIKICAgICAgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDphM2U3ZWQ1MS0xNTI4LTRhYjAtODVjOS0zNzNkNzgxZGM2ZmMiCiAgICAgIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkdpbXAgMi4xMCAoTGludXgpIgogICAgICBzdEV2dDp3aGVuPSIyMDIzLTA1LTI0VDE3OjI1OjI3KzAyOjAwIi8+CiAgICA8L3JkZjpTZXE+CiAgIDwveG1wTU06SGlzdG9yeT4KICA8L3JkZjpEZXNjcmlwdGlvbj4KIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/PofUkY4AAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfnBRgPGRuA4VZTAAAFcElEQVRYw82YW2xbVRaGv7XP8bHjXByHQkNhWigdVX1AikRBMBoQ8wASl4fRqPDAAxIPKAVxeRqQRohHBEVCaoGKUBCl4qHcNKCZVKMRRQxtgTaACLRKqlwB14NzM2ni2D2XvXjgBFXQOnFiA1uy/HB89u9/7bX+vf4l1HnpK57hTNCE0AzqAS5gAAuEID5KiWSiLPf4tp7YUjcSu4yLZzdi2IJyNXANcBlwAdAKzAHTwDhwDKEPywC+GZWHbPi7IKOvZIWguAnlr8BtwJ+AxDJeDYCPgF6Ed0hkh+Weov5mZLTHJMDeBjwYk0itYJtKTOpZML3SbYNfnYz2SBr0buARYENcFytdFvga2AGyT7p14Vcjoz3ShOgdKDuAi+pUewpMIDyCypvSreWGk9HdroOEV2F4A1hfTxGJCX2D5U7U/UzuD6NaXq49NRJhBsOjwMVLEtE4gaL4W5cV3IsxPEoizDT0ZLTHcSH6M/BWLLlVwpQKuPzhb+i8sRkv04Y/e5rvPigxtnM9trKU2k0D28A5LN3RsmXbrbFOU8DtQLpqfJqu97nh6TydmzvwWpOI8VDbxqbrkmz62yk+/Ps6yoe8KkeV/hHHfgrMNyrNEkBX1SAktgRs3T7ApV1rSWayiEkDLmLSJDNZLu1ay9btAyS2BEsEuWuZ99WKyRhgHeCcn8wGw/qbOnAS3jmfOwmP9Td1kNhQDduJcUwjyciS0RJXMMkWkPPUo/z4XFxZRhZII8mEwFCsT+f5xXTE7FAOteduItVaZodyhNPVZDeKccJGkxmsChIMOvTt6aRSzIP+7A9rRKWYp29PJ8GgsyqcVauZSADaj+IDTecWvBlD4e01HKjM07XtOOuuy+A2X0BYmib/8SxfvLWRYm8LdqZaCvkI/SDBci6nld0ze7KCLa4F3gSurR4MB5x1FnMhiCeor9hJiPKmWpbGp3EU2IbJFuTe5XfStbczLxgP7K0IPcCFDWhnJoFuMAek2/oNbWdku/WxHATejT1JPZcPvINysFYiK+gAFkXTK6H+MyhXADeseJ9fmrVDM6X080/+p1M2/yFsD1zjEIauEeMAqNpQE16oaKiqwfjYeLk+fuYl10HDq7DsBTavxs8o6FzFKez/dM3rLx9LjUyVxcb7yVkfzmpXFbACJURHIxgyxkyu1ml6qL0Z4YX4xl7Jfrrgm9Ov9bX/e++x1tHCgkQ11lgELGA4sBp3iHRbH5GDwJPAFLXo6KJnDmTh/aG2w2/3t47VSGQxs1zAE9U2s9pEjx3hXuBloCa7G1rxv8o3f/7SkUz/UFFWMqGRWMpHAqsDbl00KGotIXM7MawF7gKSS5oJJRospI7v+rD96Ikp8aV2EgrkVPW4OnIy6SVL9ZubvZgyaOVyYDfwl2oNqVWiXNEb231oTe+/BrzvK9Gy01MFyoiOKzIEmqsEfjGf/39U1yHgosJFUXhlFMl+z9E/nkvhVNHZsjux+9Caf77RnyzMBaJLmW4RrWAlB3Y4Uh13HLOA4wQjo6O2IRPNxVV4JuG5Et2SSelzjtFLzsZQ0NIZ8/2rx7K9+/paxqbKvyh4Bc4AFQxzau23Dow7FS+nHmfEUz05OqINH8+evXJPJVOuE93XkY4eSziaXcQpB2b+vZNt7+/8IPPl2OxPRMJ4dDsLzIho3hpzamJ6aqJ0ei6qtZAasmZ2OS1RyOMd6egBIzSFVoKj4y1Hnvhv+8cD02ZOkEmgIKITVnXKWDs1ksvNrgbTbRSZ46cypY50aWcllIsyKXvr8GTyi9f6WvePFGVQhO8EPW2NzI+OfV2pF2bDTgbg8D/aJeVUspd1BK3/G24u7/skO3+iYP3h3LdhI/B+AGodUpo8WKwoAAAAAElFTkSuQmCC",darkOrange:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADMAAAAgCAYAAAC/40AfAAAStXpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHjapZpplmO5boT/cxVeAkeQWA4H8BzvwMv3B0pV7qou26/tyk5JeXXFAQgEIqgO9h//fsO/8a/2KKG2PkRFIv+qVs2TFyN+/s33mGJ9j+9fKd/30q/XQ/5ej5lLftP3xiHf+39cTz8H+DxNXrW/DDT294316xtav+OP3wb6TlR8Rb6K8x1IvwOV/HkjfQeYn21F0dH/uoVln+fzYyfj8xv84f6ISf88/f537UTvNOYpOVtJJfL4DVbJxX9LKJMXjcdcKjem0t/r9q7/2BIB+VOcfv5TVnR9qfWPN/2SlZ+vfsvWNwJs7bds1fy9pfwWZPn5/MfrIbU/Z+WF/i8z1/F9lX+9nkpKnxX9Fv0X/HvGfXtmF7MKoZbvpn5s8b3ivsUUPvUILE3IjoChwbP/KD+DzW+gcOKOi5+dNGXSdVNNJ810k73nnTZLrNlC7rzIeefyLo7Ss+ZdPH/Vf9LNvWg5ZZDL/dJeS/65lvSm1bjDm20w80ncmhODJT7yj3/CP/3AvV4KBHi81KdPfnP2YLMMz5w/chsZSfcb1PYC/OPn93+e10IGm0fZS0QZen2GWC39FxOUl+jCjY3nTw2mfr4DECKmbiwGBNRE1lJpSVLsOfeUCOQgQZOle80sMpBay4dF5lqKkJuRfWo+0tO7NbfM5cB1yIxMtCLU2SBDk2TV2sBPrwMMzVZaba1J6200bVOKVGki0sVJcfbSa+itS+99dO1zlFFHGzL6GEPH1KwF0mwq2nWo6pzMORl58unJDXOuvMqqq4Ulq6+xdM0NfHbdbcvue2zd8+RTDvxx5PQzjp5pyYCSVWsm1m2Y2rxA7ZZw621Xbr/j6p0/s/ZN699+/kHW0jdr+WXKb+w/s8bV3n8MkZxOmueMhOVQExnvngIAnT1ncaRas2fOcxYV+ists8jmOTvJM0YGq6XcbvqRu5A/GfXM/b/yFnr9JW/5/5q54Kn7h5n7e97+lLXjJLxfxj5V+BiwUH3cM/PgP6r178/h+2IWNXr3IZDKnG1YHtrtFtaVWu1ilevx7tYtr7VXOy3nSum0NHSeHSC4lcbIFUozk32J9iFdrXthMcaFq0z0Wlp6+qg7HfZer+Z0+zpjlQ5fRmKkS8fOua1j1CP7llovW7E816hHdHtUrZ5+oz0IDLDFuIMOT2Rma2CHreke6c5TYFqCY9puXmPuPRcL6KvoarLOvlBpNrRL37lJbySs733aav2UesPNIHA2O7WlZr3tW+ML4QSvXKsuLPpsgL0u/mbyXnZpdPGZjOttnz2khypsW2Jt5Fozqdl8qnedcofdunR20BHbANt15T1WAltjrZ53p6nfQqC6rqBWe6l0nMIi9+69RD0LYHu7WZT7SBuQzttKZNQmaIJGvHZZtrsC2T07siMATFvb7ja2C4/eLpMY6Y3jssO25l3SrxyZyBE7R4kTA+Zia60CIJVPnhkqFFtZ7lbmX7OMuH2OHEEBv42VEN66HZf+st21L32sSZIpaVIuvZie0Ge0B9BFHxzfMMd/8DzkZjNwFFdW4zWFApTWlpP3vCOzxUm1FWKkBtHMW+zI2iReZFFt7DcKsCld21qB8OQjdRDXQhXmKB1CEcC+q2c0bT7SjLbfG228GPk7hRnhmQNmEQOdQj6htHgI3AZ5KV/KSy5Qvz4ukCY1hWWM0YhnSa3Uk9dmzdAdoeYHkiPXuQbNHUoZk0+U1KEXyZnw7UUCFyAmnmlQI1tjE1u3fEp+abX5p+r/Iz2QS1Kc9umzQg1lt3Lhw1NuHXclsLDiGHcfUBnKZe/sIx0kz6JICFA+2cTpDpqVDFCytG0wMyxRxibwdjZ7Il4ytbdVoBED6TSBNCbLX7lBnKTOUXZxF2o2nAngN2KboX6uU13NKlAVjWsOwqVSAwGjKo22ARgudUtcr3jbr7JqqgS73qGbknEAGrMVbrKz7oxe06mx+Z3Ct8DT//JMvxjD+NC4EX461F1OUiEZ9Fo6PQak4+Q9cFXp/RXYwfqdetl701wUChFKMN42b+9HHuVV8vC2TBo2vXVGDSCqz6sQl2sSK9HIcSu0Boa7ZhMwb2bxhfVtCl19V/kBwlpSpmxq7XRkqEtPSbqTM/gr6VupkEZLO4fWYHXTxiKN58CCXNsCME6+O0Pc7LgEgroA87HqGzRqHg7g1iwoZdilXwZ1KQgjzcFdjZZAWs+iOv16vVkgmkBYdJF2PuA6s/DJnibdlxZzJwDhCu6LAGRQmeH6TpWowl4bxmBRWhagC2iAc05T0HOmEgY2Au9Qj3bpoMwJCCe7bsTXYPTvhMNbNy35wNACBQfebVUHW6cb07j9jtu4NhM6gGYFw2/BSEz7shWMncc+X1RAvc6jEiaCB4r2pC2MMTlBMZVELQMZ8sm87CGvc2yZLlbHzL5AGkM370hIm3UtpL4vKf2U9EEeSP1X6XGmaf1u5kU+BYRD0+6xqOhky2zr/PWGv79/S1EEBfVpo592XV3EGVjeB2AddoXuX/mwwVzp5WiI5K2oRm6nfGNeDSKS00DeGClvsFMQXpYCssEzwwNTL5wNayGwm/Z/EJA80jz7ukpsB3THWulMHV13IAfym+m+VAleRFOX4kRD6SEbCCQl4mKfAWCOJhC9AtoeUZMtbl7SD8aBayBoffyKhlwj0/zovihoCM2J6cwrkAYIoUEAvaO8n82lBUATNBjkBuFAz2jX69Gii1xgw/YFTl9mr6KFjXbxEih0lDTYKeQDaGlYWEA21FAdcME9yQnMc3hDivcvCX9w+QmbsVAVDI0MBeQQnLNu/lxhFsL3+SBgK+Gf4ebcDyzS32AR/jFu+gc3v8IG6fcDNwhHF3qHHr2JKxWOxa4GvSBc5MDZFQxAfgK1S3NJHLvz9aTBQRjBdTjkIZooUtwD+YcX9bWmaXD04mOOlQcfkghzo2hSvcz6GCkT/9bCKBEhhWrfyE6KFNm7EVoFtQCBILKAYro1Ge9EBFtVWGDZhCwaHNAQyAnJH8MtiKZVBxYBAYpEVEJZkQkoCMNQb2xFRX4AJ8iqpu7AqLZ9YXR/yB6mA/BBYR6iTfPcvZZ4yvTwcA3VjiY/9MkL6fVUNBu690BZQJXyQOShufFPKAW2dg6qJaPqaRfwIi2p+/pxEpdcokQK3RHJqILUAfKsNV1uRStfGq4e8Or4COhH4vE/IvJ3PCqY/hWNgDH8y2hcU3c+NAb0VY2If0FNd5zlrVtbph0h75BRgNL7LH/ePtT7LAouIZ6E5v/6rFs9Yo8NQaluBzGOrKGMHVkrFJe+bVOGy7B/GAhBBjJg75Wx8G/e6RgXkjmsCy14jXxw+63UNLEr04kNyoc4BNw3rJ0r0a7S3L/ebkgoIU3XOR/oYyHZFn+IkR8FYWQQfYgUa8hjrIJMUtkPsgHxr191N/JPtdzzIlqomkJs0dZIJ0rB1wCVQlNSLeBzyAw6N4vEM1B34oIfH5zBSOXNT4Mp+a8iHItfoMZdELWsAuILvO7QH/VNQo6rWzx9o4niuNx/Alw25XGqqBW8GS0x0TSN1TcuirqCbick1OFedZ+IZm00BUGeI6Iw5+7wwDNekAElOjrPoEAQ7vlaLndsJwZlnb25zTqYKdmUHgoVoW/TbQoQRyzdJ6egYhzH0x7R4sddUrh0GdT7wJTo0UAhkp5zgScViyGnkayJFFkIPW9+h05xySh/5Sdw8JFU/JvgRGjuWkxoyPeWx5SFsobrf+Nz3o0uOrgyBhFBfZHXtly3UTF9g4+Bw4iobQRTCahTcObjlt7co60nhwsZBdPNRKhMbYcFF39nVRsJk77A2qiMd8yPxDQUc8qtLjMhaH6n4s/cxkTEKvwwky/eF/Bx3lD7/INVCN8X0LRRg/vNekelk+FYGNfdY8IvYHUQXnZN7B5cyj2zAWqmX/idg86erDH7wYsiP5GtFcqPFEfCn70MQZ7AFbbod2La6ap4VgiTKoVgGoaku4ZMKOzW+TVv1V7KG4HMipBvtHCASd/Jxc+astMWOkDIOk0ZW1vOVZT5PrWESpfBRY423JcjvphjR0FHIPgorIt1VCrZGzjsbhQQ5EDFYudxaui3LJk1YPxw5fQVGo1+Gp47uF9F+R+dGKUKbcEHMIR1Cdk7Iu02D0X1WK4R4+7apqMdkDdMookuMgfea/phsvh3H8go/AOWFZZiQWWFjHhGiqSCUySO9FC6wXN41dWxHwSYPTG2l6cpDTYLzeNgMRqHoqKfdoJN53Syk04No6vmpGJKrscZchpwv8fe+U9EdomvwN1Pxh3Mi6LVtAFtaQitxVbBbSWOWKFnwA4suZPO5n+75os4exayDhZ83KN+ZnjdpGdaHAvut4Y5n/LGW7RKye3E/CiA5Qt87ANeWC14hAhGfLUIVEg+1oduAjaf1Apo9P/W9KFvcN2jEGpgDBoLPJz/puvRFGyNlWOhEhtxu9DRKNV0ozFB9xP1Y3WUTfFGRM+1om4xKgHeKeGMB2oEFje6CDRa0cBIJz/FchGAmHATTihQBojPgf5160WbqQpsN1IgDWFfup1Yd4KzMXjXpZQlbpWOIE+U1UkKqT+bTyXjre0dZ1U/Tft64hr/65nghzq2nw+q0zs0kw+2aMCBLR3UZZ2IMJQz0sUD0Zz9E5YS4vfmQTy2lwziI7RSITFofBE5qbGwBD/NOE8rUi/gqnk3AjzIJef0w/4+X58ISyh8hDQEQu1npzAGoCHoSE8IzskbcY76Wl9z/8HWH/JLInx7oUFd7APzRdOjJQgM7vYYyUTSucMPiunOIMij04t9FLqfV/81VuGXoH0VLjIL+d/84G/gxPMp3vAuQo6OFxH+Ha5Cd7k5Ue8bNUtwn1txU2cWDOIUJOeC7JSST8MPjXZVVAP9TEmddbQdoQX64PA08TZsxi82SzY2G95A/0CUbjSKwxIiq610mIy9IJmmH7AOQFE9KJQe8pgxyi4EAM6mC1HLSsshbMJO1Pzgjj6DWb906nvgnn7xBgoPQENyHul725zomKKEDXMMs0A/AitvQzdvNDVvmDMo5BCJd6e14c2Vhr4GmYGAzVHUq3+TMEv207ca/HAPoda7Vcyklg77X+9nFfXgehp7dyraEC1HyG8FTlOyOsSRlbGgWSjAFHCnAnfDZ2jq/NqAkGzsQETfUyaHlZXL6ogHrTopSECq09eoP4llyTvWC24H4NTNJhpcpAhXq09Wt+GYbnul7vb+nbF/TL0r9NcFqh8PrYoK2OHRb3QHiysgU2DERaHhACp967hQTKgmcN2JWUreSXNZHUshBZOCLnI7GlCFKArV+U7Vp94l5xB9MgRbH2gYGQOZOj46DQeF3tG9hrDU9mQOThdP8mTNfCrnwJwISKQPnT0uR7VNigXpWiEFP0Lxr98KaVRvvbFK9W99yFLG00LSEBRM6N9hdpSdn1v1xajAaNI5aoM1RvOvbtFmReiHev0we/lXd/QOdgDhk35za4XWdq2Kq0CLNKSaZSMmiFa3b52utEkcBgkaBtPuvCgUnUfhvWgjBioKqFKmzXuYpxTl/eQshPPO2ShJRza2dD8dmfb8nMrEf/mI9cczhuFgqAQhsyhVlS50UbeZhXJw12E90H4zEaXeyEpzm1hL9S8p8IDmB3Uoe0SMkyiamhaFiUZRkxc/jhjIoYNyQNaQfNBIVzUIyF2vZUKndnGxeMRUKB8atHpXwjJENI834Aua3xE9HrDApxJwLZAABnp544Cu6gTzDanTXSRBCgWnZa1TIFQX/aCR3IJnEahlwKxX5PoZ2xzJv1FDSTHR2I/yJ5bIE+PfISQqkGpHdqMYFqq1uu8F/1n8izQPIr5lhztexUKSUDfKYvHn8KA6E7wzR1wtru04SeGJVKUgRZzL9yofVU7H6QEpk7p/0zasYFQpSSG90K2fcl64K5m79bFoTBb91AYHjv+/uSLhYRe6bvajej/vvKkVHJ0TPF4buZAoev8WpEDemJctMADcTzd4GkafL0juiyEKwG0XETEBfR4bioCLBmZlDprvZuGtR/zHJPHinE9Ok5/YQ3yYCfrV8iOC1oAVOgDBDksbjH9wOmwIuBPo5icdgiwS1wbND9YU/UHbRZBMgo0IV1jpSUKhQlaYrnkehdAkrI/jgs7JwVWXutTfHbKGdLO6gSFyCyp2j738tB41BgTSDRFYZZQCTKx0bOZkVEiuHFbhtecqYjkv107p0VeeJ6GFqZ+UMrS5tr5BQKz3toOfxbe3a1dtvW+oRnvdOiOWQK+fRFWJgk9hWwgNBvX6peddODKw713i8VM+1Bw+zzXE80FMMd0LY9XoxN0P/Nty75bP4xRkTPHvFMwzuwKeBW3l38aB4uaPlBEG8s8HGwhv/x9y/hPOIdIfHx3GqQAAAYRpQ0NQSUNDIHByb2ZpbGUAAHicfZE9SMNQFIVPU0tFKh3sUMQhQ3WyIFrEUatQhAqhVmjVweSlf9CkJUlxcRRcCw7+LFYdXJx1dXAVBMEfEFcXJ0UXKfG+pNAixgeX93HeO4f77gOEVpVpZt8EoOmWkUklxVx+VQy+IoAowlQJmZn1OUlKw3N93cPH97s4z/K+9+caVAsmA3wi8SyrGxbxBvH0plXnvE8cYWVZJT4nHjeoQeJHrisuv3EuOSzwzIiRzcwTR4jFUg8rPczKhkacII6pmk75Qs5llfMWZ63aYJ0++QtDBX1lmetUI0hhEUuQIEJBAxVUYSFOu06KiQydJz38w45fIpdCrgoYORZQgwbZ8YP/we/ZmsWpSTcplAQCL7b9MQoEd4F207a/j227fQL4n4ErveuvtYCZT9KbXS12BIS3gYvrrqbsAZc7QPSpLhuyI/mphGIReD+jb8oDQ7fAwJo7t845Th+ALM0qfQMcHAJjJcpe93h3f+/c/r3Tmd8PnXByuOaabnkAAA0aaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA0LjQuMC1FeGl2MiI+CiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgICB4bWxuczpHSU1QPSJodHRwOi8vd3d3LmdpbXAub3JnL3htcC8iCiAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgeG1wTU06RG9jdW1lbnRJRD0iZ2ltcDpkb2NpZDpnaW1wOjIxNDZjMzUzLWIxZjItNGVjOC04NzQ3LTIwMGEyYWExM2ViMyIKICAgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo2NGViNmI2Ni03Y2I2LTRkZGUtYTI3OS01MGY0ZWFiZGFhODAiCiAgIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1ODRhM2VjZC1kNGFmLTQ3NjItYjA1ZS04ODk2MGQ4ZTk0Y2MiCiAgIGRjOkZvcm1hdD0iaW1hZ2UvcG5nIgogICBHSU1QOkFQST0iMi4wIgogICBHSU1QOlBsYXRmb3JtPSJMaW51eCIKICAgR0lNUDpUaW1lU3RhbXA9IjE2ODQ5NDE5MDM3ODI2MTQiCiAgIEdJTVA6VmVyc2lvbj0iMi4xMC4zMCIKICAgdGlmZjpPcmllbnRhdGlvbj0iMSIKICAgeG1wOkNyZWF0b3JUb29sPSJHSU1QIDIuMTAiPgogICA8eG1wTU06SGlzdG9yeT4KICAgIDxyZGY6U2VxPgogICAgIDxyZGY6bGkKICAgICAgc3RFdnQ6YWN0aW9uPSJzYXZlZCIKICAgICAgc3RFdnQ6Y2hhbmdlZD0iLyIKICAgICAgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDoxYzNjOGRkZi1kMjVkLTQ4YzQtYTAwYS0yMmU3ZDYwMzg1YjYiCiAgICAgIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkdpbXAgMi4xMCAoTGludXgpIgogICAgICBzdEV2dDp3aGVuPSIyMDIzLTA1LTI0VDE3OjI1OjAzKzAyOjAwIi8+CiAgICA8L3JkZjpTZXE+CiAgIDwveG1wTU06SGlzdG9yeT4KICA8L3JkZjpEZXNjcmlwdGlvbj4KIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/PuhCAHgAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfnBRgPGQOTjc4FAAAFdklEQVRYw82YW2gcZRTHf+eb2dlkc9lsrFYr2notfSgWxKKiog8VvIFI9UFQEaWtYPFJfREfRRSEeqlttViLD/WGisYXrShWpfWC1WpSN5eN3cZumkuTzWY3c/mOD9lI0WSTTXbVA8M8zMz3n//5zvl/5xyhxqb3ewYvaERpAvUAFzCABUIQH6GAHyvKa76tJbbUjMRW4+LbC7GsQbgCWA+sAs4AWoA8MAxkgEMo32LoxDO98oIN/xdk9IGUYEYvRrgduAW4Gogt4NMA+BroQHkfm+qW3aP6n5HRTSYG9hZga5lEwyKWKZVJvQCmQ3bZ4F8no5skAXov8BiwspwXizUL9APPgOyVXTr5r5HRzdKI1TsRngHOqlHuKTCI8hhG3padWqw7GX3IddDwcixvAefXUkTKhH7HcBfifi8vh1E1H1cfGkGYxPI4cM68RGw5zf3y3S7IuedgeZwgTNZ1Z3Sz46LRNcA7Zcmd25yGgPWP/M7q65toTLZSHBvn6OcFDm07n6g0n9oNAxsR54DsjBYs2251QWAbgFuBREX/tF3rc9+zA6xa3U5jSxwxHmpbueyqOOvvOM7rj67g1JfedFTNagngVtR+B0zUK8xiwLqKTmhcE3Dblk4uXbecRDKFmATgIiZBIpni0nXLuW1LJ41rgnmcvG6B59WiyRhgBeDM+UZipWHthnbcmDf7b8Y81m5oJ7GyErZTxjH1JCPzesu4ghtvBpkjH2X6uXFlAVEg9SMjhEAamFsyp4Yjcuks1s6uXdZacuksU8OVZDcC0mW8OpFRQqBruvqdwwpdDh+9cjaF0QHQv/2wRhRGB6afdzkVkKZxtDoyVaqZBKCHEXygcXafjhi63l3G9tIEGzYe4ZKrksSbzmCqMEz6mzE+eedC+juaiUYqhZCPchgkqKB4SzxntqQEO7oceBu4srIzHIitsMTOBOMJ1leCkxAMmEpRWt6Vg8BGTConOxZeSVdfzmwxHmpvRtkJnFmHcuYksBkxH8tO69e1nJEd1sdhP/BBuUippfnA+3jsr5ZI9TnzV33mFcB/DuEi4LpFr/PPZu3LkanES08fOltWnxe2Ba5xCEPXiHEAVG2oMS9UNFTVINOXKdamn3nQdSC8HMMeYPVS+hkFzQdObl9m2Zu7+xt6hkKx5fXktGumdNXyZQUKiPZGkDbGnFxqp+kh9kaUHeUTezHr6WRkxt/oa/toT39Lby6QqMoci4BJDB8vpTtEdlkflf3A08AQ1ejoTM8cyeRnudYD72Zb+qokMhNZLuCJaqtZaqDLLi0i7EHYDVTV7oZW/J9PNf3wanfycLoki5nQSFnKewKrnW5NNMhtKRDlt6EsB+4G4vM2/UrUNd5w5Pl028FfiuJL9SQUyKrqEXXkaNyLF2o3N9vUYKB0AbAduKFSQWqVKFv0+rYfXdbx4aB3qqQLDk8VKCKaUSQNmi0F/ujAwB9RTYeAMwoXabg2QvZ5jl4ym8Ip6FjgDm7/bdl7bw3Ec/lItEJyWyAS0RJWsmC7I9WM45hJHCfo6e21dZlozlju3pjnSnRT0tMXHdFzT8dQ0EJoTr2eSXXs7W/uG/pnwiswBZQw5NXaYw5knJKXVY8p8VSP9vZo3cezp1v2nniDK9FD7V70RMxoaganGJmJT0+0frbtt+RPfVN/EQnLo9sxYEREB6wxxweHhwYL4/mo2kSqi43c5zRH8GS7Fz1shMZQJTg41PzVU7+2fdNZNHlBTgI5ER20qkPG2qGebHZsSTpULzJH8slCe6ywrWTlrGTM3tw9Ef/xjUzLvp6idIlwQtBxa2Sit6+/VCvMuu0MwIE726RBSqlViaDli6Gm4t6e1MQveet3Z4+F9cD7Ewo4WRJBbaaSAAAAAElFTkSuQmCC",red:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADMAAAAgCAYAAAC/40AfAAATbHpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHjapZppchuxEUb/4xQ5AvYGjgOgG1W5QY6f10NKtmW5EieiTVLDIQbo5VswCvavf97wD37qyD3UJqPP3iM/ddaZF29GfP2s5znF+jw/P6W8P0u/Hg/5fTxmDvlJ7xNHf5//cTx9DvB6WbxrPw00zvuD/esHs77HH18Gel+o+Ix8FvoeaL4HKvn1QXoPsF7Lin0O+XkJ216v+rGS8fof/Ol+xEReL19/r0L0tHGdkrOVVCLP72CVXPx/CWXxpvGcS+XEVOR5H3mu5SMmBOS7OH3+TGZ0far125N+ycrnuy/ZekeApX3JVs3vU8qXIPfP12+Ph9S+z8oT+p+uXMf7Xf71+NgpvWb0JfpP8K+O+6yZVazaCXV/L+ozak9Srm4u4Zcegal1stOpocGrPyaPweIPpaDxxM3jpJky6bqpJk0r3WTP60mHKdZsIQtvcj65PAdHkTzzKZ6/6o90s5RZtAxyeZ6015I/55Key854wnO1wZU1cWpODJb4yl8/wt9+4V5vBQI8ntSnV35z9mAzDc+cP3MaGUn3HdT2BPjj8fXH81rIYPMoe4tMht6vIXZLP5CgPIkunNh4ffVgEn0PQIi4dGMyqZABspZKSz1FyVlSIpCDBC2m7j2zyUBqLSuTzLWUTm5G9kvzFUnPqbllDgeOA2ZkopVOnw0ytEhWrY36kTqoodVKq6213qSNNtvqpdfeeu/SHRSXFKlBmnQRGTJljTLqaKMPGWPMsWaeBdBss0+ZY865FtdcjLz49uKEtXbeZdfdwu5b9thzr0P5nHra6UfOOPMszVoU/NCuokOnLktGKVm1Zt3Ehk1bl1K7Jdx62+1X7rjzrs+svdP62+MvspbeWctPpvxE+cwaR0U+hkgOJ81zRsJyqImMi6eAgs6eszhSrdkz5zmLE/grLTPJ5jnT5Bkjg9VSbjd95C7kV0Y9c/9X3oLUX/KW/9fMBU/dX2bu97x9lzV1ED5Pxl5d6EGNhe7jnJUH/+jW31/D+83KPiEmlrd0ZremEblUT7eZm0BzexaimmXYgubnuEPvkbQGa9wthiOWrraVZNfSbR0D3dM5e18pXeZJJmnLWKdvldHSuKUOsxOt3bbTboUw2gyslJWdOaVdy9qByFHOHqbkHGo8yhf7pMzaZaS57phW01Jel0mrG5SmjUNddDez7oydWuXyM2lNdiFWXboPJVg7FGLzCt/lNwpH8zahiOZobe1kVcJOl4zlA+HOkZfx6ZCqda7d110dOqk5j555J51FiWZST5Qtdd1klCVRBYFSJPLQBhVUm0uIVsH9rLkAPGR3mNdLnms6F9jxCstcglo/til6U1v7hJm27l3rQ7HE7SzZVqiFqgKlzQ0BSa17KIOX6mWnnHzLOfToTkNLH9lgkXjuufNIsdmoM5nGyaSbACl51ihnS4t7TBrI9uikqdFIpLPGdaGkO4e2QBHMZEe8Ls6U6DWk+dBZ9VLGu98lM11aIjXjakwmrUP6KF24IvLlTbBSMKXAz7ibZFg6JtIZFqmoicKJlpnItETwSSfBphrjGTYkkzzqgArxS9wA7/o/amHMG4VpUQ4naZO6llRb63b19J1i3g9Lqy/ptx4Jf2yej95JmyqnPp40nD1FZ6eEE5GkmCLLXyizGgweEiqMDJ59WrKiWnajjLNcFMFdh/WCApcKnDU3Ymiqex46z4jy0O5rCny1U8sU44naDrlFlpBoiqK2FSlQEkHj0YlVtbmq2OSJIt9n3XKPnkuWEFrHx1cmu67wCdWWb26RPgIq6cbWQSCh7ae1mavXCLiYj//UCeia5L5SWHfOUy1nmsah0qgDFAnlMSvhAGM7iEUB9aZX4xO7Zb2Agc/b+D4UPt78/jq64wBC6Jaup8vuDiT7JCo/slSKKILbA1xMusPOqh2o3McIKmivFJLa3bxx2ChgFek5k49tFcrJazxJPZAlqmxVaMSQfstACssdyhDQIDJr+rfDSzfXCzFsBrte200pvE5xAkmDNjbIohNm5klmgx9YnSeanMqY5A/FTwObIRibOeDRqguEXKfVlYUsDBao9WTlykDd1C2A/6v6HDLrn8L19fWACeBm7jfSqwkmzehsIIaOBraQNtfrp43aAEzqpEvhK1NPFeC4qG2jkWBXunMnuOISRcCYsAdsF3O7fUNnujpInQp4DZ8KwV2FmvtIOsh0MU0/t5EmSrcCsRpAyod4KFVKDYGfrdIxkSyVp42oJ1W+RLmRdmi0Esc0V7UIzJJ//A+4FBq6GJDSNahvqK0ceqdOtLOlCY7I3aUpxTsUdtOZL6m/rVwjKAPk2qwfngswTfY1DlqXBA1y3zIyIc/qRPHoW5SIy37KpWFJjHxD3I6/c2bOA3y2hQ4pYTZgbjokXWhk5NuoOmZiZwI/XVUnUEJFcawCmm1Ta/tw3ZnakHNtNGbUWEmVz6sXlxuq5lNV4lOqIJuQU5QHEMeyooAIrnXphlkdMea0QBdhgMjIKxu4ijyOJsAkNkSA4nW3zegoRhLwGvsiwsZFjaA+vJ+Pgl41LFqKTBzKJzeY4y4K5XoNc7nis0wgQnLKo12glDFaehPgz6/h64EaExPNTwJAe1DE3wFUMBxd4DV7naTKl3PCl5MMxeG/EgQoy39r+w5UIWwAZ7wmNqNo/ZhYKgiEmkMjJViEcWAN4ggPgzAdfloCgu4iHEgRDTcRcXnedsSBlODF7lLlgOpER4KNup9IZKHakS9TXDhct95PHzZaH3cFI3KsEcHSDhw4pxZUZEFXqYrF0L1DQXjKGS3CVVwx8nDWQ8lEU9eXCBiEat99LPSlgWplOVQDS2NDg3WSNSQYde+YyYCuVZNkYNUgND126YEyidh4loQEG2DBs/cx8KWQNz0yTgqCTkMLmclevB/oQSuswMNCWvYAHh277jmLiswGO2w9Q1IplD35KTr5Hkwr71QA1z9KYTfXDe9ie6JJUVGMgMsSH6YhBvcTN5Z+bw/6BkhdiOf4X0Pk+Qpv4YVvn/BmtOy3CPg+A8gw+v/J82EJl0ikfsma0i508WtNQFu6GJ5nsZ7sTacCgBfB1FmObYVEFLW3GkrRWXPP3mc5A+7fEinK4mqRU5D8gGpdNjZaTx7lfU3nAo5S7q6ZuzncQWjEbqGSyCJeBLuCbu5dB2B0NAvwQyBz0dO4KqIKUmzL6q2DRavRClhgVIC4xaAFJtpuxYBysKndvZhDL1fAUIGdSPVI1pj/IDsdOKzaO8oQp+O6V3E/4NI4XnZr1TBg9+zyic6BWbfzLUlOLB6VgvGd9dJlG2R3DQsnLrRb6tTGFEK3xB7SD1RT3S59Z7c2jisR42rokoQEIGggP4WMs4k1IYD3cOfVdnNjhiKwU8dM8YaSfVVYkKt2aOTuqsgBZY7jUazQPnqrocQgNSYPRF9E+SvLGIzVnyRDRzT5U7xUMb2wAFgAhqoHIja8Y7WQRurG2vHdnqeq6N53vShmnb5r4SmYj8L506vjGsLOMErgHKOchXNdCpdq3QKvrjCj24kXD1E11zUiyyQP1MMjC1GiLD4NtFbhbGXGdkY8i7TXDL5BETfhadPCzeugxtwL4lmKYfiQ+XpIzLxwA9hIky+ggMIqYFfDmiPa8AX7XMRUP+GAPciSQmZh4Q3ckRH3wIhZAsCijAbKl3J+pBtLw3pYK7n4IYHuIwk8Qdyjb+veV3i3lQFXjE95i470ifEZ34URpc53BJVKlIXJwbJgCB41Ag71DFpSqxtLXgf2MW3cvBmvhAaOZEiIFY4AVBNM8UITXn7AS1iF7J6pAoWAjmh4y5Wmx51o7qBVgkfol4MYBDQ6qnu60cLlwDyLZYLAnBUqs8u49IqKPjh1RKKDN4iOh8DC90kXJ3xR8Z3IXSKZY8wTHxaiwMkIazyh4r9Gh4PQgzQ5mi1l/HgDodGAEMOgPtzPUKjxDvqs3BfQ2QO0J2IC73XMhu3pL5h3OK0uF1GF9tgFiBzAEbEjPTfS0cXuhVAaV2toiWcgvopYcMpGI0r0rdl00vNRBbx+vXb6+do4CCDx7s8BhYZKAbGVsYEF33o6xfVwbB6PDhm42oxaeA0Pis6BgJjTlTqIdcdjI5CuK9YAEKmrYea3ZUCxeBgkMLVzXT48dD4WLX4TigKZ1x4yfWTZoIw5Yfj9Abj/j9QD9LCQRHR8r8ZAtosh4YsTZzwE6+t04rsoc2+g1h5gIHF4+O1J7Vg+NGbz7SfwOlPzvqVFhJCQ4mnAXHYqSrG5AGNBbEqAGmFR7CdXyA2PXUBbZDh04fz6OMUM3MHoVfGpA62Ch3LlCzVgC7l8h8oDzdHdYxXflJvm2zGM3fYpvodExdcdIZQVxzzLN/gLhzHDXBEgfgFpqgumRYc6Z2AyvCqVChakJ3UFShQaws6WkvrLRGBZ2vdBDT8fmO5ZrS1WV7AY6aEvuGNBCy6dENU+H7cj+IjURXxTlPiK5oBpiACdbw2ydEwhPeXgVeb0ZnPzCSk4aFIe3c7D+pQqdIRsEnklqk/0kTRiCrR5Cwx7NlvcKcK/+C842Hscz4SUBV8uHsfcFaHWDgNiVHyPq2tg2I0GwSGsCArBXY9aaonlIA/89/xSTMxu0YksrZC3USmjxhTd1OydAjy7HAWjs35LiSTJJGK+1fLY/jYha/Vtoc6KLD7NAwjBqov6ivQQKv+1N5Lit2LeX0kyrAOWwx4Y324Y6Ta1Pfe28KB+o20SyxGKged8rR68DLyOIPFZ8CylJuyKu1OIFtC7cUjNvv1wXNFyGgVX0BpryQgwPEYaTYyRPB4XzBaiaPdjDIqGRRW4knDdjsiAkxdzpWuOpxqgQMMzl0uLjOmW/UD7ziKzeymC3sVo9mXbwe1RmQix8c2+EFYJ2pqhsAx6apOdEn2fGXY9rvHJmE1Ae+fyqD0sH6o6dwh1wtUz6c6+XccvEf4MCg1gEJAu+DwazG+DVNf1RCkDYkgs37VXmFBbf21t9YRme7YS1HcXi284Q9kfNGWse323t0VlvTrImQsPsQe6oMLeHd2EbPNN6ub3aUuCjRDEcgcWHxX+kvCkf/xHvW1E1jcoJZxauvcKydiCv48V37kWZQxtw4qJNODPVsIU+R44zQtroi0Be+hQX63ZyRriAqWJJEBGzKI6HJPsdjpG3Vc3onja7pSJW3QaDu/lW8PjGISJQeEi9QZyj2GseK/BcVrkzo6CmB6a4tMCg2mQY5Ir7qkXBGGv51Yy496L2SD5l4UJHQG9D4NFJC5gLAA8HHMB1ULcWPqjb/FcfCK03wHQM64NAO9+x/lQNAHAAX2YIPJ5gjLOmy259gcgyvU7L8idDkJ2yr1iWAUkKo7aIk9uF+QrKQAFiq4u8yDdIZJNQ+Ts+x2oKKSDb5VtVDdyAHQi/ANtRPG4NK/Z8W1ilCdNK4egJtQD80GKITglgrcAvDm7GAgUvenMrdOOvrlEwcpEut/RfSe/eJeHm6vvwhdX3gi1lwnEsNAm/jZX13mIJM+UrhGdBlhhvig38IwcJ8W9zsAUzqpRN4VOZ6jfC6b+sS/Y0+VtHOmH6PwKZYMjbnwus9HtO0/IURgRkxFYTHJapCqYIzWFN4BpySEpeKAeD6PzeaflxfmdVkq7ynBzOtqlqAW/BkrR0Y7mINvwbWv4iO6GSDPJHdmbG+xH+UW+DEnHia4hqdQ2ohfBna6CR8CN+u0CFILsuJOLZ99dv72NlBM1hBDGM8IP5TFZ/QAQhDXKyVAIySckQWg/67gP6hDcqVNQlTt3Z3Bp5Ksj2JAxfs+OKrZqmi8nKzhDDVK6ie+cEli83+7BM4qzhKseI23xey7482t4xHg1VjMBA+zFo89895p+Rfr4Ni6Ek+j4+ayNAovkBd00m7iCQrQSvXB97wCkxqsPopP00DnR7zRQIHs2uowUsjA8dPG/jrjS/UYoEgyM9Xs/FSUpLaAjORmgMNyebyyd3G82egkJ4rfESLTf/Lfie7SAK4GFZyh/GrsDyRW3gxoNiJjVkPK++Ygp9T1h3BB4xirxqpZXj7YAtoUcBcCwBRv9j0xh9EFhGOyOMwoO4rmNW/1GTWx0/FnUAZN0P19SxougYiS7BzkOfe63MH3Nd29lMhC6UvG0g7Pwn4sCXag3v1t6XXfn5RrBnc4hwNv3CiYVAk75nhTtZy6QhgFusIEE1Gf1sTiISULf0Q1Ukd8PtZuzAzk1bA2fbRAJUoZT0iWiKGNFpKKLerkngI3DN5P83tEsCCValn5tCSSoAFZ8NE5iZCGOFvnI2+fc0hSMyOP6hgheBC/JqM0XtzPY4ff3CcRZGFPQp+eT9FGVEXZAx5l6MPfTxBAh6p9mAdsCes1v4slb46vGhDSdrI7iP3whocfnC9FXoxzU/6gk3T51NDqRmqXEDBZpfvMByw0xUJeUSzQ5viPcMHg1uzxlzOnc9szCN1b5NBH44/uD8eVHwoMzBAdw5t/eZ7uSp4CG3yd2DETwEdbr9O8QEP3Wg28roCeRYRkHdKL6HzKxMGDwGRf0vRjBi75j7X6nFNW/ckp20Z7t7ZL6fRp0CBMDCbLfwU4hteMuyDWR35qZvpvj1ZDwnfkxnjWhUnmmRRqK67v2d+On/kdI/wa+GQTprDiGjAAAAYRpQ0NQSUNDIHByb2ZpbGUAAHicfZE9SMNAHMVfU0tFKh0MUsQhQ3WyICriqFUoQoVQK7TqYD76BU0akhQXR8G14ODHYtXBxVlXB1dBEPwAcXVxUnSREv+XFFrEeHDcj3f3HnfvAK5ZVTSrZxzQdNvMpJJCLr8qhF8RQgxR8BiUFMuYE8U0fMfXPQJsvUuwLP9zf45+tWApQEAgnlUM0ybeIJ7etA3G+8S8UpZU4nPiMZMuSPzIdNnjN8YllzmWyZvZzDwxTyyUuljuYqVsasRTxHFV0ymfy3msMt5irFXrSvue7IWRgr6yzHSaw0hhEUsQIUBGHRVUYSNBq06KhQztJ338Q65fJJdMrgoUciygBg2S6wf7g9/dWsXJCS8pkgRCL47zMQKEd4FWw3G+jx2ndQIEn4ErveOvNYGZT9IbHS1+BES3gYvrjibvAZc7QOzJkEzJlYI0uWIReD+jb8oDA7dA35rXW3sfpw9AlrpK3wAHh8BoibLXfd7d293bv2fa/f0ASM5yljz/NiUAAA0aaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA0LjQuMC1FeGl2MiI+CiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgICB4bWxuczpHSU1QPSJodHRwOi8vd3d3LmdpbXAub3JnL3htcC8iCiAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgeG1wTU06RG9jdW1lbnRJRD0iZ2ltcDpkb2NpZDpnaW1wOmI5YjA2YTAwLWZkOTQtNDc5MC1hNzIzLTlkMGUwNGRiNTRlNyIKICAgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo1MTQ3ZGU5Yi1kOTA0LTRlNWYtYjIyYy0wZmMzOGRmMWI3ZGEiCiAgIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo4YzBjNTI2YS1lYTkyLTQxYWItODM5Yy05OWFhYTM0YjdlYzciCiAgIGRjOkZvcm1hdD0iaW1hZ2UvcG5nIgogICBHSU1QOkFQST0iMi4wIgogICBHSU1QOlBsYXRmb3JtPSJMaW51eCIKICAgR0lNUDpUaW1lU3RhbXA9IjE2ODQ5NDE2NDAxNTU0MjYiCiAgIEdJTVA6VmVyc2lvbj0iMi4xMC4zMCIKICAgdGlmZjpPcmllbnRhdGlvbj0iMSIKICAgeG1wOkNyZWF0b3JUb29sPSJHSU1QIDIuMTAiPgogICA8eG1wTU06SGlzdG9yeT4KICAgIDxyZGY6U2VxPgogICAgIDxyZGY6bGkKICAgICAgc3RFdnQ6YWN0aW9uPSJzYXZlZCIKICAgICAgc3RFdnQ6Y2hhbmdlZD0iLyIKICAgICAgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDowMjQ4MDc5ZS1kMTYyLTQxZmItOGViYS1lMzY2NTRiNGRjMjYiCiAgICAgIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkdpbXAgMi4xMCAoTGludXgpIgogICAgICBzdEV2dDp3aGVuPSIyMDIzLTA1LTI0VDE3OjIwOjQwKzAyOjAwIi8+CiAgICA8L3JkZjpTZXE+CiAgIDwveG1wTU06SGlzdG9yeT4KICA8L3JkZjpEZXNjcmlwdGlvbj4KIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/PkaovgIAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfnBRgPFCiKn0kIAAAFfUlEQVRYw82YTWxc1RXHf+e+N2/GH+Px2IEEV02AgqIsIkwgoYS2ahepVGCBUOiCRRdsAAnECthErBBCICGFj4gqRQqBRSABUrVm1URtCSATJ5ASZCPHH0kGgx1/xJl5nvH7uIcFY4iIM/GzZyhHenqL994993/u+f/fOUeos+nNnkHCJoQWRD0UFzCARYhQCVB8NFWWTwNbT99SNxC3GZfIXg9sADYDWxCuRekEskARYQplFPgEOAr045ph6bXRzwKM3pEX5mduQLkHuAvYCqSW8GkIfAT0IBwknT8lH87o/w2M3mpSqL0LeLQKIrOMZSpVUC8hpkf6bPiTg9FbpBn0L8ATwLoqL5ZrFjgNPAeyV47p3E8GRjdLE6r3oTwHXF0n7ikwgfAEIvvlqJYbDkY3uw4a3YLyNrC2niJSBXQG4c+Ie0yORnGSj5OnRhzlUJ4ErrkikBAoAjPVe7ik4F6D8iRxlGvoyegmx4X4NwgHgM6a8fUyIfc8doZbf99Ca66N0uwF+v7tc3DnWoJK6gqep1C2g3NEjsdLlm03GXSbAe4GmmvGZ91vA3Y8P8aN6ztoyaYxxsPaNrbcnmbbvV/x9ONdnPnA+w71otaMcDfYPqDUmDQTUgjdNYPQsSHkgYf62di9mmwujzHNgIsxzWRzeTZ2r+aBh/rp2BDWDLLQjSzpf7VMMIpB6QKcy77Tuc6wdVsHbspbfJspj63bOuhcV8u3g9KFJtufWQbHakfLdQUv3YrI4qwQ+e65616Jr6mknE4KJgIGgctLZnEq5vRgAWsXLyKttZweLFCcqiW7cdVP1DgwQoQwUNPJxIDDG7vXMDszBvqjDWvM7MwYb+xew8SAUzNowgCSDEwyNVMJQU8AAdC06DvBtOG/76xirlLi3u0nufn2HJmWTir+FJ9+PMu7B66nr6eVYLpWCgUoJ0DCGoq3wv/MbXkhmlkN7Ad+XTMY4kBTl6XlKnA8IQ4U/xyUx8wlB3ZpKvcC23Hz49K79Ep6GeWM8VB7J8pfgasaUM6cAx5EzPvSZ4OGljNy1AYIh4C/L6lASWYBcBCHQ0mBJOfM94rk+WjwAsKvgN8te51LK7kPpm3zK89OrZH1v4zaQ9c4RJFrxDgAqjbSlBcpGqlqODoyWq5TP1OtnoU9wPqV9DMKWlRnfJ+/6q3XKpmhSRVbXU8uuhb6Hq1eVsBHdDiGQWPMuZV1mpuMB/aPCK8CXcsMjs6pufCm3/7PPZXs8LhKnJBjMTCH4f2VdIfIcRsgcgh4FpgkiY4u9Mwqc4fn2468M58dSQhkIbNcwBPVNrPSRJdjWgb2AK8BidrdSCX4PGw5/re53IlBK8uZ0EhVyodCq/1uXTTIzfrExZ0oq4H7gfQSmv54IMqcfNFv7/0ilkCSg1CgoKon1ZEv017ar9/cbEvGEFeuQ9mF8IdaBamFuBB7I7tKq3r+EXjnK0tPTxUoIzqqyCBooRIGM2NjX8d1HQIuKFys0cYY2eeJ3riYwinorHUndvmr3nt7Pj1eVNEa5LZALKIVrBTAnopVRx3HzOE44dDwsG3IRHPBxrtTnkv8p5yjLzvoLy72oaC+mvOvz+V79pZbRyYvJbwC80AFQ1GtPevAqFPxCuoxL57ql8ND2vDx7MVW2JTOuMQPdxDvSInmF/yU1ZT+Nd92eGcp97+RH4BE1XHHLDAtomPWmK8mpiYn/AvFOCmRGmLTm53WOOKpDhM/YqApQsLe+dYPnym1f9xvTVGQc8C4iE5Y1Ulj7eRQoTC7Ih1qFJiTQc7vwN9ZUbk6Z+ydp6L0Z2+Ws/uGrAyI8I2gF6yR0vDI6Uq9fDbsZACO3NQuGa3kr3XC7H+ClvJeP1/6IrbBqbNno0b4+xbMlmARngcRbAAAAABJRU5ErkJggg==",turquoiseBlue:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADMAAAAgCAYAAAC/40AfAAAQDHpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHjapZlrciO5joX/cxWzhCRB8LEckiAjZgez/PnAlD1drrpxu+/YUZJKSmWSwMF5pMP+n/8+4b/4yTHmkLW20kt5+Mk99zR40Z73Z9zH+OT7eH9EPp/FX98P6fP+k3jLD/oc2Mrn+K/34/cJ3qfBK/3Lidr6fDB//aDnz/nbjxN9LiS+Il+FfU7UPyeS9H4QPycY77ae0lv96xbmfp/tayft/Rf84XzVpL5PP/+fK9Uz5TqS0pYoD4+fYkkS/ydBBi+UxySZA6PU9/V9LJ+VUJA/1en7p7Oi40vNfzzol658v/rRrU8F2NqPbuX0OUR+FLl8P//x/RD1z125pf/LlXP7vEq/vr/k2e+KflT/Fv9YO3fP7GLkQqnLZ1NfW7yvOG5yCb90Cyyt0J0ChhrP/tv5bWx+AQV71jP5XbHHRLtOzNHiiCfu+7ziYok57ZAqL1JaSe6bTWrqifXSv+y/8aQqXUwaXVy37VnS91rivWx/VrhXa1zZIoemyMkiX/nHv+GffuEcH4UYvZbjrRXrSsmLzTK8c/7IYXQknk9R9Rb46/fnj/dV6KB6lX1EOqee7ymmxv9jArmNFg5Unt8ZjNU+J6BEXFpZTBQ6QNeiaCzxqSlVCEpSo0GDpfvMTDoQVZOxyJRFCr1pyS/NV2q8hyZNvB14HzKjEyqFOWt0aNCsnBX81NzA0FDRrKpFqzbtOoqUXLSUUouT4qhSc6haS6211V5Hk5abttJqa6230VMXSFN76bW33vsYXHNw5sG3BweMMdOUmaeGWWadbfY5FvBZeekqq662+hqWTAz+sGLVmnUbO26gtPPWXXbdbfc9DlA7Ek4+esqpp51+xnfXPm397fcfdC1+upZup/zA+t013q316xTR6US9ZzQshRzpePUWAOjkPXtazDl557xnT4f+RBOLVO+ZRe8YHcw7Jj3xq3chvR31zv2/+hZq/qVv6T/tXPDW/cPO/d63P3XNnITX7dg7hV7UR5g+Pt9tpDZc7H57Dl8vmBBZjQJKZuNivLe6qJ0KRa10Ri3sSNYUdlTSNhm2fHrW3q2WHUz5Uoy2+qhR1zpd42Kfqyg8pnJK5+GxtfY5jWIPR8pZTsbIJJvx55WD1SrglQsUYzWZesXZ6EkvyWy2BWNz5ii8eI4Oy0Oimkb6skc7bSy6pxpOdJYYfF/3mc9YVbJGen163LX5y4iCvNVAAtgR2sr6lTeca5byylbY04Zy0lkYmkRfF1ReNGUqriVaiyxjp7FhRh2DtvV1qia+03tuAKqzuDlD4XICE9HCqRXrsGVorgIPmcFOOteac6Su7GnsGruyokw9o4BjmR0ARLQ/jwP6BpXm2fXsKYML5BPnaTWtkxc79oIWNTBfe9+FB/A3Oe2s0XJfVYMAPuF6JY3l7goPEzen6iXzT9eoNnwSlc5YYkriFIq5D4N668YUQbg5qBuit6R/55niMfQdTow+0WNvrlaf1sLs3mChUH0c5PChozp06pmlnrJKn4+UbX1r7SOmvPuc0vZs2/wMjDgk0VtYqxjIM1dYscoJtGQYvTb2n5n30Tkf6BursV16Av77ZMB90ucZjDxYsOCHFZuw/1vDvlhJ2YKlPEbd6M9gX8Of00jJTeEY176YG8UDIkBnDqWu7YSyZCM+pjMmOzPXqic9Xsw0s7SV/vW4vs+h3T69/xsRhPcJA/Sdzz51OUPUep69F73eWyzNJidiM5NDYiJEZ04GNnB1WcvGinPN48iEv549+ZStTUt7SN8AY5cIG9bWk7bOPPaUgcRz+LSVmWDI8kBTtZh2O42TplnioNGx7n0YJGe0/MGpMZq1AeLCRxkQIcHZWtMZWkOYa88AP85ZhWvSFmu7zEatE3LewfssC3ZnGhI96iseCHaPafkLlUH/LhpjPVm8LgypZPNX44wGO2V4BWJzCQCLcAzitjMDL/VsLue27FlaJ3tjC3UIVH0aX20MX/5u6a6/UK2/lR05de6JOMTWtzzmBhEZYzQ5Tc+QRtkKC9YEqcF9A/RZKmUGwysy8sNYYWlXNWiILrihT3uAes1rQlP7OTTjHJGzo8IDA+YjV1BReKcFo2UGWgBGbZy/l2nQtwGauIVsUNEpOtFTNdaky7kYApqIyuqMhM7HAEsYYApVU0e+i1uMrCdDT3PpQT+o20OXgEPZwBKiy8REeBwv22wNhA5Bw0S4okzNG35mqDMMaVTl0jZunyl6QV/5IMFkSB8EhX0DGTOBi1E3FHh6YICd/fbZ4/06lbX8tzHBVIELRJmYhTI5dvUigxWcYq4Df0CDx70vPGi03hkp6OEsbTWM9+TQzpH22dKT0T0MjdSiEHJh5OJZggTYdLMzQTrDW3BGMmGpBZcF9X0z4AtKWwK71Mlw8mpfgj5HYVNo7UEJEzPBtxjkTEBt6xiDdAYsVyTggptVFBK7tJCwXhycUQBHmk9VZ/3J+pb3qKMXk1kDsJQHfRGmOO1mD64WS8OJ0Eeqv1D4zfekuw8Alrkkx9LjBMkc3TpyalBHtw5Xm1+VDScVdJByj0tUsFq2crIXUjrAbSZdLdHUDWjevuKdTvvuH+xOA8I2f1EAKCEsU6bqJ4QXzzao7UMTENho75h6mPnDc/jLGx7P0oco6u9EYdiMpB/YXNQAhxc37C0AG5j2d1zgmN99oAv7G39lrE2WwVFQSAFzbnfZdi/BBwI23hOlS9XNbWHOC2yaHOWQ9oTRCrS1eQCsRiZNyb0OeIoHcMQ9FRzlZgfXBoPgG/YqcPO5y4YO8EsTN94fJ4UOxYCqOfjFF1d8ImG042Oa7BbE+CgSfPkaACzizdHSzO8HQQSivWFjk/uYPAm08ML0Oxlj5EZNYNeJky5h4/oWxdnIP68xUhgQCmDb/TYGDPUfczW4nmnWYhgam4adQQ9nq24MODXIPlg1aQgIBmG4KYBBB/XDdGW3ZoYLVazkgYAIVFTlwK4oWesYQAwzSyS9Bwwc9beJo2LIKe9nhuPWn5j7E+S+ARf+NuJ+AI5xvnBboOjArMH78+INjoT6cnMQWNkJokBBi1tjvoBTcpOw0GLGKTvF6zLyB5RSqzEiWyhCQviNkiMvIpQOx4LrwlWnOuDTzs49wpNvcMOgHkfsdhrCByEJeJQAQAYxI/9cPgrQYWbsg7iGRgjlDKlb4Xckeidy0ioTqwt/kXRC58hFGsNjt4ovxYBjL5W8R/hT7XnW99wkrPYXxgYc+FmK293mkftBSbYluHaDfDay1ODagSwdcVET7CMc1zkXWy7L8wYA5IChD6II2pNLesCUUOmHHDST05V6iKiQq8PmoDmMeNcbZK6FWBVCpawscajPgdd3bJw/1UBI8UH1ysPGVCYlDDnj6tmki5t/5Jb7oL554rFh39P35a524lgrMIZUxqLORIcNkO7x/RXcZPyxGhIwZcMpmacKIm3vHoF2AEv6TCwP0XopjZ/uAeBiPC7ChlawzcowIPcoBGrObFFLl9TmbeE0fk8y/Abey4xQX2OPm2TjWefgu434eMCaE7EJlhrXcpAJ5sr1MLB+qkP21oEJngtlRWw20WXjJTHJfIOMRjlLYYc7ERNIxcL2ngjaKRDb3zm4D0JVkQ76ZejoBgasfHm8w+27PrWH/0ZoMvZ9PDrgEzzjEkOQzDnJbkQI1HJBrBNpg1bh54gCP57oSZoZzBG/1hJscm+5OwOcymQAn3kqafWSBWYU7/MR/H/57Gk5ne7UuGEn0+RqeW0SRBrZ8rM2bkQBoHtdbCbaCiHS3GevBXYqChEHkZM98k4io4Fq0ihehV0el5yi7vcsRCzHvmBbM4Oo4a4x9YohJUqwb6FgdoRVVSNIMP8kIi3drSHjMD0erTpCd1qn2+IAyR4Xn+OxoVV4EW9CcmBAS3FzARHEKOWgUXZ3TSn9Bpt/xqxBOeJI1a6CyMAwjRiF3/e/JahO+ALcwOUv1OKf3VvwF9jMhkhgPI3gb9uQQhJJzbXjfvMaxLbtaRxOwNgCb3X4uRYOiz7osgKpTT2ZiC2mA9JthP7l4XQXDvNIZH6Nx/1KvNcgGfl9pfVeY7x3uIN7qsn6VckwqA/DCE/hAwWjS0bT5PMFh6KIU2K5UgGJ/Ix+4YFxAUUpGO0Me16HlBLJ7N7AQusY3EcIWpSY/uKmPCBwIAFCvQYH4Sq0P7IYOMwnxzWcdIWHncQITB62vKWGnQbwwIIh89FHLkkihUyJojCjWwnCoSMnqNp+Ch1HL15exsqP9K8hT6ZgXSU7pmveB8AGGhsxIxlEyHRUR3cGFd8hfjvtNrz92ygnOfjoHMkd29zd1JwEFSO/SCM5lh17sqkGRs7usAhuExZRQktLhdkDmdiGOJg1RK3xBb/1jrvVxQA0D7/QbBloVoU3K/pM/Ohk1Qaj8QVcNmkrI0FV3QSH6Dcw8A5GhK24M4zXqUJ92Tk05ARIVVudK89Xbcltox5yHiNKxriMivWDmO/UTi/bMKIGLoOeM0TEp1z9htwS1HXZ5c5l8EYb+G+mFgEnw/UmWgJenLHN08Coma6DCSK7em/xWlxCM3XiubnDtT08jiIgBFVwljwbIIS6gjMmRtygIiwfowtA/G9kD21jsjGMrXa/fSBQYuxsTByznPXeSirOK3q7VisGrAOqjgQwRMAcYSSn5ERQfKN0QqVcZ5YyKPgX9sls0HlmaeJ8KromfhsYSNjoiZHmlExMo4iwUqrYCl+y3HtnfmNQi9f5yJWlV4OH5YUc0dd7/39TXvB8ovgND7Sdo/e9twbhx/fmZU7YeMcrEsCM0TDfzGyM9AxM+IgMBLI9JsPKaY+TeInkhPeW30IgFsQJbPrUODmW2UTFoTGuACs4sW1K0akJGvg1Cf/+ZtHnmbX67RbAU2uwXvYoDS8GzzKM5LRNYql+H/NQs4gJEjDb88GPp/sXRsyH39RdW+vohMhra6bf0T0EU4pL1EBKRvV8yMCw/e5BHtJwrJAeico3PhZTupL9jk71O511WcC+53vPadEifNmqD/6+Ca1a+B57arkpfxFk/S4oBApPH1aOizMC7lK/D7cCm8Gpmdv8LMsTKPbUoy1mXBbBt/uYUu7kt8X4iEBJVtkKezRr12rliBml/GgfMnphhinBrj0+tkwZfgmFOlagbcwpjomMXOgZY+i+WTBVpb6OMbB3ZnOgIMktAhxTMxLpZXCJvwYdgJdOAiLLEXEflQefJrV5ANNaUX5MRN1kPYPqoWe/TcPEkUmoDPyNRmNehZrh+bo7Yohe/P4KKbNMwW7XxCDD7hYmLI3RhiJ8hjBiC6vitzy3/9nFcwD2X+tecsqjzW1bh3oWs0z623xJIO5TgydMFMUaXh1X4RiCLcheaIZHJKDKqm4NMcBcTmjxGP3GAdIIVtIepjocEsqDaI07Tyi2npk9YovfGDpzY4E8CST/O91aOT5FPS24MRIS9Ze+hF+Ehmaa/4H7fwGCg3GYVGiblAAAAYRpQ0NQSUNDIHByb2ZpbGUAAHicfZE9SMNQFIVPW0tFKx3sUMQhQ3WyICriqFUoQoVQK7TqYPLSP2jSkKS4OAquBQd/FqsOLs66OrgKguAPiKuLk6KLlHhfUmgR44PL+zjvncN99wH+ZpWpZs84oGqWkUklhVx+VQi9IogYIlT9EjP1OVFMw3N93cPH97sEz/K+9+caUAomA3wC8SzTDYt4g3h609I57xNHWVlSiM+JxwxqkPiR67LLb5xLDvt5ZtTIZuaJo8RCqYvlLmZlQyWeIo4rqkb5/pzLCuctzmq1ztp98heGC9rKMtephpHCIpYgQoCMOiqowkKCdo0UExk6T3r4hxy/SC6ZXBUwciygBhWS4wf/g9+zNYuTE25SOAkEX2z7YwQI7QKthm1/H9t26wQIPANXWsdfawIzn6Q3Olr8CIhsAxfXHU3eAy53gNiTLhmSIwWo/MUi8H5G35QHBm+BvjV3bu1znD4AWZpV+gY4OARGS5S97vHu3u65/XunPb8fN2tyj8UDOK0AAA0aaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA0LjQuMC1FeGl2MiI+CiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgICB4bWxuczpHSU1QPSJodHRwOi8vd3d3LmdpbXAub3JnL3htcC8iCiAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgeG1wTU06RG9jdW1lbnRJRD0iZ2ltcDpkb2NpZDpnaW1wOjEwNGNlNWFhLTE1YzctNGI4Yi1iOGU1LTFmYWQyNWFiYzBhZCIKICAgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpkNDMyZTY1Zi0xOThhLTQxM2EtYWYyMy1jNzhlNzczNGRlN2QiCiAgIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDoyNzExODVkMi03MWZiLTRhZDMtYTJmMi1iNjM3OWU3MDc1OTEiCiAgIGRjOkZvcm1hdD0iaW1hZ2UvcG5nIgogICBHSU1QOkFQST0iMi4wIgogICBHSU1QOlBsYXRmb3JtPSJMaW51eCIKICAgR0lNUDpUaW1lU3RhbXA9IjE2ODQ5NDE4NjYyMzgzMjQiCiAgIEdJTVA6VmVyc2lvbj0iMi4xMC4zMCIKICAgdGlmZjpPcmllbnRhdGlvbj0iMSIKICAgeG1wOkNyZWF0b3JUb29sPSJHSU1QIDIuMTAiPgogICA8eG1wTU06SGlzdG9yeT4KICAgIDxyZGY6U2VxPgogICAgIDxyZGY6bGkKICAgICAgc3RFdnQ6YWN0aW9uPSJzYXZlZCIKICAgICAgc3RFdnQ6Y2hhbmdlZD0iLyIKICAgICAgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo1NGFiYzNkYS1lZWJiLTRlZjctYjdjNS04ZDRjODY5OGVjODMiCiAgICAgIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkdpbXAgMi4xMCAoTGludXgpIgogICAgICBzdEV2dDp3aGVuPSIyMDIzLTA1LTI0VDE3OjI0OjI2KzAyOjAwIi8+CiAgICA8L3JkZjpTZXE+CiAgIDwveG1wTU06SGlzdG9yeT4KICA8L3JkZjpEZXNjcmlwdGlvbj4KIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/Pj0tlUwAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfnBRgPGBru/VeEAAAABmJLR0QA/wD/AP+gvaeTAAAFO0lEQVRYw9WYe2xTVRzHTx97dYS5B1UHa+/tY12dDoOKWyIGlfgHkCkSNTHGwHxA3NiAP/A5x4CMKEzdYL29YyAyBxKQZbI+NvYIaowaH9Ogi2GRbGjcFrbBNrq2a2/9nq5LCFnbbfSOeZJPTs/t6Tm/7/39zu+cU0IiXc7WSImNX0BsZiVYAhigmah5tHklsZrjSYtJSuZtaeSiiJU3gHUwfC9oARfBIHBP1DzaPH1eRuzmp0E6aTgSNX9EWMwSvOkMGPgG+CpguG8a0H7nA78zkMYqye0V0lYXDSHrYUw7cE5TxM04/b+38+vJ+RPRt0eIjVeAAhhyCQizFDKJEBjndaCY49Di4+CRlzFxfwSE3Ciol9i4DSBujoRUy7HIszFxdwSF3CioBy8qm1g5ufhirHwyJqwHrrDGWTlg8hFL1URN2+EF0XFPkyYuSWwhUVgnT2CygXBG3dFcM7bz1/au1u7OK9/93eWidUlHe1dCc810EsUAsXOPQZCI3rGZ6Wb4EXAEM0SCUFnZduz6T/09l4bHXYOCz+f0+XxeWg+7XYM/4vnKtlqHJHSIOrAHlYMFYmawRNCKycaDGZLVfMRdf/nPDpfXM+abotDnpy93dtzXfNgdZg+im2uimJ6h66UTeIMZsrat1jvkdPRRb/imLt4hl6N3DfqFEIPvOMzDJYspJsWfbUKEyFNttcKoyzkKo4UgYoRRt3OE9guT1br984nsmQ7gCWbIipaj4xeu9v/hFQTPlG7B89+u9v9O+4UQQ8f/BSlaVM8kgBOhji4p9mpvwQ+Wfwddjp6bQw2u8g44HT3535/tTUa/0Eccvg4sFDE1m2PBZkx2LVRqVcLQvG/PDDX1/tVxze38x+UZH6O1He28b764qgwtxOcf327eBGLFE9NikiD3qzDZhVBJgCJH3KubDnkfbD4s5Jw74qM1bcvDnxq8/vHt1SrS9InIJ2m7OQ4UYsKhCB9lJqHj0gPsHJzPvsS9w8rRRPDptI40M8PlH9fOJ5M5K008rsZmIwi5gc4QN9Zja8zn+5epch9PTFepU1iGuVunVqeyS9g0iv8zy96l0WiSjIsXx28iJEJhaONkMGB5YP14bkmI1SzIz1T0pRa9VKnNzCjUMcwWUAS2BtgWYLJN+xTo1OyrOhW7xsAwqnSGkd3i+uGjkT5Xw6DLt3AdEKQNB4YXbdtwQpuVuRtG7pwhxWA7vJgRib0nDuSDvtkIkjYcHE3aVWjRLL9/zyyETPK2Vq3OidAaOhiPDLcbxo3MRIik0eReWPnO15pHHiqbpYhS6hkNw7wAz0To6GM5hAzH3wkDa6b7x4bEwnkUfMnP6idX7Nex7GxElIDNerV6hU6jSdbp9RHck2w0w/FaGGoJm7KtnCfmWNlF1fOrK3Q6bekMRFABO7QM8yxewFLUi+5JSxPpAmcxy0gjt1Rytir4NcHKCfJTH/al5j1j1hr0pWEML55YD+x2GP6cVqNZZjQYEvUsG4vP4v8jKju5L1p6qnytxGKa6qogyOorBpVbXvxMe69xdxABb9I0DAGvIIRWp7NsBsJIoWVZKfaXuf+jMKp2b6z8+Adb4aErNwpCCh5J2pnfoH0ga08g7invBfaQjXjjuQifhyEgLdNolJP5UqR17y+QnSwvk1i565OZK6F8RzubvWwvDH8LvKZnmHXY8HKws+sNLJtI5muJ/7hYElOzJ1V+fN9R7CVDClPJOVXuqo06vS4HQjTwgDKDZRXk/1JiD7wrieFLk6T1lczCXUVK7aPZinS9XrTw+Q+Tql7SUmvGuQAAAABJRU5ErkJggg==",defaultOffset:[-25.5,-32]},Tt=o("./node_modules/ol/Feature.js"),Mt=o("./node_modules/ol/geom/Polygon.js"),Rt=o("./node_modules/ol/geom/MultiPolygon.js"),Lt=mt.getLogger("styling");Tt.b.prototype.setPropertyFill=function(){var e=this.getStyle();if(e&&(!Array.isArray(e)||0!==e.length)){var t=e.getFill();if(t){var o=t.getColor();if(Array.isArray(o)){var n="rgba(";n+=o[0]+",",n+=o[1]+",",n+=o[2]+",",o=n+=o[3]+")"}if(jt.isRGB(o)){var r=jt.rgbaToHex(o);this.set("fill",r.hex),this.set("fill-opacity",r.opacity)}else this.set("fill",o),this.set("fill-opacity",1)}}},Tt.b.prototype.setPropertyStroke=function(){var e=this.getStyle();if(e&&(!Array.isArray(e)||0!==e.length)){var t=e.getStroke();if(t){var o=t.getColor();if(Array.isArray(o)){var n="rgba(";n+=o[0]+",",n+=o[1]+",",n+=o[2]+",",o=n+=o[3]+")"}if(jt.isRGB(o)){var r=jt.rgbaToHex(o);this.set("stroke",r.hex),this.set("stroke-opacity",r.opacity)}else this.set("stroke",o),this.set("stroke-opacity",1);this.set("stroke-width",t.getWidth())}}},Tt.b.prototype.setPropertyLabel=function(){var e=this.getStyle();if(e&&(!Array.isArray(e)||0!==e.length)){var t=void 0!==this.get("name");if(e.getText()&&t){var o=e.getText().getFill();if(o){var n=o.getColor();if(Array.isArray(n)){var r="rgba(";r+=n[0]+",",r+=n[1]+",",r+=n[2]+",",n=r+=n[3]+")"}if(jt.isRGB(n)){var i=jt.rgbaToHex(n);this.set("label-fill",i.hex),this.set("label-fill-opacity",i.opacity)}else this.set("label-fill",n),this.set("label-fill-opacity",1)}var a=e.getText().getStroke();if(a){var s=a.getColor();if(Array.isArray(s)){var l="rgba(";l+=s[0]+",",l+=s[1]+",",l+=s[2]+",",s=l+=s[3]+")"}if(jt.isRGB(s)){var c=jt.rgbaToHex(s);this.set("label-stroke",c.hex),this.set("label-stroke-opacity",c.opacity)}else this.set("label-stroke",s),this.set("label-stroke-opacity",1);this.set("label-stroke-width",a.getWidth())}this.set("label-font",e.getText().getFont()||kt.DEFAULT_TEXT.font),this.set("label-textAlign",e.getText().getTextAlign()||kt.DEFAULT_TEXT.textAlign)}}},Tt.b.prototype.setPropertyMarker=function(){var e=this.getStyle();if(e&&(!Array.isArray(e)||0!==e.length)){var t=e.getImage();if(t)if(t instanceof Et.a){var o=t.getColor();if(Array.isArray(o)){var n="rgba(";n+=o[0]+",",n+=o[1]+",",n+=o[2]+",",o=n+=o[3]+")"}if(o){var r=jt.rgbaToHex(o);this.set("marker-color",r.hex)}var i=t.getScale();switch(Math.round(2*i)/2){case 0:case.5:this.set("marker-size","small");break;case 1:this.set("marker-size","medium");break;case 1.5:case 2:this.set("marker-size","large")}var a=t.getSrc();a&&this.set("marker-symbol",a),this.unset("circle-fill"),this.unset("circle-fill-opacity"),this.unset("circle-stroke"),this.unset("circle-stroke-width"),this.unset("circle-stroke-opacity"),this.unset("circle-radius")}else{var s=t.getFill();if(s){var l=s.getColor();if(Array.isArray(l)){var c="rgba(";c+=l[0]+",",c+=l[1]+",",c+=l[2]+",",l=c+=l[3]+")"}if(jt.isRGB(l)){var u=jt.rgbaToHex(l);this.set("circle-fill",u.hex),this.set("circle-fill-opacity",u.opacity)}else this.set("circle-fill",l),this.set("circle-fill-opacity",1)}var d=t.getStroke();if(d){var h=d.getColor();if(Array.isArray(h)){var p="rgba(";p+=h[0]+",",p+=h[1]+",",p+=h[2]+",",h=p+=h[3]+")"}if(jt.isRGB(h)){var f=jt.rgbaToHex(h);this.set("circle-stroke",f.hex),this.set("circle-stroke-opacity",f.opacity)}else this.set("circle-stroke",h),this.set("circle-stroke-opacity",1);this.set("circle-stroke-width",d.getWidth())}var g=t.getRadius();this.set("circle-radius",g)}}};var kt={APPLY_CONVERT_GEOM_GPX:!0,DEFAULT_ICON:{src:Pt.lightOrange,anchor:[.5,1],scale:1},DEFAULT_CIRCLE:{radius:10,fill:{opacity:1,color:[0,0,0,1]},stroke:{width:1,opacity:1,color:[0,0,0,1]}},DEFAULT_STROKE:{width:5,opacity:1,color:[250,250,250,1]},DEFAULT_FILL:{opacity:1,color:[0,0,0,1]},DEFAULT_TEXT:{font:"16px sans",textAlign:"left",stroke:{color:[250,250,250,1],width:5,opactity:1},fill:{opacity:1,color:[0,0,0,1]}},getListTags:function(){return["type","fill","fill-opacity","stroke","stroke-opacity","stroke-width","circle-fill","circle-fill-opacity","circle-stroke","circle-stroke-opacity","circle-stroke-width","circle-radius","marker-symbol","marker-color","marker-size","label-fill","label-fill-opacity","label-stroke","label-stroke-width","label-stroke-opacity","label-font","label-textAlign"]},defineStyleFromProperties:function(e){var t=null,o={},n=null;if(e.get("marker-color")||e.get("marker-size")||e.get("marker-symbol")){(n={}).src=this.DEFAULT_ICON.src,n.anchor=this.DEFAULT_ICON.anchor;var r=e.get("marker-symbol");r&&-1!==r.search("data:image/png;base64")&&(n.src=r);var i=e.get("marker-color");jt.isHex(i)&&(n.color=jt.hexToRgba(i,1));var a=e.get("marker-size");if(a)switch(a){case"small":n.scale=.5;break;case"medium":n.scale=1;break;case"large":n.scale=1.5;break;default:n.scale=this.DEFAULT_ICON.scale}}var s=null;(e.get("stroke")||e.get("stroke-opacity")||e.get("stroke-width"))&&((s={}).color=jt.hexToRgba(e.get("stroke"),+e.get("stroke-opacity")||this.DEFAULT_STROKE.opacity),s.width=+e.get("stroke-width")||this.DEFAULT_STROKE.width);var l=null;(e.get("fill")||e.get("fill-opacity"))&&((l={}).color=jt.hexToRgba(e.get("fill"),+e.get("fill-opacity")||this.DEFAULT_FILL.opacity));var c=null,u=null,d=""!==e.get("name");d&&((e.get("label-fill")||e.get("label-fill-opacity"))&&((u={}).color=jt.hexToRgba(e.get("label-fill"),+e.get("label-fill-opacity")||this.DEFAULT_TEXT.fill.opacity)),(e.get("label-stroke")||e.get("label-stroke-opacity")||e.get("label-stroke-width"))&&((c={}).color=jt.hexToRgba(e.get("label-stroke"),+e.get("label-stroke-opacity")||this.DEFAULT_TEXT.stroke.opacity),c.width=+e.get("label-stroke-width")||this.DEFAULT_TEXT.stroke.width));var h=e.get("circle-radius")||this.DEFAULT_CIRCLE.radius,p=null;(e.get("circle-stroke")||e.get("circle-stroke-opacity")||e.get("circle-stroke-width"))&&((p={}).color=jt.hexToRgba(e.get("circle-stroke"),+e.get("circle-stroke-opacity")||this.DEFAULT_CIRCLE.stroke.opacity),p.width=+e.get("circle-stroke-width")||this.DEFAULT_CIRCLE.stroke.width);var f=null;(e.get("circle-fill")||e.get("circle-fill-opacity"))&&((f={}).color=jt.hexToRgba(e.get("circle-fill"),+e.get("circle-fill-opacity")||this.DEFAULT_CIRCLE.fill.opacity));var g=e.getGeometry().getType();switch(g){case"Circle":case"Point":case"MultiPoint":var m=!1,y={};if(p&&(y.stroke=new Ot.a(p)),f&&(y.fill=new St.a(f)),0!==Object.keys(y).length&&(m=!0,y.radius=+h,o.image=new wt.a(y)),n&&(o.image=new Et.a(n)),d){var v={};if(c&&(v.stroke=new Ot.a(c)),u&&(v.fill=new St.a(u)),0!==Object.keys(v).length)v.text=e.get("name"),v.textAlign=e.get("label-textAlign")||this.DEFAULT_TEXT.textAlign,v.font=e.get("label-font")||this.DEFAULT_TEXT.font,o.text=new xt.a(Object.assign({},this.DEFAULT_TEXT,v));else if(n||m){var _=new xt.a(Object.assign({},this.DEFAULT_TEXT,{fill:new St.a(this.DEFAULT_TEXT.fill),stroke:new Ot.a(this.DEFAULT_TEXT.stroke)}));if(_){var b=_.clone();b.setText(e.get("name")),o.text=b}}}break;case"Polygon":case"MultiPolygon":s&&(o.stroke=new Ot.a(s)),l&&(o.fill=new St.a(l));break;case"LineString":case"MultiLineString":if(s&&(o.stroke=new Ot.a(s)),this.APPLY_CONVERT_GEOM_GPX&&l){var A=e.get("type");if(A&&("Polygon"===A||"MultiPolygon"===A)){o.fill=new St.a(l);var C=e.clone(),w="LineString"===g?Mt.b:Rt.a;e.setGeometry(new w([C.getGeometry().getCoordinates()]))}}}return 0!==Object.keys(o).length&&(t=new It.c(o)),t},defineStyleFunctionByDefault:function(e){if(!e)return[];if(0===Object.keys(e).length)return[];return function(t,o){var n=null;switch(t.getGeometry().getType()){case"Point":case"MultiPoint":var r={};if(e.getImage()&&(r.image=e.getImage()),e.getText()&&t.get("name")){var i=e.getText().clone();i.setText(t.get("name")),r.text=i}n=new It.c(r);break;case"Circle":var a={},s={};if(e.getFill()&&(s.fill=e.getFill()),e.getStroke()&&(s.stroke=e.getStroke()),e.getText()&&t.get("name")){var l=e.getText().clone();l.setText(t.get("name")),a.text=l}0!==Object.keys(s).length&&(s.radius=3,a.image=new wt.a(s)),n=new It.c(a);break;case"Polygon":case"MultiPolygon":var c={};e.getFill()&&(c.fill=e.getFill()),e.getStroke()&&(c.stroke=e.getStroke()),n=new It.c(c);break;case"LineString":case"LinearRing":case"MultiLineString":var u={};e.getStroke()&&(u.stroke=e.getStroke()),n=new It.c(u)}return[n]}},definePropertiesFromStyleByType:function(e){switch(e.getGeometry().getType()){case"Point":case"MultiPoint":e.setPropertyMarker(),e.setPropertyLabel();break;case"LineString":case"MultiLineString":e.setPropertyStroke();break;case"Polygon":case"MultiPolygon":e.setPropertyStroke(),e.setPropertyFill()}},definePropertiesFromStyle:function(e){var t=e.getStyle()||e.getStyleFunction();if(t){if("function"==typeof t){var o=t.call(this,e,0);if(!o||0===o.length)return;t=Array.isArray(o)?o[0]:o,e.setStyle(t)}this.definePropertiesFromStyleByType(e)}},defineTagFromStyle:function(e,t){return Lt.trace("todo..."),null}},Gt=kt;function Dt(e){return(Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Nt=mt.getLogger("parser"),Ft={parse:function(e){var t=null,n="undefined"!=typeof window?window:null;"object"===("undefined"==typeof exports?"undefined":Dt(exports))&&null===window?t=(new(0,o("xmldom").DOMParser)).parseFromString(e,"text/xml"):n.DOMParser?t=(new n.DOMParser).parseFromString(e,"text/xml"):n.ActiveXObject?((t=new n.ActiveXObject("Microsoft.XMLDOM")).async=!1,t.loadXML(e)):Nt.log("Incompatible environment for DOM Parser !");var r=t.querySelector("parsererror");return r?(console.error(r),null):(Nt.trace(t),t)},toString:function(e){var t=(new XMLSerializer).serializeToString(e);return Nt.trace(t),t},format:function(e){for(var t="",o=(e=e.replace(/(>)\s*(<)(\/*)/g,"$1\n$2$3").replace(/ *(.*) +\n/g,"$1\n").replace(/(<.+>)(.+\n)/g,"$1\n$2")).split("\n"),n=0,r="other",i={"single->single":0,"single->closing":-1,"single->opening":0,"single->other":0,"closing->single":0,"closing->closing":-1,"closing->opening":0,"closing->other":0,"opening->single":1,"opening->closing":0,"opening->opening":1,"opening->other":1,"other->single":0,"other->closing":-1,"other->opening":0,"other->other":0},a=0;a<o.length;a++){var s=o[a],l=Boolean(s.match(/<.+\/>/)),c=Boolean(s.match(/<\/.+>/)),u=Boolean(s.match(/<[^!].*>/)),d=l?"single":c?"closing":u?"opening":"other",h=r+"->"+d;r=d;var p="";n+=i[h];for(var f=0;f<n;f++)p+="\t";"opening->closing"===h?t=t.substr(0,t.length-1)+s+"\n":t+=p+s+"\n"}return Nt.trace(t),t}};function Ut(e){return(Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Bt={detectSupport:function(){var e=!0,t=window.navigator.userAgent.toLowerCase();return-1===t.indexOf("iphone")&&-1===t.indexOf("ipod")&&-1===t.indexOf("ipad")&&-1===t.indexOf("android")&&-1===t.indexOf("mobile")&&-1===t.indexOf("blackberry")&&-1===t.indexOf("tablet")&&-1===t.indexOf("phone")&&-1===t.indexOf("touch")||(e=!1),-1===t.indexOf("msie")&&-1===t.indexOf("trident")||(e=!0),e},assign:function(e,t){for(var o in e=e||{},t)t.hasOwnProperty(o)&&(e[o]=t[o]);return e},mergeParams:function(e,t,o){if(void 0!==e&&void 0!==t)for(var n in void 0===o&&(o=!0),t)t.hasOwnProperty(n)&&("object"===Ut(t[n])?e.hasOwnProperty(n)?this.mergeParams(e[n],t[n],o):e[n]=t[n]:e.hasOwnProperty(n)?o&&(e[n]=t[n]):e[n]=t[n])}},zt=mt.getLogger("extended KML format"),Vt=function(e){function t(o){if(!(this instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");o=o||{},this.source=null,this.extensions=o.extensions||null,o.defaultStyle&&!Array.isArray(o.defaultStyle)&&(o.defaultStyle=[o.defaultStyle]),null!==o.defaultStyle&&void 0!==o.defaultStyle||(o.defaultStyle=[]),e.call(this,o)}function o(e,t,o){for(var n="#document"===e.nodeName?e.childNodes[0].childNodes:e.childNodes,r=n,i=0;i<n.length;i++){var a=n[i];if("Document"===a.nodeName){r=a.childNodes;break}if("Placemark"===a.nodeName){r=[a];break}}for(var s={},l=-1,c=0;c<r.length;c++){var u=r[c];switch(u.nodeName){case"Style":var d=u.attributes[0];if(d&&"id"===d.nodeName){var h=u;s[d.nodeValue]=h}break;case"Placemark":l++;for(var p=u.childNodes,f=!1,g=!1,m=!1,y=null,v=null,_=null,b=u,A=0;A<p.length;A++)switch(p[A].nodeName){case"Polygon":m=!0;break;case"LineString":g=!0;break;case"Point":f=!0;break;case"Style":v=p[A],y=p[A].childNodes;break;case"styleUrl":var C=p[A].textContent.slice(1);s[C]&&(y=s[C].childNodes);break;case"ExtendedData":_=p[A].childNodes;break;case"name":b=null}if(_){zt.log("ExtendedData :",_);var w=o.extendedData;w&&"function"==typeof w&&w(t[l],_)}if(b){zt.log("Name :",b);var E=o.nameData;E&&"function"==typeof E&&E(t[l],b)}if(f&&y&&0!==y.length){for(var I=null,O=null,S=0;S<y.length;S++)switch(y[S].nodeName){case"LabelStyle":I=y[S];break;case"IconStyle":O=y[S]}var x=t[l].getProperties().name,j=t[l].getProperties().description,P=x||j;if(zt.trace(P),!O&&I){var T=o.labelStyle;T&&"function"==typeof T&&T(t[l],I)}else if(O&&!I){var M=o.iconStyle;M&&"function"==typeof M&&M(t[l],O)}else if(O&&I){var R=o.iconLabelStyle;R&&"function"==typeof R&&R(t[l],O,I)}}else{var L=t[l],k=L.getStyle();if(k&&"function"==typeof k){var G=k.call(this,L,0);G&&0!==G.length&&(k=G[0])}if(m){var D=o.polygonStyle;D&&"function"==typeof D&&D(t[l],y)}if(g){var N=o.lineStringStyle;N&&"function"==typeof N&&N(t[l],y)}if(f&&k){var F=k.getImage();if(F&&F instanceof wt.a){var U=o.circleStyle;U&&"function"==typeof U&&U(t[l],v)}else if(F&&F instanceof Et.a){var B=o.pointStyle;B&&"function"==typeof B&&B(t[l],v)}}}break;default:zt.trace("tag is not processing !")}}}function n(e,t,n){function r(e,t){var o=e.toString(16);"#"===o.charAt(0)&&(o=o.slice(1)),t=t||1;var n=t=(t=parseInt(255*t,10)).toString(16);return n+=o.substr(4,2),n+=o.substr(2,2),(n+=o.substr(0,2)).toLowerCase()}var i=function(t,o){if(zt.trace("label with style :",o),t&&t.getStyle()instanceof It.c){var n=t.getStyle().getText();if(!n)return;var i="Sans",a="16px",s=n.getFont();if(s){var l=s.split(" ",2);a=l[0],i=l[1]}var c=t.getStyle().getText().getStroke();if(!c)return;if(c instanceof Ot.a){var u=r("#FFFFFF"),d=c.getColor();if(Array.isArray(d)){var h="rgba(";h+=d[0]+",",h+=d[1]+",",h+=d[2]+",",d=h+=d[3]+")"}if(jt.isRGB(d)){var p=jt.rgbaToHex(d);u=r(p.hex,p.opacity)}else u=r(d);var f=c.getWidth()||"0";if(o&&0===o.getElementsByTagName("LabelStyleSimpleExtensionGroup").length){var g=document.createElementNS(e.namespaceURI,"LabelStyleSimpleExtensionGroup");g.setAttribute("fontSize",a),g.setAttribute("fontFamily",i),g.setAttribute("haloColor",u),g.setAttribute("haloRadius",f),g.setAttribute("haloOpacity","1"),o.appendChild(g)}}var m=t.getStyle().getImage();if(!m)return;if(m instanceof wt.a){var y=null,v=null;if(m.getStroke()){if(v=m.getStroke().getWidth(),y=m.getStroke().getColor(),Array.isArray(y)){var _="rgba(";_+=y[0]+",",_+=y[1]+",",_+=y[2]+",",y=_+=y[3]+")"}if(jt.isRGB(y)){var b=jt.rgbaToHex(y);y=r(b.hex,b.opacity)}else y=r(y)}var A=null;if(m.getFill()){if(A=m.getFill().getColor(),Array.isArray(A)){var C="rgba(";C+=A[0]+",",C+=A[1]+",",C+=A[2]+",",A=C+=A[3]+")"}if(jt.isRGB(A)){var w=jt.rgbaToHex(A);A=r(w.hex,w.opacity)}else A=r(A)}if(o&&0===o.getElementsByTagName("ObjectSimpleExtensionGroup").length){var E=document.createElementNS(e.namespaceURI,"ObjectSimpleExtensionGroup");E.setAttribute("type","circle"),E.setAttribute("radius",m.getRadius()),E.setAttribute("fillColor",A),E.setAttribute("strokeColor",y),E.setAttribute("strokeWidth",v),o.appendChild(E)}}}},a=function(t,o){if(zt.trace("marker with style (hotspot):",o),t&&t.getStyle()instanceof It.c){var n=t.getStyle().getImage();if(!n)return;if(n instanceof Et.a){var r=0,i=0,a=n.getSize(),s=n.getAnchor();if(s.length&&(r=s[0],i=(i=s[1])===a[1]?0:a[1]-i),o&&0===o.getElementsByTagName("hotSpot").length){var l=document.createElementNS(e.namespaceURI,"hotSpot");l.setAttribute("x",r),l.setAttribute("y",i),l.setAttribute("xunits","pixels"),l.setAttribute("yunits","pixels"),o.appendChild(l)}}}};o.call(this,e,t,{labelStyle:i,iconStyle:a,iconLabelStyle:function(e,t,o){zt.trace("write an icon with a label"),a(e,t),i(e,o)},circleStyle:function(t,o){if(t&&t.getStyle()instanceof It.c){var n=t.getStyle().getImage();if(!n)return;if(n instanceof wt.a){var i=null,a=null;if(n.getStroke()){if(a=n.getStroke().getWidth(),i=n.getStroke().getColor(),Array.isArray(i)){var s="rgba(";s+=i[0]+",",s+=i[1]+",",s+=i[2]+",",i=s+=i[3]+")"}if(jt.isRGB(i)){var l=jt.rgbaToHex(i);i=r(l.hex,l.opacity)}else i=r(i)}var c=null;if(n.getFill()){if(c=n.getFill().getColor(),Array.isArray(c)){var u="rgba(";u+=c[0]+",",u+=c[1]+",",u+=c[2]+",",c=u+=c[3]+")"}if(jt.isRGB(c)){var d=jt.rgbaToHex(c);c=r(d.hex,d.opacity)}else c=r(c)}if(o&&0===o.getElementsByTagName("ObjectSimpleExtensionGroup").length){var h=document.createElementNS(e.namespaceURI,"LabelStyle"),p=document.createElementNS(e.namespaceURI,"ObjectSimpleExtensionGroup");p.setAttribute("type","circle"),p.setAttribute("radius",n.getRadius()),p.setAttribute("fillColor",c),p.setAttribute("strokeColor",i),p.setAttribute("strokeWidth",a),h.appendChild(p),o.appendChild(h)}}}},pointStyle:function(e,t){},nameData:function(e,t){for(var o=0;o<t.length;o++){if("name"===t[o].nodeName)return}var n=e.getProperties().name;if(n){var r=document.createElement("name");r.innerHTML=n,t.appendChild(r)}},extendedData:function(e,t){if(t&&t.length){for(var o=[],n=0;n<t.length;n++){var r=t[n];if("Data"===r.nodeName){var i=r.getAttribute("name");Gt.getListTags().includes(i)&&o.push(r)}}o&&o.length&&o.forEach((function(e){e.remove()}))}}});var s=Ft.toString(e);return s||null}function r(t,n){var r,i=e.prototype.readFeatures.call(this,t,n),a="";if(a=(a=(a="string"==typeof t?t:t.documentElement.outerHTML).replace(/\n/g,"")).replace(/(>)\s*(<)/g,"$1$2"),null===(r=Ft.parse(a)))return i;function s(e){var t="";t+=e.substr(6,2),t+=e.substr(4,2),t+=e.substr(2,2);for(var o=parseInt(t,16).toString(16),n="",r=o.length||0,i=0;i<6-r;i++)n+="0";return o="#"+n+o}var l=function(e,t){if(zt.trace("label with style :",t),e){for(var o=e.getProperties().name,n=s("ff000000"),r="#FFFFFF",i=0,a="Sans",l="16px",c=null,u=5,d="#000000",h="#ffffff",p=1,f=!1,g=!1,m=t.childNodes,y=0;y<m.length;y++)switch(m[y].nodeName){case"scale":case"colorMode":break;case"color":n=s(m[y].textContent);break;case"LabelStyleSimpleExtensionGroup":f=!0;for(var v=m[y].attributes,_=0;_<v.length;_++)switch(v[_].nodeName){case"fontFamily":a=v[_].nodeValue;break;case"fontSize":l=v[_].nodeValue;break;case"haloColor":r=s(v[_].nodeValue);break;case"haloRadius":i=parseInt(v[_].nodeValue,10);break;case"haloOpacity":parseFloat(v[_].nodeValue)}break;case"ObjectSimpleExtensionGroup":g=!0;for(var b=m[y].attributes,A=0;A<b.length;A++)switch(b[A].nodeName){case"type":c=b[A].nodeValue;break;case"radius":u=parseInt(b[A].nodeValue,10);break;case"fillColor":var C=b[A].nodeValue,w=Math.round(jt.num(C.substr(0,2))/255*10)/10,E=s(C);d=jt.hexToRgba(E,w);break;case"strokeColor":var I=b[A].nodeValue,O=Math.round(jt.num(I.substr(0,2))/255*10)/10,S=s(I);h=jt.hexToRgba(S,O);break;case"strokeWidth":p=parseInt(b[A].nodeValue,10)}}var x=null;g&&"circle"===c?x=new wt.a({radius:u,fill:new St.a({color:d}),stroke:new Ot.a({color:h,width:p})}):f&&(x=new Et.a({src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR4nGNiYAAAAAkAAxkR2eQAAAAASUVORK5CYII=",size:[51,38],anchor:[25.5,38],anchorOrigin:"top-left",anchorXUnits:"pixels",anchorYUnits:"pixels"})),e.setStyle(new It.c({image:x,text:new xt.a({font:l+" "+a,textAlign:"left",text:o,fill:new St.a({color:n}),stroke:new Ot.a({color:r,width:i})})}))}},c=function(e,t){zt.trace("hotspot :",t);for(var o=null,n=null,r=s("ffffffff"),i=!1,a=51,l=38,c=!1,u=25.5,d="pixels",h=38,p="pixels",f=t.childNodes,g=!1,m=0;m<f.length;m++)switch(f[m].nodeName){case"Icon":g=!0;for(var y=f[m].childNodes,v=0;v<y.length;v++)switch(y[v].nodeName){case"href":o=y[v].textContent;break;case"gx:w":i=!0,a=parseFloat(y[v].textContent);break;case"gx:h":i=!0,l=parseFloat(y[v].textContent)}break;case"hotSpot":c=!0;for(var _=f[m].attributes,b=0;b<_.length;b++)switch(_[b].nodeName){case"x":u=parseFloat(_[b].nodeValue);break;case"y":h=parseFloat(_[b].nodeValue);break;case"yunits":d=_[b].nodeValue;break;case"xunits":p=_[b].nodeValue}break;case"scale":n=parseFloat(f[m].textContent);break;case"color":r=s(f[m].textContent)}var A=null;if(g){var C={src:o||"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR4nGNiYAAAAAkAAxkR2eQAAAAASUVORK5CYII=",color:r,crossOrigin:"anonymous",scale:n||1};i&&Bt.mergeParams(C,{size:[a,l]}),c&&Bt.mergeParams(C,{anchor:[u,h],anchorOrigin:"bottom-left",anchorXUnits:d||"pixels",anchorYUnits:p||"pixels"}),A=new Et.a(C)}var w=e.getStyleFunction();if(w){var E=w(e,0);if(E&&!Array.isArray(E)&&(E=[E]),E&&0!==E.length){var I=1===E.length?E[0]:E[E.length-1];e.setStyle(new It.c({image:A,text:I.getText()}))}}},u=function(e,t){};return o.call(this,r,i,{lineStringStyle:u,polygonStyle:u,pointStyle:u,labelStyle:this.showPointNames_?l:null,iconStyle:c,iconLabelStyle:this.showPointNames_?function(e,t,o){zt.trace("display icon and label"),l(e,o),c(e,t)}:c,extendedData:function(e,t){if(zt.trace("extendData :",t),e){for(var o={},n=e.get("name")||"",r=e.get("description")||"",i=null,a=0;a<t.length;a++){var s=t[a],l=s.attributes[0],c=s.childNodes;if("name"===l.nodeName)switch(l.nodeValue){case"label":n=s.textContent,o.name=n;break;case"title":case"attributetitle":for(var u=0;u<c.length;u++)"value"===c[u].nodeName&&(i=c[u].textContent);break;default:o[l.nodeValue]=s.textContent}}i&&(r=r?i+" : "+r:i,o.description=r),Object.keys(o).length&&e.setProperties(o,!0)}}}),i}return e&&(t.__proto__=e),t.prototype=Object.create(e.prototype,{}),t.prototype.constructor=t,t.prototype.writeFeatures=function(t,o){zt.log("overload : ol.format.KML.writeFeatures");var r=e.prototype.writeFeaturesNode.call(this,t,o);if(null===r)return null;this.hasOwnProperty("extensions")&&function(e,t){var o=document.createElementNS(e.namespaceURI,"ExtendedData");for(var n in t)if(Object.hasOwnProperty.call(t,n)){var r=t[n],i=document.createElementNS(e.namespaceURI,"Data");i.setAttribute("name",n);var a=document.createTextNode(JSON.stringify(r));i.appendChild(a),o.appendChild(i)}var s=e.firstChild;e.insertBefore(o,s)}(r,this.extensions);var i=n.call(this,r,t,o),a=Ft.format(i);return""===a?null:a},t.prototype.readFeatures=function(e,t){zt.log("overload : ol.format.KML.readFeatures"),"string"==typeof e?this.source=Ft.parse(e):null!==e&&(this.source=e);var o=r.call(this,e,t);return zt.trace("Styles Ã©tendus",o),o.forEach((function(e){Gt.definePropertiesFromStyle(e)})),o},t.prototype.readRootExtensions=function(e){for(var t={},o=("#document"===this.source.nodeName?this.source.childNodes[0]:this.source).childNodes,n=0;n<o.length;n++){var r=o[n];if("ExtendedData"===r.nodeName)for(var i=r.childNodes,a=0;a<i.length;a++){var s=i[a];if("Data"===s.nodeName){var l=s.attributes[0];if(l&&"name"===l.nodeName&&l.nodeValue===e){t=JSON.parse(s.textContent);break}}}}return t},t}(Ct.a),Wt=Vt;window.ol&&window.ol.format&&(window.ol.format.KMLExtended=Vt);var qt=o("./node_modules/ol/format/GPX.js"),Yt=o("./node_modules/ol/geom/MultiLineString.js"),Ht=o("./node_modules/ol/geom/LineString.js"),Xt=function(e){function t(o){if(!(this instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");if(this.options=o||{},this.options.readExtensions&&"function"==typeof this.options.readExtensions){var n=this.options.readExtensions;this.options.readExtensions=function(e,t){this.readExtensions(e,t),n.call(this,e,t)}}else this.options.readExtensions=this.readExtensions;null!==this.options.defaultStyle&&void 0!==this.options.defaultStyle||(this.options.defaultStyle={}),this.source=null,e.call(this,this.options)}function o(e,t){var o=document.createElementNS(t.parentNode.namespaceURI,"extensions");Gt.getListTags().forEach((function(n){if(e.get(n)){var r=document.createElementNS(t.parentNode.namespaceURI,n);r.innerHTML=e.get(n),o.appendChild(r)}})),t.appendChild(o)}return e&&(t.__proto__=e),t.prototype=Object.create(e.prototype,{}),t.prototype.constructor=t,t.prototype.readFeatures=function(t,o){var n=e.prototype.readFeatures.call(this,t,o);"string"==typeof t?this.source=Ft.parse(t):null!==t&&(this.source=t);var r=this;return n.forEach((function(e,t,o){e.setId(t+1);var n=e.getProperties().desc;if(n&&e.setProperties({description:n}),!e.getStyleFunction()){var i=Gt.defineStyleFunctionByDefault(r.options.defaultStyle);i&&e.setStyle(i)}})),n},t.prototype.writeFeatures=function(t,n){if(t.forEach((function(e,o,n){var r=e.getProperties().description;r&&e.setProperties({desc:r}),Gt.definePropertiesFromStyle(e);var i=e.getGeometry().getType();if("Polygon"===i){var a=e.clone();a.set("type",i),a.setGeometry(new Ht.a(e.getGeometry().getCoordinates())),t.push(a),n.splice(o,1)}else if("MultiPolygon"===i){var s=e.clone();s.set("type",i),s.setGeometry(new Yt.a(e.getGeometry().getCoordinates())),t.push(s),n.splice(o,1)}})),void 0!==this.options.orderBy){var r=this.options.orderBy;if(r){t.sort((function(e,t){var o=e.get(r)||0,n=t.get(r)||0;return o.toString().localeCompare(n.toString(),void 0,{numeric:!0})}))}}var i=e.prototype.writeFeaturesNode.call(this,t,n);if(null===i)return null;this.options.hasOwnProperty("extensions")&&function(e,t,o){var n=document.createElement("metadata"),r=document.createElement("extensions");if(o)!function e(t,o){for(var n in o)if(Object.hasOwnProperty.call(o,n)){var r=o[n]||"",i=document.createElement(n);if("string"==typeof r||"number"==typeof r)i.innerHTML=r,t.appendChild(i);else if(r instanceof Array){i.setAttribute("type","array"),i.setAttribute("index",r.length);for(var a=0;a<r.length;a++){var s=r[a]||"",l=document.createElement("value");if("string"==typeof s||"number"==typeof s)l.innerHTML=s,i.appendChild(l);else if(s instanceof Array){l.setAttribute("type","array"),l.setAttribute("index",s.length);for(var c=0;c<s.length;c++){var u=s[c]||"",d=document.createElement("value");"string"!=typeof u&&"number"!=typeof u||(d.innerHTML=u,l.appendChild(d))}i.appendChild(l)}else s instanceof Object&&i.appendChild(e(l,s))}t.appendChild(i)}else r instanceof Object&&t.appendChild(e(i,r))}return t}(r,t);else for(var i in t)if(Object.hasOwnProperty.call(t,i)){var a=t[i],s=document.createElement("data");s.setAttribute("name",i);var l=document.createTextNode(JSON.stringify(a));s.appendChild(l),r.appendChild(s)}n.appendChild(r);var c=e.firstChild;e.insertBefore(n,c)}(i,this.options.extensions),function(e,t,o){for(var n=-1,r=e.childNodes,i=0;i<r.length;i++){var a=r[i];switch(a.nodeName){case"wpt":case"rte":case"trk":n++;var s=t[n];if(s.getStyle()){var l=o.extensions;l&&"function"==typeof l&&l(s,a)}break;case"metadata":break;default:console.warn("nodename unknown :",a.nodeName)}}}(i,t,{extensions:o});var a=Ft.toString(i);if(!a)return null;var s=Ft.format(a);return""===s?null:s},t.prototype.readExtensions=function(e,t){var o=t;if(!t){var n=e.getProperties();for(var r in n)if(Object.hasOwnProperty.call(n,r)){var i=n[r];if(i instanceof Node){o=i;break}}}if(o){for(var a=0;a<o.childNodes.length;a++){var s=o.childNodes[a];1===s.nodeType&&e.set(s.nodeName,s.textContent)}Gt.APPLY_CONVERT_GEOM_GPX=!0;var l=Gt.defineStyleFromProperties(e);l&&e.setStyle(l)}else console.warn("node not found !")},t.prototype.readRootExtensions=function(e){for(var t={},o=this.source.childNodes[0].childNodes,n=0;n<o.length;n++){var r=o[n];if("metadata"===r.nodeName)for(var i=r.childNodes,a=0;a<i.length;a++){var s=i[a];if("extensions"===s.nodeName)for(var l=s.childNodes,c=0;c<l.length;c++){var u=l[c];if("data"===u.nodeName){var d=u.attributes[0];if(d&&"name"===d.nodeName&&d.nodeValue===e){t=JSON.parse(u.textContent);break}}}}}return t},t}(qt.a),Zt=Xt;window.ol&&window.ol.format&&(window.ol.format.GPXExtended=Xt);var Kt=o("./node_modules/ol/format/GeoJSON.js"),Jt=function(e){function t(o){if(!(this instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this.options=o||{},null!==this.options.defaultStyle&&void 0!==this.options.defaultStyle||(this.options.defaultStyle={}),this.source=null,e.call(this,this.options)}return e&&(t.__proto__=e),t.prototype=Object.create(e.prototype,{}),t.prototype.constructor=t,t.prototype.readFeatures=function(t,o){var n=this,r=e.prototype.readFeatures.call(this,t,o);return"string"==typeof t?this.source=JSON.parse(t):null!==t&&(this.source=t),r.forEach((function(e){var t=e.getStyleFunction();if(t){var o=t.call(n,e,0);o&&0!==o.length&&e.setStyle(o[0])}else{var r=Gt.defineStyleFromProperties(e);if(r)e.setStyle(r);else{var i=Gt.defineStyleFunctionByDefault(n.options.defaultStyle);i&&(e.setStyle(i),Gt.definePropertiesFromStyle(e))}}})),r},t.prototype.writeFeatures=function(t,o){t.forEach((function(e){Gt.definePropertiesFromStyle(e)}));var n=e.prototype.writeFeaturesObject.call(this,t,o);return this.options.hasOwnProperty("extensions")&&Object.assign(n,this.options.extensions),JSON.stringify(n)},t.prototype.readRootExtensions=function(e){return this.source[e]},t}(Kt.a),Qt=Jt;window.ol&&window.ol.format&&(window.ol.format.GeoJSONExtended=Jt);var $t=o("./node_modules/ol/extent.js"),eo=function(e){function t(o){if(!(this instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");e.call(this,o)}return e&&(t.__proto__=e),t.prototype=Object.create(e.prototype,{}),t.prototype.constructor=t,t.prototype.getFeatureInfoUrl=function(e,t,o,n){var r=this.options&&this.options.tilePixelRatio?this.options.tilePixelRatio:1,i=this.tileGrid,a=this.tileGrid.getTileCoordForCoordAndResolution(e,t),s=i.getTileCoordExtent(a),l=function(e,t,o){var n=[0,0,0],r=Object($t.k)(),i=e[1],a=e[2],s=t.getTileCoordExtent(e),l=o.getExtent();null!=l&&o.isGlobal()&&(i%=Math.ceil(Object($t.N)(l)/Object($t.N)(s)),n[0]=e[0],n[1]=i,n[2]=e[2],s=t.getTileCoordExtent(n,r));return Object($t.O)(s,l)?[e[0],i,a]:null}(a,i,o);if(!(i.getResolutions().length<=a[0])){var c=i.getResolution(a[0]),u=i.getMatrixIds()[a[0]],d={SERVICE:"WMTS",VERSION:"1.0.0",REQUEST:"GetFeatureInfo",LAYER:this.getLayer(),TILECOL:l[1],TILEROW:l[2],TILEMATRIX:u,TILEMATRIXSET:this.getMatrixSet(),FORMAT:this.getFormat()||"image/png",STYLE:this.getStyle()||"normal"};Bt.assign(d,n);var h=Math.floor((e[0]-s[0])/(c/r)),p=Math.floor((s[3]-e[1])/(c/r)),f=i.getTileSize(a[0]);h=Math.min(h,(f[0]|f)-1),p=Math.max(p,0),d.I=h,d.J=p;var g=this.urls[0];return gt.Helper.normalyzeUrl(g,d)}},t}(p.a),to=eo;window.ol&&window.ol.source&&(window.ol.source.WMTSExtended=eo);var oo=o("./node_modules/ol/tilegrid/WMTS.js"),no={getZoomLevelFromScaleDenominator:function(e,t){var o={};switch(t){case"EPSG:2154":o={0:104579.224549894,1:52277.5323537905,2:26135.4870785954,3:13066.8913818,4:6533.2286041135,5:3266.5595244627,6:1633.2660045974,7:816.629554986,8:408.3139146768,9:204.1567415109,10:102.0783167832,11:51.0391448966,12:25.5195690743,13:12.7597836936,14:6.379891636,15:3.1899457653,16:1.5949728695,17:.7974864315,18:.3987432149,19:.1993716073,20:.0996858037,21:.0498429018};break;default:o={0:156543.033928041,1:78271.51696402048,2:39135.758482010235,3:19567.87924100512,4:9783.93962050256,5:4891.96981025128,6:2445.98490512564,7:1222.99245256282,8:611.49622628141,9:305.7481131407048,10:152.8740565703525,11:76.43702828517624,12:38.21851414258813,13:19.10925707129406,14:9.554628535647032,15:4.777314267823516,16:2.388657133911758,17:1.194328566955879,18:.5971642834779395,19:.2985821417389697,20:.1492910708694849,21:.0746455354347424}}var n=28e-5*e;for(var r in o)if(o.hasOwnProperty(r)&&o[r]<=n)return r=parseInt(r,10);return 0},getAttributions:function(e){var t=e.zoom,o=[];if(null!=e.originators&&e.visibility)for(var n,r=0,i=e.originators.length;r<i;r++){n=!0;for(var a=e.originators[r],s=e.originators[r].constraints||[],l=0,c=s.length;l<c;l++){var u=s[l];n=!0;var d=this.getZoomLevelFromScaleDenominator(u.maxScaleDenominator,e.crs),h=this.getZoomLevelFromScaleDenominator(u.minScaleDenominator,e.crs)||21;d&&d>t&&(n=!1),n&&h&&h<t&&(n=!1);var p=u.bbox;if(n&&p){n=!1;var f=e.extent;if(f){var g=[p.top,p.left,p.bottom,p.right];if(this.intersects(f,g)){n=!0;break}}}}if(n){var m=a.logo,y=a.url,v=a.name?a.name:"",_=a.attribution,b=document.createElement("div");b.className="gp-control-attribution";var A=null;(A=document.createElement("a")).className="gp-control-attribution-link",A.target="_blank",b.appendChild(A),y&&(A.href=y);var C=null;!!m?(C=document.createElement("img"),A?(C.className="gp-control-attribution-image",A.appendChild(C)):(C.className="",b.appendChild(C)),C.src=m,C.title=_||v,C.style.height="30px",C.style.width="30px"):A.textContent=v||(_||(y||"")),o.push(b.innerHTML+" ")}}return o},intersects:function(e,t){var o=e[1]<=t[3]&&t[1]<=e[3],n=e[2]<=t[0]&&t[2]<=e[0];return o&&n}},ro=o("./node_modules/geoportal-extensions-openlayers/src/Common/Utils/Config.js"),io=mt.getLogger("sourcewmts"),ao=function(e){function t(o){if(!(this instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");if(!o.layer)throw new Error("ERROR PARAM_MISSING : layer");if("string"!=typeof o.layer)throw new Error("ERROR WRONG TYPE : layer");if(void 0===o.ssl&&(o.ssl=!0),!ro.a.isConfigLoaded())throw new Error("ERROR : contract key configuration has to be loaded to load Geoportal layers.");var n=ro.a.configuration.getLayerId(o.layer,"WMTS");if(!n||!ro.a.configuration.getLayerConf(n))return io.log("[source WMTS] ERROR : "+o.layer+" cannot be found in Geoportal Configuration. Make sure that this resource is included in your contract key."),new e({});var r=ro.a.configuration.getLayerParams(o.layer,"WMTS"),i=!1===o.ssl?"http://":"https://";this._originators=r.originators;var a={"gp-ol-ext":l.olExtVersion||l.version};r.url.includes("/private/")&&(a.apikey=o.apiKey||ro.a.configuration.getLayerKey(n)[0]);var s={url:gt.Helper.normalyzeUrl(r.url.replace(/(http|https):\/\//,i),a,!1),version:r.version,style:r.styles,format:r.format,projection:r.projection,maxZoom:no.getZoomLevelFromScaleDenominator(r.minScale),layer:o.layer,matrixSet:r.TMSLink,tileGrid:new oo.b({resolutions:r.nativeResolutions,matrixIds:r.matrixIds,origin:[Object.values(r.tileMatrices)[0].topLeftCorner.x,Object.values(r.tileMatrices)[0].topLeftCorner.y]})};Bt.mergeParams(s,o.olParams),e.call(this,s),o.olParams&&!r.originators&&(r.originators=o.olParams.attributions),this._originators=r.originators,this._legends=o.legends||r.legends,this._metadata=o.metadata||r.metadata,this._description=o.description||r.description,this._title=o.title||r.title,this._quicklookUrl=o.quicklookUrl||r.quicklookUrl}return e&&(t.__proto__=e),t.prototype=Object.create(e.prototype,{}),t.prototype.constructor=t,t}(to),so=ao;window.ol&&window.ol.source&&(window.ol.source.GeoportalWMTS=ao);var lo=mt.getLogger("sourcewms"),co=function(e){function t(o){if(!(this instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");if(!o.layer)throw new Error("ERROR PARAM_MISSING : layer");if("string"!=typeof o.layer)throw new Error("ERROR WRONG TYPE : layer");if(void 0===o.ssl&&(o.ssl=!0),!ro.a.isConfigLoaded())throw new Error("ERROR : contract key configuration has to be loaded to load Geoportal layers.");var n=ro.a.configuration.getLayerId(o.layer,"WMS");if(!n||!ro.a.configuration.getLayerConf(n))return lo.log("[source WMS] ERROR : "+o.layer+" cannot be found in Geoportal Configuration. Make sure that this resource is included in your contract key."),new e({});var r=ro.a.configuration.getLayerParams(o.layer,"WMS"),i=!1===o.ssl?"http://":"https://",a={"gp-ol-ext":l.olExtVersion||l.version};r.url.includes("/private/")&&(a.apikey=o.apiKey||ro.a.configuration.getLayerKey(n)[0]);var s={url:gt.Helper.normalyzeUrl(r.url.replace(/(http|https):\/\//,i),a,!1),params:{SERVICE:"WMS",LAYERS:o.layer,VERSION:r.version,STYLES:r.styles,FORMAT:r.format}};Bt.mergeParams(s,o.olParams),e.call(this,s),o.olParams&&!r.originators&&(r.originators=o.olParams.attributions),this._originators=r.originators,this._legends=o.legends||r.legends,this._metadata=o.metadata||r.metadata,this._title=o.title||r.title,this._description=o.description||r.description,this._quicklookUrl=o.quicklookUrl||r.quicklookUrl}return e&&(t.__proto__=e),t.prototype=Object.create(e.prototype,{}),t.prototype.constructor=t,t}(h.a),uo=co;window.ol&&window.ol.source&&(window.ol.source.GeoportalWMS=co);var ho=o("./node_modules/ol/layer/Tile.js"),po=function(e){function t(o){if(!(this instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");if(!o.layer)throw new Error("ERROR PARAM_MISSING : layer");if("string"!=typeof o.layer)throw new Error("ERROR WRONG TYPE : layer");if(void 0===o.ssl&&(o.ssl=!0),!ro.a.isConfigLoaded())throw new Error("ERROR : contract key configuration has to be loaded to load Geoportal layers.");var n;o.olParams&&o.olParams.sourceParams&&(n=o.olParams.sourceParams);var r=new so({layer:o.layer,ssl:o.ssl,apiKey:o.apiKey,olParams:n}),i={source:r};if(void 0!==r.getLayer()){var a,l=ro.a.configuration.getLayerId(o.layer,"WMTS"),c=ro.a.configuration.getGlobalConstraints(l);if(c&&c.projection)"string"==typeof c.projection&&(a=Object(s.t)(c.projection)),a&&a.getUnits()&&("m"===a.getUnits()?(i.minResolution=28e-5*(c.minScale-1),i.maxResolution=28e-5*(c.maxScale+1)):"degrees"===a.getUnits()&&(i.minResolution=28e-5*(c.minScale-1)*180/(6378137*Math.PI),i.maxResolution=28e-5*(c.maxScale+1)*180/(6378137*Math.PI)))}Bt.mergeParams(i,o.olParams),e.call(this,i)}return e&&(t.__proto__=e),t.prototype=Object.create(e.prototype,{}),t.prototype.constructor=t,t}(ho.a),fo=po;function go(e){return(go="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}window.ol&&window.ol.layer&&(window.ol.layer.GeoportalWMTS=po);var mo=function(e){function t(o){if(!(this instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");if(!o.layer)throw new Error("ERROR PARAM_MISSING : layer");if("string"!=typeof o.layer)throw new Error("ERROR WRONG TYPE : layer");if(void 0===o.ssl&&(o.ssl=!0),!ro.a.isConfigLoaded())throw new Error("ERROR : contract key configuration has to be loaded to load Geoportal layers.");var n;o.olParams&&o.olParams.sourceParams&&(n=o.olParams.sourceParams);var r=new uo({layer:o.layer,ssl:o.ssl,apiKey:o.apiKey,olParams:n}),i={source:r};if(void 0!==r.getParams().LAYERS){var a=ro.a.configuration.getLayerId(o.layer,"WMS"),l=ro.a.configuration.getGlobalConstraints(a);if(n&&n.projection){var c,u=[l.extent.left,l.extent.bottom,l.extent.right,l.extent.top];i.extent=Object(s.F)(u,"EPSG:4326",n.projection),"string"==typeof n.projection?c=Object(s.t)(n.projection):"object"===go(n.projection)&&n.projection.getCode()&&(c=Object(s.t)(n.projection.getCode())),c&&c.getUnits()&&("m"===c.getUnits()?(i.minResolution=28e-5*(l.minScale-1),i.maxResolution=28e-5*(l.maxScale+1)):"degrees"===c.getUnits()&&(i.minResolution=28e-5*(l.minScale-1)*180/(6378137*Math.PI),i.maxResolution=28e-5*(l.maxScale+1)*180/(6378137*Math.PI)))}}Bt.mergeParams(i,o.olParams),e.call(this,i)}return e&&(t.__proto__=e),t.prototype=Object.create(e.prototype,{}),t.prototype.constructor=t,t}(ho.a),yo=mo;window.ol&&window.ol.layer&&(window.ol.layer.GeoportalWMS=mo);var vo=o("./node_modules/ol/layer/VectorTile.js"),_o=o("./node_modules/ol/source/TileJSON.js"),bo=o("./node_modules/ol/format/MVT.js"),Ao=o("./node_modules/ol/Observable.js"),Co=o("./node_modules/ol-mapbox-style/dist/index.js"),wo=function(e){function t(o,n){if(!(this instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");if(!o.layer)throw new Error("ERROR PARAM_MISSING : layer");if("string"!=typeof o.layer)throw new Error("ERROR WRONG TYPE : layer");if(this.layerName=o.layer,this.styleName=o.style,this.sourceId=o.source,void 0===o.ssl&&(o.ssl=!0),this.protocol=!1===o.ssl?"http://":"https://",!ro.a.isConfigLoaded())throw new Error("ERROR : contract key configuration has to be loaded to load Geoportal layers.");var r=this.layerName+"$GEOPORTAIL:GPP:TMS",i=ro.a.configuration.getLayerConf(r);if(!i)throw new Error("ERROR : Layer ID not found into the catalogue !?");this.styleUrl=null,this.styleTitle="";for(var a=0;a<i.styles.length;a++){var s=i.styles[a];if(this.styleName&&s.name===this.styleName){this.styleUrl=s.url,this.styleTitle=s.title;break}if(!this.styleName&&s.current){this.styleName=s.name,this.styleUrl=s.url,this.styleTitle=s.title;break}}if(!this.styleUrl)throw new Error("ERROR : Style URL not found !?");this.styleUrl.replace(/(http|https):\/\//,this.protocol);var l=new u.a({state:"loading",format:new bo.a});l._originators=i.originators,l._legends=i.legends,l._metadata=i.metadata,l._description=i.description,l._title=i.title+" ("+this.styleTitle+")",l._quicklookUrl=i.quicklookUrl;var c={source:l};Bt.mergeParams(c,n),e.call(this,c),o.olParams&&!i.originators&&(l._originators=o.olParams.attributions),this._originators=l.originators,this.setStyleMapBox()}return e&&(t.__proto__=e),t.prototype=Object.create(e.prototype,{}),t.prototype.constructor=t,t.prototype.setStyleMapBox=function(){var e=this;fetch(this.styleUrl,{credentials:"same-origin"}).then((function(t){t.ok&&t.json().then((function(t){e.onStyleMapBoxLoad(t)}))})).catch((function(t){e.onStyleMapBoxError(t)}))},t.prototype.onStyleMapBoxLoad=function(e){var t=this;this.sourceId||(this.sourceId=Object.keys(e.sources)[0]);var o=e.sources[this.sourceId];if(o)if("vector"===o.type){var n=this.getSource();if(o.url){o.url.replace(/(http|https):\/\//,this.protocol);var r=new _o.a({url:o.url}),i=this,a=r.on("change",(function(){if("ready"===r.getState()){var e=r.getTileJSON();if(!e)return;i.set("mapbox-extensions",e);for(var t=Array.isArray(e.tiles)?e.tiles:[e.tiles],s=0;s<o.tiles.length;s++)t[s].replace(/(http|https):\/\//,this.protocol);n.setUrls(t),Object(Ao.b)(a)}}))}if(o.tiles){for(var s=0;s<o.tiles.length;s++)o.tiles[s].replace(/(http|https):\/\//,this.protocol);n.setUrls(o.tiles)}Object(Co.a)(this,e,this.sourceId).then((function(){n.setState("ready"),t.set("mapbox-styles",e)})).catch((function(e){t.onStyleMapBoxError(e)}))}else this.onStyleMapBoxError({message:"ERROR : Source TYPE not permitted !"});else this.onStyleMapBoxError({message:"ERROR : Source ID not found !? !"})},t.prototype.onStyleMapBoxError=function(e){this.getSource().setState("error"),console.error(e.message)},t}(vo.a),Eo=wo;window.ol&&window.ol.layer&&(window.ol.layer.GeoportalMapBox=wo);var Io,Oo=o("./node_modules/ol/control/Control.js"),So={generate:(Io=Math.floor(Date.now()),function(){return Io++}),name:function(e){var t=null,o=e.lastIndexOf("-");return t=-1===o?e:e.substring(0,o),t},index:function(e){var t=null,o=this.name(e),n=o.lastIndexOf("_");return-1!==n&&(t=o.substring(n+1)),t},uuid:function(e){var t=null,o=e.lastIndexOf("-");return-1!==o&&(t=parseInt(e.substring(o+1),10)),t}};
/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
function xo(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function jo(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?xo(Object(o),!0).forEach((function(t){To(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):xo(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function Po(e){return(Po="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function To(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function Mo(){return(Mo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}function Ro(e,t){if(null==e)return{};var o,n,r=function(e,t){if(null==e)return{};var o,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)o=i[n],t.indexOf(o)>=0||(r[o]=e[o]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)o=i[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}function Lo(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var ko=Lo(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Go=Lo(/Edge/i),Do=Lo(/firefox/i),No=Lo(/safari/i)&&!Lo(/chrome/i)&&!Lo(/android/i),Fo=Lo(/iP(ad|od|hone)/i),Uo=Lo(/chrome/i)&&Lo(/android/i),Bo={capture:!1,passive:!1};function zo(e,t,o){e.addEventListener(t,o,!ko&&Bo)}function Vo(e,t,o){e.removeEventListener(t,o,!ko&&Bo)}function Wo(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return!1}return!1}}function qo(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function Yo(e,t,o,n){if(e){o=o||document;do{if(null!=t&&(">"===t[0]?e.parentNode===o&&Wo(e,t):Wo(e,t))||n&&e===o)return e;if(e===o)break}while(e=qo(e))}return null}var Ho,Xo=/\s+/g;function Zo(e,t,o){if(e&&t)if(e.classList)e.classList[o?"add":"remove"](t);else{var n=(" "+e.className+" ").replace(Xo," ").replace(" "+t+" "," ");e.className=(n+(o?" "+t:"")).replace(Xo," ")}}function Ko(e,t,o){var n=e&&e.style;if(n){if(void 0===o)return document.defaultView&&document.defaultView.getComputedStyle?o=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(o=e.currentStyle),void 0===t?o:o[t];t in n||-1!==t.indexOf("webkit")||(t="-webkit-"+t),n[t]=o+("string"==typeof o?"":"px")}}function Jo(e,t){var o="";if("string"==typeof e)o=e;else do{var n=Ko(e,"transform");n&&"none"!==n&&(o=n+" "+o)}while(!t&&(e=e.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(o)}function Qo(e,t,o){if(e){var n=e.getElementsByTagName(t),r=0,i=n.length;if(o)for(;r<i;r++)o(n[r],r);return n}return[]}function $o(){var e=document.scrollingElement;return e||document.documentElement}function en(e,t,o,n,r){if(e.getBoundingClientRect||e===window){var i,a,s,l,c,u,d;if(e!==window&&e.parentNode&&e!==$o()?(a=(i=e.getBoundingClientRect()).top,s=i.left,l=i.bottom,c=i.right,u=i.height,d=i.width):(a=0,s=0,l=window.innerHeight,c=window.innerWidth,u=window.innerHeight,d=window.innerWidth),(t||o)&&e!==window&&(r=r||e.parentNode,!ko))do{if(r&&r.getBoundingClientRect&&("none"!==Ko(r,"transform")||o&&"static"!==Ko(r,"position"))){var h=r.getBoundingClientRect();a-=h.top+parseInt(Ko(r,"border-top-width")),s-=h.left+parseInt(Ko(r,"border-left-width")),l=a+i.height,c=s+i.width;break}}while(r=r.parentNode);if(n&&e!==window){var p=Jo(r||e),f=p&&p.a,g=p&&p.d;p&&(l=(a/=g)+(u/=g),c=(s/=f)+(d/=f))}return{top:a,left:s,bottom:l,right:c,width:d,height:u}}}function tn(e,t,o){for(var n=sn(e,!0),r=en(e)[t];n;){var i=en(n)[o];if(!("top"===o||"left"===o?r>=i:r<=i))return n;if(n===$o())break;n=sn(n,!1)}return!1}function on(e,t,o,n){for(var r=0,i=0,a=e.children;i<a.length;){if("none"!==a[i].style.display&&a[i]!==dr.ghost&&(n||a[i]!==dr.dragged)&&Yo(a[i],o.draggable,e,!1)){if(r===t)return a[i];r++}i++}return null}function nn(e,t){for(var o=e.lastElementChild;o&&(o===dr.ghost||"none"===Ko(o,"display")||t&&!Wo(o,t));)o=o.previousElementSibling;return o||null}function rn(e,t){var o=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===dr.clone||t&&!Wo(e,t)||o++;return o}function an(e){var t=0,o=0,n=$o();if(e)do{var r=Jo(e),i=r.a,a=r.d;t+=e.scrollLeft*i,o+=e.scrollTop*a}while(e!==n&&(e=e.parentNode));return[t,o]}function sn(e,t){if(!e||!e.getBoundingClientRect)return $o();var o=e,n=!1;do{if(o.clientWidth<o.scrollWidth||o.clientHeight<o.scrollHeight){var r=Ko(o);if(o.clientWidth<o.scrollWidth&&("auto"==r.overflowX||"scroll"==r.overflowX)||o.clientHeight<o.scrollHeight&&("auto"==r.overflowY||"scroll"==r.overflowY)){if(!o.getBoundingClientRect||o===document.body)return $o();if(n||t)return o;n=!0}}}while(o=o.parentNode);return $o()}function ln(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function cn(e,t){return function(){if(!Ho){var o=arguments,n=this;1===o.length?e.call(n,o[0]):e.apply(n,o),Ho=setTimeout((function(){Ho=void 0}),t)}}}function un(e,t,o){e.scrollLeft+=t,e.scrollTop+=o}function dn(e){var t=window.Polymer,o=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):o?o(e).clone(!0)[0]:e.cloneNode(!0)}var hn="Sortable"+(new Date).getTime();function pn(){var e,t=[];return{captureAnimationState:function(){(t=[],this.options.animation)&&[].slice.call(this.el.children).forEach((function(e){if("none"!==Ko(e,"display")&&e!==dr.ghost){t.push({target:e,rect:en(e)});var o=jo({},t[t.length-1].rect);if(e.thisAnimationDuration){var n=Jo(e,!0);n&&(o.top-=n.f,o.left-=n.e)}e.fromRect=o}}))},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(function(e,t){for(var o in e)if(e.hasOwnProperty(o))for(var n in t)if(t.hasOwnProperty(n)&&t[n]===e[o][n])return Number(o);return-1}(t,{target:e}),1)},animateAll:function(o){var n=this;if(!this.options.animation)return clearTimeout(e),void("function"==typeof o&&o());var r=!1,i=0;t.forEach((function(e){var t=0,o=e.target,a=o.fromRect,s=en(o),l=o.prevFromRect,c=o.prevToRect,u=e.rect,d=Jo(o,!0);d&&(s.top-=d.f,s.left-=d.e),o.toRect=s,o.thisAnimationDuration&&ln(l,s)&&!ln(a,s)&&(u.top-s.top)/(u.left-s.left)==(a.top-s.top)/(a.left-s.left)&&(t=function(e,t,o,n){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-o.top,2)+Math.pow(t.left-o.left,2))*n.animation}(u,l,c,n.options)),ln(s,a)||(o.prevFromRect=a,o.prevToRect=s,t||(t=n.options.animation),n.animate(o,u,s,t)),t&&(r=!0,i=Math.max(i,t),clearTimeout(o.animationResetTimer),o.animationResetTimer=setTimeout((function(){o.animationTime=0,o.prevFromRect=null,o.fromRect=null,o.prevToRect=null,o.thisAnimationDuration=null}),t),o.thisAnimationDuration=t)})),clearTimeout(e),r?e=setTimeout((function(){"function"==typeof o&&o()}),i):"function"==typeof o&&o(),t=[]},animate:function(e,t,o,n){if(n){Ko(e,"transition",""),Ko(e,"transform","");var r=Jo(this.el),i=r&&r.a,a=r&&r.d,s=(t.left-o.left)/(i||1),l=(t.top-o.top)/(a||1);e.animatingX=!!s,e.animatingY=!!l,Ko(e,"transform","translate3d("+s+"px,"+l+"px,0)"),this.forRepaintDummy=function(e){return e.offsetWidth}(e),Ko(e,"transition","transform "+n+"ms"+(this.options.easing?" "+this.options.easing:"")),Ko(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){Ko(e,"transition",""),Ko(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),n)}}}}var fn=[],gn={initializeByDefault:!0},mn={mount:function(e){for(var t in gn)gn.hasOwnProperty(t)&&!(t in e)&&(e[t]=gn[t]);fn.forEach((function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")})),fn.push(e)},pluginEvent:function(e,t,o){var n=this;this.eventCanceled=!1,o.cancel=function(){n.eventCanceled=!0};var r=e+"Global";fn.forEach((function(n){t[n.pluginName]&&(t[n.pluginName][r]&&t[n.pluginName][r](jo({sortable:t},o)),t.options[n.pluginName]&&t[n.pluginName][e]&&t[n.pluginName][e](jo({sortable:t},o)))}))},initializePlugins:function(e,t,o,n){for(var r in fn.forEach((function(n){var r=n.pluginName;if(e.options[r]||n.initializeByDefault){var i=new n(e,t,e.options);i.sortable=e,i.options=e.options,e[r]=i,Mo(o,i.defaults)}})),e.options)if(e.options.hasOwnProperty(r)){var i=this.modifyOption(e,r,e.options[r]);void 0!==i&&(e.options[r]=i)}},getEventProperties:function(e,t){var o={};return fn.forEach((function(n){"function"==typeof n.eventProperties&&Mo(o,n.eventProperties.call(t[n.pluginName],e))})),o},modifyOption:function(e,t,o){var n;return fn.forEach((function(r){e[r.pluginName]&&r.optionListeners&&"function"==typeof r.optionListeners[t]&&(n=r.optionListeners[t].call(e[r.pluginName],o))})),n}};function yn(e){var t=e.sortable,o=e.rootEl,n=e.name,r=e.targetEl,i=e.cloneEl,a=e.toEl,s=e.fromEl,l=e.oldIndex,c=e.newIndex,u=e.oldDraggableIndex,d=e.newDraggableIndex,h=e.originalEvent,p=e.putSortable,f=e.extraEventProperties;if(t=t||o&&o[hn]){var g,m=t.options,y="on"+n.charAt(0).toUpperCase()+n.substr(1);!window.CustomEvent||ko||Go?(g=document.createEvent("Event")).initEvent(n,!0,!0):g=new CustomEvent(n,{bubbles:!0,cancelable:!0}),g.to=a||o,g.from=s||o,g.item=r||o,g.clone=i,g.oldIndex=l,g.newIndex=c,g.oldDraggableIndex=u,g.newDraggableIndex=d,g.originalEvent=h,g.pullMode=p?p.lastPutMode:void 0;var v=jo(jo({},f),mn.getEventProperties(n,t));for(var _ in v)g[_]=v[_];o&&o.dispatchEvent(g),m[y]&&m[y].call(t,g)}}var vn=["evt"],_n=function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=o.evt,r=Ro(o,vn);mn.pluginEvent.bind(dr)(e,t,jo({dragEl:An,parentEl:Cn,ghostEl:wn,rootEl:En,nextEl:In,lastDownEl:On,cloneEl:Sn,cloneHidden:xn,dragStarted:Bn,putSortable:Ln,activeSortable:dr.active,originalEvent:n,oldIndex:jn,oldDraggableIndex:Tn,newIndex:Pn,newDraggableIndex:Mn,hideGhostForTarget:sr,unhideGhostForTarget:lr,cloneNowHidden:function(){xn=!0},cloneNowShown:function(){xn=!1},dispatchSortableEvent:function(e){bn({sortable:t,name:e,originalEvent:n})}},r))};function bn(e){yn(jo({putSortable:Ln,cloneEl:Sn,targetEl:An,rootEl:En,oldIndex:jn,oldDraggableIndex:Tn,newIndex:Pn,newDraggableIndex:Mn},e))}var An,Cn,wn,En,In,On,Sn,xn,jn,Pn,Tn,Mn,Rn,Ln,kn,Gn,Dn,Nn,Fn,Un,Bn,zn,Vn,Wn,qn,Yn=!1,Hn=!1,Xn=[],Zn=!1,Kn=!1,Jn=[],Qn=!1,$n=[],er="undefined"!=typeof document,tr=Fo,or=Go||ko?"cssFloat":"float",nr=er&&!Uo&&!Fo&&"draggable"in document.createElement("div"),rr=function(){if(er){if(ko)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),ir=function(e,t){var o=Ko(e),n=parseInt(o.width)-parseInt(o.paddingLeft)-parseInt(o.paddingRight)-parseInt(o.borderLeftWidth)-parseInt(o.borderRightWidth),r=on(e,0,t),i=on(e,1,t),a=r&&Ko(r),s=i&&Ko(i),l=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+en(r).width,c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+en(i).width;if("flex"===o.display)return"column"===o.flexDirection||"column-reverse"===o.flexDirection?"vertical":"horizontal";if("grid"===o.display)return o.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&a.float&&"none"!==a.float){var u="left"===a.float?"left":"right";return!i||"both"!==s.clear&&s.clear!==u?"horizontal":"vertical"}return r&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||l>=n&&"none"===o[or]||i&&"none"===o[or]&&l+c>n)?"vertical":"horizontal"},ar=function(e){function t(e,o){return function(n,r,i,a){var s=n.options.group.name&&r.options.group.name&&n.options.group.name===r.options.group.name;if(null==e&&(o||s))return!0;if(null==e||!1===e)return!1;if(o&&"clone"===e)return e;if("function"==typeof e)return t(e(n,r,i,a),o)(n,r,i,a);var l=(o?n:r).options.group.name;return!0===e||"string"==typeof e&&e===l||e.join&&e.indexOf(l)>-1}}var o={},n=e.group;n&&"object"==Po(n)||(n={name:n}),o.name=n.name,o.checkPull=t(n.pull,!0),o.checkPut=t(n.put),o.revertClone=n.revertClone,e.group=o},sr=function(){!rr&&wn&&Ko(wn,"display","none")},lr=function(){!rr&&wn&&Ko(wn,"display","")};er&&document.addEventListener("click",(function(e){if(Hn)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Hn=!1,!1}),!0);var cr=function(e){if(An){e=e.touches?e.touches[0]:e;var t=(r=e.clientX,i=e.clientY,Xn.some((function(e){var t=e[hn].options.emptyInsertThreshold;if(t&&!nn(e)){var o=en(e),n=r>=o.left-t&&r<=o.right+t,s=i>=o.top-t&&i<=o.bottom+t;return n&&s?a=e:void 0}})),a);if(t){var o={};for(var n in e)e.hasOwnProperty(n)&&(o[n]=e[n]);o.target=o.rootEl=t,o.preventDefault=void 0,o.stopPropagation=void 0,t[hn]._onDragOver(o)}}var r,i,a},ur=function(e){An&&An.parentNode[hn]._isOutsideThisEl(e.target)};function dr(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=Mo({},t),e[hn]=this;var o={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return ir(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==dr.supportPointer&&"PointerEvent"in window&&!No,emptyInsertThreshold:5};for(var n in mn.initializePlugins(this,e,o),o)!(n in t)&&(t[n]=o[n]);for(var r in ar(t),this)"_"===r.charAt(0)&&"function"==typeof this[r]&&(this[r]=this[r].bind(this));this.nativeDraggable=!t.forceFallback&&nr,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?zo(e,"pointerdown",this._onTapStart):(zo(e,"mousedown",this._onTapStart),zo(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(zo(e,"dragover",this),zo(e,"dragenter",this)),Xn.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),Mo(this,pn())}function hr(e,t,o,n,r,i,a,s){var l,c,u=e[hn],d=u.options.onMove;return!window.CustomEvent||ko||Go?(l=document.createEvent("Event")).initEvent("move",!0,!0):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=t,l.from=e,l.dragged=o,l.draggedRect=n,l.related=r||t,l.relatedRect=i||en(t),l.willInsertAfter=s,l.originalEvent=a,e.dispatchEvent(l),d&&(c=d.call(u,l,a)),c}function pr(e){e.draggable=!1}function fr(){Qn=!1}function gr(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,o=t.length,n=0;o--;)n+=t.charCodeAt(o);return n.toString(36)}function mr(e){return setTimeout(e,0)}function yr(e){return clearTimeout(e)}dr.prototype={constructor:dr,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(zn=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,An):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,o=this.el,n=this.options,r=n.preventOnFilter,i=e.type,a=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,s=(a||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,c=n.filter;if(function(e){$n.length=0;var t=e.getElementsByTagName("input"),o=t.length;for(;o--;){var n=t[o];n.checked&&$n.push(n)}}(o),!An&&!(/mousedown|pointerdown/.test(i)&&0!==e.button||n.disabled)&&!l.isContentEditable&&(this.nativeDraggable||!No||!s||"SELECT"!==s.tagName.toUpperCase())&&!((s=Yo(s,n.draggable,o,!1))&&s.animated||On===s)){if(jn=rn(s),Tn=rn(s,n.draggable),"function"==typeof c){if(c.call(this,e,s,this))return bn({sortable:t,rootEl:l,name:"filter",targetEl:s,toEl:o,fromEl:o}),_n("filter",t,{evt:e}),void(r&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some((function(n){if(n=Yo(l,n.trim(),o,!1))return bn({sortable:t,rootEl:n,name:"filter",targetEl:s,fromEl:o,toEl:o}),_n("filter",t,{evt:e}),!0}))))return void(r&&e.cancelable&&e.preventDefault());n.handle&&!Yo(l,n.handle,o,!1)||this._prepareDragStart(e,a,s)}}},_prepareDragStart:function(e,t,o){var n,r=this,i=r.el,a=r.options,s=i.ownerDocument;if(o&&!An&&o.parentNode===i){var l=en(o);if(En=i,Cn=(An=o).parentNode,In=An.nextSibling,On=o,Rn=a.group,dr.dragged=An,kn={target:An,clientX:(t||e).clientX,clientY:(t||e).clientY},Fn=kn.clientX-l.left,Un=kn.clientY-l.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,An.style["will-change"]="all",n=function(){_n("delayEnded",r,{evt:e}),dr.eventCanceled?r._onDrop():(r._disableDelayedDragEvents(),!Do&&r.nativeDraggable&&(An.draggable=!0),r._triggerDragStart(e,t),bn({sortable:r,name:"choose",originalEvent:e}),Zo(An,a.chosenClass,!0))},a.ignore.split(",").forEach((function(e){Qo(An,e.trim(),pr)})),zo(s,"dragover",cr),zo(s,"mousemove",cr),zo(s,"touchmove",cr),zo(s,"mouseup",r._onDrop),zo(s,"touchend",r._onDrop),zo(s,"touchcancel",r._onDrop),Do&&this.nativeDraggable&&(this.options.touchStartThreshold=4,An.draggable=!0),_n("delayStart",this,{evt:e}),!a.delay||a.delayOnTouchOnly&&!t||this.nativeDraggable&&(Go||ko))n();else{if(dr.eventCanceled)return void this._onDrop();zo(s,"mouseup",r._disableDelayedDrag),zo(s,"touchend",r._disableDelayedDrag),zo(s,"touchcancel",r._disableDelayedDrag),zo(s,"mousemove",r._delayedDragTouchMoveHandler),zo(s,"touchmove",r._delayedDragTouchMoveHandler),a.supportPointer&&zo(s,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(n,a.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){An&&pr(An),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;Vo(e,"mouseup",this._disableDelayedDrag),Vo(e,"touchend",this._disableDelayedDrag),Vo(e,"touchcancel",this._disableDelayedDrag),Vo(e,"mousemove",this._delayedDragTouchMoveHandler),Vo(e,"touchmove",this._delayedDragTouchMoveHandler),Vo(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?zo(document,"pointermove",this._onTouchMove):zo(document,t?"touchmove":"mousemove",this._onTouchMove):(zo(An,"dragend",this),zo(En,"dragstart",this._onDragStart));try{document.selection?mr((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(e,t){if(Yn=!1,En&&An){_n("dragStarted",this,{evt:t}),this.nativeDraggable&&zo(document,"dragover",ur);var o=this.options;!e&&Zo(An,o.dragClass,!1),Zo(An,o.ghostClass,!0),dr.active=this,e&&this._appendGhost(),bn({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(Gn){this._lastX=Gn.clientX,this._lastY=Gn.clientY,sr();for(var e=document.elementFromPoint(Gn.clientX,Gn.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Gn.clientX,Gn.clientY))!==t;)t=e;if(An.parentNode[hn]._isOutsideThisEl(e),t)do{if(t[hn]){if(t[hn]._onDragOver({clientX:Gn.clientX,clientY:Gn.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);lr()}},_onTouchMove:function(e){if(kn){var t=this.options,o=t.fallbackTolerance,n=t.fallbackOffset,r=e.touches?e.touches[0]:e,i=wn&&Jo(wn,!0),a=wn&&i&&i.a,s=wn&&i&&i.d,l=tr&&qn&&an(qn),c=(r.clientX-kn.clientX+n.x)/(a||1)+(l?l[0]-Jn[0]:0)/(a||1),u=(r.clientY-kn.clientY+n.y)/(s||1)+(l?l[1]-Jn[1]:0)/(s||1);if(!dr.active&&!Yn){if(o&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<o)return;this._onDragStart(e,!0)}if(wn){i?(i.e+=c-(Dn||0),i.f+=u-(Nn||0)):i={a:1,b:0,c:0,d:1,e:c,f:u};var d="matrix(".concat(i.a,",").concat(i.b,",").concat(i.c,",").concat(i.d,",").concat(i.e,",").concat(i.f,")");Ko(wn,"webkitTransform",d),Ko(wn,"mozTransform",d),Ko(wn,"msTransform",d),Ko(wn,"transform",d),Dn=c,Nn=u,Gn=r}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!wn){var e=this.options.fallbackOnBody?document.body:En,t=en(An,!0,tr,!0,e),o=this.options;if(tr){for(qn=e;"static"===Ko(qn,"position")&&"none"===Ko(qn,"transform")&&qn!==document;)qn=qn.parentNode;qn!==document.body&&qn!==document.documentElement?(qn===document&&(qn=$o()),t.top+=qn.scrollTop,t.left+=qn.scrollLeft):qn=$o(),Jn=an(qn)}Zo(wn=An.cloneNode(!0),o.ghostClass,!1),Zo(wn,o.fallbackClass,!0),Zo(wn,o.dragClass,!0),Ko(wn,"transition",""),Ko(wn,"transform",""),Ko(wn,"box-sizing","border-box"),Ko(wn,"margin",0),Ko(wn,"top",t.top),Ko(wn,"left",t.left),Ko(wn,"width",t.width),Ko(wn,"height",t.height),Ko(wn,"opacity","0.8"),Ko(wn,"position",tr?"absolute":"fixed"),Ko(wn,"zIndex","100000"),Ko(wn,"pointerEvents","none"),dr.ghost=wn,e.appendChild(wn),Ko(wn,"transform-origin",Fn/parseInt(wn.style.width)*100+"% "+Un/parseInt(wn.style.height)*100+"%")}},_onDragStart:function(e,t){var o=this,n=e.dataTransfer,r=o.options;_n("dragStart",this,{evt:e}),dr.eventCanceled?this._onDrop():(_n("setupClone",this),dr.eventCanceled||((Sn=dn(An)).draggable=!1,Sn.style["will-change"]="",this._hideClone(),Zo(Sn,this.options.chosenClass,!1),dr.clone=Sn),o.cloneId=mr((function(){_n("clone",o),dr.eventCanceled||(o.options.removeCloneOnHide||En.insertBefore(Sn,An),o._hideClone(),bn({sortable:o,name:"clone"}))})),!t&&Zo(An,r.dragClass,!0),t?(Hn=!0,o._loopId=setInterval(o._emulateDragOver,50)):(Vo(document,"mouseup",o._onDrop),Vo(document,"touchend",o._onDrop),Vo(document,"touchcancel",o._onDrop),n&&(n.effectAllowed="move",r.setData&&r.setData.call(o,n,An)),zo(document,"drop",o),Ko(An,"transform","translateZ(0)")),Yn=!0,o._dragStartId=mr(o._dragStarted.bind(o,t,e)),zo(document,"selectstart",o),Bn=!0,No&&Ko(document.body,"user-select","none"))},_onDragOver:function(e){var t,o,n,r,i=this.el,a=e.target,s=this.options,l=s.group,c=dr.active,u=Rn===l,d=s.sort,h=Ln||c,p=this,f=!1;if(!Qn){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),a=Yo(a,s.draggable,i,!0),j("dragOver"),dr.eventCanceled)return f;if(An.contains(e.target)||a.animated&&a.animatingX&&a.animatingY||p._ignoreWhileAnimating===a)return T(!1);if(Hn=!1,c&&!s.disabled&&(u?d||(n=Cn!==En):Ln===this||(this.lastPutMode=Rn.checkPull(this,c,An,e))&&l.checkPut(this,c,An,e))){if(r="vertical"===this._getDirection(e,a),t=en(An),j("dragOverValid"),dr.eventCanceled)return f;if(n)return Cn=En,P(),this._hideClone(),j("revert"),dr.eventCanceled||(In?En.insertBefore(An,In):En.appendChild(An)),T(!0);var g=nn(i,s.draggable);if(!g||function(e,t,o){var n=en(nn(o.el,o.options.draggable));return t?e.clientX>n.right+10||e.clientX<=n.right&&e.clientY>n.bottom&&e.clientX>=n.left:e.clientX>n.right&&e.clientY>n.top||e.clientX<=n.right&&e.clientY>n.bottom+10}(e,r,this)&&!g.animated){if(g===An)return T(!1);if(g&&i===e.target&&(a=g),a&&(o=en(a)),!1!==hr(En,i,An,t,a,o,e,!!a))return P(),i.appendChild(An),Cn=i,M(),T(!0)}else if(g&&function(e,t,o){var n=en(on(o.el,0,o.options,!0));return t?e.clientX<n.left-10||e.clientY<n.top&&e.clientX<n.right:e.clientY<n.top-10||e.clientY<n.bottom&&e.clientX<n.left}(e,r,this)){var m=on(i,0,s,!0);if(m===An)return T(!1);if(o=en(a=m),!1!==hr(En,i,An,t,a,o,e,!1))return P(),i.insertBefore(An,m),Cn=i,M(),T(!0)}else if(a.parentNode===i){o=en(a);var y,v,_,b=An.parentNode!==i,A=!function(e,t,o){var n=o?e.left:e.top,r=o?e.right:e.bottom,i=o?e.width:e.height,a=o?t.left:t.top,s=o?t.right:t.bottom,l=o?t.width:t.height;return n===a||r===s||n+i/2===a+l/2}(An.animated&&An.toRect||t,a.animated&&a.toRect||o,r),C=r?"top":"left",w=tn(a,"top","top")||tn(An,"top","top"),E=w?w.scrollTop:void 0;if(zn!==a&&(v=o[C],Zn=!1,Kn=!A&&s.invertSwap||b),0!==(y=function(e,t,o,n,r,i,a,s){var l=n?e.clientY:e.clientX,c=n?o.height:o.width,u=n?o.top:o.left,d=n?o.bottom:o.right,h=!1;if(!a)if(s&&Wn<c*r){if(!Zn&&(1===Vn?l>u+c*i/2:l<d-c*i/2)&&(Zn=!0),Zn)h=!0;else if(1===Vn?l<u+Wn:l>d-Wn)return-Vn}else if(l>u+c*(1-r)/2&&l<d-c*(1-r)/2)return function(e){return rn(An)<rn(e)?1:-1}(t);if((h=h||a)&&(l<u+c*i/2||l>d-c*i/2))return l>u+c/2?1:-1;return 0}(e,a,o,r,A?1:s.swapThreshold,null==s.invertedSwapThreshold?s.swapThreshold:s.invertedSwapThreshold,Kn,zn===a))){var I=rn(An);do{I-=y,_=Cn.children[I]}while(_&&("none"===Ko(_,"display")||_===wn))}if(0===y||_===a)return T(!1);zn=a,Vn=y;var O=a.nextElementSibling,S=!1,x=hr(En,i,An,t,a,o,e,S=1===y);if(!1!==x)return 1!==x&&-1!==x||(S=1===x),Qn=!0,setTimeout(fr,30),P(),S&&!O?i.appendChild(An):a.parentNode.insertBefore(An,S?O:a),w&&un(w,0,E-w.scrollTop),Cn=An.parentNode,void 0===v||Kn||(Wn=Math.abs(v-en(a)[C])),M(),T(!0)}if(i.contains(An))return T(!1)}return!1}function j(s,l){_n(s,p,jo({evt:e,isOwner:u,axis:r?"vertical":"horizontal",revert:n,dragRect:t,targetRect:o,canSort:d,fromSortable:h,target:a,completed:T,onMove:function(o,n){return hr(En,i,An,t,o,en(o),e,n)},changed:M},l))}function P(){j("dragOverAnimationCapture"),p.captureAnimationState(),p!==h&&h.captureAnimationState()}function T(t){return j("dragOverCompleted",{insertion:t}),t&&(u?c._hideClone():c._showClone(p),p!==h&&(Zo(An,Ln?Ln.options.ghostClass:c.options.ghostClass,!1),Zo(An,s.ghostClass,!0)),Ln!==p&&p!==dr.active?Ln=p:p===dr.active&&Ln&&(Ln=null),h===p&&(p._ignoreWhileAnimating=a),p.animateAll((function(){j("dragOverAnimationComplete"),p._ignoreWhileAnimating=null})),p!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(a===An&&!An.animated||a===i&&!a.animated)&&(zn=null),s.dragoverBubble||e.rootEl||a===document||(An.parentNode[hn]._isOutsideThisEl(e.target),!t&&cr(e)),!s.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),f=!0}function M(){Pn=rn(An),Mn=rn(An,s.draggable),bn({sortable:p,name:"change",toEl:i,newIndex:Pn,newDraggableIndex:Mn,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){Vo(document,"mousemove",this._onTouchMove),Vo(document,"touchmove",this._onTouchMove),Vo(document,"pointermove",this._onTouchMove),Vo(document,"dragover",cr),Vo(document,"mousemove",cr),Vo(document,"touchmove",cr)},_offUpEvents:function(){var e=this.el.ownerDocument;Vo(e,"mouseup",this._onDrop),Vo(e,"touchend",this._onDrop),Vo(e,"pointerup",this._onDrop),Vo(e,"touchcancel",this._onDrop),Vo(document,"selectstart",this)},_onDrop:function(e){var t=this.el,o=this.options;Pn=rn(An),Mn=rn(An,o.draggable),_n("drop",this,{evt:e}),Cn=An&&An.parentNode,Pn=rn(An),Mn=rn(An,o.draggable),dr.eventCanceled||(Yn=!1,Kn=!1,Zn=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),yr(this.cloneId),yr(this._dragStartId),this.nativeDraggable&&(Vo(document,"drop",this),Vo(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),No&&Ko(document.body,"user-select",""),Ko(An,"transform",""),e&&(Bn&&(e.cancelable&&e.preventDefault(),!o.dropBubble&&e.stopPropagation()),wn&&wn.parentNode&&wn.parentNode.removeChild(wn),(En===Cn||Ln&&"clone"!==Ln.lastPutMode)&&Sn&&Sn.parentNode&&Sn.parentNode.removeChild(Sn),An&&(this.nativeDraggable&&Vo(An,"dragend",this),pr(An),An.style["will-change"]="",Bn&&!Yn&&Zo(An,Ln?Ln.options.ghostClass:this.options.ghostClass,!1),Zo(An,this.options.chosenClass,!1),bn({sortable:this,name:"unchoose",toEl:Cn,newIndex:null,newDraggableIndex:null,originalEvent:e}),En!==Cn?(Pn>=0&&(bn({rootEl:Cn,name:"add",toEl:Cn,fromEl:En,originalEvent:e}),bn({sortable:this,name:"remove",toEl:Cn,originalEvent:e}),bn({rootEl:Cn,name:"sort",toEl:Cn,fromEl:En,originalEvent:e}),bn({sortable:this,name:"sort",toEl:Cn,originalEvent:e})),Ln&&Ln.save()):Pn!==jn&&Pn>=0&&(bn({sortable:this,name:"update",toEl:Cn,originalEvent:e}),bn({sortable:this,name:"sort",toEl:Cn,originalEvent:e})),dr.active&&(null!=Pn&&-1!==Pn||(Pn=jn,Mn=Tn),bn({sortable:this,name:"end",toEl:Cn,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){_n("nulling",this),En=An=Cn=wn=In=Sn=On=xn=kn=Gn=Bn=Pn=Mn=jn=Tn=zn=Vn=Ln=Rn=dr.dragged=dr.ghost=dr.clone=dr.active=null,$n.forEach((function(e){e.checked=!0})),$n.length=Dn=Nn=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":An&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],o=this.el.children,n=0,r=o.length,i=this.options;n<r;n++)Yo(e=o[n],i.draggable,this.el,!1)&&t.push(e.getAttribute(i.dataIdAttr)||gr(e));return t},sort:function(e,t){var o={},n=this.el;this.toArray().forEach((function(e,t){var r=n.children[t];Yo(r,this.options.draggable,n,!1)&&(o[e]=r)}),this),t&&this.captureAnimationState(),e.forEach((function(e){o[e]&&(n.removeChild(o[e]),n.appendChild(o[e]))})),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return Yo(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var o=this.options;if(void 0===t)return o[e];var n=mn.modifyOption(this,e,t);o[e]=void 0!==n?n:t,"group"===e&&ar(o)},destroy:function(){_n("destroy",this);var e=this.el;e[hn]=null,Vo(e,"mousedown",this._onTapStart),Vo(e,"touchstart",this._onTapStart),Vo(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(Vo(e,"dragover",this),Vo(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),Xn.splice(Xn.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!xn){if(_n("hideClone",this),dr.eventCanceled)return;Ko(Sn,"display","none"),this.options.removeCloneOnHide&&Sn.parentNode&&Sn.parentNode.removeChild(Sn),xn=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(xn){if(_n("showClone",this),dr.eventCanceled)return;An.parentNode!=En||this.options.group.revertClone?In?En.insertBefore(Sn,In):En.appendChild(Sn):En.insertBefore(Sn,An),this.options.group.revertClone&&this.animate(An,Sn),Ko(Sn,"display",""),xn=!1}}else this._hideClone()}},er&&zo(document,"touchmove",(function(e){(dr.active||Yn)&&e.cancelable&&e.preventDefault()})),dr.utils={on:zo,off:Vo,css:Ko,find:Qo,is:function(e,t){return!!Yo(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);return e},throttle:cn,closest:Yo,toggleClass:Zo,clone:dn,index:rn,nextTick:mr,cancelNextTick:yr,detectDirection:ir,getChild:on},dr.get=function(e){return e[hn]},dr.mount=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(dr.utils=jo(jo({},dr.utils),e.utils)),mn.mount(e)}))},dr.create=function(e,t){return new dr(e,t)},dr.version="1.14.0";var vr,_r,br,Ar,Cr,wr,Er=[],Ir=!1;function Or(){Er.forEach((function(e){clearInterval(e.pid)})),Er=[]}function Sr(){clearInterval(wr)}var xr=cn((function(e,t,o,n){if(t.scroll){var r,i=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,s=t.scrollSensitivity,l=t.scrollSpeed,c=$o(),u=!1;_r!==o&&(_r=o,Or(),vr=t.scroll,r=t.scrollFn,!0===vr&&(vr=sn(o,!0)));var d=0,h=vr;do{var p=h,f=en(p),g=f.top,m=f.bottom,y=f.left,v=f.right,_=f.width,b=f.height,A=void 0,C=void 0,w=p.scrollWidth,E=p.scrollHeight,I=Ko(p),O=p.scrollLeft,S=p.scrollTop;p===c?(A=_<w&&("auto"===I.overflowX||"scroll"===I.overflowX||"visible"===I.overflowX),C=b<E&&("auto"===I.overflowY||"scroll"===I.overflowY||"visible"===I.overflowY)):(A=_<w&&("auto"===I.overflowX||"scroll"===I.overflowX),C=b<E&&("auto"===I.overflowY||"scroll"===I.overflowY));var x=A&&(Math.abs(v-i)<=s&&O+_<w)-(Math.abs(y-i)<=s&&!!O),j=C&&(Math.abs(m-a)<=s&&S+b<E)-(Math.abs(g-a)<=s&&!!S);if(!Er[d])for(var P=0;P<=d;P++)Er[P]||(Er[P]={});Er[d].vx==x&&Er[d].vy==j&&Er[d].el===p||(Er[d].el=p,Er[d].vx=x,Er[d].vy=j,clearInterval(Er[d].pid),0==x&&0==j||(u=!0,Er[d].pid=setInterval(function(){n&&0===this.layer&&dr.active._onTouchMove(Cr);var t=Er[this.layer].vy?Er[this.layer].vy*l:0,o=Er[this.layer].vx?Er[this.layer].vx*l:0;"function"==typeof r&&"continue"!==r.call(dr.dragged.parentNode[hn],o,t,e,Cr,Er[this.layer].el)||un(Er[this.layer].el,o,t)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&h!==c&&(h=sn(h,!1)));Ir=u}}),30),jr=function(e){var t=e.originalEvent,o=e.putSortable,n=e.dragEl,r=e.activeSortable,i=e.dispatchSortableEvent,a=e.hideGhostForTarget,s=e.unhideGhostForTarget;if(t){var l=o||r;a();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,u=document.elementFromPoint(c.clientX,c.clientY);s(),l&&!l.el.contains(u)&&(i("spill"),this.onSpill({dragEl:n,putSortable:o}))}};function Pr(){}function Tr(){}Pr.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,o=e.putSortable;this.sortable.captureAnimationState(),o&&o.captureAnimationState();var n=on(this.sortable.el,this.startIndex,this.options);n?this.sortable.el.insertBefore(t,n):this.sortable.el.appendChild(t),this.sortable.animateAll(),o&&o.animateAll()},drop:jr},Mo(Pr,{pluginName:"revertOnSpill"}),Tr.prototype={onSpill:function(e){var t=e.dragEl,o=e.putSortable||this.sortable;o.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),o.animateAll()},drop:jr},Mo(Tr,{pluginName:"removeOnSpill"});dr.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?zo(document,"dragover",this._handleAutoScroll):this.options.supportPointer?zo(document,"pointermove",this._handleFallbackAutoScroll):t.touches?zo(document,"touchmove",this._handleFallbackAutoScroll):zo(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?Vo(document,"dragover",this._handleAutoScroll):(Vo(document,"pointermove",this._handleFallbackAutoScroll),Vo(document,"touchmove",this._handleFallbackAutoScroll),Vo(document,"mousemove",this._handleFallbackAutoScroll)),Sr(),Or(),clearTimeout(Ho),Ho=void 0},nulling:function(){Cr=_r=vr=Ir=wr=br=Ar=null,Er.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var o=this,n=(e.touches?e.touches[0]:e).clientX,r=(e.touches?e.touches[0]:e).clientY,i=document.elementFromPoint(n,r);if(Cr=e,t||this.options.forceAutoScrollFallback||Go||ko||No){xr(e,this.options,i,t);var a=sn(i,!0);!Ir||wr&&n===br&&r===Ar||(wr&&Sr(),wr=setInterval((function(){var i=sn(document.elementFromPoint(n,r),!0);i!==a&&(a=i,Or()),xr(e,o.options,i,t)}),10),br=n,Ar=r)}else{if(!this.options.bubbleScroll||sn(i,!0)===$o())return void Or();xr(e,this.options,sn(i,!1),!1)}}},Mo(e,{pluginName:"scroll",initializeByDefault:!0})}),dr.mount(Tr,Pr);var Mr=dr,Rr={_createDraggableElement:function(e,t){navigator.userAgent.match(/chrome|chromium|crios/i)?Mr.create(e,{handle:".GPlayerName",draggable:".draggable-layer",ghostClass:"GPghostLayer",animation:200,forceFallback:!0,onEnd:function(e){t._onDragAndDropLayerClick(e)}}):Mr.create(e,{handle:".GPlayerName",draggable:".draggable-layer",ghostClass:"GPghostLayer",animation:200,onEnd:function(e){t._onDragAndDropLayerClick(e)}})},_addUID:function(e){return this._uid?e+"-"+this._uid:e},_createMainContainerElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPlayerSwitcher"),e.className="GPwidget",e},_createMainLayersShowElement:function(){var e=document.createElement("input");return e.id=this._addUID("GPshowLayersList"),e.type="checkbox",e},_createMainLayersElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPlayersList"),e.className="GPpanel",e},_createMainPictoElement:function(){var e=this,t=document.createElement("label");t.id=this._addUID("GPshowLayersListPicto"),t.className="GPshowAdvancedToolPicto",t.htmlFor=this._addUID("GPshowLayersList"),t.title="Afficher/masquer le gestionnaire de couches";var o=document.createElement("span");o.id=this._addUID("GPshowLayersListOpen"),o.className="GPshowAdvancedToolOpen",o.addEventListener("click",(function(){if(document.getElementById(e._addUID("GPshowLayersList")).checked){for(var t=document.getElementsByClassName("GPlayerInfoOpened"),o=0;o<t.length;o++)t[o].className="GPlayerInfo";document.getElementById(e._addUID("GPlayerInfoPanel")).className="GPlayerInfoPanelClosed"}})),t.appendChild(o);var n=document.createElement("span");return n.addEventListener("click",(function(){if(document.getElementById(e._addUID("GPshowLayersList")).checked){for(var t=document.getElementsByClassName("GPlayerInfoOpened"),o=0;o<t.length;o++)t[o].className="GPlayerInfo";document.getElementById(e._addUID("GPlayerInfoPanel")).className="GPlayerInfoPanelClosed"}})),n.id=e._addUID("GPshowLayersListClose"),t.appendChild(n),t},_createMainInfoElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPlayerInfoPanel"),e.className="GPpanel GPlayerInfoPanelClosed",e},_createContainerLayerElement:function(e){var t=document.createElement("div");t.id=this._addUID("GPlayerSwitcher_ID_"+e.id),t.className="GPlayerSwitcher_layer draggable-layer",t.appendChild(this._createBasicToolElement(e));for(var o=this._createAdvancedToolShowElement(e),n=0;n<o.length;n++)t.appendChild(o[n]);return t.appendChild(this._createAdvancedToolElement(e)),t},_createBasicToolElement:function(e){var t=document.createElement("div");t.id=this._addUID("GPbasicTools_ID_"+e.id),t.className="GPlayerBasicTools",t.appendChild(this._createBasicToolNameElement(e));for(var o=this._createBasicToolVisibilityElement(e),n=0;n<o.length;n++)t.appendChild(o[n]);return t},_createBasicToolNameElement:function(e){var t=document.createElement("span");return t.id=this._addUID("GPname_ID_"+e.id),t.className="GPlayerName",t.title=e.description||e.title,t.innerHTML=e.title,t},_createBasicToolVisibilityElement:function(e){var t=[],o=void 0===e.visibility||e.visibility,n=this._addUID("GPvisibility_ID_"+e.id),r=document.createElement("input");r.id=n,r.type="checkbox",r.checked=o;var i=document.createElement("label");i.htmlFor=n,i.id=this._addUID("GPvisibilityPicto_ID_"+e.id),i.className="GPlayerVisibility",i.title="Afficher/masquer la couche";var a=this;return r.addEventListener?r.addEventListener("click",(function(e){a._onVisibilityLayerClick(e)})):r.attachEvent&&r.attachEvent("onclick",(function(e){a._onVisibilityLayerClick(e)})),t.push(r),t.push(i),t},_createAdvancedToolShowElement:function(e){var t=[],o=document.createElement("label");o.id=this._addUID("GPshowAdvancedToolsPicto_ID_"+e.id),o.htmlFor=this._addUID("GPshowAdvancedTools_ID_"+e.id),o.title="Plus d'outils",o.className="GPshowMoreOptions GPshowLayerAdvancedTools";var n=document.createElement("input");return n.type="checkbox",n.id=this._addUID("GPshowAdvancedTools_ID_"+e.id),t.push(n),t.push(o),t},_createAdvancedToolElement:function(e){var t=document.createElement("div");if(t.id=this._addUID("GPadvancedTools_ID_"+e.id),t.className="GPlayerAdvancedTools",t.appendChild(this._createAdvancedToolDeleteElement(e)),e.title&&e.description&&t.appendChild(this._createAdvancedToolInformationElement(e)),"feature"!==e.type)for(var o=this._createAdvancedToolOpacityElement(e),n=0;n<o.length;n++)t.appendChild(o[n]);return t},_createAdvancedToolDeleteElement:function(e){var t=document.createElement("div");t.id=this._addUID("GPremove_ID_"+e.id),t.className="GPlayerRemove",t.title="Supprimer la couche",t.layerId=e.id;var o=this;return t.addEventListener?t.addEventListener("click",(function(e){o._onDropLayerClick(e)})):t.attachEvent&&t.attachEvent("onclick",(function(e){o._onDropLayerClick(e)})),t},_createAdvancedToolInformationElement:function(e){var t=document.createElement("div");t.id=this._addUID("GPinfo_ID_"+e.id),t.className="GPlayerInfo",t.title="Informations/lÃ©gende",t.layerId=e.id;var o=this;return t.addEventListener?t.addEventListener("click",(function(e){o._onOpenLayerInfoClick(e)})):t.attachEvent&&t.attachEvent("onclick",(function(e){o._onOpenLayerInfoClick(e)})),t},_createAdvancedToolOpacityElement:function(e){var t=[],o=document.createElement("div");o.id=this._addUID("GPopacity_ID_"+e.id),o.className="GPlayerOpacity",o.title="OpacitÃ©";var n=void 0!==e.opacity?e.opacity:1;n=Math.round(100*n);var r=document.createElement("input");r.id=this._addUID("GPopacityValueDiv_ID_"+e.id),r.type="range",r.value=n;var i=this;r.addEventListener?r.addEventListener("change",(function(e){i._onChangeLayerOpacity(e)})):r.attachEvent&&r.attachEvent("onchange",(function(e){i._onChangeLayerOpacity(e)})),r.addEventListener?r.addEventListener("input",(function(e){i._onChangeLayerOpacity(e)})):r.attachEvent&&r.attachEvent("oninput",(function(e){i._onChangeLayerOpacity(e)})),o.appendChild(r);var a=document.createElement("div");a.id=this._addUID("GPopacityValueDiv_ID_"+e.id),a.className="GPlayerOpacityValue";var s=document.createElement("span");return s.id=this._addUID("GPopacityValue_ID_"+e.id),s.innerHTML=n+"%",a.appendChild(s),t.push(o),t.push(a),t},_createContainerLayerInfoElement:function(e){var t=document.createElement("div");t.id=this._addUID("GPlayerInfoContent");var o=document.createElement("div");if(o.id=this._addUID("GPlayerInfoTitle"),o.innerHTML=e.title,t.appendChild(o),e.quicklookUrl){var n=document.createElement("div");n.id=this._addUID("GPlayerInfoQuicklook"),n.title="Afficher un aperÃ§u de la couche";var r=document.createElement("a");r.href=e.quicklookUrl,r.appendChild(n),t.appendChild(r)}var i=document.createElement("div");i.id=this._addUID("GPlayerInfoClose"),i.title="Fermer la fenÃªtre";var a=this,s=function(){document.getElementById(a._addUID("GPlayerInfoPanel")).className="GPlayerInfoPanelClosed";for(var e=document.getElementsByClassName("GPlayerInfoOpened"),t=0;t<e.length;t++)e[t].className="GPlayerInfo"};i.addEventListener?i.addEventListener("click",s):i.attachEvent&&i.attachEvent("onclick",s),t.appendChild(i);var l=document.createElement("div");if(l.id=this._addUID("GPlayerInfoDescription"),l.innerHTML=e.description,t.appendChild(l),e.metadata){var c=document.createElement("div");c.id=this._addUID("GPlayerInfoMetadata");var u=document.createElement("div");u.className="GPlayerInfoSubtitle",u.innerHTML="MÃ©tadonnÃ©es",c.appendChild(u);for(var d=0;d<e.metadata.length;d++){var h=e.metadata[d].url,p=document.createElement("div");p.className="GPlayerInfoLink";var f=document.createElement("a");f.href=h,f.innerHTML=h,p.appendChild(f),c.appendChild(p)}0!==e.metadata.length&&t.appendChild(c)}if(e.legends){var g=document.createElement("div");g.id=this._addUID("GPlayerInfoLegend");var m=document.createElement("div");m.className="GPlayerInfoSubtitle",m.innerHTML="LÃ©gende",g.appendChild(m);for(var y={},v=e.maxScaleDenominator||56e7,_=0;_<e.legends.length;_++){var b=e.legends[_].minScaleDenominator;if(b){var A=b.toString();b=Math.round(parseInt(A.substring(0,3),10)/10)*Math.pow(10,A.length-2)}else b=270;y[b]=e.legends[_]}for(var C in y)if(y.hasOwnProperty(C)){var w=y[C].url;if("string"==typeof w&&-1===w.toLowerCase().indexOf("nolegend.jpg")){var E=document.createElement("div");E.className="GPlayerInfoLink",v=y[C].maxScaleDenominator||v;var I=document.createElement("a");I.href=w,I.innerHTML="Du 1/"+C+" au 1/"+v,E.appendChild(I),g.appendChild(E)}else delete y[C]}0!==Object.keys(y).length&&t.appendChild(g)}return t}};function Lr(e){return(Lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var kr=mt.getLogger("layerswitcher"),Gr=function(e){function t(o){var n=(o=o||{}).options||{},r=o.layers||[];if(!(this instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");if(!Array.isArray(r))throw new Error("ERROR WRONG_TYPE : layers should be an array");if("object"!==Lr(n))throw new Error("ERROR WRONG_TYPE : options should be an object");this._initialize(n,r);var i=this._container=this._initContainer(n);e.call(this,{element:i,target:n.target,render:n.render})}return e&&(t.__proto__=e),t.prototype=Object.create(e.prototype,{}),Bt.assign(t.prototype,Rr),t.prototype.constructor=t,t.prototype.setMap=function(t){var o=this;if(t)this._addMapLayers(t),this._listeners.onMoveListener=t.on("moveend",(function(){return o._onMapMoveEnd(t)})),this._listeners.onAddListener=t.getLayers().on("add",(function(e){var t,n=e.element;n.hasOwnProperty("gpLayerId")?t=n.gpLayerId:(t=o._layerId,n.gpLayerId=t,o._layerId++),o._layers[t]||o.addLayer(n)})),this._listeners.onRemoveListener=t.getLayers().on("remove",(function(e){var t=e.element,n=t.gpLayerId;o._layers[n]&&o.removeLayer(t)}));else{Object(Ao.b)(this._listeners.onMoveListener),Object(Ao.b)(this._listeners.onAddListener),Object(Ao.b)(this._listeners.onRemoveListener);for(var n=this._layersOrder.length-1;n>=0;n--)this._layersOrder[n].layer.setZIndex(0)}e.prototype.setMap.call(this,t)},t.prototype.addLayer=function(e,t){var o=this,n=this.getMap();if(t=t||{},e){var r=e.gpLayerId;if(void 0!==r){var i=!1;if(n.getLayers().forEach((function(e){e.gpLayerId===r&&(i=!0)})),i)if(this._layers[r]){for(var a in t)t.hasOwnProperty(a)&&(this._layers[r][a]=t[a]);if(t.title){var s=document.getElementById(this._addUID("GPname_ID_"+r));s&&(s.innerHTML=t.title,s.title=t.description||t.title)}var l=document.getElementById(this._addUID("GPinfo_ID_"+r));if(!document.getElementById(this._addUID("GPinfo_ID_"+r))&&t.description){var c=document.getElementById(this._addUID("GPadvancedTools_ID_"+r));c&&c.appendChild(this._createAdvancedToolInformationElement({id:r}))}l&&"GPlayerInfoOpened"===l.className&&(document.getElementById(this._addUID("GPlayerInfoPanel")).className="GPlayerInfoPanelClosed",l.className="GPlayerInfo")}else{var u=this.getLayerInfo(e)||{},d=e.getOpacity(),h=e.getVisible(),p=this.isInRange(e,n),f={layer:e,id:r,opacity:null!=d?d:1,visibility:null==h||h,inRange:null==p||p,title:null!=t.title?t.title:u._title||r,description:t.description||u._description||null,legends:t.legends||u._legends||[],metadata:t.metadata||u._metadata||[],quicklookUrl:t.quicklookUrl||u._quicklookUrl||null};this._layers[r]=f;var g=this._createLayerDiv(f);this._layers[r].div=g,e.getZIndex&&0!==e.getZIndex()&&void 0!==e.getZIndex()||e._forceNullzIndex?this._updateLayersOrder():(this._layersOrder.unshift(f),this._lastZIndex++,e.setZIndex(this._lastZIndex),this._layerListContainer.insertBefore(g,this._layerListContainer.firstChild)),this._listeners.updateLayerOpacity=e.on("change:opacity",(function(e){return o._updateLayerOpacity(e)})),this._listeners.updateLayerVisibility=e.on("change:visible",(function(e){return o._updateLayerVisibility(e)})),null==this._layers[r].onZIndexChangeEvent&&(this._layers[r].onZIndexChangeEvent=e.on("change:zIndex",(function(){return o._updateLayersOrder()})))}else kr.log("[ERROR] LayerSwitcher:addLayer - configuration cannot be set for ",e," layer (layer is not in map.getLayers() )")}else kr.trace("[WARN] LayerSwitcher:addLayer - configuration cannot be set for this layer (layer id not found)",e)}else kr.log("[ERROR] LayerSwitcher:addLayer - missing layer parameter")},t.prototype.removeLayer=function(e){if(e){Object(Ao.b)(this._listeners.updateLayerOpacity),Object(Ao.b)(this._listeners.updateLayerVisibility),kr.trace(e);var t=e.gpLayerId,o=document.getElementById(this._addUID("GPlayersList")),n=document.getElementById(this._addUID("GPinfo_ID_"+t));n&&"GPlayerInfoOpened"===n.className&&(document.getElementById(this._addUID("GPlayerInfoPanel")).className="GPlayerInfoPanelClosed",n.className="GPlayerInfo");var r=document.getElementById(this._addUID("GPlayerSwitcher_ID_"+t));r&&o.removeChild(r);var i=Math.abs(e.getZIndex()-this._lastZIndex);this._layersOrder.splice(i,1),this._lastZIndex--;for(var a=this._layersOrder,s=0;s<a.length;s++)a[s].layer.setZIndex(this._lastZIndex-s);delete this._layers[t]}},t.prototype.setCollapsed=function(e){if(void 0!==e){var t=!document.getElementById(this._addUID("GPshowLayersList")).checked;if(!(e&&t||!e&&!t)){if(!t){for(var o=document.getElementsByClassName("GPlayerInfoOpened"),n=0;n<o.length;n++)o[n].className="GPlayerInfo";document.getElementById(this._addUID("GPlayerInfoPanel")).className="GPlayerInfoPanelClosed"}document.getElementById(this._addUID("GPshowLayersList")).checked=!e}}else kr.log("[ERROR] LayerSwitcher:setCollapsed - missing collapsed parameter")},t.prototype.getCollapsed=function(){return this.collapsed},t.prototype.setRemovable=function(e,t){if(e){var o=e.gpLayerId;if(null!=o){var n=document.getElementById(this._addUID("GPremove_ID_"+o));n&&(!1===t?n.style.display="none":!0===t&&(n.style.display="block"))}else kr.log("[LayerSwitcher:setRemovable] layer should be added to map before calling setRemovable method")}},t.prototype._initialize=function(e,t){this._uid=So.generate(),this._layers={},this._layersOrder=[],this._layersIndex={},this._lastZIndex=0,this._layerId=0,this.collapsed=void 0===e.collapsed||e.collapsed,this._layerListContainer=null,this._listeners={};for(var o=0;o<t.length;o++){var n=t[o].layer;if(n){var r;n.hasOwnProperty("gpLayerId")?r=n.gpLayerId:(r=this._layerId,n.gpLayerId=r,this._layerId++);var i=t[o].config||{},a=n.getOpacity(),s=n.getVisible(),l={layer:n,id:r,opacity:null!=a?a:1,visibility:null==s||s,title:null!=i.title?i.title:i.id?i.id:r,description:i.description||null,legends:i.legends||[],metadata:i.metadata||[],quicklookUrl:i.quicklookUrl||null};this._layers[r]=l}}},t.prototype._initContainer=function(){var e=this._createMainContainerElement(),t=this._createMainLayersShowElement();e.appendChild(t),this.collapsed?this.collapsed=!0:(t.checked="checked",this.collapsed=!1);var o=this,n=function(e){this.collapsed=!e.target.checked,this.dispatchEvent("change:collapsed")};t.addEventListener("click",(function(e){n.call(o,e)}));var r=this._layerListContainer=this._createMainLayersElement();e.appendChild(r),this._createDraggableElement(r,this);var i=this._createMainPictoElement();e.appendChild(i);var a=this._createMainInfoElement();return e.appendChild(a),e},t.prototype._addMapLayers=function(e){var t=this;for(var o in this._layersIndex={},e.getLayers().forEach((function(o){var n;o.hasOwnProperty("gpLayerId")?n=o.gpLayerId:(n=t._layerId,o.gpLayerId=n,t._layerId++);var r=t.getLayerInfo(o)||{};if(t._layers[n])t._layers[n].opacity=o.getOpacity(),t._layers[n].visibility=o.getVisible(),t._layers[n].inRange=t.isInRange(o,e);else{var i=o.getOpacity(),a=o.getVisible(),s=t.isInRange(o,e),l={layer:o,id:n,opacity:null!=i?i:1,visibility:null==a||a,inRange:null==s||s,title:r._title||n,description:r._description||null,legends:r._legends||[],metadata:r._metadata||[],quicklookUrl:r._quicklookUrl||null};t._layers[n]=l}if(t._listeners.updateLayerOpacity=o.on("change:opacity",(function(e){return t._updateLayerOpacity(e)})),t._listeners._updateLayerVisibility=o.on("change:visible",(function(e){return t._updateLayerVisibility(e)})),void 0!==o.getZIndex){var c=o.getZIndex()||0;t._layersIndex[c]&&Array.isArray(t._layersIndex[c])||(t._layersIndex[c]=[]),t._layersIndex[c].push(t._layers[n])}})),this._layersIndex)if(this._layersIndex.hasOwnProperty(o))for(var n=this._layersIndex[o],r=0;r<n.length;r++)this._layersOrder.unshift(n[r]),this._lastZIndex++,n[r].layer.setZIndex(this._lastZIndex),null==this._layers[n[r].layer.gpLayerId].onZIndexChangeEvent&&(this._layers[n[r].layer.gpLayerId].onZIndexChangeEvent=n[r].layer.on("change:zIndex",(function(){return t._updateLayersOrder()})));for(var i=0;i<this._layersOrder.length;i++){var a=this._layersOrder[i],s=this._createLayerDiv(a);this._layerListContainer.appendChild(s),this._layers[a.id].div=s}},t.prototype._createLayerDiv=function(e){var t=e.legends&&0!==e.legends.length,o=e.metadata&&0!==e.metadata.length,n=e.quicklookUrl;(t||o||n)&&(e.displayInformationElement=!0);var r=this._createContainerLayerElement(e);return e.inRange||r.classList.add("outOfRange"),r},t.prototype._onChangeLayerOpacity=function(e){var t=e.target.id,o=So.index(t),n=this._layers[o].layer,r=e.target.value;document.getElementById(this._addUID("GPopacityValue_ID_"+o)).innerHTML=r+"%",n.setOpacity(r/100)},t.prototype._updateLayerOpacity=function(e){var t=e.target.getOpacity();t>1&&(t=1),t<0&&(t=0);var o=e.target.gpLayerId,n=document.getElementById(this._addUID("GPopacityValueDiv_ID_"+o));n&&(n.value=Math.round(100*t));var r=document.getElementById(this._addUID("GPopacityValue_ID_"+o));r&&(r.innerHTML=Math.round(100*t)+"%")},t.prototype._onVisibilityLayerClick=function(e){var t=e.target.id,o=So.index(t);this._layers[o].layer.setVisible(e.target.checked)},t.prototype._updateLayerVisibility=function(e){var t=e.target.getVisible(),o=e.target.gpLayerId,n=document.getElementById(this._addUID("GPvisibility_ID_"+o));n&&(n.checked=t)},t.prototype._updateLayersOrder=function(){var e=this,t=this.getMap();if(t){var o,n;for(var r in this._layersIndex={},t.getLayers().forEach((function(t){n=t.gpLayerId,Object(Ao.b)(e._layers[n].onZIndexChangeEvent),e._layers[n].onZIndexChangeEvent=null,o=null,void 0!==t.getZIndex&&(o=t.getZIndex(),e._layersIndex[o]&&Array.isArray(e._layersIndex[o])||(e._layersIndex[o]=[]),e._layersIndex[o].push(e._layers[n]))})),this._lastZIndex=0,this._layersOrder=[],this._layersIndex)if(this._layersIndex.hasOwnProperty(r))for(var i=this._layersIndex[r],a=0;a<i.length;a++)this._layersOrder.unshift(i[a]),this._lastZIndex++,null==this._layers[i[a].layer.gpLayerId].onZIndexChangeEvent&&(this._layers[i[a].layer.gpLayerId].onZIndexChangeEvent=i[a].layer.on("change:zIndex",(function(){return e._updateLayersOrder()})));if(this._layerListContainer){for(;this._layerListContainer.firstChild;)this._layerListContainer.removeChild(this._layerListContainer.firstChild);for(var s=0;s<this._layersOrder.length;s++){var l=this._layersOrder[s];this._layerListContainer.appendChild(l.div)}}else kr.log("[ol.control.LayerSwitcher] _updateLayersOrder : layer list container not found to update layers order ?!")}},t.prototype._onOpenLayerInfoClick=function(e){var t,o,n=e.target.id,r=So.index(n),i=this._layers[r];if("GPlayerInfoOpened"===(n=document.getElementById(e.target.id)).className)return void 0!==n.classList&&(n.classList.remove("GPlayerInfoOpened"),n.classList.add("GPlayerInfo")),void 0!==(t=document.getElementById(this._addUID("GPlayerInfoPanel"))).classList&&(t.classList.remove("GPpanel"),t.classList.remove("GPlayerInfoPanelOpened"),t.classList.add("GPlayerInfoPanelClosed")),o=document.getElementById(this._addUID("GPlayerInfoContent")),void t.removeChild(o);for(var a=document.getElementsByClassName("GPlayerInfoOpened"),s=0;s<a.length;s++)a[s].className="GPlayerInfo";void 0!==n.classList&&(n.classList.remove("GPlayerInfo"),n.classList.add("GPlayerInfoOpened")),void 0!==(t=document.getElementById(this._addUID("GPlayerInfoPanel"))).classList&&(t.classList.add("GPpanel"),t.classList.remove("GPlayerInfoPanelClosed"),t.classList.add("GPlayerInfoPanelOpened")),(o=document.getElementById(this._addUID("GPlayerInfoContent")))&&t.removeChild(o);var l={title:i.title,description:i.description,quicklookUrl:i.quicklookUrl,metadata:i.metadata,legends:i.legends},c=i.layer.getMaxResolution();l._maxScaleDenominator=c===1/0?56e7:Math.round(c/28e-5);var u=this._createContainerLayerInfoElement(l);t.appendChild(u)},t.prototype._onDropLayerClick=function(e){var t=e.target.id,o=So.index(t),n=this._layers[o].layer;this.getMap().getLayers().remove(n)},t.prototype._onDragAndDropLayerClick=function(){var e=this,t=this.getMap(),o=document.querySelectorAll("div.GPlayerSwitcher_layer"),n=o.length;this._layersOrder=[];for(var r=0;r<o.length;r++){var i=o[r].id,a=So.index(i),s=this._layers[a].layer;Object(Ao.b)(this._layers[a].onZIndexChangeEvent),this._layers[a].onZIndexChangeEvent=null,s.setZIndex&&(s.setZIndex(n),this._layersOrder.push(this._layers[a]),n--),null==this._layers[a].onZIndexChangeEvent&&(this._layers[a].onZIndexChangeEvent=s.on("change:zIndex",(function(){return e._updateLayersOrder()})))}t.updateSize()},t.prototype._onMapMoveEnd=function(e){var t=this;e.getLayers().forEach((function(o){var n=o.gpLayerId;if(t._layers[n]){var r=t._layers[n];t.isInRange(o,e)&&!r.inRange?(r.inRange=!0,document.getElementById(t._addUID("GPlayerSwitcher_ID_"+n)).classList.remove("outOfRange")):!t.isInRange(o,e)&&r.inRange&&(r.inRange=!1,document.getElementById(t._addUID("GPlayerSwitcher_ID_"+n)).classList.add("outOfRange"))}}))},t.prototype.getLayerDOMId=function(e){var t=null;return this.getMap().getLayers().forEach((function(o){o===e&&(t=o.hasOwnProperty("gpLayerId")?o.gpLayerId:null)})),null!==t?this._addUID("GPlayerSwitcher_ID_"+t):null},t.prototype.isInRange=function(e,t){if(t){var o=t.getView().getResolution();if(o>e.getMaxResolution()||o<e.getMinResolution())return!1;var n=t.getView().calculateExtent(t.getSize()),r=e.getExtent();return!(r&&!Object($t.O)(n,r))}},t.prototype.getLayerInfo=function(e){var t={};if(void 0!==e.getProperties&&void 0!==e.getSource){var o=e.getProperties(),n=o.source;n&&(t._title=n._title||o.id||"",t._description=n._description||"",t._quicklookUrl=n._quicklookUrl||"",t._metadata=n._metadata||[],t._legends=n._legends||[])}return t},t}(Oo.a),Dr=Gr;window.ol&&window.ol.control&&(window.ol.control.LayerSwitcher=Gr);var Nr={_addUID:function(e){return this._uid?e+"-"+this._uid:e},_createMainContainerElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPgetFeatureInfo"),e.className="GPwidget",e},_createActivateGetFeatureInfoElement:function(e){var t=this,o=document.createElement("input");return o.id=this._addUID("GPactivateGetFeatureInfo"),o.type="checkbox",o.checked=e,o.addEventListener("change",(function(e){t.onActivateGetFeatureInfoElementChange(e)})),o},_createMainPictoElement:function(){var e=document.createElement("label");e.id=this._addUID("GPgetFeatureInfoPicto"),e.className="GPshowAdvancedToolPicto",e.htmlFor=this._addUID("GPactivateGetFeatureInfo"),e.title="activer/desactiver l'interrogation des couches";var t=document.createElement("span");t.id=this._addUID("GPgetFeatureInfoActivate"),t.className="GPshowAdvancedToolOpen",e.appendChild(t);var o=document.createElement("span");return o.id=this._addUID("GPgetFeatureInfoDeactivate"),e.appendChild(o),e}};function Fr(e){return(Fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Ur=mt.getLogger("getfeatureinfo"),Br=function(e){function t(o){var n=(o=o||{}).options||{},r=o.layers||[];if(!(this instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");if(!Array.isArray(r))throw new Error("ERROR WRONG_TYPE : layers should be an array");if("object"!==Fr(n))throw new Error("ERROR WRONG_TYPE : options should be an object");this._initialize(n,r);var i=this._container=this._initContainer(n);e.call(this,{element:i,target:n.target,render:n.render})}return e&&(t.__proto__=e),t.prototype=Object.create(e.prototype,{}),Bt.assign(t.prototype,Nr),t.prototype.constructor=t,t.prototype._initialize=function(e,t){if(this._uid=So.generate(),this._events={dblclick:!1,singleclick:!1,contextmenu:!1},this._eventsHandler={},void 0===e.auto||"boolean"==typeof e.auto)if(this._auto=e.auto||!1,void 0===e.active||"boolean"==typeof e.active)if(this._active=void 0===e.active||e.active,e.defaultEvent&&"string"!=typeof e.defaultEvent)Ur.log("[ERROR] GetFeatureInfo:_initialize - defaultEvent parameter should be a string");else if(this._defaultEvent=e.defaultEvent||"singleclick",this._isValidEvent(this._defaultEvent))if(e.defaultInfoFormat&&"string"!=typeof e.defaultInfoFormat)Ur.log("[ERROR] GetFeatureInfo:_initialize - defaultInfoFormat parameter should be a string");else if(this._defaultInfoFormat=e.defaultInfoFormat||"text/html",e.cursorStyle&&"string"!=typeof e.cursorStyle)Ur.log("[ERROR] GetFeatureInfo:_initialize - cursorStyle parameter should be a string");else{if(this._cursorStyle=e.cursorStyle||"pointer",e.proxyUrl){if("string"!=typeof e.proxyUrl)return void Ur.log("[ERROR] GetFeatureInfo:_initialize - proxyUrl parameter should be a string");this._proxyUrl=e.proxyUrl}if(e.noProxyDomains){if(!Array.isArray(e.noProxyDomains))return void Ur.log("[ERROR] GetFeatureInfo:_initialize - noProxyDomains parameter should be a array");this._noProxyDomains=e.noProxyDomains}if(void 0===e.autoPan||"boolean"==typeof e.autoPan){if(this._autoPan=void 0===e.autoPan||e.autoPan,e.autoPanAnimation){if(e.autoPanAnimation.duration&&"number"!=typeof e.autoPanAnimation.duration)return void Ur.log("[ERROR] GetFeatureInfo:_initialize - autoPanAnimation parameter is invalid : duration should be a number.");if(e.autoPanAnimation.easing&&"function"!=typeof e.autoPanAnimation.easing)return void Ur.log("[ERROR] GetFeatureInfo:_initialize - autoPanAnimation parameter is invalid : easing should be a ol.easing function or a custom function.");this._autoPanAnimation=e.autoPanAnimation}if(e.autoPanMargin){if("number"!=typeof e.autoPanMargin)return void Ur.log("[ERROR] GetFeatureInfo:_initialize - autoPanMargin parameter should be a number");this._autoPanMargin=e.autoPanMargin}Array.isArray(t)?(this._setLayers(t),this._activateGetFeatureInfoContainer=null):Ur.log("[ERROR] GetFeatureInfo:_initialize - layers parameter should be an array")}else Ur.log("[ERROR] GetFeatureInfo:_initialize - autoPan parameter should be a boolean")}else Ur.log("[ERROR] GetFeatureInfo:_initialize - _defaultEvent '"+this._defaultEvent+"' is not a valid event");else Ur.log("[ERROR] GetFeatureInfo:_initialize - active parameter should be a boolean");else Ur.log("[ERROR] GetFeatureInfo:_initialize - auto parameter should be a boolean")},t.prototype.setMap=function(t){var o=this;if(t){if(this._updateEvents(t),this._cursorStyle&&this._active&&this._activateCursor(!0,t),t.getLayers().on("remove",(function(e){for(var n=0;n<o._layers.length;++n)if(o._layers[n].obj===e.element){o._layers.splice(n,1);break}o._updateEvents(t)})),this._auto){var n=!1;t.getLayers().forEach((function(e){var t=At.getLayerFormat(e);o._hasLayer(e)||"vector"!==t||(o._layers.push({obj:e}),n=!0)})),n&&this._updateEvents(t),t.getLayers().on("add",(function(e){"vector"===At.getLayerFormat(e.element)&&o._layers.push({obj:e.element}),o._updateEvents(t)}))}}else this._clearEvents(),this._activateCursor(!1);e.prototype.setMap.call(this,t)},t.prototype.getLayers=function(){return this._layers},t.prototype.setDefaultEvent=function(e){"string"==typeof e?e&&this._isValidEvent(e)?(this._defaultEvent=e,this._updateEvents()):Ur.log("[ERROR] GetFeatureInfo:setDefaultEvent - event '"+e+"' is not allowed."):Ur.log("[ERROR] GetFeatureInfo:setDefaultEvent - eventName parameter should be a string")},t.prototype.setCursorStyle=function(e){"string"==typeof e?(this._active&&(!this._cursorStyle&&e?this._activateCursor(!0):this._cursorStyle&&!e&&this._activateCursor(!1)),this._cursorStyle=e):Ur.log("[ERROR] GetFeatureInfo:setCursorStyle - cursorStyle parameter should be a string")},t.prototype.setActive=function(e){this._setActive(e);var t=document.getElementById(this._addUID("GPactivateGetFeatureInfo"));t&&(t.checked=e)},t.prototype._setActive=function(e){"boolean"==typeof e?this._active!==e&&(this._active=e,this._cursorStyle&&this._activateCursor(e)):Ur.log("[ERROR] GetFeatureInfo:_setActive - active parameter should be a boolean")},t.prototype.isActive=function(){return this._active},t.prototype.setHidden=function(e){this.element.style.visibility=e?"hidden":""},t.prototype.isHidden=function(){return"hidden"===this.element.style.visibility},t.prototype.setLayers=function(e){this._setLayers(e),this._updateEvents()},t.prototype._isValidEvent=function(e){return Object.keys(this._events).indexOf(e)>-1},t.prototype._activateEvent=function(e,t){var o=this,n=function(e){At.onDisplayFeatureInfo(e,o)};"contextmenu"===e?t.getViewport().addEventListener(e,n):t.on(e,n),this._eventsHandler[e]=n,this._events[e]=!0},t.prototype._deactivateEvent=function(e,t){"contextmenu"===e?t.getViewport().removeEventListener(e,this._eventsHandler[e]):t.un(e,this._eventsHandler[e]),delete this._eventsHandler[e],this._events[e]=!1},t.prototype._updateEvents=function(e){e||(e=this.getMap());for(var t=[],o=0;o<this._layers.length;++o){var n=this._layers[o].event?this._layers[o].event:this._defaultEvent;t.indexOf(n)<0&&t.push(n)}for(var r in this._events)!this._events[r]&&t.indexOf(r)>=0?this._activateEvent(r,e):this._events[r]&&t.indexOf(r)<0&&this._deactivateEvent(r,e)},t.prototype._clearEvents=function(){var e=this.getMap();for(var t in this._events)this._events[t]&&this._deactivateEvent(t,e)},t.prototype._hasLayer=function(e){for(var t=0;t<this._layers.length;++t)if(this._layers[t].obj===e)return!0;return!1},t.prototype._activateCursor=function(e,t){if(t||(t=this.getMap()),e){if(this._eventsHandler.hasOwnProperty("pointermove"))return void Ur.log("[ERROR] _activateCursor - inconsistent state: pointermove event handler already registered");var o=this,n=function(e){var n=t.forEachFeatureAtPixel(e.pixel,(function(e,t){for(var n=o.getLayers(),r=0;r<n.length;++r)if(n[r].obj===t)return!0}));t.getTargetElement().style.cursor=n?o._cursorStyle:""};this._eventsHandler.pointermove=n,t.on("pointermove",n)}else this._eventsHandler.hasOwnProperty("pointermove")&&(t.un("pointermove",this._eventsHandler.pointermove),delete this._eventsHandler.pointermove),t.getTargetElement().style.cursor=""},t.prototype._setLayers=function(e){if(e&&Array.isArray(e)){this._layers=[];for(var t=0;t<e.length;++t){var o=this._layers.push({})-1;e[t].event&&(this._isValidEvent(e[t].event)?this._layers[o].event=e[t].event:Ur.log("[ERROR] GetFeatureInfo:setLayers - layer event '"+this._layers[t].event+"' is not allowed.")),e[t].infoFormat&&(this._layers[o].infoFormat=e[t].infoFormat),this._layers[o].obj=e[t].obj}}else Ur.log("[ERROR] GetFeatureInfo:setLayers - gfiLayers parameter should be a array")},t.prototype.onActivateGetFeatureInfoElementChange=function(e){this._setActive(e.target.checked)},t.prototype._initContainer=function(e){var t=this._createMainContainerElement(),o=this._activateGetFeatureInfoContainer=this._createActivateGetFeatureInfoElement(this.isActive());t.appendChild(o);var n=this._createMainPictoElement();if(t.appendChild(n),void 0!==e.hidden){if("boolean"!=typeof e.hidden)return void Ur.log("[ERROR] GetFeatureInfo:_initContainer - hidden parameter should be a boolean");e.hidden&&(t.style.visibility="hidden")}return t},t}(Oo.a),zr=Br;window.ol&&window.ol.control&&(window.ol.control.GetFeatureInfo=Br);var Vr=mt.getLogger("interactions"),Wr={_extensions:["Measures","ElevationPath","Drawing"],_options:{current:null,clean:null},unset:function(e,t){Vr.trace("unset()");var o={};Bt.mergeParams(o,this._options),Bt.mergeParams(o,t);for(var n=e.getInteractions().getArray(),r=0;r<n.length;r++)if(n[r].getActive()&&(n[r]instanceof y.d||n[r]instanceof g.b||n[r]instanceof m.b)){var i=n[r].getProperties(),a=i.name;if(void 0!==a&&this._extensions.indexOf(a)>-1){if(o.current&&o.current===a)continue;n[r].setActive(!1);var s=i.source;if(void 0!==s&&s instanceof Oo.a)for(var l in o)if(o.hasOwnProperty(l)){if("current"===l)continue;if("function"==typeof s[l]){var c=Array.isArray(o[l])?o[l]:[o[l]];s[l].apply(s,c)}}}else n[r].setActive(!1)}}},qr={advancedSearchFiltersByDefault:{PositionOfInterest:[{name:"category",title:"Type",value:["cimetiÃ¨re","aÃ©rodrome","rÃ©servoir","administratif","construction linÃ©aire","construction ponctuelle","construction surfacique","cours d'eau","dÃ©tail hydrographique","dÃ©tail orographique","Ã©quipement de transport","plan d'eau","poste de transformation","terrain de sport","transport par cÃ¢ble","zone d'activitÃ© ou d'intÃ©rÃªt","zone d'habitation","lieu-dit non habitÃ©"]},{name:"postcode",title:"Code postal"},{name:"citycode",title:"Code INSEE"}],StreetAddress:[{name:"city",title:"Ville"},{name:"postcode",title:"Code postal"},{name:"citycode",title:"Code INSEE"}],CadastralParcel:[{name:"departmentcode",title:"Code dÃ©partement (INSEE)",description:"Code INSEE du dÃ©partement (ex: 01, 94)"},{name:"municipalitycode",title:"Code commune (INSEE)",description:"Code INSEE de la commune : 3 chiffres (ex: 067)"},{name:"oldmunicipalitycode",title:"Commune absorbÃ©e",description:"Commune absorbÃ©e : 3 chiffres (ex: 000, 001)"},{name:"districtcode",title:"Arrondissement",description:"Arrondissement : 3 chiffres (ex: 004, 012)"},{name:"section",title:"Section",description:"Section Cadastrale : 2 caractÃ¨res (chiffre et/ou lettre)"},{name:"number",title:"NumÃ©ro",description:"NumÃ©ro de la parcelle : 4 chiffres (ex: 0041, 0250)"},{name:"sheet",title:"Feuille",description:"NumÃ©ro de la feuille cadastrale"}]},zoomToResultsByDefault:function(e){var t=15,o=e.service,n=e.fields,r=e.type,i={1:11,2:12,3:13,4:14,5:15,6:16,7:17,8:17};return"SuggestedLocation"===o&&"PositionOfInterest"===r&&(t=i[n.classification]),"GeocodedLocation"===o&&"PositionOfInterest"===r&&(t=i[n.importance]||14),"StreetAddress"===r&&(t=17),"CadastralParcel"===r&&(t=17),t}},Yr={getGeocodedLocationFreeform:function(e){var t=e.placeAttributes;if(t.label)return t.label;if("PositionOfInterest"===e.type){var o=t.toponym;return t.category&&Array.isArray(t.category)&&t.category.length>=2&&"administratif"===t.category[0]?o=o+", "+t.category[1]:t.postcode&&(o=o+", "+t.postcode[0],t.city&&(o=o+" "+t.city[0])),o}return"StreetAddress"===e.type?(t.housenumber?t.housenumber+" ":"")+t.street+" "+(t.postcode?t.postcode+", ":"")+t.city:"CadastralParcel"===e.type?t.id:"..."},getSuggestedLocationFreeform:function(e){if(e.fullText)return e.fullText;var t=[];return t.push(e.street||""),t.push(e.postalCode||""),t.push(e.commune||""),"PositionOfInterest"===e.type&&(t.push(e.poi||""),t.push(e.kind||"")),t.join(" - ")}},Hr={_addUID:function(e){return this._uid?e+"-"+this._uid:e},_createMainContainerElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPsearchEngine"),e.className="GPwidget",e},_createShowSearchEngineElement:function(){var e=document.createElement("input");return e.id=this._addUID("GPshowSearchEngine"),e.type="checkbox",e},_createShowSearchEnginePictoElement:function(){var e=this,t=document.createElement("label");t.id=this._addUID("GPshowSearchEnginePicto"),t.className="GPshowAdvancedToolPicto",t.htmlFor=this._addUID("GPshowSearchEngine"),t.title="Afficher/masquer la recherche par lieux",t.addEventListener("click",(function(){document.getElementById(e._addUID("GPautoCompleteList")).style.display="none",document.getElementById(e._addUID("GPgeocodeResultsList")).style.display="none";var t=document.getElementById(e._addUID("GPshowAdvancedSearch"));t&&(t.style.display=null,document.getElementById(e._addUID("GPadvancedSearchPanel")).style.display="none");var o="#GPsearchInput-"+e._uid;document.querySelector(o+" input").disabled=!1,e.onShowSearchEngineClick()}));var o=document.createElement("span");return o.id=this._addUID("GPshowSearchEngineOpen"),o.className="GPshowAdvancedToolOpen",t.appendChild(o),t},_createSearchInputElement:function(e){var t=this,o=document.createElement("form");o.id=this._addUID("GPsearchInput"),o.addEventListener("submit",(function(e){return e.preventDefault(),document.getElementById(t._addUID("GPgeocodeResultsList")).style.display="block",document.getElementById(t._addUID("GPautoCompleteList")).style.display="none",t.onGeocodingSearchSubmit(e),!1}));var n=document.createElement("input");n.id=this._addUID("GPsearchInputText"),n.type="text",n.placeholder=e,n.autocomplete="off",n.addEventListener("keyup",(function(e){var o=e.which||e.keyCode;13!==o&&10!==o&&38!==o&&40!==o&&(document.getElementById(t._addUID("GPgeocodeResultsList")).style.display="none",n.value.length>2?document.getElementById(t._addUID("GPautoCompleteList")).style.display="block":document.getElementById(t._addUID("GPautoCompleteList")).style.display="none",t.onAutoCompleteSearchText(e))})),n.addEventListener("keydown",(function(e){var o=e.which||e.keyCode,n=document.getElementById(t._addUID("GPautocompleteResults"));if(n){var r=n.getElementsByClassName("GPautoCompleteProposal current"),i=n.getElementsByClassName("GPautoCompleteProposal"),a=i.length;if(a){var s=null;if(!r.length)return(s=i[0]).className="GPautoCompleteProposal current",s.style.color="#000000",void(s.style["background-color"]="#CEDBEF");s=r[0];var l=parseInt(So.index(s.id),10),c=l===a-1?i[0]:i[l+1],u=0===l?i[a-1]:i[l-1];switch(s.style["background-color"]="",s.style.color="",u.style["background-color"]="",u.style.color="",c.style["background-color"]="",c.style.color="",o){case 38:s.className="GPautoCompleteProposal",u.className="GPautoCompleteProposal current",u.style.color="#000000",u.style["background-color"]="#CEDBEF";break;case 40:s.className="GPautoCompleteProposal",c.className="GPautoCompleteProposal current",c.style.color="#000000",c.style["background-color"]="#CEDBEF";break;case 13:e.preventDefault(),s.click(e)}s.focus()}}})),o.appendChild(n);var r=document.createElement("div");return r.id=this._addUID("GPsearchInputReset"),r.addEventListener("click",(function(){document.getElementById(t._addUID("GPsearchInputText")).value="",document.getElementById(t._addUID("GPautoCompleteList")).style.display="none",document.getElementById(t._addUID("GPgeocodeResultsList")).style.display="none",t.onSearchResetClick()})),o.appendChild(r),o},_createShowAdvancedSearchElement:function(){var e=this,t=document.createElement("div");t.id=this._addUID("GPshowAdvancedSearch"),t.className="GPshowAdvancedToolPicto",t.title="Ouvrir la recherche avancÃ©e",t.addEventListener("click",(function(){var t="#GPsearchInput-"+e._uid;document.querySelector(t+" input").disabled=!0,document.getElementById(e._addUID("GPautoCompleteList")).style.display="none",document.getElementById(e._addUID("GPgeocodeResultsList")).style.display="none",document.getElementById(e._addUID("GPshowAdvancedSearch")).style.display="none",document.getElementById(e._addUID("GPadvancedSearchPanel")).style.display="inline-block"}));var o=document.createElement("span");return o.id=this._addUID("GPshowAdvancedSearchOpen"),o.className="GPshowAdvancedToolOpen",t.appendChild(o),t},_createAdvancedSearchPanelElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPadvancedSearchPanel"),e.className="GPpanel",e.style.display="none",e},_createGeocodeResultsElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPgeocodeResultsList"),e.className="GPpanel",e.style.display="none",e.appendChild(this._createGeocodeResultsHeaderElement()),e},_createAutoCompleteElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPautoCompleteList"),e.className="GPautoCompleteList",e.style.display="none",e},_createAutoCompleteListElement:function(){var e=this,t=document.createElement("div");return t.id=this._addUID("GPautocompleteResults"),t.addEventListener?t.addEventListener("click",(function(t){e.onAutoCompletedResultsItemClick(t),document.getElementById(e._addUID("GPautoCompleteList")).style.display="none"}),!1):t.attachEvent&&t.attachEvent("onclick",(function(t){e.onAutoCompletedResultsItemClick(t),document.getElementById(e._addUID("GPautoCompleteList")).style.display="none"})),t},_createAutoCompletedLocationElement:function(e,t){var o=document.getElementById(this._addUID("GPautocompleteResults")),n=document.createElement("div");n.id=this._addUID("AutoCompletedLocation_"+t),n.className="GPautoCompleteProposal",n.innerHTML=Yr.getSuggestedLocationFreeform(e),n.addEventListener?n.addEventListener("click",(function(e){o.click(e)}),!1):n.attachEvent&&n.attachEvent("onclick",(function(e){o.click(e)})),o.appendChild(n)},_createAdvancedSearchPanelHeaderElement:function(){var e=this,t=document.createElement("div");t.className="GPpanelHeader";var o=document.createElement("div");o.className="GPpanelTitle",o.innerHTML="Recherche avancÃ©e",t.appendChild(o);var n=document.createElement("div");return n.id=this._addUID("GPadvancedSearchClose"),n.className="GPpanelClose",n.title="Fermer la recherche avancÃ©e",n.addEventListener?n.addEventListener("click",(function(){var t="#GPsearchInput-"+e._uid;document.querySelector(t+" input").disabled=!1,document.getElementById(e._addUID("GPgeocodeResultsList")).style.display="none",document.getElementById(e._addUID("GPshowAdvancedSearch")).style.display="inline-block",document.getElementById(e._addUID("GPadvancedSearchPanel")).style.display="none"}),!1):n.attachEvent&&n.attachEvent("onclick",(function(){var t="#GPsearchInput-"+e._uid;document.querySelector(t+" input").disabled=!1,document.getElementById(e._addUID("GPgeocodeResultsList")).style.display="none",document.getElementById(e._addUID("GPshowAdvancedSearch")).style.display="inline-block",document.getElementById(e._addUID("GPadvancedSearchPanel")).style.display="none"})),t.appendChild(n),t},_createAdvancedSearchPanelFormElement:function(e){var t=this,o=document.createElement("form");o.id=this._addUID("GPadvancedSearchForm"),o.addEventListener("submit",(function(e){e.preventDefault();for(var o=[],n="#GPadvancedSearchFilters-"+t._uid,r=document.querySelectorAll(n+" > div > div > input"),i=0;i<r.length;i++){var a=r[i];o.push({key:a.name,value:a.value})}return t.onGeocodingAdvancedSearchSubmit(e,o),document.getElementById(t._addUID("GPgeocodeResultsList")).style.display="block",!1}));var n=document.createElement("div");n.className="GPflexInput";var r=document.createElement("label");r.className="GPadvancedSearchCodeLabel",r.innerHTML="Recherche par",n.appendChild(r);var i=this._createAdvancedSearchFormCodeElement(e);return n.appendChild(i),o.appendChild(n),o},_createAdvancedSearchFormCodeElement:function(e){var t=this,o=document.createElement("select");o.id=this._addUID("GPadvancedSearchCode"),o.className="GPadvancedSearchCode",o.addEventListener("change",(function(e){t.onGeocodingAdvancedSearchCodeChange(e)}),!1),e||(e=[{id:"PositionOfInterest",title:"Lieux/toponymes"},{id:"StreetAddress",title:"Adresses"},{id:"CadastralParcel",title:"Parcelles cadastrales"}]);for(var n=0;n<e.length;n++){var r=document.createElement("option");r.value=e[n].id,r.text=e[n].title,o.appendChild(r)}return o},_createAdvancedSearchFormInputElement:function(){var e=document.createElement("input");return e.type="submit",e.id=this._addUID("GPadvancedSearchSubmit"),e.className="GPinputSubmit",e.value="Chercher",e},_createAdvancedSearchFormFiltersElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPadvancedSearchFilters"),e},_createAdvancedSearchFiltersTableElement:function(e,t){var o=document.createElement("div");return o.id=this._addUID(e),t||(o.style.display="none"),o},_createAdvancedSearchFiltersAttributElement:function(e){var t=null,o=e.name,n=e.title,r=e.description,i=e.code,a=e.value,s=document.createElement("div");s.className="GPflexInput";var l=document.createElement("label");l.className="GPadvancedSearchFilterLabel",l.htmlFor=o,l.title=r||n,l.innerHTML=n,s.appendChild(l);var c=document.createElement("input");if(c.id=o,c.className="GPadvancedSearchFilterInput",c.type="text",c.name=o,a)if(Array.isArray(a)){var u=o+"_list";c.setAttribute("list",u);var d=document.createElement("datalist");d.id=u;for(var h=0;h<a.length;++h){var p=document.createElement("option");p.value=a[h],d.appendChild(p)}s.appendChild(d)}else c.value=a;return s.appendChild(c),(t=document.getElementById(this._addUID(i)))?t.appendChild(s):t=s,t},_createGeocodeResultsHeaderElement:function(){var e=this,t=document.createElement("div");t.className="GPpanelHeader";var o=document.createElement("div");o.className="GPpanelTitle",o.innerHTML="RÃ©sultats de la recherche",t.appendChild(o);var n=document.createElement("div");return n.id=this._addUID("GPgeocodeResultsClose"),n.className="GPpanelClose",n.title="Fermer la fenÃªtre de rÃ©sultats",n.addEventListener?n.addEventListener("click",(function(){document.getElementById(e._addUID("GPgeocodeResultsList")).style.display="none"}),!1):n.attachEvent&&n.attachEvent("onclick",(function(){document.getElementById(e._addUID("GPgeocodeResultsList")).style.display="none"})),t.appendChild(n),t},_createGeocodeResultsListElement:function(){var e=this,t=document.createElement("div");return t.id=this._addUID("GPgeocodeResults"),t.addEventListener?t.addEventListener("click",(function(t){t.ctrlKey||(document.getElementById(e._addUID("GPgeocodeResultsList")).style.display="none"),e.onGeocodedResultsItemClick(t)}),!1):t.attachEvent&&t.attachEvent("onclick",(function(t){t.ctrlKey||(document.getElementById(e._addUID("GPgeocodeResultsList")).style.display="none"),e.onGeocodedResultsItemClick(t)})),t},_createGeocodedLocationElement:function(e,t){var o=document.getElementById(this._addUID("GPgeocodeResults")),n=document.createElement("div");n.id=this._addUID("GeocodedLocation_"+t),n.className="GPautoCompleteProposal",n.innerHTML="string"==typeof e?e:Yr.getGeocodedLocationFreeform(e),o.appendChild(n)}};function Xr(e){return(Xr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Zr=mt.getLogger("searchengine"),Kr=function(e){function t(o){if(o=o||{},!(this instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this.initialize(o),this._container=this._initContainer(),this._containerElement=null,o.element&&o.element.appendChild&&(o.element.appendChild(this._container),this._containerElement=o.element),e.call(this,{element:this._containerElement||this._container,target:o.target,render:o.render})}return e&&(t.__proto__=e),t.prototype=Object.create(e.prototype,{}),Bt.assign(t.prototype,Hr),t.prototype.constructor=t,t.prototype.setMap=function(t){t||this._clearResults(),e.prototype.setMap.call(this,t)},t.prototype.getCollapsed=function(){return this.collapsed},t.prototype.setCollapsed=function(e){void 0!==e?e&&this.collapsed||!e&&!this.collapsed||(this._showSearchEngineInput.click(),this.collapsed=e):Zr.log("[ERROR] SearchEngine:setCollapsed - missing collapsed parameter")},t.prototype.getData=function(){return this._geocodedLocations},t.prototype.initialize=function(e){this._checkInputOptions(e),this.options={collapsed:!0,zoomTo:"",resources:{geocode:[],autocomplete:[]},displayAdvancedSearch:!0,advancedSearch:{},geocodeOptions:{serviceOptions:{}},autocompleteOptions:{serviceOptions:{},triggerGeocode:!1,triggerDelay:1e3},displayMarker:!0,markerStyle:"lightOrange",placeholder:"Rechercher un lieu, une adresse"},Bt.mergeParams(this.options,e),""===this.options.resources.geocode&&(this.options.resources.geocode=["PositionOfInterest","StreetAddress"]),0===this.options.resources.autocomplete.length&&(this.options.resources.autocomplete=["PositionOfInterest","StreetAddress"]),this.collapsed=this.options.collapsed,this._uid=So.generate(),this._showSearchEngineInput=null,this._inputSearchContainer=null,this._autocompleteContainer=null,this._suggestedContainer=null,this._suggestedLocations=[],this._geocodedContainer=null,this._geocodedLocations=[],this._filterContainer=null,this._currentGeocodingCode=null,this._currentGeocodingLocation=null,this._advancedSearchFilters={},this._initAdvancedSearchFilters(),this._advancedSearchCodes=[],this._initAdvancedSearchCodes(),this._marker=null;var t=this.options.markerStyle;this._markerUrl=-1===Object.keys(Pt).indexOf(t)?Pt.lightOrange:Pt[t],this._displayMarker=this.options.displayMarker,this._popupContent=null,this._popupDiv=this._initPopupDiv(),this._popupOverlay=null,this._triggerHandler=null},t.prototype._checkInputOptions=function(e){var t;if(e.resources)if("object"===Xr(e.resources)){var o=e.resources.geocode;if(o)if(Array.isArray(o)){var n=["StreetAddress","PositionOfInterest","CadastralParcel","Administratif"];for(t=0;t<o.length;t++)-1===n.indexOf(o[t])&&Zr.log("[SearchEngine] options.resources.geocode : "+o[t]+" is not a resource for geocode")}else Zr.log("[SearchEngine] 'options.resources.geocode' parameter should be an array"),o=null;var r=e.resources.autocomplete;if(r)if(Array.isArray(r)){var i=["StreetAddress","PositionOfInterest"];for(t=0;t<r.length;t++)-1===i.indexOf(r[t])&&Zr.log("[SearchEngine] options.resources.autocomplete : "+r[t]+" is not a resource for autocomplete")}else Zr.log("[SearchEngine] 'options.resources.autocomplete' parameter should be an array"),r=null}else Zr.log("[SearchEngine] 'resources' parameter should be an object"),e.resources=null},t.prototype._initAdvancedSearchCodes=function(){var e=this.options.resources.geocode;"location"===e&&(e=["PositionOfInterest","StreetAddress","CadastralParcel"]),Array.isArray(e)||(e=[e]);for(var t=0;t<e.length;t++)switch(e[t]){case"PositionOfInterest":this._advancedSearchCodes.push({id:"PositionOfInterest",title:"Lieux/toponymes"});break;case"StreetAddress":this._advancedSearchCodes.push({id:"StreetAddress",title:"Adresses"});break;case"CadastralParcel":this._advancedSearchCodes.push({id:"CadastralParcel",title:"Parcelles cadastrales"})}0===this._advancedSearchCodes.length&&(this._advancedSearchCodes=[{id:"StreetAddress",title:"Adresses"},{id:"PositionOfInterest",title:"Lieux/toponymes"},{id:"CadastralParcel",title:"Cadastre"}]),Zr.log("advancedSearchCodes",this._advancedSearchCodes)},t.prototype._initAdvancedSearchFilters=function(){this._advancedSearchFilters=qr.advancedSearchFiltersByDefault;var e=this.options.advancedSearch;Bt.assign(this._advancedSearchFilters,e),Zr.log("advancedSearchFilters",this._advancedSearchFilters)},t.prototype._initPopupDiv=function(){var e=this,t=document.createElement("div");t.className="gp-feature-info-div";var o=document.createElement("input");return o.type="button",o.className="gp-styling-button closer",o.onclick=function(){return null!=e._popupOverlay&&e._popupOverlay.setPosition(void 0),!1},this._popupContent=document.createElement("div"),this._popupContent.className="gp-features-content-div",this._popupContent.style["min-width"]="200px",t.appendChild(this._popupContent),t.appendChild(o),t},t.prototype._initContainer=function(){var e=this._createMainContainerElement(),t=this._showSearchEngineInput=this._createShowSearchEngineElement();e.appendChild(t),this.options.collapsed||(t.checked=!0);var o=this._createShowSearchEnginePictoElement();e.appendChild(o);var n=this._inputSearchContainer=this._createSearchInputElement(this.options.placeholder),r=this;if(n.addEventListener?n.addEventListener("click",(function(){r.onAutoCompleteInputClick()})):n.attachEvent&&n.attachEvent("onclick",(function(){r.onAutoCompleteInputClick()})),e.appendChild(n),this.options.displayAdvancedSearch){var i=this._createShowAdvancedSearchElement();e.appendChild(i);var a=this._createAdvancedSearchPanelElement(),s=this._createAdvancedSearchPanelHeaderElement(),l=this._createAdvancedSearchPanelFormElement(this._advancedSearchCodes),c=this._filterContainer=this._createAdvancedSearchFormFiltersElement();this._setFilter(this._advancedSearchCodes[0].id);var u=this._createAdvancedSearchFormInputElement();l.appendChild(c),l.appendChild(u),a.appendChild(s),a.appendChild(l),e.appendChild(a)}var d=this._autocompleteContainer=this._createAutoCompleteElement(),h=this._suggestedContainer=this._createAutoCompleteListElement();d.appendChild(h),e.appendChild(d);var p=this._createGeocodeResultsElement(),f=this._geocodedContainer=this._createGeocodeResultsListElement();return p.appendChild(f),e.appendChild(p),e},t.prototype._setFilter=function(e){for(var t=this._filterContainer,o=!1,n=0;n<this._advancedSearchCodes.length;n++)if(this._advancedSearchCodes[n].id===e){o=!0;break}if(o){for(this._currentGeocodingCode=e;t.firstChild;)t.removeChild(t.firstChild);var r=this._advancedSearchFilters[e];if(r&&0!==r.length){for(var i=this._createAdvancedSearchFiltersTableElement(e,!0),a=0;a<r.length;a++){var s=this._createAdvancedSearchFiltersAttributElement(r[a]);i.appendChild(s)}return t.appendChild(i),t}}else for(;t.firstChild;)t.removeChild(t.firstChild)},t.prototype._requestAutoComplete=function(e){if(e&&("object"!==Xr(e)||0!==Object.keys(e).length)&&e.text){Zr.log(e);var t={};Bt.assign(t,this.options.autocompleteOptions.serviceOptions),Bt.assign(t,e);var o=this.options.resources.autocomplete;o&&Array.isArray(o)&&(t.type||(t.type=o)),t.apiKey=t.apiKey||this.options.apiKey,"boolean"!=typeof t.ssl&&("boolean"==typeof this.options.ssl?t.ssl=this.options.ssl:t.ssl=!0),Zr.log(t),gt.Services.autoComplete(t)}},t.prototype._fillAutoCompletedLocationListContainer=function(e){if(e&&0!==e.length){var t=this._suggestedContainer;if(t.childElementCount)for(;t.firstChild;)t.removeChild(t.firstChild);this._displaySuggestedLocation();for(var o=0;o<e.length;o++)this._createAutoCompletedLocationElement(e[o],o)}},t.prototype._requestGeocoding=function(e){if(e&&("object"!==Xr(e)||0!==Object.keys(e).length)&&null!==e.query){Zr.log(e);var t={};Bt.assign(t,this.options.geocodeOptions.serviceOptions),Bt.assign(t,e);var o=this,n=!(null===this.options.geocodeOptions.serviceOptions.onFailure||"function"!=typeof this.options.geocodeOptions.serviceOptions.onFailure);if(!(null===this.options.geocodeOptions.serviceOptions.onSuccess||"function"!=typeof this.options.geocodeOptions.serviceOptions.onSuccess)){t.onSuccess=function(t){e.onSuccess.call(o,t),o.options.geocodeOptions.serviceOptions.onSuccess.call(o,t)}}if(n){t.onFailure=function(t){e.onFailure.call(o,t),o.options.geocodeOptions.serviceOptions.onFailure.call(o,t)}}var r=this.options.resources.geocode;r&&(t.index||(t.index=r)),t.apiKey=t.apiKey||this.options.apiKey,"boolean"!=typeof t.ssl&&("boolean"==typeof this.options.ssl?t.ssl=this.options.ssl:t.ssl=!0),Zr.log(t),gt.Services.geocode(t)}},t.prototype._fillGeocodedLocationListContainer=function(e){if(e&&0!==e.length){var t=this._geocodedContainer;if(t.childElementCount)for(;t.firstChild;)t.removeChild(t.firstChild);for(var o=0;o<e.length;o++)Zr.log(e[o]),this._createGeocodedLocationElement(e[o],o);this._geocodedLocations=e}else this._clearGeocodedLocation()},t.prototype._setLabel=function(e){document.getElementById("GPsearchInputText-"+this._uid).value=e},t.prototype._setPosition=function(e,t){var o=this.getMap().getView();o.setCenter(e),o.setZoom(t)},t.prototype._setMarker=function(e,t){var o=this.getMap(),n=this;if(null!=this._marker&&(o.removeOverlay(this._marker),this._marker=null),e){var r=document.createElement("img");r.src=this._markerUrl,r.addEventListener?r.addEventListener("click",(function(){n._onResultMarkerSelect(t)})):r.attachEvent&&r.attachEvent("onclick",(function(){n._onResultMarkerSelect(t)})),this._marker=new c.a({position:e,offset:[-25.5,-38],element:r,stopEvent:!1}),o.addOverlay(this._marker)}},t.prototype._getZoom=function(e){var t=this.getMap(),o=this.options.zoomTo,n=null;if("function"==typeof o&&(Zr.trace("zoom function"),n=o.call(this,e)),"number"==typeof o&&(Zr.trace("zoom level"),n=o),"string"==typeof o)if("auto"===o)Zr.trace("zoom auto"),n=qr.zoomToResultsByDefault(e);else{Zr.trace("zoom level parsing");var r=parseInt(o,10);isNaN(r)||(Zr.trace("zoom parsing"),n=r)}Number.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},n&&""!==n&&Number.isInteger(n)||(Zr.trace("zoom not found, current zoom..."),n=t.getView().getZoom());var i=t.minZoom,a=t.maxZoom;return n<i&&(Zr.trace("zoom level min..."),n=i),n>a&&(Zr.trace("zoom level max..."),n=a),Zr.trace("zoom",n),n},t.prototype._onResultMarkerSelect=function(e){var t=this.getMap(),o="";if("string"!=typeof e)if("GeocodedLocation"===e.service){o="<ul>";var n=e.location.placeAttributes;for(var r in n)n.hasOwnProperty(r)&&"trueGeometry"!==r&&"extraFields"!==r&&"houseNumberInfos"!==r&&"_count"!==r&&(o+="<li>",o+='<span class="gp-attname-others-span">'+r.toUpperCase()+" : </span>",o+=n[r],o+=" </li>");o+=" </ul>"}else o="SuggestedLocation"===e.service?Yr.getSuggestedLocationFreeform(e.location):"sans informations.";else o=e;this._popupContent.innerHTML=o,this._popupOverlay?this._popupOverlay.setPosition(this._marker.getPosition()):(this._popupOverlay=new c.a({element:this._popupDiv,positioning:"bottom-center",position:this._marker.getPosition(),offset:[0,-42]}),t.addOverlay(this._popupOverlay))},t.prototype.onShowSearchEngineClick=function(){var e=this.getMap();Wr.unset(e),this.collapsed=this._showSearchEngineInput.checked,this.dispatchEvent("change:collapsed")},t.prototype.onSearchResetClick=function(){this._clearResults()},t.prototype.onAutoCompleteInputClick=function(){var e=document.getElementById("GPsearchInputText-"+this._uid);e&&!e.disabled&&e.value.length>2&&this._displaySuggestedLocation()},t.prototype.onAutoCompleteSearchText=function(e){var t=e.target.value;if(t)if(this._currentGeocodingLocation=t,t.length<3)this._clearSuggestedLocation();else{var o=this.options.autocompleteOptions.triggerGeocode,n=this.options.autocompleteOptions.triggerDelay,r=this;this._requestAutoComplete({text:t,onSuccess:function(e){if(Zr.log("request from AutoComplete",e),e){r._suggestedLocations=e.suggestedLocations,r._locationsToBeDisplayed=[];for(var t=0;t<r._suggestedLocations.length;t++){var o=r._suggestedLocations[t];o.position&&0===o.position.x&&0===o.position.y&&o.fullText?r._getGeocodeCoordinatesFromFullText(o,t):r._locationsToBeDisplayed.push(o)}r._fillAutoCompletedLocationListContainer(r._locationsToBeDisplayed),r._triggerHandler&&(clearTimeout(r._triggerHandler),r._triggerHandler=null,Zr.warn("Cancel a geocode request !"))}},onFailure:function(e){r._clearSuggestedLocation(),Zr.log(e.message),"No suggestion matching the search"===e.message&&o&&(r._triggerHandler&&(clearTimeout(r._triggerHandler),Zr.warn("Cancel the last geocode request !")),r._triggerHandler=setTimeout((function(){Zr.warn("Launch a geocode request (code postal) !"),r._requestGeocoding({location:t,onSuccess:function(e){if(Zr.log("request from Geocoding",e),e){r._locationsToBeDisplayed=[];for(var t=e.locations,o=0;o<t.length;o++){var n=t[o];n.fullText=Yr.getGeocodedLocationFreeform(n),n.position={x:n.position.lon,y:n.position.lat},r._locationsToBeDisplayed.push(n)}r._fillAutoCompletedLocationListContainer(t)}},onFailure:function(e){Zr.log(e.message)}})}),n))}});var i=this.getMap();i.on("click",this._hideSuggestedLocation,this),i.on("pointerdrag",this._hideSuggestedLocation,this)}},t.prototype._getGeocodeCoordinatesFromFullText=function(e,t){var o=this;gt.Services.geocode({apiKey:this.options.apiKey,ssl:this.options.ssl,q:Yr.getSuggestedLocationFreeform(e),index:e.type,onSuccess:function(e){Zr.log("request from Geocoding (coordinates null)",e),e.locations&&0!==e.locations.length&&e.locations[0].position&&o._suggestedLocations&&o._suggestedLocations[t]&&(o._suggestedLocations[t].position={lon:e.locations[0].position.y,lat:e.locations[0].position.x},o._locationsToBeDisplayed.unshift(o._suggestedLocations[t]),o._fillAutoCompletedLocationListContainer(o._locationsToBeDisplayed))},onFailure:function(){o._suggestedLocations&&o._suggestedLocations[t]&&o._createAutoCompletedLocationElement(o._suggestedLocations[t],t)}})},t.prototype.onAutoCompletedResultsItemClick=function(e){var t=So.index(e.target.id);if(Zr.log(t),Zr.log(this._locationsToBeDisplayed[t]),t){var o=[this._locationsToBeDisplayed[t].position.x,this._locationsToBeDisplayed[t].position.y],n={service:"SuggestedLocation",location:this._locationsToBeDisplayed[t]},r=Yr.getSuggestedLocationFreeform(this._locationsToBeDisplayed[t]);this._setLabel(r),this._currentGeocodingLocation=r;var i=this.getMap().getView().getProjection().getCode();"EPSG:4326"!==i&&(o=Object(s.E)(o,"EPSG:4326",i));var a=this._getZoom(n);this._setPosition(o,a),this._displayMarker&&this._setMarker(o,n),this.dispatchEvent({type:"searchengine:autocomplete:click",location:this._locationsToBeDisplayed[t]})}},t.prototype.onGeocodingSearchSubmit=function(e){var t=e.target[0].value;if(t){this._currentGeocodingLocation=t;var o=this;this._requestGeocoding({query:t,onSuccess:function(e){if(Zr.log("request from Geocoding",e),e){var t=e.locations;o._fillGeocodedLocationListContainer(t)}},onFailure:function(e){o._clearGeocodedLocation(),Zr.log(e.message)}})}},t.prototype.onGeocodedResultsItemClick=function(e){var t=So.index(e.target.id);if(t){var o=[this._geocodedLocations[t].position.lon,this._geocodedLocations[t].position.lat],n={service:"GeocodedLocation",location:this._geocodedLocations[t]},r=Yr.getGeocodedLocationFreeform(this._geocodedLocations[t]);this._setLabel(r);var i=this.getMap().getView().getProjection().getCode();"EPSG:4326"!==i&&(o=Object(s.E)(o,"EPSG:4326",i));var a=this._getZoom(n);this._setPosition(o,a),this._displayMarker&&this._setMarker(o,n),this.dispatchEvent({type:"searchengine:geocode:click",location:this._geocodedLocations[t]})}},t.prototype.onGeocodingAdvancedSearchCodeChange=function(e){Zr.log(e);var t=e.target.selectedIndex,o=e.target.options[t].value;o&&this._setFilter(o)},t.prototype.onGeocodingAdvancedSearchSubmit=function(e,t){if(Zr.log(t),t&&0!==t.length){for(var o,n={},r=0;r<t.length;r++){var i=t[r];i.value&&("section"===i.key&&(i.value=i.value.toUpperCase()),n[i.key]=i.value)}o=document.getElementById("GPsearchInputText-"+this._uid).value,"CadastralParcel"===this._currentGeocodingCode&&(o="");var a=this;this._requestGeocoding({query:o,index:this._currentGeocodingCode,filters:n,onSuccess:function(e){if(Zr.log(e),e){var t=e.locations;a._fillGeocodedLocationListContainer(t)}},onFailure:function(e){a._clearGeocodedLocation(),Zr.log(e.message)}})}},t.prototype._getCadastralParcelRequestParams=function(e){var t,o="",n=e.department;o=n?2===(t=n.length)?n:1===t?"0"+n:n.substring(0,2):"__";var r=e.commune;o+=r?3===(t=r.length)?r:2===t?"_"+r:1===t?"__"+r:r.substring(0,3):"___";var i=e.insee;i&&5===i.length&&(o=i);var a=e.absorbedCity;a?3===(t=a.length)?o+=a:t<3?2===t?o+="_"+a:1===t&&(o+="__"+a):o+=a.substring(0,3):o+="___";var s=e.section;o+=s?2===(t=s.length)?s:1===t?"_"+s:s.substring(0,2):"__";var l=e.number;return o+=l?4===(t=l.length)?l:3===t?"_"+l:2===t?"__"+l:1===t?"___"+l:l.substring(0,4):"___",Zr.log("location : "+o),o},t.prototype._clearResults=function(){var e=this.getMap();this._currentGeocodingLocation=null,this._clearSuggestedLocation(),this._clearGeocodedLocation(),this._setMarker(),null!=this._popupOverlay&&(e.removeOverlay(this._popupOverlay),this._popupOverlay=null)},t.prototype._clearSuggestedLocation=function(){if(this._suggestedLocations=[],this._suggestedContainer)for(;this._suggestedContainer.firstChild;)this._suggestedContainer.removeChild(this._suggestedContainer.firstChild)},t.prototype._hideSuggestedLocation=function(){this._autocompleteContainer&&(this._autocompleteContainer.style.display="none")},t.prototype._displaySuggestedLocation=function(){this._autocompleteContainer&&(this._autocompleteContainer.style.display="block")},t.prototype._clearGeocodedLocation=function(){if(this._geocodedLocations=[],this._geocodedContainer)for(;this._geocodedContainer.firstChild;)this._geocodedContainer.removeChild(this._geocodedContainer.firstChild)},t}(Oo.a),Jr=Kr;window.ol&&window.ol.control&&(window.ol.control.SearchEngine=Kr);var Qr={modulo:function(e,t){var o=e%t;return o*t<0?o+t:o},decimalToDMS:function(e,t,o){var n=this.modulo(e+180,360)-180,r=Math.abs(3600*n),i=o||0,a=Math.pow(10,i),s=Math.floor(r/3600),l=Math.floor((r-3600*s)/60),c=r-3600*s-60*l;return(c=Math.ceil(c*a)/a)>=60&&(c=0,l+=1),l>=60&&(l=0,s+=1),{d:s,m:l,s:c,direction:t.charAt(n<0?1:0)}},toInteger:function(e,t){var o=parseInt(e,t||10);return!isNaN(o)&&isFinite(o)?o:null},isInteger:function(e){if(isNaN(e))return!1;var t=parseFloat(e);return(0|t)===t},toFloat:function(e){var t=parseFloat(e);return!isNaN(t)&&isFinite(t)?t:null}},$r=mt.getLogger("draggable"),ei={dragElement:function(e,t,o){var n,r,i=!1,a={x:0,y:0};function s(t){(t=t||window.event).preventDefault(),i=!0,t._pageX=t._pageX||t.clientX+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft),t._pageY=t._pageY||t.clientY+(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop),a.x=t._pageX-e.offsetLeft,a.y=t._pageY-e.offsetTop,document.addEventListener("mouseup",l,!0),document.addEventListener("mousemove",c,!0)}function l(){i=!1,document.removeEventListener("mouseup",l,!0),document.removeEventListener("mousemove",c,!0)}function c(t){if(t=t||window.event,i){t._pageX=t._pageX||t.clientX+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft),t._pageY=t._pageY||t.clientY+(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop);var o=e.parentElement.offsetLeft,s=e.parentElement.offsetTop;$r.trace("parent offset",o,s),n=t._pageX-a.x<0-o?0-o:t._pageX-a.x+e.clientWidth>document.body.clientWidth?document.body.clientWidth-e.clientWidth:t._pageX-a.x,$r.trace("left/right constraint",n),r=t._pageY-a.y<0-s?0-s:t._pageY-a.y+e.clientHeight>document.body.clientHeight?document.body.clientHeight-e.clientHeight:t._pageY-a.y,$r.trace("top/bottom constraint",r),e.style.top=r+"px",e.style.left=n+"px"}}t?t.addEventListener("mousedown",s,!0):e.addEventListener("mousedown",s,!0)}},ti=o("./node_modules/proj4/dist/proj4-src.js-exposed"),oi=o.n(ti),ni=o("./node_modules/ol/proj/transforms.js"),ri=o("./node_modules/ol/proj/Projection.js"),ii=mt.getLogger("CRS");function ai(e){var t=Object.keys(e.defs);ii.trace("proj. codes :",t);var o,n,r=t.length;for(o=0;o<r;++o){var i=t[o];if(!Object(s.t)(i)){var a=e.defs(i);Object(s.g)(new ri.a({code:i,axisOrientation:a.axis,metersPerUnit:a.to_meter,units:a.units}))}}for(o=0;o<r;++o){var l=t[o],c=Object(s.t)(l);for(n=0;n<r;++n){var u=t[n],d=Object(s.t)(u);if(!Object(ni.c)(l,u))if(e.defs[l]===e.defs[u])Object(s.e)([c,d]);else{var h=e(l,u);Object(s.d)(c,d,h.forward,h.inverse)}}}}var si={isLoaded:!1,get:function(e){if(""!==e&&null!=e){var t=e.split(":");if(2===t.length){var o=t[0],n=t[1];if(this.hasOwnProperty(o)&&this[o].hasOwnProperty(n))return this[o][n]}}},exist:function(e){if(""===e||null==e)return!1;var t=e.split(":");if(2!==t.length)return!1;var o=t[0],n=t[1];return!!this.hasOwnProperty(o)&&!!this[o].hasOwnProperty(n)},load:function(e){if(!this.isLoaded){for(var t=["IGNF","EPSG","CRS"],o=0;o<t.length;o++){var n=t[o],r=this[n];for(var i in r)if(r.hasOwnProperty(i)){var a=n+":"+i;e.defs(a,this.get(a))}}this.isLoaded=!0}},loadByDefault:function(e){var t={EPSG:{2154:si.EPSG[2154],27571:si.EPSG[27571],27572:si.EPSG[27572],27573:si.EPSG[27573],27574:si.EPSG[27574]},CRS:{84:si.CRS[84]},IGNF:{LAMB93:si.IGNF.LAMB93,LAMBE:si.IGNF.LAMBE,LAMB1:si.IGNF.LAMB1,LAMB2:si.IGNF.LAMB2,LAMB3:si.IGNF.LAMB3,LAMB4:si.IGNF.LAMB4,RGF93G:si.IGNF.RGF93G,WGS84G:si.IGNF.WGS84G}};for(var o in t)if(t.hasOwnProperty(o)){var n=t[o];for(var r in n)if(n.hasOwnProperty(r)){var i=o+":"+r;e.defs(i,n[r])}}},loadByName:function(e,t){if(!this.exist(t))return!1;try{e.defs(t,this.get(t))}catch(e){return!1}return!0},EPSG:{4978:"+proj=geocent +datum=WGS84 +units=m +no_defs ",3857:"+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +wktext  +no_defs",3785:"+title=WGS 84 / Pseudo-Mercator (deprecated) +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +wktext  +no_defs",4149:"+title=CH1903 +proj=longlat +ellps=bessel +towgs84=674.374,15.056,405.346,0,0,0,0 +no_defs ",4150:"+title=CH1903plus +proj=longlat +ellps=bessel +towgs84=674.374,15.056,405.346,0,0,0,0 +no_defs ",4151:"+title=CHTRF95 +proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ",4171:"+title=RGF93 +proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ",4230:"+title=ED50 +proj=longlat +ellps=intl +no_defs ",4235:"+title=Guyane Francaise +proj=longlat +ellps=intl +no_defs ",4258:"+title=ETRS89 +proj=longlat +ellps=GRS80 +no_defs ",4275:"+title=NTF +proj=longlat +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +no_defs ",4322:"+title=WGS 72 +proj=longlat +ellps=WGS72 +no_defs ",4326:"+title=WGS 84 +proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs ",4467:"+proj=utm +zone=21 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",4470:"+proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ",4471:"+proj=utm +zone=38 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",4474:"+proj=utm +zone=38 +south +ellps=intl +towgs84=-382,-59,-262,0,0,0,0 +units=m +no_defs ",4558:"+proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ",4559:"+proj=utm +zone=20 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",4621:"+title=Fort Marigot +proj=longlat +ellps=intl +towgs84=137,248,-430,0,0,0,0 +no_defs ",4622:"+title=Guadeloupe 1948 +proj=longlat +ellps=intl +no_defs ",4623:"+title=CSG67 +proj=longlat +ellps=intl +towgs84=-186,230,110,0,0,0,0 +no_defs ",4624:"+title=RGFG95 +proj=longlat +ellps=GRS80 +towgs84=2,2,-2,0,0,0,0 +no_defs ",4625:"+title=Martinique 1938 +proj=longlat +ellps=intl +no_defs ",4626:"+title=Reunion 1947 +proj=longlat +ellps=intl +no_defs ",4627:"+title=RGR92 +proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ",4628:"+title=Tahiti 52 +proj=longlat +ellps=intl +towgs84=162,117,154,0,0,0,0 +no_defs ",4629:"+title=Tahaa 54 +proj=longlat +ellps=intl +no_defs ",4630:"+title=IGN72 Nuku Hiva +proj=longlat +ellps=intl +no_defs ",4632:"+title=Combani 1950 +proj=longlat +ellps=intl +towgs84=-382,-59,-262,0,0,0,0 +no_defs ",4633:"+title=IGN56 Lifou +proj=longlat +ellps=intl +no_defs ",4634:"+title=IGN72 Grand Terre +proj=longlat +ellps=intl +no_defs ",4637:"+title=Perroud 1950 +proj=longlat +ellps=intl +towgs84=325,154,172,0,0,0,0 +no_defs ",4638:"+title=Saint Pierre et Miquelon 1950 +proj=longlat +ellps=clrk66 +towgs84=30,430,368,0,0,0,0 +no_defs ",4640:"+title=RRAF 1991 +proj=longlat +ellps=WGS84 +towgs84=0,0,0,0,0,0,0 +no_defs ",4641:"+title=IGN53 Mare +proj=longlat +ellps=intl +no_defs ",4645:"+title=RGNC 1991 +proj=longlat +ellps=intl +towgs84=0,0,0,0,0,0,0 +no_defs ",4687:"+proj=longlat +ellps=GRS80 +no_defs ",4662:"+title=IGN72 Grande Terre +proj=longlat +ellps=intl +no_defs ",4689:"+title=IGN63 Hiva Oa +proj=longlat +ellps=intl +no_defs ",4690:"+title=Tahiti 79 +proj=longlat +ellps=intl +no_defs ",4691:"+title=Moorea 87 +proj=longlat +ellps=intl +towgs84=215.525,149.593,176.229,-3.2624,-1.692,-1.1571,10.4773 +no_defs ",4692:"+title=Maupiti 83 +proj=longlat +ellps=intl +towgs84=217.037,86.959,23.956,0,0,0,0 +no_defs ",4698:"+title=IGN 1962 Kerguelen +proj=longlat +ellps=intl +towgs84=145,-187,103,0,0,0,0 +no_defs ",4749:"+title=RGNC91-93 +proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ",4750:"+title=ST87 Ouvea +proj=longlat +ellps=WGS84 +towgs84=-56.263,16.136,-22.856,0,0,0,0 +no_defs ",4807:"+title=NTF (Paris) +proj=longlat +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +no_defs ",2056:"+title=CH1903+ / LV95 +proj=somerc +lat_0=46.95240555555556 +lon_0=7.439583333333333 +x_0=2600000 +y_0=1200000 +ellps=bessel +towgs84=674.374,15.056,405.346,0,0,0,0 +units=m +no_defs ",2154:"+title=RGF93 / Lambert-93 +proj=lcc +lat_1=49 +lat_2=44 +lat_0=46.5 +lon_0=3 +x_0=700000 +y_0=6600000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",2213:"+title=ETRS89 / TM 30 NE +proj=tmerc +lat_0=0 +lon_0=30 +k=0.9996 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ",2969:"+title=Fort Marigot / UTM zone 20N +proj=utm +zone=20 +ellps=intl +towgs84=137,248,-430,0,0,0,0 +units=m +no_defs ",2970:"+title=Guadeloupe 1948 / UTM zone 20N +proj=utm +zone=20 +ellps=intl +units=m +no_defs ",2971:"+title=CSG67 / UTM zone 22N +proj=utm +zone=22 +ellps=intl +towgs84=-186,230,110,0,0,0,0 +units=m +no_defs ",2972:"+title=RGFG95 / UTM zone 22N +proj=utm +zone=22 +ellps=GRS80 +towgs84=2,2,-2,0,0,0,0 +units=m +no_defs ",2973:"+title=Martinique 1938 / UTM zone 20N +proj=utm +zone=20 +ellps=intl +units=m +no_defs ",2975:"+title=RGR92 / UTM zone 40S +proj=utm +zone=40 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",2976:"+title=Tahiti 52 / UTM zone 6S +proj=utm +zone=6 +south +ellps=intl +towgs84=162,117,154,0,0,0,0 +units=m +no_defs ",2977:"+title=Tahaa 54 / UTM zone 5S +proj=utm +zone=5 +south +ellps=intl +units=m +no_defs ",2978:"+title=IGN72 Nuku Hiva / UTM zone 7S +proj=utm +zone=7 +south +ellps=intl +units=m +no_defs ",2980:"+title=Combani 1950 / UTM zone 38S +proj=utm +zone=38 +south +ellps=intl +towgs84=-382,-59,-262,0,0,0,0 +units=m +no_defs ",2981:"+title=IGN56 Lifou / UTM zone 58S +proj=utm +zone=58 +south +ellps=intl +units=m +no_defs ",2982:"+title=IGN72 Grand Terre / UTM zone 58S (deprecated) +proj=utm +zone=58 +south +ellps=intl +units=m +no_defs ",2984:"+title=RGNC 1991 / Lambert New Caledonia (deprecated) +proj=lcc +lat_1=-20.66666666666667 +lat_2=-22.33333333333333 +lat_0=-21.5 +lon_0=166 +x_0=400000 +y_0=300000 +ellps=intl +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",2986:"+title=Terre Adelie 1950 +proj=stere +towgs84=324.9120,153.2820,172.0260 +a=6378388.0000 +rf=297.0000000000000 +lat_0=-90.000000000 +lon_0=140.000000000 +lat_ts=-67.000000000 +k=0.96027295 +x_0=300000.000 +y_0=-2299363.482 +units=m +no_defs",2987:"+title=Saint Pierre et Miquelon 1950 / UTM zone 21N +proj=utm +zone=21 +ellps=clrk66 +towgs84=30,430,368,0,0,0,0 +units=m +no_defs ",2989:"+title=RRAF 1991 / UTM zone 20N +proj=utm +zone=20 +ellps=WGS84 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",2990:"+title=Reunion 1947 / TM Reunion (deprecated) +proj=tmerc +lat_0=-21.11666666666667 +lon_0=55.53333333333333 +k=1 +x_0=50000 +y_0=160000 +ellps=intl +units=m +no_defs ",2995:"+title=IGN53 Mare / UTM zone 58S +proj=utm +zone=58 +south +ellps=intl +units=m +no_defs ",3038:"+proj=utm +zone=26 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3039:"+proj=utm +zone=27 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3040:"+proj=utm +zone=28 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3041:"+proj=utm +zone=29 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3045:"+proj=utm +zone=33 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3046:"+proj=utm +zone=34 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3047:"+proj=utm +zone=35 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3048:"+proj=utm +zone=36 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3049:"+proj=utm +zone=37 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3050:"+proj=utm +zone=38 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3051:"+proj=utm +zone=39 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3034:"+title=ETRS89 / ETRS-LCC +proj=lcc +lat_1=35 +lat_2=65 +lat_0=52 +lon_0=10 +x_0=4000000 +y_0=2800000 +ellps=GRS80 +units=m +no_defs ",3035:"+title=ETRS89 / ETRS-LAEA +proj=laea +lat_0=52 +lon_0=10 +x_0=4321000 +y_0=3210000 +ellps=GRS80 +units=m +no_defs ",3042:"+title=ETRS89 / ETRS-TM30 +proj=utm +zone=30 +ellps=GRS80 +units=m +no_defs ",3043:"+title=ETRS89 / ETRS-TM31 +proj=utm +zone=31 +ellps=GRS80 +units=m +no_defs ",3044:"+title=ETRS89 / ETRS-TM32 +proj=utm +zone=32 +ellps=GRS80 +units=m +no_defs ",25828:"+proj=utm +zone=28 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",25829:"+proj=utm +zone=29 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",25833:"+proj=utm +zone=33 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",25834:"+proj=utm +zone=34 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",25835:"+proj=utm +zone=35 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",25836:"+proj=utm +zone=36 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",25837:"+proj=utm +zone=37 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",25838:"+proj=utm +zone=38 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3060:"+title=IGN72 Grande Terre / UTM zone 58S +proj=utm +zone=58 +south +ellps=intl +units=m +no_defs ",3163:"+title=RGNC91-93 / Lambert New Caledonia +proj=lcc +lat_1=-20.66666666666667 +lat_2=-22.33333333333333 +lat_0=-21.5 +lon_0=166 +x_0=400000 +y_0=300000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3164:"+title=ST87 Ouvea / UTM zone 58S +proj=utm +zone=58 +south +ellps=WGS84 +towgs84=-56.263,16.136,-22.856,0,0,0,0 +units=m +no_defs ",3165:"+title=NEA74 Noumea / Noumea Lambert +proj=lcc +lat_1=-22.24469175 +lat_2=-22.29469175 +lat_0=-22.26969175 +lon_0=166.44242575 +x_0=0.66 +y_0=1.02 +ellps=intl +units=m +no_defs ",3166:"+title=NEA74 Noumea / Noumea Lambert 2 +proj=lcc +lat_1=-22.24472222222222 +lat_2=-22.29472222222222 +lat_0=-22.26972222222222 +lon_0=166.4425 +x_0=8.313000000000001 +y_0=-2.354 +ellps=intl +units=m +no_defs ",3169:"+title=RGNC91-93 / UTM zone 57S +proj=utm +zone=57 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3170:"+title=RGNC91-93 / UTM zone 58S +proj=utm +zone=58 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3171:"+title=RGNC91-93 / UTM zone 59S +proj=utm +zone=59 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3172:"+title=IGN53 Mare / UTM zone 59S +proj=utm +zone=59 +south +ellps=intl +units=m +no_defs ",3296:"+title=RGPF / UTM zone 5S +proj=utm +zone=5 +south +ellps=GRS80 +units=m +no_defs ",3297:"+title=RGPF / UTM zone 6S +proj=utm +zone=6 +south +ellps=GRS80 +units=m +no_defs ",3298:"+title=RGPF / UTM zone 7S +proj=utm +zone=7 +south +ellps=GRS80 +units=m +no_defs ",3299:"+title=RGPF / UTM zone 8S +proj=utm +zone=8 +south +ellps=GRS80 +units=m +no_defs ",3302:"+title=IGN63 Hiva Oa / UTM zone 7S +proj=utm +zone=7 +south +ellps=intl +units=m +no_defs ",3303:"+title=Fatu Iva 72 / UTM zone 7S +proj=utm +zone=7 +south +ellps=intl +towgs84=347.103,1078.12,2623.92,-33.8875,70.6773,-9.3943,186.074 +units=m +no_defs ",3304:"+title=Tahiti 79 / UTM zone 6S +proj=utm +zone=6 +south +ellps=intl +units=m +no_defs ",3305:"+title=Moorea 87 / UTM zone 6S +proj=utm +zone=6 +south +ellps=intl +towgs84=215.525,149.593,176.229,-3.2624,-1.692,-1.1571,10.4773 +units=m +no_defs ",3306:"+title=Maupiti 83 / UTM zone 5S +proj=utm +zone=5 +south +ellps=intl +towgs84=217.037,86.959,23.956,0,0,0,0 +units=m +no_defs ",3312:"+title=CSG67 / UTM zone 21N +proj=utm +zone=21 +ellps=intl +towgs84=-186,230,110,0,0,0,0 +units=m +no_defs ",3313:"+title=RGFG95 / UTM zone 21N +proj=utm +zone=21 +ellps=GRS80 +towgs84=2,2,-2,0,0,0,0 +units=m +no_defs ",3336:"+title=IGN 1962 Kerguelen / UTM zone 42S +proj=utm +zone=42 +south +ellps=intl +towgs84=145,-187,103,0,0,0,0 +units=m +no_defs ",3395:"+title=WGS 84 / World Mercator +proj=merc +lon_0=0 +k=1 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",3727:"+title=Reunion 1947 / TM Reunion +proj=tmerc +lat_0=-21.11666666666667 +lon_0=55.53333333333333 +k=1 +x_0=160000 +y_0=50000 +ellps=intl +units=m +no_defs ",21781:"+title=CH1903 / LV03 +proj=somerc +lat_0=46.95240555555556 +lon_0=7.439583333333333 +x_0=600000 +y_0=200000 +ellps=bessel +towgs84=674.374,15.056,405.346,0,0,0,0 +units=m +no_defs ",25830:"+title=ETRS89 / UTM zone 30N +proj=utm +zone=30 +ellps=GRS80 +units=m +no_defs ",25831:"+title=ETRS89 / UTM zone 31N +proj=utm +zone=31 +ellps=GRS80 +units=m +no_defs ",25832:"+title=ETRS89 / UTM zone 32N +proj=utm +zone=32 +ellps=GRS80 +units=m +no_defs ",27561:"+title=NTF (Paris) / Lambert Nord France +proj=lcc +lat_1=49.50000000000001 +lat_0=49.50000000000001 +lon_0=0 +k_0=0.999877341 +x_0=600000 +y_0=200000 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27562:"+title=NTF (Paris) / Lambert Centre France +proj=lcc +lat_1=46.8 +lat_0=46.8 +lon_0=0 +k_0=0.99987742 +x_0=600000 +y_0=200000 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27563:"+title=NTF (Paris) / Lambert Sud France +proj=lcc +lat_1=44.10000000000001 +lat_0=44.10000000000001 +lon_0=0 +k_0=0.9998774990000001 +x_0=600000 +y_0=200000 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27564:"+title=NTF (Paris) / Lambert Corse +proj=lcc +lat_1=42.16500000000001 +lat_0=42.16500000000001 +lon_0=0 +k_0=0.9999447100000001 +x_0=234.358 +y_0=185861.369 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27571:"+title=NTF (Paris) / Lambert zone I +proj=lcc +lat_1=49.50000000000001 +lat_0=49.50000000000001 +lon_0=0 +k_0=0.999877341 +x_0=600000 +y_0=1200000 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27572:"+title=NTF (Paris) / Lambert zone II +proj=lcc +lat_1=46.8 +lat_0=46.8 +lon_0=0 +k_0=0.99987742 +x_0=600000 +y_0=2200000 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27573:"+title=NTF (Paris) / Lambert zone III +proj=lcc +lat_1=44.10000000000001 +lat_0=44.10000000000001 +lon_0=0 +k_0=0.9998774990000001 +x_0=600000 +y_0=3200000 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27574:"+title=NTF (Paris) / Lambert zone IV +proj=lcc +lat_1=42.16500000000001 +lat_0=42.16500000000001 +lon_0=0 +k_0=0.9999447100000001 +x_0=234.358 +y_0=4185861.369 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27581:"+title=NTF (Paris) / France I (deprecated) +proj=lcc +lat_1=49.50000000000001 +lat_0=49.50000000000001 +lon_0=0 +k_0=0.999877341 +x_0=600000 +y_0=1200000 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27582:"+title=NTF (Paris) / France II (deprecated) +proj=lcc +lat_1=46.8 +lat_0=46.8 +lon_0=0 +k_0=0.99987742 +x_0=600000 +y_0=2200000 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27583:"+title=NTF (Paris) / France III (deprecated) +proj=lcc +lat_1=44.10000000000001 +lat_0=44.10000000000001 +lon_0=0 +k_0=0.9998774990000001 +x_0=600000 +y_0=3200000 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27584:"+title=NTF (Paris) / France IV (deprecated) +proj=lcc +lat_1=42.16500000000001 +lat_0=42.16500000000001 +lon_0=0 +k_0=0.9999447100000001 +x_0=234.358 +y_0=4185861.369 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27591:"+title=NTF (Paris) / Nord France (deprecated) +proj=lcc +lat_1=49.50000000000001 +lat_0=49.50000000000001 +lon_0=0 +k_0=0.999877341 +x_0=600000 +y_0=200000 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27592:"+title=NTF (Paris) / Centre France (deprecated) +proj=lcc +lat_1=46.8 +lat_0=46.8 +lon_0=0 +k_0=0.99987742 +x_0=600000 +y_0=200000 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27593:"+title=NTF (Paris) / Sud France (deprecated) +proj=lcc +lat_1=44.10000000000001 +lat_0=44.10000000000001 +lon_0=0 +k_0=0.9998774990000001 +x_0=600000 +y_0=200000 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27594:"+title=NTF (Paris) / Corse (deprecated) +proj=lcc +lat_1=42.16500000000001 +lat_0=42.16500000000001 +lon_0=0 +k_0=0.9999447100000001 +x_0=234.358 +y_0=185861.369 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",32601:"+proj=utm +zone=1 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32602:"+proj=utm +zone=2 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32603:"+proj=utm +zone=3 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32604:"+proj=utm +zone=4 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32605:"+proj=utm +zone=5 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32606:"+proj=utm +zone=6 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32607:"+proj=utm +zone=7 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32608:"+proj=utm +zone=8 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32609:"+proj=utm +zone=9 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32610:"+proj=utm +zone=10 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32611:"+proj=utm +zone=11 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32612:"+proj=utm +zone=12 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32613:"+proj=utm +zone=13 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32614:"+proj=utm +zone=14 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32615:"+proj=utm +zone=15 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32616:"+proj=utm +zone=16 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32617:"+proj=utm +zone=17 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32618:"+proj=utm +zone=18 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32619:"+proj=utm +zone=19 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32620:"+proj=utm +zone=20 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32621:"+proj=utm +zone=21 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32622:"+proj=utm +zone=22 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32623:"+proj=utm +zone=23 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32624:"+proj=utm +zone=24 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32625:"+proj=utm +zone=25 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32626:"+proj=utm +zone=26 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32627:"+proj=utm +zone=27 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32628:"+proj=utm +zone=28 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32629:"+proj=utm +zone=29 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32630:"+proj=utm +zone=30 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32631:"+proj=utm +zone=31 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32632:"+proj=utm +zone=32 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32633:"+proj=utm +zone=33 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32634:"+proj=utm +zone=34 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32635:"+proj=utm +zone=35 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32636:"+proj=utm +zone=36 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32637:"+proj=utm +zone=37 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32638:"+proj=utm +zone=38 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32639:"+proj=utm +zone=39 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32640:"+proj=utm +zone=40 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32641:"+proj=utm +zone=41 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32642:"+proj=utm +zone=42 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32643:"+proj=utm +zone=43 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32644:"+proj=utm +zone=44 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32645:"+proj=utm +zone=45 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32646:"+proj=utm +zone=46 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32647:"+proj=utm +zone=47 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32648:"+proj=utm +zone=48 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32649:"+proj=utm +zone=49 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32650:"+proj=utm +zone=50 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32651:"+proj=utm +zone=51 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32652:"+proj=utm +zone=52 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32653:"+proj=utm +zone=53 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32654:"+proj=utm +zone=54 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32655:"+proj=utm +zone=55 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32656:"+proj=utm +zone=56 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32657:"+proj=utm +zone=57 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32658:"+proj=utm +zone=58 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32659:"+proj=utm +zone=59 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32660:"+proj=utm +zone=60 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32661:"+proj=stere +lat_0=90 +lat_ts=90 +lon_0=0 +k=0.994 +x_0=2000000 +y_0=2000000 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32662:"+title=WGS 84 / Plate Carree +proj=eqc +lat_ts=0 +lon_0=0 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32701:"+proj=utm +zone=1 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32702:"+proj=utm +zone=2 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32703:"+proj=utm +zone=3 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32704:"+proj=utm +zone=4 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32705:"+proj=utm +zone=5 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32706:"+proj=utm +zone=6 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32707:"+proj=utm +zone=7 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32708:"+proj=utm +zone=8 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32709:"+proj=utm +zone=9 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32710:"+proj=utm +zone=10 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32711:"+proj=utm +zone=11 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32712:"+proj=utm +zone=12 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32713:"+proj=utm +zone=13 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32714:"+proj=utm +zone=14 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32715:"+proj=utm +zone=15 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32716:"+proj=utm +zone=16 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32717:"+proj=utm +zone=17 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32718:"+proj=utm +zone=18 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32719:"+proj=utm +zone=19 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32720:"+proj=utm +zone=20 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32721:"+proj=utm +zone=21 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32722:"+proj=utm +zone=22 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32723:"+proj=utm +zone=23 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32724:"+proj=utm +zone=24 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32725:"+proj=utm +zone=25 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32726:"+proj=utm +zone=26 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32727:"+proj=utm +zone=27 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32728:"+proj=utm +zone=28 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32729:"+proj=utm +zone=29 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32730:"+proj=utm +zone=30 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32731:"+proj=utm +zone=31 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32732:"+proj=utm +zone=32 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32733:"+proj=utm +zone=33 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32734:"+proj=utm +zone=34 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32735:"+proj=utm +zone=35 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32736:"+proj=utm +zone=36 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32737:"+proj=utm +zone=37 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32738:"+proj=utm +zone=38 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32739:"+proj=utm +zone=39 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32740:"+proj=utm +zone=40 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32741:"+proj=utm +zone=41 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32742:"+proj=utm +zone=42 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32743:"+proj=utm +zone=43 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32744:"+proj=utm +zone=44 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32745:"+proj=utm +zone=45 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32746:"+proj=utm +zone=46 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32747:"+proj=utm +zone=47 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32748:"+proj=utm +zone=48 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32749:"+proj=utm +zone=49 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32750:"+proj=utm +zone=50 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32751:"+proj=utm +zone=51 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32752:"+proj=utm +zone=52 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32753:"+proj=utm +zone=53 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32754:"+proj=utm +zone=54 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32755:"+proj=utm +zone=55 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32756:"+proj=utm +zone=56 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32757:"+proj=utm +zone=57 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32758:"+proj=utm +zone=58 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32759:"+proj=utm +zone=59 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32760:"+proj=utm +zone=60 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32761:"+proj=stere +lat_0=-90 +lat_ts=-90 +lon_0=0 +k=0.994 +x_0=2000000 +y_0=2000000 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",310024802:"+title=Geoportail - France metropolitaine +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=46.500000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",310915814:"+title=Geoportail - Antilles francaises +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=15.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",310486805:"+title=Geoportail - Guyane +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=4.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",310700806:"+title=Geoportail - Reunion et dependances +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-21.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",310702807:"+title=Geoportail - Mayotte +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-12.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",310706808:"+title=Geoportail - Saint-Pierre et Miquelon +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=47.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",310547809:"+title=Geoportail - Nouvelle-Caledonie +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-22.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",310642810:"+title=Geoportail - Wallis et Futuna +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000,0.0000,0.0000,0.0000,0.000000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-14.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",310032811:"+title=Geoportail - Polynesie francaise +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-15.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",310642812:"+title=Geoportail - Kerguelen +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-49.500000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",310642801:"+title=Geoportail - Crozet +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-46.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",310642813:"+title=Geoportail - Amsterdam et Saint-Paul +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-38.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",310642901:"+title=Geoportail - Monde +proj=mill +towgs84=0.0000,0.0000,0.0000,0.0000,0.0000,0.0000,0.000000 +a=6378137.0000 +rf=298.2572221010000 +lon_0=0.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",5489:"+title=RGAF09 geographiques (dms) +proj=longlat +nadgrids=@null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137 +rf=298.257222101 +units=m +no_defs",5490:"+title=RGAF09 UTM Nord Fuseau 20 +proj=tmerc +nadgrids=@null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137 +rf=298.257222101 +lat_0=0.000000000 +lon_0=-63.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs"},CRS:{84:"+title=WGS 84 longitude-latitude +proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs "},IGNF:{AMST63:"+title=Amsterdam 1963 +proj=geocent +towgs84=109.753,-528.133,-362.244,0,0,0,0 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",CROZ63:"+title=Crozet 1963 +proj=geocent +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",CSG67:"+title=Guyane CSG67 +proj=geocent +towgs84=-193.0660,236.9930,105.4470,0.4814,-0.8074,0.1276,1.564900 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",ED50:"+title=ED50 +proj=geocent +towgs84=-84.0000,-97.0000,-117.0000 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",ETRS89:"+title=Systeme de reference terrestre Europeen (1989) +proj=geocent +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",GUAD48:"+title=Guadeloupe Ste Anne +proj=geocent +towgs84=-472.2900,-5.6300,-304.1200,0.4362,-0.8374,0.2563,1.898400 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",GUADFM49:"+title=Guadeloupe Fort Marigot +proj=geocent +towgs84=136.5960,248.1480,-429.7890 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",IGN63:"+title=IGN 1963 (Hiva Oa, Tahuata, Mohotani) +proj=geocent +towgs84=410.7210,55.0490,80.7460,-2.5779,-2.3514,-0.6664,17.331100 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",IGN72:"+title=IGN 1972 Grande-Terre / Ile des Pins +proj=geocent +towgs84=-11.6400,-348.6000,291.6800 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",KERG62CAR:"+title=Kerguelen - K0 +proj=geocent +towgs84=144.8990,-186.7700,100.9230 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",MART38:"+title=Martinique Fort-Desaix +proj=geocent +towgs84=126.9260,547.9390,130.4090,-2.7867,5.1612,-0.8584,13.822650 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",MAYO50:"+title=Mayotte Combani +proj=geocent +towgs84=-599.9280,-275.5520,-195.6650,-0.0835,-0.4715,0.0602,49.281400 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",MOOREA87:"+title=Moorea 1987 +proj=geocent +towgs84=215.9820,149.5930,176.2290,3.2624,1.6920,1.1571,10.477300 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",NTF:"+title=Nouvelle Triangulation Francaise +proj=geocent +nadgrids=ntf_r93.gsb,null +wktext +towgs84=-168.0000,-60.0000,320.0000 +a=6378249.2000 +rf=293.4660210000000 +units=m +no_defs",NUKU72:"+title=IGN 1972 Nuku Hiva +proj=geocent +towgs84=165.7320,216.7200,180.5050,-0.6434,-0.4512,-0.0791,7.420400 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",REUN47:"+title=Reunion 1947 +proj=geocent +towgs84=789.5240,-626.4860,-89.9040,0.6006,76.7946,-10.5788,-32.324100 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",RGF93:"+title=Reseau geodesique francais 1993 +proj=geocent +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RGFG95:"+title=Reseau geodesique francais de Guyane 1995 +proj=geocent +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RGM04:"+title=RGM04 (Reseau Geodesique de Mayotte 2004) +proj=geocent +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RGNC:"+title=Reseau Geodesique de Nouvelle-Caledonie +proj=geocent +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RGPF:"+title=RGPF (Reseau Geodesique de Polynesie Francaise) +proj=geocent +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RGR92:"+title=Reseau geodesique Reunion 1992 +proj=geocent +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RGSPM06:"+title=Reseau Geodesique Saint-Pierre-et-Miquelon (2006) +proj=geocent +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RGTAAF07:"+title=Reseau Geodesique des TAAF (2007) +proj=geocent +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RRAF91:"+title=RRAF 1991 (Reseau de Reference des Antilles Francaises) +proj=geocent +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",STPL69:"+title=Saint-Paul 1969 +proj=geocent +towgs84=225.571,-346.608,-46.567,0,0,0,0 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",STPM50:"+title=St Pierre et Miquelon 1950 +proj=geocent +towgs84=-95.5930,573.7630,173.4420,-0.9602,1.2510,-1.3918,42.626500 +a=6378206.4000 +rf=294.9786982000000 +units=m +no_defs",TAHAA:"+title=Raiatea - Tahaa 51-54 (Tahaa, Base Terme Est) +proj=geocent +towgs84=72.4380,345.9180,79.4860,-1.6045,-0.8823,-0.5565,1.374600 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",TAHI79:"+title=IGN79 (Tahiti) Iles de la Societe +proj=geocent +towgs84=221.5250,152.9480,176.7680,2.3847,1.3896,0.8770,11.474100 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",TERA50:"+title=Pointe Geologie - Perroud 1950 +proj=geocent +towgs84=324.9120,153.2820,172.0260 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",WALL78:"+title=Wallis-Uvea 1978 (MOP78) +proj=geocent +towgs84=253.0000,-133.0000,-127.0000 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",WGS72:"+title=World Geodetic System 1972 +proj=geocent +towgs84=0.0000,12.0000,6.0000 +a=6378135.0000 +rf=298.2600000000000 +units=m +no_defs",WGS84:"+title=World Geodetic System 1984 +proj=geocent +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",AMST63GEO:"+title=Amsterdam 1963 +proj=longlat +towgs84=109.753,-528.133,-362.244,0,0,0,0 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",CROZ63GEO:"+title=Crozet 1963 +proj=longlat +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",CSG67GEO:"+title=Guyane CSG67 +proj=longlat +towgs84=-193.0660,236.9930,105.4470,0.4814,-0.8074,0.1276,1.564900 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",ED50G:"+title=ED50 +proj=longlat +towgs84=-84.0000,-97.0000,-117.0000 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",GUAD48GEO:"+title=Guadeloupe Ste Anne +proj=longlat +towgs84=-472.2900,-5.6300,-304.1200,0.4362,-0.8374,0.2563,1.898400 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",GUADFM49GEO:"+title=Guadeloupe Fort Marigot +proj=longlat +towgs84=136.5960,248.1480,-429.7890 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",IGN63GEO:"+title=IGN 1963 (Hiva Oa, Tahuata, Mohotani) +proj=longlat +towgs84=410.7210,55.0490,80.7460,-2.5779,-2.3514,-0.6664,17.331100 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",IGN72GEO:"+title=IGN 1972 Grande-Terre / Ile des Pins +proj=longlat +towgs84=-11.6400,-348.6000,291.6800 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",KERG62GEO:"+title=Kerguelen - K0 +proj=longlat +towgs84=144.8990,-186.7700,100.9230 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",MART38GEO:"+title=Martinique Fort-Desaix +proj=longlat +towgs84=126.9260,547.9390,130.4090,-2.7867,5.1612,-0.8584,13.822650 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",MAYO50GEO:"+title=Mayotte Combani +proj=longlat +towgs84=-599.9280,-275.5520,-195.6650,-0.0835,-0.4715,0.0602,49.281400 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",MOOREA87GEO:"+title=Moorea 1987 +proj=longlat +towgs84=215.9820,149.5930,176.2290,3.2624,1.6920,1.1571,10.477300 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",NTFG:"+title=Nouvelle Triangulation Francaise Greenwich degres sexagesimaux +proj=longlat +nadgrids=ntf_r93.gsb,null +wktext +towgs84=-168.0000,-60.0000,320.0000 +a=6378249.2000 +rf=293.4660210000000 +units=m +no_defs",NTFP:"+title=Nouvelle Triangulation Francaise Paris grades +proj=longlat +nadgrids=ntf_r93.gsb,null +wktext +towgs84=-168.0000,-60.0000,320.0000 +a=6378249.2000 +rf=293.4660210000000 +pm=2.337229167 +units=m +no_defs",NUKU72GEO:"+title=IGN 1972 Nuku Hiva +proj=longlat +towgs84=165.7320,216.7200,180.5050,-0.6434,-0.4512,-0.0791,7.420400 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",REUN47GEO:"+title=Reunion 1947 +proj=longlat +towgs84=789.5240,-626.4860,-89.9040,0.6006,76.7946,-10.5788,-32.324100 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",RGF93G:"+title=Reseau geodesique francais 1993 +proj=longlat +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RGFG95GEO:"+title=Reseau geodesique francais de Guyane 1995 +proj=longlat +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RGM04GEO:"+title=RGM04 (Reseau Geodesique de Mayotte 2004) +proj=longlat +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RGNCGEO:"+title=Reseau Geodesique de Nouvelle-Caledonie +proj=longlat +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RGPFGEO:"+title=RGPF (Reseau Geodesique de Polynesie Francaise) +proj=longlat +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RGR92GEO:"+title=Reseau geodesique de la Reunion 1992 +proj=longlat +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RGSPM06GEO:"+title=Saint-Pierre-et-Miquelon (2006) +proj=longlat +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RGTAAF07G:"+title=Reseau Geodesique des TAAF (2007) (dms) +proj=longlat +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",STPL69GEO:"+title=Saint-Paul 1969 +proj=longlat +towgs84=225.571,-346.608,-46.567,0,0,0,0 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",STPM50GEO:"+title=St Pierre et Miquelon 1950  +proj=longlat +towgs84=-95.5930,573.7630,173.4420,-0.9602,1.2510,-1.3918,42.626500 +a=6378206.4000 +rf=294.9786982000000 +units=m +no_defs",TAHAAGEO:"+title=Raiatea - Tahaa 51-54 (Tahaa, Base Terme Est) +proj=longlat +towgs84=72.4380,345.9180,79.4860,-1.6045,-0.8823,-0.5565,1.374600 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",TAHI79GEO:"+title=IGN79 (Tahiti) Iles de la Societe +proj=longlat +towgs84=221.5250,152.9480,176.7680,2.3847,1.3896,0.8770,11.474100 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",TERA50G:"+title=Pointe Geologie - Perroud 1950 +proj=longlat +towgs84=324.9120,153.2820,172.0260 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",WALL78GEO:"+title=Wallis - Uvea 1978 (MOP78) +proj=longlat +towgs84=253.0000,-133.0000,-127.0000 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",WGS72G:"+title=WGS72 +proj=longlat +towgs84=0.0000,12.0000,6.0000 +a=6378135.0000 +rf=298.2600000000000 +units=m +no_defs",WGS84G:"+title=World Geodetic System 1984 +proj=longlat +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",WGS84RRAFGEO:"+title=Reseau de reference des Antilles francaises (1988-1991) +proj=longlat +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",XGEO:"+title=Systeme CIO-BIH +proj=longlat +towgs84=0.0000,0.0000,0.5000,0.0000,0.0000,0.0140,-0.100000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",AMST63UTM43S:"+title=Amsterdam 1963 UTM fuseau 43 Sud +proj=tmerc +towgs84=109.753,-528.133,-362.244,0,0,0,0 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=75.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",CROZ63UTM39S:"+title=Crozet 1963 +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=51.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",CSG67UTM21:"+title=Guyane CSG67 UTM fuseau 21 +proj=tmerc +towgs84=-193.0660,236.9930,105.4470,0.4814,-0.8074,0.1276,1.564900 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=-57.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",CSG67UTM22:"+title=Guyane CSG67 UTM fuseau 22 +proj=tmerc +towgs84=-193.0660,236.9930,105.4470,0.4814,-0.8074,0.1276,1.564900 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=-51.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",GEOPORTALANF:"+title=Geoportail - Antilles francaises +proj=eqc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=15.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",GEOPORTALASP:"+title=Geoportail - Amsterdam et Saint-Paul +proj=eqc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-38.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",GEOPORTALCRZ:"+title=Geoportail - Crozet +proj=eqc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-46.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",GEOPORTALFXX:"+title=Geoportail - France metropolitaine +proj=eqc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=46.500000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",GEOPORTALGUF:"+title=Geoportail - Guyane +proj=eqc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=4.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",GEOPORTALKER:"+title=Geoportail - Kerguelen +proj=eqc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-49.500000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",GEOPORTALMYT:"+title=Geoportail - Mayotte +proj=eqc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-12.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",GEOPORTALNCL:"+title=Geoportail - Nouvelle-Caledonie +proj=eqc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-22.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",GEOPORTALPYF:"+title=Geoportail - Polynesie francaise +proj=eqc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-15.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",GEOPORTALREU:"+title=Geoportail - Reunion et dependances +proj=eqc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-21.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",GEOPORTALSPM:"+title=Geoportail - Saint-Pierre et Miquelon +proj=eqc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=47.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",GEOPORTALWLF:"+title=Geoportail - Wallis et Futuna +proj=eqc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-14.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",GUAD48UTM20:"+title=Guadeloupe Ste Anne +proj=tmerc +towgs84=-472.2900,-5.6300,-304.1200,0.4362,-0.8374,0.2563,1.898400 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=-63.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",GUADFM49U20:"+title=Guadeloupe Fort Marigot  +proj=tmerc +towgs84=136.5960,248.1480,-429.7890 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=-63.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",IGN63UTM7S:"+title=IGN 1963 - Hiva Oa, Tahuata, Mohotani - UTM fuseau 7 Sud +proj=tmerc +towgs84=410.7210,55.0490,80.7460,-2.5779,-2.3514,-0.6664,17.331100 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=-141.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",IGN72UTM58S:"+title=IGN 1972 - UTM fuseau 58 Sud +proj=tmerc +towgs84=-11.6400,-348.6000,291.6800 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=165.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",KERG62UTM42S:"+title=Kerguelen 1962 +proj=tmerc +towgs84=144.8990,-186.7700,100.9230 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=69.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",LAMB1:"+title=Lambert I +proj=lcc +nadgrids=ntf_r93.gsb,null +wktext +towgs84=-168.0000,-60.0000,320.0000 +a=6378249.2000 +rf=293.4660210000000 +pm=2.337229167 +lat_0=49.500000000 +lon_0=0.000000000 +k_0=0.99987734 +lat_1=49.500000000 +x_0=600000.000 +y_0=200000.000 +units=m +no_defs",LAMB1C:"+title=Lambert I Carto +proj=lcc +nadgrids=ntf_r93.gsb,null +wktext +towgs84=-168.0000,-60.0000,320.0000 +a=6378249.2000 +rf=293.4660210000000 +pm=2.337229167 +lat_0=49.500000000 +lon_0=0.000000000 +k_0=0.99987734 +lat_1=49.500000000 +x_0=600000.000 +y_0=1200000.000 +units=m +no_defs",LAMB2:"+title=Lambert II +proj=lcc +nadgrids=ntf_r93.gsb,null +wktext +towgs84=-168.0000,-60.0000,320.0000 +a=6378249.2000 +rf=293.4660210000000 +pm=2.337229167 +lat_0=46.800000000 +lon_0=0.000000000 +k_0=0.99987742 +lat_1=46.800000000 +x_0=600000.000 +y_0=200000.000 +units=m +no_defs",LAMB2C:"+title=Lambert II Carto +proj=lcc +nadgrids=ntf_r93.gsb,null +wktext +towgs84=-168.0000,-60.0000,320.0000 +a=6378249.2000 +rf=293.4660210000000 +pm=2.337229167 +lat_0=46.800000000 +lon_0=0.000000000 +k_0=0.99987742 +lat_1=46.800000000 +x_0=600000.000 +y_0=2200000.000 +units=m +no_defs",LAMB3:"+title=Lambert III +proj=lcc +nadgrids=ntf_r93.gsb,null +wktext +towgs84=-168.0000,-60.0000,320.0000 +a=6378249.2000 +rf=293.4660210000000 +pm=2.337229167 +lat_0=44.100000000 +lon_0=0.000000000 +k_0=0.99987750 +lat_1=44.100000000 +x_0=600000.000 +y_0=200000.000 +units=m +no_defs",LAMB3C:"+title=Lambert III Carto +proj=lcc +nadgrids=ntf_r93.gsb,null +wktext +towgs84=-168.0000,-60.0000,320.0000 +a=6378249.2000 +rf=293.4660210000000 +pm=2.337229167 +lat_0=44.100000000 +lon_0=0.000000000 +k_0=0.99987750 +lat_1=44.100000000 +x_0=600000.000 +y_0=3200000.000 +units=m +no_defs",LAMB4:"+title=Lambert IV +proj=lcc +nadgrids=ntf_r93.gsb,null +wktext +towgs84=-168.0000,-60.0000,320.0000 +a=6378249.2000 +rf=293.4660210000000 +pm=2.337229167 +lat_0=42.165000000 +lon_0=0.000000000 +k_0=0.99994471 +lat_1=42.165000000 +x_0=234.358 +y_0=185861.369 +units=m +no_defs",LAMB4C:"+title=Lambert IV Carto +proj=lcc +nadgrids=ntf_r93.gsb,null +wktext +towgs84=-168.0000,-60.0000,320.0000 +a=6378249.2000 +rf=293.4660210000000 +pm=2.337229167 +lat_0=42.165000000 +lon_0=0.000000000 +k_0=0.99994471 +lat_1=42.165000000 +x_0=234.358 +y_0=4185861.369 +units=m +no_defs",LAMB93:"+title=Lambert 93 +proj=lcc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=46.500000000 +lon_0=3.000000000 +lat_1=44.000000000 +lat_2=49.000000000 +x_0=700000.000 +y_0=6600000.000 +units=m +no_defs",RGF93CC42:"+title=Lambert conique conforme Zone 1 +proj=lcc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=42.000000000 +lon_0=3.000000000 +lat_1=41.200000000 +lat_2=42.800000000 +x_0=1700000.000 +y_0=1200000.000 +units=m +no_defs",RGF93CC43:"+title=Lambert conique conforme Zone 2 +proj=lcc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=43.000000000 +lon_0=3.000000000 +lat_1=42.200000000 +lat_2=43.800000000 +x_0=1700000.000 +y_0=2200000.000 +units=m +no_defs",RGF93CC44:"+title=Lambert conique conforme Zone 3 +proj=lcc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=44.000000000 +lon_0=3.000000000 +lat_1=43.200000000 +lat_2=44.800000000 +x_0=1700000.000 +y_0=3200000.000 +units=m +no_defs",RGF93CC45:"+title=Lambert conique conforme Zone 4 +proj=lcc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=45.000000000 +lon_0=3.000000000 +lat_1=44.200000000 +lat_2=45.800000000 +x_0=1700000.000 +y_0=4200000.000 +units=m +no_defs",RGF93CC46:"+title=Lambert conique conforme Zone 5 +proj=lcc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=46.000000000 +lon_0=3.000000000 +lat_1=45.200000000 +lat_2=46.800000000 +x_0=1700000.000 +y_0=5200000.000 +units=m +no_defs",RGF93CC47:"+title=Lambert conique conforme Zone 6 +proj=lcc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=47.000000000 +lon_0=3.000000000 +lat_1=46.200000000 +lat_2=47.800000000 +x_0=1700000.000 +y_0=6200000.000 +units=m +no_defs",RGF93CC48:"+title=Lambert conique conforme Zone 7 +proj=lcc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=48.000000000 +lon_0=3.000000000 +lat_1=47.200000000 +lat_2=48.800000000 +x_0=1700000.000 +y_0=7200000.000 +units=m +no_defs",RGF93CC49:"+title=Lambert conique conforme Zone 8 +proj=lcc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=49.000000000 +lon_0=3.000000000 +lat_1=48.200000000 +lat_2=49.800000000 +x_0=1700000.000 +y_0=8200000.000 +units=m +no_defs",RGF93CC50:"+title=Lambert conique conforme Zone 9 +proj=lcc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=50.000000000 +lon_0=3.000000000 +lat_1=49.200000000 +lat_2=50.800000000 +x_0=1700000.000 +y_0=9200000.000 +units=m +no_defs",LAMBE:"+title=Lambert II etendu +proj=lcc +nadgrids=ntf_r93.gsb,null +wktext +towgs84=-168.0000,-60.0000,320.0000 +a=6378249.2000 +rf=293.4660210000000 +pm=2.337229167 +lat_0=46.800000000 +lon_0=0.000000000 +k_0=0.99987742 +lat_1=46.800000000 +x_0=600000.000 +y_0=2200000.000 +units=m +no_defs",MART38UTM20:"+title=Martinique Fort-Desaix +proj=tmerc +towgs84=126.9260,547.9390,130.4090,-2.7867,5.1612,-0.8584,13.822650 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=-63.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",MAYO50UTM38S:"+title=Mayotte Combani +proj=tmerc +towgs84=-599.9280,-275.5520,-195.6650,-0.0835,-0.4715,0.0602,49.281400 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=45.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",MILLER:"+title=Geoportail - Monde +proj=mill +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lon_0=0.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",MOOREA87U6S:"+title=Moorea 1987 - UTM fuseau 6 Sud +proj=tmerc +towgs84=215.9820,149.5930,176.2290,3.2624,1.6920,1.1571,10.477300 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=-147.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",NUKU72U7S:"+title=IGN 1972 Nuku Hiva - UTM fuseau 7 Sud +proj=tmerc +towgs84=165.7320,216.7200,180.5050,-0.6434,-0.4512,-0.0791,7.420400 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=-141.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",RGM04UTM38S:"+title=UTM fuseau 38 Sud (Reseau Geodesique de Mayotte 2004) +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=45.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",RGNCUTM57S:"+title=Reseau Geodesique de Nouvelle-Caledonie - UTM fuseau 57 Sud +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=159.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",RGNCUTM58S:"+title=Reseau Geodesique de Nouvelle-Caledonie - UTM fuseau 58 Sud +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=165.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",RGNCUTM59S:"+title=Reseau Geodesique de Nouvelle-Caledonie - UTM fuseau 59 Sud +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=171.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",RGPFUTM5S:"+title=RGPF - UTM fuseau 5 Sud +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-153.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",RGPFUTM6S:"+title=RGPF - UTM fuseau 6 Sud +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-147.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",RGPFUTM7S:"+title=RGPF - UTM fuseau 7 Sud +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-141.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",RGR92UTM40S:"+title=RGR92 UTM fuseau 40 Sud +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=57.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",RGSPM06U21:"+title=Saint-Pierre-et-Miquelon (2006) UTM Fuseau 21 Nord +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-57.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",STPL69UTM43S:"+title=Saint-Paul 1969 UTM fuseau 43 Sud +proj=tmerc +towgs84=225.571,-346.608,-46.567,0,0,0,0 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=75.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",STPM50UTM21:"+title=St Pierre et Miquelon 1950 +proj=tmerc +towgs84=-95.5930,573.7630,173.4420,-0.9602,1.2510,-1.3918,42.626500 +a=6378206.4000 +rf=294.9786982000000 +lat_0=0.000000000 +lon_0=-57.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",TAHAAUTM05S:"+title=Tahaa 1951 +proj=tmerc +towgs84=72.4380,345.9180,79.4860,-1.6045,-0.8823,-0.5565,1.374600 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=-153.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",TAHI51UTM06S:"+title=Tahiti-Terme Nord UTM fuseau 6 Sud +proj=tmerc +towgs84=162.0000,117.0000,154.0000 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=-147.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",TAHI79UTM6S:"+title=Tahiti 1979 +proj=tmerc +towgs84=221.5250,152.9480,176.7680,2.3847,1.3896,0.8770,11.474100 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=-147.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",TERA50STEREO:"+title=Terre Adelie 1950 +proj=stere +towgs84=324.9120,153.2820,172.0260 +a=6378388.0000 +rf=297.0000000000000 +lat_0=-90.000000000 +lon_0=140.000000000 +lat_ts=-67 +k=0.96027295 +x_0=300000.000 +y_0=-2299363.482 +units=m +no_defs",UTM01SW84:"+title=World Geodetic System 1984 UTM fuseau 01 Sud +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-177.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",UTM20W84GUAD:"+title=World Geodetic System 1984 UTM fuseau 20 Nord-Guadeloupe +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-63.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM20W84MART:"+title=World Geodetic System 1984 UTM fuseau 20 Nord-Martinique +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-63.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM22RGFG95:"+title=RGFG95 UTM fuseau 22 Nord-Guyane +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-51.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM39SW84:"+title=World Geodetic System 1984 UTM fuseau 39 Sud +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=51.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",UTM42SW84:"+title=World Geodetic System 1984 UTM fuseau 42 Sud +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=69.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",UTM43SW84:"+title=World Geodetic System 1984 UTM fuseau 43 Sud +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=75.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",WALL78UTM1S:"+title=Wallis-Uvea 1978 (MOP78) UTM 1 SUD +proj=tmerc +towgs84=253.0000,-133.0000,-127.0000 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=-177.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",ETRS89GEO:"+title=ETRS89 geographiques (dms) +proj=longlat +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",ETRS89LAEA:"+title=ETRS89 Lambert Azimutal Equal Area +proj=laea +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=52.000000000 +lon_0=10.000000000 +x_0=4321000.000 +y_0=3210000.000 +units=m +no_defs",ETRS89LCC:"+title=ETRS89 Lambert Conformal Conic +proj=lcc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=52.000000000 +lon_0=9.999999995 +lat_1=35.000000000 +lat_2=65.000000000 +x_0=4000000.000 +y_0=2800000.000 +units=m +no_defs",UTM26ETRS89:"+title=Europe - de 30d a 24d Ouest +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-27.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM27ETRS89:"+title=Europe - de 24d a 18d Ouest +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-21.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM28ETRS89:"+title=Europe - de 18d a 12d Ouest +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-15.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM29ETRS89:"+title=Europe - de 12d a 6d Ouest +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-9.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM30ETRS89:"+title=Europe - de -6d a 0d Ouest +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-3.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM31ETRS89:"+title=Europe - de 0d a 6d Est +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=3.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM32ETRS89:"+title=Europe - de 6d a 12d Est +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=9.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM33ETRS89:"+title=Europe - de 12d a 18d Est +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=15.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM34ETRS89:"+title=Europe - de 18d a 24d Est +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=21.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM35ETRS89:"+title=Europe - de 24d a 30d Est +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=27.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM36ETRS89:"+title=Europe - de 30d a 36d Est +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=33.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM37ETRS89:"+title=Europe - de 36d a 42d Est +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=39.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM38ETRS89:"+title=Europe - de 42d a 48d Est +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=45.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs"}},li=si,ci=mt.getLogger("CRS"),ui={projectionsExtent:{"EPSG:2154":{left:-9.62,bottom:41.18,right:10.3,top:51.54},"EPSG:27572":{left:-4.87,bottom:42.33,right:8.23,top:51.14}},load:function(){if(ci.trace("Loading custom definitions projections"),!li.isLoaded){li.load(oi.a);try{ai(oi.a),window.ol&&window.ol.proj&&window.ol.proj.proj4&&(window.ol.proj.proj4.register=ai,window.ol.proj.proj4.register(oi.a))}catch(e){ci.error(e)}}},loadByDefault:function(){if(ci.trace("Loading custom definitions projections by default"),!li.isLoaded){li.loadByDefault(oi.a);try{ai(oi.a),window.ol&&window.ol.proj&&window.ol.proj.proj4&&(window.ol.proj.proj4.register=ai,window.ol.proj.proj4.register(oi.a))}catch(e){ci.error(e)}}},loadByName:function(e){if(ci.trace("Loading a custom definition projection : ",e),!li.isLoaded){li.loadByName(oi.a,e);try{ai(oi.a),window.ol&&window.ol.proj&&window.ol.proj.proj4&&(window.ol.proj.proj4.register=ai,window.ol.proj.proj4.register(oi.a))}catch(e){ci.error(e)}}},overload:function(){for(var e in ci.trace("Loading projections aera (extent)"),this.projectionsExtent)if(this.projectionsExtent.hasOwnProperty(e)){var t=this.projectionsExtent[e],o=Object(s.t)(e),n=Object(s.v)("EPSG:4326",o),r=Object($t.a)([t.bottom,t.right,t.top,t.left],n);o.setExtent(r),Object(s.g)(o),window.ol&&window.ol.proj&&window.ol.proj.addProjection&&window.ol.proj.addProjection(o)}}};function di(e){return(di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}window.ol&&window.ol.proj&&window.ol.proj.proj4&&(window.ol.proj.proj4.register=ai);var hi={_addUID:function(e){return this._uid?e+"-"+this._uid:e},_createMainContainerElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPmousePosition"),e.className="GPwidget",e},_createShowMousePositionElement:function(){var e=document.createElement("input");return e.id=this._addUID("GPshowMousePosition"),e.type="checkbox",e},_createShowMousePositionPictoElement:function(e){var t=this,o=document.createElement("label");o.id=this._addUID("GPshowMousePositionPicto"),o.className="GPshowAdvancedToolPicto",o.htmlFor=this._addUID("GPshowMousePosition"),o.title="Afficher les coordonnÃ©es du curseur",o.addEventListener("click",(function(o){var n="";document.getElementById(t._addUID("GPshowMousePosition")).checked||e||(n="GPmapCenterVisible"),document.getElementById("GPmapCenter").className=n,t.onShowMousePositionClick(o)}));var n=document.createElement("span");return n.id=this._addUID("GPshowMousePositionOpen"),n.className="GPshowAdvancedToolOpen",o.appendChild(n),o},_createMousePositionPanelElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPmousePositionPanel"),e.className="GPpanel",e},_createMapCenter:function(){var e=document.createElement("div");return e.id="GPmapCenter",e.className="",e},_createMousePositionPanelHeaderElement:function(){var e=document.createElement("div");e.className="GPpanelHeader";var t=document.createElement("div");t.className="GPpanelTitle",t.innerHTML="CoordonnÃ©es",e.appendChild(t);var o=document.createElement("div");o.id="GPmousePositionPanelClose",o.className="GPpanelClose",o.title="Fermer le panneau";var n=this;return o.addEventListener?o.addEventListener("click",(function(){document.getElementById(n._addUID("GPshowMousePositionPicto")).click()}),!1):o.attachEvent&&o.attachEvent("onclick",(function(){document.getElementById(n._addUID("GPshowMousePositionPicto")).click()})),e.appendChild(o),e},_createMousePositionPanelBasicElement:function(e,t,o,n){e=void 0===e||e,t=void 0===t||t,o=void 0!==o&&o;var r=document.createElement("div");return r.id=this._addUID("GPmousePositionBasicPanel"),r.appendChild(this._createMousePositionPanelBasicCoordinateElement(t,o,n)),r.appendChild(this._createMousePositionPanelEditToolsElement(o)),r.appendChild(this._createMousePositionPanelBasicAltitudeElement(e)),r},_createCoordinateElement:function(e,t){var o=this;if(-1===["Lon","Lat"].indexOf(e))return[];var n=[],r=document.createElement("input");r.id=this._addUID("GPmousePosition"+e),r.title=!0===t?"Cliquer pour saisir des coordonnÃ©es":"",r.readOnly=!0,t&&(r.addEventListener("click",(function(){o.onMousePositionEditModeClick(!0)})),r.addEventListener("change",(function(t){this.classList.remove("error"),o.validateExtentCoordinate(e,this.value,t)?this.classList.remove("error"):this.classList.add("error")}))),n.push(r);var i=document.createElement("span");return i.className="GPmousePositionUnits",n.push(i),n},_createDMSCoordinateElement:function(e,t){if(-1===["Lon","Lat"].indexOf(e))return[];var o=this,n=[],r=document.createElement("input");r.id=this._addUID("GPmousePosition"+e+"Degrees"),r.className="GPSexagesimal",r.setAttribute("name","degrees"),r.title=!0===t?"Cliquer pour saisir des coordonnÃ©es":"",r.readOnly=!0,r.dataset.min=0,r.dataset.max="Lon"===e?180:90,t&&(r.addEventListener("click",(function(){o.onMousePositionEditModeClick(!0)})),r.addEventListener("change",(function(){this.classList.remove("error"),o._checkDMSDegrees(e,this)?this.classList.remove("error"):this.classList.add("error")}))),n.push(r);var i=document.createElement("span");i.className="GPmousePositionSexagesimalLabel",i.innerHTML="Â°",n.push(i);var a=document.createElement("input");a.id=this._addUID("GPmousePosition"+e+"Minutes"),a.className="GPSexagesimal",a.setAttribute("name","minutes"),a.title=!0===t?"Cliquer pour saisir des coordonnÃ©es":"",a.readOnly=!0,a.dataset.min=0,a.dataset.max=59,t&&(a.addEventListener("click",(function(){o.onMousePositionEditModeClick(!0)})),a.addEventListener("change",(function(){this.classList.remove("error"),o._checkDMSElement(this)?this.classList.remove("error"):this.classList.add("error")}))),n.push(a);var s=document.createElement("span");s.className="GPmousePositionSexagesimalLabel",s.innerHTML="'",n.push(s);var l=document.createElement("input");l.id=this._addUID("GPmousePosition"+e+"Seconds"),l.className="GPSexagesimalsec",l.setAttribute("name","seconds"),l.title=!0===t?"Cliquer pour saisir des coordonnÃ©es":"",l.readOnly=!0,l.dataset.min=0,l.dataset.max=59,t&&(l.addEventListener("click",(function(){o.onMousePositionEditModeClick(!0)})),l.addEventListener("change",(function(){this.classList.remove("error"),o._checkDMSElement(this,!0)?this.classList.remove("error"):this.classList.add("error")}))),n.push(l);var c=document.createElement("span");c.className="GPmousePositionSexagesimalLabel",c.innerHTML="''",n.push(c);var u=document.createElement("select");u.id=this._addUID("GPmousePosition"+e+"Direction"),u.className="GPmousePositionDirection",u.setAttribute("name","direction"),u.disabled=!0;var d=document.createElement("option");d.value="Lon"===e?"E":"N",d.innerHTML="Lon"===e?"E":"N",u.appendChild(d);var h=document.createElement("option");return h.value="Lon"===e?"O":"S",h.innerHTML="Lon"===e?"O":"S",u.appendChild(h),n.push(u),n},_createMousePositionPanelBasicCoordinateElement:function(e,t,o){var n=document.createElement("div");n.id=this._addUID("GPmousePositionCoordinate"),n.style.display=e?"block":"none";var r=document.createElement("div"),i=document.createElement("span");i.className="GPmousePositionLabel",i.id=this._addUID("GPmousePositionLatLabel"),i.innerHTML="Latitude : ",r.appendChild(i);var a,s=document.createElement("span");s.id=this._addUID("GPmousePositionLatCoordinate"),a="DMS"===o?this._createDMSCoordinateElement("Lat",t):this._createCoordinateElement("Lat",t);for(var l=0;l<a.length;l++)s.appendChild(a[l]);r.appendChild(s),n.appendChild(r);var c=document.createElement("div"),u=document.createElement("span");u.className="GPmousePositionLabel",u.id=this._addUID("GPmousePositionLonLabel"),u.innerHTML="Longitude : ",c.appendChild(u);var d,h=document.createElement("span");h.id=this._addUID("GPmousePositionLonCoordinate"),d="DMS"===o?this._createDMSCoordinateElement("Lon",t):this._createCoordinateElement("Lon",t);for(var p=0;p<d.length;p++)h.appendChild(d[p]);return c.appendChild(h),n.appendChild(c),n},_createMousePositionPanelBasicAltitudeElement:function(e){var t=document.createElement("div");t.id=this._addUID("GPmousePositionAltitude"),t.style.display=e?"block":"none";var o=document.createElement("span");o.className="GPmousePositionLabel",o.innerHTML="Altitude : ",t.appendChild(o);var n=document.createElement("span");n.className="GPmousePositionCoords",n.id=this._addUID("GPmousePositionAlt"),n.innerHTML="...",t.appendChild(n);var r=document.createElement("span");return r.className="GPmousePositionAltitudeUnits",r.innerHTML="m",t.appendChild(r),t},_createMousePositionPanelEditToolsElement:function(e){var t=this,o=document.createElement("div");o.className="GPmousePositionPanelEditTools",o.id=this._addUID("GPmousePositionPanelEditTools"),e||(o.style.display="none");var n=document.createElement("span");n.className="GPmousePositionEditTool",n.id=this._addUID("GPmousePositionLocate"),n.title=!0===e?"Cliquer pour saisir des coordonnÃ©es":"",e&&n.addEventListener("click",(function(){t.onMousePositionEditModeLocateClick()})),o.appendChild(n);var r=document.createElement("span");return r.className="GPmousePositionEditTool",r.id=this._addUID("GPmousePositionCloseEdit"),r.title="Quitter la saisie des coordonnÃ©es",r.style.display="none",e&&r.addEventListener("click",(function(){t.onMousePositionEditModeClick(!1)})),o.appendChild(r),o},_createShowMousePositionSettingsElement:function(e){var t=[],o=this,n=document.createElement("input");n.type="checkbox",n.id=this._addUID("GPshowMousePositionSettings");var r=document.createElement("label");return r.id=this._addUID("GPshowMousePositionSettingsPicto"),r.htmlFor=this._addUID("GPshowMousePositionSettings"),r.title="RÃ©glages",r.className="GPshowMoreOptionsImage GPshowMoreOptions GPshowMousePositionSettingsPicto",r.style.display=e?"block":"none",r.addEventListener?r.addEventListener("click",(function(e){"function"==typeof o.onShowMousePositionSettingsClick&&o.onShowMousePositionSettingsClick(e)}),!1):r.attachEvent&&r.attachEvent("onclick",(function(e){"function"==typeof o.onShowMousePositionSettingsClick&&o.onShowMousePositionSettingsClick(e)})),t.push(n),t.push(r),t},_createMousePositionSettingsElement:function(e){var t=document.createElement("div");t.id=this._addUID("GPmousePositionSettings"),t.style.display=void 0===e||e?"block":"none";var o=document.createElement("span");return o.className="GPmousePositionSettingsLabel",o.innerHTML="SystÃ¨me de rÃ©fÃ©rence",t.appendChild(o),t},_createMousePositionSettingsSystemsElement:function(e){var t=this,o=document.createElement("select");o.id=this._addUID("GPmousePositionProjectionSystem"),o.className="GPinputSelect GPmousePositionSettingsSelect",o.addEventListener("change",(function(e){t.onMousePositionProjectionSystemChange(e)})),o.addEventListener("mouseover",(function(e){"OPTION"!==e.target.nodeName&&t.onMousePositionProjectionSystemMouseOver(e)}));for(var n=0;n<e.length;n++){var r=e[n],i=document.createElement("option");i.value=r.code,i.text=r.label||n,o.appendChild(i)}return o},_createMousePositionSettingsUnitsElement:function(e){var t=this,o=document.createElement("select");o.id=this._addUID("GPmousePositionProjectionUnits"),o.className="GPinputSelect GPmousePositionSettingsSelect",o.addEventListener("change",(function(e){t.onMousePositionProjectionUnitsChange(e)}));for(var n=0;n<e.length;n++){var r=e[n],i=document.createElement("option");i.value=r.code?r.code:n,i.text=r.label||n,o.appendChild(i)}return o},_resetLabelElements:function(e){document.getElementById(this._addUID("GPmousePositionLatLabel")).innerHTML="Geographical"===e?"Latitude :":"X :",document.getElementById(this._addUID("GPmousePositionLonLabel")).innerHTML="Geographical"===e?"Longitude :":"Y :"},_resetUnitElements:function(e){var t="";"M"!==e&&"KM"!==e||(t=e.toLowerCase());for(var o=document.getElementsByClassName("GPmousePositionUnits"),n=0;n<o.length;n++)o[n].innerHTML=t},_resetCoordinateElements:function(e,t,o){for(var n,r=document.getElementById(this._addUID("GPmousePositionLatCoordinate"));r.firstChild;)r.removeChild(r.firstChild);n="DMS"===o?this._createDMSCoordinateElement("Lat",e):this._createCoordinateElement("Lat",e);for(var i=0;i<n.length;i++)r.appendChild(n[i]);for(var a,s=document.getElementById(this._addUID("GPmousePositionLonCoordinate"));s.firstChild;)s.removeChild(s.firstChild);a="DMS"===o?this._createDMSCoordinateElement("Lon",e):this._createCoordinateElement("Lon",e);for(var l=0;l<a.length;l++)s.appendChild(a[l])},_setEditMode:function(e){document.getElementById(this._addUID("GPmousePositionLocate")).title=e?"Aller Ã  la position ...":"Cliquer pour saisir des coordonnÃ©es",document.getElementById(this._addUID("GPmousePositionCloseEdit")).style.display=e?"inline-block":"none";for(var t="div[id^="+this._addUID("GPmousePositionCoordinate")+"]",o=document.querySelectorAll(t+" input"),n=0;n<o.length;n++)o[n].readOnly=!e,e&&(o[n].value="",o[n].classList.remove("error"));for(var r=document.querySelectorAll(t+" select"),i=0;i<r.length;i++)r[i].disabled=!e},_checkDMSElement:function(e,t){var o=void 0!==t,n=e.value;if(o&&(n=n.replace(",",".")),isNaN(n))return!1;var r=parseFloat(n);if(!o&&(0|r)!==r)return!1;var i=Number(e.dataset.min),a=Number(e.dataset.max);return r>=i&&r<=a},_checkDMSDegrees:function(e,t){if(isNaN(t.value))return!1;var o=parseFloat(t.value);if((0|o)!==o)return!1;var n=Number(t.dataset.min),r=Number(t.dataset.max);if(o<n||o>r)return!1;var i=document.getElementById(this._addUID("GPmousePosition"+e+"Minutes")),a=document.getElementById(this._addUID("GPmousePosition"+e+"Seconds"));return o>=r?(i.dataset.max=0,a.dataset.max=0):(i.dataset.max=59,a.dataset.max=59.9999),!0},GPdisplayCoords:function(e){if(e){var t=document.getElementById(this._addUID("GPmousePositionLonLabel")),o=document.getElementById(this._addUID("GPmousePositionLatLabel"));if(e.x||e.y?(o.innerHTML="X : ",t.innerHTML="Y : "):e.e||e.n?(o.innerHTML="E : ",t.innerHTML="N : "):(o.innerHTML="Latitude : ",t.innerHTML="Longitude : "),"object"===di(e.lat)&&"object"===di(e.lng)){var n={lng:"Lon",lat:"Lat"},r=["Degrees","Minutes","Seconds"];for(var i in n)for(var a=0;a<r.length;++a){var s="GPmousePosition"+n[i]+r[a],l=document.getElementById(this._addUID(s)),c=r[a].charAt(0).toLowerCase();l.value=e[i][c]}document.getElementById(this._addUID("GPmousePositionLonDirection")).value=e.lng.direction,document.getElementById(this._addUID("GPmousePositionLatDirection")).value=e.lat.direction}else{var u=document.getElementById(this._addUID("GPmousePositionLat")),d=document.getElementById(this._addUID("GPmousePositionLon"));u.value=e.x||e.lat||e.e||"0",d.value=e.y||e.lng||e.lon||e.n||"0";for(var h=void 0===e.unit?"":e.unit,p=document.getElementsByClassName("GPmousePositionUnits"),f=0;f<p.length;++f)p[f].innerHTML=h}}},GPdisplayElevation:function(e,t,o,n){var r,i=this;t||(t=500),clearTimeout(r),document.getElementById(this._addUID("GPmousePositionAlt")).innerHTML="...",null==o&&(o=-99999),null==n&&(n=99980);var a=o+n,s=o-n;e&&document.getElementById(this._addUID("GPmousePositionAltitude"))&&(r=setTimeout((function(){i.onRequestAltitude(e,(function(e){s<e&&e<a?i.GPresetElevation():document.getElementById(i._addUID("GPmousePositionAlt")).innerHTML=e}))}),t))},GPresetElevation:function(){document.getElementById(this._addUID("GPmousePositionAltitude"))&&(document.getElementById(this._addUID("GPmousePositionAlt")).innerHTML="---")}};function pi(e){return(pi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var fi=mt.getLogger("GeoportalMousePosition"),gi=function(e){function t(o){if(o=o||{},!(this instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this._initialize(o);var n=this._container=this._initContainer(o);e.call(this,{element:n,target:o.target,render:o.render})}return e&&(t.__proto__=e),t.prototype=Object.create(e.prototype,{}),Bt.assign(t.prototype,hi),t.prototype.constructor=t,t.prototype.setMap=function(t){var o=this,n=this;if(t){var r=this._createMapCenter();if(t.getViewport().appendChild(r),this.collapsed||this._isDesktop||(r.className="GPmapCenterVisible"),this.draggable&&ei.dragElement(this._panelMousePositionContainer,this._panelHeaderMousePositionContainer,t.getTargetElement()),this.collapsed||(this._isDesktop?this.listenerKey=t.on("pointermove",(function(e){o.onMouseMove(e)})):this.listenerKey=t.on("moveend",(function(e){return o.onMapMove(e)}))),this.options.editCoordinates){var i=document.createElement("img");i.id=this._addUID("GPmousePositionMarker"),i.src=this._markerUrl,i.title="Cliquer pour supprimer",i.addEventListener("click",(function(){n._markerOverlay.setPosition(void 0)})),this._markerOverlay=new c.a({offset:this._markerOffset,element:i,stopEvent:!1}),t.addOverlay(this._markerOverlay)}}else Object(Ao.b)(this.listenerKey);(e.prototype.setMap.call(this,t),null!==t)&&(this.collapsed||(document.getElementById("GPshowMousePosition-"+this._uid).checked="checked",this._setElevationPanel(this.options.displayAltitude),this._setCoordinatesPanel(this.options.displayCoordinates),this.options.displayCoordinates||this._setSettingsPanel(!1)))},t.prototype.addSystem=function(e){if("object"===pi(e))if(e.crs)if(e.label||(fi.warn("crs label not defined, use crs code by default."),e.label=e.crs),e.type||(fi.warn("type srs not defined, use 'Metric' by default."),e.type="Metric"),ui.loadByName(e.crs),Object(s.t)(e.crs)){for(var t=0;t<this._projectionSystems.length;t++){var o=this._projectionSystems[t];e.crs===o.crs&&fi.info("crs '{}' already configured",o.crs)}e.code=this._projectionSystems.length,this._projectionSystems.push(e);var n=document.getElementById("GPmousePositionProjectionSystem-"+this._uid);if(n){var r=document.createElement("option");r.value=e.code,r.text=e.label,n.appendChild(r)}}else fi.error("crs '{}' not available into proj4 definitions !",e.crs);else fi.error("crs not defined !");else fi.log("[ERROR] MousePosition:addSystem - system parameter should be an object")},t.prototype.addSystems=function(e){if(e)if(Array.isArray(e))for(var t=0;t<e.length;t++)this.addSystem(e[t]);else fi.log("[ERROR] MousePosition:addSystems - systems parameter should be an array")},t.prototype.removeSystem=function(e){if(e&&"string"==typeof e){for(var t=document.getElementById("GPmousePositionProjectionSystem-"+this._uid),o=null,n=0;n<this._projectionSystems.length;n++){var r=this._projectionSystems[n];if(e===r.crs){o=r.code,this._projectionSystems.splice(n,1);break}}if(null!=o){for(var i=[],a=0;a<this._projectionSystems.length;a++)i[Number(this._projectionSystems[a].code)]=a,this._projectionSystems[a].code=a;for(var s=null,l=0;l<t.childNodes.length;l++)o!==t.childNodes[a].value?t.childNodes[a].value=i[Number(t.childNodes[a].value)]:s=l;null!=s&&t.removeChild(t.childNodes[s]),this._currentProjectionSystems.code===Number(o)&&(t.childNodes[0].setAttribute("selected","selected"),this._setCurrentSystem(t.childNodes[0].value))}else fi.log("[WARN] MousePosition:removeSystem - system not found")}else fi.log("[ERROR] MousePosition:removeSystem - systemCode parameter should be a string")},t.prototype.setUnits=function(e){e&&Array.isArray(e)&&(this.options.units=e,this._projectionUnits=[],this._initProjectionUnits(),this._currentProjectionType&&this._setTypeUnitsPanel(this._currentProjectionType))},t.prototype.setAltitudeOptions=function(e){if(e&&"object"===pi(e)&&(this.options.altitude.triggerDelay=e.triggerDelay,this.options.altitude.responseDelay=e.responseDelay,e.serviceOptions))for(var t in e.serviceOptions)e.serviceOptions.hasOwnProperty(t)&&(this.options.altitude.serviceOptions[t]=e.serviceOptions[t])},t.prototype.displayAltitude=function(e){void 0!==e&&(this.options.displayAltitude=e,this._setElevationPanel(e))},t.prototype.displayCoordinates=function(e){void 0!==e&&(this.options.displayCoordinates=e,this._setCoordinatesPanel(e),this._setSettingsPanel(e))},t.prototype.setCollapsed=function(e){void 0!==e?e&&this.collapsed||!e&&!this.collapsed||(this._isDesktop||(document.getElementById("GPmapCenter").className=e?"":"GPmapCenterVisible"),this.onShowMousePositionClick(),this._showMousePositionContainer.checked=!e):fi.log("[ERROR] MousePosition:setCollapsed - missing collapsed parameter")},t.prototype._initialize=function(e){if(e=e||{},this.options=e,this.options.collapsed=void 0===e.collapsed||e.collapsed,this.collapsed=this.options.collapsed,this.options.draggable=void 0!==e.draggable&&e.draggable,this.draggable=this.options.draggable,this._markerOverlay=null,this._markerUrl=null,this._markerOffset=[0,0],this._hideMarker=!1,this._initMarker(e.positionMarker),this.options.units=e.units||[],this.options.displayAltitude=void 0===e.displayAltitude||e.displayAltitude,this.options.displayCoordinates=void 0===e.displayCoordinates||e.displayCoordinates,this.options.displayCoordinates?this.options.editCoordinates=void 0!==e.editCoordinates&&e.editCoordinates:this.options.editCoordinates=!1,this.editing=!1,this.options.systems=e.systems||[],e.altitude){var t=e.altitude;this.options.altitude={triggerDelay:void 0!==t.triggerDelay?t.triggerDelay:200,responseDelay:void 0!==t.responseDelay?t.responseDelay:500,serviceOptions:t.serviceOptions||{},noDataValue:void 0!==t.noDataValue?t.noDataValue:-99999,noDataValueTolerance:void 0!==t.noDataValueTolerance?t.noDataValueTolerance:9e4}}else this.options.altitude={triggerDelay:200,responseDelay:500,serviceOptions:{}};this._uid=So.generate(),this._projectionSystems=[],this._initProjectionSystems(),this._projectionUnits={},this._initProjectionUnits(),this._isDesktop=Bt.detectSupport(),this.options.altitude.triggerDelay<100&&(this.options.altitude.triggerDelay=100),this._timer=this.options.altitude.triggerDelay,this._currentProjectionSystems=this._projectionSystems[0],this._currentProjectionType=this._projectionSystems[0].type,this._currentProjectionUnits=this._projectionUnits[this._currentProjectionType][0].code,this._projectionUnitsContainer=null,this._showMousePositionContainer=null,this._panelMousePositionContainer=null,this._panelHeaderMousePositionContainer=null,this.options.displayAltitude||this.options.displayCoordinates||(this.options.displayCoordinates=!0),this.listenerKey=null},t.prototype._initMarker=function(e){if(this.options.editCoordinates){if(!e)return this._markerUrl=Pt.lightOrange,void(this._markerOffset=Pt.defaultOffset);this._hideMarker=void 0!==e.hide&&e.hide,e.offset?Array.isArray(e.offset)&&2===e.offset.length?this._markerOffset=e.offset:(fi.log("positionMarker.offset should be an array. e.g. : [0,0]"),this._markerOffset=Pt.defaultOffset):this._markerOffset=Pt.defaultOffset;var t=e.url;t?t.match(/^[a-zA-Z]+$/)?this._markerUrl=void 0!==Pt[t]?Pt[t]:Pt.lightOrange:this._markerUrl=t:this._markerUrl=Pt.lightOrange}},t.prototype._initProjectionSystems=function(){for(var e=[{label:"GÃ©ographique",crs:Object(s.t)("EPSG:4326").getCode(),type:"Geographical"},{label:"Web Mercator",crs:Object(s.t)("EPSG:3857").getCode(),type:"Metric"},{label:"Lambert 93",crs:Object(s.t)("EPSG:2154").getCode(),type:"Metric",geoBBox:{left:-9.86,bottom:41.15,right:10.38,top:51.56}},{label:"Lambert II Ã©tendu",crs:Object(s.t)("EPSG:27572").getCode(),type:"Metric",geoBBox:{left:-4.87,bottom:42.33,right:8.23,top:51.14}}],t=this.options.systems,o=0;o<t.length;o++){var n=t[o];this.addSystem(n)}if(0===this._projectionSystems.length)for(var r=0;r<e.length;r++)this.addSystem(e[r])},t.prototype._initProjectionUnits=function(){var e={Geographical:[{code:"DEC",label:"degrÃ©s dÃ©cimaux",format:this._displayDEC},{code:"DMS",label:"degrÃ©s sexagÃ©simaux",format:this._displayDMS},{code:"RAD",label:"radians",format:this._displayRAD},{code:"GON",label:"grades",format:this._displayGON}],Metric:[{code:"M",label:"mÃ¨tres",format:this._displayMeter},{code:"KM",label:"kilomÃ¨tres",format:this._displayKMeter}]},t=this.options.units;for(var o in e)if(e.hasOwnProperty(o)){for(var n=!1,r=0;r<e[o].length;r++)for(var i=e[o][r],a=0;a<t.length;a++){var s=t[a];i.code===s&&(n=!0,this._projectionUnits[o]||(this._projectionUnits[o]=[]),this._projectionUnits[o].push(i))}n||(this._projectionUnits[o]=e[o])}"object"===pi(this._projectionUnits)&&0===Object.keys(this._projectionUnits).length&&(this._projectionUnits=e)},t.prototype._getCurrentProjectionInformation=function(){for(var e=[this._currentProjectionSystems.label,"en"],t=this._projectionUnits[this._currentProjectionType],o=0;o<t.length;++o)if(t[o].code===this._currentProjectionUnits){e.push(t[o].label);break}return e.join(" ")},t.prototype._initContainer=function(){var e=this._createMainContainerElement(),t=this._showMousePositionContainer=this._createShowMousePositionElement();e.appendChild(t);var o=this._createShowMousePositionPictoElement(this._isDesktop);e.appendChild(o);var n=this._panelMousePositionContainer=this._createMousePositionPanelElement(),r=this._panelHeaderMousePositionContainer=this._createMousePositionPanelHeaderElement();n.appendChild(r);var i=this._createMousePositionPanelBasicElement(this.options.displayAltitude,this.options.displayCoordinates,this.options.editCoordinates,this._currentProjectionUnits);n.appendChild(i);for(var a=this._createShowMousePositionSettingsElement(this.options.displayCoordinates),s=0;s<a.length;s++)n.appendChild(a[s]);var l=this._createMousePositionSettingsElement(),c=this._projectionSystemsContainer=this._createMousePositionSettingsSystemsElement(this._projectionSystems),u=this._projectionUnitsContainer=this._createMousePositionSettingsUnitsElement(this._projectionUnits[this._currentProjectionType]);return l.appendChild(c),l.appendChild(u),n.appendChild(l),e.appendChild(n),e},t.prototype._setElevationPanel=function(e){document.getElementById("GPmousePositionAltitude-"+this._uid).style.display=e?"":"none"},t.prototype._setCoordinatesPanel=function(e){var t=document.getElementById("GPmousePositionCoordinate-"+this._uid);t.style.display=e?"":"none"},t.prototype._setSettingsPanel=function(e){var t=document.getElementById("GPshowMousePositionSettingsPicto-"+this._uid),o=document.getElementById("GPmousePositionSettings-"+this._uid);e?(t.style.display="",o.style.display=""):(t.style.display="none",o.style.display="none")},t.prototype._setTypeUnitsPanel=function(e){for(var t=this._projectionUnitsContainer;t.firstChild;)t.removeChild(t.firstChild);for(var o=this._projectionUnits[e],n=0;n<o.length;n++){var r=o[n],i=document.createElement("option");i.value=r.code?r.code:n,i.text=r.label||n,t.appendChild(i)}var a=this._projectionUnits[e][0].code;"DMS"!==this._currentProjectionUnits&&"DMS"!==a||(this._resetCoordinateElements(this.options.editCoordinates,e,a),this._setEditMode(this.editing)),this._currentProjectionType=e,this._resetLabelElements(e),this._resetUnitElements(a),this._currentProjectionUnits=a},t.prototype._displayDEC=function(e){var t={};return t.lat=e[1].toFixed(6),t.lng=e[0].toFixed(6),t.unit="Â°",t},t.prototype._displayDMS=function(e){return{lng:Qr.decimalToDMS(e[0],"EO",2),lat:Qr.decimalToDMS(e[1],"NS",2),unit:"DMS"}},t.prototype._displayRAD=function(e){var t={},o=.017453292519943295;return t.lng=e[0]*o,t.lng=t.lng.toFixed(8),t.lat=e[1]*o,t.lat=t.lat.toFixed(8),t.unit="rad",t},t.prototype._displayGON=function(e){var t={},o=1.1111111111111112;return t.lng=e[0]*o,t.lng=t.lng.toFixed(8),t.lat=e[1]*o,t.lat=t.lat.toFixed(8),t.unit="gon",t},t.prototype._displayMeter=function(e){var t={};return t.x=e[0].toFixed(2),t.y=e[1].toFixed(2),t.unit="m",t},t.prototype._displayKMeter=function(e){var t={};return t.x=(e[0]/1e3).toFixed(2),t.y=(e[1]/1e3).toFixed(2),t.unit="km",t},t.prototype._setCoordinate=function(e,t){var o={},n=this._currentProjectionSystems.crs;if(n){e=Object(s.E)(e,t,n);for(var r=this._currentProjectionSystems.type,i=null,a=this._projectionUnits[r],l=0;l<a.length;l++)if(a[l].code===this._currentProjectionUnits){i=a[l].format;break}i&&"function"==typeof i?(o=i(e))&&0!==Object.keys(o).length&&this.GPdisplayCoords(o):fi.log("WARNING : coordinates format function not found")}else fi.log("ERROR : system crs not found")},t.prototype._setElevation=function(e){var t=this.options.altitude.responseDelay,o=this.options.altitude.noDataValue,n=this.options.altitude.noDataValueTolerance;this.GPdisplayElevation(e,t,o,n)},t.prototype.onMoveStopped=function(e,t){var o=Object(s.E)(e,t,"EPSG:4326");this._setElevation(o)},t.prototype.onMouseMove=function(e){var t=this,o=e.coordinate;if(e.map&&e.map.getView()){var n=e.map.getView().getProjection();this._setCoordinate(o,n),clearTimeout(this._timer),this._timer=setTimeout((function(){t.onMoveStopped(o,n)}),this.options.altitude.triggerDelay)}},t.prototype.onMapMove=function(){var e=this,t=this.getMap();if(t&&t.getView()){var o=t.getView(),n=o.getCenter(),r=o.getProjection();this._setCoordinate(n,r),clearTimeout(this._timer),this._timer=setTimeout((function(){e.onMoveStopped(n,r)}),this.options.altitude.triggerDelay)}},t.prototype.onRequestAltitude=function(e,t){if(e&&0!==Object.keys(e).length&&this.options.displayAltitude){var o=this.options.altitude.serviceOptions||{},n=o.protocol||"XHR",r=o.timeOut||0;"JSONP"===n&&0===r&&(r=15e3);var i,a=o.outputFormat||"json";i=!1!==o.zonly||o.zonly;var s,l=o.measures||!1,c=[{lon:e[0],lat:e[1]}],u=o.resource,d=o.rawResponse||!1,h=o.onSuccess||null,p=null;p=d?function(e){h&&h.call(this,e),fi.log("alti service raw response : ",e)}:function(e){e&&Object.keys(e).length&&(h&&h.call(this,e),t.call(this,e.elevations[0].z))},s=function(e){fi.log("[getAltitude] ERROR : "+e.message)};var f=o.apiKey||this.options.apiKey;"boolean"!=typeof o.ssl&&("boolean"==typeof this.options.ssl?o.ssl=this.options.ssl:o.ssl=!0);var g=o.ssl;gt.Services.getAltitude({apiKey:f,protocol:n,ssl:g,timeOut:r,scope:this,outputFormat:a,rawResponse:d,onSuccess:p,onFailure:s,zonly:i,measures:l,resource:u,positions:c})}},t.prototype.onShowMousePositionClick=function(){var e=this,t=this.getMap();Wr.unset(t),this.collapsed=this._showMousePositionContainer.checked,this.dispatchEvent("change:collapsed"),this._showMousePositionContainer.checked?Object(Ao.b)(this.listenerKey):this.editing||(this._isDesktop?this.listenerKey=t.on("pointermove",(function(t){e.onMouseMove(t)})):(this.listenerKey=t.on("moveend",(function(t){return e.onMapMove(t)})),this.onMapMove())),this._setElevationPanel(this.options.displayAltitude),this._setCoordinatesPanel(this.options.displayCoordinates),this.options.displayCoordinates||this._setSettingsPanel(!1)},t.prototype.onShowMousePositionSettingsClick=function(e){if(!this.draggable){this._panelMousePositionContainer.style.transition="top 0.5s ease-out 0s",this._panelMousePositionContainer.style.transitionProperty="top",this._panelMousePositionContainer.style.transitionDuration="0.5s",this._panelMousePositionContainer.style.transitionTimingFunction="ease-out",this._panelMousePositionContainer.style.transitionDelay="0s";var t=this._panelMousePositionContainer.offsetTop;document.getElementById(e.target.htmlFor).checked?this._panelMousePositionContainer.style.top=t- -95+"px":this._panelMousePositionContainer.style.top=t+-95+"px"}},t.prototype.onMousePositionEditModeClick=function(e){var t=this;if(this.options.editCoordinates&&this.editing!==e){this.editing=e,this._setEditMode(this.editing);var o=this.getMap();this._isDesktop?this.editing?Object(Ao.b)(this.listenerKey):(this.listenerKey=o.on("pointermove",(function(e){t.onMouseMove(e)})),this.onMapMove()):this.editing?Object(Ao.b)(this.listenerKey):(this.listenerKey=o.on("moveend",(function(e){return t.onMapMove(e)})),this.onMapMove()),!this.editing&&this._markerOverlay&&this._markerOverlay.setPosition(void 0)}},t.prototype.getCoordinate=function(e){var t=document.getElementById(this._addUID("GPmousePosition"+e+"Degrees")),o=t.value;if(!o)return null;if(o=o.replace(",","."),!Qr.isInteger(o))return null;var n=Qr.toInteger(o);if(n<Number(t.dataset.min)||n>Number(t.dataset.max))return null;var r=document.getElementById(this._addUID("GPmousePosition"+e+"Direction")).value,i=document.getElementById(this._addUID("GPmousePosition"+e+"Minutes")),a=i.value;if(a&&(a=a.replace(",","."),Qr.isInteger(a))){var s=Qr.toInteger(a);s>=Number(i.dataset.min)&&s<=Number(i.dataset.max)&&(n+=s/60)}var l=document.getElementById(this._addUID("GPmousePosition"+e+"Seconds")),c=l.value;if(c){c=c.replace(",",".");var u=Qr.toFloat(c);u&&u>=Number(l.dataset.min)&&u<=Number(l.dataset.max)&&(n+=u/3600)}return"O"!==r&&"S"!==r||(n=-n),n},t.prototype.locateDMSCoordinates=function(){var e=[this.getCoordinate("Lon"),this.getCoordinate("Lat")];if(null!==e[0]&&null!==e[1]){var t=this._currentProjectionSystems.crs;if(t){var o=this.getMap().getView(),n=Object(s.E)(e,t,o.getProjection());o.setCenter(n),this._markerOverlay&&!this._hideMarker&&this._markerOverlay.setPosition(n)}else fi.log("ERROR : system crs not found")}},t.prototype.locateCoordinates=function(){var e=document.getElementById(this._addUID("GPmousePositionLon")).value;if(e=e.replace(",","."),null!==(e=Qr.toFloat(e))){var t=document.getElementById(this._addUID("GPmousePositionLat")).value;if(t=t.replace(",","."),null!==(t=Qr.toFloat(t))){var o=this._currentProjectionSystems.crs;if(o){var n;n="Geographical"===this._currentProjectionSystems.type?[this.convert(e),this.convert(t)]:[this.convert(t),this.convert(e)];var r=Object(s.E)(n,this._currentProjectionSystems.crs,"EPSG:4326"),i=this._currentProjectionSystems.geoBBox;if(i){var a=[i.left,i.bottom,i.right,i.top];if(r[0]<a[0]||r[0]>a[2])return;if(r[1]<a[1]||r[1]>a[3])return}var l=this.getMap().getView(),c=Object(s.E)(n,o,l.getProjection());l.setCenter(c),this._markerOverlay&&!this._hideMarker&&this._markerOverlay.setPosition(c)}else fi.log("ERROR : system crs not found")}}},t.prototype.onMousePositionEditModeLocateClick=function(){if(this.options.editCoordinates)if(this.editing){"DMS"===this._currentProjectionUnits?this.locateDMSCoordinates():this.locateCoordinates();var e=this.options.mapCenterCallback;if("function"==typeof e){var t=this.getMap().getView().getCenter();e.call(this,t)}}else this.onMousePositionEditModeClick(!0)},t.prototype.onMousePositionProjectionSystemChange=function(e){var t=e.target.selectedIndex,o=e.target.options[t].value;this._setCurrentSystem(o)},t.prototype._setCurrentSystem=function(e){for(var t=null,o=0;o<this._projectionSystems.length;++o)if(this._projectionSystems[o].code===Number(e)){t=this._projectionSystems[o].type;break}t?(this._currentProjectionSystems=this._projectionSystems[Number(e)],t!==this._currentProjectionType&&this._setTypeUnitsPanel(t),this._isDesktop||this.onMapMove()):fi.log("system not found in projection systems container")},t.prototype.onMousePositionProjectionSystemMouseOver=function(e){fi.trace(e);var t=this.getMap();if(t&&t.getView()){var o=t.getView(),n=o.getProjection(),r=o.calculateExtent(t.getSize());r=Object(s.F)(r,n,"EPSG:4326");var i=document.getElementById(this._addUID("GPmousePositionProjectionSystem"));i.innerHTML="";for(var a=0;a<this._projectionSystems.length;a++){var l=this._projectionSystems[a],c=null;if(l.geoBBox&&(r[0]>l.geoBBox.right||r[1]>l.geoBBox.top||r[2]<l.geoBBox.left||r[3]<l.geoBBox.bottom))l===this._currentProjectionSystems&&((c=document.createElement("option")).value=l.code,c.text=l.label||a,c.setAttribute("selected","selected"),c.setAttribute("disabled","disabled"),i.appendChild(c));else{var u=document.createElement("option");u.value=l.code,u.text=l.label||a,l===this._currentProjectionSystems&&u.setAttribute("selected","selected"),i.appendChild(u)}}}},t.prototype.onMousePositionProjectionUnitsChange=function(e){var t=e.target.selectedIndex,o=e.target.options[t].value,n=this._currentProjectionUnits;this._currentProjectionUnits=o,this._resetLabelElements(this._currentProjectionType),this._resetUnitElements(this._currentProjectionUnits),"DMS"!==n&&"DMS"!==this._currentProjectionUnits||(this._resetCoordinateElements(this.options.editCoordinates,this._currentProjectionType,this._currentProjectionUnits),this._setEditMode(this.editing)),this._isDesktop||this.onMapMove()},t.prototype.convert=function(e){var t;if("M"===this._currentProjectionUnits||"DEC"===this._currentProjectionUnits)t=e;else if("KM"===this._currentProjectionUnits)t=1e3*e;else if("RAD"===this._currentProjectionUnits){t=(e*(180/Math.PI).toFixed(20)).toFixed(20)}else if("GON"===this._currentProjectionUnits){t=(e*.9.toFixed(20)).toFixed(20)}return t},t.prototype.validateExtentCoordinate=function(e,t){if(-1===["Lon","Lat"].indexOf(e))return!1;var o=t.replace(",",".");if(null===(o=Qr.toFloat(o)))return!1;o=this.convert(o);var n=this._currentProjectionSystems.geoBBox;if(void 0===n)return!0;var r=[n.left,n.bottom,n.right,n.top];return r=Object(s.F)(r,"EPSG:4326",this._currentProjectionSystems.crs),("Lat"!==e||!(o<r[0]||o>r[2]))&&("Lon"!==e||!(o<r[1]||o>r[3]))},t}(Oo.a),mi=gi;window.ol&&window.ol.control&&(window.ol.control.GeoportalMousePosition=gi);var yi=o("./node_modules/ol/Collection.js"),vi=o("./node_modules/ol/layer/Vector.js"),_i=o("./node_modules/ol/geom/Point.js"),bi=o("./node_modules/ol/geom/MultiPoint.js"),Ai=o("./node_modules/ol/geom/LinearRing.js"),Ci=o("./node_modules/ol/events/condition.js"),wi=o("./node_modules/ol/sphere.js"),Ei={drawing_portail:[{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAClFBMVEUAAAD//////////////////////////////////////////////////////////fv/+fL//////////////////////////////////////////////////////////////////////////////////////v7//////fr/////+vL//////////////////Pj//////////////////////////////////////////////////////////////////////////v7//////////////////////////////////////v7//////////////////////////////////////////////////////////////////////////////v7/////////////9+v/9ej/9+z/7tT/3q3/y3//v2D/uU//+O7/5L3/xW//piH/mQH/mAD//v7/79f/yXj/oxr/lwD/mQD//fv/58T/tkr/mQL//v3/58P/sTz/79b/tUf/x3X/mQP/5Lv/oRX/ng3/s0H/w2n/u1b/4rf/8Nr/9eb/7tX/pBv/x3P/8d7/3av/79j///7/zH//mgX/2qP//vz/9+3/wGH/qyz/6Mb/vFj/sj//7NH/wGL/rTP/6sr/+fH/yXf/oBP/37H/2aH/6sz/nw//oBT/0pD/+vT/9OX/uE7/pB3/y33/7ND//Pj/26b/mwj/nAn/sT7/w2r/zYL/8+P/ulT/mwb/5Lz/qCj/+/b/1JT/nQz/nQ3/9uj/w2j/mAH/9un/6sv/skH/lwH/3Kf/pB7/pR7/3Kj/nAj/y37/+/f/8t//mQT/rDD/rDH/1JX/7tb/4LT/pR//z4j/z4n/vFn/7dP/4rn//fq31ydlAAAAY3RSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD++P3qw/2N+0j2GMcHYx68BOkMd/x2IKf+pjrS0WDvXxSL+Cy3TEsIdRyhoDXINOSK8rY72mnrhe2jCycJAAAAAWJLR0QB/wIt3gAAAAd0SU1FB+cFGQAhKnVAysoAAAMmSURBVDjLY2AAA0ZGJmYWVjZ2juRkDnY2VhZmJkZGBiTAyMnFzcPLxy+QkpqaIsDPx8vDzcWJpIJRUEhYRDQtPSMzKzs7KzMjPU1URFhIEK6CUUxcIjknNy+/oBAMCvLzcnOSJcTFGGHyklJFxSWlZYWF5WBQWFhWWlJcJCUJUcEoLSNbUVlVDZWFqqmuqqyQlZEGqZCTV6iprStDkQeqKKurrVGQlwMawMWTXN+ALg9S0VCfzMPFyCAorpjW2ASzvQwIYOymxjRFcUEGLqWa5pZCqONa27Ky2lqhji1saa5R4mJQVklpL4M6rKOzq7u7q7MD6uCy9hQVZQZVtZ5eML+woK+/KBkIivr7CiAivT1qqgzqGhPA3MKy7ImTksFg0sRssEMKCyZoqDNoak2GKJ8ydVoyFEybOgUiNllLk0F7+gwwp2zmrGQ4mDUT7KzCGdO1GZJTZkMUzJmLUDB3DkTB7JRkBp3p8yAK5i9AKFgwH6Jg3nQdBt2FiyD2LV5SBJMvWrIYIrZooS6Dnv5SCKesPQ2mIK0dEpyFS/X1GAwMly2H8FasXAWRX7VyBURk+TJDAwYj49VroAG3dt16oC1F69ethQbtmtXGRgwmphs2boKq2Lxl67ZtW7dshspv2rjB1ITBzFxn+44yeGTu3AmPzrId23XMzRg4LSwrdu2GJQdQkoQxd++qsLTgZGC0MrLes3cfZoLZv3ePtZEVMM0x2tjqHDh4CD3JHdp62M7eBpxqOR0cnY4cPYaaaI8dPeLk7MAJSfZyLq4Vx08UIqkoLDx5qsLNRQ6WMQTdPfasO42sYPOZsx6eiKzF6eXtc27HebiKwvM7zvl4e3EiZU5fv+TcC4icdTFX1M8XNXv7yyZfaoEpaLmULBuAIs/AEGivsrAd4ozCze0LVYICUeUZGIND+C63gTJQYVNbMV9oMJoBQBVh4clXroKC+uqV5PAIDHmgCsnIimv7Cgv3Xa+IlMQiDwzyqOiUG1Om3EiJjrLBpgDojBi7mxcu3LSLCcYqD1QRGzft1q1pcbE45IExH59w+3ZCvBUuBUBnJCYlJaI6AABB269xUXFElwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wNS0yNVQwMDoyOTozNyswMDowMEpaoL8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDUtMjRUMjI6NDM6MjIrMDA6MDB1WI3HAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg==",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACplBMVEUAAAD//////////////////////////////////////////////////////////fz/9/P//////////////////////////////////////////////////////////////////////////////////////v7//////Pr/////////////////////+/n//////////////////////////////////////////////////////////////////////////v7//////////////////////////////////////v7//////////////////////////////////////////////////////////////////////////////v7/////////////8+3/8er/9O7/5dj/zrX/s4z/oHH/lmL/9fD/2MT/qX7/ejj/Zxz/Zhn/Zhr//v7/59z/rof/djL/ZBf/Zxv//fz/3Mr/k13/aBz/ZRn//f3/i1D/5tr/kVr/ZRj/rIP//v3/1sL/cy3/byf/jVX/pnn/aB3/mmf/077/6d7/8On/5tn/dzT/q4H/6+H/zbP/lmH/s43/ah//yK3/9O//oXL/gUP/3cz/m2n/jVT/5Nb/onP/hkn/4ND/9vL/rob/cSv/0Ln/x6r/Zxr/Yxb/pXn/8+7/4NH/cCj/ciz/vZz/+PX/7+f/lWH/eDT/sov/49X/+/n/ya//ayH/bCP/jFL/pnr/tJD/7ub/mWb/ZBb/aiD/18P/fj3/+vf/vp//bSX/bib/v5//pXj/8uv/yrD/eDX/eTb/y7H/bCL/soz/7OL/18T/g0b/hEb/v6D/cy7/wKH/9vP/5tv/jlX/59v/0rz/ejf/uJX/nGr/aR//nGv/g0X/1cD//PvyoJNrAAAAYnRSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD4/erD/Y37SPYYxwdjHrwE6Qx3/HYgp/6mOtLRYO9fFIv4LLdMSwh1HKGgNcg05IrytjvaaeuF7djGYAwAAAABYktHRAH/Ai3eAAAAB3RJTUUH5wUZACErAkf6XAAAA0JJREFUOMtjYAADRkYmZhZWNnaOpCQOdjZWFmYmRkYGJMDIycXNw8vHL5CckpIswM/Hy8PNxYmkglFQSFhENDUtPSMzKyszIz0tVVREWEgQroJRTFwiKTsnNy+/oBAICvLzcnOykyTExRhh8pJSRcUlpWWFheVgUFhYVlpSXCQlCVHBKC0jW1FZVV1TjgRqqqsqK2RlpEEq5OQVaivrygrLUUBhWV1lrYK8HNAALp6k+oZGNHmgisaG+iQeLkYGQXHF1KZ8mO2NZWUwtYX5TamK4oIMXErNLa0FEKGatvbMzPa2GoiSgtaWZiUuBmWV5I5GiHxnV3dPb29Pd1cnREVjR7KKMoOqWl9/IcTICROLkoCgaOIEiJWF/X1qqgzqGpPA3MKyycVgeaCK4slgTxXmT9JQZ9AUmAJRPnVaRRIUVEybChGbIqDJoDV9BpjTOHNWEhzMmgl2VuGM6VoMScmzwQrK5sxFKJg7pwysYHZyEoP29HkQE+YvQChYMB9iwrzp2gw6CxeBFRQsXlIEky9ashgcMoWLFuow6OotBXOWLV+xEqZg5Yrly8CalurpMugbrFoNMWLN2nUQ+XVr10AMWL3KQJ/B0Gj9BkhINm7ctBkkv3nTRqjAhvVGhgzGJlu2boMG7fYdO3ft2rljOzTot23dYmLMYGqmvXvPXmgE7i3bt69sLzQ69+7ZrW1mysBpblGx/0AjLLGBAITdeGB/hYU5JwOjpaHVwUOHMRPMkaMHrQwtgWmO0dpGO+VYAXqSK+g4bmtnDU61nPYOjgvaURNdYWP7Kkcne05Ispdzdqk4cbIGSUVhzanTFa7OcrCMIejmfnDTmQKEgoIzZw+6eyCyFqenl/e5PeVwIwrL95zz9vLkRMqcPr5J5y/AHFpYcPG8qK8Pavb2k026dBkaGo2XryTJ+qPIMzAE2KlcXbEN7IyCbR1XVQIDUOUZGIOC+a61VwMtKay+foMvJAjNAKCK0LCkm7dAIX3rZlJYOIY8UIVkRMXtI4WFR25XREhikQcGeWRU8p27d+8lR0VaY1MAdEa0bdr9+2m20UFY5YEqYmJrHzyojY3BIQ+M+bj4hw/j4yxxKQA6IyExMQHVAQBpWLIaKI0lIgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wNS0yNVQwMDoyOTozNyswMDowMEpaoL8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDUtMjRUMjI6NDQ6MDYrMDA6MDAh7rXQAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg==",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACbVBMVEUAAAD/////////////////////////////////////////////////////////+/v/8vL//////////////////////////////////////////////////////////////////////////////////////v7/////+vr/////////////////////+Pj//////////////////////////////////////////////////////////////////////////v7//////////////////////////////////////v7//////////////////////////////////////////////////////////////////////////////v7/////////////6+v/6Oj/7Oz/1NT/ra3/f3//YGD/T0//7u7/vb3/b2//ISH/AQH/AAD//v7/19f/eHj/Ghr/+/v/xMT/Skr/AgL//f3/w8P/PDz/1tb/R0f/dXX/AwP/u7v/FRX/DQ3/QUH/aWn/Vlb/t7f/2tr/5ub/1dX/Gxv/c3P/3t7/q6v/2Nj/BQX/o6P//Pz/7e3/YWH/LCz/xsb/WFj/Pz//0dH/YmL/MzP/ysr/8fH/d3f/ExP/sbH/oaH/zMz/Dw//FBT/kJD/9PT/5eX/Tk7/HR3/fX3/0ND/+Pj/pqb/CAj/CQn/Pj7/amr/goL/4+P/VFT/Bgb/vLz/KCj/9vb/lJT/DAz/aGj/6en/y8v/p6f/Hh7/qKj/fn7/9/f/39//BAT/MDD/MTH/lZX/tLT/Hx//iIj/iYn/WVn/09P/ubn/+vpgzcAPAAAAYnRSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD4/erD/Y37SPYYxwdjHrwE6Qx3/HYgp/6mOtLRYO9fFIv4LLdMSwh1HKGgNcg05IrytjvaaeuF7djGYAwAAAABYktHRAH/Ai3eAAAAB3RJTUUH5wUZACErAkf6XAAAAu1JREFUOMtjYAADRkYmZhZWNnaOpCQOdjZWFmYmRkYGJMDIycXNw8vHL5CckpIswM/Hy8PNxYmkglFQSFhENDUtPSMzKyszIz0tVVREWEgQroJRTFwiKTsnNy+/AAzy83JzspMkxMUYYfKSUoVFxSUFSKCkuKhQShKiglFaRra0rLyiAAVUlJeVyspIg1TIyStUVlUXYIDqqkoFeTmgAVw8STW1BVhAbU0SDxcjg6C4YmpdPTYF9XWpiuKCDFxKlQ2NMLGm5szM5iYYr7GhUomLQVkluQXmsNa29o6O9rZWmINbklWUGVTVOrug3u/uKUwCgsKebmiAdHWqqTKoa/RCuVl9YHmgir4sqJZeDXUGTYEMCK9/wsQkKJg4oR8iliGgyaA1aTKEM2VqEhxMnQIRmzxJiyEpeRqEM30GQsGM6RCxaclJDNqTZkI4s2YjFMyeBRGbOUmbQWfOXAhn3vxCmHzh/HkQsblzdBh09RbAfJ0KU5AKC5kFeroM+gYLF0F4i5cshcgvXbIYIrJooYE+g6HRsuVQ9StWrgLaUrhq5QqowPJlRoYMxiar16yFCqxbv2Hjxg3r10G5a9esNjFmMDXT3rQZEYVbtiDYmzdpm5kycJpblG7dhi26t20ttTDnZGC0NLTavmMnpnzTju1WhpbANMdobaOdsisfXT5/w25bO2twquW0d3Dc04ymIr95j6OTPSck2cs5u5Tu3YeqYN/+UldnOVjGEHRz375yLbL8ugMH3T0QWYvT08v70ObDCPnDmw95e3lyImVOH9+knCMIBUdzRH19ULO3n2zSMXjibjyWJOuPIs/AEGCnMqcF6ox1LXNUAgNQ5RkYg4L5aprBGai+uYgvJAjNAKCK0LCk4ydACk4cTwoLx5AHqpCMKD0JDPKdp0ojJLHIA4M8Mir5dH//6eSoSGtsCoDOiLY9c+TIGdvoIKzyQBUxsRPPnp0YG4NDHhjzcfHnzsXHWeJSAHRGQmJiAqoDAOgCnVLAYqeOAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA1LTI1VDAwOjI5OjM3KzAwOjAwSlqgvwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNS0yNFQyMjo0NDoxOSswMDowMBsMxacAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAAAAElFTkSuQmCC",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACf1BMVEUAAAD//////////////////////////////////////////////////////////P3/9Pn//////////////////////////////////////////////////////////////////////////////////////v7/////+/3/////9fr/////////////////+vz//////////////////////////////////////////////////////////////////////////v7//////////////////////////////////////v7//////////////////////////////////////////////////////////////////////////////v7/////////////7/f/7PX/8Pf/3O7/vd7/mcv/gL//c7n/8fj/yuT/jMX/Tab/NJn/MZj/Mpj//v7/3+//k8n/R6P/L5f/M5n//P3/0Of/brb//f7/z+f/Y7H/MJf/bLX/kcf/yeT/Q6H/PZ7/ZrP/h8P/d7v/xeL/4fD/6/X/3e7/SaT/j8f/5PH/u93/crn//v//mMz/N5r/tdr/gcD/Vqv/0ej/ebz/ZrL/2uz/gsD/XK3/1er/8/n/ksn/QaD/wN//tNn/1ur/P5//QqD/ptL/9vr/6vT/cbj/l8v/+vz/t9v/OJv/Opz/ZLH/iMP/m83/6fP/d7r/N5v/Uqj/Mpn/+Pv/qdT/PJ3/7fb/Z7L/uNz/SqT/S6X/udz/OZz/mMv/5fL/drr/Waz/Wqz/qtT/RKH/q9T/9Pn/3u7/Z7P/w+D/TKX/oM//PZ3/erz/Npr/3O3/x+L/+/0F2pMDAAAAY3RSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD++P3qw/2N+0j2GMcHYx68BOkMd/x2IKf+pjrS0WDvXxSL+Cy3TEsIdRyhoDXINOSK8rY72mnrhe2jCycJAAAAAWJLR0QB/wIt3gAAAAd0SU1FB+cFGQAhKwJH+lwAAAM4SURBVDjLdZNnWxNBFIVnEZGEGpBeROkSuoIUwS4KFkTFQp+wFEWzk+AmEFhEDBZQlA5ioxcRsCDYELADSvlBbnY2kACeTztz3r1znztnAOBEEAYbDDcabTKG0HiT0UbDDQYEAXRECIQmpmbmFpaS7GyJpYW5mamJUKBDECIr6802ZE5uXv6lS/l5uTmkzWZrK9EyQdja2cPLBVeuSinEipJevVJwGdrb2RJa38FRJi+8RiOk4IQQfa1QLnN0wATh5OyiLCqWUgodUdLiIqWLs5OGcN3ipiopZZBCT4gpLVG5bXFlCwhNobxsta8hyuTQVEgAkd1W8rpUezrDSvstvU5utRMB4TZV+Q18PqIqbubn36ygMELdKFdtEwJ3D4ma4X+pvHX7zp3btyr5goxa4uEOPL3uViHsV9+TQVaye9WYQFV3vTyBt899bomYGvkDyOmBvIZrBEnv+3gD3+0PMV5bp4K8VHW1eO/hdl/gR9ZzC6ahES6rsYFrC9WTfgBKmjiAbm5ZAVqaaQ5okkAgJltxhUdtK0DbI1yhlRQD/8dPOIB6+kym9WXPnnKTQU8e+4OAwOe4IVpNagFSTeO954EBICi4vQOvOru6sd/d1Yl3OtqDg0BIaE8vnjRT1dfCniJr6avCo6V6e0JDwI6d/QMv+NEOvhwaHh56OciP/sVA/84dICxcPPKK5i+Qpl+/pmn+OulXI+LwMCDYFaEsf8PH6a0mk2/5UL0pV0bsEgAiMiRq9N3Y2sCMvRuNColkM0dE7xaPq6nVkaPU4zGx0VxqBXv27mtr1g8dYt637du/R4Bj73rgoPLDR90aiPr0WXnogKv2YYgOx432Tejknhr8Mhp3ZOVpCY7GJ0xOKZZLIMXUZEL8UYHO4zx2HBZMaw9B1NcCm+PH9J/3CRf47Tt/CPX9B3Q5qecDkBjr8VON26Amhn56nErU9wGRdNr8129NfJH0t9z8TNKqAixxNhnOzGpGPTsDk8+t8VnC4bxybgyhP3PK8w7r+OzIL1yU/J2f/yu5eCF6PYBtIyVmYXp6ISYlaV2fJVLTVIuLqrTU//jszadnLC1lpEf+D2DbyMzKytRv4B+n7ayGbXJj1gAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wNS0yNVQwMDoyOTozNyswMDowMEpaoL8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDUtMjRUMjI6NDQ6MjkrMDA6MDCVg8JEAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg==",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACslBMVEUAAAD////////////////////////////////////////////////////////+/fz79/T////////////////////////////////////////////////////////////////////////////////////+/v7////9/Pv////79/X////////////////9+/r////////////////////////////////////////////////////////////////////////+/v7////////////////////////////////////+/v7////////////////////////////////////////////////////////////////////////////+/v7////////////58+/48ez69PDz5dzpzr3cspnUoIDQlXP69PHt18rYqIzDeU27ZjS6ZTG6ZTL+/v7059/brpPCdUe6Yy+7ZjP+/fzv29DOkm67ZzS6ZDH+/f3v28/LiWO6YzD05t/OkGy6ZDDarJH+/v3t1snAckO+bj3MjWbUn4DXpYfRmXfr08X16eH48Ovz5t3CdknZqo/26+TozLvQlXL//v7dspi8aTfmyLXUoIHGgFbv3NHSm3m5Yy/LjGby49rVoYLIhVzx39X79vPbrZK/cEHq0MDmxrS6ZjK5Yi/58/Dx4Na+bz/AcULhvab8+Pb47+rPlHHCd0ncsZf9+/rnybe9aji9azrLi2TXpojdtJv37unt18nFfVK7ZTL8+vjivqm+bTziv6n58e3WpIfWpYfx4NXMjWfnyrjCd0rDeEvoyrm9azncsZj27OXRmHbHg1nIg1rt2Mriv6rAckTjwKv79vS8ajm9ajnXpYj05t7r0sPDeUzfuKC+bT3Sm3q8aTbIglns1cf9/Pua7OXrAAAAY3RSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD++P3qw/2N+0j2GMcHYx68BOkMd/x2IKf+pjrS0WDvXxSL+Cy3TEsIdRyhoDXINOSK8rY72mnrhe2jCycJAAAAAWJLR0QB/wIt3gAAAAd0SU1FB+cFGQAhKwJH+lwAAANISURBVDjLY2AAA0ZGJmYWVjZ2juRkDnY2VhZmJkZGBiTAyMnFzcPLxy+QkpqaIsDPx8vDzcWJpIJRUEhYRDQtPSMzKzs7KzMjPU1URFhIEK6CUUxcIjknNy+/oLAICAoL8vNyc5IlxMUYYfKSUsUlpWXlRUUVYFBUVF5WWlIsJQlRwSgtI1tZVV1TW4EEamuqqyplZaRBKuTkFerqGxqLKlBAUWNDfZ2CvBzQAC6e5KbmFjR5oIqW5qZkHi5GBkFxxbTWApjtLY2NMLVFBa1piuKCDFxKbe0dhRCh2s6u7u6uzlqIksKO9jYlLgZllZSeFoh8TW9f/4QJ/X29NRAVLT0pKsoMqmoTJxVBjJw8pTgZCIqnTIZYWTRpopoqg7rGVDC3qHFayfRkMJheMg3sqaKCqRrqDJpaMyDKZ86qS4aCulkzIWIztDQZtNNmgzktc+Ymw8HcOWBnFc1O02ZITpkHVjB/wUKEgoUL5oMVzEtJZtBJWwQxYfEShIIliyEmLErTYdBdugysoHD5imKYfPGK5eCQKVq2VJdBT38lWMGq1T1rYArW9KxeBVawUl+PwcBw7TqIk9dv2AiR37hhPURk3VpDAwYj402bITHdsmXrQqAtxQu3boEEbe3mTcZGDCam27bvgAbtzl279+zZvWsnNOh3bN9masJgZq6zt3c+NALnz585c/58aHTO792rY27GwGlhWblvPzQ5HQClyQPQRLV/X6WlBScDo5WR9cFDhzETzOEjB62NrIBpjtHGVufosUL0JFd4/KidvQ041XI6ODqd6EJNdEUtJ084OTtwQpK9nItr5anTtUgqimrPnK10c5GDZQxBd4+DW88VIhQU7jx/0MMTkbU4vbx9LlysgBtRVHHxgo+3FydS5vT1S869BHNoUeHlK6J+vqjZ2182+eo1aGjUXrueLBuAIs/AEGivcqPnJtgZhbdu31AJCkSVZ2AMDuG7cxKU3otqTpbwhQajGQBUERaefPceKKjv3U0Oj8CQB6qQjKy8f7io6MH9ykhJLPLAII+KTnn46NHDlOgoG2wKgM6IsUt//DjdLiYYqzxQRWxc3ZMndXGxOOSBMR+f8PRpQrwVLgVAZyQmJSWiOgAArqa4BP2YBKMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDUtMjVUMDA6Mjk6MzcrMDA6MDBKWqC/AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA1LTI0VDIyOjQ0OjQ2KzAwOjAwpaS7KgAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAASUVORK5CYII=",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAChVBMVEUAAAD//////////////////////////////////////////////////////////vv//fL//////////////////////////////////////////////////////////////////////////////////////v7//////vr//////////////////////vj//////v///////////////////////////////////////////////////////////////////v7//////////////////////////////////////v7//////////////////////////////////////////////////////////////////////////////v7//////////////Ov/++j//Oz/+dT/863/7X//6mD/50///O7/9r3/62//4SH/3QH/3AD//v7/+df/7Xj/4Br/3QD//vv/98T/5kr/3QL//v3/98P/5Tz/+db/5kf/7HX/3QP/9rv/4BX/3g3/5UH/6WD/62n/6Fb/9bf/+tr/++b/+dX/4Bv/7HP/+t7///7/86v/+dj/3QX/8qP//vz//O3/6mH/4iz/98b/6Fj/5T//+dH/6mL/4zP/+Mr//fH/7Hf/3xP/9LH/8qH/6mn/+Mz/3g//3xT/8JD//fT/++X/507/4B3/7X3/+ND//vj/86b/3Qj/3gn/5T7/62r/7oL/++P/6FT/3Qb/9rz/4ij//fb/8ZT/3gz//Oj/62j/3AH//On/+Mv/86f/4R7/86j/7n7//vf/+t//3QT/4zD/4zH/8JX/3xX/3gj/9bT/4R//74j/74n/6Fn/+dP/9bn//vrsMn7uAAAAYnRSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD4/erD/Y37SPYYxwdjHrwE6Qx3/HYgp/6mOtLRYO9fFIv4LLdMSwh1HKGgNcg05IrytjvaaeuF7djGYAwAAAABYktHRAH/Ai3eAAAAB3RJTUUH5wUZACErAkf6XAAAAxZJREFUOMtjYAADRkYmZhZWNnaOpCQOdjZWFmYmRkYGJMDIycXNw8vHL5CckpIswM/Hy8PNxYmkglFQSFhENDUtPSMzKyszIz0tVVREWEgQroJRTFwiKTsnNy+/AAzy83JzspMkxMUYYfKSUoVFxSVAqVIwADJKiosKpSQhKhilZWTLyisqobJQNZUV5WWyMtIgFXLyClXVNQUo8iBTaqqrFOTlgAZw8STV1qHLg1TU1SbxcDEyCIorptY3IGxHuKShPlVRXJCBS6mqsakAKt3c0tra0gxVUtDUWKXExaCsktwGFahs7+js6ursaIc6uKAtWUWZQVWtuwfML8jv7etPAoL+vt58iEhPt5oqg7rGBDC3oCBrYmESGBROzALbUpA/QUOdQVMgA6J80uQpSVAwZfIkiFiGgCaD1tRpEM70GUlwMGM6RGzaVC2GpOSZEM6s2QgFs2dBxGYmJzFoT50D4cydh1Awby5EbM5UbQad+QsgnIWLCmHyhYsWQsQWzNdh0NVbDPX1klSYgtQlUKHFeroM+gZLl0GUL1+xEiK/csVyiMiypQb6DIZGq1ZD1a9Zuw5oS+G6tWugAqtXGRkyGJus37ARKrBp85atW7ds3gTlbtyw3sSYwdRMe9t2RGTu2IGIzu3btM1MGTjNLcp27oIlB0Rslxbs2llmYc7JwGhpaLV7z17MBNO8Z7eVoSUwzTFa22jv238APckd2HLQ1s4anGo57R0cD7Wgqig40HLI0cmeE5Ls5Zxdyg4fQVZQUHDkaJmrsxwsYwi6ue9euxFJRcGmY8fdPRBZi9PTy/vE9pNwFQUnt5/w9vLkRMqcPr5JOacQOet0jqivD2r29pNNOnMWpuDsmSRZfxR5BoYAO5X5becgcbSpbb5KYACqPANjUDBfbQsoAxU0tBTxhQShGQBUERqWdP4CKKgvnE8KC8eQB6qQjCi7uLegYO+lsghJLPLAII+MSr48adLl5KhIa2wKgM6Itr1y6tQV2+ggrPJAFTGxU65enRIbg0MeGPNx8deuxcdZ4lIAdEZCYmICqgMA6f6os3UKuXAAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDUtMjVUMDA6Mjk6MzcrMDA6MDBKWqC/AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA1LTI0VDIyOjQ0OjU4KzAwOjAwOTHA6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAASUVORK5CYII=",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACr1BMVEUAAAD////////////////////////////////////////////////////////7/v3y+/n////////////////////////////////////////////////////////////////////////////////////+/v7////6/f3////y+/r////////////////4/fz//////v/////////////////////////////////////////////////////////////////+/v7////////////////////////////////////+/v7////////////////////////////////////////////////////////////////////////////+/v7////////////r+ffo+PXs+ffU8+2t591/28tg0r5Pzbju+vi97ORv1sQhwKUBt5gAtpf+/v7X9O942ckavqIAtZYAt5j7/v3E7udKy7UCt5j9/v7D7uY8x7DW8+5Hy7QAtpZ118cDt5i77OQVvKANup1BybJg0b5p1cJWz7q36uLa9PDm9/XV8u4bvqNz18be9fGr59zY8+9/2ssFuJmj5dr8/v7t+fdh0r8sw6rG7+hYz7s/ybHR8uxi0r8zxazK8Onx+/l32MgTvJ+x6N+h5Nlp1MLM8OoPu54UvJ+Q39L0/Prl9/ROzbcdv6N92srQ8ez4/fym5tsIuJoJuZs+yLBq1cOC28zj9/NUz7oGuJq87OMowaf2/PuU4NQMupwNupyU4dTo+PZo1MIBtpdq1cLp+fbL8OoBtpan5tsev6Mev6So5twIuZt+2sv3/Pvf9fJUzroEt5gwxKsxxKuV4NQVvaCV4dTW8+/X8++06eEfv6T7/f2I3c6J3c9Zz7wFuJrT8u256+L6/f3ow7cxAAAAY3RSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD++P3qw/2N+0j2GMcHYx68BOkMd/x2IKf+pjrS0WDvXxSL+Cy3TEsIdRyhoDXINOSK8rY72mnrhe2jCycJAAAAAWJLR0QB/wIt3gAAAAd0SU1FB+cFGQAhKwJH+lwAAAMvSURBVDjLY2AAA0ZGJmYWVjZ2juRkDnY2VhZmJkZGBiTAyMnFzcPLxy+QkpqaIsDPx8vDzcWJpIJRUEhYRDQtPSMzKzs7KzMjPU1URFhIEK6CUUxcIjknNy+/oBAMCvLzcnOSJcTFGGHyklJFxSWlZYWF5WBQWFhWWlJcJCUJUcEoLSNbUVlVDZWFqqmuqqyQlZEGqZCTV6iprStDkQeqKKurrVGQlwMawMWTXN/QiCYPVNHYUJ/Mw8XIICiumNbUDLO9sawMprawuSlNUVyQgUuppqW1EOq4tvaOjvY2qGMLW1tqlLgYlFVSOhuhDuvq7unt7enugjq4sTNFRZlBVa2vH8wvLJgwsSgZCIomTiiAiPT3qakyqGtMAnMLG7Mng+WBKiZngx1SWDBJQ51BU2sKRPnUadOToWD6tKkQsSlamgzaM2aCOY2zZifDwexZYGcVzpyhzZCcMgesoGzuPISCeXPLwArmpCQz6MyYDzFhwUKEgoULICbMn6HDoLtoMcS+JUuLYPJFS5dAxBYv0mXQ018G4ZQtT4MpSFsOiZrCZfp6DAaGK1ZCeKtWr4HIr1m9CiKycoWhAYOR8dp10IBbv2Ej0JaijRvWQ4N23VpjIwYT002bt0BVbN22fceO7du2QuW3bN5kasJgZq6zc1cZLBGU7d5dBksaZbt26pibMXBaWFbs2QtLDqAkCWPu3VNhacHJwGhlZL1v/wHMBHPw0D5rIytgmmO0sdU5fOQoepI7euy4nb0NONVyOjg6nWg/iZpoT7afcHJ24IQkezkX14pTpwuRVBQWnjlb4eYiB8sYgu4e+zacQ1aw9fwFD09E1uL08va5eOkyXEXh5UsXfby9OJEyp69fcu4VRM66mivq54uavf1lk6+1whRcv5EsG4Aiz8AQaK+yaDnEGYVbly9SCQpElWdgDA7hu9kOykCFze23+EKD0QwAqggLT759BxTUd24nh0dgyANVSEbevXegsPDA/buRkljkgUEeFZ3y4OHDBynRUTbYFACdEWP36MqVR3YxwVjlgSpi46Y/fjw9LhaHPDDm4xOePEmIt8KlAOiMxKSkRFQHAAAsgrQ2sknLAAAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wNS0yNVQwMDoyOTozNyswMDowMEpaoL8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDUtMjRUMjI6NDU6MTIrMDA6MDD2yfpjAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg==",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACfFBMVEUAAAD////////////////////////////////////////////////////////8/vz0/fT////////////////////////////////////////////////////////////////////////////////////+/v7////7/vv////1/fX////////////////6/vr//////v/////////////////////////////////////////////////////////////////+/v7////////////////////////////////////+/v7////////////////////////////////////////////////////////////////////////////+/v7////////////v/O/s++zw/PDc+dy9872Z7ZmA6oBz53Px/PHK9sqM64xN4U003TQx3DEy3DL+/v7f+d+T7ZNH4Ecv3C8z3TP8/vzQ99Bu5m79/v3P989j5WMw3DBs5myR7JHJ9slD4EM93j1m5WaA6YCH64d36HfF9cXh+uHr++vd+d1J4EmP7I/k+uT+//6787ty53KY7Zg33Te18rWB6oFW4lbR99F56Hna+dqC6oJc41zV+NXz/fOS7JJB30HA9MC08rQy3TKH6ofW+NY/3j9C30Km8Kb2/fbq++px53GX7Zfa+Nr6/vq387c43Tg63jpk5WSI64ib7pvp++lS4lL4/fip8ak83jzt/O1n5We487hK4UpL4Uu587k53TmY7pj4/vjl+uV26HZZ41la41qq8KpE30Sr8Kv0/fQ53jne+d7D9cNM4Uyg76B66Ho23TbH9cf7/vts+qXUAAAAY3RSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD++P3qw/2N+0j2GMcHYx68BOkMd/x2IKf+pjrS0WDvXxSL+Cy3TEsIdRyhoDXINOSK8rY72mnrhe2jCycJAAAAAWJLR0QB/wIt3gAAAAd0SU1FB+cFGQAhKwJH+lwAAAM8SURBVDjLdZP3X9NQFMVfFIUWLJRpVcoeYlVEQEUExIUyFFFRcfJqqiyb12paDQQKpQXZorJXARcbFRC3oohb/yHTJIUW8fyU5Hxz7/3cdx4ArDBs2XK7FSvtHSB0sF+5wm75MgwDVsIEQkenVSJnF/mlS3IXZ9EqJ0ehwIrAxK5u7h644vKVnNzcnCuXFbiHu5ureJ7APL1Ww7z8gqtKAjEilFcL8vPgai9PzOJL1qjU166TCGlYIURev6ZWrZFwBLZ2nbf2xk0lobESobx5Q+u9bq2ZkPr4UoVFNNLYCNFFhZSvj5QpIHSC6uLFvpkoVkMnIQbEXn54idLSnWZkeVaW4H5eYiD0p3SlXH9ElOnLy/VlBIcQpTrKXwgCAuUGmv/FWFF561ZlhZEvSBvkgQEgKLiqGnF+TW0dZFRXW8MRqLoqOAiEhNazr4huUKsgK5W6gR0EKetDQ8D6sNsc3niHgryoO43ct9th68EG/C77Qt9rgvNquseOhe7iGwCUN7MAqW9ZAFr0JAs0yyGQ4a1chbb2BaC9javQisvAxo5OFiC6ulUWX9XdxW4GdXZsBJs297CAiezFLQDeS5pYoGfzJhC+pa+fG/n+g4ec//DBfe5Lf9+WcBCx9dFjbtN09cAg00U1OFDNrZZ4/GhrBIiMGhoe4Vc7Ojb+5Mn42Ci/+pHhoahIEL1N9tRI8gdIko2NJMkfJ2l8KtsWDQTbd2h1z/g4mcyZNPGheqbT7tguAFhMxM6Jyal/AzM1ObEzIobJHBa7S/bcQCyOHGF4Hhcfy6ZWkLA7sV1vGzpET7cn7kkQcLGX7t2nffGSMFn//+q1dv9eqeViiA8kTQy8sco9Mfr2XdLBhaslOJSc8v6DZr4J0nx4n5J8SGB1OVPTYP6MZVBEfMz3SEu1vd6HveGnWb4JMfsZeh+x8QFIjw+cM3xhCeLL+Fzg0XRbH2AZx0Rfp83xRcppteh4xqICDHEiE377bl71928w8+Q/PkNITml/TCFU9kN7SrKEz6z8dJb8569fP+VZp2OXApgxzsQpZmYUcWcylvQZ4uw56vdv6tzZ//jMyZ+/8OfPhfMx/wOYMS5mZ1+0HeAvs9msMpv5tz0AAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDUtMjVUMDA6Mjk6MzcrMDA6MDBKWqC/AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA1LTI0VDIyOjQ1OjQxKzAwOjAwj8HumgAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAASUVORK5CYII=",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACr1BMVEUAAAD////////////////////////////////////////////////////////9/vv5+/L////////////////////////////////////////////////////////////////////////////////////+/v7////9/fr////5+/P////////////////8/fn////////////////////////////////////////////////////////////////////////+/v7////////////////////////////////////+/v7////////////////////////////////////////////////////////////////////////////+/v7////////////3+uz1+en3+u3t9Nbd6rHK34W912i20lj4+u/j7sDD23ajxyyWvw6VvguVvgz+/v7u9drH3X+gxSWUvgmWvw39/vvm8Me00VP+/v3m8MauzkXu9Nmz0FDG3HyUvgrj7r+exCCbwhqwz0rB2XGWvw+51F7h7Lrv9dz0+Oft9NehxifF3Hrx9t/c6a+201j+//7K3oaYwBHZ56j+/vy+12moyjfn8Mn2+uy61WCwzkns89P3+u6+12qryz7p8c35+/HH3X6dwx7e67XY56aVvg2UvQjq8s6cwhuexB/R45b6/PT0+Oa20leVvgqhxijJ3oT8/fna6KqYwBOZwRavzkfB2XLL34nz+OS41F2UvQmYwBKmyDGWvwz7/PfS5JmawRebwhjT5JrB2XD1+erp8s79/vzb6ayiximixir7/PbJ3oOZwRXK3oTx9+Cpyzuqyzvj7sGexCH5+/KZwBSwz0vu9dng7LijxivO4Y6awRjO4Y+61WGXwBHt89Wpyzri7bz9/frM0I39AAAAY3RSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD++P3qw/2N+0j2GMcHYx68BOkMd/x2IKf+pjrS0WDvXxSL+Cy3TEsIdRyhoDXINOSK8rY72mnrhe2jCycJAAAAAWJLR0QB/wIt3gAAAAd0SU1FB+cFGQAhKwJH+lwAAANESURBVDjLY2AAA0ZGJmYWVjZ2juRkDnY2VhZmJkZGBiTAyMnFzcPLxy+QkpqaIsDPx8vDzcWJpIJRUEhYRDQtPSMzKzs7KzMjPU1URFhIEK6CUUxcIjknNy+/oLAICAoL8vNyc5IlxMUYYfKSUsUlpWXlhUUVYFBUWF5WWlIsJQlRwSgtI1tZVV1QWIEECguqqyplZaRBKuTkFWpq68qLKlBAUXldbY2CvBzQAC6e5PoGdHmQiob6ZB4uRgZBccW0xgKY7U3l5U0wdkFjmqK4IAOXUk1zSyHUca1tWVltrVDHFrY01yhxMSirpLQ3QeQ7Oru6e3q6uzo7ICqa2lNUlBlU1Xr7iiBG9k8oTgaC4gn9ECuL+nrVVBnUNSaCuUXlk0omJ4PB5JJJYEcXFUzUUGfQ1JoCUT512vRkKJg+bSpEbIqWJoN22gwwp2nmrGQ4mDUT7KyiGWnaDMmz54AVlM+dh1Awb245WMGc2ckMOvMXQBQsXIRQsGghRMGC+ToMuouXgBUULl1WDJMvXrYUHDJFSxbrMujpLwdzVqxsT4MpSGtfuQKsabm+HoOB4arVECPWrF0HkV+3dg3EgNWrDA0YjIzXb9gICbhNm+cBbSmet3kTJGg3blhvbMRgYrpl6zZo0G7fsXPXrp07tkODftvWLaYmDGbmOrv3rIQmk5V79+3buxKadFbu2a1jbsbAaWFZ2bwfYknFAVCaPABhb9zfXGlpwcnAaGVkffDQYcwEc+ToQWsjK2CaY7Sx1Uk9Voie5Ap3HreztwGnWk4HR6cTbU0oKoqa2k44OTtwQpK9nIvryVOnNyKpKNp45tRJNxc5WMYQdPc4e+48UrovPH/hoIcnImtxenn7XNxTATeiqGLPRR9vL06kzOnrl5x7CZGzLl8R9fNFzd7+sslHr0JDY+PVo8myASjyDAyB9irX2q+DnVF4vf2aSlAgqjwDY3AIX30bKPkWFdy4yRcajGYAUEVYePKt26Cgvn0rOTwCQx6oQjKy8s7doqK79yojJbHIA4M8Knr2/QcP7s+OjrLBpgDojBi7h48ePbSLCcYqD1QRGzf98ePpcbE45IExH5/w5ElCvBUuBUBnJCYlJaI6AADXv7i4Kd/lawAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wNS0yNVQwMDoyOTozNyswMDowMEpaoL8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDUtMjRUMjI6NDk6NDUrMDA6MDBhsioHAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg==",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACnVBMVEUAAAD////////////////////////////////////////////////////////7/fvy+fL////////////////////////////////////////////////////////////////////////////////////+/v7////6/Pr////////////////////4/Pj////////////////////////////////////////////////////////////////////////+/v7////////////////////////////////////+/v7////////////////////////////////////////////////////////////////////////////+/v7////////////r9uvo9Ojs9uzU69St2K1/w39gtWBPrU/u9+694L1vu28hlyEBiAEAhwD+/v7X7Nd4wHgalBoAhgAAiAD7/fvE48RKqkoCiAL9/v3D48M8pDzW7NZHqUd1vnUDiAO737sVkRUNjg1BpkFgtGBpuWkCiQJWsFa33bfa7drm8+bV69UblBtzvXPe796r16vY7Nj+//4FigWj1KP8/fzt9u1htWEsnCzG5Mbr9etYsVg/pT/R6dFitmIzoDPK5srx+PF3wHcTkBOx2rGh06EAhQDM58wPjg8UkRSQy5D0+vTl8uVOrE4dlR19wn3Q6dD4/Pim1aYIiwgJjAk+pD5qumqCxYLj8uNUr1QGiga837womij2+/aUzZQMjQwNjQ1ouGgBhwFquWrp9OnL5ssBhgGn1qcelR4elh6o1qj2+vZ+w373+/ff8N8EiAQwnjAxnjGVzZUVkhUJiwm03LQflh+IyIiJyIlZsVnT6tP8/vy53rn6/Pq97PRtAAAAYnRSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD4/erD/Y37SPYYxwdjHrwE6Qx3/HYgp/6mOtLRYO9fFIv4LLdMSwh1HKGgNcg05IrytjvaaeuF7djGYAwAAAABYktHRAH/Ai3eAAAAB3RJTUUH5wUZACErAkf6XAAAAzFJREFUOMtjYAADRkYmZhZWNnaOpCQOdjZWFmYmRkYGJMDIycXNw8vHL5CckpIswM/Hy8PNxYmkglFQSFhENDUtPSMzKyszIz0tVVREWEgQroJRTFwiKTsnNy+/AAzy83JzspMkxMUYYfKSUoVFxSWlBQVlYFBQUFpSXFQoJQlRwSgtI1teUVkFlYWqqaqsKJeVkQapkJNXqK6pLUWRB6oora2pVpCXAxrAxZNUV48uD1JRX5fEw8XIICiumNrQCLO9FAhg7MaGVEVxQQYupeqm5gKo41pa29paW6COLWhuqlbiYlBWSW4vhQh0dHZ19/R0d3V2QFSUtierKDOoqvX2gfkF+f0TCpOAoHBCfz5EpK9XTZVBXWMimFtQmjVpchIYTJ6UBXZIQf5EDXUGTYEMiPIpU6clQcG0qVMgYhkCmgxa02eAOaUzZyXBwayZYGcVzJiuxZA0ew5Ewdx5CAXz5kIUzJmdxKA9fT5EwYKFCAULF0AUzJ+uzaCzaDHEviVLC2HyhUuXQMQWL9Jh0NVbBuEsb0+FKUhtXw4RW6any6BvsGIlhLdq9RqI/JrVqyAiK1cY6DMYGq1dBwnJ0vUbNgJDYvLGDeuhAuvWGhkyGJts2rwFGrRbt23fsWP7tq3QoN+yeZOJMYOpmfbOXcuhEbi8dPfu0uXQ6Fy+a6e2mSkDp7lF+Z69pbBUUABLd2Wle/eUW5hzMjBaGlrt238AM8Ec3L/PytASmOYYrW20Uw4dRk9yh48ctbWzBqdaTnsHx2Otx1ET7fHWY45O9pyQZC/n7FJ+4mQBkoqCglOny12d5WAZQ9DN/cyGLcgKtp495+6ByFqcnl7e53ddgKsouLDrvLeXJydS5vTxTcq5iMhZl3JEfX1Qs7efbNLlK9DQKL1yOUnWH0WegSHATmVRO8QZBVfbF6kEBqDKMzAGBfPVtYIyUEFjaxFfSBCaAUAVoWFJ166Dgvr6taSwcAx5oArJiPIbBwoKDtwsj5DEIg8M8sio2bemTLk1OyrSGpsCoDOibW9fvHjbNjoIqzxQRUzsnbt378TG4JAHxnxc/L178XGWuBQAnZGQmJiA6gAAFLyvxAL3bxQAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDUtMjVUMDA6Mjk6MzcrMDA6MDBKWqC/AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA1LTI0VDIyOjQ5OjU2KzAwOjAwnPAwBAAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAASUVORK5CYII=",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAClFBMVEUAAAD////////////////////////////////////////////////////////7//3y//n////////////////////////////////////////////////////////////////////////////////////+//7////6//3////y//r////////////////4//z////////////////////////////////////////////////////////////////////////+//7////////////////////////////////////+//7////////////////////////////////////////////////////////////////////////////+//7////////////r//fo//Xs//fU/+6t/95//8tg/79P/7nu//i9/+Rv/8Uh/6YB/5kA/5j+//7X/+94/8ka/6MA/5cA/5n7//3E/+dK/7YC/5n9//7D/+c8/7HW/+9H/7V1/8cD/5m7/+QV/6EN/55B/7Np/8NW/7u3/+La//Dm//XV/+4b/6Rz/8fe//Gr/93Y/+/+//9//8wF/5qj/9r8//7t//dh/8As/6vG/+hY/7w//7LR/+xi/8Az/63K/+rx//l3/8kT/6Cx/9+h/9nM/+oP/58U/6CQ/9L0//rl//RO/7gd/6R9/8vQ/+z4//ym/9sI/5sJ/5w+/7Fq/8OC/83j//NU/7oG/5u8/+Qo/6j2//uU/9QM/50N/53o//Zo/8MB/5jp//bL/+pB/7IB/5en/9we/6Qe/6Wo/9wI/5x+/8v3//vf//IE/5kw/6wx/6yV/9TW/+60/+Af/6WI/8+J/89Z/7zT/+25/+L6//2DMMmrAAAAY3RSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD++P3qw/2N+0j2GMcHYx68BOkMd/x2IKf+pjrS0WDvXxSL+Cy3TEsIdRyhoDXINOSK8rY72mnrhe2jCycJAAAAAWJLR0QB/wIt3gAAAAd0SU1FB+cFGQAhKwJH+lwAAAMmSURBVDjLY2AAA0ZGJmYWVjZ2juRkDnY2VhZmJkZGBiTAyMnFzcPLxy+QkpqaIsDPx8vDzcWJpIJRUEhYRDQtPSMzKzs7KzMjPU1URFhIEK6CUUxcIjknNy+/oBAMCvLzcnOSJcTFGGHyklJFxSWlZYWF5WBQWFhWWlJcJCUJUcEoLSNbUVlVDZWFqqmuqqyQlZEGqZCTV6iprStDkQeqKKurrVGQlwMawMWTXN+ALg9S0VCfzMPFyCAorpjW2ASzvQwIYOymxjRFcUEGLqWa5pZCqONa27Ky2lqhji1saa5R4mJQVklpL4M6rKOzq7u7q7MD6uCy9hQVZQZVtZ5eML+woK+/KBkIivr7CiAivT1qqgzqGhPA3MKy7ImTksFg0sRssEMKCyZoqDNoak2GKJ8ydVoyFEybOgUiNllLk0F7+gwwp2zmrGQ4mDUT7KzCGdO1GZJTZkMUzJmLUDB3DkTB7JRkBp3p8yAK5i9AKFgwH6Jg3nQdBt2FiyD2LV5SBJMvWrIYIrZooS6Dnv5SCKesPQ2mIK0dEpyFS/X1GAwMly2H8FasXAWRX7VyBURk+TJDAwYj49VroAG3dt16oC1F69ethQbtmtXGRgwmphs2boKq2Lxl67ZtW7dshspv2rjB1ITBzFxn+44yeGTu3AmPzrId23XMzRg4LSwrdu2GJQdQkoQxd++qsLTgZGC0MrLes3cfZoLZv3ePtZEVMM0x2tjqHDh4CD3JHdp62M7eBpxqOR0cnY4cPYaaaI8dPeLk7MAJSfZyLq4Vx08UIqkoLDx5qsLNRQ6WMQTdPfasO42sYPOZsx6eiKzF6eXtc27HebiKwvM7zvl4e3EiZU5fv+TcC4icdTFX1M8XNXv7yyZfaoEpaLmULBuAIs/AEGivsrAd4ozCze0LVYICUeUZGIND+C63gTJQYVNbMV9oMJoBQBVh4clXroKC+uqV5PAIDHmgCsnIimv7Cgv3Xa+IlMQiDwzyqOiUG1Om3EiJjrLBpgDojBi7mxcu3LSLCcYqD1QRGzft1q1pcbE45IExH59w+3ZCvBUuBUBnJCYlJaI6AABB269xUXFElwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wNS0yNVQwMDoyOTozNyswMDowMEpaoL8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDUtMjRUMjI6NTA6MDYrMDA6MDDpi8pqAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg==",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACbVBMVEUAAAD////////////////////////////////////////////////////////7///y///////////////////////////////////////////////////////////////////////////////////////+///////6///////////////////////4///////////////////////////////////////////////////////////////////////////+///////////////////////////////////////+///////////////////////////////////////////////////////////////////////////////+///////////////r///o///s///U//+t//9///9g//9P///u//+9//9v//8h//8B//8A///+///X//94//8a///7///E//9K//8C///9///D//88///W//9H//91//8D//+7//8V//8N//9B//9p//9W//+3///a///m///V//8b//9z///e//+r///Y//8F//+j///8///t//9h//8s///G//9Y//8////R//9i//8z///K///x//93//8T//+x//+h///M//8P//8U//+Q///0///l//9O//8d//99///Q///4//+m//8I//8J//8+//9q//+C///j//9U//8G//+8//8o///2//+U//8M//9o///p///L//+n//8e//+o//9+///3///f//8E//8w//8x//+V//+0//8f//+I//+J//9Z///T//+5///6//8Ngdu6AAAAYnRSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD4/erD/Y37SPYYxwdjHrwE6Qx3/HYgp/6mOtLRYO9fFIv4LLdMSwh1HKGgNcg05IrytjvaaeuF7djGYAwAAAABYktHRAH/Ai3eAAAAB3RJTUUH5wUZACErAkf6XAAAAu1JREFUOMtjYAADRkYmZhZWNnaOpCQOdjZWFmYmRkYGJMDIycXNw8vHL5CckpIswM/Hy8PNxYmkglFQSFhENDUtPSMzKyszIz0tVVREWEgQroJRTFwiKTsnNy+/AAzy83JzspMkxMUYYfKSUoVFxSUFSKCkuKhQShKiglFaRra0rLyiAAVUlJeVyspIg1TIyStUVlUXYIDqqkoFeTmgAVw8STW1BVhAbU0SDxcjg6C4YmpdPTYF9XWpiuKCDFxKlQ2NMLGm5szM5iYYr7GhUomLQVkluQXmsNa29o6O9rZWmINbklWUGVTVOrug3u/uKUwCgsKebmiAdHWqqTKoa/RCuVl9YHmgir4sqJZeDXUGTYEMCK9/wsQkKJg4oR8iliGgyaA1aTKEM2VqEhxMnQIRmzxJiyEpeRqEM30GQsGM6RCxaclJDNqTZkI4s2YjFMyeBRGbOUmbQWfOXAhn3vxCmHzh/HkQsblzdBh09RbAfJ0KU5AKC5kFeroM+gYLF0F4i5cshcgvXbIYIrJooYE+g6HRsuVQ9StWrgLaUrhq5QqowPJlRoYMxiar16yFCqxbv2Hjxg3r10G5a9esNjFmMDXT3rQZEYVbtiDYmzdpm5kycJpblG7dhi26t20ttTDnZGC0NLTavmMnpnzTju1WhpbANMdobaOdsisfXT5/w25bO2twquW0d3Dc04ymIr95j6OTPSck2cs5u5Tu3YeqYN/+UldnOVjGEHRz375yLbL8ugMH3T0QWYvT08v70ObDCPnDmw95e3lyImVOH9+knCMIBUdzRH19ULO3n2zSMXjibjyWJOuPIs/AEGCnMqcF6ox1LXNUAgNQ5RkYg4L5aprBGai+uYgvJAjNAKCK0LCk4ydACk4cTwoLx5AHqpCMKD0JDPKdp0ojJLHIA4M8Mir5dH//6eSoSGtsCoDOiLY9c+TIGdvoIKzyQBUxsRPPnp0YG4NDHhjzcfHnzsXHWeJSAHRGQmJiAqoDAOgCnVLAYqeOAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA1LTI1VDAwOjI5OjM3KzAwOjAwSlqgvwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNS0yNFQyMjo1MDoyMSswMDowMG4J85kAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAAAAElFTkSuQmCC",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACu1BMVEUAAAD////////////////////////////////////////////////////////8/f3y9/r////////////////////////////////////////////////////////////////////////////////////+/v7////6/P3////z9/r////////////////5+/z//////v/////////////////////////////////////////////////////////////////+/v7////////////////////////////////////+/v7////////////////////////////////////////////////////////////////////////////+/v7////////////s8/jp8fft9PjW5vCwz+KEtdJno8hXmcLu9fnA2Oh1q80qfrIMa6cJaqYKaqb+/v7Z6PF+sdAkea8HaKULa6f8/f3G3epRlcAJaab9/f7G3OpEjrsHaaXY5/FOlL97rs8Iaab9/v6+2Ocfdq0Yc6tJkb1no8dvqMsIaaUNbKhdncS61ebb6fLn8PbX5vAle7B5rs7f7POuzuGFtdMPbainyt/8/f5oo8g1hbbI3utfnsVHkLzT5O/u9PhppMk8ibjM4Ozx9/p9sNAcda200eSlyN4La6YGaKVwqMvO4e0Zc6wddq2Vv9j0+Pvm8PZWmMIme7GDs9LS5O/+/v/5+/ypy98Rb6kTcKpGj7xxqcyIt9Pk7/VcnMQQbqj7/f0wgbQKaqf3+vyYwdkVcaoWcquZwdpvp8vq8vfN4e1JkL2rzOAnfLEofLGszOH2+vyCs9ITb6mDtNLg7PNbnMQ5h7c5h7jA2egfd66awtry9/pvqMoSb6kMbKe30+UpfbGNutaOutZgn8XV5vC81ub7/P0PF+8/AAAAY3RSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD++P3qw/2N+0j2GMcHYx68BOkMd/x2IKf+pjrS0WDvXxSL+Cy3TEsIdRyhoDXINOSK8rY72mnrhe2jCycJAAAAAWJLR0QB/wIt3gAAAAd0SU1FB+cFGQAhKwJH+lwAAANLSURBVDjLY2AAA0ZGJmYWVjZ2juRkDnY2VhZmJkZGBiTAyMnFzcPLxy+QkpqaIsDPx8vDzcWJpIJRUEhYRDQtPSMzKzs7KzMjPU1URFhIEK6CUUxcIjknNy+/oLAICAoL8vNyc5IlxMUYYfKSUsUlpWXlhUUVYFBUWF5WWlIsJQlRwSgtI1tZVV1QU4EEagqqqyplZaRBKuTkFWrr6huKKlBAUUN9Xa2CvBzQAC6e5MYmdHmQiqbGZB4uRgZBccW05gKY7S3l5S0wdkFzmqK4IAOXUmtbeyFEqKajs6urs6MGoqSwva1ViYtBWSWluwci39vXP2HixAn9fb0QFT3dKSrKDKpqkyYXQYycMrU4GQiKp06BWFk0eZKaKoO6xjQwt6ghuwQsD1RRkg12dFHBNA11Bk2t6RDlM2bOSoaCWTNnQMSma2kyaKfNBnNa5sxNhoO5c1rACmanaTMkp8wDKyifvwChYMH8crCCeSnJDDoLF4EVNCxeglCwZHEDWMGihToMukuXgRUULl9RDJMvXrEcHDJFy5bqMujprwRzVq1ekwZTkLZm9SqwppX6egwGhmvXQYxYv2EjRH7jhvUQA9atNTRgMDLetBns5IqWLVu3bU9O3r5t6xaowOZNxkYMJqY7du6CBG3L7j179+3bu2c3RL5o184dpiYMZuY6+w+shkRg4erygwfLV0OirmL1gf065mYMnBaWh9oOQ/RUHAGlySMQdsvhtkOWFpwMjFZG1kePHcdMMCdOHrU2sgKmOUYbW53UU4XoSa5wzWk7extwquV0cHQ6c7YFRUVRy9kzTs4OnJBkL+fiWnnuPLKKopYLFyvdXORgGUPQ3ePS5SuFCAWFu68e9fBEZC1OL2+fa9cr4EYUVRy45uPtxYmUOX39knNvIHLWzVuifr6o2dtfNvnkbWhotNy+kywbgCLPwBBor3L33n2wMwrvr7mrEhSIKs/AGBzC13j2AdCSogdnS/hCg9EMAKoIC09++AgU1I8eJodHYMgDVUhGHnp8oqjoxJNDkZJY5IFBHhWd8nTGjKcp0VE22BQAnRFj9+zGjWd2McFY5YEqYuNmPX8+Ky4Whzww5uMTXrxIiLfCpQDojMSkpERUBwAAPAa7YJpbYIgAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDUtMjVUMDA6Mjk6MzcrMDA6MDBKWqC/AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA1LTI0VDIyOjUwOjM0KzAwOjAw8JvcoAAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAASUVORK5CYII=",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACzVBMVEUAAAD////////////////////////////////////////////////////////7/Pzy9Pb////////////////////////////////////////////////////////////////////////////////////+/v7////6+/v////////////////////4+fr////////////////////////////////////////////////////////////////////////+/v7////////////////////////////////////+/v7////////////////////////////////////////////////////////////////////////////+/v7////////////r7/Ho7O/s7/LU2+GtusZ/lKdge5JPbIfu8fO9yNFvh5whRWYBK1AAKE8AKU/+/v7X3uR4j6IaP2EAJk0AKlD7/PzEztZKZ4ICK1EAKE79/f3DzdY8XHkAJ03W3eNHZYB1jKADK1EAJ067xtAVO14NNVlBYHxgepHr7vFpgpgCLFFWcou3ws3a4OXm6u3V2+IbQWMBK1Fzip7e4+iruMVPbIbY3uQFLlOjssD8/f3t8PJhe5IsT27Gz9hYc4w/X3vR2d9ifJMzVXPK09vx8/V3jqITOVyxvcmhsL4AKVAAJUzM1NwPNloUOl2QorP09vfl6e1Oa4UdQmN9k6bQ2N/4+fqmtMIIL1QJMVY+XXpqg5mCl6nj6OxUcYoAJkwGL1S8x9EoSmr2+PmUpbUMM1cNNFiUprVogZgBKE5qgpjp7PDL1NsBJ06ntcIeQmQeQ2WotsP29/l9kqUIMVV+k6b3+Pnf5OlUcIoEKlAwUnExUnG9yNKVprYVPF4IMFUJMFVBYH3X3uO0wMwfRGWInK0MNFiJnK5ZdI3T2uEwUnC5xM/6+/yAxxLtAAAAYnRSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD4/erD/Y37SPYYxwdjHrwE6Qx3/HYgp/6mOtLRYO9fFIv4LLdMSwh1HKGgNcg05IrytjvaaeuF7djGYAwAAAABYktHRAH/Ai3eAAAAB3RJTUUH5wUZACErAkf6XAAAA0hJREFUOMtjYAADRkYmZhZWNnaOpCQOdjZWFmYmRkYGJMDIycXNw8vHL5CckpIswM/Hy8PNxYmkglFQSFhENDUtPSMzKyszIz0tVVREWEgQroJRTFwiKTsnNy+/oBAICvLzcnOykyTExRhh8pJSRcUlpWWFheVgUFhYVlpSXCQlCVHBKC0jW1FZVV1TjgRqqqsqK2RlpEEq5OQVauvqGwrLUUBhQ31drYK8HNAALp6kxiZ0eZCKpsYkHi5GBkFxxdTmFpjtrWVlrTB2S3OqorggA5dSbVs7xP7Cmo7Orq7OjhqIkpr2tlolLgZlle6eBoh8b1//hIkTJ/T39UJUNPR0qygzqKpNmgzmF06ZOq0oCQiKpk2dAhGZPElNlUFdY3p+IdhRM2aC5YEqZs4AO7owf7qGOoOmQAZE+azZc5KgYM7sWRCxDAFNBq2588Cc1vkLkuBgwfxWsIJ5c7UYkroXghWULVqMULB4URlYwcLuJAbtuUvAChqWLkMoWLYU7LHCJXO1GXSWrwArKFi5qggmX7RqZQFYwYrlOgy6eqvBCtas7UmFKUjtWbsGrGC1ni6DvsG69RAnb9i4CSK/aeMGiMj6dQb6DIZGm7dAQrp167btQFuKtm/b2goJ6y2bjQwZjE127NwFCdrW3Xv27tu3d89uiHzhrp07TIwZTM209x84CI3AgwcPHTp4EBqdBw/s1zYzZeA0t6g4fKQGlthAAJqojhyusDDnZGC0NLQ6euw4ZoI5cfKolaElMM0xWttop5w6jZ7kTp85a2tnDU61nPYOjuc6z6OoKDzfec7RyZ4TkuzlnF0qLlysQVJRWHPpcoWrsxwsYwi6uV+5eg0p3dfsvn7D3QORtTg9vbxv3roNN6Lw9q2b3l6enEiZ08c3KecOzJLCmrv3RH19ULO3n2zSfWjiLq95cD9J1h9FnoEhwE5lec9DcCQXPOpZrhIYgCrPwBgUzNfYCcpAhS2Pn/CFBKEZAFQRGpb09BkopJ89TQoLx5AHqpCMqHj+orDwxcuKCEks8sAgj4zqfjVr1qvuqEhrbAqAzoi2ff3mzWvb6CCs8kAVMbFz3r6dExuDQx4Y83Hx797Fx1niUgB0RkJiYgKqAwC8prs7Sn3FCAAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wNS0yNVQwMDoyOTozNyswMDowMEpaoL8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDUtMjRUMjI6NTA6NDMrMDA6MDA/+es3AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg==",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACfFBMVEUAAAD////////////////////////////////////////////////////////8/P709P3////////////////////////////////////////////////////////////////////////////////////+/v7////7+/7////19f3////////////////6+v7///////7////////////////////////////////////////////////////////////////+/v7////////////////////////////////////+/v7////////////////////////////////////////////////////////////////////////////+/v7////////////v7/zs7Pvw8Pzc3Pm9vfOZme2AgOpzc+fx8fzKyvaMjOtNTeE0NN0xMdwyMtz+/v7f3/mTk+1HR+AvL9wzM938/P7Q0Pdubub9/f7Pz/djY+UwMNxsbOaRkezJyfZDQ+A9Pd5mZuWAgOmHh+t3d+jFxfXh4frr6/vd3flJSeCPj+zk5Pr+/v+7u/NycueYmO03N921tfKBgepWVuLR0fd5eeja2vmCgupcXOPV1fjz8/2SkuxBQd/AwPS0tPIyMt2Hh+rW1vg/P95CQt+mpvD29v3q6vtxceeXl+3a2vj6+v63t/M4ON06Ot5kZOWIiOubm+7p6ftSUuL4+P2pqfE8PN7t7fxnZ+W4uPNKSuFLS+G5ufM5Od2YmO74+P7l5fp2duhZWeNaWuOqqvBERN+rq/D09P05Od7e3vnDw/VMTOGgoO96eug2Nt3Hx/X7+/4Nm4E+AAAAY3RSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD++P3qw/2N+0j2GMcHYx68BOkMd/x2IKf+pjrS0WDvXxSL+Cy3TEsIdRyhoDXINOSK8rY72mnrhe2jCycJAAAAAWJLR0QB/wIt3gAAAAd0SU1FB+cFGQAhKwJH+lwAAAM8SURBVDjLdZP3X9NQFMVfFIUWLJRpVcoeYlVEQEUExIUyFFFRcfJqqiyb12paDQQKpQXZorJXARcbFRC3oohb/yHTJIUW8fyU5Hxz7/3cdx4ArDBs2XK7FSvtHSB0sF+5wm75MgwDVsIEQkenVSJnF/mlS3IXZ9EqJ0ehwIrAxK5u7h644vKVnNzcnCuXFbiHu5ureJ7APL1Ww7z8gqtKAjEilFcL8vPgai9PzOJL1qjU166TCGlYIURev6ZWrZFwBLZ2nbf2xk0lobESobx5Q+u9bq2ZkPr4UoVFNNLYCNFFhZSvj5QpIHSC6uLFvpkoVkMnIQbEXn54idLSnWZkeVaW4H5eYiD0p3SlXH9ElOnLy/VlBIcQpTrKXwgCAuUGmv/FWFF561ZlhZEvSBvkgQEgKLiqGnF+TW0dZFRXW8MRqLoqOAiEhNazr4huUKsgK5W6gR0EKetDQ8D6sNsc3niHgryoO43ct9th68EG/C77Qt9rgvNquseOhe7iGwCUN7MAqW9ZAFr0JAs0yyGQ4a1chbb2BaC9javQisvAxo5OFiC6ulUWX9XdxW4GdXZsBJs297CAiezFLQDeS5pYoGfzJhC+pa+fG/n+g4ec//DBfe5Lf9+WcBCx9dFjbtN09cAg00U1OFDNrZZ4/GhrBIiMGhoe4Vc7Ojb+5Mn42Ci/+pHhoahIEL1N9tRI8gdIko2NJMkfJ2l8KtsWDQTbd2h1z/g4mcyZNPGheqbT7tguAFhMxM6Jyal/AzM1ObEzIobJHBa7S/bcQCyOHGF4Hhcfy6ZWkLA7sV1vGzpET7cn7kkQcLGX7t2nffGSMFn//+q1dv9eqeViiA8kTQy8sco9Mfr2XdLBhaslOJSc8v6DZr4J0nx4n5J8SGB1OVPTYP6MZVBEfMz3SEu1vd6HveGnWb4JMfsZeh+x8QFIjw+cM3xhCeLL+Fzg0XRbH2AZx0Rfp83xRcppteh4xqICDHEiE377bl71928w8+Q/PkNITml/TCFU9kN7SrKEz6z8dJb8569fP+VZp2OXApgxzsQpZmYUcWcylvQZ4uw56vdv6tzZ//jMyZ+/8OfPhfMx/wOYMS5mZ1+0HeAvs9msMpv5tz0AAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDUtMjVUMDA6Mjk6MzcrMDA6MDBKWqC/AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA1LTI0VDIyOjUwOjU2KzAwOjAwoWvEDgAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAASUVORK5CYII=",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACTFBMVEUAAAD////////////////////////////////////////////////////////9/v/5+v/////////////////////////////////////////////////////////////////////////////////////+/v/////8/f/////////////////////8/P///////v/////////////////////////////////////////////////////////////////+/v/////////////////////////////////////+/v/////////////////////////////////////////////////////////////////////////////+/v/////////////2+P/09//r8P/Y5P/D1P+1yv+txP/3+f/g6f+7z/+Xtf+Iqv+Hqf/+/v/s8f/A0v+Usv+GqP/9/f/j6/+qwv+kvv+pwf++0f+Gqf/f6P+RsP+Orv+mv/+0yv+5zf+Jq/+wxv/d5//t8v/z9v+Us/+90P/v9P/X4/+Kq//U4P/9/v/2+f+cuP/k7P/1+P+xx/+lv//p7/+2yv+gu//m7f/4+v+Qr//a5P/T3/+FqP/n7f/L2v/6+//y9v+sxP+Vs//C1P/8/P/V4f+LrP+Mrf+6zf/F1f/y9f+vxv+KrP+atv/7/P/N2/+Nrf+Nrv+4zP/W4v+VtP+WtP/6/P/C0/+MrP/D0//w9P+euv+SsP+Ssf/N3P/c5v/I1//q8P/e5//8/f/tCMxjAAAAYnRSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD4/erD/Y37SPYYxwdjHrwE6Qx3/HYgp/6mOtLRYO9fFIv4LLdMSwh1HKGgNcg05IrytjvaaeuF7djGYAwAAAABYktHRAH/Ai3eAAAAB3RJTUUH5wUZACErAkf6XAAAAyFJREFUOMt1k+db01AUxm+U1QKllT0KAlXUInsjoOICRREVFZGRMMrKTSFlBVoKKGgZUqZShiJDUUARFyrrHzPkJrRlnE855/09J+9z7jkAcIFhx47b2NrZO+C4g72drc3xYxgGLAITiR2dnCUuUqKkhJC6SJydHMUiCwKTnXB1cydKy8pVFRWq8rJSwt3N9YRsj8A8PL3wyqrqGhJyQdZUV1XiXp4emKB7+1Dq2jqalbiAkK6rVVM+3ojAfP3kmvoGkld5hmyo18j9fHcJ/4CTVH0jbaWzBN1YT50M8GcbiJ1wddN+fZdoUuNOYgzIPAOJZqE/ZGiaEb7JZiLQUwbEQVRLK+TNaXVtbTotbxa2tlBBYhCsIPQ0KrR3dD57/vxZZ0c7Img9oQgGp06XdkHUsvsFhbNBvehGv4RdpadPgZAzL7kU0hVqnA91BWcaki/PhICz0nKEG3p6BaC3x4Bq5dKz4FyfikuY/lf4XrzqZzhA1XcO4ANGDqAHh8zA0CDnGxoHcKDsG0bAyKgZGB1BwHCfEoSO1aL/vX5DCTr15jWq1Y6FgvNh4ygx6QkBIPQmVBsPOw/CIya0KGudnEL61CQaLdRORISDyKjpt5xlknk3w/kcmnnHF95OR0WC6Jj3s3NotMx848KHDwuN80iHc7PvY6JBbJzy46KJf0AT/ekTbeKf07T4URkXC0TxCZqWz4ywBVDYO5L53KJJiBcBLDEyaWl55eDCfFleSopMZHcOS76gLPkK968c1JekpCZzWytKu3hpVMdYLy2jG710OU2E1t4//Ypm9ZtlDwjXVjVX0/2Fw5Bdu/79x5wl8PPX0vUb5tMSZWTe/L1ovgxILv6+mZkhsjjOW1l41br5star3LNuWZ/3bTm+/IefBvP3Hy6/Y6UDkJ2qGNMjG3BOP6a4m22tAyznnkSt27UBSZ1acj9nXwOWeJCLb6ztjnptA899eEBnCe9Hms0VCFc2NY+8D9HZkT/OGzAaDMaBvMfJhwGsjScpW+vrWylPcg7VWSL/KbW9TT3NP0JnX76gcGensCDxKIC1UVRcXGRt4D+SPpTGEJHXggAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wNS0yNVQwMDoyOTozNyswMDowMEpaoL8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDUtMjRUMjI6NTE6MDYrMDA6MDAGSaFUAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg==",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAClFBMVEUAAAD////////////////////////////////////////////////////////9+//58v/////////////////////////////////////////////////////////////////////////////////////+/v/////9+v/////68v/////////////////8+P/////////////////////////////////////////////////////////////////////////+/v/////////////////////////////////////+/v/////////////////////////////////////////////////////////////////////////////+/v/////////////36//16P/37P/u1P/erf/Lf/+/YP+5T//47v/kvf/Fb/+mIf+ZAf+YAP/+/v/v1//JeP+jGv+XAP+ZAP/9+//nxP+2Sv+ZAv/+/f/nw/+xPP/v1v+1R//Hdf+ZA//ku/+hFf+eDf+zQf/Daf+7Vv/it//w2v/15v/u1f+kG//Hc//x3v/dq//v2P///v/Mf/+aBf/ao//+/P/37f/AYf+rLP/oxv+8WP+yP//s0f/AYv+tM//qyv/58f/Jd/+gE//fsf/Zof/qzP+fD/+gFP/SkP/69P/05f+4Tv+kHf/Lff/s0P/8+P/bpv+bCP+cCf+xPv/Dav/Ngv/z4/+6VP+bBv/kvP+oKP/79v/UlP+dDP+dDf/26P/DaP+YAf/26f/qy/+yQf+XAf/cp/+kHv+lHv/cqP+cCP/Lfv/79//y3/+ZBP+sMP+sMf/Ulf/u1v/gtP+lH//PiP/Pif+8Wf/t0//iuf/9+v/1rAt3AAAAY3RSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD++P3qw/2N+0j2GMcHYx68BOkMd/x2IKf+pjrS0WDvXxSL+Cy3TEsIdRyhoDXINOSK8rY72mnrhe2jCycJAAAAAWJLR0QB/wIt3gAAAAd0SU1FB+cFGQAhKwJH+lwAAAMmSURBVDjLY2AAA0ZGJmYWVjZ2juRkDnY2VhZmJkZGBiTAyMnFzcPLxy+QkpqaIsDPx8vDzcWJpIJRUEhYRDQtPSMzKzs7KzMjPU1URFhIEK6CUUxcIjknNy+/oBAMCvLzcnOSJcTFGGHyklJFxSWlZYWF5WBQWFhWWlJcJCUJUcEoLSNbUVlVDZWFqqmuqqyQlZEGqZCTV6iprStDkQeqKKurrVGQlwMawMWTXN+ALg9S0VCfzMPFyCAorpjW2ASzvQwIYOymxjRFcUEGLqWa5pZCqONa27Ky2lqhji1saa5R4mJQVklpL4M6rKOzq7u7q7MD6uCy9hQVZQZVtZ5eML+woK+/KBkIivr7CiAivT1qqgzqGhPA3MKy7ImTksFg0sRssEMKCyZoqDNoak2GKJ8ydVoyFEybOgUiNllLk0F7+gwwp2zmrGQ4mDUT7KzCGdO1GZJTZkMUzJmLUDB3DkTB7JRkBp3p8yAK5i9AKFgwH6Jg3nQdBt2FiyD2LV5SBJMvWrIYIrZooS6Dnv5SCKesPQ2mIK0dEpyFS/X1GAwMly2H8FasXAWRX7VyBURk+TJDAwYj49VroAG3dt16oC1F69ethQbtmtXGRgwmphs2boKq2Lxl67ZtW7dshspv2rjB1ITBzFxn+44yeGTu3AmPzrId23XMzRg4LSwrdu2GJQdQkoQxd++qsLTgZGC0MrLes3cfZoLZv3ePtZEVMM0x2tjqHDh4CD3JHdp62M7eBpxqOR0cnY4cPYaaaI8dPeLk7MAJSfZyLq4Vx08UIqkoLDx5qsLNRQ6WMQTdPfasO42sYPOZsx6eiKzF6eXtc27HebiKwvM7zvl4e3EiZU5fv+TcC4icdTFX1M8XNXv7yyZfaoEpaLmULBuAIs/AEGivsrAd4ozCze0LVYICUeUZGIND+C63gTJQYVNbMV9oMJoBQBVh4clXroKC+uqV5PAIDHmgCsnIimv7Cgv3Xa+IlMQiDwzyqOiUG1Om3EiJjrLBpgDojBi7mxcu3LSLCcYqD1QRGzft1q1pcbE45IExH59w+3ZCvBUuBUBnJCYlJaI6AABB269xUXFElwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wNS0yNVQwMDoyOTozNyswMDowMEpaoL8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDUtMjRUMjI6NTE6MjArMDA6MDAnvJMTAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg==",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACbVBMVEUAAAD/////////////////////////////////////////////////////////+///8v///////////////////////////////////////////////////////////////////////////////////////v//////+v//////////////////////+P///////////////////////////////////////////////////////////////////////////v///////////////////////////////////////v///////////////////////////////////////////////////////////////////////////////v//////////////6///6P//7P//1P//rf//f///YP//T///7v//vf//b///If//Af//AP///v//1///eP//Gv//+///xP//Sv//Av///f//w///PP//1v//R///df//A///u///Ff//Df//Qf//af//Vv//t///2v//5v//1f//G///c///3v//q///2P//Bf//o////P//7f//Yf//LP//xv//WP//P///0f//Yv//M///yv//8f//d///E///sf//of//zP//D///FP//kP//9P//5f//Tv//Hf//ff//0P//+P//pv//CP//Cf//Pv//av//gv//4///VP//Bv//vP//KP//9v//lP//DP//aP//6f//y///p///Hv//qP//fv//9///3///BP//MP//Mf//lf//tP//H///iP//if//Wf//0///uf//+v8BRUUXAAAAYnRSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD4/erD/Y37SPYYxwdjHrwE6Qx3/HYgp/6mOtLRYO9fFIv4LLdMSwh1HKGgNcg05IrytjvaaeuF7djGYAwAAAABYktHRAH/Ai3eAAAAB3RJTUUH5wUZACErAkf6XAAAAu1JREFUOMtjYAADRkYmZhZWNnaOpCQOdjZWFmYmRkYGJMDIycXNw8vHL5CckpIswM/Hy8PNxYmkglFQSFhENDUtPSMzKyszIz0tVVREWEgQroJRTFwiKTsnNy+/AAzy83JzspMkxMUYYfKSUoVFxSUFSKCkuKhQShKiglFaRra0rLyiAAVUlJeVyspIg1TIyStUVlUXYIDqqkoFeTmgAVw8STW1BVhAbU0SDxcjg6C4YmpdPTYF9XWpiuKCDFxKlQ2NMLGm5szM5iYYr7GhUomLQVkluQXmsNa29o6O9rZWmINbklWUGVTVOrug3u/uKUwCgsKebmiAdHWqqTKoa/RCuVl9YHmgir4sqJZeDXUGTYEMCK9/wsQkKJg4oR8iliGgyaA1aTKEM2VqEhxMnQIRmzxJiyEpeRqEM30GQsGM6RCxaclJDNqTZkI4s2YjFMyeBRGbOUmbQWfOXAhn3vxCmHzh/HkQsblzdBh09RbAfJ0KU5AKC5kFeroM+gYLF0F4i5cshcgvXbIYIrJooYE+g6HRsuVQ9StWrgLaUrhq5QqowPJlRoYMxiar16yFCqxbv2Hjxg3r10G5a9esNjFmMDXT3rQZEYVbtiDYmzdpm5kycJpblG7dhi26t20ttTDnZGC0NLTavmMnpnzTju1WhpbANMdobaOdsisfXT5/w25bO2twquW0d3Dc04ymIr95j6OTPSck2cs5u5Tu3YeqYN/+UldnOVjGEHRz375yLbL8ugMH3T0QWYvT08v70ObDCPnDmw95e3lyImVOH9+knCMIBUdzRH19ULO3n2zSMXjibjyWJOuPIs/AEGCnMqcF6ox1LXNUAgNQ5RkYg4L5aprBGai+uYgvJAjNAKCK0LCk4ydACk4cTwoLx5AHqpCMKD0JDPKdp0ojJLHIA4M8Mir5dH//6eSoSGtsCoDOiLY9c+TIGdvoIKzyQBUxsRPPnp0YG4NDHhjzcfHnzsXHWeJSAHRGQmJiAqoDAOgCnVLAYqeOAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA1LTI1VDAwOjI5OjM3KzAwOjAwSlqgvwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNS0yNFQyMjo1MTo0MiswMDowMHZMi70AAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAAAAElFTkSuQmCC",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAQAAAD+fOO3AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQfnBRkAISsCR/pcAAADj0lEQVRIx5WWO2xURxSGvzN7H7a0AdFRkFSQBovKqcCyBF0kmlDS0SHRpkJKEYmGEBeENImFRJMoLlLk4caJrCguEDSguMEijYMQAu+uwfZ672v+FHe93nu9fnCmO3P+f87jn7nXGDIBNPiAD5limgk+oglsssoyf/E3/7FBAcZIEzKd0CXd1yslPve+ULm897kSvdJ9XdIJmfaBhzqnu1qTL5QrUVeb2tCGNtVVolyF5LWmuzqnUCPg47qsJalQqi2tq63W0GprXVtKVUjSki5rfIfC+rWP8xlf6GNPSoLf3RruDo6YCIet8CU/s21llCDiU77S6YJtMvZtEgJCxmlgz/mceVLDAY4Jbh4OL3cytinQaW4ygQMnOM4NJv2h8GEKD5Pc4LhwhFzgiifZA9fQqlMkeLjCBUJHk2s6VpBW4EIYITExIVYhMSClQMe4RjPgDNMixVfgJdhhgCjz0yDC8KQ0sGnOBFxUU2S1XsfENAaeBg5Hb4gCMsZQ0y46pnBFZQuiCrykiIkqnRAFOKYcZ0uC4fQj3J7+OyKsEleA46zjpMzXTnMjhmm4WlYeGScd8d7Q0VoY6Y8dvu6rzv0Qv3e0rFaxx48IFb52lsOg5XiGH67N8GQjCbKKVqABnmeOR+YdrgLJSGsUIq1pxeEwzyPHApkjqOWQ0KMYeAp6JLXzAxxkLDie8NRqMzYKenTpss02Xbr0KGpSjzB4yhNHh1nzAWFtZCKj119ZTakQEmCeWTqOlAUWjZhG7draYHRWu+YNYgwWWSB1iJfcsdcBcaWMHZK6fIQjJsBec4eXyBnkLDFjPiKCfUS0C4eICCv4miVyw4HBFj8xZ4oJD6QoH9UIE3PMsWXQF6FY5RtbbhCPuIdV9cU0sH+4x2p5kitrxfOYGVsPR3RieHgxIbbODI/xxoAADHJ+Y5Zk5w0cBQ+JIWGW38ltkNNOx8UaD2zR9V+jupTLV8nJFnnA2u73dahkg2W+5XkwshPl8PiXeyxbxV+ZO3/wvXWiWhll+hHW4Tv+tBpx1Xr8wK+WjhEMKIQRMIal/MKP9DjYhD7RQylRRy211VZLHSWS9FCT4ggmdFUvvLr9f4S2uvLSC109EhyEmrqtd4U21FZbGyqkd7qt5hEJQOiU5pXnequ3yqVc8zp1ZHif4rxWvFKl8tKKzr8XHIQCXfdvvLz8G11X8J4E/U7cUkst3Tqo+v8BGqkQrMMFpyAAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDUtMjVUMDA6Mjk6MzcrMDA6MDBKWqC/AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA1LTI0VDIyOjUyOjAxKzAwOjAwKNkk2QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAASUVORK5CYII=",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAQAAAD+fOO3AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQfnBRkAISsCR/pcAAAD/0lEQVRIx5WVP2wcRRTGf29u9/44a5/Pd2cHEagIEgoFRYSQHMtSQkVJOsoICUVKi+gokFIgghubArAipTHCBVL448ZBFiI0caQ4whGKFRoTx3aS89k+fL7b3ZtHcb7zzdkOyWyzOzPf99773jezQsdQgAS9vMIIo7zJqwTAvyyzyG/8zj9UaIBw6FBUNKfn9Kquad3GsY001FAjja2Nta5relXPaU5FO1DSEd3nDT7kAwZiiaixS0gMeCTJkMbHUzaYYpK/iMQlUMjwLp8wHFNli01C3DhJ+snSgwd/8Dk32JV9AoUM7/Opvl6nRInQTa6lDkny5EkhS3zGD00KAYUk7/GFvrbDKtvoUSKhCH28xDHkAR8zQygIqOEtvtbTO6xQ4UiN25n08jLHkNt8xIJYo5DlEqdrrP4vvLlaYZUanOYSWcXgc4bzMSW2D9S9/7gU25SI4Txn8A0BF7SvSsmpXVES9FGgQB8Jh0RQSlTRPi4QeJxktEGZyIELOfKkSAAN6pQodwQQIsr04I1y0uOsBhFbXVoPUSS5B/BJkSbJupPjFoMkAjlrGMHUiBydsxTa8JaNCmTbfgCIqIFhxHDKml2HW8iR6uqGkCLn7FF2sYZThuMqobM5cwDeosg4MyEqHDekwDoLCcyhHjAknG8LkDJYugDW6XunuLaLELCGkuA7C3WiQyiUiLoz4yNQMtwXm3ZqjdiicYCgwZbjFUgjlvuGW8am8RynldnoomiwQdmxmkcaY7llmCXyCZwcYtZYp9qeqbLOGrETP8CHiFmPBe567wywje2wasgaFTL4QMQuOx2roBgG8OAuCx5lJs3bgclSdrKwVKhgWu3qckaWAGOZpGwImWXOp0i669gKYLHt9/34aYr4MMcsoUF5xBV5HDBIoqt9sve47UwwSIA85gqPUCMQc5MxY3MMwBEm2odDnhymwZfcJBYMCOzwPdOeFuh9JkXzRszjKdNMsyMtP6IsMy6LPRRJHkmhQJIiPcifTLDc3Gb2FLbMMyab/RSOOErNzQX6kU3GmMcKbQIQiPmZSannySKHngWhnzxSZ5JfiKVN2lJceco1mUtRJHOgDAUyFEmpzHGNp/v/1458BRb5igd9FLrOJ4BPgV74mwkWOxvrFCxwg28p5+nHdOSgGPrJQ5lv+NX1RbdiNab4KREOEbSVUISAIRIhP/IdNZ5FIPCQCe6kGdxraLN5g6ThDhM87L4tD/RMYJ5xVrIU9+7ABEWysMI4tw9etoc3/TpTUimQxWDIUkAqTHGd5x2KntAZjat6T+9pVTXWGT2hz41vUgzrktVN3VSruqTDLwQHRT29aJ9YtWqf6EX1XpAAFA30spa0pJc1OBr+H/Nbm042akI7AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA1LTI1VDAwOjI5OjM3KzAwOjAwSlqgvwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNS0yNFQyMjo1MjoyOCswMDowMP9kZncAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAAAAElFTkSuQmCC",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAQAAAD+fOO3AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQfnBRkAISsCR/pcAAAEJklEQVRIx5XVT2xc1RUG8N+9M2M79tgxJDLR1MHYjosQrdRFVFUKUSToqsuy6xJVqpDYVuy6qMSiKmSTdNHWQmKTqllUon+yIFRRVbohSAQRgRxRJXWwSQzGjpzYnsnMOyzsOPPGNoX7Nk9P9/vO+b7z5yVdJ6Bi2FEnnfI9j6vjrnlX/cu/3bSmQ7LnCZHikXguXo9b0SzarWIzNmIjNqNVFO1oxq14PZ6LRyJFFyp1Ra95ys/9zKPNtOmuVeta6DNoVN2A/vClc2Z97H4qEwQH/NjLTrSsWrTonnKcIQ0No/r4j99420Z6SBAc8FO/iu+u+Z8b1iVlpYEw6AkThqVrfu0vWxSJoM9P/LY49qWP3RL7mSQkRzzlUfkTv3RBK0lE9gO/j+PLPrQk7QvfNtqY7zskvecXrqQiBwe95Piaj/4vnCRZ8pE1jnvJwZDVPOP5phtu98BDKBSix87kthuaPO8ZtazuhRhZdb2kPYSaMVOmjKmVSJJw3aoY8YJ61YxTLQs25S549h2ThlTRds91CwoPa79pwaj+U2aqno36psVS9GTGMYM73+qGDbrWlWOyaFpfPT2bnYy8ZqOUfMOkoS7KZMikRknIhjWRncye7uQ7Jf0V44Z3+T9sXKXkwx2d7OnsSKT1nqv1PYqZ1Hto10VyJOsPnVLx+rsidZ+K/lJBO4L+rEg9gLZiT4JCu4cwUWTLyUAp1bs2SpEeZLbhbknagMRyNpeLsram21q7CFpua/Z4lQtz2bu5GFHbiZkkN833pNs272ZXq4eaEbnwbnYx3T9grCSiac6c1Z0vq+bMaZYEjDkg3Xex6ooP+n501C2drj5bN2fJQQPYdMeKdqlXK47q4wNXqlbMVn54ODfMl3qvbcnS9izYNacNh1UKs1aylosuDZgy0jO2WdLR2X7rho+YMsAlF7WysOjVvHTYjGpP+dL2Uy5nzYzD8pJXLYqcaHvH6UoxboI9OqAMZ8K4Ssdr3tFOMol7/ux8f0wa+1qKwJgn9IfzzruX2N4iYd6ZdHXUtKF9KQJDpo1KHzprfuta3tKqcNnpvNowsc8oQcWEhrzqtMuKLW/yA7u0/d1sbk5qSHvOQtIwKTfN+of2A2t3FmEKX3gjXdpKsldGYNS0oUiXvOGLh//Xh5tU4qrf+WTMpP5dGQyYMsZ/nXW1u7C5+1LibX+0MuGoSlcOoWLc46z4g3+W+yL3BNp0zt9qrWMO7TgRkkOOqbX81Z9s+jqCxKfOen/EkwbZ3sODnjTC+876tHdb9mYgcdkZC4+ZVgVV0x5jwRnv7V62uwjAm87ltUkNWd4q3ppz3vRNT4jxuBDt1Xgr3orViHZciPH4xvgtihNxrYjP4rMoIq7FiW8FJ0Q1Xiw+70Qnis/jxah+SwJC1OOVWI7leCXq+8O/AuFKp/3c1qOQAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA1LTI1VDAwOjI5OjM3KzAwOjAwSlqgvwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNS0yNFQyMjo1Mjo0MiswMDowMJ17ML4AAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAAAAElFTkSuQmCC",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAQAAAD+fOO3AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQfnBRkAISsCR/pcAAAER0lEQVRIx5XVS2xV1xXG8d/evrbxC7CpMbVSECGg2qlRU5tXDEVNOmmHzazDqFIVKdOqsw4qZVA1RZGgg7ZWpEyoyqBS+qADgpxSOglYkIQE2aFCIuGNMcEOhsu9Z3WAgXts0yb7zI7O919nfevbeycNK6BJl2/YY69vWa8Tcy4445/+5VOz6iTLrhApuuPFeDOuxL167W4xF7fjdszF3aJei3txJd6MF6M7UjSoUkP1ZgN+4sd67qRZ110xYx5tuq3Tq0t7uOmgMWfdT2VA0Ob7fm503iUf+9iMcp1ugwb1a+PffuUd8+kxIGjzI7+ILTdMmHBLVu40UFht2LCvSVN+6c8PEImgxQ/9unjmgnFT6vLyJik02eJ71svn/Mxh1SQR2bf9rhi54B/OS0/y+KHRNvqB9fJJP3U6FTlY5VUjNxz9v3KS5LyjbjDiVatC1my3l+446ZNF8lAsPLEI8YmT7vCS3ZqzTi/HyosmRIM8FFbYbJttNltRgiRhwkWx0ss6Kzbbe8dHZhusC9mQYWu0oGrahA8VHs9+1kf6dey1ueKF6JxztlQ9222X7kfv1ui1yvES4qxd2jvTC9meIl/zecnnAdsb5A9itN2AaGjkc9cU2Z7s2Vq+Wuq/YsiaRdNI1hhSKflwVS17NltXTzMl73v1LBOlrEdvaR4z6sm6rDXUSoB2LctmoEV7CVATtGZF0lz62ar6soC6aqmxZokim846SoCbbpcqPfyz226WAB0y09lkpVhbAsyZMr8EMG/KXAmwVqUwmb3XVPRpa6iZfeCUakledcoHpai16dNUeC87ku6v9HQpqnOOedflhXfhsncdK9UPT1sp3Xek4rT323duNan26INsxjHn9enCrKs+VS3Vb7ZVO+87XTFjrLJ9Yx50WlNDG/edc25hL5BLySgM2qhSGDOTVR0x3mWHPkXJzCZZTU3WVDKv0GeHLsYdUc3CJa/naxs8r3XR+NLCUx7nCqM2yNe87pLIiZrj9jUXWw2zTALKcr5jSHPdbxxXSzKJL/zJoY4Ysam045bKwyYjOsIhh3yRWPAmXLA/nem3Q88TESH02KFf+tABFx58lh/0qnDCvnxr0PATthK0GDYo37LPCUXyCECi5m/GKveGfVNadi8kA4ZV7hnzd7XHmXnoeLjhrTTeY6evLzEz0G+nnkjj3nLj8f3akI/EGb917hnbdS4BdNpmE/9xwJnGwZaOnsQ7/mDmOUNaGhChxZDnmPF7R8u5WHx23XXQX1dUn7f+kRMh2WDUiqq/+KO7/hcg8ZkDTq31XasXRsdqe/RyygGfLb76lpyeiRP2u7jFTq2g1S5buGi/k0tvzuVv8rcdzLPbDGjSZMCIPOugt33ZFeKpOBy1y/FGvBGXI2pxOJ6KL61/gBiNqXpMxmTUI6Zi9CvJCVGJV4rrtahFcT1eicpXBBCiM16L6ZiO16LzyfL/AjzmtojnBFLlAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA1LTI1VDAwOjI5OjM3KzAwOjAwSlqgvwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNS0yNFQyMjo1Mjo1NCswMDowMDIBBRoAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAAAAElFTkSuQmCC",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAQAAAD+fOO3AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQfnBRkAISsCR/pcAAAEXklEQVRIx5XVS2xdxR3H8c/MuX5g/CBGTQzkATIggQt1K7fNgzgI5YVDWmjaRdsdrRQhsa2666ISi6o0m6SLtu6CRYIS1Er0EdGYEKV1GwlbTaxGRYkCgWAiYuKH4kaxfX3PdOHg3HPttDBnNXPm9x39/vObmaCqJci0WGOzLb5orWb8xyVnnfQ3H5pWIVRpQkEe3OUrvq/Piko2G8shR1SXGvKsYtJRB/3TlBSWAhJ1HvFD39N+LUz40EVjptFipQes0a41mXBIv3eUQxGQuMNWP7Zp2rtO+YcrKov0JLPKRht0auHvfuZNN8ItQOIO3/KT9PCoYwaMiUV3EnIrbbPdauG8n/r9AiKQqNfn55UH3/GqIRXR8i2X+arvekR2wY8cNRcEUtTtV3nPv/3WiFhYubYluS/5gUfFYXudCXlMtHlRz6iD/1dOEI04aJQeL2pLojpP2HPNG4Zr5EmuoiJfyEcVYtgbrrHHE+pKmj2ft15wTF7lPUnu9LBVuOK864JbG5c7pkd3a3zeYMlDtkwbNCGrkke9drhXI2Zc9hd/lS8iogmDOrVt8VDJU6l5yqnC6tEe39CxKLjXal/wuwLilG9qbQ5PRZsr8QNXC8436KuSE3Tos6FQjas+UIk2R11z8X2panq9XvfV7EZwn171Vf3kfXNRV9QxH8YKYVnrnmWiFN1jrbxqZMx80BE1JLOFqS0al81Ao5ZCf1aiIcpDjeCG8rKAshs1wEAejWfaCm4/Nl6IzqfFHfdxoTJtMsajc/X5uoLXScOmlwCmDZss1Gad+ty56O26fJ3mqjUzJx03U5DPOO5kIWrN1qnLvR0NKN/t8SpAMOU1h723OPKew14zVWUgedzdlA2UnDHSuv5JQ8pVObviiBEPaMeEi86ZKWS13pNaGXGmZFJ/3dceixu9pVRViVmnnb55FsgK7iu2eExdrt9kNGfAiXa73F+ISZDJlJVlskL1c/fbpZ0TBsxFyWUvZ2NdntVUc/JvfdXbeafndMnGvOyyFAPzBu1ryHttY5kEFNPANr0aKn5h0HwQCVx32JG70k7d0v9AJEm3HdqSI464HrhZm+SS/eFsp11W3RaRJB2e0Sn8ywGXFqbFBbdyQ/ZlUxtt13hbQKPtNsqm7DMkDxYBBOb9SX/97E5fF5c9C9F6O9TN6vdn87cy82nNk6teCSc67Na5xEaSPGi3jhROeMXVsPi7Kh+Bs37pwpf1WbEEsMLTunnXAWert7Vw9QTe9BuTW/VqqEIkDXptZdKvHS9edrV314xD/tg096xHFyuRRF2e0zTnD16tOaa1gMCoA06v9R0rb3pnpW9bw2kHjNY+fUtuz8CQ/T7q8Ywm0GS3Hj6y3/DSl3P5l/x1h7Lpp61XUrLeTtm0Q173WVuSVqejaf5i2pv2pospzaejaXX6zPoFxKZ0vpKG0lCqpHQ+bfpccpJUSi/kn5RTOeWfpBdS6XMCSFJzeimNp/H0Umq+vfy/0JikOgfvvUIAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDUtMjVUMDA6Mjk6MzcrMDA6MDBKWqC/AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA1LTI0VDIyOjUzOjA1KzAwOjAwM1Rr9AAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAASUVORK5CYII=",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAQAAAD+fOO3AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQfnBRkAISsCR/pcAAADzElEQVRIx5WVTUxUVxiG33tnhmF0iJ0iCVF+NJpghTSUVNOoTTMrCS1qm4mJZVFSu+h048Jg2dCdSatb3TWkTaw2ISkbBY2waGBBJGmsoggkasEfyDhDsQjM33m6YGjnzgw4fmd1v++8z7nnnPecYykrkCSXylStD/WRGlQjv6RFTWtMv2tIM/pHacnK0lgOuaW31KQ2tSiQci3bcSstySUvPuNOa159+kV/6G9h5QOQPHpHX+lzvR21ZjWhO/pL85ICqtW7qlOlylFMl/WjxpXM/gtJCB+tDEOMQU6xEwtlNYudnGKQGMAwrfjIk7cxYRink20OaXbbRifjGJigLQuBKOEYU0mGacFeVy6ETQvDJGGKY5RkENg0MZpmiEMbitfaIYZIwyhN2KvjB+iG+xwuSi7EYe4DdBNAwkMrCy/owFU0wEUHL2CBVjwiQG+am1TkdSsjSDvtBCnLq1VwkzT0EhD7iUUI5y3WcfqZ5BnPmKSf43mLGyYCMfaLTpO4x/acXT/NQwxrYXjI6RxnbOceJkGnuJZI9eQUj/IgS76KeMDRnEF6SKS4Zqt+xR5Ttq88Cmm3nFa1tFsheRzmG9OKrXpblUlr2tG5TrvkUm64tEt1jsy0kpYqbXmNlh2Fcm1Wodiscsf3sozktWVsbXIUFhUvCIhr0fG9SbZkbEXdqnAUHuu5Y03W5vxcjx2ZCrmlqK0Jr9nrKER1XbE8QEzXFXVk9sprNGHrltfUa4uj1KNLeuXIvNIl9TgyW1Qvr9Et0czSU47k+KyaLm5nvGC4TRfVOT2O8BSWaLaoVG/8g9/0pVYcI/i0Tw2qlDSrMY3m7FSpuvWZvCP6VHg5SXqGUMFzV0JJwXyIGUhzEq+wqGEgyQB7ij7OexggCQPUYAnhppm5JS7gL0pexgWWYI5m3KzuMH6+JT3L1zmHqlCz+IY5SHEG///XqsUOrhgzSvA1CIsgoxjDZXZkvS4ImwPcSXKFmg0BNfxKEv7kAHbuy+ChnfkluihdV+7jO5Zhni/w5Jkdi62cNyuPCOEuKHcT4hFmhfNsxVJ+IBroh0EaCwLeYxAM/TSgdQLxCVNwscAdXcFFgCk+XlcuSZRyhtgC4ZyV8BFmAWJ0UKoNAaKKn4nfJ5j10LgIMg5xfqJqw/EziH2MwFVq/wPUchVghPdfK88g2niS5PuMtf38QBKe0FaUPGPtc7yMcAIPHk4QgZecy7JuEYgq+kjdpZFG7kKKviJmn4M4yGSKG9wgBZMcfCO5Vo0XNpEECUyEcObgviHCz1miRDm70ez/BYYI/lv2W3BZAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA1LTI1VDAwOjI5OjM3KzAwOjAwSlqgvwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNS0yNFQyMjo1MzoxNiswMDowMM4WcfcAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAAAAElFTkSuQmCC",anchor:[.5,1]}],drawing_api:[{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAAgCAYAAACLmoEDAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH5wUZACIosGP4JQAABapJREFUWMO1mGtsFFUUgL9zZ6bdbaEP2kpRCYj4wlciRMHEHxo0MdHEqDFG/aExvmJiYmJ8G2P0B8YYYozC+oivCAl/VMRqIkTBUIygCAiNlr6oQAttd9vS7bQ7c48/pq0QdtvZFU9yM5nZOfd895xz7zmzQomibwFlgACVCCPUI1QDCcAFAsBHydBDP2ejOEAlyN2l2XRLhaUcyCDUsoQsK4DrgCuBRmAWcALoAfbQyDaUn1nGAZrRUk1KSV59DwhpRLgLuAe4JsZMPwPrsGzA0CuP/M+wugYwCMJFKM+g3IVQEU8ZgCywAeF1LH/ioPJwfPvFpUGA4LEYeBW4DSlCP3JLBXAfSgXCC7i0TS0jhpjYXk0BHjXAE8BtaMn57gK3IzxBjhpdE18xNiyKg3ADcD/glpbtExJF5AGUGwDnjMJqChBqgccRZhVYTDTCk8bks/zvzwIeBWr1vXiwcUNpgCuAqwuCgtKwtIcFtzqU19Ywls5waGPI8d8aUeS0SET3KxAuB34kRu7Gh1VuRCjPDyqWhbcMsGI1VJ1fCRPH/wX3DrHjyX46N9XlBY5O65XAT0RFZEaPxYMVlpAvvxSoXjTIsteGqTp/LvAvbNXiuSx7dZiqRZkCfnOAy9B4HHFhhagy5d9WsxcmmXN5XZ75DHOunEPVecmC8ypz0XjbtZjjJ5H3qQLGcxHJb1CkHPGcghkpFFrIaRL/6ILBAsbA7zvBWLov7+/+QB/+8ZFpfJc5s7CKRWlFCfPCDhxI0JKyaDh8ql44TMtaJd2SLAAbAn8BNg5GvDRQLEIzUdNy6iYTIMgm+H3VXMYz3Vz8UAavqoHc0HEOpMZpSc0nyJYVgM0RNTixYGMltq5BEM4DvkdYlGcxkRg3xKsAcR1sEBJkwQbONFbaEVYCnfLwzOds3JxV4CiwLq8XZGLYwGFsyMEfgPEhZwZQC3xO1PPGamZiV3hNAcqFCJ8Ay+PqTSM7EO6/86PGv347Uo6xEFqD41isiepHhe9zXU8Pk71Ocf1sCg+4HVgNzCuVUpWjA1nz3B3vn7PxSNZ4AbjGYkJrjOPY0BqxAuNJ389eMjjk7204i3meLRoWop70ZeBJwIuvHLnGKnZ7R2LbU183fHVs2PFdo65G6SiR71QRUcCiBChpA/vFaGvRjd4E8EKUtcBNeSv+NLxtfV778011m3YeSmSciYyWU94QUJ24CIAVGLXo98UUBQAmvp26UFYDHcXoDo6azPrds5t3dSfSjkElArFMDYmuIhbEiqgVQRStQLWmaNgJYCXNZuAdou+qGSUXEvzQmty1fvfsDiMgseIhgqqoyBE1prUkWACOESJ8DHzJdEePRlHd31Pe8vb2mt3jgdgYoAIYBR/YY6DJJBKHS//f4BIA0sAbqlwMXJUXQuDYsNOb2lHd3JX2sqe/ogKCTjbwgkU1CxxE5E+gO51MnqjO5YpqZE5leGTSb+zNhawOleGpJydd/RxjX+yb1bzlYLJXmAp/FF7FqAqoBsAI0KmwxXHdzxS+u7mzswU4MT+Tof3gwf/02RcxpaCzz6ltqLKvJD19zAju5KYOlfCntsTOF7+t33pkyPUdE9U6VUVExoERVdKCdomY1hCOqxCM9veHlbW14Di0tbdP2So9DU7y8M7nTAbHfFBfGSyt8PRaI5FjuwbcQx/+Uv3r34Ou7xp1VMkBaRE5BhwVkW7Xcw+j5KwNkFyouA71Cxbwx759+TLqzEjHKo8yx97RUBm+7TnMG/Rl+N3tNU1rm6v3ey5pgaOo/q3QU5FI9I6OjfkiguN5nLt8OZs//XRmx5wpWIDvnp6duLR+9KXaZPjgjs7k1mebGtals6bDiPY7IpnusrKReb5PeVkZB1pbi57/P6fByVKXDPzOtPtmwtX1f/Qm0u3pRL/b0+VXL2xEVbm+r49v+vtLnv8f2Pk64kl5WH4AAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDUtMjVUMDA6Mjg6NTkrMDA6MDAzyLlbAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA1LTI0VDIzOjAyOjM4KzAwOjAwnw8TLgAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII=",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAAgCAYAAACLmoEDAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH5wUZACIosGP4JQAABm5JREFUWMO1mFtsXFcVhr+195mLx3bshNghKWkNpCglPEBpUYSAKg88gGigUftARSJzkbiIB54QalQkKvGISkGQSkTQplJBKQgQbbmUW6CkTZuGVq0pjV3n4jSOnUzG47HHM545++fhjNs6npDjISzpaDQ6s9f69tr/XnvtMTo0fbYfAhACbN5knJ1ch9QHlseIgAZSHbMyhRsvUj0qvIPeHPbd6Y5iRp3CIkGjy8jUtnJ28mbgg8B7gEGgB5gDpoCXmD92GOxZ3pt/haN1dRrSOuLcvQYitwHpNsTtwE0gj5kAXeLfkGLgKGaPgPslIZ62A7P/X9hk6YMRuB5nX8PYBeoBiy+BbBfHA3OIXyDdh7NRXFP24/nU8VcnA3OG6R047QXtTACsmWaeQBNUAO7E6Ea6B984cYVJLjOXOqvD/aC4D/gSxk7MPFhY1WSx0Bq3E/gizVyf9vSmHp0aloBH3ALcCeZIakEnFkgk8RmCfQTkryqshvshoh/4AtBNu6WTjBAbzUWjUYfmYvJdWrkvDLX8fB58n/b0p4JNp1lhBG0D3k+yWZbDJkCBd95c5H0fz1LoX0u1VOKfv11k/Ln1SNaqFMuR4SaMbYgnSaHddLAmD+wAsm0zigI33lrh09/OMzDUD3QBxvY7Zvjp3lmO/aYX4ZYBmwHkEDswPQVccaOm1KwcaCuJ1i55FWDDlgq79i4yMLSJZHkd0M3A0CZ23bXIhi0V1FbiHtNWTKk4UsKagQ22/X0IMDhU4JobBlhZt41r3j3A4FCB0BbWgW1YSvOVLK1mAfKAtTbHm18Kn4kwy11mnll8RpeRpLX8prK0pUvALO0imjMqF+aols+3HTk/c4HZC3NJtVvhVUhlpFQHQ1rNCvQqEK/04GFiJMuhB+uEUFn2LoQKhx6sc2Yki2tbTptgY8hSwaY9bgNwBNMdYMujmkG9muPR7/RTnZ3glt095HsHWKic59CBOf68fwP1agbXLi9qAs9i6Q6YVMLWcK8hfx3oVxhvZ6UcDAl8pkmuYPjIEzdj6lURN6LW/mlXZ09g9knUPG0PzF0xu+k1GzSFeAQRt5mkMCBuRFTLnkpRVMv+v4KKGHEQaRrSySB1i6jdfeDYAuzD2E47/aY3j/Q0xpd3He0de74S4QLEweF9IDjDgEKtxofPnWNfa1DqFtEeKqPhNSeR7UNch/FWVtHMSK3EGIY0WWy4n9z2zJriVMMGWxyu9cQtv4uC6vmuQu1dA4NszIRVNt/DfRAoYHwd01fBMlz2TBfSG8VeyCRzTaF/lKKnvvHv7sfPL7paZIqUQFqr7VDrWA6IJqLkYMScRld9rdGePjBdC9wLfHTlVeYNyCC5gHmBCZmBjc378W8e7/79c+Wo7F2SLHvTWLCkUtpSf0QwWAjoifT97JIcDpTBwgTSD4Fxlu5ZCEkWZC4WviGyTcgE4aQkc6WGK/1sMvfMsdloxhuyBCTw+mPJp1kAC2YKZphQAal/1bAA9sCcmF74K/AjpPmlbAaZb4pMLKKAnLBkp5hoBGv8pZh5/ueTuVOOtN2AGZLJ7KycG+0IFoCLzZhgD4M9KpliETUhkuRkMsPUWlAk00jFH7//dP6FxWAhBagBTlADXnDwuMvnX+v8f4MtfVDIzlCvf09ia4x9QBKtZC5p2Awxtein9p/JH5lY8AsrOWVLZwqtNh+pCoxh9gowUerqmutrNFZxB7t06g+Xod4QxCO12H4Qi7IlZUnQSimiHlvt11PZI4eKmWnj9eVPlle4pHdXE5gHTgr+5KPoIcHvPnby5MvA3OaZGcbHxjr7k2NZXoZ7GatE/etzujvn9RVnconMZEEW/n4xc/Rbo4UnJ+uu7pcULGFmi8C8RMnQKTM3GsN5Gc2FYjHuXrsWvOfV8fFl2vif7fAn1tr6vG1bn42/3+X5kFlyLTgx70/eM1b4w+FSphglV6MGUDKzaWDSzCZ8FL2GaITQJG7EUuQp9PTw0osvrlzNqwELcPz2deRd+NS6rO7NODaXG1a6/1T+if1nci9nnJUMJpHOCM4V8vmphXq9Zmb4TIa3bd/OHw8cuGKMqwYL8NitA7kb8s27+jL63NOl6G93j/UcnGnYCYeK3mxmIpud31irkctm+dfo6Kr9d14N2thbolA/VbP7rnc6ODIXzZyqZy76M6cX1ly7EUnsuHCBx4rFjv3/B5an/+2QIsMIAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA1LTI1VDAwOjI4OjU5KzAwOjAwM8i5WwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNS0yNFQyMzowMjo1MCswMDowMGqPVM4AAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAAgCAYAAACLmoEDAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH5wUZACIosGP4JQAABPdJREFUWMO9mNtrXFUUh7+1z5nMmdhkkjZpE1RsWi1FqQWL0gp98EUQ7JP+AYJPPigIlvqgiIr4IFqxSFtQ1AqW4oMXUAreK7Zia0vv2Exz6SVNc5u0SZpJZ875+XBOa0oz6UwydcFimNln//a3195nrb3HmKPpxq8GtABZIAB8oAQUgFFgeHoXm+OY/lxhp417P7AOWA+sBtqABcA40A8cBvYAfwInbp7nbTbF3iZ4QfCnQBX4PsHzgiX/C20CaYKVgk8EExWCXvOJpN/KROe2wprgPsGXgmKVoNe8KNgluFdz374VRbVZsGUeoNOBP0j0bgusJ3hKMDZP0Gs+luh5tyOqLYKfawR6zX9IdCuySlOXAx4EHpl1TmvW9LNhg0dzcxP5/Cjffhty8GAb5ffmOmAV8Cu1SmkCX/B22b1qFmrDhkHlcn2SxiWVJI2rs7NPTz45KIhm2btvaf75/gbYOsE3ZQddvnxEhw93SQp1o4U6dKhLy5aNlIGNEt26Spe3EjPiyjTzci5dmmHVqkUz6DlWr15IR0dmFt0lVJjCqgl/ULYllfIxm3lAszSp1GxvfIYKrdLIAlwq2zI0NE4+PzRj28jIEIODE7PojtYaNgI6gXDG1hMnArZvjwjDsRt+D8Mxtm0TJ0+Wi14InEr0a2NJQXhWMFk2Z2azU9q0Kadc7owGBiaVy53Rxo05NTZOzZJnJxPd2hWG5EywTHB61iTv+yU1Npa0cKHU2FiS75duURROCzpqekZIKlhG8KYgrFH1CgVvJLoVWcUzSgRXAJ8Ba2sQg33AM0+3tZ06mE7jIggjh+dFRM4woL5QYH1/P1uTDhWnLouBu4H3gc1A+zxW6sKIc9ufuvPOwT7nFiccLvGQ+IW7KrgymKkvrGhdTHsqqm6vJNGtB14DXgRS1YJGEP0RBHteam39ZsDzCr7kK4a0JCTCTECEKCHyDo6bU2dVNTmJ7hVgK/F963Gq3EpdqVTPlqamIwOe1+yByWyagGI5xa+cYv52QUcofqimKFwHBnqJt0J3NX0vOTe6s6Fh74EgyHsgg8jiJU/c4k+zCCwyU2SGCdUjNVUNmwAL+BH4kDjSt7QilH7JZA7sbGjodhUvhxmSyaxPznXOCTaxEPgU+JpbnEUFHE+nT25pajp01SyqANQAp/h/h8MOvndBcH6+58g88I5gJfBQOYgBz7u4PZvd25tKXbn5GRkYUjIvI0K6AuQw+wc4m89kxrPFYlUHmZumngTtSBE2hzA203MFmPpqwYK9P2UyF+2/fvHyCicZSCVgAugR/OT5/ueC3U/09JwExu8eHaUrl5t/mRPQ43nNrVH0ekZ6zk3L3SGEvwfB/ldaWn7r8/2CF7OaJMzsKjAhkTfUa+Y6QxiUUZocHg7vaG4Gz+N0V9f1seZ9nTBgv3OjOPdRS6m0pl561CWT6PX9Mx9ns3+f8/2CL3mCIpA3swHggpmd9VP+eUQxikpYMRS+R8s993Ds6NGbxqrJ3efhYlHdqdSRy869lw7DDgftl83GdjU0/LUnk7mYigEvIJ0T9GfS6YuTU1OFeLbGXevW8uOOHRUFpma2u6EheGBy8tXmMHx2X5D57eXFrV/knet20rBnNnq2rm6ivVAgXVfHic7OqvVrd6sEFpVKhR7ffzeItPNYOsh3BcGw39tbyLa1IYnHhob4bnh4zvr/AlFvZYTScGjCAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA1LTI1VDAwOjI4OjU5KzAwOjAwM8i5WwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNS0yNFQyMzowMzowMSswMDowMGvaOiAAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAAgCAYAAACLmoEDAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH5wUZACIosGP4JQAABfxJREFUWMO1mF1sXEcVx39n5u5613btOIlrp0lEhBr6RSmKLUiQIkQFSH0rLSoI8VCE1DSqVKkIAeVDCPECQhChClKXB0qBRKpoQbQNRbSUNIoTKW1NmsZW6vgjNbHXjje79q7Xd33vncPDjYuc7qZ3t+ZIq5V27sz5zZn/mXPuCk2a7vwlZNNgBK5vE/JLm0E6UTIIHhCi+KBFSrk8nTcokYVqGzL85aZ8es3C0tkCI0Xhpq5byVf2AHuBO4BeoB0oAzngNNf1vorTk8z1D9MzqM26lKaiuusJMFEvTu4DvgJ88t2l6q2onAQOoe5pxMzKG/v+v7DafxAiI4jchOi3Qe8DaU04G5QK8DTITxF3DmdVhh5I7L8xGdhQcKkbgR8Dd6PiJd+ugNAKfBXVVlS+h3pj8S6SmUke1QEIUxsQHgbuBm0A9KoACfeAPIwEG7TvYOKJiWFRtSB3AvfH2d4caWziAV9D9E7Arius9g2AkS7gIZD2OpsBpxBEsBLF307j32vyajvwII4u7X8iEWwyzSoGx8eAT9QFBeW27hx7P2TpaNnAYrXIq+9EjFzqRVWQq09CQNiDyO3Av0ig3WSwggH9HEhLHVDHp3dc5ht7YFtHG/HRtnHXzkV+cSLP0clNUAuYFuCzKMeA8P0wkmrWgNxKLX05hW2dC+zvL7Gtowf4H+z2jh7295fY3lHE1QycBT4KmogjGawiKL3UyioFtl6X5caNm2qsZ9i5cSNbO7J1DllAe0ATZWtSGQBkam9EwTMeIrUdirRgxdZNNCSbiCFxZGNbqAMDBb/MYnW+5viiP0/RX0LqBq+4zrDqQEdBo/cMWYGxyxmeHXE4La0Zc1rimRFlrJDF1oBVIpS3UVwSioTlVh3IIHHTsjbJRMAPMzz57x5KK1N84eYibaluloJLPDu8wjMj2/HDNKYGrBAAJ2E9YQVHxCsYpoEPv2fcAKVqmj+c3sGfhsGKJXI34IcQOlsTNLZpVP6JTQabVLOKZQY4VDsKEkc4dJZy1bLgQ3nFEjp7Da06lD8COTRZM5O4wGv/AET6EUR+h7A76bxr2AlU7v/iwm/ffiOcxjiInMFahzOCAK2+z95cjtVWp7F+tm8gBdwDHAC2NEup6MxlV3n03uJv/jrtKqkQPOMwkTPGWhc5I05gJev7lVsWFv03u69nS8o1/FoTAM8Bu4BHgFQjiCA4VXc8mDj3zfJzXXOu/CUP4xkwGMSauMcw8cPOb8mEQ92ZgoGzM5GMNtznad8AwA5UH0f4PNcQZS3csWh+/LvlI8+fCt4pWonvM1nzhMSFRkDjwuYElh36j0aKAgDy+j6AC4geACYambvglouH/aHB14KpgsWoxCCOdz8Sf4s4ECeiTgRRtBXVDQ3DXgFWsoWXgF8BlSRzAo3CV4LR1w77QxMGqVudr/IkqIqKTKsxo03BAtA+F6HyJMpfrn31KKrK2Sg38ljl+NCKhi4BqABGwQdOGzhiMpmLzf9vcOkWWKFAmp8pejPKrtoQwpwrzQ5UTgxeiAqVGm2bgKz2OYrgUK0A5xE5B0wVstlyZxA01MisRXh9H6RQhDcDogMRq33BlSBf8e67oPrn6pnBl4PzswKrxx8fr2JUBVRDYAmYVHjZet7vFV68a3JyBChvLxYZP3/+A731xUx9A0xG813dpuNHWVL7jYi3mtWRanQsGDv1/fLfjk67Rd+KEUBUFRFZAZZUKQh6QcSMRnBJhXA5n4/aurrAWsbGx9do4wPbqTselc3Seftm03awldSnjAgKTIT5iR8u/f3IsWB83sNY4nu6ICJzwIyITFnPu4gSOBcSBZGqZ2ltb+etM2dqCGqdbOLjPyEt9t5uaXssJXbLgvNLv14+fuTx5cGzKfEKAjOo/kch15rJzC5Xq76IYFMptu3ezUtPPfW+PtYNFuDFXd/K3Kabf9Al2a+fCC4c/c7SC4cKrjJhkLwVKU6l00tbfJ+WdJrh0dGG12/+NqhhmzTrT0aFn2esd/itaLYwTiHvXcz5nVt3oKp8Zn6eF/L5ptf/L2sInRchOhqOAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA1LTI1VDAwOjI4OjU5KzAwOjAwM8i5WwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNS0yNFQyMzowNjo0OCswMDowMJwhuk0AAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAAgCAYAAACLmoEDAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH5wUZACIosGP4JQAABmRJREFUWMO1mF2MlFcZx3//887Ozs5O96OwZekupiq0ptJigFhaJaZNa9MbbTVBY5pYY0MlxiZ640XjhfHGxtheGFNFL7AIGmIbEy2Cix8sCSWxSCiyKyy7QGGXhd1hZnc+dnbfec/jxSwI7ADvjvhPJm/yvufj93ycc54zokHt+tYqMnMtOHN0lu7RdGt2KdBuWApTQqIKVgHy3d2F7PhYu7koork0y6d3DTQ0Z6JR2Ltn23m/Y1Crcw88OJ3OPgpsBNYA3UAGKALjwNHx8bv6kT+06r1LA/9+bJk1Oqca6fTnF9fiAtftzW8CvgI8IsAAzQ9p1yDNvzkE7DRnu5zXxSd/8c//L+y+l9bjfSRMDyB9V2ITRjrOKDV2Kwt2yXjVnE74yNvTvzwSe/5FpYESgRT6lQY/AJ4FS6B49tY8rzTG8yZLm9krvmrDV+2IIRe3Yd/m9VhY7QC9jHhWIrHYLJpPlYShL2C87JrUsfeldbH7x4Y1LDDjCeAFoYYX5nwgEoKvSXrCILijsHs3ryMw1wl8k9pKX2iMGeY9vhriwzl8NcS8x2xhlAWYlAG+EeA7+15cHws2pofMefzDwCdvBiqwtg9/fHzpwxuDRLqto1qezk8c7Y8KZwe7zUy6IbcFYHoU00PA34mRu7FgHXKIp4DmeqCAX7rmM5fv3/Qd0l29rdRC29r9yDPTJ3e9lp04un+JGQuAgWaDJ4UdAKq354gh1do9SL38Mk/6nt6plZ/fUkh39S4DrsKmu1Ys++jnthTSXSvymK83dCBYjeJxxGpkmMC6qbP8zYyWJT0trT0rl9QZz2V6V93dsrSnpV7uIoRYdvUkuY1i5qwAUvUtMRQkEvViDCCpWUEQYDdNyZZ4DHE9a2DGVH07xFwxVwzL05P1Poel6cm5Yr50i8Mjf0dhJbzEEBAt+OYCSmPDqdH+t715X7jOSO8L5/vfstLocItcve3UIjM7aVY/oW9UvDQQHuMgtaLlulklEc1VUmf2bFsWlgvnejc+lw9SrV1RpTRxvv/tufMH3loRhZWktNAvZgqBQ8CdgzXkRfQ3cGPARxZ63hGWC8kP+n593+j+30EQBETRvdFcBR9Vg3qg8xrD7K9GEAs27tZlEFww2HkzL0jCR9UgnCkGYXGKcKYY1EDr56oZHmyHwTi3WH03cMRT3+b1eKL7hX4ltCFuv1voXcle+OG7UyeHp6o4D5F3BIHHu9pelq5U2Dg+zhvzHWIXEdsPj/HVtT3TkqaATwF3NUppxoVC6F99pT9/ZLIctXlol9Fupg7nLGNSRtCcqFZJRz6q3tuj1UvbFlk9iRD4A7AW49smmuKGpnaLAG/mB7PhiW3Hip3Ts/5LgUg4cDgUOAMwV2vuK82p6pGuVM7B8QuRhhZ9renbvA7gPsN+BvqsFlnUjhejke0DxT8OXQ7zgZOuGHGdSWbzDwF4wYzH+mLXs1f01NbDeDiL9DpwOn6dD6U5n99/vnLwVC7MOdW8p9qCnf+p9pQ8yEvmJWRYGrOORcMCPL31sCU6W/YJfgqU4/SJvFWPTYbvHThXOS1qu8ftJWEmk8bMuaGGYAHC7kwkbBuy399q6zFqxc7ZQjT4znD5SNWbjwEqwBlUgKMOdrtUarTh60lyYAKfnMvZXPJHGB8zbG09CAH5WX9x70j54KVyVF7YwgS6Yq7VTksrA6eQTgDnci0txfYwjH8Hu1GPbz2MhU0m0/tV43UPBfivj6+UhGHkZw+NzR48NhFevCb8tfAazkxgVgVKwBmDvwSJxHaDPc+cOTMIFFfk84ycOtXYnxzXat/mdVyaiTrbku77TY4tTkqY1S6GZhYdnwz/sWOguP9yxVdcjVRWuzbMASUzcsLOSm4oggkT1ZlsNmrt7IQgYHhk5Loo/c/6+ZfXKJPQQ21J90ZzwGNX0mG8VD3928HS7uOT4WQgAiAEcpIuARcknQsSiVGM0PsqURiZJQLSmQz/OnasbkrdEe14/hM0SV+8q1k/STgtL4e+8KeRmd17Ts8cD5xygguYnTcYT6dSF2dmZyuSCJqa6N2wgX1vvnnbOe4YLMBrz61NLc/Y9zJN+vqJy+H+7cdLOwuhP+0gG0j5c8lkaXmlQnMyycDQ0KLHb3g3qKdMk1UuzUQ/TrrEbz4o+NzFClmNjlZaP9SDmfH45CTvZLMNj/8ffOgG6JpOcn4AAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDUtMjVUMDA6Mjg6NTkrMDA6MDAzyLlbAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA1LTI0VDIzOjA3OjAwKzAwOjAwxEaR7gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII=",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAAgCAYAAACLmoEDAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH5wUZACIosGP4JQAABZ5JREFUWMO1mF1oXFUQx39z7r3Z3aQx2TYxCVo1aaviJyhqK/TBUgVBRVT6oD4oIiqFgiAoqIjogyIaoYgGFGrFVuuDWloRrWgrxmKrYmtbbZovY76z2e0m2W6ye8/4cLe1obvN3bUOHO7DOTPzP/+ZM2fOFSoUHQaygAVyCB4NKHUIUcAF8ihZIMUUCepQCGbkosp8upWCJQM0IoxxBS6rgNXAtUAzsAiYBkaA36hlD5a9xDlMsgC6ApGKWO0GhGaUdcD9wE3ogtb2AluAbSijsvx/Bqs9gEUQLgOeBtahVJdhJYOyDXgV5U9AZUV4/+WlgUFQlgMvodwNuGXGphp4sPB9ljzdED4tTFms+tQDG1DuRsoGGojgAvcgbMCjXrvL4Sq8EwdYAzxUcFi5BPoPI6wBnHMKtsBqHFhPcNKLLCoxSgNehPI4lnhYdsMyZBCuQbmxaOiDSqBErh8hdqeDE6/HJlPMbPeZ/aUZkBIpswrhapTvCJG74cAqBrgVIVIUKGKpuWOSxe3gLashCG0Nix5Ik3gywcyOJWgRwIG9tcD3QH5hxsKCVa6gVH55bcepf3kKb1kT8C9Yb3kT8Zem8NpSJSw7KFcVyFhQwh4wIbiZigfTuyRG1dVLitgzVF27GLc1VoIEAZoIWe/DpUFgKlp6geciUtyhSATxikdEACVGSAlfuuB4yRl/Yho/OVF8bnICOz5zFiJSYet12Jy1KF0oftH53OEo6Q6L+lPz9fwp0u8oc0dKsecDRwl6twUlbOmyQCdB0zI/pALYTJTUK03Y1ADnPZrCnNeITY+T7pgj3bEUm6kqwV6OoMEJBTZUALQLAVoRvkZoK8E+iOsj1SCug+Z9NAOad87ipQfDWpQ+aVu4zobNWUUYRthSkgUhAGbTDv4k2LSzAFALfIhlhJDNTOhWpHAlXgq8D6wMq3cW+RGHh+57rPnoL39EMBZ8a3AcizXB/VGdzbJ6ZIS3CwqhGxJZBnqMXoQ3gXagpVKUqgxPpkzHvesvGB8aMecXcJjC8AuszylkxmPV2Usbz6fFs2U23wG71cALwJOAF14ZELAW+8PP0T1PvdL4+VjCybpGXQ1ASiGXFBEFLEoeJWngkBjtKqvVk2Wg3WSAtwneW7cRNpUkwNsz4PVt3Fx/YGzCiTsOonJ6y1DYkWphvYDQotDqK1+XcymcAgz0o7Sj9JajezxtUlu313buPxhNOg4qgpUg5IUhwVfEglgRtSKIotWo1pcNtgBYGWMX8BbBO3dByeXJf7s3tn/rjtpeY0BCxUMEVVGRITWmqyKwAEzio2xC+Qw9S+nRIKqHjkaObNxc/+tcTmwIoAIYDf5M/GbgCxONDlb+PFkOKEmE1xQuR7muKAiBsQlntOOjus7+QS9z5hoVEFQLWxMsqhngGCJ/AgPJWGy6Lpcrq5GZj+FygteBcCCXo933mTrJ5Onf7Cyzn361qPObztioyKnwB+FVjKqAah6YAfoUvnFc9wOFL2/v6zsCTC9Npeg5dqyynxzzeOmGvkEn3rjYvhiL6BPG4J481L7F/35fdN9zrzfsHhpzs05wn4mqIiJzwIwqSUH7RUyXD+Mq5E8kEn5NPA6OQ3dPzylf/+2VSlAd9m03KdS827A4f311VG82JiC2f9D9671P6n7+e8TNuq46quSApIiMAcMiMuB67iBKzto8kvMV16Hh4ov5/eDBM3z9Z7AAN9yV097d3oH0lHkj4vmtxtCSnpapj3fW/rTnp9io55EUZBjVvxVGYpHI6InZ2WywW+HCVSvZtXnzwsScC7An5ctNtdErV5x4Pl7nP/Ljr7Hdz7zWuCV53PQa0YQjkhqoqpppyWaJVFVxuKurbPvnhNmTsiSez/YNua9HI7r1965osmcgmnCT/dm6S5pRVW6ZmGBnIlGx/X8AIXpAQWXTlG4AAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDUtMjVUMDA6Mjg6NTkrMDA6MDAzyLlbAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA1LTI0VDIzOjA3OjE0KzAwOjAw/KO1YwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII=",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAAgCAYAAACLmoEDAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH5wUZACIosGP4JQAABh1JREFUWMO1mH+MXFUVxz/nvje/3s7+mLa72wqNSykIxEKCqKUJf0jQgGJCIGKC/AEaUSEh4R+NGv8wEMUY0xgjTI2J2Go1/EWA7hbBxELcboKh0tItZZfd7a50Z3dmdmZ3Z2dndt67xz9mt7bd2fbNUE/y8jL35d77eed83znnjtCqvfRrcKPgCBS7ha7sFtBOkDioC+KDVFAt0lXKU0wqvgu5Tvjm11ra0m0ZNhqDXFXYHLuJzuztwB3ALcBWIAmUQDPAu8y3vYnRId6+bZg9R7XVLaWlWf1pUN2K8CDIQ8DnEb1oufOZBGAI5SDoixgzw93f+T/DHkqDEUH1U6A/AHkQUS/UMgqIlkFeROQXqJ4Gq9zzeOjtm5SBFdTsBJ4G7kNwQ7+vAIqH8DCqHuiPwX7IhSG4pJnQnANpwHQBTyLch0jzehcBVRflfuBJ1HTV173SsKiDcCfwCB/nwxShHhEeBbkTxbmysAP7wJoU8ARCsvG7aP2ywf+utbHG1EmE72I0xeHnQmGE9ZBB9GbgcxuCCvqZjp7MV3s+6aTcaFehVi2+nJ0M3lnIbkVVkIbavh3YBfyDENoNCasG4YtArBGogL23p29u7w17uNbraAMcoO0bV12/8NT7g/lXZyY2bwAcQ7kLkbcA//IeC+tZuGkV4mJadnid889c99nFa72OXuAc7E6vo/fpnbct7vA6ihs4zgE+jYbjCAsr1CvT+lgq9HntiV3JTZsbrGduad+86RqvI7FBkAWlFw2X/5r5quONh5WIGFeksShFJBYR4zT2rIBoIixAE6mL+cbDQm6lUirUqrlGT+dqlVx2ZXmpYfFQQCmGLQvhYBWLMgIEDVzHcGkuvm/qlA1UF89/FKgupieH9VSpkGiYDYQAkQ8QsWEwwsrAgg6i8hBy0UcmQjnw48+OH+st+tWpb199Y7HDjXQv+LXsvqnhlX1Tw9vLgR9tnLq0BgwhhIINV9gPpQVHr0F5HWTH+j3rcXSNCTwngivi+KpBOajhW+tskGMBxkDuQvwJ7n7ismIIq1kFpoGDqK73ggiI4FvrLNSqztxKhYVa1bkkqKpF9c/1nldCqTZ8i3g4DVavR+SPwO7Q8za2o4g8sv3nL3zgTpzFWAiswXEs1ggCeJUKd2QyPN80LMBrv4sQBPcDexHZ1jKm6rQpLf/wqmd+/3J8finig2ssJrDGOI4NrBErsJKoVMo3zi9Ujnf3sC1im+yeVGuovoKRW4GngEgTc+tysWq99ydO9/zhlZQ7v/h1NcY1YDCIYxRATV12thKL+8e64wUDJ6cDGWn+WHPoOTCmDyUNfAlpLjqRTH6s50D/q4mRySKOc9FhaPVXvTFCVQCswLJFX2+mKNTtK4+DmjOI7kV0vJmpprRc7DzyzmBidKqAMboKYjl3Sf0uYkGsiFoRRFEP1a7mYQG+/JgSLbwB/BYoh5oTBH7bidF/db717/G17HF5E0FVVOSsGjPSGixA8myAygsoL3GpXnS1AY9PZk5t6v/nMfF9GwJUAKNQAd410G/i8Y9aP55kb4aIKWD9X6J6A3Br45IqOMXFma7XhgYjs4XyeoWrgKzVFUWwqJaBUUROA1OFRKLUWas11chcaPc+BjZQ0OP4di92tS9YO8as3mWlVm0fOjHYdnx0BmEt/PXwKkZVQNUHloAJhb87rntA4fA9ExOngNL2YpGx0dEW/+Q43wbSOLm5lG1P/lQjke9hxD2XplQD7+TY2z1/GjjiFhYqGCOAqCoisgIsqVIQ9IyIGQkgq4K/nM8HbakUOA4fjo1doI2PbZH0jwQvuctvb3teY9E9a3KIZPLj3X/9W793ciynjnGAGlAQkVlgWkSmHNf9CKVmrU9QC1RdBy+Z5L0TJ9Yr6krAAkT2/wzruA8EnW2/wXG2mXJlMTUw2J86fPQkrlMAplH9j0LGi8dnlqvViojgRCJcvXs3b+zff9k9rhgsQPuz348vb9/yk8CLf8s7feZI74H+g6ZUHkck74gUp6LRpW2VCrFolOGRkabXbz0bNDC/PVFxZwu/0k9s+UtscrYQny3ka9lMRfv6UFW+kMtxKJ9vef3/AgyZp3iOwsFtAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA1LTI1VDAwOjI4OjU5KzAwOjAwM8i5WwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNS0yNFQyMzowNzozMyswMDowMHshjJAAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAAgCAYAAACLmoEDAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH5wUZACIosGP4JQAABjBJREFUWMO1mFFsXFcRhr//3F1713biOCVxotiolJiUlpLKtiBFiiqqgpS3tkhFQjwU8QBRpUr0BSHEA+IFVNoIIVQeQ4CAKiVCoUSIFokEKUSENGpCYxJnnUQmteN4u+v12r7ru+cMD+tESbOO727DSFfn4dwz852ZOXPmXtGmDE0NkY/zuODYnGxWMVv8GEavyXJCGaBuZjFQnp+fL/b29prHU8vUOP/x823ZzLQL27vYy9imMe2Y2fFIMVN8AtgN7AS2AD1AFZgG3l23bt3xEMLJmb6Z8/2lfmvXptpZNFwYxsltCRaeB74GfB5raNMqKg07CRw07A2Zrr+z/Z3/L+zoxCg+eEnaIfRd4HmMrrRaDFvEeAP4iUwXAsHODJ1Jbb+lNIhcpGBhO/AjjGcMy0jp9yvUBXzdsC7Dvm91KwCp08K14tW6r28QegnjGURLoLcRZ4SeQ7ykrDaMFEZSL00Na7IIeAp4QVLbB/MmMPANSU8B0X2FHZkYwXnXB7xI46TfvRkzggUSS1i2ZRJLCBawVaIsqQfj2yGEvtHCaCrYVB4yzAWFz2J8rtlhMjMQ9mjno9O787uj9dH6DZVQKR9fOO7HamNbDFOzlBF6QtJjGH8jRe6mgpXJAV9CdDYFhfBk95MfvLzxZQayA900Qtu9p2dP5bXia8VjC8cewLgbuKHvacP+DtTX4kiXs4bDeIQm+RUIDGQH5vZu2Ds/kB3oB27BDmYH+/f27Z0fzA6WA6GZ5gjjM1g6jlQvGSbDttCkLhvGtuy2/PaO7Q800eeGOoY2bstsyzfNXUNAPynrfbo0aIQvt8pGyJDJaJU6JqkzUhQ1hRVg5NMwpPbsisw1hUGUfKla8ZXZZvMVX5kth/LCatcwopz2BkybswFjHMN/eCoiopAUcocrh0OwMH/7XLAwf6hyyArLhXzUpJwa5g27aFgghaQt7gE4QaNpucOqJOIQ5/aX9/fPh/nJZ9c/W+523ZsWwsKNw5XDy4cqhwbjEHc43e0XoQQ4uaJ/TUkVgNHxUXn8J5zcW4iHmjrfjIwyPqcckaLIm/exxdStHt3jWp4wZ09HFl059dCpNets2py1SNEU4uBqXpBE3epRNVSjOT9HNVSjNUCDYb8lMG1YqmYmdScyWhjF4z8l9CuhXWnX3UP+YZG9sPituYu1/9RxAXxwRFEguMZx7Ipjdk9P83qrsAAjl0ayiOeAfcDWtjGNqVAO35t7sXwkmg7ZOmRcwPngXBQFH5yCYDkfx4ufnqvEZzdtZms2tPhZIxLgj8Aw8B0g2wIgCCxYqJ9OLiz9uNqnYviqOTIOHA5FzgDMNd4OcWeufmZTruTgvSmv8ZYb0pX+80HDfin05Vaj46/6icWfVt/0Z5OyIsl0u4KbO7KVQQBBsBSwt1q5FAA4/cnTAFdl2odxuZW1Vgnl5SPxCX8uKRFhiKDGgV151BilAAqSBQkZ1oXZhpZhV4AtP5N/G/gFsJgKtG715GTyr+U348u4W1f4GiJhJpPeN+fG24IF6Pmgx5vZfjP7g9k9So81arC/6MfiA4tnLLGQAlSAM4iBdx0cdbnctbY/T25sv8GyLZc61PEK8LCZDTeFENhsuF77/eKJcM0vNunbBLpZaQ0RMFsELiFdACZL+Xy1N0laamTukNMPnyarrEk6S8I+PPM3PdkYV6zXQm35L7UTyYnkOroV/kZ4DWcmMKsDC8AVg79GmcyvDf6858qVMaA6WC4zcelSez85bpeRwgj+mu9zG90P6WSvnDK3lSlfP5WcWnq1eizMhFiRBMjMkLQMLJhREnZVcuMebpioLxWLvruvD6KIwsTEHbnxkWXnkZ1Srx5zG93r5PiCnBqFcrJ+eelnC0fr/0xmyRABCVCSNANMSZqMMplrGEkIdXzizTIRXT09/PvcuWYZdX/k8WOPo6y+oo36ubLaatUwH/9m6Wjt4NJ7yqoETGH2X4Pprlzu+lKtFksiymYZ2LWLtw8cWNPGfYMFGN4/nLMh+4F69c36meRY/MrCQT8XLksUI6k82dGxsDWO6ezo4Pz4eMv6P9rPig+J9Vns3/evRp2Z3/nxULJJila6FuvBbZgZX5yd5U/FYtv6/weDRwGc3Jre9AAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wNS0yNVQwMDoyODo1OSswMDowMDPIuVsAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDUtMjRUMjM6MDc6NDkrMDA6MDDVlNrHAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg==",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAAgCAYAAACLmoEDAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH5wUZACIosGP4JQAABmJJREFUWMO1l1tsXFcVhr9/7zPjGY/jSy6NXVHVScsttCBVqElBFU0FFYiXqkitVPEQBA8ERBFPqCIUIZAQApSHFgchSEorAuoTUJJSNalTUNNQLs0FO0qcOE6d+D6ecXwbe+bsxcPYpYknyvE0LOloP5yz1/r22v9Ze21Rpz3zxlrcYgULMes2NCk/Prte0AJkDEWCCkbJsOKVcnu+OT1sFfNMqYGnto/XFTOqF1bzC6Q2NKuSn9kyOT53H3A/8DGgHWgCZoAR4ERzeuSvoGP/mr21d2tu0OqOWc+krldzBNEuuUdlPA62FRP2bqfLng2QYXAMtN9CeMF7Rnc+MPv/hX2mO4cHmfFBQ99GPApqvKETq0YybE7wgmQ/DsYZ55zt/NR04virk0GIZfJ3gn4APCxTlGjJqgILNSL7opkaZXzHOzu/tJRE5pJ+2HV4Dbio1aQnEA9LilAC0HcDCwxFZjwCPFGJ1dp1eE3iXCWGNTMv9CCwg+WM1mFVZkWgL2E8iJm/qbBdR3I479pkfF2mplrZNDPMYuKwSBwWiMMiZjFmNXZZgKzJsK+ad217DucSwSbNkDPCRxH31tp3MwNht6z5+Ejnus/6dNTaulgpFgcmXorHZo63m5mklfME92HhbuAICbSbDNbkDD4jaLgOaOhc//nJT97xI1qym3KAB3Lv3/jYldfPPZkfmDi4biWwABqQfdqkvwGVG2YsKaxMW0Ar9GUEWjKbp7Z27ppuyW7aCLwD25LdvPHeTbumW7KbikZY6Ra8obsMJeJIBiuEaKeGBswCzdnbs2tzH1lXw59bl7tr7ZpsZ9Ys1PYMG1GymrKavzpznbQjRVFNUQKSGpwiX0uSSxOySSttosxa9ZmqDeMolfMzC+XiRK33pXJholTOz6rWTlcdF28qrCAI+oB45TvP5OzpTO/w3mAWrjo7zcJ0z9Bem5ztzYqV5dREbOKsiUACSyQDCwTEUeBxXRNVEpV4LvPvt3dvXKhMDW7p2FFM+TUbyvH0eM/QvsXeob23VeL5dK3MCsrAMW4mbEDBQTeEIUybr/0dJMdCuZg+Pvh0Z8/lXyN5bxbfWg5zhFD215OAiSEz92okSwSbVAaG4mGJ/chCLY1JEELZL1SmfKk8yUJlyldBax13gCwIfisXRixhM5O4RezqzoHcBzB+g7Gtvk74KntDnh37v9d89lJ/hAsQB4f3geCqtayxVOL+kRH2rBYWoOtQcwofHgF2Y+qoF9jMhuem3ZP7nmr9U7moVAUiF3BxcM77EAenIFjMlkpzH566Ujq54RY6UmGV/awoI3uR4O4x8S1BKjkgSIYFhYu96TMv/bKpbb7oHvPOIgcOh7wzAHNVWYRSQ6by1oZMwUHPcKy+Veem60gOC64T+IXgoaSnz7IsJ4ei/pf35f586Uyq6L3JrnKwfKWwpUFQLZvzAXslcT+7bF97YJYguwi227ALq5k7P+OKJ7ozRy+fTRWcw0BBEHjnUXWUAihIFiRkWCNmrauGBfjG9hmb0vwhoZ9jzCXJaohV6T+R+ufJ7oYLUrV63NgkzGTSkDnXVxcswIVMHDvTs8AfanfYS5hW3c7RAX/62B8b36pUFBKACnAGJeCEg4Muk7lc9/Vk63Qb026+kFbqJ6APYdxTC0IyZgp+9M0DjUeLo36uRt8mEEvLNUTAbA44h3QGGCxkszMt5XLyO9i19pWHCjQoZZI7GSrstsA02HLQpdGoLGqh5/WGo+ePp0b53/ZXt9dwZgKzCjALDBgc9lH0vMFfPjcwcBqYua1YpP/cufde2ru6mymOubbG5vj7qTQ75SwyU7VMmeKBk6l/vPJs7rUrk77k3NLtywxJi8CsGQVhFyXXF8O4icp8Ph/n2trAe87391+ljfdsu361Vpmm+O5cc9iTzvAJaalMDfsLh5/PHRw4lZ5w3jzVxqUgaQwYljToo+gyRjmECnE5Nos8jU1N/OfUqZWSuhmwAD/8fQtRxBdyLeFpH1lHadZN//3FzME3DzT2uIiCYBizSwYjjZnM6PzCQkkSPpXifdu2cei5524Y46bBAnzzp+sz7beXv5ttCl8e7E2/9vLepv3zM+6CZHkvFQfT6dmOUomGdJrevr5V+6+7GtSyXHMoFcf8z1Jp+93Y26lCYawhz/jFUrazAzNj+8QEB/L5uv3/F2k1+QZ70J2JAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA1LTI1VDAwOjI4OjU5KzAwOjAwM8i5WwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNS0yNFQyMzowODowMiswMDowMKLS20oAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAAgCAYAAACLmoEDAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH5wUZACIosGP4JQAABdtJREFUWMO1mFuMFFUax3/fqarp7ppLdzMDDCwmzAxegrIka7KLF2JkITFGE5NNfFAeNPuwGh8ML2rcbDYbXMNkszFmH7w8qYmYGB92jcuDwkYwQYzILEFmggODgDANc+menkvX0FXn24dqFJZuprrVf1KpTup85/zP/7uc77TQKv4KmNrvKoJHD0IWSAMuEKIEQIlZpsihGKAT+ENrS7otk3WBACHFejzuAjYDG4FeoAOYAwrAUTo5gOUQ9zLMAbTVJaUlq12A0IvyKMpjCL9JYHUI2I3wPsJFnvu5yQ7WbJRbgeeBRwE/ka0CwgLwPoZBLCewKC8mX77ZMBBgHbAT5RHATbxdARQfYTsWH+WPWE7VtpEITpOq5lFeALYjTRC9lrABbgUcDIf4LQH7kpmbZMO+39gW4Al+TGIKILjAk8AWJLlgyci+DCh5lGeIM/16KGCBCAhrb8uNnNwBPIUlz8vJyCZVyKD8Evh1XdfHyaN3rrqz8PC6h518Kp8rLhZLH45+GB0pHOlFkevs4pC4C2ED8CkJYjcZWcEA24BUPaKC2Idufmj6lS2vMJAbaCcOmfbH1z9e3rFvx9RHJz/qrksYUghbgc9q/lhCsaRkhfV140uhP98/89Lml2YHcgMrge/JrsuvW7lz887Z/lx/qa5ugoNwR02MJZE0wYT4ZLpeG4W12bWZDT0buuvMZzau2LisL9eXaeBkAVaSsN43k9XpRh88x3NFpO6CIpLyjNc445VMUgLNlK6ZRtpMLkzOFYPiZL3P08H05ERlYr6hdkIpab1OStYCo8QF6TqywxPD6Tf++4aNNJq9+lOk0ezrQ6/ryMRIpgGhCPimNv+SSFaQtyIo3cADtYJ+DdmqrbqHC4cz5cXyeF+ubz6yUaowXxgf/GKw/OpXr66euzyXakD2MvAmMMTepUtXMgfsQrD0IXyC0F93jILruJHv+bjiOqGG0UJ1gTAKnRusMlaT4lueX5ps0jBQhHFgN41cJhBGoVMOys50ZZpyUHaWIGpR3iXueRM1M8lbkV2AcgvC28CmxHaN8TnCEzd90PuNeymFsRBZg+NYrInPDz8I2Fwo8FrNIHnXtRfYRpm4KtxDfEFpDcq4qZjBNe+uGUrPeF0WsqJkVSVnjHaoSIdAyg1D/MhG4epfyB09XdJck7cLiJvtPwM7AK8Jglf6Aet/lz6wYt/yf7kLToCoq3E4Sm2AIhK3RUqIUjRwXIyOJlf2irpbqQInUW4HBuqe+PVQG+WVvNM9B5d9liq2CYYuFWkXET9+NH6rtovQAdKF0IPQH8Fcc2R/IDwDTAD3IOSTmprAlPJHs/s6T7VfqPW1KrHmtUfit4iCqIiqiIiiHqoXmyd7hfB9fIuLIb7VLh0OlrBjzD/YfTh/TFQ0mT9EUBUVuaAiXzRz3F6LEhHCWyj/RG9QemqapSdSI8u+yg1JJDYBUQGMQgAcNbDHpNPnW7+erAZmKOLzN4TbUH5Vl4SAM+dczA1lD3oz3kKd3QgIqrWtCRbVBeAkIieAc8VMZi5brTZRuv4fHwMPAB6XiJgHtiGkrsr6OL9DFrtGuv6THe4cE5UriRa7FzEgCBqCVIDzKhx2XfdTa+3xB8+cKZzM5S4vn59n5OzZFv/kuBqD4JScvPXtX9TVpxHcqwhH/tn0lyv29+x359wAE6eVqiIil4F5VYqCnhExoxFMqBBWpqai9nweHIdTY2PXxMaPhvesJ2TYEPrha+rp3T+UKff08gPde/xzmUk16gBVoCgil4BxETnnuO55lKq1IVE1UnUd/I4Ovj52rF5E/TTwXvCwrv1dlIn+gcMqsyiz+SO5Pfkj2eM4FIFxVL9TKPjp9MXK4mIgIjiex5pNm9j7zjtLrvGTkQXofLozXVlW+VOUin7vn8/sX7l/+W5TMacRnXJESufa2uZXBQGptjaGR0ebnr/1alAHYToM3JL7d+3W91KT6WK6nJ6qXjgT6NpeVJX7Jyf599RUy/P/D0pQLH84wUhqAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA1LTI1VDAwOjI4OjU5KzAwOjAwM8i5WwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNS0yNFQyMzowODoxNiswMDowMJo3/8cAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAAgCAYAAACLmoEDAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH5wUZACIosGP4JQAABapJREFUWMO1mF1sFFUUgL9zZ6bd3ULbBUpBJVTwB1E0UaJg4oNGTUw0MZoYoz5ojKAxMeFFQ4wxBh8wxhB/sWriPyY+GH+RBDT+FhQVFaSBQrtQhRba7ral22l35h4fZosou3R2qSe5mWTm3nu+e+6555w7QrWizwI1gAB1AiOzQBqABOACAeCD5qCnH85QcIA6kNurUulWDUstkBNIL4b8cuAq4BJgDjANOAb0AL/BnG9At8HS3dCm1WqU6qz6ChDOAbkNuAO4IsZU24ANYN8H04us/J9hdT1gBOR80EdAbwNJxRwMkAfeB3kK7B5wFFkRW32FbhAIeOcAa4CbQSoYLwAp4C7QFMij4O6fWEUcMfGt2gp4jcBDEahW6+8ucAvIQ1BojHZrqmFRB+Qa4O5IYXXuHom4wD2g1xCFiCmE1VZA0sCDINPKdCq28IQ28a5k/2nA/UA6OrCTS9ytNMDFwOXlQdHLaOq5iflOmtrGLGO5jzkY/sLROaBy8k4IwHKQJcBXxPDdCmD1OpDaUqAC9kZaBtaxnIXU11GM/ndy7tAqtvZ/SmZmaWBqgWuBb4mSyKQWiwkriynpX8oCGgafZOnwQuqbgeOw51DfvIalwwuoz5UxnANcBBqLIy6sEGWmkqeqhenJJcyYWWI+cwkzZpxNfbL8vNocWX1yqST8JEq/VjyMK0hJhYLUeohT3iWl3EJOkgpCF4PljNOHfyzLWF+prwP4fUfxR04R6nJTDKsWtAM0LAW7m4FEK+02RIdP/BKiwy/Tru1kk2VgQ2AvYONQxHQDtSBtREXLfw6ZkCdIrOXX5hzj3fexKFeP1zRE4Wgru8dbaZ+XJ6gpA1sgKnBiwcZLQ7peQM4GNoMsKNGhuHITpvBwESfAhnkCAqxzCjWdINcCGWTFpHE2rs8qcBjYUNoKAggB1hlizBnAZ4hxZxJQC7xLVPPGKmbiJ3htBfQ8kDeBZbHHlZetIHfPu/n1ve6vhzAWQmtwHIs1ggAp3+eqnh4mSp0K69lWD7gFWAfMrRpT9bAZyK8+89ZXP05k8l4ArrGY0BrjODa0RqzAeNL38xcMDvm/N81mrmcrhoWoJn0cWAV4FQyObGPVpr7r+mb2qk8+co8M+zjG1cgdi+lYFREFLEqAkjXwhxjtqLzOi4BbQF8GrqdMMijH6+3v65z9yMZPkz8czOE68u+Kobgg1eJDAKzAqEU3V5IUIonuTgdA1wFdlQw1udFcwzs72pLbu7O4RhGsRAet2CR6ilgQK6JWBFE0hWpj5bARsEJ2C/Ai0b1qcimEQd2XHT81bNjRFV3j4myICKqiIofUmI7qYAE4EoK8AXzIKUOPgiqJXT3tM577foeMBzYGqABGwQd+M7DRJBJ/ncZ/gwsAssDTqC4CLi0NITi9w72N67e2eZls/uQjHXmtanFlgkU1D+xDZA/QnU0mjzUUChUVMv9hWFk0G79TCNcRTtQFE0aOnuIXxqZ/sLOt7ot9vVHukGgFqqKKURVQDYARIKPwheO6bytsuiGTaQeOzcvl6Ny377RufUWmVpxMX9o21T+hSe8BjLjHT3WgYerb/dtnr/78a/fQkI9jBBBVRUTGgRFVsoIeEDEdIRxVIRjt7w/r0mlwHPZ3dh5XdRpu8I+FzfbVOYPzWjCr7jJNeVdiJApTBwYONr7648/un4O+usZBtQBkReQIcFhEul3P/QulYG2AFELFdZg1fz67du4s4VBTJF7XWmyNc2vYVPc8njPXDPrD6Re+35h+qe0PatwscBjVPxV6UolE7+jYmC8iOJ7HWcuWseWttya3y1TBAkzf9HBi9MJZj4WNyXtTWw983fzwZxvMQL4LI/2OSK67pmZkru9TW1PD7o6Oiuc/fTc4QYKZSd/NZJ/RRe57tbt6s4nObH9hqMfXlhZUlav7+visv7/q+f8Gb188Ax2DNawAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDUtMjVUMDA6Mjg6NTkrMDA6MDAzyLlbAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA1LTI0VDIzOjA4OjMyKzAwOjAwLF3cqQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII=",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAAgCAYAAACLmoEDAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH5wUZACIosGP4JQAABQ5JREFUWMO9mNtvFFUcxz+/M9N2d1HaQgEbNVy8hEiURIIBEx98MTGRhIR/wMQnHzThQXwyPhkfjBcwBg0mKiJiTIiYoCQKEWOoEZWLXCIt2+VWWnrZddvSLTszXx9ma8tll9m2+EtOJrtnzvd85nd+8zu/M8Z0TZr6y4A2oBlIAT4QACWgAAwCkwPMpjWlP23YSchHgLXAU8BK4B7gLmAE6AWOAT8DvwKnroP+X0wC6R6kl5F+RVKC1oH0EtKiG1bljkIa0nKkT5BGE4JOtNHKuOUVnTsKa0gPIX2NVK4TdKKVkb5CehBpesGb0KutSO/PAHQq8JaK3h2B9ZA2IA3PEHSiDVf0vDvh1TakA7MEOtF+qOgmwkiauhzwGPBErUdaBb3rwGuFljwUvoXwzziVVYvNtcCjwE/MWkqTfKQ3q8WqSeE6qb9L6pE0IimQNNIp9Twn9SNFNWL3DaSZ5vvrYBuR9lSb9AFp6JiUlRTqeguPSNll0lAV2Kii25h0eZOYUWM5l0D6UZh/Cz23EuYthXQN3UVUD5PrrB73p6p1NIBvVSY0aGqAWm98moSW1LMA/1TrGICRPAzcqm8IBvphtIZuYbZhI6ATCG/VeQpSH0EUwvDU/0MY/hB0urr3QuBMRX+WLN4QXkAaq5Yzm6XxV6WuLun8FWmsSzr/itQ1VxqvkWfHKrqzuDHENcEypLO1krwvBXOlYJ6kuVLgS8FtNoWzSEuT1ghJw0DAZWBnrSULwCuCNwQUwQtqv1gR8AVxzZtoQ0he9cRb4sPAZ8Ca6S7SFOsAnr9//foz/tGjuAjCyOF5EZEzDMiUSjzV28vWyoDkqcsMpG7gPeBdoH3amNJlNzT00b0bNvSncrmFQczhKi2seP2a4Gp/OlN6eMFC2huiOjw76d0M8DqwEWioGzSKoswvv/y8cOPGPf6VKyU8z1cMWUnVEmYCIkSAyDs4aU6d9e3JsXevAluJz1vPUGcoNWSzudbNm4/7fX2t+L7JbIqAYjkpvsT87YKlofihnk1hEhjOEYdCdz1DXaFQaN6x41D68OE8vi/MIouXvNIsvppFYJGZIjNMKIPUUj9sDCzgR+AD4GqiMeVyMOfAgd+bd+7sxrmEx3EzJJNZj5zrnB5sbCHwKfANt0s9EqkTJ07P27LliF27FiUANcAp/u5wzMF3LpW6NNM6Mg+8hbQceLwahNfX19eydeuhhlzu6s33yOC/g64wosp70YXZ38CFfDo90lwu11XI3PDsRsWjxymX3yUMh295W6k0fvfu3Yfm7N/fh9nEuHh5hZMMpIC42MkJ9nu+/7lg37O53Glg5P5CgWxX1wy/yMTZIfJ6evZGCxZ8KudexLlJzSAI0x0dR1q2bz9j5bLwPANMEmZ2zWBUIg+cc2adIfTLCIr9/eGc1la+X7aMs9nsf3IzP06Y4Q4fLjj4OGhrW6VM5kmci9PUuXPnW7Zt+8O/eLEk3/eQykDezK4Al83sgt/gX0KUoyjAyqHwPdoWL+bEX3/dNNWsnH3Kq1erobv7uCsW3wmbmpbiXLsrFofn7tr1W+bgwT4aG/MGl5EuCnrTTU19Y+PjpYmHvW/tGn7cvv32fpkN2Am7e9++1NiKFa+FLa0vZDoOHVy0adNONzTUjXODnlnhQmPjaHupRFNjI6c6O+vWn8VTJQTz55f8XO5tLU992XTiZD6VzQ6Wi8WSlixBEk8PDLB3cHDa+v8CFsk24crxS5QAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDUtMjVUMDA6Mjg6NTkrMDA6MDAzyLlbAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA1LTI0VDIzOjA4OjQ3KzAwOjAwdKD6FwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII=",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAAgCAYAAACLmoEDAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH5wUZACIosGP4JQAABm5JREFUWMO1mFtsXFcVhr9/nzMXj8ceu4mVG1VSFwiq4iIqKClVHygFqQgkRKNAqjyk4gFC+gBPRYI8IISgIKgQjdKXiFKUi6IGVQKiirb0kjakCiJtrk0dO26cxHbsiWdsjz23sxcPdkJIxs3xpGxpdGZ0zt77m3/9a+01I5ocXd99lrJLUnfQPXGnBtr6FxuWk5QGC5HqZpRlVlgzkckfzU1b6Opks5cZ+sUPmtozbBZ2OkjRVaxotD1910Bb/33AA8CngaVAFmMKGAbePd4+84ZDhz6x+sDJ0ye+ZM3uqWYmtXx/D4H5pSbWgx41+DwyhOAqyuwbk+Y2skPALnm3N8JGZrZv+P/CZjfvJgIhrRb2hLD1JjKKsYwBMqYN9prxJI7THqyyLT70gmygyEmB/zjYzxDfAMI4oFdVERnMNkrKGPy4Cn1cE4ubjSDug61bdoKzTqQfgW2UCJtxkSSHbLVQEJodSt27rlw7vC/WXBd3E5MFJnsQbJOkpkD/q7JC4DEHD3ostmCxYLOP78HVw05MWxDZhl/GjMgb1bqnUo+o1j2RN8waR1mQRfpeaOrMPr4zFmxczzocdyPdOx+okH125W3DD/csDzoyyY7CdLWw/9iF6J1zl5eamaRGkbD7TPQArxHDu7FgzZsDvoyRuj76c8r5r9694vIvv/kZuruyrczmQuu3P7dy4onnj+T3H7+waB7glMFDwAGgfnPF4sAKZ+IudGNCeoPurrbi1q/1THZ3ZZcAV2G7u9qWbP16z+Qdi7MF31i3wGCNmWJxxHpIIM2eTDdI481Yuai1Zc3y3KIG67meFR23rVqcbfENvSvJtESmWNm6kDqbbqi6QSJw4TymRFIqESiw+R3ZEhcgZukywIqNcsAJ8lOVqcJ0dazRzPFSZWxsslJy82knCnGrYDxYw2P0AtH1twInTl4spHe8ecZ7b5PX3vPeJne81Wcnh4otQWPaCHgf8HEwYtrAebCDGI9en2SSmK5F6d/+/dSS4kxt8LH77yy0pRNdE+Xq6B/e7KvueKvv9plalHQNXGJQAzskUyzYWAFo3bxHTnaHh5cQ3Q3FNyMRuCiTDAmcgshbNF2tU4t8MI+dMazfyx4KzA2Utm24aZ2Ne9yaR0PALmyekEnUIh8UZ6rB5VKF4kw1+DBQzLyMnc4YJmYzE/uAb92yB8x/EumPGGtvoTWYU5V/Stq0+MDT77vCIM5D5B1B4PFutpfLlMs8MDzM9rk5sZuI2uHnSaxdNyGjCNyPaGue1IZctfTkon/86kiqNNbuIScjZ6YO5yxrUlaQCut1MpGP6stXaM3idi2snzVqGH8B7gH7ISixEC1nOwjzqbHe0x3v7O105YlvmVzoZnsPBc4AzM3awpdT6fqRrvS4gxNDkXoXHMzWLbuR2SqDZ0z6imJa6YopE5OX+nPH9v01mT9bwAUyrl1g7pPZ3EUAXjDjsZdi97NXRmnbBgLvPzDpKeBsnNS48oirThcy594+mLw8MI6czYF4rr40e5U8yEvmJWRYBrOOBcMCFJ/ZaJVc58uCbcim4ySzfFRPX3rvX5lzb5+92m3cfJYwk0kXzbnepmABokwucuJZgxfsQ2kNmZEoXjiV7X3liKK6jwEqwBmUgXcd7Hfp9IWm/zdYNDpIXonxjNV+LbNPgd1Dw1NKhJXiSLbvtYNhaWz6RoubQMw1OobwmE0DZ5BOA4PjLS1TuVot/m+w60f+d+tpsbrJ7Cg+egpscjaX50Q2wwBXr1XS5/99MDXy3sg14Z8Nr+HMBGZ1oAQMGLwShOGfDF58eGDgFDB1e6FA/5kzt1raZ6uDK412+lT7TwmSm00KZYZJyCxKjZ4+nDv659eDcrGMnACZGZKqQMmMcWEfSK43glET9Zl8Pmrt7IQgoK+//3+8ccujfcPPRSrXE6Wy2wmSX7jSS4dTo2dzx1/YnxrtHTO5AKgB45IuAUOSBoMwvIBR875OVIvMwoBMNsvxY8du2OcjgQVo3/Q05oJHfCr7e3PhMledmcyeeXV/tu/VE7hwHBjC7LzBcCadHpmpVMqSCBIJPrZ2LS8/99xN9/jIYAG61v0kXWlftjVKtH4nNdb3eufRfbtUK50F5QOpMJhMlpaVy6SSSU729i54/aarQaMRJbNlVxr7jW9L7E5MXBxPlvP52vmRMitXYWZ8cWyMv+XzTa//H6b399ILDmv5AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA1LTI1VDAwOjI4OjU5KzAwOjAwM8i5WwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNS0yNFQyMzowOToxMyswMDowMCfNu14AAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAAgCAYAAACLmoEDAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH5wUZACIpx2TIswAABhBJREFUWMO1l0tsXGcVx3//e+94xmPHzsSxPXm4NK/adRKKQISUKjz6QIBKFIQUpMCiwIoFSF3RDQsELCIWCLEosKiggiyyQKWQSFV5pJRHUKpaVbDj2HnUedmOPR57xmOPPfd+h8Wk1JbH9Z1p+kmf7uK795zfd87/nu98otHxkScgbAYLYM4XbdFWsHZQCiNAhIgy2CwtTTmKy0YgaHfwj5cbchk0DLvcCh23xcyOftqiRzGOIB4BskArMI8xAbzFfOXv4J1nb2KIkWVr1KUa+qr/GMhlMR0HToA+gRlohbm1SOcRp/B0GucmGfrDBwy7/yg4T4he4HtgxzGl41kyQAvAabCTOF0GZwzHl4RfF2zXPoH2gn4MHMeURHG3LDASyA5gZIEBQsszM/IBwO4/CngZ4DlMXwcLVqU9Ji/IA/UifHzO0/VwmanhWJ97dbjyMR4HnkHUD7oaOgC+gfQ4ZrEDFu/F/i8DdAA/AXpr5t2sOsMIogicvftarY1JTaAtyDtDV99CnOjGLV0epg8jDtVcNQOwjx3cN/Glz3zcz7S1bM4XSrMvn7sQvTl4JYuZ1snEo2AHwc5Rq340Bmse4imM5JqgmiFwT3/20MxPn/sme3qyLVQz1vK1pz9VePbkC7k//e1CxzrASeBJ0OtAuHHE4sJi/aiGbJyx+4Hs3I++e6K4pyfbDfwfdu8D27p/+J0Txd092VlcjcAZPsYBXDyOmLASKEstsTrHgzu6mw8+9KGOGva8R3of3LJrZ3czztU0DNYNFutvree4Ta23kAj8QKotSknJRODX/pGrpaw5LkA9pWuutkMxnS/O5wvz07WWZ+aK01P5Quk9St3s/YU1c5iNAtGaNd9j6MpY6penX3GRc8WVS5FzxV+cfsUujd5oxq/pKsIYwXDEGPHqbGefgA7E50GrpSNRqYTBG0NXmwvFhfFdO7OlyLnkxHR+/OQLvy/87Ldnts+XFpN4tWBtGfgVaIDp4Q1LV7xjqO+o8LxdwKvA7nWiTxAEUbo5SeB7fhi5aGGxTBhG/voSsGvIniTy3mb4pQ1h42rWEONgp9ZPmQjD0C8US/7MbJFCseS/J2jVzu8wTRDjQIgfWYD9x8DcQ6DfYDrcYCe8kvbfwDM9iyMjgVvAcxA5D99397pQSJfLHJmY4Pl7X8TvuqaGoau3AJoDPYbY1DinjXsWntxZHhpIuaU2B+0y2s202fOs1aRWQTIIQ9KRi8LtO3Rga5vqvdZUMP0R+CjwLJBogNSlXfFy19JYJrDwqwaBBx4e8r1qj+FVZeHKyVQ40JnKezA4Hmm0vuZ76jJ09VUQV4D9wB4M1SOJhCtf31q583rSLQmpzaQWSenqtOrTrEWiFdSG2IrYHcF8fbBQlUN3/xzmpoDHQJm4sJ6Fs5lw6i+bwtk7AEimahTvTVWfkoFMMpMkwxKYTdYPC3D3EuzreZtyk4d0hDhyMAtbo7l/dVQmLgqzeM27hJlMumPSf+o5blePlrkI6dfAS2xUesxIuYVLWyoTAzLnYoAK8AzKwFsenPVSqduNRRag9RBAGeMqZocQ29arhL5VJjsq4682u1L+nYCt2IlAqrbFgHCYlYBBpH8K3syn09PJMIx//1kzJoehsw+Mu2Al0FNIyRUQgJC5pbYo99f2KHdN74JW01u9PCIsBC0Ct028EQTBOefc4BfHxiaubN683FkqcenGjfdf2uk/hh8uZZwf/MDkfbvaO1RBMYvSUfFC1/KN1wKrlKm2kTIzJC0DJTPywsYkbzSCKRPhYi4XtWQy4PtcvXZtlTbe90js/ZxI+AdDgucN75PvpDnhytc7l26dTbvCtCEfqAB5SXeBcUk3/SC4jVFxLiSqRGaBT7q1lf9evLjGz32BBUj0fwHn+ErkNf0ctM2zsJipTJ7NVCYHkZcHxjG7ZTCRTqUmF5eWypLwEwl2Hj7Mn198cUMf9w0WYNPDn04tkv5+RPCtdDT/Wnfl5inPwutAzpdmbzY1lbaVyySbmhgaHa3b/n2Fbe57AnO2peI3b2+v5PJZG89Vbtwq244ePGBfsciZXK5h+/8DFYWTIIiuQPwAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDUtMjVUMDA6Mjg6NTkrMDA6MDAzyLlbAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA1LTI0VDIzOjA5OjIzKzAwOjAwqUK8vQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII=",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAAgCAYAAACLmoEDAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH5wUZACIpx2TIswAABilJREFUWMO1mF9sXEcVh78zd9fetZ04TkmcKDYqJSalpaSyLUiRooqqIOWtLVKREA9FPEBUqRJ9QQjxgHgBlTZCCJXHECCgSolQKBGiRSJBSiNCGjWhMYljJ5FJ7Tje7np3bd/duzM/HtZFCazju9twpNU83J0z3znzmzN/jA5tZGSWfD7GucDWrYkVCtmPgPoly5mRARqSYqBUqVQK/f398h5qtQwXL360ozEzncL29y8zMbHFdu2af6hQyDwG7AV2A9uAPqAKzAHvbNiw4WQI4fT8/MDFwcGiOh3TOuk0OjqFc7YtBD0LfAX4LAgwbA2PEqeBwxKvmenm22/v/P/Cjo9P430wM9tlxreBZ0E9ad1ILINeA35kpkshoHPnRlKP35YMoshZCNoJ/AD0lETGLH28ZvQAX5Xokfiu1JiiOSWpzLWT1UbDbzLjBdBTYG2B3oacMeMZsBfMspvGxqZS90wNK1kEPAE8Z2YdL8wPgIGvmdkTQHRPYcfGpnHODwDP01zpLYIRIYgkEfV6sw1BaI1JNrM+0DdDCAPj4+mymypDEi4E+zToM60WkyTA9PDD3XN79+ajjRujTeVyKJ08ueQnJmrbJKyVZMx4zMweAf2FFNpNBWsmB3wBrLs1KOHxx3vff/HFzQwNZXtpTm3vvn195VdeKRROnFi6D9QC2LqBJyX+CjTW40ipWTnQQ7TQVwgwNJRd3L9/U2VoKDsI/Ad2eDg7uH//QGV4OFsKoaXjCPSppv/1LdWfJExiGy00IMGOHdn8zp1d97Xw50ZGujbv2JHJt9auDBgkZaFOKQMDyK0RCJkMGVujjplZdxRZ1BrWAOXTMKTO7KottoaBYtFXy2W/0Op7uewXSqWwtHZJtlLaHTCtZgNoEuT/+0sUwdRUkjt6tBxCUOX2byGocuRIWVNT9XzUoppKeInLEoEUlra4B+AUzUPLHcOaGXEccgcPlgYrlTDz9NMbS729bsvSUrh19Gi5fuRIeTiOQ5dzLUtXApxe9b+upcr/+Pikec/HnLM3wB5omXuJTMZ8LmdEkUXey8exaDQU3WVbnpbck1Gka2fOPLBunU2rWUWRzYIdXisLZkajoahaDdHioqdaDdE6oEHi1xDmpHSHmdQnkfHxKbznE2b8wow9afvdxd6SoueWF79xudb4Jy6AD44oCgRnGNATx+ydm+PVdmEBxsauZMGeAQ4A2zvn1GwIpe8slp4/FoW5bAMyLuB8cC6Kgg/OgkE9H8fLn1wsx+e3bGV7NrR7rbEE+D0wCnwLyLYBCBhSCI3k7KWV6g8HLBS+LFzGgcNhkROsbpdAiLtzjXNbckUH7856m2z7QLp6/rxf4udmfLHd2fH++vRy9cev++R8ySwyYbc5aAaEtNoYQDBYCeiNdjYFAM6e/TjAdTMdAF1tp69CuVSPj53yyYUiRAIL1lywqz9rtmYBLJgpmGFCPUib2oZdBVY+P/8m8DNgORWoGo0kOf33evz6VXCku2WYIZnM3pNzkx3BAvT1ve8lHZT0O0l3KT1CEt5fnoiXD52TkpAC1AAniIF3HBx3udyNjq8nt27tpF5XsavLXgIelDTaGsJQWLhZW/7tqeBvLP+vxGXNhbcamRGQloErmF0CZor5fLU/Sdo6yNxhZ88+SDZrMrPzkBwAX/kgk81mdfRQq9VrfzqVJKduNt8VbDUCmYSTDKQGsARcE/w5ymR+KfjjvmvXJoDqcKnE9JUrnT1y3G5jY1N4f2PAuc3fh+79Zi5zW5nyjeTMmZXqyydCmI/NIgNMzXtOHViSKBq6buYmPdyS0VgpFHzvwABEEVPT03do40Pb7t3HzKz/Eec2vwq5z5m5ZqFszFxdWfrJ8UbytwXIREACFM1sHpg1s5kok7mBSEJo4BMvZSJ6+vr4x4ULLQR1j+zRR09glv2S2eafmmW3K1Qr8cqvjtdWDr9rli0Cs0j/Esz15HI3V2q12MyIslmG9uzhzUOH1h3jnsECjI4ezEkj3zPr/3ojOXciXnrpsA+LVw0rRGalma6upe1xTHdXFxcnJ9v2/yEfK+40aSD2/r2Xo6j7N95fKYqZgm4UY9txP5L4/MICfygUOvb/b4OFAZuQsv++AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA1LTI1VDAwOjI4OjU5KzAwOjAwM8i5WwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNS0yNFQyMzowOTo0MSswMDowMPiypBMAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAAgCAYAAACLmoEDAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH5wUZACIpx2TIswAABfxJREFUWMOtmF1sHNUVgL9zZ3a9u97gXRITO4CwImhpAqXioQ2oeWgESPAUgRQk4AHEQ4uQqJAQP614QFVRItSi/tD0CRVo08gR/xAhkQRIIhMURJxAfm2vHdzY63g3Hv/P7s7c04dxCm7WYXbJkUZXmtl7znfPOffcc1doUn7/smJSgIHalUiiyApR2lBSCC4QKPiAN62Uc4IaB5al4Zd3SVM23WZh3Sz4g0hLF2sSo9wCrAduAjqALDADFIHDy4S9Fg78fC3H9h5Bm7XZ1BI3dyuidChsUrhP4GcxNB4AtonQLZaxJ+9t3HRDM7Z0Kwiiyg9RnkLYBGTizFUFEeZQug1ssYaTVtHfbIqP0FgaWATDtcDvFDYCblxTIqCQEXjAChlVfmuFAYifFqYhrxpyCo8BG0Xig/4PGFDBVbgbeMyx5J7fHj+FY8OiOMAG4EG+x8aU6HFRHgI2CDiXFPb5HYoa8gqPEu30C9eiYBVCC0EYjVaj90tIFviVFfJxvRvXQ0bhx8BP64V+YfNoZ57itZ04LUlylSpe3yhh8Rwdqoj830QRUOUWgRuBj4mRu7FgBQzK7UBLPVDAXreKcxtuglyWVqLQtq65hqndvZT7R1heDxhoEbgN2AcE3+mxWLCKEVhTL78UyGeZXL+W6VyWlfANbD7LyvU3MJ3L4tVzm4AjcINIPI54G0wRlA7q1GVVaGslvaKN5XX0mSvauDzXSlrr0wrCSiRevY+Xs5Gq1FKfHYMrSxgUocWYpXe8QjoWQ2zPRjK51DrmKsz4VUr1vvtVSvMVZpdynSiexCy1cWEt0AeEdTzH+CSp3gJWlelFXlOmDw2g45OkpT5tiHAKwcaBiFu6rEIPUdOyKKQiEISkDpxgpV9l+Cer8ZIJ2qs1xnsLVHsLXB2EJJeArRE1OJcQVrCqfCTKCMLqet71qyQPnqKrdwDE4KhlVS06HBxZKgeUEZQ9EtOzcdNAxTIKbEPrKxaJwPwaznwF/BrORUGjaP0LoYjEa2Zi9yKbtysq/EDgFYR1ceddRD4V4cG3/7Tx1OhwL8ZCaA2OY7EmKi0Z32d9scjWRmEBNndrgqhjehHobJZSVUfnZ849s+OP97wTzAwlAnCNxYTWGMexoTViBapp35/70eSUf6T9CjoTtuHuqQa8C9wMPA4k4gOe7wesPXNq/8mPtz+er0ydvdcYxzVgMIhjFEBNdDBavyUVHGpPTRg4OhpKX8N3i83dCtClyt+BOyTm6bOAjHd2oLB3x1PvFQufecZxRRcdXwrIwspAVQCswLxFP2zkUADg6egacpooFQYbmevPet6xT//ZUxw8OCHGVRArUdlaeCQaRSyIFVErgiiaQTXXMOwCsNZy7BJ4CWUuzhwb1oKvj+/5/MSBbYMipm4LdqGIoCoqMqLG9DUFC+BdSSjKPxTe0ov0oqqgqpTOfHX80K4/HwqDqo0BKkQ9tA8cNrDTpFJnmr6erDoMk2kmMgEviOr1CjfXgxCB2cmxscMfbe2ZKg3NccFvVEDO98WKYFGdA/oROQkMT6TTM221WkONzCJ54n4hHaAuHLFB7UW14fR5T357DGt+pe+LN3pOH9s9hsj58EfhVYyqgGoAzAJDCrsd131N4YM7h4aOAzNXex6F/v7m/uT4tmzpVrzSUD6zrP05N5F+RIxxvylTQTh8Yt/B/a8/88mMN+Ib4wggGl0bqsCsKhOCnhYxfSGMqxDMl8thaz4PjsNAobAoN763/PqFg5LOrLgxc9mKrYlk5lYRAyjeeGGw581ndw6f2FsyjusQ1ekJETkLjIrIsOO6Z1Bq1gaEtVDVdchks3z15ZcXptSlgAV4+qVB3GTynnS2/S+Ok+iszE1O9+75687ePX87atzkhMAoqv9RKGZSqbH5SsUXEZxEgqvWrWPXq69+p41LBgvwyHMfpC7vWPtsSyb/8Eh/zyf7dzy5bX723KCIKTsi3nAyOdvp+7Qkkxzr62tYf9PVoJ6kWpf7XnnoD8vd1L9LI0cnvFKhzNkpP9XVharyi1KJ98vlpvX/F5vAnOxV5r8nAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA1LTI1VDAwOjI4OjU5KzAwOjAwM8i5WwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNS0yNFQyMzowOTo1MiswMDowMAXwvhAAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAAgCAYAAACLmoEDAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH5wUZACIpx2TIswAABa9JREFUWMOtmGtoHFUUx3/nzkyym7R5tIlNfdCH9f0CLdoK/aCoICiUFkTUDxWxKoLQL0oREdEPikjxGaP9oLVW8IOo2GqpilqJlfporU2oaZKNaW3SZrOb12aSnbnHD7PV1O42s2sPDBdm773nd8/933PurFChvYxSBQhQCzIBTQL1QAJwgQDwFbIDkD4X1In6cjdSkU+3UthqIAvSCJfnYCWwCrgGaAHmAOPAALC/Bb5T2LMcOtpBK/VZ0RLfQgmhReAu4B7ghhgT7QG2WfjQwOBDFbgua0QrigERuEThCYW7BGrijC2EMwd8KPCChUMO6PoyEMqSQQDiwTLgWWC1lDG+gFQD3KdQI/CkC92UIQsTt2MbigcNwGPAaq1c7y6wRuCxPDS0liHh2LAKjsDNwDrArew8R1bYkfs1ms85q7BtKAKNwKMSnfRii0GBcMZz8l2J/nOAh4HGt2JGN+5WGuBq4PpSoIA2X8fAojtxqhtpmMqQ/fNTwhO/0KLRofxvdAFWClwFfEMM7caGVbhVovR6OqhgF9/B8MpNUHchtURbW3vRvYz+sIF06jPmFwMmmu8WYDdREZk1YrFgBS6niL4UqF/KyPLnGKu7kAXwL2zdMhYsf5axuqVkS4TNAa7UmBxxYYWoMhU9V3MXk5x3FfOLzGfmXcO8uiUkS82rsEBj5vty0k+i2EsFjIcrUtyhCNXi4ZQSpFByIadZ7NQFjJRwhj/E+FSGoWK/+8MM+SeYOEPosmcVVsEqdGmUkU6DHe4g0dmG1ZCxU8aFjHW+iWY6SZaADYE/ABuHI5YMFKxAO9Gl5ZRDJkCQI7HveRZMZ+m/9EGyXh3N+VFOdLQx3dnGBUGOqhKweaILTizYWMJuRUVgCbBLYGmRxQBgXEKvBsTFsQFhkAMb4JzBSY9EqSu1Hpk1z8bVrALHgG3FoiCFxwY4U6M4/jBMj+LMAmqB94nuvLFKWOwS34aicLHAu8CKuOPOYD8IrNvasvqP/up9GAuhNTiOxZootdT4PqsGBmgtF7YA7AFrgE3AwkopFT2WM8MbN5+39tO8SXkBuMZiQmuM49jQGrEC00nfz102Mur/1nwOCz1bNixEd9KngQ2AFx8wioxibSrx/Xfbmzd8Mu4c9x113EIFk0IPRUQBixKgZAwcFKNdZd/0CsCLFd4EbpOydkdJe909n89/4rMjiR+zDq4oM6tJYUmqhUYgykSTFt1VTlEAoPDt1KeRFHrLGTtpstl9c7e2H03szRhcBbESHbTCI1ErYkGsiFoRRNEaVBvKhi0Aawa+BF4n+q6a1ULyQXfy65/2z93WKxgk1oaIoCoq8pca01URLMBxCAXeAT7mDKknuoArg9W/d7Y3vPJrINM2BqgQXUt9YL+BHSaROFrx/waXRU0GeFHRS4Fri0EIMO4MDv5Y39qe9VK50yWuAoJqYW2CRTUHHEbkENCfSSbH6/P5si4yp1hBuwr8FpLfpIRjJ1/MbPP4UwfmfNR+OPnVIMjJ7Y+2VzGqAqoBMAGkFL5yXPc9hS9uT6U6gfELsll6Dh+u8H+cGdaGMuSkGuts8zOeJh8RjPtvmgrC3sTuvTubNn476v7lm6igiaoiItPAhCoZQftETFcIJ1QIJtPpsLaxERyH7p6ef3xVLIOZEd5o9mYdw+baoOk6T2tuFAygDLt9f+6tf/vnEfeIb9R1FM0DGRE5DhwTkX7Xc4+i5K0NkHyouA5Nixbx+4EDRSV1Vux5rxfHVq2tDZtfdfAW+jIytqfhtR176t84aKjKCBxD9YjCQE0iMTg5NeWLCI7ncf6KFXy5ZcusPs4aLMDjc79INE1e8VQybHygL9H+7c5zHt+WM8O9oibtiGT7q6omFvo+1VVVdHR1lT3//5bBTEsG8/2Mm3rJtYkPBqsPZoYTPWn6Rv1ky2JUlZuGhtieTlc8/98L/TvfZZ49dwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wNS0yNVQwMDoyODo1OSswMDowMDPIuVsAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDUtMjRUMjM6MTA6MDQrMDA6MDATW3FEAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg==",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAAgCAYAAACLmoEDAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH5wUZACIpx2TIswAABQpJREFUWMO9mNtvVFUUh7+1z5nOTKWUSsE2ahRUQiRootGIiQ++mJhIYoJ/gIlPPmhi4u3F+GR8MN4gBokaFRU0Jt4SlYSLQhSIKAhyibRMWy6l9xl6nTLnnJ8Pc4pFmOFMW1yTlZMz++y1v73WPmvtfYwZitD0WwOagUYgA/hAABSBAjAI/3YwbEZj+jOFnQZ5O7AKeAC4E2gB5gGjQA9wENgF7AWOTof+X0TlX4vQ00J7hZRA9wg9JXSd/g/eGNKElgt9KDSWEHRKx+J+y2M7VxXWhG4T+lKoVCPolJaEvhC6VWhmizehV5uE1s0CdDrw2tjeVYH1hNYIjcwSdEpHYnve1fBqs9COOQKd0q2x3UQcSVOXA+4A7q06p7vpYTUeTSwgT4HvCNlPC1RMrKuAlcDPzFVKE/KFXq24Vk2hVqtf7eqWNCopkDSqNnXrEfULRVXW7itCs833F8HWCX1bcdBbNKSDykkKdbGEOqCclmqoAmwU261LGt4kYlAlnDeTZSULL2PPcSfXsoRsFbvXQbL6W4v7MxVbUvgVC76RJkW1Nz5LQknqWYBzFVsGGCXPwGXbhhign7EqdgtzDRsBbUB42dajZNhARMjIRf+HjPAu4lhF74XA8dj+3EhcEJ4QmqiYMxs1qRfUrnadVJ8m1K6Tek7tmq/JKnl2IrY7d4Uh3hMsFTpRNcn7CjRfga6VNF+BfAVXKAonhJYk3SMkXQYCzgKbqoYswGMYjyFgGI+g6osVAZ9R3vMmKgiJdz1xSVwGfAzcN9MoTZM9wOOPtTx6fH/6T1wEYeTwvIjIlVNLfbHIAz09rI87JE5dhiHUAbwFvAm0zpRS6OyQG9qw5vo1/d2uc3HM4WINY6+fF4z3Z+uLyxYtpjUV1XYYir1bD7wMPAOkagWNiKJfM7/senbRM9/2eX1FX56vMqSVAy1hJiBCBIi8gyPm1FZTTY69Ow6sp3zeeogal1Iuletct+DtQ31eb5OHb7Lp1URlc1L5UuZvFSwJxdZaisIFYKCL8lLoqKXvOVcobG74dPfvmX15D1+GRVYOeaxWvppFYJGZIjNMqB5pQc2wMbCAbcA7wHiSPiVKwU/ZHb9vbtjU4XAJj+NmSCazbjnXNiPYWELgI+AbrpB6hDiSPnxs3YK1B87b+SgBqAFO5e8OBx384DKZM7PdR+aB14SWA3dVgujzens3NK7f3ZXqHL/0GRkYUjwvI0IaB9ox+xs4lc9mRxtLpZo2Mv+ZuhF79FCJ0psh4cjlnitSnPx63le7t2e39xo21a8cXuEkAykAxoBOwXbP9z8RbHm4s/MYMHpjoUCuvX12X2Ti7BB1e93fL4oWfeTknnS4CzZDgnBvZs+BTxs2Hg+sJA/PAJOEmZ03GJPIA13OrC2EfhnBcH9/eE1TEz8uXcqJXO7CeLM+ThjGPrevgOP95qD57nrV3+9wCNHld538oPG9P077p4u+fE+oBOTNrA84a2an/JR/BlGKogArhcL3aL7pJg7/9dclY83J2eee0j3qSHUcGnbDb6TD9BKHax224ZEvGj7/bVd2Z2+KurwZZ5FOC3qy6XTvxORksTxb44ZV97Ft48YEjplD2dKwJbNiYsVLTWHTE3syu3e+uPj5TXk31OHkBj2zwqm6urHWYpF0XR1H29pqtj93p0pgYbCw2Ol3vp6JMpsPp4/kc5ncoN81XGxsuRlJPDgwwPeDgzO2/w/IRTXCFJZFPwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wNS0yNVQwMDoyODo1OSswMDowMDPIuVsAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDUtMjRUMjM6MTA6MTMrMDA6MDAaVk9UAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg==",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAAgCAYAAACLmoEDAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH5wUZACIpx2TIswAABfVJREFUWMO9mE1sXFcVx3/nvnn2PI/leEZDHSNQ04gUUgGVQIIGqQuqgMSuYtEFRUoqNlRIlVixoKiqukIIwgZVhEr9CAS1Vj+Q2oJE+EijpmnTNiRNaxKnSWyntmM/z0wyiXnjmXf/LGZchXbGvHECR7q6i3vPub93znnnnveMDUq9XqfVaiGJarVqo6OjZTPbBOSBHNACEkm1hYWF5fHxcQE45xgdHd3QmbZR2DiOGRkZsXq9fhuwA7jTzG4HNgPDwBVgQdJx4BXgSD6ff6/RaKhUKv3/YKvVKmmabnbO3QN8B/hqBrUjwH4zewa4WCwW/7ewcRwTBIEBn5X0I0n3mNlQHyZWgGfM7KfAKUD9QOf6gfXem3PuM8AjwN1m1pe+pCEz+25n/rFz7n1AWfVd1o2VSoUgCEYlPQDcLakvUAAzo6P3bUkPeO9HK5VKZv3MsEBgZncBu4Gc2cbezY5eDrhP0l1AcENh4zhGUlHSD8xsuNseST1HDxmW9H1JxTiOM8FmDaUDvgh8pReomSkIgoUwDAMzG5VUazabaZqmmyVZj0jsAL4A/J0MuZvJs2bmgG8Agz1AfRiGy4VCgSiKCvl8PoiiqFAoFAjDcNnM1MPDg8BOM8uUCplhzey2Xkadc5eiKKoHQTAGFGjnYSEIgrEoiurOuVoP0wHw+awcWdPAaN9MXWPpnIucc0GXQ51zruScG0zTtJfdMTLW+37KT349O72S0swG6fHGd1SirAD9lK5LvRYkXZEU91iLJV1dR7e2TsXoH1aSlzQlqWss0zTNNxoNL6n+Eb16o9FQmqa9vJea2Wkz8zcM1sy8mR02s2aXNSTlkyQZS5Jk0Xs/671PvPezSZIsJkkyJmmwh+kmcCQrbKacdc75NE3/BsyZ2dZuwN77gSRJtjQaDWjn6Cc7l0KwtqeLzEn66w31rNoyD+yX1NVwx8OB9z7w3uO9DyQFZtYVtGPnd865BTI2M5kv+DiOMbNbgSfN7I6seus44LUgCHbvvvfe08dPnsR5SL0jCDzeGQYMJQl3LizwaEcnc+kql8tUKpVzwC+BPcD4dYDOV6vVX+/atWtp8cKFmzocrjNSwAOrgpWlaCi59RM3MR76/prvTjs3BDwE/BAI+wBcy23/xuuvv/LQgw/+YSmOk5xzObUhrR1oCTMBHtFCVB28a05TffWkpVKJSqWyAjwq6XYz+yYZU2ktb6enp8//Zu/eE0tLS8UgCExm1xhQ25zUntr844JbUvHnfi6FD4GBaTPbA5zLWtABLtVqtecmJg7/4+23q0EQyMy8tUPeGdaezTyYN5M3w4SGkEb7hu0Aa3h4+ADwKzNbyaLTarVahw4devO5Z58955wjW/NuhmQym5NzUxuCBQjDMDWzJ4AXtI571xrwycnJycf27j22urrqM4Aa4AQJcNzByy6f/6Dv76g1qdfrrK6uVsMw/JmZfU7Sl7pBmBmLi4sXn3z88cMXZmdXPr5HBkbncYXhkVaAM5idAmarUXRlU7PZVyPzHzIyMkIYhnLOnWg2m3vSNK2vefLaudFoNF5+8cXDhw4evHjNBdEOr3CSgdQCrgLnBX8Jcrl9gj996/z5SeDKp2s1zp4509+n+EelVCpRrVb9/Pz8S+Vy+Qnn3P3Oudw1ZSp96+jRYxNPP3261Wqp88/BOuurBlclqsC0M5tKYUlG6/LSUlooFvnj1q28f/bsh+ddFyxAsVjkwIEDNUmPlcvlL0dR9DXn2gGbnZmZ+e2+fW/Nzc0luVwukNQEqma2CMyb2WwuzH2AaHrfwpqpyAWUb76Zk++887GzrhsWYOfOnTp27NiJer3+i4GBgVucc+OXL1+uv/D882+89uqrF3MDA1WDeaQLgoVocPDivxqNBAAzPrXjDg489dR/PWfDP+a6ycTERH779u0/2bRp0/fePHr04CMPP7y/Vqudc2bLgVltdmDg6niSMDgwwHtTU33bvyGeXZNSqZTMzMz8fNu2bb//5+Sp6vT09HJQqyUjW7Ygia/HMS8tL2/Y/r8BRVECE4yt2dgAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDUtMjVUMDA6Mjg6NTkrMDA6MDAzyLlbAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA1LTI0VDIzOjEwOjMxKzAwOjAwz+xZAAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII=",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAAgCAYAAACLmoEDAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH5wUZACIpx2TIswAABihJREFUWMO1mF9sW2cVwH/n+6597aRVbLykf0S0iiJGpwLSGkGHtAcmQOINDWlIEw9DvIAmTeKhoAnxgHhCCFVa1UIRDxBEkaZ1He2YUCnQDalUqdextmvnpUs60sVxbMdO4tROfO93eMhNadO4vXbLka6u7v3uOefn853zfeez0KMUCgWazSbOOWZnZyWXyz0EDIhICvBUNRCRFlDPZDLVubk5tdbi+z67d+/uyafXK+z8/Dy7du2SQqHwaC6Xexx4AvgcsBXYBDSAGeCder3+pjHm7NDQ0OVSqaS9+pRelPL5PM65rcaYp4FngC9s9J3q/7hE5CxwREReUtXSyMjI/xd2bGwMa62o6iOq+kPgaaBP5N5mVBURuQG8BPxMVQvGGN2zZ09s/12lQRiGYoz5JPBT4OsiEls/+kF9qvotEekTkR+JyAdA7LQw3UTV87yMqj7fLeg6aE9VnwKeV9VMPp+PrRsbVkQs8CTwLPdRmGvAwLdV9UlVtQ8UNiqoLPAcq5V+h6gqqopz7ua19q6DbAK+a63Njo2NxYKNGyFjjPmsiHy+Eyig/f39MwMDA9bzvEwQBPX5+flwaWlpq6pKhyJ8PAzDzwCniZG7sWBV1QBfUVV/vdMI1GUymbnh4WF83+8HLNCfy+UWpqamqvV6PbcRsKr6wJdF5J9AcM+IxY0s8GgEcYekUqn57du3L/q+vwW4Cev7/pbofb2DXQvsjssRK7JRSLbSYV1OJpPpdDptN3Bq0un0x3zf95eXlzc0DWwh5nrfTVWnNnoZLfZep6QUEV9EbPTd+jGAdFyA2EsXMN8BhiAIGkEQVDYaD4KgEgTBUqddTlXrd1kxuodVVaeq40C40Xiz2UyVy2Wnqovr9BbL5bI2m81O0QtF5H0RcXE44qaBA86o6jPR5nBbZJ1zqVKptCUMw6nBwcG6MWbQOVcul8srlUpl2DmX3CiyqtoGzkb2Hwysqjpr7T+cc9PAJ9aPR6mQLJVKOyqVCqxW+fYwDFFV2ykFRGQa+HsYhrFg4+ashmFYBI50ioKIoKo2CAIbBAFBENi7gUZ2/gDMiEispI3dIkbt4adU9XfA3rh6d5F/WWuffWHfvvcL4+MYB6EzWOtwRhCgr9XiiZkZftktLMC5c+cSIvIUsB/Y1iulqhYXFhZe+MG+fccXqtVEAJ5xmNAZY60LnREnsJJutW7sml9oXRgcYlvCddc9iUgbOAE8BnwfSHQBuFaM7uKFC4WDL76YrdVq37TGeAYMBrFmtccwq32Ca/mp4O3BVM3Au8VQxrs+1kT95w7gV8BXu52d69evTxw+dOi1K5cv1z3PE73NQPSkGt0EwAk0HfrXbjYFAKKz04equl9VJ7vRXVxcrJ86efJM4b33atZajUAcNy9ZvYs4ECeiTgRRtA/VTNewEbA2m81TwEFVvRFHJwiC4Hw+nz918uSkiBDn3AYiqIqKTKsx4z3BAjQajVBEfisir3KXXnStAZ+cmLhy9OWX32632y4GqABGoQW8Y+B1k0p91PPxZGhoiGQyWVtZWfm5qn4aeGwjCBFhbm6u9Kdjx87MFIs37vxGBYSoPVAEx+psXUWkAEzV0unGQLvdVSNzm4yMjNBut1VVLwRBsN85t7gWyVvvK8vLy2+ePn3mrXy+dMv0r06vYlQFVANgCbim8Dfreb9X+MvXrl27AjSG63Umrl7t7U+OWyWfzzM9PZ3NZrM/8X3/e8YYb22ZUtXw3+fPn/v14cNvVCuVljFGAInGV4AlVWqCfihixkMoqxA0q9WwP5sFa/lgYuKmr/s6pa5FeHR0tC4iv8lkMntSqdQX16a6WCz+57UTJ94qz862rLU2alxqIjILFEVkykt4H6G0nQuQdqh4locefphLFy/emVL3C7smx48fJ5FIfCObzR7wPG9bo9FYfPWVV14/dvTou14iURMoonpdYaYvlSo1l5dbIoJNJPj43r2cGh29p48HBgtw4MCB1M6dO3+8efPm71y6eOmNw4cOHllYXJw0IlUrUp9KJpe2tVr4ySSXx8e7tn/faXCrZDKZVqlU+kUymfzj5ORkbbpYrJpqtbVpxw5UlS9VKvy5Wu3Z/n8BcY8RVtNG93EAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDUtMjVUMDA6Mjg6NTkrMDA6MDAzyLlbAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA1LTI0VDIzOjEwOjQwKzAwOjAwY15brQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII=",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAAgCAYAAACLmoEDAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH5wUZACIpx2TIswAABh5JREFUWMO1mF9sW3cVxz/nd23Xf26bhFGaNEyNKrTB0lFpD9Ah7QEESPRpAimVKA9DvIAmTdoTQoiHiidUsWpCZTxVMESJHG3lb4VEl64gteWPuiZjTZrUdqZQ203sxk7s1H/u/R0e7FTpZqfXXvlK1pX98zm/zz3n/H6/c6/Qp86cOUM0GsUYw+joqOTz+Y+r6oCqRkUkBHhADSipalFE1HEcYrEYR48e7WvOUL+wruuSyWRkbGzsqVwu9yzwHHAYGAZcoALkgRkR+RtwdXx8/Mbs7Kz2O6f0Y5RMJlHVYWAC+Cbw+fsOpavLq8BZEUlaa+8cO3bs/wubTCYREVHVJ1X1+yIyAcSD2KoqIrKpqkngJ8aYm6qqExMTgefvqQystWKM+RTwY+D5XuzbEY8D3xKRuKr+UERSQOCyML1E1RgzCLwEPN9eRD2rbfd14CVr7eDk5GRg28CwquoAXwJe6CWiXRRS1W+3/TmPFHZqagpjzBDwIq2V3ulmUFWstfi+j7X2/m9d5ALfFZGhoNENGiEDfBb4XDdQEdGhoaH8yMiIE4lEBhuNRimXy/l3794dVlX54C4hIqjqs8DTwNsEqN3AsKr6FWBXJ1DA7t+//+7hw4dxXTdBK7WJAwcOrF+/fr2YzWYf6wTc9vdl4O+0DpGHRuyhUlUDPEWX+nJdtzw+Pr7huu4+4D6s67r7Dh06tOG6bqmLawc4JCKBOILCSvsQkA5jJBKJ2MDAwGMd/JmBgYGPJRKJWKfalZb2yQ4nyXYFKoO2r2jXOzYm1G1CEdlljNlpxceCMASObFvlbgP1er3SaDQKncYajUahXq9Xu9mqammHHaMvWAssAn6HyFEul6PpdNqq6sYHQDZSqZSWy+VYl8D7IrIgIjYIRNDdwAKXaTUtD6RURPB9Pzo/P7+v0WgsHzx4sBQOh/c2m83VdDrdSKfTj/u+H+kC26TV4Dw6WBGxqnpRVbMicrBTdBuNRmRhYWEslUphjHGstfvbh4PTbf2oalZVp4NGNmgZqLU2B5xV1Y6ORQRrrdNsNp16vU6z2XR2Am1H8zcikheRQEUbuEWcnJxERJ4AfiUiR4La7aArIvLCz199dWFpeRljwbcGx7FYIwgQr9V4Lp/ntV5hAZLJZJhWx3QKGOmXUlVzlUrlB6deeeUP9Uol7EHIWIxvjXEc61sjVqARq9U2P1Ner83u/QQjYdtz99QE/gg8A7wMhHsA3OoH7OLCws2pycmh6vr6MceYkAGDQRyjAGpafYKt7Yp67+yNrhl4L+fLYs+PNclkEmBMVX8BfDXo6bOllZWV9JtTU3/KpNMlx3FE2Z7e9jfV9kUArMA9i/61l0MBgPZjyPu0SiHTi+1mtVr655Url5cymTVjjLZBLPc/0rqKWBArolYEUTSO6mDPsG1gHRwcvACcVtXNIDa+73vzc3P//sfVqxkRIVhCRFAVFcmqMYt9wQKMjo76qvpL4Hfs0ItuNeDZ27fn3rpw4R3P82wAUAGMtt47zBg4b6LR230/nszMzBCLxdY8zzupqp8GnukEISKsl8t3Ll28eLlYKGx++D8qILTbA0WwtLJ1C5GbwPJaLFYZaDZ7amQe0PHjx/E8T4FZz/NOWWs3tiK5/dpsNuvXrl27PHfjxp1t6W+lVzGqAqoeUAWWFN5yQqFfK/zla0tLc0Dl8VKJ9K1b/b3k2K5kMkmhUBjavXv3iXA4/D1jTGjbNuUvzM//69wbb1wqlUo1Y4wA0h5vAFVV1gR9X8Qs+rCqgnevWPQTQ0PgOKTS6Qdq4yPr5MmTEo/Hn96zZ89rkUjkC1upXl1dzfz+3Lnzi/PzBeM4Dq19ek1EVoCciCw7odBtlKa1Hn7TVw05xF2X/7z77odL6lHAApw+fZpIJPIN13V/5jjOyL3NzY2L09Pn356efs8JhdYEcqj+VyEfj0bv3KvXayKCEw7zySNHuPD66w+d45HBApw4cSI6PDz8o3g8/p3UrdSlN6eSZyvVasaIFB2R0nIkUh2p1dgViXBjcbFn/x/1ZcUDSiQStWKx+NNQKPTbbDa7tlooFGVlpRYfG0NV+WKhwJ+Lxb79/w9bQvQtKYEySwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wNS0yNVQwMDoyODo1OSswMDowMDPIuVsAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDUtMjRUMjM6MTA6NTArMDA6MDCv9FszAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg==",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAAgCAYAAACLmoEDAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH5wUZACIpx2TIswAABjJJREFUWMO1mE1sFOcZx3//d9beXePixQvCpFSp0qopNGlFKlGn2EhF5VIulSqlUsQhqDduPfClqqdeiEJPPeTApY1UKuVUCcIhaikpBrxRKEmJ7RrMR7CNd8GuP3a9O/bszNPDrhE4Xjy7oY80GmneeZ/nN8/832eed0SLduLECaIoAqCtrU1BEGw2sy5JKSBhZlVJPjCXyWRmZmZmLIoiisUip0+fbilmolXYarVKKpXS0tLSziAIXgf6gR8APUAnUALywGdzc3P/dM4NDgwMDO/du9dajalWJh09ehQz65H0hqQ3gR+ZGdLT7sye4hoEzpjZ+2ZWOHXq1P8X9siRIwCS9DJwDHhDUkfc+WZWBt6Pouht59yoc85OnjwZO36zMhDwbeB3kn7e7HxJHWZ20DnXIek3zrnbQGxZeE1mdZOk48BBSS3pXZKrvxnPzAb7+/v9gYGBWHNdE3E8YB/wVqugT1gCOATsM7PYCYt14/HjxwGykt4BXl69kKC2mMyMMAyJouhxWatncy237UC3c+6Dvr6+cpzsxs2Qk/R9YPdag/VKYNu3b8/v2LHDS6fTmUqlMjcyMhJOTEz0mJkaAL9uZq8CF4mh3ViwZuaA/UByLVAg2rlz538PHDhANpvdQO2Nbdi1a9fCuXPnZoaHh7MNgJNm9lPgElBdN2NxYc1sJ2vIxszIZrPz+/fvL2az2a3AY9hsNru1fn1uVc1dMc/MXqknY12LdZNq1sMaddnM6O7uTvf09GTX8Oe2bdvW3d3dnW4AK0lbG2lktTWzqlMNn9i5RKOAkpLOuWct5HRcgGZK13yjgXK5XKpUKtMNxqYXFxcX1xqrV5BGEmkZNgJuAeGXHDhHPp9P5XK5KIqi4lOToqg4ODhohUIh7dyaoULgZt3/uhZXBhFwBXiTVYtMEkEQpC5evLi1UqmM7969ey6VSm3xff9RLpdbzuVy3wiCoL2BSgJqDc7zhZX0DzN7ALy0elASlUql/dKlS98cHBzEOedFUfRCEASEYeg9Y/08AC6YWSzYuDIwM5sCzjTKgiTCMPR83/fK5TK+73vrgEaS/kyt540l2tgt4rFjxwC+A/wJ6I077xl2VdJbFz788OajmRlcBGHk8LyIyAkBHb5Pfz7Pu/UJsZuIy5cvs2fPngVJ88Ae4GutUprZ1NLS0tvnzp69XikWN0bQJaPLTBnnrNOkTkEyUa3SEUZh9YWv65XNG5vrniQFwFngNTP7taS2FkCjQj4/+kkutynw/V86KeHA4ZDnDMBcTRaRn0xVr29JzToYmgp1K3ZmV7Lb19cXAGOSvgd8iyZ3G8WFhbv//vTTSwvz83LObTRpg6SO2mG1s9kGiU7QRsRmxEshlJqCfQJ4HngE7DGzTTG/liwvLc3dGh39+8T4+ANJSDLVslg/VDtLBjKp1v0Y1oZZoWnYFeB9+/bdq1arDuiPI4coiqqTExNXhoeGblitBYsRScJMJj0wKdfM5/Ypy2QyoZn9UdJfWaf0mBmzs7Mjw8PD18MwjGKACnAGPvCZg/MulZpseXsyOTlJV1fXbLlcfsfMvgu81gjC9/3CzZGRK4vFYnmNRxGIentgiIjaLngMaRQYn02nS11BEL90rbarV6/S29uLmT2MomgR2C8pufL/YOUcVqtLd27fvnBnbOwOPN7i1F4vciCEVUEVYNLEJ4lE4mIURUM/++KL/Fgms7xlcZGR+/dbhwUYGBigr6/PSqXSuOd5m5xzP5TkngAOHxYK14Y///xfQRBU622kq+8aAokFYEpww8l9FEk5k+4vTk8X29Pp6lg2y+1798iXSo+18ZXt0KFD6ujoeDWZTL6bSCR+vCKH4sLC3evXrp0v5PPTkjxqjcuspIfAlKRxL5GYxAiiqEoYhGYJj47OTj6/ceNLcZ4LLMDhw4dxzv0inU7/wTm3bXl5ufifoaHzoyMjQ87zZoEpzCYM8h2pVKGytORLwmtrY3tvL3977711Yzw3WICDBw+mMpnMb5PJ5K8eFgofXfv44zNLy8t3BTOeNDfe3r64zfdJtrczfOtW0/6/6s+KpyyZTPqlUun3nuf9ZW5ufnaxXJ6JJif95IsvYmb8ZHqaD2ZmWvb/PzZaBDRi9tDdAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA1LTI1VDAwOjI4OjU5KzAwOjAwM8i5WwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNS0yNFQyMzoxMTowMCswMDowMAjWPmkAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAAgCAYAAACLmoEDAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH5wUZACIpx2TIswAABixJREFUWMO1mE1sVNcVx3//+549Y2MMDkTMTBHCNgpVmlApi2IagVQ0SFVXlYpSKcoC1BXLrlKp6qLqKoq66gKpqzZSqciGSnXYuEVJIwWjVkIRkAhMBtt82MYej8fz4fHMe/d0MQZR8Mcbhx7p6S3uu+f87rn/d+55T2zTTp8+TbVaxXtPqVRSf3//XmCXpDQQAhHQMLOl2dnZYjabtTiOWVlZYXx8fFsxw+3CLi4ucuTIEd28efP1/v7+Y8Bx4PtABugDqsAs8GUmk/mXmY1PT09/NTg4aNuNqe1MyufzeO8zzrl3gHeBo1vNMbNx4IKkj733c1euXPn/wp48eRLnnIDDwPtm9g7QKyV2Uzezj83sA0m3nXM2NjaWOH5HMjAzmdkhSb8DfiqpUxn1Au9J6pX0a+AbILEsgqQP5vN5gAFJv5L0npmFHWT0qUlykg4DgaTx4eHhRqFQSDTXdRAkkHQSOANsC/QZC4GzwElJiROW6MFTp04RRdEeSR+uZeUFMzPMjCiKiOMY7z1PFrTBwrqBV7z3nwwPD9eTZDep5pxz7oikH2wECtjhw4dnR0ZGgp07d+6uVCpL165di+/cuZMxM60HbGbHgDeBT0mg3USw3nsHnDKz1PNB10D9sWPHFs+dO0cul9tBe8d25PP55fPnzxevXr26Zz1gSSkgD3xO+xDZPGNJMwu8zjqyMTNyuVz57NmzlVwutw94CpvL5fadOXOmks1ml9YW9bwFwBtJORI9pLZl1ttL7z2ZTKZncHBwzzr+3NDQ0CvZbLbHe7+ua2AfCet9J3UyvaGTMAy1wVskKRUEwWYvck9SgMSlCyhvAEO5XK5Wq9WF9cYrlcpCuVyubVLqll4qrJl5M5sws/gFB84xOTmZHh0d9d77yrNj3vvK6OioTU5O9ji3bqgYuAN4EliiOjs0NCRgD/Dj549YSbRarXBiYqKnVqvNZDKZmvc+tbi4OHPx4sXlS5cu5er1emoD2CbwR+B6oVDYsnQlEnY+n5eZDQJjkoY2yD5hGMapVIogCII4juPV1VWiKAo2kUAByEuaHBsb2xI2qWYNmJF0gU22LIqioFarBcvLy9RqtWALUA/8RdIsCZuZxAd8Pp9H0mtm9mdgJOm8TeyqpDOPpqfv1BsNnIfYO4LA450Q0NtocHx2lvNrExI3EYVCgcHBwWVJZeBtYOe3AJ2J4/iDyXv3rvtWq9/DLhm7zLTbOeszqU+QCqOI3tjHUe47emNvf2f9qKQW8Hczewv4paSuTinNzDdWVm7Pz80NEMc/NwgdOBwKXLvHcG1Z+EYqHV1/NV1ycGsm1kTizD7J7tDQUAu4K+l7wDAdSMmAVrN5b7FY/LzVbEpSv0k71prxXsnad7MdEn2gfsRexFAM1Y5gnwAfOnSoDMwDb5vZQNLe1sfxUmVp6Z+1avXR2k6Z2mtYu9S+SwYyqd39GNaF2VzHsE+ADxw4MCnJAceTyMHMolq1+kW5VLph7RYsQSQJM5n0yKRrnRy3/2NdXV2xmf0J+BtblB4zY3V19eulUum6994nABXgDBrAlw4uu3T64bb/GzSbTXp6ekpRFH1oZt8F3toIwsfx3HKp9EXUbNbXWYpArHWQhvCY1YG7SLeB+6WenuquVit56XrepqamOHjwIMBjM6tJOrXWTD/NpiTM+9Xl5eUrlXK5AE8/cdrbixwIYRFoBXho4j9hGH7qvb/1k6mp2bu7dzdfrdX4enp6ez85nrV8Pk+j0Rjo6ur6rXPunKTwKahZ3KjX/73w+PFnURQ11tpIrY03gZoZJWFTkpuIYd5EtFIsxjsGBiAI+OaZb7NvDQswMjKi7u7uN8MwPC/ph0/k0Go27xXn5y+v1OsLtA+gFlCS9Jj28X0/CMOHGC3vI+JWbBYG9Pb1cfPGjRfivBRYgBMnTiDpZ2EY/kFSNo7jSnlx8fJSqXTLOVcCZjB7YDDbm07PrayuNiQRdHWxf2SEf3z00ZYxXhoswNGjR9PpdPo3QRD8olFf+aw4//hCFMf3BMVAWrrf3V3LNhqkurv5amKiY//brgbrWRAEjVar9Xsn99dms1WKvC/6Bw8awf79mBk/Wljgk2Jx2/7/C8D87PcyjeWGAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA1LTI1VDAwOjI4OjU5KzAwOjAwM8i5WwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNS0yNFQyMzoxMTowOSswMDowMJ1Oe7oAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAAgCAYAAACLmoEDAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH5wUZACIpx2TIswAABNVJREFUWMO9l8trXHUUxz/nd+/NPJK5k5kmzbRG2iRWijZmESit0qUbaVb+A0JXLhRclK5EVETcuNCFLQhiF4K4asFVtbT1UZ8JsSbBzjQ1qU3zntQkzCRz7z0u7kRazKSTzI0HDhd+j+/5/n7n/M45V4hGBGgD0kAcsAEPKANLwAKgURhpdP9TwHHgBNAH5IAWYAWYBoaBa8APwGgUpHciOeDVKgmtQ68DrwAd/ydJAQ4DnwCrdRLd0NXqvsM07tW6iB4CvgAq2yS6oRXgc+CJ3SacAT5sgOiDhD+o4u2KWMCLwHKDRDd0uYpn7QbZNuByREQ39FIVty6x61xngGeAo1us0f7+/umBgQErk8m0FovFpYsXL/qDg4M5asfmcaAXuEKEKc0G3qVGrIqIPzAwMFcoFKZUdUVVPVVdyefzUydPnpwDAmrH7jvbuLS6pAm4UMtoT0/P4vDw8Liq+vqw+ENDQ+Pd3d2LNcgGVdymekiYOskKYRHY1J0HDx5M9Pb27tkEz/T19WW7uroSW+B2UGcK2871x2tNOI5ji8imBkUk5jjOVi8+QZ1S780C3K81MT8/v1IsFuc3m1tcXJyfm5tb3QJ3KWqyAZAH/M0mR0dH4+fOnQt8319+cNz3/eWzZ8/q2NhYrdvzgZtV/MjEAk4BJWrkzHQ6vXbmzJlCoVCYnJ2dLRUKhcnTp08XXNddo3aeLVVxIy0MAnQDt7YwrLZte67retlsVl3X9Wzb9ti6KNwCutiFHiEBvE3ouiiqlw+8xTYe2HZP9CTwKXAsgsNfB156PJe7acdimAD8wGBZAYERBEiWy5yYnuaj6obtxsrfhFnhOSDVANF7xpj3Ojs7h+KO4waQFiWtKq3GaIuKtAjEbM8j6Qe+t/8xOdLmyk5iJQm8AbwGODvYHyTj8Wt729sv2JZVRtXWMCtJ6GhVRMLqpngoRQMjYjS/k1dYAQrA00AP2wwlx3Fut2Wz38SamgRwVaRZRJKhavhVbRahBcRFaEPo9mFlpynjPjBHGA51N9DGmKVMOv11qrl5qjqk8tCjk/AroiAqoioioqiD6kwj+e1PQvedoL5w8FqSye/3ZDI3JHRzHSKCqqjIlIr82AhZBf4gzL9HeEQ4xGOxkfZs9lvLstbrYQkYhbLAqIhckXj8bqOVo0yY2I8C+2otsixrZk8mcykRjxc3ObOAiGr1sEKA6iowgsh3AoPFZHI+5nkaRZmbJfzFfh6IbXJFa67rXk6nUuMPNGahexEDgqAeSAm4q8Ivtm1fCYJg5IWJielCa+t6++oqY5OT0ZQ5y7IyQRC8qaov83Db6Sfj8Z/3trVdtW27HHJHVBURWQdWVSkKOiFi8j7MqeCVFhb85kwGLItb4+P/gkXyO2GMWTLGfOx5Xr+qPrsx7tj2ZGs6/att22VVtQjTXlFEZoF7InLHduy7KJUg8JCKr9gWbQcO8PuNG/+xEwnZSqWijuP8Zox53/f9LmCfEVl2U6mfkonETJXgPVT/UphOxGIzpbW1chgQQufxY3x1/vwj7UTa7aRSqXipVHrd9/1TyXjiasfe9s+MMbdRXbBElu40Na3uK5eJNTUxms9vGz9SsolEAlXNVtYr+9NuupjraF+oTEyUNZfDAIeWl/lyYWHH+P8AZ0RW2q2R2psAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDUtMjVUMDA6Mjg6NTkrMDA6MDAzyLlbAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA1LTI0VDIzOjExOjE5KzAwOjAwUeR7JAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII=",anchor:[.5,1]}]},Ii=mt.getLogger("DrawingDOM"),Oi={_addUID:function(e){return this._uid?e+"-"+this._uid:e},_createMainContainerElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPdrawing"),e.className="GPwidget",e},_createShowDrawingElement:function(){var e=document.createElement("input");return e.id=this._addUID("GPshowDrawing"),e.className="GPshowDrawing",e.type="checkbox",e},_createShowDrawingPictoElement:function(){var e=this,t=document.createElement("label");t.id=this._addUID("GPshowDrawingPicto"),t.className="GPshowAdvancedToolPicto",t.htmlFor=this._addUID("GPshowDrawing"),t.title=this.options.labels.control,t.addEventListener?t.addEventListener("click",(function(t){e.onShowDrawingClick(t)})):t.attachEvent&&t.attachEvent("onclick",(function(t){e.onShowDrawingClick(t)}));var o=document.createElement("span");return o.id=this._addUID("GPshowDrawingOpen"),o.className="GPshowAdvancedToolOpen",t.appendChild(o),t},_createDrawingPanelElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPdrawingPanel"),e.className="GPpanel",e},_createDrawingPanelHeaderElement:function(){var e=document.createElement("div");e.className="GPpanelHeader";var t=document.createElement("div");t.className="GPpanelTitle",t.innerHTML=this.options.controlLabel||"Annoter la carte",e.appendChild(t);var o=document.createElement("div");o.id=this._addUID("GPdrawingPanelClose"),o.className="GPpanelClose",o.title="Fermer le panneau";var n=this;return o.addEventListener?o.addEventListener("click",(function(){document.getElementById(n._addUID("GPshowDrawingPicto")).click()}),!1):o.attachEvent&&o.attachEvent("onclick",(function(){document.getElementById(n._addUID("GPshowDrawingPicto")).click()})),e.appendChild(o),e},_createDrawingToolsSections:function(){var e=[];return this.dtOptions={},this.options.tools.points&&(this.dtOptions.points={label:this.options.labels.points,active:!1,panel:"draw",id:"point"}),this.options.tools.lines&&(this.dtOptions.lines={label:this.options.labels.lines,active:!1,panel:"draw",id:"line"}),this.options.tools.polygons&&(this.dtOptions.polygons={label:this.options.labels.polygons,active:!1,panel:"draw",id:"polygon"}),this.options.tools.holes&&(this.dtOptions.holes={label:this.options.labels.holes,active:!1,panel:"draw",id:"holes"}),this.options.tools.text&&(this.dtOptions.text={label:this.options.labels.text,active:!1,panel:"draw",id:"text"}),this.options.tools.edit&&(this.dtOptions.edit={label:this.options.labels.edit,active:!1,panel:"edit",id:"edit"}),this.options.tools.display&&(this.dtOptions.display={label:this.options.labels.display,active:!1,panel:"edit",id:"display"}),this.options.tools.tooltip&&(this.dtOptions.tooltip={label:this.options.labels.tooltip,active:!1,panel:"edit",id:"tooltip"}),this.options.tools.remove&&(this.dtOptions.remove={label:this.options.labels.remove,active:!1,panel:"edit",id:"remove"}),(this.dtOptions.points||this.dtOptions.lines||this.dtOptions.polygons||this.dtOptions.text)&&e.push(this._createDrawingToolSection(this.options.labels.creatingTools,"draw")),(this.dtOptions.edit||this.dtOptions.display||this.dtOptions.tooltip||this.dtOptions.remove)&&e.push(this._createDrawingToolSection(this.options.labels.editingTools,"edit")),this.options.tools.export&&e.push(this._createSavingSection(this.options.labels.export,this.options.labels.exportTitle)),e},_createDrawingToolSection:function(e,t){var o=document.createElement("div");o.className="drawing-tool-section";var n=document.createElement("p");n.className="drawing-tool-section-title",n.innerHTML=e,o.appendChild(n);var r=document.createElement("ul");r.className="drawing-tools-flex-display";var i=this;function a(e){i._handleDOMToolClick(e,this.id,i),i._handleToolClick(e,this.id,i)}for(var s in this.dtOptions)if(this.dtOptions[s].panel===t){var l=document.createElement("li");l.className="drawing-tool",l.id=this._addUID("drawing-tool-"+this.dtOptions[s].id),l.title=this.dtOptions[s].label,l.addEventListener("click",a),r.appendChild(l)}return o.appendChild(r),o},_createSavingSection:function(e,t){var o=document.createElement("div");o.className="drawing-tool-section drawing-tools-flex-display";var n=document.createElement("button");n.title=t,n.className="tool-form-submit drawing-button",n.id=this._addUID("drawing-export"),n.type="button",n.textContent=e;var r=this;return n.onclick=function(){r.onExportFeatureClick()},o.appendChild(n),o},_createMarkersChooser:function(e){var t=document.createElement("li");t.className=e.className;for(var o=0;o<this.options.markersList.length;o++){var n=document.createElement("input");n.type="radio",n.name="marker",n.id=this._addUID("marker-"+o),n.value=this.options.markersList[o].src,n.className="marker-input-radio",e.defaultValue===n.value&&(n.checked=!0),t.appendChild(n);var r=document.createElement("label");r.className="marker-label",r.setAttribute("for",n.id);var i=document.createElement("img");i.src=n.value,r.appendChild(i),t.appendChild(r)}return t},_createStylingElement:function(e){var t=document.createElement("li");t.className=e.className;var o=document.createTextNode(e.label);t.appendChild(o);var n=document.createElement("input");try{n.type=e.type}catch(e){n.type="text"}return n.id=e.id,n.value=e.defaultValue,e.title&&(n.title=e.title),void 0!==e.checked&&(n.checked=e.checked),void 0!==e.min&&(n.min=e.min),void 0!==e.max&&(n.max=e.max),void 0!==e.step&&(n.step=e.step),t.appendChild(n),t},_createStylingDiv:function(e){var t=document.createElement("div");t.className="gp-styling-div";var o=document.createElement("ul"),n=null,r=e.geomType.toLowerCase();switch(r){case"point&text":case"point":n=this._createMarkersChooser({className:"gp-styling-option",defaultValue:e.initValues.markerSrc}),o.appendChild(n),n=this._createStylingElement({type:"range",className:"gp-styling-option",label:this.options.labels.markerSize,title:"petit, moyen ou grand",id:this._addUID("markerSize"),min:5,max:15,step:5,defaultValue:10*e.initValues.markerSize}),o.appendChild(n),e.initValues.markerCustom,"point&text"===r&&(n=this._createStylingElement({type:"checkbox",className:"gp-styling-option",label:this.options.labels.labelDisplay,id:this._addUID("labelDisplay"),checked:e.initValues.labelDisplay,defaultValue:e.initValues.labelDisplay}),o.appendChild(n));break;case"text":n=this._createStylingElement({type:"color",className:"gp-styling-option",label:this.options.labels.fillColor,id:this._addUID("fillColor"),defaultValue:e.initValues.fillColor}),o.appendChild(n),n=this._createStylingElement({type:"color",className:"gp-styling-option",label:this.options.labels.strokeColor,id:this._addUID("strokeColor"),defaultValue:e.initValues.strokeColor}),o.appendChild(n),n=this._createStylingElement({type:"range",className:"gp-styling-option",label:this.options.labels.strokeWidth,title:"1 Ã  10 pixels",id:this._addUID("strokeWidth"),min:1,max:10,step:1,defaultValue:e.initValues.strokeWidth}),o.appendChild(n);break;case"line":n=this._createStylingElement({type:"color",className:"gp-styling-option",label:this.options.labels.strokeColor,id:this._addUID("strokeColor"),defaultValue:e.initValues.strokeColor}),o.appendChild(n),n=this._createStylingElement({type:"range",className:"gp-styling-option",label:this.options.labels.strokeWidth,title:"1 Ã  10 pixels",id:this._addUID("strokeWidth"),min:1,max:10,step:1,defaultValue:e.initValues.strokeWidth}),o.appendChild(n);break;case"polygon":n=this._createStylingElement({type:"color",className:"gp-styling-option",label:this.options.labels.strokeColor,id:this._addUID("strokeColor"),defaultValue:e.initValues.strokeColor}),o.appendChild(n),n=this._createStylingElement({type:"range",className:"gp-styling-option",label:this.options.labels.strokeWidth,title:"1 Ã  10 pixels",id:this._addUID("strokeWidth"),min:1,max:10,step:1,defaultValue:e.initValues.strokeWidth}),o.appendChild(n),n=this._createStylingElement({type:"color",className:"gp-styling-option",label:this.options.labels.fillColor,id:this._addUID("fillColor"),defaultValue:e.initValues.fillColor}),o.appendChild(n),n=this._createStylingElement({type:"range",className:"gp-styling-option",label:this.options.labels.fillOpacity,title:"0 (transparent) Ã  100% (opaque)",id:this._addUID("fillOpacity"),min:0,max:10,step:1,defaultValue:10*e.initValues.fillOpacity}),o.appendChild(n);break;default:Ii.log("Unhandled geometry type for styling.")}t.appendChild(o);var i=document.createElement("input");i.type="button",i.className="gp-styling-button",i.value=this.options.labels.applyToObject,i.onclick=function(){e.applyFunc.call(this,"apply")},t.appendChild(i);var a=document.createElement("input");a.type="button",a.value=this.options.labels.setAsDefault,a.className="gp-styling-button",a.onclick=function(){e.applyFunc.call(this,"default")},t.appendChild(a);var s=document.createElement("input");return s.type="button",s.className="gp-styling-button closer",s.onclick=function(){e.applyFunc.call(this,"cancel")},t.appendChild(s),t},_createLabelDiv:function(e){var t=document.createElement("div");t.className="gp-label-div";var o=null;if("Text"===e.geomType?((o=document.createElement("input")).type="text",o.className="gp-input-label-style"):((o=document.createElement("textArea")).rows=2,o.cols=40,o.className="gp-textarea-att-label-style"),e.text&&(o.value=e.text),o.autocomplete="off",o.placeholder=e.placeholder,o.id=e.inputId,t.appendChild(o),o.onblur=function(){e.applyFunc.call(this,e.key,o.value,!0)},o.onkeyup=function(t){"Text"===e.geomType&&13===t.keyCode&&e.applyFunc.call(this,e.key,o.value,!0),27===t.keyCode&&e.applyFunc.call(this,e.key,o.value,!1)},e.measure&&"Text"!==e.geomType){var n=document.createElement("input");n.type="text",n.readonly=!0,n.className="gp-input-measure-style",n.value=e.measure,t.appendChild(n)}if("Text"!==e.geomType){var r=document.createElement("input");r.type="button",r.className="gp-styling-button",r.value=this.options.labels.saveDescription,r.onclick=function(){e.applyFunc.call(this,e.key,o.value,!0)},t.appendChild(r);var i=document.createElement("input");i.type="button",i.className="gp-styling-button closer",i.onclick=function(){e.applyFunc.call(this,e.key,o.value,!1)},t.appendChild(i)}return t},_handleDOMToolClick:function(e,t,o){for(var n in o.dtOptions){var r=o._addUID("drawing-tool-"+o.dtOptions[n].id),i=document.getElementById(r);r===t?(o.dtOptions[n].active?i.className="drawing-tool":i.className="drawing-tool drawing-tool-active",o.dtOptions[n].active=!o.dtOptions[n].active):(i.className="drawing-tool",o.dtOptions[n].active=!1)}}},Si=mt.getLogger("Drawing"),xi=function(e){function t(o){if(o=o||{},!(this instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this._initialize(o),this._container=this._initContainer(),e.call(this,{element:this._container,target:o.target,render:o.render})}return e&&(t.__proto__=e),t.DefaultTools={points:!0,lines:!0,polygons:!0,holes:!1,text:!0,remove:!0,display:!0,tooltip:!0,edit:!0,export:!0,measure:!1},t.DefaultLabels={control:"Annoter la carte",creatingTools:"Outils de crÃ©ation",points:"Placer des points",lines:"Dessiner des lignes",polygons:"Dessiner des polygones",holes:"CrÃ©er des trous sur un polygone",text:"Ecrire sur la carte",editingTools:"Outils d'Ã©dition",edit:"Editer les tracÃ©s",display:"Modifier l'apparence des objets",tooltip:"Modifier les textes / infos-bulles",remove:"Supprimer des objets",export:"Exporter",exportTitle:"Exporter en KML",applyToObject:"Appliquer Ã  l'objet",saveDescription:"Enregistrer",setAsDefault:"DÃ©finir par dÃ©faut",strokeColor:"Couleur du trait : ",strokeWidth:"Epaisseur du trait : ",fillColor:"Couleur de remplissage : ",fillOpacity:"OpacitÃ© du remplissage : ",markerSize:"Taille du pictogramme : ",markerColor:"Couleur du pictogramme : ",labelDisplay:"Afficher le label : "},t.DefaultStyles={textFillColor:"#000000",textStrokeColor:"#FFFFFF",textStrokeWidth:6,textIcon1x1:{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR4nGNiYAAAAAkAAxkR2eQAAAAASUVORK5CYII=",anchor:[0,0]},polyFillColor:"#ffffff",polyFillOpacity:.4,polyStrokeColor:"#ffcc33",polyStrokeWidth:4,strokeColor:"#ffcc33",strokeWidth:4,markerSize:1,markerColor:"#ffcc33",labelDisplay:!0},t.DefaultCursorStyle={radius:6,strokeColor:"#FFF",strokeWidth:1,fillColor:"rgba(0, 153, 255, 1)"},t.prototype=Object.create(e.prototype,{}),t.prototype.assign=function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])},t.prototype.assign(Oi),t.prototype.constructor=t,t.prototype.setMap=function(t){var o=this;if(e.prototype.setMap.call(this,t),this.getMap()&&this.eventKey&&Object(Ao.b)(this.eventKey),null!=t){if(this.draggable&&ei.dragElement(this._drawingPanel,this._drawingPanelHeader,t.getTargetElement()),!this.collapsed)document.getElementById(this._addUID("GPshowDrawing")).checked="checked";this.layer&&this.setLayer(this.layer),this.eventKey=this.getMap().getLayers().on("remove",(function(e){e.element===o.layer&&(o.layer=null,o.interactionCurrent&&(o.getMap().removeInteraction(o.interactionCurrent),o.interactionCurrent=null))}))}},t.prototype.exportFeatures=function(){var t=null;if(null==e.prototype.getMap.call(this))return Si.log("Impossible to export : control isn't attached to any map."),t;if(!this.layer)return Si.log("Impossible to export : no layer is hosting features."),t;if(!this.layer.getSource()||!this.layer.getSource().getFeatures()||!this.layer.getSource().getFeatures().length)return Si.log("Impossible to export : no features found."),t;this.featuresCollectionSelected&&this.featuresCollectionSelected.clear();var o=null;switch(this.getExportFormat()){case"KML":o=new Wt({writeStyles:!0});break;case"GPX":o=new Zt({});break;case"GEOJSON":o=new Qt({})}if(!o)return Si.log("Impossible to export : format unknown !?"),t;var n=this.layer.getSource().getProjection();return n=n||this.getMap().getView().getProjection(),t=o.writeFeatures(this.layer.getSource().getFeatures(),{dataProjection:"EPSG:4326",featureProjection:n})},t.prototype.setCollapsed=function(e){void 0!==e?e&&this.collapsed||!e&&!this.collapsed||(this.onShowDrawingClick(),this._showDrawingContainer.checked=!e):Si.error("[ERROR] Drawing:setCollapsed - missing collapsed parameter")},t.prototype.setExportName=function(e){this._exportName=e},t.prototype.getExportName=function(){return this._exportName},t.prototype.setExportFormat=function(e){switch(this._exportFormat=e?e.toUpperCase():"KML",e.toUpperCase()){case"KML":this._exportExt=".kml",this._exportMimeType="application/vnd.google-earth.kml+xml";break;case"GPX":this._exportExt=".gpx",this._exportMimeType="application/gpx+xml";break;case"GEOJSON":this._exportExt=".geojson",this._exportMimeType="application/geo+json";break;default:this._exportFormat="KML"}},t.prototype.getExportFormat=function(){return this._exportFormat},t.prototype.setLayer=function(e){var t=this;if(e)if(e instanceof vi.a){var o=this.getMap().getLayers();if(o){var n=!1;o.forEach((function(t){t===e&&(Si.trace("layer already in map. Not adding."),n=!0)})),n||this.getMap().addLayer(e),e.getSource().getFeatures().forEach((function(e){if("function"==typeof e.getStyle()){var o=e.getStyleFunction();if(o){var n=o.call(t,e,0);n&&0!==n.length&&e.setStyle(Array.isArray(n)?n[0]:n)}}})),this.layer=e,this.getMap().getControls().forEach((function(e){if(e instanceof Dr){var o=t.layer.gpLayerId;e._layers[o].title===o&&e.addLayer(t.layer,{title:t.options.layerDescription.title,description:t.options.layerDescription.description})}}))}}else Si.log("no valid layer given for hosting drawn features.");else this.layer=null},t.prototype.getLayer=function(){return this.layer},t.prototype.getContainer=function(){return this._container},t.prototype._getsMarkersOptionsFromSrc=function(e){for(var t=null,o=0;o<this.options.markersList.length;o++)if(e&&this.options.markersList[o].src===e)return t=this.options.markersList[o];return t},t.prototype._getIconStyleOptions=function(e){var t={};return Object.keys(e).forEach((function(o){switch(o){case"src":case"size":case"scale":case"color":case"anchor":case"anchorOrigin":case"anchorXUnits":case"anchorYUnits":t[o]=e[o]}})),t},t.prototype._initialize=function(e){var o=this;this._uid=So.generate(),this._exportName="Croquis",this._exportFormat="KML",this._exportMimeType="application/vnd.google-earth.kml+xml",this._exportExt=".kml",e=e||{},this.options=e,this.options.layerDescription||(this.options.layerDescription={title:"Croquis",description:"Mon croquis"}),this.options.tools||(this.options.tools={}),Object.keys(t.DefaultTools).forEach((function(e){o.options.tools.hasOwnProperty(e)||(o.options.tools[e]=t.DefaultTools[e])})),this.options.cursorStyle||(this.options.cursorStyle={}),Object.keys(t.DefaultCursorStyle).forEach((function(e){o.options.cursorStyle.hasOwnProperty(e)||(o.options.cursorStyle[e]=t.DefaultCursorStyle[e])})),this.options.collapsed=void 0===e.collapsed||e.collapsed,this.collapsed=this.options.collapsed,this.options.draggable=void 0!==e.draggable&&e.draggable,this.draggable=this.options.draggable,this.options.markersList=e.markersList||Ei.drawing_api,this.options.labels||(this.options.labels={}),Object.keys(t.DefaultLabels).forEach((function(e){o.options.labels.hasOwnProperty(e)||(o.options.labels[e]=t.DefaultLabels[e])})),this.options.defaultStyles||(this.options.defaultStyles={}),Object.keys(t.DefaultStyles).forEach((function(n){if(e.defaultStyles.hasOwnProperty(n)){if("polyFillOpacity"===n&&(e.defaultStyles[n]<0||e.defaultStyles[n]>1))return Si.log("Wrong value ("+e.defaultStyles[n]+") for defaultStyles.polyFillOpactity. Must be between 0 and 1"),void(o.options.defaultStyles[n]=t.DefaultStyles[n]);if("strokeWidth"===n||"polyStrokeWidth"===n){var r=parseInt(e.defaultStyles[n],10);if(isNaN(r)||r<0)return Si.log("Wrong value ("+e.defaultStyles[n]+") for defaultStyles.strokeWidth. Must be a positive interger value."),void(o.options.defaultStyles[n]=t.DefaultStyles[n]);o.options.defaultStyles[n]=r}if("markerSize"===n){var i=parseFloat(e.defaultStyles[n]);if(isNaN(i)||i<0)return Si.log("Wrong value ("+e.defaultStyles[n]+") for defaultStyles.markerSize. Must be a positive value."),void(o.options.defaultStyles[n]=t.DefaultStyles[n]);o.options.defaultStyles[n]=i}}else o.options.defaultStyles[n]=t.DefaultStyles[n]})),this.interactionCurrent=null,this.interactionSelectEdit=null,this.featuresCollectionSelected=null,this.stylingOvl=null,this.popupOvl=null,this.layer=null,this.options.layer&&this.options.layer instanceof vi.a&&(this.layer=this.options.layer),this._isDesktop=this._detectSupport(),this.options.popup||(this.options.popup={display:!0,apply:null})},t.prototype._createEmptyLayer=function(){var e=new yi.b,t=new vi.a({source:new d.b({features:e})});t.gpResultLayerId="drawing",this.setLayer(t)},t.prototype._detectSupport=function(){var e=!0,t=window.navigator.userAgent.toLowerCase();return-1===t.indexOf("iphone")&&-1===t.indexOf("ipod")&&-1===t.indexOf("ipad")&&-1===t.indexOf("android")&&-1===t.indexOf("mobile")&&-1===t.indexOf("blackberry")&&-1===t.indexOf("tablet")&&-1===t.indexOf("phone")&&-1===t.indexOf("touch")||(e=!1),-1===t.indexOf("msie")&&-1===t.indexOf("trident")||(e=!0),e},t.prototype._initContainer=function(){var e=this._createMainContainerElement(),t=this._showDrawingContainer=this._createShowDrawingElement();e.appendChild(t);var o=this._createShowDrawingPictoElement();e.appendChild(o);var n=this._drawingPanel=this._createDrawingPanelElement(),r=this._drawingPanelHeader=this._createDrawingPanelHeaderElement();n.appendChild(r);for(var i=this._createDrawingToolsSections(),a=0;a<i.length;a++)n.appendChild(i[a]);return e.appendChild(n),e},t.prototype._drawEndFeature=function(e,t){var o=null;switch(t){case"Point":o=new It.c({image:new Et.a(this._getIconStyleOptions(this.options.markersList[0]))});break;case"LineString":o=new It.c({stroke:new Ot.a({color:this.options.defaultStyles.strokeColor,width:this.options.defaultStyles.strokeWidth})});break;case"Polygon":o=new It.c({fill:new St.a({color:jt.hexToRgba(this.options.defaultStyles.polyFillColor,this.options.defaultStyles.polyFillOpacity)}),stroke:new Ot.a({color:this.options.defaultStyles.polyStrokeColor,width:this.options.defaultStyles.polyStrokeWidth})})}if(e.setStyle(o),this._updateMeasure(e,t),this.options.popup.display){var n=this,r=function(t,o,r){if(n.getMap().removeOverlay(n.popupOvl),n.popupOvl=null,r&&o&&o.trim().length>0){var i={};i[t]=o.replace(/\n/g,"<br>"),e.setProperties(i)}},i=null,a=!0,s=this.options.popup.function;s&&"function"==typeof s&&(i=s.call(n,{feature:e,geomType:t,closeFunc:function(){r(null,!1)},saveFunc:function(e){r(e,!0)}}))&&(a=!1,i.tabIndex=-1,i.onblur=function(){n.getMap().removeOverlay(n.popupOvl),n.popupOvl=null}),a&&(i=this._createLabelDiv({applyFunc:r,inputId:this._addUID("att-input"),placeholder:"Saisir une description...",measure:this.options.tools.measure?e.getProperties().measure:null,geomType:t,key:"description"})),this.popupOvl&&(this.getMap().removeOverlay(this.popupOvl),this.popupOvl=null),this.popupOvl=new c.a({element:i,positioning:"top-center"}),this.getMap().addOverlay(this.popupOvl);var l=e.getGeometry().getExtent();this.popupOvl.setPosition([(l[0]+l[2])/2,(l[1]+l[3])/2]),document.getElementById(this._addUID("att-input"))&&document.getElementById(this._addUID("att-input")).focus()}},t.prototype._createRemoveInteraction=function(){var e=this,t=new g.b({layers:[this.layer],style:!1});return t.on("select",(function(t){t&&t.selected&&0!==t.selected.length&&(e.layer.getSource().removeFeature(t.selected[0]),e.getMap().removeInteraction(e.interactionCurrent),e.interactionCurrent=e._createRemoveInteraction(),e.getMap().addInteraction(e.interactionCurrent))})),t},t.prototype._createStylingInteraction=function(){var e=this,t=new g.b({layers:[this.layer],style:!1});return t.on("select",(function(t){if(e.stylingOvl&&e.getMap().removeOverlay(e.stylingOvl),t&&t.selected&&0!==t.selected.length){var o=null,n=null,r=null,i=null,a={},s=t.selected[0].getGeometry(),l=t.selected[0].getStyle();if(s instanceof _i.a||s instanceof bi.a){if(l&&l.getImage()&&"function"==typeof l.getImage().getSrc&&l.getImage().getSrc()!==e.options.defaultStyles.textIcon1x1.src&&(i="Point","function"==typeof l.getImage().getSrc?(a.markerSrc=l.getImage().getSrc(),a.markerSize=l.getImage().getScale()||1,a.markerAnchor=l.getImage().getAnchor(),l.getImage().getColor()?(o=l.getImage().getColor(),Array.isArray(o)?o="rgba("+o.join()+")":a.markerColor=o,n=jt.isRGB(o)?jt.rgbaToHex(o):{hex:o,opacity:1},a.markerColor=n.hex,a.markerOpacity=n.opacity):a.markerColor=e.options.markersList[0].color||"#ffffff"):(a.markerSrc=e.options.markersList[0].src,a.markerSize=e.options.markersList[0].scale||1,a.markerColor=e.options.markersList[0].color||"#ffffff",a.markerAnchor=e.options.markersList[0].anchor),a.markerCustom=!e._getsMarkersOptionsFromSrc(a.markerSrc)),l&&l.getText()){var u=t.selected[0].getProperties().name;if(u&&(i="Point"===i?"Point&Text":"Text",l.getText().getStroke()&&l.getText().getStroke().getColor()&&(o=l.getText().getStroke().getColor(),Array.isArray(o)?o="rgba("+o.join()+")":a.strokeColor=o,n=jt.isRGB(o)?jt.rgbaToHex(o):{hex:o,opacity:1},a.strokeColor=n.hex,a.strokeOpacity=n.opacity),l.getText().getStroke()&&l.getText().getStroke().getWidth()&&(a.strokeWidth=l.getText().getStroke().getWidth()),l.getText().getFill()&&l.getText().getFill().getColor()&&(o=l.getText().getFill().getColor(),Array.isArray(o)?o="rgba("+o.join()+")":a.fillColor=o,n=jt.isRGB(o)?jt.rgbaToHex(o):{hex:o,opacity:1},a.fillColor=n.hex,a.fillOpacity=n.opacity),a.strokeColor=a.hasOwnProperty("strokeColor")?a.strokeColor:e.options.defaultStyles.textStrokeColor,a.strokeWidth=a.hasOwnProperty("strokeWidth")?a.strokeWidth:e.options.defaultStyles.textStrokeWidth,a.fillColor=a.hasOwnProperty("fillColor")?a.fillColor:e.options.defaultStyles.textFillColor,"Point&Text"===i)){l.getText().getText()||l.getText().setText(u);var d=t.selected[0].get("checked");a.labelDisplay=void 0===d?e.options.defaultStyles.labelDisplay:d}}}else s instanceof Ht.a||s instanceof Yt.a?(i="Line",l&&l.getStroke()&&(l.getStroke().getWidth()&&(a.strokeWidth=l.getStroke().getWidth()),l.getStroke().getColor()&&(o=l.getStroke().getColor(),Array.isArray(o)?o="rgba("+o.join()+")":a.strokeColor=o,n=jt.isRGB(o)?jt.rgbaToHex(o):{hex:o,opacity:1},a.strokeColor=n.hex,a.strokeOpacity=n.opacity)),a.strokeWidth=a.hasOwnProperty("strokeWidth")?a.strokeWidth:e.options.defaultStyles.strokeWidth,a.strokeColor=a.hasOwnProperty("strokeColor")?a.strokeColor:e.options.defaultStyles.strokeColor):(s instanceof Mt.b||s instanceof Rt.a)&&(i="Polygon",l&&l.getStroke()&&(l.getStroke().getWidth()&&(a.strokeWidth=l.getStroke().getWidth()),l.getStroke().getColor()&&(o=l.getStroke().getColor(),Array.isArray(o)?o="rgba("+o.join()+")":a.strokeColor=o,n=jt.isRGB(o)?jt.rgbaToHex(o):{hex:o,opacity:1},a.strokeColor=n.hex,a.strokeOpacity=n.opacity)),l&&l.getFill()&&l.getFill().getColor()&&(o=l.getFill().getColor(),Array.isArray(o)?o="rgba("+o.join()+")":a.fillColor=o,n=jt.isRGB(o)?jt.rgbaToHex(o):{hex:o,opacity:1},a.fillColor=n.hex,a.fillOpacity=n.opacity),a.strokeWidth=a.hasOwnProperty("strokeWidth")?a.strokeWidth:e.options.defaultStyles.polyStrokeWidth,a.strokeColor=a.hasOwnProperty("strokeColor")?a.strokeColor:e.options.defaultStyles.polyStrokeColor,a.fillColor=a.hasOwnProperty("fillColor")?a.fillColor:e.options.defaultStyles.polyFillColor,a.fillOpacity=a.hasOwnProperty("fillOpacity")?a.fillOpacity:e.options.defaultStyles.polyFillOpacity);if(i){var h=e,p=e._createStylingDiv({geomType:i,initValues:a,applyFunc:function(e){if("cancel"!==e){var o="apply"!==e,n=document.getElementById(h._addUID("fillColor")),s=document.getElementById(h._addUID("fillOpacity")),c=document.getElementById(h._addUID("strokeColor")),u=document.getElementById(h._addUID("strokeWidth")),d=document.getElementById(h._addUID("markerSize"));switch(i.toLowerCase()){case"text":o?(h.options.defaultStyles.textStrokeColor=c.value,h.options.defaultStyles.textStrokeWidth=u.value,h.options.defaultStyles.textFillColor=n.value):t.selected[0].setStyle(new It.c({text:new xt.a({font:"16px sans",textAlign:"left",text:l.getText().getText(),fill:new St.a({color:n.value}),stroke:new Ot.a({color:c.value,width:parseInt(u.value,10)})})}));break;case"point&text":case"point":var p=document.querySelector("input[type='checkbox']"),f=null,g=parseInt(d.value,10)/10,m=document.querySelector("input[name='marker']:checked");if(m&&((f=h._getsMarkersOptionsFromSrc(m.value)).scale=g),o){if(h.options.defaultStyles.markerSize=g,h.options.markersList.length>1){var y=h.options.markersList.findIndex((function(e){return e===f}));y>0&&(h.options.markersList.splice(y,1),h.options.markersList.splice(0,0,f))}"point&text"===i.toLowerCase()&&(h.options.defaultStyles.textStrokeColor=a.strokeColor,h.options.defaultStyles.textStrokeWidth=a.strokeWidth,h.options.defaultStyles.textFillColor=a.fillColor,h.options.defaultStyles.labelDisplay=a.labelDisplay)}else{var v={};"point&text"===i.toLowerCase()&&(t.selected[0].set("checked",p.checked),v={text:new xt.a({font:"16px sans",textAlign:"left",text:p.checked?t.selected[0].get("name"):"",fill:new St.a({color:a.fillColor}),stroke:new Ot.a({color:a.strokeColor,width:parseInt(a.strokeWidth,10)})})}),f?t.selected[0].setStyle(new It.c(Object.assign({image:new Et.a(h._getIconStyleOptions(f))},v))):t.selected[0].setStyle(new It.c(Object.assign({image:new Et.a({src:a.markerSrc,anchor:a.markerAnchor,anchorOrigin:"top-left",anchorXUnits:"pixels",anchorYUnits:"pixels",scale:g})},v)))}break;case"line":o?(h.options.defaultStyles.strokeColor=c.value,h.options.defaultStyles.strokeWidth=parseInt(u.value,10)):t.selected[0].setStyle(new It.c({stroke:new Ot.a({width:parseInt(u.value,10),color:c.value})}));break;case"polygon":var _=parseInt(s.value,10)/10;o?(h.options.defaultStyles.polyStrokeColor=c.value,h.options.defaultStyles.polyFillColor=n.value,h.options.defaultStyles.polyFillOpacity=_,h.options.defaultStyles.polyStrokeWidth=parseInt(u.value,10)):t.selected[0].setStyle(new It.c({stroke:new Ot.a({width:parseInt(u.value,10),color:c.value}),fill:new St.a({color:jt.hexToRgba(n.value,_)})}))}o||h.getMap().removeOverlay(r)}else h.getMap().removeOverlay(r)}});r=new c.a({element:p,positioning:"top-center"}),e.getMap().addOverlay(r),r.setPosition(t.mapBrowserEvent.coordinate),e.stylingOvl=r,e.getMap().removeInteraction(e.interactionCurrent),e.interactionCurrent=e._createStylingInteraction(),e.getMap().addInteraction(e.interactionCurrent)}else Si.log("Unhandled geometry type for styling.")}})),t},t.prototype._createLabelInteraction=function(){var e=this,t=new g.b({layers:[this.layer],style:!1});return t.on("select",(function(t){if(e.labelOvl&&e.getMap().removeOverlay(e.labelOvl),t&&t.selected&&0!==t.selected.length){var o=null,n=null,r=null,i=null,a=t.selected[0].getGeometry(),s=t.selected[0].getStyle();if(a instanceof _i.a||a instanceof bi.a){var l=t.selected[0].getProperties().name;s&&s.getText()&&l?n="Text":s&&s.getImage()&&(n="Point")}else if(a instanceof Ht.a||a instanceof Yt.a)n="Line";else{if(!(a instanceof Mt.b||a instanceof Rt.a))return void Si.log("Geometry type for styling not supported .");n="Polygon"}if(n){if("Text"===n)r=s.getText().getText();else{var u=t.selected[0].getProperties();u&&(u.hasOwnProperty("description")||u.hasOwnProperty("desc"))&&(r=u.description||u.desc),u&&u.hasOwnProperty("measure")&&(i=u.measure)}var d=e,h=e._createLabelDiv({applyFunc:function(e,r,i){if(d.getMap().removeOverlay(o),i){var a=t.selected[0];if("Text"===n){var s=a.getStyle();return s.getText().setText(r),a.setProperties({name:r}),void a.setStyle(s)}var l={};l[e]=r.replace(/\n/g,"<br>"),a.setProperties(l)}},inputId:e._addUID("label-input"),placeholder:"Text"===n?"Saisir un label...":"Saisir une description...",text:r,key:"description",measure:e.options.tools.measure?i:null,geomType:n});o=new c.a({element:h,positioning:"top-center"}),e.getMap().addOverlay(o),o.setPosition(t.mapBrowserEvent.coordinate),document.getElementById(e._addUID("label-input")).focus(),e.labelOvl=o,e.getMap().removeInteraction(e.interactionCurrent),e.interactionCurrent=e._createLabelInteraction(),e.getMap().addInteraction(e.interactionCurrent)}else Si.log("Unhandled geometry type for styling.")}})),t},t.prototype._updateMeasure=function(e,t){Si.log(e);var o=null,n=this.getMap().getView().getProjection();function r(e,t){t=t||2;var o=Math.pow(10,t);return Math.round(e*o)/o}var i=t||e.getProperties().type;switch(i){case"Point":var a=e.getGeometry().getCoordinates(),l=Object(s.E)(a,n,"EPSG:4326");o="lon : ",o+=r(l[0],4)+"Â°",o+=" / ",o+="lat : ",o+=r(l[1],4)+"Â°";break;case"LineString":for(var c=0,u=e.getGeometry().getCoordinates(),d=0,h=u.length-1;d<h;++d){var p=Object(s.E)(u[d],n,"EPSG:4326"),f=Object(s.E)(u[d+1],n,"EPSG:4326");c+=Object(wi.c)(p,f)}o=c>1e3?r(c/1e3,3)+" km":r(c,3)+" m";break;case"Polygon":var g=0,m=e.getGeometry().clone(),y=m.getLinearRing(0).getCoordinates();g=Math.abs(Object(wi.b)(new Mt.b([y])));var v=m.getLinearRings();if(v.length>1)for(var _=1;_<v.length;_++){var b=v[_].getCoordinates();g-=Math.abs(Object(wi.b)(new Mt.b([b])))}o=g>1e6?r(g/1e6,3)+" km^2":r(g,2)+" m^2"}e.setProperties({measure:o,type:i})},t.prototype._handleToolClick=function(e,t,o){var n=this,r=o.getMap();if(r){switch(Wr.unset(r,{current:"Drawing"}),o.interactionCurrent&&(r.removeInteraction(o.interactionCurrent),o.interactionCurrent=null),o.interactionSelectEdit&&(r.removeInteraction(o.interactionSelectEdit),o.interactionSelectEdit=null),o.popupOvl&&(o.getMap().removeOverlay(o.popupOvl),o.popupOvl=null),this.layer||this._createEmptyLayer(),t){case this._addUID("drawing-tool-point"):o.dtOptions.points.active&&(o.interactionCurrent=new y.d({stopClick:!0,source:o.layer.getSource(),style:new It.c({image:new Et.a(this._getIconStyleOptions(this.options.markersList[0]))}),type:"Point"}),o.interactionCurrent.on("drawend",(function(e){o._drawEndFeature(e.feature,"Point")}),o));break;case this._addUID("drawing-tool-line"):o.dtOptions.lines.active&&(o.interactionCurrent=new y.d({stopClick:!0,source:o.layer.getSource(),style:new It.c({image:new wt.a({radius:this.options.cursorStyle.radius,stroke:new Ot.a({color:this.options.cursorStyle.strokeColor,width:this.options.cursorStyle.strokeWidth}),fill:new St.a({color:this.options.cursorStyle.fillColor})}),stroke:new Ot.a({color:this.options.defaultStyles.strokeColor,width:this.options.defaultStyles.strokeWidth})}),type:"LineString"}),o.interactionCurrent.on("drawend",(function(e){o._drawEndFeature(e.feature,"LineString")}),o));break;case this._addUID("drawing-tool-polygon"):o.dtOptions.polygons.active&&(o.interactionCurrent=new y.d({stopClick:!0,source:o.layer.getSource(),style:new It.c({image:new wt.a({radius:this.options.cursorStyle.radius,stroke:new Ot.a({color:this.options.cursorStyle.strokeColor,width:this.options.cursorStyle.strokeWidth}),fill:new St.a({color:this.options.cursorStyle.fillColor})}),stroke:new Ot.a({color:this.options.defaultStyles.polyStrokeColor,width:this.options.defaultStyles.polyStrokeWidth}),fill:new St.a({color:jt.hexToRgba(this.options.defaultStyles.polyFillColor,this.options.defaultStyles.polyFillOpacity)})}),type:"Polygon"}),o.interactionCurrent.on("drawend",(function(e){o._drawEndFeature(e.feature,"Polygon")}),o));break;case this._addUID("drawing-tool-holes"):o.dtOptions.holes.active&&(o.interactionSelectEdit=new g.b({stopClick:!0,condition:Ci.o,layers:[this.layer]}),o.interactionSelectEdit.setProperties({name:"Drawing",source:o}),r.addInteraction(o.interactionSelectEdit),o.interactionCurrent=new y.d({stopClick:!0,features:this.interactionSelectEdit.getFeatures(),style:new It.c({image:new wt.a({radius:this.options.cursorStyle.radius,stroke:new Ot.a({color:this.options.cursorStyle.strokeColor,width:this.options.cursorStyle.strokeWidth}),fill:new St.a({color:this.options.cursorStyle.fillColor})}),stroke:new Ot.a({color:this.options.defaultStyles.polyStrokeColor,width:this.options.defaultStyles.polyStrokeWidth}),fill:new St.a({color:jt.hexToRgba(this.options.defaultStyles.polyFillColor,this.options.defaultStyles.polyFillOpacity)})}),type:"Polygon"}),o.interactionCurrent.on("drawstart",(function(e){}),o),o.interactionCurrent.on("drawend",(function(e){var t=o.interactionSelectEdit.getFeatures();if(t.getLength()){for(var n=t.item(0),r=e.feature.getGeometry().getCoordinates()[0],i=!0,a=0;a<r.length;a++)if(!n.getGeometry().intersectsCoordinate(r[a])){i=!1;break}if(!i)return;n.getGeometry().appendLinearRing(new Ai.a(r)),e.feature=n,o._drawEndFeature(e.feature,"Polygon")}}),o));break;case this._addUID("drawing-tool-text"):o.dtOptions.text.active&&(o.interactionCurrent=new y.d({stopClick:!0,source:o.layer.getSource(),style:new It.c({image:new wt.a({radius:this.options.cursorStyle.radius,stroke:new Ot.a({color:this.options.cursorStyle.strokeColor,width:this.options.cursorStyle.strokeWidth}),fill:new St.a({color:this.options.cursorStyle.fillColor})})}),type:"Point"}),o.interactionCurrent.on("drawend",(function(e){var t=null,r=n._createLabelDiv({applyFunc:function(n,r,i){if(o.getMap().removeOverlay(t),i){var a={};a[n]=r,e.feature.setProperties(a),e.feature.setStyle(new It.c({image:new Et.a(o._getIconStyleOptions(o.options.defaultStyles.textIcon1x1)),text:new xt.a({textAlign:"left",font:"16px sans",text:r,fill:new St.a({color:o.options.defaultStyles.textFillColor}),stroke:new Ot.a({color:o.options.defaultStyles.textStrokeColor,width:3})})}))}else o.layer.getSource().removeFeature(e.feature)},inputId:o._addUID("label-input"),geomType:"Text",key:"name",placeholder:"Saisir un label..."});t=new c.a({element:r,positioning:"top-center"}),o.getMap().addOverlay(t),t.setPosition(e.feature.getGeometry().getCoordinates()),document.getElementById(n._addUID("label-input")).focus()})));break;case this._addUID("drawing-tool-edit"):o.dtOptions.edit.active&&(this.featuresCollectionSelected=new yi.b,o.interactionSelectEdit=new g.b({condition:Ci.r,layers:[this.layer],features:this.featuresCollectionSelected}),o.interactionSelectEdit.on("select",(function(e){})),o.interactionSelectEdit.setProperties({name:"Drawing",source:o}),r.addInteraction(o.interactionSelectEdit),o.interactionCurrent=new m.b({stopClick:!0,features:this.interactionSelectEdit.getFeatures(),style:new It.c({image:new wt.a({radius:this.options.cursorStyle.radius,stroke:new Ot.a({color:this.options.cursorStyle.strokeColor,width:this.options.cursorStyle.strokeWidth}),fill:new St.a({color:this.options.cursorStyle.fillColor})})})}),o.interactionCurrent.on("modifyend",(function(e){var t=e.features.item(0);o._updateMeasure(t)})));break;case this._addUID("drawing-tool-display"):o.dtOptions.display.active&&(o.interactionCurrent=this._createStylingInteraction());break;case this._addUID("drawing-tool-tooltip"):o.dtOptions.tooltip.active&&(o.interactionCurrent=this._createLabelInteraction());break;case this._addUID("drawing-tool-remove"):o.dtOptions.remove.active&&(o.interactionCurrent=o._createRemoveInteraction());break;default:Si.trace("unhandled tool type")}o.interactionCurrent&&(o.interactionCurrent.setProperties({name:"Drawing",source:this}),r.addInteraction(o.interactionCurrent)),Si.log("interactions",r.getInteractions())}else Si.trace("Drawing control not attached to any map.")},t.prototype.onShowDrawingClick=function(){var e=this.getMap();for(var t in Wr.unset(e),this.collapsed=this._showDrawingContainer.checked,this.dispatchEvent("change:collapsed"),this.dtOptions)if(this.dtOptions.hasOwnProperty(t)&&this.dtOptions[t].active){var o=this._addUID("drawing-tool-"+this.dtOptions[t].id);document.getElementById(o).className="drawing-tool",this.dtOptions[t].active=!1}},t.prototype.onExportFeatureClick=function(){var e=this.exportFeatures();if(e){var t=document.createElement("a");if(t.setAttribute("href","data:"+this._exportMimeType+";charset=utf-8,"+encodeURIComponent(e)),t.setAttribute("download",this.getExportName()+this._exportExt),document.createEvent){var o=document.createEvent("MouseEvents");o.initEvent("click",!0,!0),t.dispatchEvent(o)}else t.click()}},t}(Oo.a),ji=xi;window.ol&&window.ol.control&&(window.ol.control.Drawing=xi);var Pi=mt.getLogger("LocationSelectorDOM"),Ti={_addUID:function(e){return this._uid?e+"-"+this._uid:e},_createMainContainerElement:function(){var e=document.createElement("div");return e.className=this._addUID("GPlocationPoint"),e.className+=" GPwidget",e},_createLocationPointElement:function(e,t){var o=document.createElement("div");return o.id=this._addUID("GPlocationPoint_"+e),o.className=t?"GPflexInput GPlocationStageFlexInput":"GPflexInput GPlocationStageFlexInputHidden",o.style.cssText="",o},_createLocationPointLabelElement:function(e,t){var o=this,n=document.createElement("label");return n.id=this._addUID("GPlocationOriginLabel_"+e),n.htmlFor=this._addUID("GPlocationOrigin_"+e),n.innerHTML=t,n.addEventListener("click",(function(e){for(var t=So.index(this.id),n=document.getElementsByClassName(o._addUID("GPlocationPoint")),r=0;r<n.length;r++){var i=n[r].childNodes[0].id,a=So.index(i);document.getElementById(o._addUID("GPlocationPoint_"+a)).style.cssText=""}document.getElementById(o._addUID("GPlocationOriginCoords_"+t)).value="",document.getElementById(o._addUID("GPlocationOrigin_"+t)).value="",document.getElementById(o._addUID("GPlocationPoint_"+t)).style.cssText="",document.getElementById(o._addUID("GPlocationOriginPointer_"+t)).checked=!1,document.getElementById(o._addUID("GPlocationOrigin_"+t)).className="GPlocationOriginVisible",document.getElementById(o._addUID("GPlocationOriginCoords_"+t)).className="GPlocationOriginHidden",document.getElementById(o._addUID("GPlocationStageRemove_"+t))&&(document.getElementById(o._addUID("GPlocationStageRemove_"+t)).className="GPlocationStageRemove"),document.getElementById(o._addUID("GPlocationStageAdd"))&&(document.getElementById(o._addUID("GPlocationStageAdd")).className=""),o.onLocationClearPointClick(e)})),n},_createLocationAutoCompleteteInputElement:function(e){var t=this,o=document.createElement("input");return o.id=this._addUID("GPlocationOrigin_"+e),o.className="GPlocationOriginVisible",o.type="text",o.placeholder="Saisir une adresse",o.autocomplete="off",o.addEventListener("keyup",(function(e){var o=e.which||e.keyCode;if(13!==o&&10!==o&&38!==o&&40!==o){var n=So.index(this.id);document.getElementById(t._addUID("GPlocationOrigin_"+n)).value.length>2?document.getElementById(t._addUID("GPlocationAutoCompleteList_"+n)).style.display="block":document.getElementById(t._addUID("GPlocationAutoCompleteList_"+n)).style.display="none",t.onAutoCompleteSearchText(e)}})),o.addEventListener("keydown",(function(o){var n=o.which||o.keyCode,r=document.getElementById(t._addUID("GPlocationAutoCompleteList_"+e));if(r){var i=r.getElementsByClassName("GPautoCompleteProposal current"),a=r.getElementsByClassName("GPautoCompleteProposal"),s=a.length;if(s){var l=null;if(!i.length)return(l=a[0]).className="GPautoCompleteProposal current",l.style.color="#000000",void(l.style["background-color"]="#CEDBEF");l=i[0];var c=parseInt(So.index(l.id),10),u=c===s-1?a[0]:a[c+1],d=0===c?a[s-1]:a[c-1];switch(l.style["background-color"]="",l.style.color="",d.style["background-color"]="",d.style.color="",u.style["background-color"]="",u.style.color="",n){case 38:Pi.log("arrow up"),l.className="GPautoCompleteProposal",d.className="GPautoCompleteProposal current",d.style.color="#000000",d.style["background-color"]="#CEDBEF";break;case 40:Pi.log("arrow down"),l.className="GPautoCompleteProposal",u.className="GPautoCompleteProposal current",u.style.color="#000000",u.style["background-color"]="#CEDBEF";break;case 13:Pi.log("enter"),l.click(o)}l.focus()}}})),o},_createLocationCoordinateInputElement:function(e){var t=this,o=document.createElement("input");return o.id=this._addUID("GPlocationOriginCoords_"+e),o.className="GPlocationOriginHidden",o.type="text",o.disabled=!1,o.addEventListener("click",(function(){var e=So.index(this.id);document.getElementById(t._addUID("GPlocationOriginLabel_"+e)).click()})),o},_createLocationPointerShowInputElement:function(e){var t=document.createElement("input");return t.id=this._addUID("GPlocationOriginPointer_"+e),t.type="checkbox",t},_createLocationPointerInputElement:function(e){var t=this,o=document.createElement("label");return o.id=this._addUID("GPlocationOriginPointerImg_"+e),o.htmlFor=this._addUID("GPlocationOriginPointer_"+e),o.className="GPlocationOriginPointerImg",o.title="Pointer un lieu sur la carte",o.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation();var o,n,r,i=So.index(this.id),a=document.getElementsByClassName(t._addUID("GPlocationPoint"));for(o=0;o<a.length;o++)n=a[o].childNodes[0].id,i!==(r=So.index(n))&&(document.getElementById(t._addUID("GPlocationOriginPointer_"+r)).checked=!1,"Pointer un lieu sur la carte"===document.getElementById(t._addUID("GPlocationOriginCoords_"+r)).value&&(document.getElementById(t._addUID("GPlocationOriginCoords_"+r)).value="",document.getElementById(t._addUID("GPlocationOrigin_"+r)).className="GPlocationOriginVisible",document.getElementById(t._addUID("GPlocationOriginCoords_"+r)).className="GPlocationOriginHidden"));if(document.getElementById(t._addUID("GPlocationOriginPointer_"+i)).checked){for(document.getElementById(t._addUID("GPlocationOriginCoords_"+i)).value="",o=0;o<a.length;o++)n=a[o].childNodes[0].id,r=So.index(n),document.getElementById(t._addUID("GPlocationPoint_"+r)).style.cssText="";document.getElementById(t._addUID("GPlocationStageRemove_"+i))&&(document.getElementById(t._addUID("GPlocationStageRemove_"+i)).className="GPlocationStageRemove"),document.getElementById(t._addUID("GPlocationStageAdd"))&&(document.getElementById(t._addUID("GPlocationStageAdd")).className=""),document.getElementById(t._addUID("GPlocationOriginPointer_"+i)).checked=!1,document.getElementById(t._addUID("GPlocationOrigin_"+i)).className="GPlocationOriginVisible",document.getElementById(t._addUID("GPlocationOriginCoords_"+i)).className="GPlocationOriginHidden"}else{for(document.getElementById(t._addUID("GPlocationOriginCoords_"+i)).value="Pointer un lieu sur la carte",o=0;o<a.length;o++)n=a[o].childNodes[0].id,i===(r=So.index(n))?document.getElementById(t._addUID("GPlocationPoint_"+r)).style.cssText="":document.getElementById(t._addUID("GPlocationPoint_"+r)).style.display="none";document.getElementById(t._addUID("GPlocationStageRemove_"+i))&&(document.getElementById(t._addUID("GPlocationStageRemove_"+i)).className="GPlocationOriginHidden"),document.getElementById(t._addUID("GPlocationStageAdd"))&&(document.getElementById(t._addUID("GPlocationStageAdd")).className="GPlocationOriginHidden"),document.getElementById(t._addUID("GPlocationOriginPointer_"+i)).checked=!0,document.getElementById(t._addUID("GPlocationOrigin_"+i)).className="GPlocationOriginHidden",document.getElementById(t._addUID("GPlocationOriginCoords_"+i)).className="GPlocationOriginVisible",document.getElementById(t._addUID("GPlocationOriginCoords_"+i)).disabled=!0}t.onActivateMapPointClick(e)})),o},_createLocationRemovePointElement:function(e){var t=this,o=document.createElement("div");return o.id=this._addUID("GPlocationStageRemove_"+e),o.className="GPlocationStageRemove",o.title="Supprimer l'Ã©tape",o.addEventListener("click",(function(o){var n=document.getElementsByClassName(t._addUID("GPlocationPoint")),r=n.length-1,i=n[0].childNodes[0].id,a=n[r].childNodes[0].id,s=So.index(i),l=So.index(a);if(e!==s&&e!==l){var c=So.index(this.id);document.getElementById(t._addUID("GPlocationPoint_"+c)).className="GPflexInput GPlocationStageFlexInputHidden",document.getElementById(t._addUID("GPlocationOrigin_"+c)).value="",document.getElementById(t._addUID("GPlocationOrigin_"+c)).className="GPlocationOriginVisible",document.getElementById(t._addUID("GPlocationOriginCoords_"+c)).value="",document.getElementById(t._addUID("GPlocationOriginCoords_"+c)).className="GPlocationOriginHidden",document.getElementById(t._addUID("GPlocationStageAdd")).style.display="",t.onLocationRemovePointClick(o)}})),o},_createLocationAddPointElement:function(){var e=this,t=document.createElement("div");return t.id=this._addUID("GPlocationStageAdd"),t.title="Ajouter une Ã©tape",t.addEventListener("click",(function(t){for(var o=1,n=0,r=document.getElementsByClassName(e._addUID("GPlocationPoint")),i=1;i<r.length-1;i++){var a=r[i].childNodes[0].id,s=So.index(a);document.getElementById(e._addUID("GPlocationPoint_"+s))&&("GPflexInput GPlocationStageFlexInputHidden"===document.getElementById(e._addUID("GPlocationPoint_"+s)).className?1===o&&(o=s):n++)}o<r.length&&(document.getElementById(e._addUID("GPlocationPoint_"+o)).className="GPflexInput GPlocationStageFlexInput"),4===n&&(document.getElementById(e._addUID("GPlocationStageAdd")).style.display="none"),e.onLocationAddPointClick(t)})),t},_createLocationAutoCompleteResultElement:function(e){var t=this,o=document.createElement("div");return o.id=this._addUID("GPlocationAutoCompleteList_"+e),o.className="GPadvancedAutoCompleteList",o.addEventListener?o.addEventListener("click",(function(o){t.onAutoCompletedResultsItemClick(o),document.getElementById(t._addUID("GPlocationAutoCompleteList_"+e)).style.display="none"}),!1):o.attachEvent&&o.attachEvent("onclick",(function(o){t.onAutoCompletedResultsItemClick(o),document.getElementById(t._addUID("GPlocationAutoCompleteList_"+e)).style.display="none"})),o},_createLocationAutoCompletedLocationElement:function(e,t,o){var n=document.getElementById(this._addUID("GPlocationAutoCompleteList_"+e)),r=document.createElement("div");r.id=this._addUID("AutoCompletedLocation_"+o),r.className="GPautoCompleteProposal",r.innerHTML=Yr.getSuggestedLocationFreeform(t),n.appendChild(r)},GPdisplayCoordinate:function(e){for(var t=document.getElementsByClassName(this._addUID("GPlocationPoint")),o=0;o<t.length;o++){var n=t[o].childNodes[0].id,r=So.index(n);if(document.getElementById(this._addUID("GPlocationOriginPointer_"+r)).checked){document.getElementById(this._addUID("GPlocationOriginCoords_"+r)).value=e,document.getElementById(this._addUID("GPlocationOriginCoords_"+r)).disabled=!1;for(var i=0;i<t.length;i++){n=t[i].childNodes[0].id;var a=So.index(n);document.getElementById(this._addUID("GPlocationPoint_"+a)).style.cssText="",document.getElementById(this._addUID("GPlocationStageRemove_"+a))&&(document.getElementById(this._addUID("GPlocationStageRemove_"+a)).className="GPlocationStageRemove")}return document.getElementById(this._addUID("GPlocationOriginPointer_"+r)).checked=!1,void(document.getElementById(this._addUID("GPlocationStageAdd"))&&(document.getElementById(this._addUID("GPlocationStageAdd")).className=""))}}}},Mi=mt.getLogger("locationselector"),Ri=function(e){function t(o){if(o=o||{},!(this instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this.initialize(o),this._container=this._initContainer(),o.element&&o.element.appendChild&&(o.element.appendChild(this._container),this._container=o.element),e.call(this,{element:this._container,target:o.target,render:o.render})}return e&&(t.__proto__=e),t.prototype=Object.create(e.prototype,{}),Bt.assign(t.prototype,Ti),t.prototype.constructor=t,t.prototype.initialize=function(e){this.options={tag:{id:1,groupId:null,label:">",display:!0,addOption:!1,removeOption:!1},displayInfo:!0,autocompleteOptions:{}},Bt.mergeParams(this.options,e),this._uid=this.options.tag.groupId||So.generate(),this._map=null,this._inputsContainer=null,this._inputLabelContainer=null,this._inputAutoCompleteContainer=null,this._inputShowPointerContainer=null,this._inputShowPointer=null,this._inputCoordinateContainer=null,this._addPointElement=null,this._removePointElement=null,this._coordinate=null,this._suggestedContainer=null,this._suggestedLocations=[],this._currentLocation=null,this._initMarker(),this._resources={},this.listenerKey=null},t.prototype._initMarker=function(){if(this._marker=null,this._markerUrl="",this._markerOffset=[0,0],this.options.tag.markerOpts&&this.options.tag.markerOpts.url){this._markerUrl=this.options.tag.markerOpts.url;var e=this.options.tag.markerOpts.offset;e&&(Array.isArray(e)&&2===e.length?this._markerOffset=e:Mi.log("markerOpts.offset should be an array. e.g. : [0,0]"))}else this._markerUrl=Pt.lightOrange,this._markerOffset=Pt.defaultOffset},t.prototype.getCoordinate=function(){return this._coordinate},t.prototype.setCoordinate=function(e,t){var o=this.getMap().getView().getProjection().getCode();t||(t=o),this._setCoordinate(e,t),e=Object(s.E)(e,t,o),this._setMarker([e[0],e[1]],null,!1)},t.prototype.clear=function(){this.clearResults(),this._inputLabelContainer.click()},t.prototype.clearResults=function(){this._currentLocation=null,this._coordinate=null,this._hideSuggestedLocation(),this._clearSuggestedLocation(),this._setMarker(),Object(Ao.b)(this.listenerKey)},t.prototype._initContainer=function(){var e=this,t=this.options.tag.id,o=this._createMainContainerElement(),n=this._inputsContainer=this._createLocationPointElement(t,this.options.tag.display);o.appendChild(n);var r=this._inputLabelContainer=this._createLocationPointLabelElement(t,this.options.tag.label);n.appendChild(r);var i=this._inputAutoCompleteContainer=this._createLocationAutoCompleteteInputElement(t);i.addEventListener?i.addEventListener("click",(function(){return e.onAutoCompleteInputClick()})):i.attachEvent&&i.attachEvent("onclick",(function(){return e.onAutoCompleteInputClick()})),n.appendChild(i);var a=this._inputCoordinateContainer=this._createLocationCoordinateInputElement(t);n.appendChild(a);var s=this._inputShowPointerContainer=this._createLocationPointerShowInputElement(t);n.appendChild(s);var l=this._inputShowPointer=this._createLocationPointerInputElement(t);if(n.appendChild(l),this.options.tag.addOption){var c=this._addPointElement=this._createLocationAddPointElement();n.appendChild(c)}if(this.options.tag.removeOption){var u=this._removePointElement=this._createLocationRemovePointElement(t);n.appendChild(u)}var d=this._suggestedContainer=this._createLocationAutoCompleteResultElement(t);return o.appendChild(d),o},t.prototype.onAutoCompleteInputClick=function(){this._inputAutoCompleteContainer&&this._inputAutoCompleteContainer.value.length>2&&this._displaySuggestedLocation()},t.prototype.onAutoCompleteSearchText=function(e){var t=this,o=e.target.value;if(o){var n=this.options.autocompleteOptions||{},r=n.onSuccess||null,i=n.onFailure||null;if(this._currentLocation=o,o.length<3)this._clearSuggestedLocation();else{var a=this;this._requestAutoComplete({text:o,maximumResponses:5,onSuccess:function(e){if(e){var t=e.suggestedLocations;a._fillAutoCompletedLocationListContainer(t),r&&r.call(this,e)}},onFailure:function(e){a._clearSuggestedLocation(),Mi.log(e.message),i&&i.call(this,e)}});var s=this.getMap();s.on("click",(function(){return t._hideSuggestedLocation()})),s.on("pointerdrag",(function(){return t._hideSuggestedLocation()}))}}},t.prototype.onAutoCompletedResultsItemClick=function(e){var t=So.index(e.target.id);if(t){var o=[this._suggestedLocations[t].position.x,this._suggestedLocations[t].position.y];this._coordinate=o;var n={type:this._suggestedLocations[t].type,fields:this._suggestedLocations[t]},r=Yr.getSuggestedLocationFreeform(this._suggestedLocations[t]);this._setLabel(r);var i=this.getMap().getView().getProjection().getCode();"EPSG:4326"!==i&&(o=Object(s.E)(o,"EPSG:4326",i)),this._setPosition(o),this._setMarker(o,n,this.options.displayInfo)}},t.prototype.onActivateMapPointClick=function(){var e=this,t=this.getMap();this._inputShowPointerContainer.checked?(this.clearResults(),this.listenerKey=t.on("click",(function(t){return e.onMouseMapClick(t)})),this._setCursor("crosshair")):(Object(Ao.b)(this.listenerKey),this._setCursor())},t.prototype.onLocationClearPointClick=function(){this._setCursor(),this.clearResults()},t.prototype.onLocationRemovePointClick=function(){this._setCursor(),this.clearResults()},t.prototype.onLocationAddPointClick=function(e){Mi.log("onRouteAddPointClick",e)},t.prototype.onMouseMapClick=function(e){var t=e.coordinate;if(e.map&&e.map.getView()){var o=e.map.getView().getProjection();this._setCoordinate(t,o),this._setMarker([t[0],t[1]],null,!1),this.onActivateMapPointClick(e)}},t.prototype._setLabel=function(e){this._inputAutoCompleteContainer.value=e},t.prototype._setCursor=function(e){var t=this.getMap().getTargetElement();t.style.cursor=e||null},t.prototype._setCoordinate=function(e,t){this._coordinate=Object(s.E)(e,t,"EPSG:4326");var o=this._coordinate[0].toFixed(4),n=this._coordinate[1].toFixed(4)+" / "+o;this.GPdisplayCoordinate(n)},t.prototype._setPosition=function(e){this.getMap().getView().setCenter(e)},t.prototype._setMarker=function(e,t,o){var n=this.getMap();if(null!=this._marker&&(n.removeOverlay(this._marker),this._marker=null),e){var r=document.createElement("img");r.src=this._markerUrl,this._marker=new c.a({position:e,offset:this._markerOffset,element:r,stopEvent:!1}),n.addOverlay(this._marker),o&&Mi.log("marker information : ",t)}},t.prototype._clearSuggestedLocation=function(){if(this._suggestedLocations=[],this._suggestedContainer)for(;this._suggestedContainer.firstChild;)this._suggestedContainer.removeChild(this._suggestedContainer.firstChild)},t.prototype._hideSuggestedLocation=function(){this._suggestedContainer&&(this._suggestedContainer.style.display="none")},t.prototype._displaySuggestedLocation=function(){this._suggestedContainer&&(this._suggestedContainer.style.display="block")},t.prototype._requestAutoComplete=function(e){if(Mi.log("_requestAutoComplete()",e),e&&0!==Object.keys(e).length&&e.text){Mi.log(e);var t={};Bt.assign(t,this.options.autocompleteOptions),Bt.assign(t,e);var o=this._resources.AutoCompletion||null;o&&Array.isArray(o)&&(t.filterOptions||(t.filterOptions={}),t.filterOptions.type=o),t.apiKey=t.apiKey||this.options.apiKey,"boolean"!=typeof t.ssl&&("boolean"==typeof this.options.ssl?t.ssl=this.options.ssl:t.ssl=!0),Mi.log(t),gt.Services.autoComplete(t)}},t.prototype._fillAutoCompletedLocationListContainer=function(e){if(e&&0!==e.length){var t=this._suggestedContainer;if(t.childElementCount)for(;t.firstChild;)t.removeChild(t.firstChild);for(var o=0;o<e.length;o++)this._createLocationAutoCompletedLocationElement(this.options.tag.id,e[o],o);this._suggestedLocations=e}},t}(Oo.a),Li=Ri;window.ol&&window.ol.control&&(window.ol.control.LocationSelector=Ri);o("./node_modules/geoportal-extensions-openlayers/src/OpenLayers/CSS/Controls/Export/GPexportOpenLayers.css");var ki={_addUID:function(e){return this.uid?e+"-"+this.uid:e}};function Gi(e){return(Gi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Di(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ni(n.key),n)}}function Ni(e){var t=function(e,t){if("object"!=Gi(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!=Gi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Gi(t)?t:t+""}function Fi(e,t,o){return t=Ui(t),function(e,t){if(t&&("object"==Gi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,o||[],Ui(e).constructor):t.apply(e,o))}function Ui(e){return(Ui=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Bi(e,t){return(Bi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var zi=mt.getLogger("export"),Vi=function(e){function t(e){var o;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=e||{control:null,target:null,format:"geojson",name:"export",title:"Exporter",menu:!1,onExport:null},zi.trace("[constructor] Export",e),!((o=Fi(this,t,[{element:document.createElement("div"),render:e.render,target:e.target}]))instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");return o.EXPORT_ROUTE={},o.EXPORT_ISOCHRON={},o.EXPORT_PROFILE={},o.uid=e.id||So.generate(),o.extension=null,o.mimeType=null,o.container=null,o.button=null,o.menu=null,o.icon="â° ",o.menuClassHidden="GPexportMenuHidden",o.initOptions(e),o.initContainer(),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bi(e,t)}(t,e),o=t,(n=[{key:"render",value:function(){if(!this.options.target&&this.options.control){var e=this.options.control.getContainer();this.options.target=e.lastChild}this.container&&this.options.target.appendChild(this.container)}},{key:"initOptions",value:function(e){this.options=e,this.options.control,this.options.target;var t=this.options.format;t?this.setFormat(t):this.setFormat(""),this.options.name||this.setName("export"),this.options.title||this.setTitle("Exporter"),void 0===this.options.menu&&this.setMenu(!1)}},{key:"initContainer",value:function(){var e=this,t=this.options.title;this.options.menu&&(t=this.icon+this.options.title);var o=document.createElement("div");o.id=this._addUID("GPexportContainer"),o.className="GPexportMenuContainer";var n=this.stringToHTML('\n            <input type="button"\n                id="'.concat(this._addUID("GPexportButton"),'" \n                class="GPinputSubmit"\n                value="').concat(t,'">\n        '));this.button=n.firstChild,this.button&&this.button.addEventListener("click",(function(t){return e.onClickButtonExport(t)})),o.appendChild(n.firstChild);var r=this.stringToHTML('\n            <div class="GPexportMenuContent '.concat(this.menuClassHidden,'">\n                <label class="container">GeoJSON\n                    <input type="radio" \n                        id="GPmenuFormatGeojson-').concat(this.uid,'"\n                        name="format" \n                        value="geojson">\n                    <span class="checkmark"></span>\n                </label>\n                <label class="container">KML\n                    <input type="radio" \n                        id="GPmenuFormatKml-').concat(this.uid,'"\n                        name="format" \n                        value="kml">\n                    <span class="checkmark"></span>\n                </label>\n                <label class="container">GPX\n                    <input type="radio" \n                        id="GPmenuFormatGpx-').concat(this.uid,'"\n                        name="format" \n                        value="gpx">\n                    <span class="checkmark"></span>\n                </label>\n            </div>\n        '));if(this.menu=r.firstChild,this.menu){if(this.options.menu){var i=this.menu.className;this.menu.className=i.replace(this.menuClassHidden,"")}this.menu.querySelectorAll('input[type=radio][name="format"]').forEach((function(t){t.id.toUpperCase().includes(e.options.format.toUpperCase())&&(t.checked=!0),t.addEventListener("change",(function(t){e.setFormat(t.target.value)}))}))}o.appendChild(r.firstChild),this.container=o}},{key:"stringToHTML",value:function(e){if(function(){if(!window.DOMParser)return!1;var e=new DOMParser;try{e.parseFromString("x","text/html")}catch(e){return!1}return!0}())return(new DOMParser).parseFromString(e,"text/html").body;var t=document.createElement("div");return t.innerHTML=e,t}},{key:"isPluggableControl",value:function(){return!(!this.options.control||"function"!=typeof this.options.control.getContainer||"function"!=typeof this.options.control.getLayer)}},{key:"exportFeatures",value:function(e,t,o){var n=this,r=null;if(!e)return zi.warn("Impossible to export : no layer is hosting features."),r;if(!e.getSource()||!e.getSource().getFeatures()||!e.getSource().getFeatures().length)return zi.warn("Impossible to export : no features found."),r;e.getSource().getFeatures().forEach((function(e){e.getStyle()||"function"!=typeof n.options.control.getStyle||e.setStyle(n.options.control.getStyle())}));var i={defaultStyle:o};t&&(i.extensions={"geoportail:compute":t});var a=null;switch(this.options.format.toUpperCase()){case"KML":i.writeStyles=!0,i.showPointNames=!0,a=new Wt(i);break;case"GPX":a=new Zt(i);break;case"GEOJSON":a=new Qt(i)}if(!a)return zi.warn("Impossible to export : format unknown !?"),r;var s=e.getSource().getProjection(),l=this.getMap();l&&(s=s||l.getView().getProjection());var c=e.getSource().getFeatures();return r=a.writeFeatures(c,{dataProjection:"EPSG:4326",featureProjection:s||"EPSG:3857"})}},{key:"onClickButtonExport",value:function(e){if(this.isPluggableControl()){var t=this.options.control.getLayer(),o=void 0!==this.options.control.getData?this.options.control.getData():{},n=void 0!==this.options.control.getStyle?this.options.control.getStyle():{},r=this.exportFeatures(t,o,n);if(r&&"null"!==r)if(this.dispatchEvent({type:"export:compute",content:r}),this.options.onExport&&"function"==typeof this.options.onExport)this.options.onExport(r);else{var i=document.createElement("a");if(i.setAttribute("href","data:"+this.mimeType+";charset=utf-8,"+encodeURIComponent(r)),i.setAttribute("download",this.options.name+this.extension),document.createEvent){var a=document.createEvent("MouseEvents");a.initEvent("click",!0,!0),i.dispatchEvent(a)}else i.click()}}else zi.warn("Componant not pluggable with the control !")}},{key:"setControl",value:function(e){this.options.control=e}},{key:"setTarget",value:function(e){this.options.target=e}},{key:"setFormat",value:function(e){switch(this.options.format=e.toUpperCase(),this.options.format){case"KML":this.extension=".kml",this.mimeType="application/vnd.google-earth.kml+xml";break;case"GPX":this.extension=".gpx",this.mimeType="application/gpx+xml";break;case"GEOJSON":this.extension=".geojson",this.mimeType="application/geo+json";break;default:this.options.format="GEOJSON",this.extension=".geojson",this.mimeType="application/geo+json"}}},{key:"setName",value:function(e){this.options.name=e}},{key:"setTitle",value:function(e){this.options.title=e,this.button&&(this.button.value=this.options.menu?this.icon+e:e)}},{key:"setMenu",value:function(e){var t=this;if(this.options.menu=e,this.button&&(this.button.value=this.options.menu?this.icon+this.options.title:this.options.title),this.menu&&this.options.menu){var o=this.menu.className;this.menu.className=o.replace(this.menuClassHidden,""),this.menu.querySelectorAll('input[type=radio][name="format"]').forEach((function(e){e.id.toUpperCase().includes(t.options.format.toUpperCase())&&(e.checked=!0)}))}}}])&&Di(o.prototype,n),r&&Di(o,r),Object.defineProperty(o,"prototype",{writable:!1}),o;var o,n,r}(Oo.a);Bt.assign(Vi.prototype,ki);var Wi=Vi;window.ol&&window.ol.control&&(window.ol.control.Export=Vi);var qi=mt.getLogger("RouteDOM"),Yi={_addUID:function(e){return this._uid?e+"-"+this._uid:e},_createMainContainerElement:function(){var e=document.createElement("div");return e.id=this._addUID("GProute"),e.className="GPwidget",e},_createShowRouteElement:function(){var e=document.createElement("input");return e.id=this._addUID("GPshowRoute"),e.type="checkbox",e},_createShowRoutePictoElement:function(){var e=this,t=document.createElement("label");t.id=this._addUID("GPshowRoutePicto"),t.className="GPshowAdvancedToolPicto",t.htmlFor=this._addUID("GPshowRoute"),t.title="Ouvrir le calcul d'itinÃ©raire",t.addEventListener?t.addEventListener("click",(function(t){e.onShowRoutePanelClick(t)})):t.attachEvent&&t.attachEvent("onclick",(function(t){e.onShowRoutePanelClick(t)}));var o=document.createElement("span");return o.id=this._addUID("GPshowRouteOpen"),o.className="GPshowAdvancedToolOpen",t.appendChild(o),t},_createRoutePanelElement:function(){var e=document.createElement("div");return e.id=this._addUID("GProutePanel"),e.className="GPpanel",e},_createRoutePanelHeaderElement:function(){var e=this,t=document.createElement("div");t.className="GPpanelHeader";var o=document.createElement("div");o.className="GPpanelTitle",o.innerHTML="Calcul d'itinÃ©raire",t.appendChild(o);var n=document.createElement("div");return n.id=this._addUID("GProutePanelClose"),n.className="GPpanelClose",n.title="Masquer le panneau",n.addEventListener?n.addEventListener("click",(function(){document.getElementById(e._addUID("GPshowRoutePicto")).click()}),!1):n.attachEvent&&n.attachEvent("onclick",(function(){document.getElementById(e._addUID("GPshowRoutePicto")).click()})),t.appendChild(n),t},_createRoutePanelFormElement:function(){var e=this,t=document.createElement("form");return t.id=this._addUID("GProuteForm"),t.setAttribute("onkeypress","return event.keyCode != 13;"),t.addEventListener("submit",(function(t){qi.log(t),t.preventDefault();var o=document.getElementsByClassName(e._addUID("GPlocationPoint")),n=o[0].childNodes[0].id,r=o[o.length-1].childNodes[0].id,i=So.index(n),a=So.index(r);if(""===document.getElementById(e._addUID("GPlocationOrigin_"+i)).value&&""===document.getElementById(e._addUID("GPlocationOriginCoords_"+i)).value||""===document.getElementById(e._addUID("GPlocationOrigin_"+a)).value&&""===document.getElementById(e._addUID("GPlocationOriginCoords_"+a)).value)return!1;e._addRouteResultsStagesValuesElement(o);var s=null;if(document.getElementById(e._addUID("GProuteComputationSelect"))){var l=document.getElementById(e._addUID("GProuteResultsComputationSelect"));l.selectedIndex=document.getElementById(e._addUID("GProuteComputationSelect")).selectedIndex,s=l.options[l.selectedIndex].value}var c=null;document.getElementById(e._addUID("GProuteTransportCar"))&&document.getElementById(e._addUID("GProuteTransportCar")).checked&&(c=document.getElementById(e._addUID("GProuteTransportCar")).value),document.getElementById(e._addUID("GProuteTransportPedestrian"))&&document.getElementById(e._addUID("GProuteTransportPedestrian")).checked&&(c=document.getElementById(e._addUID("GProuteTransportPedestrian")).value);for(var u=[],d=document.getElementsByClassName("GProuteExclusionsOption"),h=0;h<d.length;h++){var p=d[h].htmlFor,f=document.getElementById(p);f.checked||u.push(f.value)}return e.onRouteComputationSubmit({computation:s,transport:c,exclusions:u}),!1})),t},_createRoutePanelResultsElement:function(){var e=document.createElement("div");e.id=this._addUID("GProuteResultsPanel"),e.className="GProuteComponentHidden",e.appendChild(this._createRouteResultsStagesElement()),e.appendChild(this._createRouteResultsElement());var t=document.createElement("div");t.className="GPfakeBorder GPfakeBorderLeft",e.appendChild(t),e.appendChild(this._createRouteShowResultsDetailsElement());var o=document.createElement("label");o.htmlFor=this._addUID("GProuteResultsShowDetails"),o.innerHTML="Afficher le dÃ©tail",e.appendChild(o);var n=document.createElement("label");n.htmlFor=this._addUID("GProuteResultsShowDetails"),n.innerHTML="Masquer le dÃ©tail",e.appendChild(n);var r=document.createElement("div");return r.className="GPfakeBorder",e.appendChild(r),e.appendChild(this._createRouteResultsDetailsElement()),e},_createRouteWaitingElement:function(){var e=document.createElement("div");e.id=this._addUID("GProuteCalcWaitingContainer"),e.className="GProuteCalcWaitingContainerHidden";var t=document.createElement("p");return t.className="GProuteCalcWaiting",t.innerHTML="Calcul en cours...",e.appendChild(t),e},_createRouteResultsStagesElement:function(){var e=document.createElement("div");return e.id=this._addUID("GProuteResultsStages"),e},_addRouteResultsStagesValuesElement:function(e){document.getElementById(this._addUID("GProuteResultsStages")).innerHTML="";for(var t=0;t<e.length;t++){var o=e[t].childNodes[0].id,n=So.index(o);if("GPflexInput GPlocationStageFlexInput"===document.getElementById(this._addUID("GPlocationPoint_"+n)).className){var r=document.createElement("div");r.className="GProuteResultsStages";var i=document.createElement("div");i.className="GProuteResultStageLabel",i.innerHTML=document.getElementById(this._addUID("GPlocationOriginLabel_"+n)).innerHTML+" :",r.appendChild(i);var a=document.createElement("div");a.className="GProuteResultStageValue";var s=document.getElementById(this._addUID("GPlocationOriginCoords_"+n)),l=s.value,c="GPlocationOriginVisible"===s.className;a.innerHTML=null!==l&&""!==l&&c?l:document.getElementById(this._addUID("GPlocationOrigin_"+n)).value,r.appendChild(a),""!==a.innerHTML&&document.getElementById(this._addUID("GProuteResultsStages")).appendChild(r)}}},_createRouteResultsElement:function(){var e=this,t=document.createElement("div");t.id=this._addUID("GProuteResults");var o=document.createElement("div");o.id=this._addUID("GProuteResultsValues"),t.appendChild(o);var n=document.createElement("div");n.id=this._addUID("GProuteResultsMode");var r=document.createElement("select");r.id=this._addUID("GProuteResultsComputationSelect"),r.className="GPinputSelect",r.addEventListener("change",(function(t){e.onRouteModeComputationChangeAndRun(t)}));for(var i=[{code:"fastest",label:"Plus rapide"},{code:"shortest",label:"Plus court"}],a=0;a<i.length;a++){var s=document.createElement("option");s.value=i[a].code,s.text=i[a].label,r.appendChild(s)}n.appendChild(r),t.appendChild(n);var l=document.createElement("div");return l.id=this._addUID("GProuteResultsNew"),l.title="Modifier le calcul",l.addEventListener("click",(function(t){document.getElementById(e._addUID("GProuteResultsPanel")).className="GProuteComponentHidden",document.getElementById(e._addUID("GProuteForm")).className="",e.onShowRouteResultsNewClick(t)})),t.appendChild(l),t},_addRouteResultsValuesElement:function(e,t,o){var n=document.getElementById(this._addUID("GProuteResultsValues"));if(n.childElementCount)for(;n.firstChild;)n.removeChild(n.firstChild);var r=document.createElement("div");r.className="GProuteResultsValue";var i=document.createElement("label");i.className="GProuteResultsValueLabel",i.innerHTML="Distance :",r.appendChild(i);var a=0;if(parseInt(e/1e3,10)){var s=Math.round(e);a=(s/=1e3)+" km"}else a=Math.round(e)+" m";var l=document.createElement("div");l.id=this._addUID("GProuteResultsValueDist"),l.innerHTML=a,r.appendChild(l),n.appendChild(r);var c=document.createElement("div");c.className="GProuteResultsValue";var u=document.createElement("label");u.className="GProuteResultsValueLabel",u.innerHTML="DurÃ©e :",c.appendChild(u);var d=document.createElement("div");return d.id=this._addUID("GProuteResultsValueDist"),d.innerHTML=o(t),c.appendChild(d),n.appendChild(c),n},_createRouteShowResultsDetailsElement:function(){var e=document.createElement("input");return e.id=this._addUID("GProuteResultsShowDetails"),e.type="checkbox",e},_createRouteResultsDetailsElement:function(){var e=document.createElement("div");return e.id=this._addUID("GProuteResultsDetails"),e},_addRouteResultsDetailsElement:function(e,t){var o=this,n=document.getElementById(this._addUID("GProuteResultsDetails"));if(n.childElementCount)for(;n.firstChild;)n.removeChild(n.firstChild);for(var r=0,i=0,a=0;a<e.length;a++){var s=a+1,l=e[a],c=document.createElement("div");c.className="GProuteResultsDetailsNumber",c.innerHTML=s+".",n.appendChild(c),i+=parseFloat(l.duration),r+=parseFloat(l.distance);var u=0;if(parseInt(r/1e3,10)){var d=Math.round(r);u=(d/=1e3)+" km"}else u=Math.round(r)+" m";var h=document.createElement("div");h.className="GProuteResultsDetailsInstruction",h.id=this._addUID("GProuteResultsDetailsInstruction_"+s),h.title="distance : "+u+" / temps : "+t(i),h.innerHTML=l.instruction,h.addEventListener("mouseover",(function(e){o.onRouteResultsDetailsMouseOver(e)})),h.addEventListener("mouseout",(function(e){o.onRouteResultsDetailsMouseOut(e)})),h.addEventListener("click",(function(e){"function"==typeof o.onRouteResultsDetailsClick&&o.onRouteResultsDetailsClick(e)})),n.appendChild(h)}return n},_createRoutePanelFormPointElement:function(e,t,o){var n=this,r=document.createElement("div");r.id="GProutePoint"+e,r.className=o?"GPflexInput GProuteStageFlexInput":"GPflexInput GProuteStageFlexInputHidden";var i=document.createElement("label");i.id="GProuteOriginLabel"+e,i.htmlFor="GProuteOrigin"+e,i.innerHTML=t,i.addEventListener("click",(function(){var e=this.id.charAt(this.id.length-1);document.getElementById("GProuteOriginCoords"+e).value="";for(var t=1;t<8;t++)document.getElementById("GProutePoint"+t).style.display="flex";document.getElementById("GProuteForm").className="",document.getElementById("GProuteOriginPointer"+e).checked=!1,document.getElementById("GProuteOrigin"+e).className="GProuteOriginVisible",document.getElementById("GProuteOriginCoords"+e).className="GProuteOriginHidden"})),r.appendChild(i);var a=document.createElement("input");a.id="GProuteOrigin"+e,a.className="GProuteOriginVisible",a.type="text",a.placeholder="Saisir une adresse",a.addEventListener("keyup",(function(e){var t=e.which||e.keyCode;if(13!==t&&10!==t){var o=this.id.charAt(this.id.length-1);document.getElementById("GProuteOrigin"+o).value.length>2?document.getElementById("GProuteAutoCompleteList"+o).style.display="block":document.getElementById("GProuteAutoCompleteList"+o).style.display="none",n.onAutoCompleteSearchText(e)}})),a.addEventListener("blur",(function(){var e=this.id.charAt(this.id.length-1);document.getElementById("GProuteAutoCompleteList"+e).style.display="none"})),r.appendChild(a);var s=document.createElement("input");s.id="GProuteOriginCoords"+e,s.className="GProuteOriginHidden",s.type="text",s.disabled=!0,r.appendChild(s);var l=document.createElement("input");l.id="GProuteOriginPointer"+e,l.type="checkbox",r.appendChild(l);var c=document.createElement("label");return c.id="GProuteOriginPointerImg"+e,c.htmlFor="GProuteOriginPointer"+e,c.className="GProuteOriginPointerImg",c.title="Pointer un lieu sur la carte",c.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation();var t,o=this.id.charAt(this.id.length-1);for(t=1;t<8;t++)o!==t&&(document.getElementById("GProuteOriginPointer"+t).checked=!1,"Pointer un lieu sur la carte"===document.getElementById("GProuteOriginCoords"+t).value&&(document.getElementById("GProuteOriginCoords"+t).value="",document.getElementById("GProuteOrigin"+t).className="GProuteOriginVisible",document.getElementById("GProuteOriginCoords"+t).className="GProuteOriginHidden"));if(document.getElementById("GProuteOriginPointer"+o).checked){for(document.getElementById("GProuteOriginCoords"+o).value="",t=1;t<8;t++)document.getElementById("GProutePoint"+t).style.display="flex";document.getElementById("GProuteForm").className="",document.getElementById("GProuteOriginPointer"+o).checked=!1,document.getElementById("GProuteOrigin"+o).className="GProuteOriginVisible",document.getElementById("GProuteOriginCoords"+o).className="GProuteOriginHidden"}else{for(document.getElementById("GProuteOriginCoords"+o).value="Pointer un lieu sur la carte",t=1;t<8;t++)document.getElementById("GProutePoint"+t).style.display=o===t?"flex":"none";document.getElementById("GProuteForm").className="GProuteFormMini",document.getElementById("GProuteOriginPointer"+o).checked=!0,document.getElementById("GProuteOrigin"+o).className="GProuteOriginHidden",document.getElementById("GProuteOriginCoords"+o).className="GProuteOriginVisible"}n.onRouteMapPointClick(e)})),r.appendChild(c),r},_createRoutePanelFormRemoveStageElement:function(e){var t=this,o=document.createElement("div");return o.id="GProuteStageRemove"+e,o.className="GProuteStageRemove",o.title="Supprimer l'Ã©tape",1!==e&&7!==e&&o.addEventListener("click",(function(e){var o=this.id.charAt(this.id.length-1);document.getElementById("GProutePoint"+o).className="GPflexInput GProuteStageFlexInputHidden",document.getElementById("GProuteOrigin"+o).value="",document.getElementById("GProuteOrigin"+o).className="GProuteOriginVisible",document.getElementById("GProuteOriginCoords"+o).value="",document.getElementById("GProuteOriginCoords"+o).className="GProuteOriginHidden",document.getElementById("GProuteStageAdd").style.display="",t.onRouteRemovePointClick(e)})),o},_createRoutePanelFormAddStageElement:function(){var e=this,t=document.createElement("div");return t.id="GProuteStageAdd",t.title="Ajouter une Ã©tape",t.addEventListener("click",(function(t){for(var o=1,n=0,r=2;r<7;r++)"GPflexInput GProuteStageFlexInputHidden"===document.getElementById("GProutePoint"+r).className?1===o&&(o=r):n++;o<7&&(document.getElementById("GProutePoint"+o).className="GPflexInput GProuteStageFlexInput"),4===n&&(document.getElementById("GProuteStageAdd").style.display="none"),e.onRouteAddPointClick(t)})),t},_createRoutePanelFormAutoCompleteListElement:function(e){var t=this,o=document.createElement("div");return o.id="GProuteAutoCompleteList"+e,o.className="GPadvancedAutoCompleteList",o.addEventListener?o.addEventListener("click",(function(o){t.onAutoCompletedResultsItemClick(o),document.getElementById("GProuteAutoCompleteList"+e).style.display="none"}),!1):o.attachEvent&&o.attachEvent("onclick",(function(o){t.onAutoCompletedResultsItemClick(o),document.getElementById("GProuteAutoCompleteList"+e).style.display="none"})),o},_createRouteAutoCompletedLocationElement:function(e,t,o){var n=document.getElementById("GProuteAutoCompleteList"+t),r=document.createElement("div");r.id="AutoCompletedLocation"+o,r.className="GPautoCompleteProposal",r.innerHTML=Yr.getSuggestedLocationFreeform(e),n.appendChild(r)},_createRoutePanelFormModeChoiceElement:function(){var e=document.createElement("div");return e.id=this._addUID("GProuteModeChoice"),e},_createRoutePanelFormModeChoiceTransportElement:function(e){var t=this,o=document.createElement("div");o.id=this._addUID("GProuteTransportChoice");var n=document.createElement("span");n.className="GProuteModeLabel",n.innerHTML="Mode de transport",o.appendChild(n);for(var r=0;r<e.length;r++){var i=e[r];if("Voiture"===i){var a=document.createElement("input");a.id=this._addUID("GProuteTransportCar"),a.type="radio",a.name="GProuteTransport",a.value="Voiture",0===r&&(a.checked=!0),a.addEventListener?a.addEventListener("change",(function(e){t.onRouteModeTransportChange(e)})):a.attachEvent&&a.attachEvent("onchange",(function(e){t.onRouteModeTransportChange(e)})),o.appendChild(a);var s=document.createElement("label");s.className="GProuteTransportImg",s.htmlFor=this._addUID("GProuteTransportCar"),s.title="Voiture",o.appendChild(s)}if("Pieton"===i){var l=document.createElement("input");l.id=this._addUID("GProuteTransportPedestrian"),l.type="radio",l.name="GProuteTransport",l.value="Pieton",0===r&&(l.checked=!0),l.addEventListener?l.addEventListener("change",(function(e){t.onRouteModeTransportChange(e)})):l.attachEvent&&l.attachEvent("onchange",(function(e){t.onRouteModeTransportChange(e)})),o.appendChild(l);var c=document.createElement("label");c.className="GProuteTransportImg",c.htmlFor=this._addUID("GProuteTransportPedestrian"),c.title="PiÃ©ton",o.appendChild(c)}}return o},_createRoutePanelFormModeChoiceComputeElement:function(){var e=this,t=document.createElement("div");t.id=this._addUID("GProuteComputationChoice");var o=document.createElement("label");o.htmlFor=this._addUID("GProuteComputationSelect"),o.innerHTML="Mode de calcul";var n=document.createElement("span");n.className="GProuteModeLabel",n.appendChild(o),t.appendChild(n);var r=document.createElement("select");r.id=this._addUID("GProuteComputationSelect"),r.className="GPinputSelect",r.addEventListener("change",(function(t){e.onRouteModeComputationChange(t)}));for(var i=[{code:"fastest",label:"Plus rapide"},{code:"shortest",label:"Plus court"}],a=0;a<i.length;a++){var s=document.createElement("option");s.value=i[a].code,s.text=i[a].label,r.appendChild(s)}return t.appendChild(r),t},_createShowRouteExclusionsElement:function(){var e=document.createElement("input");return e.id=this._addUID("GPshowRouteExclusions"),e.type="checkbox",e},_createShowRouteExclusionsPictoElement:function(){var e=this,t=document.createElement("label");return t.id=this._addUID("GPshowRouteExclusionsPicto"),t.className="GPshowMoreOptionsImage GPshowMoreOptions GPshowRouteExclusionsPicto",t.htmlFor=this._addUID("GPshowRouteExclusions"),t.title="Exclusions",t.addEventListener?t.addEventListener("click",(function(t){e.onShowRouteExclusionsClick(t)})):t.attachEvent&&t.attachEvent("onclick",(function(t){e.onShowRouteExclusionsClick(t)})),t},_createRoutePanelFormExclusionsElement:function(){var e=document.createElement("div");e.id=this._addUID("GProuteExclusions");var t=document.createElement("span");return t.className="GProuteExclusionsLabel",t.innerHTML="Passages autorisÃ©s",e.appendChild(t),e},_createRoutePanelFormExclusionOptionsElement:function(e){var t=this,o=document.createElement("div");for(var n in o.className="GProuteExclusionsOptions",e)if(e.hasOwnProperty(n)){var r=e[n];switch(n){case"toll":var i=document.createElement("input");i.id=this._addUID("GProuteExclusionsToll"),i.type="checkbox",i.value="Toll",i.checked=!r,i.addEventListener?i.addEventListener("change",(function(e){t.onRouteExclusionsChange(e)})):i.attachEvent&&i.attachEvent("onchange",(function(e){t.onRouteExclusionsChange(e)})),o.appendChild(i);var a=document.createElement("label");a.className="GProuteExclusionsOption",a.htmlFor=this._addUID("GProuteExclusionsToll"),a.innerHTML="PÃ©ages",o.appendChild(a);break;case"tunnel":var s=document.createElement("input");s.id=this._addUID("GProuteExclusionsTunnel"),s.type="checkbox",s.value="Tunnel",s.checked=!r,s.addEventListener?s.addEventListener("change",(function(e){t.onRouteExclusionsChange(e)})):s.attachEvent&&s.attachEvent("onchange",(function(e){t.onRouteExclusionsChange(e)})),o.appendChild(s);var l=document.createElement("label");l.className="GProuteExclusionsOption",l.htmlFor=this._addUID("GProuteExclusionsTunnel"),l.innerHTML="Tunnels",o.appendChild(l);break;case"bridge":var c=document.createElement("input");c.id=this._addUID("GProuteExclusionsBridge"),c.type="checkbox",c.value="Bridge",c.checked=!r,c.addEventListener?c.addEventListener("change",(function(e){t.onRouteExclusionsChange(e)})):c.attachEvent&&c.attachEvent("onchange",(function(e){t.onRouteExclusionsChange(e)})),o.appendChild(c);var u=document.createElement("label");u.className="GProuteExclusionsOption",u.htmlFor=this._addUID("GProuteExclusionsBridge"),u.innerHTML="Ponts",o.appendChild(u)}}return o},_createRouteSubmitFormElement:function(){var e=document.createElement("input");return e.id=this._addUID("GProuteSubmit"),e.className="GPinputSubmit",e.type="submit",e.value="Calculer",e},_createRouteFormResetElement:function(){var e=this,t=document.createElement("div");return t.id=this._addUID("GProuteReset"),t.title="RÃ©initialiser les paramÃ¨tres",t.addEventListener("click",(function(t){e.onRouteResetClick(t)})),t}};function Hi(e){return(Hi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Xi=mt.getLogger("route"),Zi=function(e){function t(o){if(o=o||{},!(this instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this.initialize(o),this._container=this._createMainContainerElement(),this._containerElement=null,o.element&&o.element.appendChild&&(o.element.appendChild(this._container),this._containerElement=o.element),e.call(this,{element:this._containerElement||this._container,target:o.target,render:o.render})}return e&&(t.__proto__=e),t.prototype=Object.create(e.prototype,{}),Bt.assign(t.prototype,Yi),t.prototype.constructor=t,t.prototype.setMap=function(t){if(t){if(this._container=this._initContainer(t),this.options.export){var o=Bt.assign({control:this},this.options.export);this.export=new Wi(o),this.export.render();var n=this;this.export.on("export:compute",(function(e){n.dispatchEvent({type:"export:compute",content:e.content})}))}this.draggable&&ei.dragElement(this._panelRouteContainer,this._panelHeaderRouteContainer,t.getTargetElement())}e.prototype.setMap.call(this,t)},t.prototype.getCollapsed=function(){return this.collapsed},t.prototype.setCollapsed=function(e){void 0!==e?e&&this.collapsed||!e&&!this.collapsed||(e?document.getElementById("GProutePanelClose-"+this._uid).click():document.getElementById("GPshowRoute-"+this._uid).click(),this.collapsed=e):Xi.log("[ERROR] Route:setCollapsed - missing collapsed parameter")},t.prototype.getLayer=function(){return this._geojsonSections},t.prototype.setLayer=function(e){e?e instanceof vi.a?(e.setStyle(this._defaultFeatureStyle),this._geojsonSections=e):Xi.log("no valid layer given for hosting drawn features."):this._geojsonSections=null},t.prototype.getGeoJSON=function(){return JSON.stringify(this._geojsonObject)},t.prototype.setGeoJSON=function(e){try{this._geojsonObject=JSON.parse(e)}catch(e){Xi.log("no valid geojson given :"+e.message)}},t.prototype.getData=function(){for(var e=[],t=0;t<this._currentPoints.length;t++){var o=this._currentPoints[t];e.push(o.getCoordinate())}var n={type:"route",points:e,transport:this._currentTransport,exclusions:this._currentExclusions,computation:this._currentComputation,results:{}};return Bt.assign(n.results,this._currentRouteInformations),n},t.prototype.setData=function(e){this._currentTransport=e.transport,this._currentComputation=e.computation,this._currentExclusions=e.exclusions;for(var t=0;t<this._currentPoints.length;t++){var o=this._currentPoints[t];if(o.getCoordinate()){o.clearResults();var n=t+1+"-"+this._uid;document.getElementById("GPlocationOriginCoords_"+n).value="",document.getElementById("GPlocationOrigin_"+n).value="",document.getElementById("GPlocationPoint_"+n).style.cssText="",t>0&&t<6&&(document.getElementById("GPlocationPoint_"+n).className="GPflexInput GPlocationStageFlexInputHidden"),document.getElementById("GPlocationOriginPointer_"+n).checked=!1,document.getElementById("GPlocationOrigin_"+n).className="GPlocationOriginVisible",document.getElementById("GPlocationOriginCoords_"+n).className="GPlocationOriginHidden"}}for(var r=0;r<e.points.length;r++){var i=e.points[r];i&&this._currentPoints[r].setCoordinate(i,"EPSG:4326")}this._currentRouteInformations=e.results},t.prototype.getContainer=function(){return this._container},t.prototype.getStyle=function(){return this._defaultFeatureStyle},t.prototype.init=function(){for(var e=0;e<this._currentPoints.length;e++){var t=e+1,o=this._currentPoints[e].getCoordinate();if(o)document.getElementById("GPlocationOrigin_"+t+"-"+this._uid).value=o[1].toFixed(4)+" / "+o[0].toFixed(4),e>0&&e<6&&(document.getElementById("GPlocationPoint_"+t+"-"+this._uid).className="GPflexInput GPlocationStageFlexInput")}var n,r=document.getElementsByClassName("GPlocationPoint-"+this._uid);this._addRouteResultsStagesValuesElement(r),"Pieton"===this._currentTransport?(n=document.getElementById("GProuteTransportPedestrian-"+this._uid))&&(n.checked="true"):(n=document.getElementById("GProuteTransportCar-"+this._uid))&&(n.checked="true");var i=document.getElementById("GProuteComputationSelect-"+this._uid);i&&(i.value=this._currentComputation);var a=document.getElementById("GProuteExclusionsToll-"+this._uid);a&&(-1!==this._currentExclusions.indexOf("toll")?a.checked=!1:a.checked=!0);var s=document.getElementById("GProuteExclusionsTunnel-"+this._uid);s&&(-1!==this._currentExclusions.indexOf("tunnel")?s.checked=!1:s.checked=!0);var l=document.getElementById("GProuteExclusionsBridge-"+this._uid);l&&(-1!==this._currentExclusions.indexOf("bridge")?l.checked=!1:l.checked=!0);var c=this._currentRouteInformations.totalDistance,u=this._currentRouteInformations.totalTime,d=this._simplifiedInstructions(this._currentRouteInformations.routeInstructions);d&&this._fillRouteResultsDetailsContainer(c,u,d),this._formRouteContainer.className="GProuteComponentHidden",this._hideWaitingContainer(),this._resultsRouteContainer.className=""},t.prototype.clean=function(){this._currentTransport=null,this._currentExclusions=[],this._currentComputation=null;for(var e=0;e<this._currentPoints.length;e++)this._currentPoints[e].clear();this._removeRouteStepLocations(),this._clearRouteInputOptions(),this._clearRouteResultsDetails(),this.setLayer(),this._formRouteContainer.className="",this._resultsRouteContainer.className="GProuteComponentHidden"},t.prototype.initialize=function(e){this._checkInputOptions(e),this.options={collapsed:!0,draggable:!1,export:!1,graphs:["Voiture","Pieton"],exclusions:{toll:!1,tunnel:!1,bridge:!1},routeOptions:{},autocompleteOptions:{},layerDescription:{title:"ItinÃ©raire",description:"ItinÃ©raire basÃ© sur un graphe"}},Bt.assign(this.options,e);var t={departure:{url:Pt.red,offset:Pt.defaultOffset},stages:{url:Pt.lightOrange,offset:Pt.defaultOffset},arrival:{url:Pt.darkOrange,offset:Pt.defaultOffset}};this.options.markersOpts=Bt.assign(t,e.markersOpts),this.collapsed=this.options.collapsed,this.draggable=this.options.draggable,this._uid=So.generate(),this._panelRouteContainer=null,this._panelHeaderRouteContainer=null,this._waitingContainer=null,this._formRouteContainer=null,this._resultsRouteContainer=null,this._showRouteExclusionsElement=null,this._currentPoints=[],this._currentTransport=null,this._initTransport(),this._currentComputation=null,this._initComputation(),this._currentExclusions=[],this._initExclusions(),this._waiting=!1,this._timer=null,this._geojsonRoute=null,this._geojsonSections=null,this._geojsonObject=null,this.export=null,this._popupContent=null,this._popupDiv=this._initPopupDiv(),this._popupOverlay=null,this._resultsSelectInteraction=null,this._resultsHoverInteraction=null,this._defaultFeatureStyle=new It.c({stroke:new Ot.a({color:"rgba(0,183,152,0.9)",width:12})}),this._selectedFeatureStyle=new It.c({stroke:new Ot.a({color:"rgba(255,102,0,0.9)",width:12})}),this._currentRouteInformations=null,this._resources={},this.listenerKey=null},t.prototype._checkInputOptions=function(e){if(e.graphs)if(Array.isArray(e.graphs)&&e.graphs.length)for(var t=0;t<e.graphs.length;t++)"string"==typeof e.graphs[t]?("pieton"===e.graphs[t].toLowerCase()&&(e.graphs[t]="Pieton"),"voiture"===e.graphs[t].toLowerCase()&&(e.graphs[t]="Voiture")):(Xi.log("[ol.control.Route] ERROR : parameter 'graphs' elements should be of type 'string'"),e.graphs[t]=null);else Xi.warn("'graphs' parameter should be an array"),e.graphs=null;"true"===e.collapsed&&(e.collapsed=!0),"false"===e.collapsed&&(e.collapsed=!1)},t.prototype._initContainer=function(e){var t=this,o=this._container,n=this._showRouteContainer=this._createShowRouteElement();o.appendChild(n),this.collapsed||(n.checked=!0);var r=this._createShowRoutePictoElement();o.appendChild(r);var i=this._panelRouteContainer=this._createRoutePanelElement(),a=this._panelHeaderRouteContainer=this._createRoutePanelHeaderElement();i.appendChild(a);for(var s=this._formRouteContainer=this._createRoutePanelFormElement(),l=this._createRoutePanelFormPointsElement(e),c=0;c<l.length;c++)s.appendChild(l[c]);var u=this._createRoutePanelFormModeChoiceElement();u.appendChild(this._createRoutePanelFormModeChoiceTransportElement(this.options.graphs)),u.appendChild(this._createRoutePanelFormModeChoiceComputeElement()),s.appendChild(u),s.appendChild(this._createShowRouteExclusionsElement()),this._showRouteExclusionsElement=this._createShowRouteExclusionsPictoElement(),s.appendChild(this._showRouteExclusionsElement);var d=this._createRoutePanelFormExclusionsElement();d.appendChild(this._createRoutePanelFormExclusionOptionsElement(this.options.exclusions)),s.appendChild(d);var h=this._createRouteFormResetElement();s.appendChild(h);var p=this._createRouteSubmitFormElement();s.appendChild(p),i.appendChild(s);var f=this._resultsRouteContainer=this._createRoutePanelResultsElement();i.appendChild(f);var g=this._waitingContainer=this._createRouteWaitingElement();return i.appendChild(g),o.appendChild(i),o.addEventListener&&o.addEventListener("click",(function(e){return t._hideRouteSuggestedLocations(e)})),o},t.prototype._initTransport=function(){this._currentTransport="Voiture";var e=this.options.graphs;e&&0!==e.length||(this.options.graphs=["Voiture","Pieton"]),Array.isArray(e)&&e.length&&("Voiture"!==e[0]&&"Pieton"!==e[0]||(this._currentTransport=e[0]));var t=this.options.routeOptions;t.graph&&(this._currentTransport=t.graph)},t.prototype._initComputation=function(){this._currentComputation="fastest";var e=this.options.routeOptions;e.routePreference&&(this._currentComputation=e.routePreference)},t.prototype._initExclusions=function(){this._currentExclusions=[];var e=this.options.exclusions;if((!e||"object"===Hi(e)&&0===Object.keys(e).length)&&(this.options.exclusions={toll:!1,tunnel:!1,bridge:!1}),e&&"object"===Hi(e)&&Object.keys(e).length)for(var t in e)e.hasOwnProperty(t)&&e[t]&&this._currentExclusions.push(t);var o=this.options.routeOptions;Array.isArray(o.exclusions)&&(this._currentExclusions=o.exclusions)},t.prototype._initPopupDiv=function(){var e=this,t=document.createElement("div");t.className="gp-feature-info-div";var o=document.createElement("input");return o.type="button",o.className="gp-styling-button closer",o.onclick=function(){return null!=e._popupOverlay&&e._popupOverlay.setPosition(void 0),!1},this._popupContent=document.createElement("div"),this._popupContent.className="gp-features-content-div",t.appendChild(this._popupContent),t.appendChild(o),t},t.prototype._createRoutePanelFormPointsElement=function(e){var t=[],o=1,n=new Li({apiKey:this.options.apiKey||null,tag:{id:o,groupId:this._uid,markerOpts:this.options.markersOpts.departure,label:"DÃ©part",display:!0},autocompleteOptions:this.options.autocompleteOptions||null});for(n.setMap(e),this._addFormPointsEventListeners(n),t.push(n._container),this._currentPoints.push(n),o=2;o<7;o++){var r=new Li({apiKey:this.options.apiKey||null,tag:{id:o,groupId:this._uid,label:"Etape",markerOpts:this.options.markersOpts.stages,display:!1,removeOption:!0},autocompleteOptions:this.options.autocompleteOptions||null});r.setMap(e),this._addFormPointsEventListeners(r),t.push(r._container),this._currentPoints.push(r)}var i=new Li({apiKey:this.options.apiKey||null,tag:{id:o,groupId:this._uid,markerOpts:this.options.markersOpts.arrival,label:"ArrivÃ©e",display:!0,addOption:!0},autocompleteOptions:this.options.autocompleteOptions||null});return i.setMap(e),this._addFormPointsEventListeners(i),t.push(i._container),this._currentPoints.push(i),t},t.prototype._addFormPointsEventListeners=function(e){var t=this;e&&(e._inputLabelContainer.addEventListener?(e._inputLabelContainer.addEventListener("click",(function(e){return t.onRouteOriginLabelClick(e)})),e._inputShowPointer.addEventListener("click",(function(o){return t.onRouteOriginPointerClick(o,e)})),e._removePointElement&&e._removePointElement.addEventListener("click",(function(e){Xi.trace("click on _removePointElement",e)})),e._addPointElement&&e._addPointElement.addEventListener("click",(function(e){Xi.trace("click on _addPointElement",e)}))):e._inputLabelContainer.attachEvent&&(e._inputLabelContainer.attachEvent("onclick",(function(e){return t.onRouteOriginLabelClick(e)})),e._inputShowPointer.attachEvent("onclick",(function(o){return t.onRouteOriginPointerClick(o,e)})),e._removePointElement&&e._removePointElement.attachEvent("onclick",(function(e){})),e._addPointElement&&e._addPointElement.attachEvent("onclick",(function(e){}))))},t.prototype.onRouteComputationSubmit=function(e){Xi.log("onRouteComputationSubmit",e);var t,o,n=this._currentPoints;if(n[0]&&n[0].getCoordinate){var r=n[0].getCoordinate();t={x:r[0],y:r[1]},Xi.log("start",t)}var i=n[n.length-1];if(i&&i.getCoordinate){var a=i.getCoordinate();o={x:a[0],y:a[1]},Xi.log("end",o)}for(var s=[],l=1;l<n.length-1;l++)if(n[l]&&n[l].getCoordinate){var c=n[l].getCoordinate();if(c){var u={x:c[0],y:c[1]};Xi.log("step",u),s.push(u)}}this._currentTransport=e.transport,this._currentComputation=e.computation,this._currentExclusions=e.exclusions;var d,h=this.options.routeOptions;h.resource?d=h.resource:"fastest"===this._currentComputation&&"Pieton"===this._currentTransport&&(d="bdtopo-valhalla");var p=h.protocol||"XHR",f=h.timeOut||0;"JSONP"===p&&0===f&&(f=15e3);var g=!(null===h.onFailure||"function"!=typeof h.onFailure),m=!(null===h.onSuccess||"function"!=typeof h.onSuccess),y=this;this._requestRouting({startPoint:t,endPoint:o,viaPoints:s,graph:h.graph||this._currentTransport,routePreference:h.routePreference||this._currentComputation,exclusions:h.exclusions||this._currentExclusions,geometryInInstructions:!0,distanceUnit:"m",timeOut:f,protocol:p,resource:d,onSuccess:function(e){Xi.log(e),e&&y._fillRouteResultsDetails(e),m&&h.onSuccess.call(y,e)},onFailure:function(e){y._hideWaitingContainer(),y._clearRouteResultsDetails(),Xi.log(e.message),g&&h.onFailure.call(y,e)}})},t.prototype.onRouteOriginLabelClick=function(){this._formRouteContainer.className="",Object(Ao.b)(this.listenerKey),this.dispatchEvent("route:drawend")},t.prototype.onRouteOriginPointerClick=function(e,t){var o=this,n=this.getMap();t._inputShowPointerContainer.checked?(this._formRouteContainer.className="GProuteFormMini",this.listenerKey=n.on("click",(function(){"GProuteFormMini"===o._formRouteContainer.className&&(o._formRouteContainer.className=""),Object(Ao.b)(o.listenerKey),o.dispatchEvent("route:drawend")})),this.dispatchEvent("route:drawstart")):(this._formRouteContainer.className="",Object(Ao.b)(this.listenerKey),this.dispatchEvent("route:drawend"))},t.prototype.onShowRoutePanelClick=function(e){var t=this.getMap();Wr.unset(t),this._geojsonSections||this._waiting||this._clear(),this.collapsed=document.getElementById("GPshowRoute-"+this._uid).checked,this.dispatchEvent("change:collapsed")},t.prototype.onRouteModeComputationChange=function(e){var t=e.target.selectedIndex,o=e.target.options[t].value;o&&(Xi.log(o),this._currentComputation=o)},t.prototype.onRouteModeComputationChangeAndRun=function(e){this.onRouteModeComputationChange(e),this._clearRouteResultsDetails(),this._clearRouteResultsGeometry(),this._clearRouteResultsFeatureGeometry(),this.onRouteComputationSubmit({computation:this._currentComputation,transport:this._currentTransport,exclusions:this._currentExclusions})},t.prototype.onRouteModeTransportChange=function(e){var t=e.target.value;t&&(this._currentTransport=t)},t.prototype.onShowRouteExclusionsClick=function(e){Xi.log("onShowRouteExclusionsClick",e)},t.prototype.onRouteExclusionsChange=function(e){var t=e.target.value,o=e.target.checked;if(t&&"string"==typeof t){t=t.toLowerCase();for(var n=!1,r=null,i=0;i<this._currentExclusions.length;i++)this._currentExclusions[i]===t&&(r=i,n=!0);n||o||this._currentExclusions.push(t),n&&o&&this._currentExclusions.splice(r,1)}},t.prototype.onRouteResetClick=function(){for(var e=this._currentPoints,t=0;t<e.length;t++)e[t].clear();this._clear(),this._clearRouteInputOptions()},t.prototype.onShowRouteResultsNewClick=function(){this._clearRouteResultsDetails(),this._clearRouteResultsGeometry(),this._clearRouteResultsFeatureGeometry()},t.prototype.onRouteResultsDetailsMouseOver=function(e){var t=e.target.id,o=t.substring(t.indexOf("_")+1);(e.target.classList&&e.target.classList.add("GProuteResultsDetailsInstructionHighlight"),this._geojsonSections)&&this._geojsonSections.getSource().getFeatureById(parseInt(o,10)).setStyle(this._selectedFeatureStyle)},t.prototype.onRouteResultsDetailsMouseOut=function(e){var t=e.target.id,o=t.substring(t.indexOf("_")+1);(e.target.classList&&e.target.classList.remove("GProuteResultsDetailsInstructionHighlight"),this._geojsonSections)&&this._geojsonSections.getSource().getFeatureById(parseInt(o,10)).setStyle(null)},t.prototype._requestRouting=function(e){!e||"object"===Hi(e)&&0===Object.keys(e).length||e.startPoint&&e.endPoint&&(e.apiKey=this.options.routeOptions.apiKey||this.options.apiKey,"boolean"!=typeof e.ssl&&("boolean"==typeof this.options.ssl?e.ssl=this.options.ssl:e.ssl=!0),Xi.log(e),this._displayWaitingContainer(),gt.Services.route(e))},t.prototype._fillRouteResultsDetails=function(e){var t=e.totalDistance,o=e.totalTime,n=this._simplifiedInstructions(e.routeInstructions);n&&this._fillRouteResultsDetailsContainer(t,o,n);var r=e.routeGeometry;r&&this._fillRouteResultsDetailsGeometry(r,this._defaultFeatureStyle),n&&n[0].geometry&&this._fillRouteResultsDetailsFeatureGeometry(n,this._defaultFeatureStyle);var i=e.bbox;if(i){var a=this.getMap(),l=[i.left,i.bottom,i.right,i.top],c=a.getView().getProjection().getCode();"EPSG:4326"!==c&&(l=Object(s.F)(l,"EPSG:4326",c)),a.getView().fit(l,a.getSize())}this._currentRouteInformations=e,this.dispatchEvent({type:"route:compute"}),this._formRouteContainer.className="GProuteComponentHidden",this._hideWaitingContainer(),this._resultsRouteContainer.className=""},t.prototype._fillRouteResultsDetailsContainer=function(e,t,o){this._resultsRouteValuesContainer=this._addRouteResultsValuesElement(e,t,this._convertSecondsToTime),this._resultsRouteDetailsContainer=this._addRouteResultsDetailsElement(o,this._convertSecondsToTime)},t.prototype._fillRouteResultsDetailsGeometry=function(e,t){this._clearRouteResultsGeometry();var o=this.getMap();if(e){var n={type:"FeatureCollection",features:[{type:"Feature",crs:{type:"name",properties:{name:"EPSG:4326"}},geometry:e}]},r=new Qt({defaultDataProjection:"EPSG:4326",defaultStyle:t}).readFeatures(n,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"});this._geojsonRoute=new vi.a({source:new d.b({features:r}),style:t}),o.addLayer(this._geojsonRoute)}},t.prototype._fillRouteResultsDetailsFeatureGeometry=function(e,t){var o=this;this._clearRouteResultsFeatureGeometry();var n=this.getMap();this._geojsonObject={type:"FeatureCollection",crs:{type:"name",properties:{name:"EPSG:4326"}},features:[]};for(var r=0;r<e.length;r++){for(var i=e[r],a=r+1,s=i.geometry.coordinates,l=0;l<s.length;l++)"string"==typeof s[l][0]&&(s[l][0]=parseFloat(s[l][0]),s[l][1]=parseFloat(s[l][1]));this._geojsonObject.features.push({type:"Feature",geometry:i.geometry,properties:{popupContent:"("+a+") distance : "+this._convertDistance(i.distance)+" / temps : "+this._convertSecondsToTime(i.duration)},id:a})}this._geojsonObject.features.push({type:"Feature",geometry:{type:"Point",coordinates:this._currentPoints[0].getCoordinate()},properties:{description:"Point de dÃ©part","marker-symbol":this.options.markersOpts.departure.url}});for(var c=1;c<this._currentPoints.length-1;c++)if(this._currentPoints[c]&&this._currentPoints[c].getCoordinate){var u=this._currentPoints[c].getCoordinate();u&&this._geojsonObject.features.push({type:"Feature",geometry:{type:"Point",coordinates:u},properties:{description:"Point d'Ã©tape","marker-symbol":this.options.markersOpts.stages.url}})}this._geojsonObject.features.push({type:"Feature",geometry:{type:"Point",coordinates:this._currentPoints[this._currentPoints.length-1].getCoordinate()},properties:{description:"Point d'arrivÃ©e","marker-symbol":this.options.markersOpts.arrival.url}});var h,p=new Qt({defaultDataProjection:"EPSG:4326",defaultStyle:t}),f=this.getMap().getView().getProjection().getCode(),m=p.readFeatures(this._geojsonObject,{dataProjection:"EPSG:4326",featureProjection:f});this._geojsonSections=new vi.a({source:new d.b({features:m}),style:t,opacity:.9}),"Pieton"===this._currentTransport?(h="piÃ©ton",this._geojsonSections.gpResultLayerId="Pieton$OGC:OPENLS;Itineraire"):(h="voiture",this._geojsonSections.gpResultLayerId="Voiture$OGC:OPENLS;Itineraire"),n.addLayer(this._geojsonSections),n.getControls().forEach((function(e){if(e instanceof Dr){var t=o._geojsonSections.gpLayerId;e._layers[t].title===t&&e.addLayer(o._geojsonSections,{title:o.options.layerDescription.title+" ("+h+")",description:o.options.layerDescription.description})}}),this),this._resultsHoverInteraction=new g.b({condition:Ci.o,layers:[this._geojsonSections],style:this._selectedFeatureStyle}),this._resultsHoverInteraction.on("select",(function(e){return o._onResultsFeatureMouseOver(e)})),n.addInteraction(this._resultsHoverInteraction),this._resultsSelectInteraction=new g.b({layers:[this._geojsonSections],style:this._selectedFeatureStyle}),this._resultsSelectInteraction.on("select",(function(e){return o._onResultsFeatureSelect(e)})),n.addInteraction(this._resultsSelectInteraction)},t.prototype._onResultsFeatureMouseOver=function(e){if(0!==e.selected.length){var t=e.selected[0],o=document.getElementById("GProuteResultsDetailsInstruction_"+t.getId()+"-"+this._uid);o&&o.classList&&o.classList.add("GProuteResultsDetailsInstructionHighlight")}if(0!==e.deselected.length){var n=e.deselected[0],r=document.getElementById("GProuteResultsDetailsInstruction_"+n.getId()+"-"+this._uid);r&&r.classList&&r.classList.remove("GProuteResultsDetailsInstructionHighlight")}},t.prototype._onResultsFeatureSelect=function(e){var t=this.getMap();if(0!==e.selected.length){var o=e.selected[0];this._popupContent.innerHTML=o.getProperties().popupContent,this._popupOverlay?this._popupOverlay.setPosition(e.mapBrowserEvent.coordinate):(this._popupOverlay=new c.a({element:this._popupDiv,positioning:"bottom-center",position:e.mapBrowserEvent.coordinate}),t.addOverlay(this._popupOverlay))}else null!=this._popupOverlay&&this._popupOverlay.setPosition(void 0)},t.prototype._clear=function(){this._currentTransport=null,this._currentExclusions=[],this._currentComputation=null,this._clearRouteResultsDetails(),this._clearRouteResultsGeometry(),this._clearRouteResultsFeatureGeometry();for(var e=0;e<this._currentPoints.length;e++)this._currentPoints[e].clear();this._removeRouteStepLocations()},t.prototype._clearRouteInputOptions=function(){var e;this._initTransport(),this._initComputation(),this._initExclusions(),"Pieton"===this._currentTransport?(e=document.getElementById("GProuteTransportPedestrian-"+this._uid))&&(e.checked="true"):(e=document.getElementById("GProuteTransportCar-"+this._uid))&&(e.checked="true");var t=document.getElementById("GProuteComputationSelect-"+this._uid);t&&(t.value=this._currentComputation);var o=document.getElementById("GProuteExclusionsToll-"+this._uid);o&&(-1!==this._currentExclusions.indexOf("toll")?o.checked=!1:o.checked=!0);var n=document.getElementById("GProuteExclusionsTunnel-"+this._uid);n&&(-1!==this._currentExclusions.indexOf("tunnel")?n.checked=!1:n.checked=!0);var r=document.getElementById("GProuteExclusionsBridge-"+this._uid);r&&(-1!==this._currentExclusions.indexOf("bridge")?r.checked=!1:r.checked=!0)},t.prototype._removeRouteStepLocations=function(){var e=document.querySelectorAll('div[id^="GPlocationPoint"]');if(0!==e.length){for(var t=[],o=0;o<e.length;o++)-1!==e[o].id.indexOf(this._uid)&&t.push(e[o]);for(var n=1;n<t.length-1;n++){var r=t[n].classList;if(0!==r.length)for(var i=0;i<r.length;i++)"GPlocationStageFlexInput"===r[i]&&document.getElementById(this._addUID("GPlocationStageRemove_"+(n+1))).click()}}},t.prototype._clearRouteResultsDetails=function(){if(this._currentRouteInformations=null,this._resultsRouteDetailsContainer){var e=this._resultsRouteDetailsContainer;if(e.childElementCount)for(;e.firstChild;)e.removeChild(e.firstChild)}if(this._resultsRouteValuesContainer){var t=this._resultsRouteValuesContainer;if(t.childElementCount)for(;t.firstChild;)t.removeChild(t.firstChild)}},t.prototype._clearRouteResultsGeometry=function(){var e=this.getMap();null!=this._geojsonRoute&&(e.removeLayer(this._geojsonRoute),this._geojsonRoute=null)},t.prototype._clearRouteResultsFeatureGeometry=function(){var e=this.getMap();null!=this._geojsonSections&&(e.removeLayer(this._geojsonSections),this._geojsonSections=null,this._geojsonObject=null),null!=this._popupOverlay&&(e.removeOverlay(this._popupOverlay),this._popupOverlay=null),null!=this._resultsSelectInteraction&&(e.removeInteraction(this._resultsSelectInteraction),this._resultsSelectInteraction=null),null!=this._resultsHoverInteraction&&(e.removeInteraction(this._resultsHoverInteraction),this._resultsHoverInteraction=null)},t.prototype._hideRouteSuggestedLocations=function(e){if(e.target&&e.target.id&&-1!==e.target.id.indexOf("GPlocationOrigin_"))for(var t=parseInt(e.target.id.split("_")[1][0],10)-1,o=0;o<this._currentPoints.length;o++)o!==parseInt(t,10)&&this._currentPoints[o]._hideSuggestedLocation();else for(var n=0;n<this._currentPoints.length;n++)this._currentPoints[n]._hideSuggestedLocation()},t.prototype._displayWaitingContainer=function(){this._waitingContainer.className="GProuteCalcWaitingContainerVisible",this._waiting=!0;var e=this.options.routeOptions;if(e&&e.timeOut){this._timer&&(clearTimeout(this._timer),this._timer=null);var t=this;this._timer=setTimeout((function(){!0===t._waiting?t._hideWaitingContainer():t._timer&&clearTimeout(t._timer)}),16e3)}},t.prototype._hideWaitingContainer=function(){if(this._waiting){this._waitingContainer.className="GProuteCalcWaitingContainerHidden",this._waiting=!1;var e=this.options.routeOptions;e&&e.timeOut&&(clearTimeout(this._timer),this._timer=null)}},t.prototype._simplifiedInstructions=function(e){var t=[],o=e[0];1===e.length&&t.push(o);for(var n=1;n<e.length;n++){var r=e[n];if(r.instruction===o.instruction){o.distance=(parseFloat(r.distance)+parseFloat(o.distance)).toString(),o.duration=(parseFloat(r.duration)+parseFloat(o.duration)).toString();for(var i=1;i<r.geometry.coordinates.length;i++)o.geometry.coordinates.push(r.geometry.coordinates[i])}else t.push(o),o=r,n===e.length-1&&(t.push(r),o=null)}return Xi.log(t),t},t.prototype._convertSecondsToTime=function(e){var t="";e=Math.round(e);var o=Math.floor(e/3600),n=e%3600;return o&&(t=o+"h "),t+=Math.floor(n/60)+" min"},t.prototype._convertDistance=function(e){var t=parseInt(e/1e3,10);return t?t+" km":parseInt(e,10)+" m"},t}(Oo.a),Ki=Zi;window.ol&&window.ol.control&&(window.ol.control.Route=Zi);var Ji={_addUID:function(e){return this._uid?e+"-"+this._uid:e},_createMainContainerElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPisochron"),e.className="GPwidget",e},_createShowIsoElement:function(){var e=document.createElement("input");return e.id=this._addUID("GPshowIsochron"),e.type="checkbox",e},_createShowIsoPictoElement:function(){var e=this,t=document.createElement("label");t.id=this._addUID("GPshowIsochronPicto"),t.className="GPshowAdvancedToolPicto",t.htmlFor=this._addUID("GPshowIsochron"),t.title="Calculer une isochrone",t.addEventListener?t.addEventListener("click",(function(t){e.onShowIsoPanelClick(t)})):t.attachEvent&&t.attachEvent("onclick",(function(t){e.onShowIsoPanelClick(t)}));var o=document.createElement("span");return o.id=this._addUID("GPshowIsochronOpen"),o.className="GPshowAdvancedToolOpen",t.appendChild(o),t},_createIsoPanelElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPisochronPanel"),e.className="GPpanel",e},_createIsoPanelHeaderElement:function(){var e=this,t=document.createElement("div");t.className="GPpanelHeader";var o=document.createElement("div");o.className="GPpanelTitle",o.innerHTML="Calcul d'isochrone",t.appendChild(o);var n=document.createElement("div");return n.id=this._addUID("GPisochronPanelClose"),n.className="GPpanelClose",n.title="Fermer le panneau",n.addEventListener?n.addEventListener("click",(function(){document.getElementById(e._addUID("GPshowIsochronPicto")).click()}),!1):n.attachEvent&&n.attachEvent("onclick",(function(){document.getElementById(e._addUID("GPshowIsochronPicto")).click()})),t.appendChild(n),t},_createIsoPanelFormElement:function(){var e=this,t=document.createElement("form");return t.id=this._addUID("GPisochronForm"),t.addEventListener("submit",(function(t){return t.preventDefault(),e.onIsoComputationSubmit(t),!1})),t},_createIsoWaitingElement:function(){var e=document.createElement("div");e.id=this._addUID("GPisochronCalcWaitingContainer"),e.className="GPisochronCalcWaitingContainerHidden";var t=document.createElement("p");return t.className="GPisochronCalcWaiting",t.innerHTML="Calcul en cours...",e.appendChild(t),e},_createIsoPanelFormTypeChoiceElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPisochronChoice"),e},_createIsoPanelFormTypeChoiceChronElement:function(e){var t=this,o=document.createElement("div");o.className="GPisochronChoiceAlt";var n=document.createElement("input");n.id=this._addUID("GPisochronChoiceAltChron"),n.name="GPisochronChoiceMode",n.type="radio",n.checked=!!e,n.addEventListener?n.addEventListener("change",(function(e){document.getElementById(t._addUID("GPisochronValueChron")).className="GPflexInput",document.getElementById(t._addUID("GPisochronValueDist")).className="GPisochronValueHidden",t.onIsoTypeChoiceChange(e)}),!1):n.attachEvent&&n.attachEvent("onchange",(function(){document.getElementById(t._addUID("GPisochronValueChron")).className="GPflexInput",document.getElementById(t._addUID("GPisochronValueDist")).className="GPisochronValueHidden",t.onIsoTypeChoiceChange()})),n.value="isochron",o.appendChild(n);var r=document.createElement("label");r.className="GPisochronChoiceAltImg",r.htmlFor=this._addUID("GPisochronChoiceAltChron"),o.appendChild(r);var i=document.createElement("span");return i.id=this._addUID("GPisochronChoiceAltChronTxt"),i.innerHTML="isochrone",i.addEventListener?i.addEventListener("click",(function(){document.getElementById(t._addUID("GPisochronChoiceAltChron")).click()}),!1):i.attachEvent&&i.attachEvent("onclick",(function(){document.getElementById(t._addUID("GPisochronChoiceAltChron")).click()})),o.appendChild(i),o},_createIsoPanelFormTypeChoiceDistElement:function(e){var t=this,o=document.createElement("div");o.className="GPisochronChoiceAlt";var n=document.createElement("input");n.id=this._addUID("GPisochronChoiceAltDist"),n.name="GPisochronChoiceMode",n.type="radio",n.checked=!!e,n.addEventListener?n.addEventListener("change",(function(e){document.getElementById(t._addUID("GPisochronValueDist")).className="GPflexInput",document.getElementById(t._addUID("GPisochronValueChron")).className="GPisochronValueHidden",t.onIsoTypeChoiceChange(e)}),!1):n.attachEvent&&n.attachEvent("onchange",(function(){document.getElementById(t._addUID("GPisochronValueDist")).className="GPflexInput",document.getElementById(t._addUID("GPisochronValueChron")).className="GPisochronValueHidden",t.onIsoTypeChoiceChange()})),n.value="isodistance",o.appendChild(n);var r=document.createElement("label");r.className="GPisochronChoiceAltImg",r.htmlFor=this._addUID("GPisochronChoiceAltDist"),o.appendChild(r);var i=document.createElement("span");return i.id=this._addUID("GPisochronChoiceAltDistTxt"),i.innerHTML="isodistance",i.addEventListener?i.addEventListener("click",(function(){document.getElementById(t._addUID("GPisochronChoiceAltDist")).click()}),!1):i.attachEvent&&i.attachEvent("onclick",(function(){document.getElementById(t._addUID("GPisochronChoiceAltDist")).click()})),o.appendChild(i),o},_createIsoPanelFormValueIsochronElement:function(e){var t=this,o=document.createElement("div");o.id=this._addUID("GPisochronValueChron"),o.className=e?"GPflexInput":"GPisochronValueHidden";var n=document.createElement("label");n.id=this._addUID("GPisochronValueChronLabel"),n.htmlFor=this._addUID("GPisochronValueChronInput"),n.innerHTML="Temps",o.appendChild(n);var r=document.createElement("input");r.id=this._addUID("GPisochronValueChronInput1"),r.min="0",r.step="1",r.value="0",r.type="number",r.addEventListener?r.addEventListener("change",(function(e){"function"==typeof t.onIsoValueChronTimeMinuteChange&&t.onIsoValueChronTimeHourChange(e)})):r.attachEvent&&r.attachEvent("onchange",(function(e){"function"==typeof t.onIsoValueChronTimeMinuteChange&&t.onIsoValueChronTimeHourChange(e)})),o.appendChild(r);var i=document.createElement("label");i.innerHTML="h",o.appendChild(i);var a=document.createElement("input");a.id=this._addUID("GPisochronValueChronInput2"),a.min="0",a.max="59",a.step="1",a.value="0",a.type="number",a.addEventListener?a.addEventListener("change",(function(e){"function"==typeof t.onIsoValueChronTimeMinuteChange&&t.onIsoValueChronTimeMinuteChange(e)})):a.attachEvent&&a.attachEvent("onchange",(function(e){"function"==typeof t.onIsoValueChronTimeMinuteChange&&t.onIsoValueChronTimeMinuteChange(e)})),o.appendChild(a);var s=document.createElement("label");return s.innerHTML="min",o.appendChild(s),o},_createIsoPanelFormValueIsodistanceElement:function(e){var t=this,o=document.createElement("div");o.id=this._addUID("GPisochronValueDist"),o.className=e?"GPflexInput":"GPisochronValueHidden";var n=document.createElement("label");n.id=this._addUID("GPisochronValueDistLabel"),n.htmlFor=this._addUID("GPisochronValueDistInput"),n.innerHTML="Distance",o.appendChild(n);var r=document.createElement("input");r.id=this._addUID("GPisochronValueDistInput"),r.min="0",r.step="any",r.value="0",r.type="number",r.addEventListener?r.addEventListener("change",(function(e){"function"==typeof t.onIsoValueDistChange&&t.onIsoValueDistChange(e)})):r.attachEvent&&r.attachEvent("onchange",(function(e){"function"==typeof t.onIsoValueDistChange&&t.onIsoValueDistChange(e)})),o.appendChild(r);var i=document.createElement("label");return i.innerHTML="km",o.appendChild(i),o},_createIsoPanelFormModeChoiceElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPisochronModeChoice"),e},_createIsoPanelFormModeChoiceTransportElement:function(e){var t=this,o=document.createElement("div");o.id=this._addUID("GPisochronTransportChoice");var n=document.createElement("span");n.className="GPisochronModeLabel",n.innerHTML="Mode de transport",o.appendChild(n);for(var r=0;r<e.length;r++){var i=e[r];if("Voiture"===i){var a=document.createElement("input");a.id=this._addUID("GPisochronTransportCar"),a.type="radio",a.name="GPisochronTransport",0===r&&(a.checked=!0),a.addEventListener?a.addEventListener("change",(function(e){t.onIsoModeTransportChange(e)})):a.attachEvent&&a.attachEvent("onchange",(function(e){t.onIsoModeTransportChange(e)})),a.value="Voiture",o.appendChild(a);var s=document.createElement("label");s.className="GPisochronTransportImg",s.htmlFor=this._addUID("GPisochronTransportCar"),s.title="Voiture",o.appendChild(s)}if("Pieton"===i){var l=document.createElement("input");l.id=this._addUID("GPisochronTransportPedestrian"),l.type="radio",l.name="GPisochronTransport",0===r&&(l.checked=!0),l.addEventListener?l.addEventListener("change",(function(e){t.onIsoModeTransportChange(e)})):l.attachEvent&&l.attachEvent("onchange",(function(e){t.onIsoModeTransportChange(e)})),l.value="Pieton",o.appendChild(l);var c=document.createElement("label");c.className="GPisochronTransportImg",c.htmlFor=this._addUID("GPisochronTransportPedestrian"),c.title="PiÃ©ton",o.appendChild(c)}}return o},_createIsoPanelFormModeChoiceDirectionElement:function(e){var t=this,o=document.createElement("div");o.id=this._addUID("GPisochronDirectionChoice");var n=document.createElement("span");n.className="GPisochronModeLabel",n.innerHTML="Sens de parcours",o.appendChild(n);var r=document.createElement("select");r.id=this._addUID("GPisochronDirectionSelect"),r.className="GPinputSelect",r.addEventListener("change",(function(e){t.onIsoModeDirectionChange(e)}));for(var i=0;i<e.length;i++){var a=e[i];if("departure"===a.toLowerCase()){var s=document.createElement("option");0===i&&(s.selected="selected"),s.value="departure",s.text="DÃ©part",r.appendChild(s)}if("arrival"===a.toLowerCase()){var l=document.createElement("option");0===i&&(l.selected="selected"),l.value="arrival",l.text="ArrivÃ©e",r.appendChild(l)}}return o.appendChild(r),o},_createShowIsoExclusionsElement:function(){var e=document.createElement("input");return e.id=this._addUID("GPshowIsoExclusions"),e.type="checkbox",e},_createShowIsoExclusionsPictoElement:function(){var e=document.createElement("label");return e.id=this._addUID("GPshowIsoExclusionsPicto"),e.className="GPshowMoreOptionsImage GPshowMoreOptions GPshowIsoExclusionsPicto",e.htmlFor=this._addUID("GPshowIsoExclusions"),e.title="Exclusions",e.style.top="240px",e},_createIsoPanelFormExclusionsElement:function(){var e=document.createElement("div");e.id=this._addUID("GPisoExclusions");var t=document.createElement("span");return t.className="GPisoExclusionsLabel",t.innerHTML="Passages autorisÃ©s",e.appendChild(t),e},_createIsoPanelFormExclusionOptionsElement:function(e){var t=this,o=document.createElement("div");for(var n in o.className="GPisoExclusionsOptions",e)if(e.hasOwnProperty(n)){var r=e[n];switch(n){case"toll":var i=document.createElement("input");i.id=this._addUID("GPisoExclusionsToll"),i.type="checkbox",i.checked=!r,i.addEventListener?i.addEventListener("change",(function(e){t.onIsoExclusionsChange(e)})):i.attachEvent&&i.attachEvent("onchange",(function(e){t.onIsoExclusionsChange(e)})),i.value="Toll",o.appendChild(i);var a=document.createElement("label");a.className="GPisoExclusionsOption",a.htmlFor=this._addUID("GPisoExclusionsToll"),a.innerHTML="PÃ©ages",o.appendChild(a);break;case"tunnel":var s=document.createElement("input");s.id=this._addUID("GPisoExclusionsTunnel"),s.type="checkbox",s.checked=!r,s.addEventListener?s.addEventListener("change",(function(e){t.onIsoExclusionsChange(e)})):s.attachEvent&&s.attachEvent("onchange",(function(e){t.onIsoExclusionsChange(e)})),s.value="Tunnel",o.appendChild(s);var l=document.createElement("label");l.className="GPisoExclusionsOption",l.htmlFor=this._addUID("GPisoExclusionsTunnel"),l.innerHTML="Tunnels",o.appendChild(l);break;case"bridge":var c=document.createElement("input");c.id=this._addUID("GPisoExclusionsBridge"),c.type="checkbox",c.checked=!r,c.addEventListener?c.addEventListener("change",(function(e){t.onIsoExclusionsChange(e)})):c.attachEvent&&c.attachEvent("onchange",(function(e){t.onIsoExclusionsChange(e)})),c.value="Bridge",o.appendChild(c);var u=document.createElement("label");u.className="GPisoExclusionsOption",u.htmlFor=this._addUID("GPisoExclusionsBridge"),u.innerHTML="Ponts",o.appendChild(u)}}return o},_createIsoSubmitFormElement:function(){var e=document.createElement("input");return e.id=this._addUID("GPisochronSubmit"),e.className="GPinputSubmit",e.type="submit",e.value="Calculer",e},_createIsoFormResetElement:function(){var e=this,t=document.createElement("div");return t.id=this._addUID("GPisochronReset"),t.title="RÃ©initialiser les paramÃ¨tres",t.addEventListener("click",(function(t){e.onIsoResetClick(t)})),t}};function Qi(e){return(Qi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var $i=mt.getLogger("isocurve"),ea=function(e){function t(o){if(o=o||{},!(this instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this.initialize(o),this._container=this._createMainContainerElement(),this._containerElement=null,o.element&&o.element.appendChild&&(o.element.appendChild(this._container),this._containerElement=o.element),e.call(this,{element:this._containerElement||this._container,target:o.target,render:o.render})}return e&&(t.__proto__=e),t.prototype=Object.create(e.prototype,{}),Bt.assign(t.prototype,Ji),t.prototype.constructor=t,t.prototype.setMap=function(t){if(t){if(this._container=this._initContainer(t),this.options.export){var o=Bt.assign({control:this},this.options.export);this.export=new Wi(o),this.export.render();var n=this;this.export.on("export:compute",(function(e){n.dispatchEvent({type:"export:compute",content:e.content})}))}this.draggable&&ei.dragElement(this._IsoPanelContainer,this._IsoPanelHeaderContainer,t.getTargetElement())}e.prototype.setMap.call(this,t)},t.prototype.getCollapsed=function(){return this.collapsed},t.prototype.setCollapsed=function(e){void 0!==e?e&&this.collapsed||!e&&!this.collapsed||(e?document.getElementById("GPisochronPanelClose-"+this._uid).click():document.getElementById("GPshowIsochronPicto-"+this._uid).click(),this.collapsed=e):$i.log("[ERROR] Isocurve:setCollapsed - missing collapsed parameter")},t.prototype.getLayer=function(){return this._geojsonLayer},t.prototype.setLayer=function(e){e?e instanceof vi.a?(e.setStyle(this._defaultFeatureStyle),this._geojsonLayer=e):$i.log("no valid layer given for hosting drawn features."):this._geojsonLayer=null},t.prototype.getGeoJSON=function(){return JSON.stringify(this._geojsonObject)},t.prototype.setGeoJSON=function(e){try{this._geojsonObject=JSON.parse(e)}catch(e){$i.log("no valid geojson given :"+e.message)}},t.prototype.getData=function(){var e={type:"isocurve",transport:this._currentTransport,computation:this._currentComputation,exclusions:this._currentExclusions,direction:this._currentDirection,point:this._originPoint.getCoordinate(),results:{}};return Bt.assign(e.results,this._currentIsoResults),e},t.prototype.setData=function(e){this._currentTransport=e.transport,this._currentComputation=e.computation,this._currentExclusions=e.exclusions,this._currentDirection=e.direction,document.getElementById("GPlocationOriginPointer_1-"+this._uid).checked=!0,document.getElementById("GPlocationOriginCoords_1-"+this._uid).value="",this._originPoint.setCoordinate(e.point,"EPSG:4326"),this._currentIsoResults=e.results},t.prototype.getContainer=function(){return this._container},t.prototype.getStyle=function(){return this._defaultFeatureStyle},t.prototype.compute=function(e,t,o){if(this._clear(),this._showIsoContainer.checked||this._pictoIsoContainer.click(),this.getMap()){var n={direction:"departure",method:"time",transport:"Voiture",exclusions:[]};Bt.assign(n,o),this._originPoint.setCoordinate(e);var r=this._originPoint.getCoordinate();if(document.getElementById("GPlocationOrigin_1-"+this._uid).value=r[0].toFixed(4)+" / "+r[1].toFixed(4),this._currentTransport=n.transport,"Voiture"===n.transport?document.getElementById("GPisochronTransportCar-"+this._uid).checked=!0:document.getElementById("GPisochronTransportPedestrian-"+this._uid).checked=!0,this._currentExclusions=n.exclusions,this._currentComputation=n.method,"time"===n.method){var i=t.split(".");this._currentTimeHour=i[0]||0,document.getElementById("GPisochronValueChronInput1-"+this._uid).value=this._currentTimeHour,this._currentTimeMinute=i[1]||0,document.getElementById("GPisochronValueChronInput2-"+this._uid).value=this._currentTimeMinute,document.getElementById("GPisochronChoiceAltChron-"+this._uid).click()}else this._currentDistance=t,document.getElementById("GPisochronValueDistInput-"+this._uid).value=this._currentDistance,document.getElementById("GPisochronChoiceAltDist-"+this._uid).click();this._currentDirection=n.direction,document.getElementById("GPisochronDirectionSelect-"+this._uid).selectedIndex="departure"===n.direction?0:1,this.onIsoComputationSubmit()}},t.prototype.init=function(){var e=this._originPoint.getCoordinate();if(document.getElementById("GPlocationOrigin_1-"+this._uid).value=e[1].toFixed(4)+" / "+e[0].toFixed(4),"Voiture"===this._currentTransport?document.getElementById("GPisochronTransportCar-"+this._uid).checked=!0:document.getElementById("GPisochronTransportPedestrian-"+this._uid).checked=!0,"time"===this._currentComputation){var t=this._currentIsoResults.time/60;this._currentTimeHour=Math.floor(t/60),document.getElementById("GPisochronValueChronInput1-"+this._uid).value=this._currentTimeHour,this._currentTimeMinute=Math.round(60*(t/60-this._currentTimeHour)),document.getElementById("GPisochronValueChronInput2-"+this._uid).value=this._currentTimeMinute,document.getElementById("GPisochronChoiceAltChron-"+this._uid).click()}else this._currentDistance=this._currentIsoResults.distance/1e3,document.getElementById("GPisochronValueDistInput-"+this._uid).value=this._currentDistance,document.getElementById("GPisochronChoiceAltDist-"+this._uid).click();"departure"===this._currentDirection?document.getElementById("GPisochronDirectionSelect-"+this._uid).selectedIndex=0:document.getElementById("GPisochronDirectionSelect-"+this._uid).selectedIndex=1},t.prototype.clean=function(){this._clearIsoInputs(),this._originPoint.clearResults(),document.getElementById("GPlocationPoint_1-"+this._uid).style.cssText="",document.getElementById("GPlocationOriginCoords_1-"+this._uid).value="",document.getElementById("GPlocationOrigin_1-"+this._uid).value="",document.getElementById("GPlocationPoint_1-"+this._uid).style.cssText="",document.getElementById("GPlocationOriginPointer_1-"+this._uid).checked=!1,document.getElementById("GPlocationOrigin_1-"+this._uid).className="GPlocationOriginVisible",document.getElementById("GPlocationOriginCoords_1-"+this._uid).className="GPlocationOriginHidden",this._currentIsoResults=null,this.setLayer()},t.prototype.initialize=function(e){this._checkInputOptions(e),this.options={collapsed:!0,draggable:!1,export:!1,methods:["time","distance"],graphs:["Voiture","Pieton"],exclusions:{toll:!1,tunnel:!1,bridge:!1},directions:["departure","arrival"],markerOpts:{url:Pt.lightOrange,offset:Pt.defaultOffset},isocurveOptions:{},autocompleteOptions:{},layerDescription:{title:"Isochrone/Isodistance",description:"isochrone/isodistance basÃ© sur un graphe"}},Bt.assign(this.options,e),this.collapsed=this.options.collapsed,this.draggable=this.options.draggable,this._uid=So.generate(),this._currentTransport=null,this._initTransport(),this._currentComputation=null,this._initComputation(),this._currentExclusions=[],this._initExclusions(),this._currentDirection=null,this._initDirection(),this._originPoint=null,this._showIsoContainer=null,this._pictoIsoContainer=null,this._waitingContainer=null,this._formContainer=null,this._IsoPanelContainer=null,this._IsoPanelHeaderContainer=null,this._currentIsoResults=null,this._geojsonLayer=null,this._geojsonObject=null,this.export=null,this._waiting=!1,this._timer=null,this._defaultFeatureStyle=new It.c({fill:new St.a({color:"rgba(0, 183, 152, 0.7)"}),stroke:new Ot.a({color:"rgba(0, 183, 152, 0)",width:1})}),this._resources={},this.listenerKey=null},t.prototype._checkInputOptions=function(e){var t;if(e.methods)if(Array.isArray(e.methods))if(0===e.methods.length)e.methods=null;else for(t=0;t<e.methods.length;t++)"string"!=typeof e.methods[t]&&$i.log("[ol.control.Isocurve] ERROR : parameter 'methods' elements should be of type 'string'");else $i.warn("'methods' parameter should be an array"),e.methods=null;if(e.graphs)if(Array.isArray(e.graphs))if(0===e.graphs.length)e.graphs=null;else for(t=0;t<e.graphs.length;t++)"string"!=typeof e.graphs[t]?$i.log("[ol.control.Isocurve] ERROR : parameter 'graphs' elements should be of type 'string'"):("pieton"===e.graphs[t].toLowerCase()&&(e.graphs[t]="Pieton"),"voiture"===e.graphs[t].toLowerCase()&&(e.graphs[t]="Voiture"));else $i.warn("'graphs' parameter should be an array"),e.graphs=null;if(e.directions)if(Array.isArray(e.directions))if(0===e.directions.length)e.directions=null;else for(t=0;t<e.directions.length;t++)"string"!=typeof e.directions[t]&&$i.log("[ol.control.Isocurve] ERROR : parameter 'directions' elements should be of type 'string'");else $i.warn("'directions' parameter should be an array"),e.directions=null;"true"===e.collapsed&&(e.collapsed=!0),"false"===e.collapsed&&(e.collapsed=!1)},t.prototype._initTransport=function(){this._currentTransport="Voiture";var e=this.options.graphs;e&&0!==e.length||(this.options.graphs=["Voiture","Pieton"]),Array.isArray(e)&&e.length&&("Voiture"!==e[0]&&"Pieton"!==e[0]||(this._currentTransport=e[0]));var t=this.options.isocurveOptions;t.graph&&(this._currentTransport=t.graph)},t.prototype._initComputation=function(){this._currentComputation="time";var e=this.options.methods;e&&0!==e.length||(this.options.methods=["time","distance"]),Array.isArray(e)&&e.length&&("time"!==e[0]&&"distance"!==e[0]||(this._currentComputation=e[0]));var t=this.options.isocurveOptions;t.method&&(this._currentComputation=t.method),t.time&&(this._currentComputation="time"),t.distance&&(this._currentComputation="distance")},t.prototype._initDirection=function(){this._currentDirection="departure";var e=this.options.directions;e&&0!==e.length||(this.options.directions=["departure","arrival"]),Array.isArray(e)&&e.length&&("departure"!==e[0]&&"arrival"!==e[0]||(this._currentDirection=e[0]));var t=this.options.isocurveOptions;t.reverse||(this._currentDirection="departure"),!0===t.reverse&&(this._currentDirection="arrival",this.options.directions=["arrival","departure"])},t.prototype._initExclusions=function(){this._currentExclusions=[];var e=this.options.exclusions;if((!e||"object"===Qi(e)&&0===Object.keys(e).length)&&(this.options.exclusions={toll:!1,tunnel:!1,bridge:!1}),e&&"object"===Qi(e)&&Object.keys(e).length)for(var t in e)e.hasOwnProperty(t)&&e.k&&this._currentExclusions.push(t);var o=this.options.isocurveOptions;Array.isArray(o.exclusions)&&(this._currentExclusions=o.exclusions)},t.prototype._initContainer=function(e){var t=this,o=this._container,n=this._showIsoContainer=this._createShowIsoElement();o.appendChild(n),this.collapsed||(n.checked=!0);var r=this._pictoIsoContainer=this._createShowIsoPictoElement();o.appendChild(r);var i=this._IsoPanelContainer=this._createIsoPanelElement(),a=this._IsoPanelHeaderContainer=this._createIsoPanelHeaderElement();i.appendChild(a);var s=this._formContainer=this._createIsoPanelFormElement(),l=this._createIsoPanelFormPointElement(e);s.appendChild(l);for(var c=!1,u=!1,d=this._createIsoPanelFormTypeChoiceElement(),h=0;h<this.options.methods.length;h++)"time"===this.options.methods[h]&&(c=0===h,d.appendChild(this._createIsoPanelFormTypeChoiceChronElement(c))),"distance"===this.options.methods[h]&&(u=0===h,d.appendChild(this._createIsoPanelFormTypeChoiceDistElement(u)));s.appendChild(d),s.appendChild(this._createIsoPanelFormValueIsochronElement(c)),s.appendChild(this._createIsoPanelFormValueIsodistanceElement(u));var p=this._createIsoPanelFormModeChoiceElement();if(p.appendChild(this._createIsoPanelFormModeChoiceTransportElement(this.options.graphs)),p.appendChild(this._createIsoPanelFormModeChoiceDirectionElement(this.options.directions)),s.appendChild(p),this.options.exclusions&&"object"===Qi(this.options.exclusions)&&0!==Object.keys(this.options.exclusions).length){s.appendChild(this._createShowIsoExclusionsElement()),s.appendChild(this._createShowIsoExclusionsPictoElement());var f=this._createIsoPanelFormExclusionsElement();f.appendChild(this._createIsoPanelFormExclusionOptionsElement(this.options.exclusions)),s.appendChild(f)}var g=this._createIsoFormResetElement();s.appendChild(g);var m=this._submitContainer=this._createIsoSubmitFormElement();s.appendChild(m),i.appendChild(s);var y=this._waitingContainer=this._createIsoWaitingElement();return i.appendChild(y),o.appendChild(i),o.addEventListener&&o.addEventListener("click",(function(e){return t._hideIsoSuggestedLocations(e)})),o},t.prototype._createIsoPanelFormPointElement=function(e){this._originPoint=new Li({apiKey:this.options.apiKey||null,tag:{id:1,groupId:this._uid,markerOpts:this.options.markerOpts,label:"DÃ©part",display:!0},autocompleteOptions:this.options.autocompleteOptions||null}),this._originPoint.setMap(e);var t=this;return document.getElementById("GPlocationOriginPointerImg_1-"+this._uid).onclick=function(){t._clearGeojsonLayer();var e=t.getMap();t._originPoint._inputShowPointerContainer.checked?(t._formContainer.className="GPisochronFormMini",this.listenerKey=e.on("click",(function(){t._formContainer.className="",t.dispatchEvent("isocurve:drawend")}))):(t._formContainer.className="",Object(Ao.b)(this.listenerKey)),t.dispatchEvent("isocurve:drawstart")},document.getElementById("GPlocationOriginLabel_1-"+this._uid).onclick=function(){t._clearGeojsonLayer(),t._formContainer.className="",e.un("click",(function(){t._formContainer.className=""})),t.dispatchEvent("isocurve:drawend")},document.getElementById("GPlocationOrigin_1-"+this._uid).onclick=function(){t._clearGeojsonLayer(),t.dispatchEvent("isocurve:drawend")},this._originPoint._container},t.prototype.onIsoComputationSubmit=function(){if(this._originPoint&&this._originPoint.getCoordinate&&this._originPoint.getCoordinate()){var e,t,o=this._originPoint.getCoordinate(),n={x:o[0],y:o[1]};if($i.log("origin : ",n),"time"===this._currentComputation.toLowerCase()){var r=document.getElementById("GPisochronValueChronInput1-"+this._uid),i=parseInt(r.value,10);isNaN&&isNaN(i)&&(i=0);var a=document.getElementById("GPisochronValueChronInput2-"+this._uid),s=parseInt(a.value,10);isNaN&&isNaN(s)&&(s=0),e=3600*i+60*s,$i.log("time : "+e)}if("distance"===this._currentComputation.toLowerCase()){var l=document.getElementById("GPisochronValueDistInput-"+this._uid);t=1e3*parseFloat(l.value),$i.log("distance : "+t)}if(e||t){var c=this.options.isocurveOptions||{},u=c.protocol||"XHR",d=c.timeOut||0;"JSONP"===u&&0===d&&(d=15e3);var h=!(null===c.onFailure||"function"!=typeof c.onFailure),p=!(null===c.onSuccess||"function"!=typeof c.onSuccess),f=this,g={position:n,graph:c.graph||this._currentTransport,exclusions:c.exclusions||this._currentExclusions,method:c.method||this._currentComputation,smoothing:c.smoothing||!0,timeOut:d,protocol:u,resource:c.resource,onSuccess:function(e){$i.log(e),e&&f._drawIsoResults(e),p&&c.onSuccess.call(f,e)},onFailure:function(e){f._hideWaitingContainer(),$i.log(e.message),h&&c.onFailure.call(f,e)}};("arrival"===this._currentDirection.toLowerCase()||c.reverse)&&(g.reverse=!0),e&&(g.time=e),t&&(g.distance=t),this._requestIsoCurve(g)}else $i.log("[Isocurve] Missing time or distance parameter to submit isocurve request")}else $i.log("[Isocurve] Missing position parameter to submit isocurve request")},t.prototype.onShowIsoPanelClick=function(){var e=this.getMap();Wr.unset(e),this.collapsed=this._showIsoContainer.checked,this.dispatchEvent("change:collapsed")},t.prototype.onIsoTypeChoiceChange=function(e){var t=e.target.value;t&&("isodistance"===t&&(this._currentComputation="distance"),"isochron"===t&&(this._currentComputation="time"))},t.prototype.onIsoModeTransportChange=function(e){var t=e.target.value;t&&(this._currentTransport=t)},t.prototype.onIsoModeDirectionChange=function(e){var t=e.target.value;t&&("arrival"===t.toLowerCase()?this._originPoint._inputLabelContainer.innerHTML="ArrivÃ©e":this._originPoint._inputLabelContainer.innerHTML="DÃ©part",this._currentDirection=t)},t.prototype.onIsoExclusionsChange=function(e){var t=e.target.value,o=e.target.checked;if(t){for(var n=!1,r=null,i=0;i<this._currentExclusions.length;i++)oa(this._currentExclusions[i],t.toLowerCase())&&(r=i,n=!0);n||o||this._currentExclusions.push(t.toLowerCase()),n&&o&&(this._currentExclusions[r]=null)}},t.prototype.onIsoResetClick=function(){this._clear()},t.prototype._requestIsoCurve=function(e){!e||"object"===Qi(e)&&0===Object.keys(e).length||e.position&&("boolean"!=typeof e.ssl&&("boolean"==typeof this.options.ssl?e.ssl=this.options.ssl:e.ssl=!0),$i.log(e),this._clearGeojsonLayer(),this._displayWaitingContainer(),gt.Services.isoCurve(e))},t.prototype._drawIsoResults=function(e){var t=this;if(this._currentIsoResults=e,this._hideWaitingContainer(),e.geometry){var o=this.getMap();this._geojsonObject={type:"FeatureCollection",crs:{type:"name",properties:{name:"EPSG:4326"}},features:[{type:"Feature",crs:{type:"name",properties:{name:"EPSG:4326"}},geometry:e.geometry}]},this._geojsonObject.features.push({type:"Feature",geometry:{type:"Point",coordinates:this._originPoint.getCoordinate()},properties:{description:"Point d'origine","marker-symbol":this.options.markerOpts.url}});var n,r=new Qt({defaultDataProjection:"EPSG:4326",defaultStyle:this._defaultFeatureStyle}),i=o.getView().getProjection().getCode(),a=r.readFeatures(this._geojsonObject,{dataProjection:"EPSG:4326",featureProjection:i});if(this._geojsonLayer=new vi.a({source:new d.b({features:a}),style:this._defaultFeatureStyle,opacity:.9}),"Pieton"===this._currentTransport?(n="piÃ©ton",this._geojsonLayer.gpResultLayerId="Pieton$GEOPORTAIL:GPP:Isocurve"):(n="voiture",this._geojsonLayer.gpResultLayerId="Voiture$GEOPORTAIL:GPP:Isocurve"),o.addLayer(this._geojsonLayer),this.dispatchEvent({type:"isocurve:compute"}),a[0]&&a[0].getGeometry()&&a[0].getGeometry().getExtent()){var s=a[0].getGeometry().getExtent();o.getView().fit(s,o.getSize())}var l="time"===this._currentComputation?"Isochrone":"Isodistance";o.getControls().forEach((function(e){if(e instanceof Dr){var o=t._geojsonLayer.gpLayerId;e._layers[o].title===o&&e.addLayer(t._geojsonLayer,{title:t.options.layerDescription.title+" ("+l+"/"+n+")",description:t.options.layerDescription.description})}}))}},t.prototype._clear=function(){this._clearIsoInputs(),this._originPoint.clear(),this._clearGeojsonLayer(),this._currentIsoResults=null},t.prototype._clearIsoInputs=function(){var e=document.getElementById("GPisochronValueChronInput1-"+this._uid);e&&(e.value="0");var t=document.getElementById("GPisochronValueChronInput2-"+this._uid);t&&(t.value="0");var o,n,r=document.getElementById("GPisochronValueDistInput-"+this._uid);r&&(r.value="0"),this._initTransport(),this._initComputation(),this._initDirection(),this._initExclusions(),"Pieton"===this._currentTransport?(o=document.getElementById("GPisochronTransportPedestrian-"+this._uid))&&(o.checked="true"):(o=document.getElementById("GPisochronTransportCar-"+this._uid))&&(o.checked="true"),"distance"===this._currentComputation.toLowerCase()?((n=document.getElementById("GPisochronChoiceAltDist-"+this._uid))&&(n.checked="true"),document.getElementById("GPisochronValueDist-"+this._uid)&&(document.getElementById("GPisochronValueDist-"+this._uid).className="GPflexInput"),document.getElementById("GPisochronValueChron-"+this._uid)&&(document.getElementById("GPisochronValueChron-"+this._uid).className="GPisochronValueHidden")):((n=document.getElementById("GPisochronChoiceAltChron-"+this._uid))&&(n.checked="true"),document.getElementById("GPisochronValueChron-"+this._uid)&&(document.getElementById("GPisochronValueChron-"+this._uid).className="GPflexInput"),document.getElementById("GPisochronValueDist-"+this._uid)&&(document.getElementById("GPisochronValueDist-"+this._uid).className="GPisochronValueHidden"));var i=document.getElementById("GPisochronDirectionSelect-"+this._uid);i&&(i.value=this._currentDirection),"arrival"===this._currentDirection?this._originPoint._inputLabelContainer.innerHTML="ArrivÃ©e":this._originPoint._inputLabelContainer.innerHTML="DÃ©part";var a=document.getElementById("GPisoExclusionsToll-"+this._uid);a&&(-1!==this._currentExclusions.indexOf("toll")?a.checked=!1:a.checked=!0);var s=document.getElementById("GPisoExclusionsTunnel-"+this._uid);s&&(-1!==this._currentExclusions.indexOf("tunnel")?s.checked=!1:s.checked=!0);var l=document.getElementById("GPisoExclusionsBridge-"+this._uid);l&&(-1!==this._currentExclusions.indexOf("bridge")?l.checked=!1:l.checked=!0)},t.prototype._clearGeojsonLayer=function(){var e=this.getMap();this._geojsonLayer&&(e.removeLayer(this._geojsonLayer),this._geojsonLayer=null),this._geojsonObject=null},t.prototype._hideIsoSuggestedLocations=function(e){e.target&&e.target.id&&-1!==e.target.id.indexOf("GPlocationOrigin_")||this._originPoint._hideSuggestedLocation()},t.prototype._displayWaitingContainer=function(){this._waitingContainer.className="GPisochronCalcWaitingContainerVisible",this._waiting=!0;var e=this.options.isocurveOptions;if(e&&e.timeOut){this._timer&&(clearTimeout(this._timer),this._timer=null);var t=this;this._timer=setTimeout((function(){!0===t._waiting?t._hideWaitingContainer():t._timer&&clearTimeout(t._timer)}),16e3)}},t.prototype._hideWaitingContainer=function(){if(this._waiting){this._waitingContainer.className="GPisochronCalcWaitingContainerHidden",this._waiting=!1;var e=this.options.isocurveOptions;e&&e.timeOut&&(clearTimeout(this._timer),this._timer=null)}},t}(Oo.a),ta=ea;window.ol&&window.ol.control&&(window.ol.control.Isocurve=ea);var oa=function e(t,o){if(t===o)return!0;if("object"===Qi(t)&&null!=t&&"object"===Qi(o)&&null!=o){if(Object.keys(t).length!==Object.keys(o).length)return!1;for(var n in t){if(!o.hasOwnProperty(n))return!1;if(!e(t[n],o[n]))return!1}return!0}return!1},na={_addUID:function(e){return this._uid?e+"-"+this._uid:e},_createMainContainerElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPreverseGeocoding"),e.className="GPwidget",e},_createShowReverseGeocodingElement:function(){var e=document.createElement("input");return e.id=this._addUID("GPshowReverseGeocoding"),e.type="checkbox",e},_createShowReverseGeocodingPictoElement:function(){var e=this,t=document.createElement("label");t.id=this._addUID("GPshowReverseGeocodingPicto"),t.className="GPshowAdvancedToolPicto",t.htmlFor=this._addUID("GPshowReverseGeocoding"),t.title="Ouvrir la recherche inverse",t.addEventListener?t.addEventListener("click",(function(){e.onShowReverseGeocodingClick()})):t.attachEvent&&t.attachEvent("onclick",(function(){e.onShowReverseGeocodingClick()}));var o=document.createElement("span");return o.id=this._addUID("GPshowReverseGeocodingOpen"),o.className="GPshowAdvancedToolOpen",t.appendChild(o),t},_createReverseGeocodingWaitingElement:function(){var e=document.createElement("div");e.id=this._addUID("GPreverseGeocodingCalcWaitingContainer"),e.className="GPreverseGeocodingCalcWaitingContainerHidden";var t=document.createElement("p");return t.className="GPreverseGeocodingCalcWaiting",t.innerHTML="Recherche en cours...",e.appendChild(t),e},_createReverseGeocodingResultsPanelElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPreverseGeocodingResultsPanel"),e.className="GPpanel GPreverseGeocodingComponentHidden",e},_createReverseGeocodingResultsListElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPreverseGeocodingResultsList"),e},_createReverseGeocodingResultElement:function(e,t){var o=this,n=document.getElementById(this._addUID("GPreverseGeocodingResultsList")),r=document.createElement("div");r.id=this._addUID("ReverseGeocodedLocation_"+t),r.className="GPautoCompleteProposal",r.innerHTML=e,r.title=e,r.addEventListener?(r.addEventListener("mouseover",(function(e){o.onReverseGeocodingResultMouseOver(e)})),r.addEventListener("mouseout",(function(e){o.onReverseGeocodingResultMouseOut(e)})),r.addEventListener("click",(function(e){"function"==typeof o.onReverseGeocodingResultClick&&o.onReverseGeocodingResultClick(e)}))):r.attachEvent&&(r.attachEvent("onmouseover",(function(e){o.onReverseGeocodingResultMouseOver(e)})),r.attachEvent("onmouseout",(function(e){o.onReverseGeocodingResultMouseOut(e)})),r.attachEvent("onclick",(function(e){"function"==typeof o.onReverseGeocodingResultClick&&o.onReverseGeocodingResultClick(e)}))),n.appendChild(r)},_createReverseGeocodingPanelElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPreverseGeocodingPanel"),e.className="GPpanel",e},_createReverseGeocodingPanelHeaderElement:function(){var e=document.createElement("div");return e.className="GPpanelHeader",e},_createReverseGeocodingPanelReturnPictoElement:function(){var e=this,t=document.createElement("div");return t.id=this._addUID("GPreverseGeocodingReturnPicto"),t.title="Nouvelle recherche",t.className="GPreverseGeocodingReturnPictoHidden",t.addEventListener?t.addEventListener("click",(function(t){document.getElementById(e._addUID("GPreverseGeocodingResultsPanel")).className="GProuteComponentHidden",document.getElementById(e._addUID("GPreverseGeocodingForm")).className="",document.getElementById(e._addUID("GPreverseGeocodingHeaderTitle")).innerHTML="Recherche inverse",document.getElementById(e._addUID("GPreverseGeocodingReturnPicto")).className="GPreverseGeocodingReturnPictoHidden",e.onGPreverseGeocodingReturnPictoClick(t)})):t.attachEvent&&t.attachEvent("onclick",(function(t){document.getElementById(e._addUID("GPreverseGeocodingResultsPanel")).className="GProuteComponentHidden",document.getElementById(e._addUID("GPreverseGeocodingForm")).className="",document.getElementById(e._addUID("GPreverseGeocodingHeaderTitle")).innerHTML="Recherche inverse",document.getElementById(e._addUID("GPreverseGeocodingReturnPicto")).className="GPreverseGeocodingReturnPictoHidden",e.onGPreverseGeocodingReturnPictoClick(t)})),t},_createReverseGeocodingPanelTitleElement:function(){var e=document.createElement("div");return e.className="GPpanelTitle",e.id=this._addUID("GPreverseGeocodingHeaderTitle"),e.innerHTML="Recherche inverse",e},_createReverseGeocodingPanelCloseElement:function(){var e=this,t=document.createElement("div");return t.id=this._addUID("GPreverseGeocodingPanelClose"),t.className="GPpanelClose",t.title="Fermer le panneau",t.addEventListener?t.addEventListener("click",(function(){document.getElementById(e._addUID("GPshowReverseGeocodingPicto")).click()}),!1):t.attachEvent&&t.attachEvent("onclick",(function(){document.getElementById(e._addUID("GPshowReverseGeocodingPicto")).click()})),t},_createReverseGeocodingPanelFormElement:function(){var e=this,t=document.createElement("form");return t.id=this._addUID("GPreverseGeocodingForm"),t.addEventListener?t.addEventListener("submit",(function(t){t.preventDefault(),e.onReverseGeocodingSubmit()})):t.attachEvent&&t.attachEvent("onsubmit",(function(t){t.preventDefault(),e.onReverseGeocodingSubmit()})),t},_createReverseGeocodingFormModeChoiceGeocodingTypeElement:function(e){var t=this,o=document.createElement("div");o.className="GPflexInput";var n=document.createElement("label");n.className="GPreverseGeocodingCodeLabel",n.innerHTML="Recherche par",n.title="Recherche par",o.appendChild(n);var r=document.createElement("select");r.className="GPreverseGeocodingCode",r.addEventListener?r.addEventListener("change",(function(e){t.onReverseGeocodingTypeChange(e)})):r.attachEvent&&r.attachEvent("onchange",(function(e){t.onReverseGeocodingTypeChange(e)})),e&&Array.isArray(e)||(e=["StreetAddress","PositionOfInterest","CadastralParcel"]);for(var i=0;i<e.length;i++)switch(e[i]){case"PositionOfInterest":var a=document.createElement("option");a.value="PositionOfInterest",a.text="Lieux/toponymes",r.appendChild(a);break;case"StreetAddress":var s=document.createElement("option");s.value="StreetAddress",s.text="Adresses",r.appendChild(s);break;case"CadastralParcel":var l=document.createElement("option");l.value="CadastralParcel",l.text="Parcelles cadastrales",r.appendChild(l)}return o.appendChild(r),o},_createReverseGeocodingFormModeChoiceGeocodingDelimitationElement:function(e){var t=this,o=document.createElement("div");o.className="GPflexInput";var n=document.createElement("label");n.className="GPreverseGeocodingCodeLabel",n.innerHTML="DÃ©limitation",n.title="DÃ©limitation",o.appendChild(n);var r=document.createElement("select");r.className="GPreverseGeocodingCode",r.addEventListener?r.addEventListener("change",(function(e){t.onReverseGeocodingDelimitationChange(e)})):r.attachEvent&&r.attachEvent("onchange",(function(e){t.onReverseGeocodingDelimitationChange(e)})),e&&Array.isArray(e)||(e=["Point","Circle","Extent"]);for(var i=0;i<e.length;i++)switch(e[i].toLowerCase()){case"point":var a=document.createElement("option");a.value="point",a.text="Pointer un lieu",r.appendChild(a);break;case"circle":var s=document.createElement("option");s.value="circle",s.text="Dessiner un cercle",r.appendChild(s);break;case"extent":var l=document.createElement("option");l.value="extent",l.text="Dessiner une emprise",r.appendChild(l)}return o.appendChild(r),o},_createReverseGeocodingSubmitFormElement:function(){var e=document.createElement("input");return e.id=this._addUID("GPreverseGeocodingSubmit"),e.className="GPinputSubmit",e.type="submit",e.value="Rechercher",e}},ra=mt.getLogger("reversegeocoding"),ia=function(e){function t(o){if(o=o||{},!(this instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this.initialize(o),this._container=this._initContainer(),this._containerElement=null,o.element&&o.element.appendChild&&(o.element.appendChild(this._container),this._containerElement=o.element),e.call(this,{element:this._containerElement||this._container,target:o.target,render:o.render})}return e&&(t.__proto__=e),t.prototype=Object.create(e.prototype,{}),Bt.assign(t.prototype,na),t.prototype.constructor=t,t.prototype.getCollapsed=function(){return this.collapsed},t.prototype.setCollapsed=function(e){void 0!==e?e&&this.collapsed||!e&&!this.collapsed||(e?document.getElementById("GPreverseGeocodingPanelClose-"+this._uid).click():document.getElementById("GPshowReverseGeocoding-"+this._uid).click(),this.collapsed=e):ra.log("[ERROR] ReverseGeocode:setCollapsed - missing collapsed parameter")},t.prototype.setMap=function(t){if(t)this._activateMapInteraction(t),this.draggable&&ei.dragElement(this._panelContainer,this._panelHeaderContainer,t.getTargetElement());else{var o=this.getMap();this._clearResults(),this._clearInputFeatures(),this._removeMapInteraction(o),null!=this._inputFeaturesLayer&&(o.removeLayer(this._inputFeaturesLayer),this._inputFeaturesLayer=null,this._inputFeaturesSources=null,this._inputFeatures=null)}e.prototype.setMap.call(this,t)},t.prototype.getData=function(){return this._reverseGeocodingLocations},t.prototype.initialize=function(e){this._checkInputOptions(e),this.options={collapsed:!0,draggable:!1,resources:["StreetAddress","PositionOfInterest","CadastralParcel"],delimitations:["Point","Circle","Extent"],reverseGeocodeOptions:{},layerDescription:{title:"Saisie (recherche inverse)",description:"Couche de saisie d'une zone de recherche pour la recherche inverse"}},Bt.assign(this.options,e),this.collapsed=this.options.collapsed,this.draggable=this.options.draggable,this._uid=So.generate(),this._currentGeocodingType=null,this._initGeocodingType(),this._currentGeocodingDelimitation=null,this._initGeocodingDelimitation(),this._showReverseGeocodingInput=null,this._panelContainer=null,this._panelHeaderContainer=null,this._panelTitleContainer=null,this._returnPictoContainer=null,this._formContainer=null,this._resultsContainer=null,this._resultsListContainer=null,this._waitingContainer=null,this._inputFeatures=null,this._inputFeaturesSource=null,this._inputFeaturesLayer=null,this._mapInteraction=null,this._requestOptions=null,this._requestGeom=null,this._waiting=!1,this._timer=null,this._reverseGeocodingLocations=[],this._reverseGeocodingLocationsMarkers=[],this._resultsDefaultStyle=new It.c({image:new Et.a({src:Pt.lightOrange,anchor:[.5,1]})}),this._resultsSelectedStyle=new It.c({image:new Et.a({src:Pt.red,anchor:[.5,1]})}),this._resultsHoverInteraction=null,this._resultsSelectInteraction=null,this._popupContent=null,this._popupDiv=this._initPopupDiv(),this._popupOverlay=null},t.prototype._checkInputOptions=function(e){var t,o;if(e.resources){var n=e.resources;if(Array.isArray(n)){var r=["StreetAddress","PositionOfInterest","CadastralParcel"],i=[];for(t=0;t<n.length;t++)-1===r.indexOf(n[t])&&(i.push(t),ra.log("[ReverseGeocode] options.resources : "+n[t]+" is not a resource for reverse geocode"));if(0!==i.length)for(o=0;o<i.length;o++)n.splice(i[o],1)}else ra.log("[ReverseGeocode] 'options.resources' parameter should be an array"),n=null}if(e.delimitations){var a=e.delimitations;if(Array.isArray(a)){var s=["Circle","Point","Extent"],l=[];for(t=0;t<a.length;t++)-1===s.indexOf(a[t])&&(l.push(t),ra.log("[ReverseGeocode] options.delimitations : "+a[t]+" is not a delimitation for reverse geocode"));if(0!==l.length)for(o=0;o<l.length;o++)a.splice(l[o],1)}else ra.log("[ReverseGeocode] 'options.delimitations' parameter should be an array"),a=null}},t.prototype._initGeocodingType=function(){this._currentGeocodingType="StreetAddress";var e=this.options.resources;e&&0!==e.length||(this.options.resources=["StreetAddress","PositionOfInterest","CadastralParcel"]),Array.isArray(e)&&e.length&&("StreetAddress"!==e[0]&&"PositionOfInterest"!==e[0]&&"CadastralParcel"!==e[0]||(this._currentGeocodingType=e[0]));var t=this.options.reverseGeocodeOptions;t.filterOptions&&Array.isArray(t.filterOptions.type)&&0!==t.filterOptions.type.length&&(this._currentGeocodingType=t.filterOptions.type[0])},t.prototype._initGeocodingDelimitation=function(){this._currentGeocodingDelimitation="Point";var e=this.options.delimitations;if(e&&0!==e.length||(this.options.delimitations=["Point","Circle","Extent"]),Array.isArray(e)&&e.length){var t=e[0].toLowerCase();"point"!==t&&"circle"!==t&&"extent"!==t||(this._currentGeocodingDelimitation=e[0])}},t.prototype._initPopupDiv=function(){var e=this,t=document.createElement("div");t.className="gp-feature-info-div";var o=document.createElement("input");return o.type="button",o.className="gp-styling-button closer",o.onclick=function(){return null!=e._popupOverlay&&e._popupOverlay.setPosition(void 0),!1},this._popupContent=document.createElement("div"),this._popupContent.className="gp-features-content-div",t.appendChild(this._popupContent),t.appendChild(o),t},t.prototype._initContainer=function(){var e=this._createMainContainerElement(),t=this._showReverseGeocodingInput=this._createShowReverseGeocodingElement();e.appendChild(t),this.collapsed||(t.checked=!0);var o=this._createShowReverseGeocodingPictoElement();e.appendChild(o);var n=this._panelContainer=this._createReverseGeocodingPanelElement(),r=this._panelHeaderContainer=this._createReverseGeocodingPanelHeaderElement(),i=this._returnPictoContainer=this._createReverseGeocodingPanelReturnPictoElement();r.appendChild(i);var a=this._panelTitleContainer=this._createReverseGeocodingPanelTitleElement();r.appendChild(a);var s=this._createReverseGeocodingPanelCloseElement();r.appendChild(s),n.appendChild(r);var l=this._formContainer=this._createReverseGeocodingPanelFormElement();l.appendChild(this._createReverseGeocodingFormModeChoiceGeocodingTypeElement(this.options.resources)),l.appendChild(this._createReverseGeocodingFormModeChoiceGeocodingDelimitationElement(this.options.delimitations));var c=this._createReverseGeocodingSubmitFormElement();l.appendChild(c),n.appendChild(l);var u=this._waitingContainer=this._createReverseGeocodingWaitingElement();n.appendChild(u);var d=this._resultsContainer=this._createReverseGeocodingResultsPanelElement(),h=this._resultsListContainer=this._createReverseGeocodingResultsListElement();return d.appendChild(h),n.appendChild(d),e.appendChild(n),ra.log(e),e},t.prototype._activateMapInteraction=function(e){var t=this;if(!this.collapsed){switch(null==this._inputFeaturesLayer&&(this._inputFeatures=new yi.b,this._inputFeaturesSource=new d.b({features:this._inputFeatures}),this._inputFeaturesLayer=new vi.a({source:this._inputFeaturesSource,style:new It.c({fill:new St.a({color:"rgba(0, 183, 152, 0.3)"}),stroke:new Ot.a({color:"rgba(0, 183, 152, 0.8)",width:3}),image:new Et.a({src:Pt.turquoiseBlue,anchor:[.5,1]})})}),this._inputFeaturesLayer.gpResultLayerId="reverseGeocoding",e.addLayer(this._inputFeaturesLayer)),this._currentGeocodingDelimitation.toLowerCase()){case"point":this._activatePointInteraction(e);break;case"circle":this._activateCircleInteraction(e);break;case"extent":this._activateBoxInteraction(e)}e.getControls().forEach((function(e){if(e instanceof Dr){var o=t._inputFeaturesLayer.gpLayerId;e._layers[o].title===o&&(e.addLayer(t._inputFeaturesLayer,{title:t.options.layerDescription.title,description:t.options.layerDescription.description}),e.setRemovable(t._inputFeaturesLayer,!1))}}))}},t.prototype._activatePointInteraction=function(e){var t=this;this._mapInteraction=new y.d({style:new It.c({image:new wt.a({radius:0,fill:new St.a({color:"rgba(0, 183, 152, 0.8)"})})}),type:"Point",source:this._inputFeaturesSource}),this._mapInteraction.on("drawstart",(function(e){ra.log("on drawstart ",e),t._inputFeatures.clear(),t._onDrawStart(e,"point")})),this._mapInteraction.on("drawend",(function(e){ra.log("on drawend",e),e.feature&&e.feature.getGeometry&&(t._requestGeom={type:"Point",coordinates:[t._requestPosition.lon,t._requestPosition.lat]})})),e.addInteraction(this._mapInteraction),this._setCursor("crosshair",e)},t.prototype._activateCircleInteraction=function(e){var t=this;this._mapInteraction=new y.d({style:new It.c({fill:new St.a({color:"rgba(0, 183, 152, 0.3)"}),stroke:new Ot.a({color:"rgba(0, 183, 152, 0.8)",width:3}),image:new wt.a({radius:4,fill:new St.a({color:"rgba(0, 183, 152, 0.8)"})})}),type:"Circle",source:this._inputFeaturesSource}),this._mapInteraction.on("drawstart",(function(e){ra.log("on drawstart ",e),t._inputFeatures.clear(),t._onDrawStart(e,"circle")})),this._mapInteraction.on("drawend",(function(e){if(ra.log("on drawend",e),e.feature&&e.feature.getGeometry){var o=e.feature.getGeometry().getRadius();t._requestGeom={},t._requestGeom.type="Circle",t._requestGeom.radius=o,t._requestPosition&&(t._requestGeom.coordinates=[t._requestPosition.lon,t._requestPosition.lat]),ra.log("circle radius : ",o)}})),e.addInteraction(this._mapInteraction)},t.prototype._activateBoxInteraction=function(e){var t=this;this._mapInteraction=new y.d({style:new It.c({fill:new St.a({color:"rgba(0, 183, 152, 0.3)"}),stroke:new Ot.a({color:"rgba(0, 183, 152, 0.8)",width:3}),image:new wt.a({radius:4,fill:new St.a({color:"rgba(0, 183, 152, 0.8)"})})}),type:"LineString",source:this._inputFeaturesSource,maxPoints:2,geometryFunction:function(e,t){t||(t=new Mt.b([]));var o=e[0],n=e[1];return t.setCoordinates([[o,[o[0],n[1]],n,[n[0],o[1]],o]]),t}}),this._mapInteraction.on("drawstart",(function(e){ra.log("on drawstart",e),t._inputFeatures.clear()})),this._mapInteraction.on("drawend",(function(e){ra.log("on drawend",e),t._onBoxDrawEnd(e)})),e.addInteraction(this._mapInteraction)},t.prototype._removeMapInteraction=function(e){null!=this._mapInteraction&&(e.removeInteraction(this._mapInteraction),this._mapInteraction=null),this._setCursor()},t.prototype._onDrawStart=function(e,t){var o;if(e.feature&&e.feature.getGeometry){var n=e.feature.getGeometry();"point"===t&&(o=n.getCoordinates()),"circle"===t&&(o=n.getCenter())}if(o){var r;if(this.options.reverseGeocodeOptions&&this.options.reverseGeocodeOptions.srs)r=this.options.reverseGeocodeOptions.srs;else{var i=this.getMap();if(!i||!i.getView())return;r=i.getView().getProjection()}var a=Object(s.E)(o,r,"EPSG:4326");this._requestPosition={lon:a[0],lat:a[1]},ra.log("position coordinates : ",this._requestPosition)}},t.prototype._onBoxDrawEnd=function(e){if(e.feature&&e.feature.getGeometry){var t,o=e.feature.getGeometry().getCoordinates()[0],n=o[0],r=o[2];if(this.options.reverseGeocodeOptions&&this.options.reverseGeocodeOptions.srs)t=this.options.reverseGeocodeOptions.srs;else{var i=this.getMap();if(!i||!i.getView())return;t=i.getView().getProjection()}var a=Object(s.E)(n,t,"EPSG:4326"),l=Object(s.E)(r,t,"EPSG:4326"),c={};a[0]<l[0]?(c.left=a[0],c.right=l[0]):(c.left=l[0],c.right=a[0]),a[1]<l[1]?(c.bottom=a[1],c.top=l[1]):(c.bottom=l[1],c.top=a[1]),this._requestGeom={type:"Polygon",coordinates:[[[c.left,c.top],[c.left,c.bottom],[c.right,c.bottom],[c.right,c.top],[c.left,c.top]]]},ra.log("searchGeometry filter : ",this._requestGeom)}},t.prototype._setCursor=function(e,t){if(t=t||this.getMap()){var o=t.getTargetElement();o.style.cursor=e||null}},t.prototype._reverseGeocodingRequest=function(){var e=this.getMap();this._requestOptions=this._getReverseGeocodingRequestOptions(),this._removeMapInteraction(e),this._displayWaitingContainer(),gt.Services.reverseGeocode(this._requestOptions)},t.prototype._getReverseGeocodingRequestOptions=function(){var e=this.getMap(),t=this.options.reverseGeocodeOptions,o=this;"boolean"!=typeof this.options.ssl&&(this.options.ssl=!0);var n=!(null===t.onFailure||"function"!=typeof t.onFailure),r=!(null===t.onSuccess||"function"!=typeof t.onSuccess),i={apiKey:t.apiKey||this.options.apiKey,ssl:this.options.ssl,position:this._requestPosition,filterOptions:{type:[this._currentGeocodingType]},srs:"CRS:84",returnFreeForm:!1,maximumResponses:t.maximumResponses||18,timeOut:t.timeOut||3e4,onSuccess:function(e){e.locations&&(ra.log("reverseGeocode results : ",e.locations),o._displayGeocodedLocations(e.locations)),r&&t.onSuccess.call(o,e.locations)},onFailure:function(r){o._hideWaitingContainer(),o._clearResults(),o._clearInputFeatures(),o._activateMapInteraction(e),ra.log(r.message),n&&t.onFailure.call(o,r)}};return"circle"===this._requestGeom.type.toLowerCase()?(this._requestGeom.radius>500&&(ra.log("INFO : initial circle radius ("+this._requestGeom.radius+") limited to 1000m."),this._requestGeom.radius=500),i.searchGeometry=this._requestGeom):"polygon"===this._requestGeom.type.toLowerCase()?i.searchGeometry=this._requestGeom:"point"===this._requestGeom.type.toLowerCase()&&("StreetAddress"===this._currentGeocodingType?(i.searchGeometry={type:"Circle",radius:50,coordinates:this._requestGeom.coordinates},i.maximumResponses=1):i.searchGeometry=this._requestGeom),ra.log("reverseGeocode request options : ",i),i},t.prototype._displayGeocodedLocations=function(e){this._clearResults(),this._reverseGeocodingLocations=e,this.dispatchEvent({type:"reversegeocode:compute"}),this._formContainer.className="GPreverseGeocodingComponentHidden",this._hideWaitingContainer(),this._panelTitleContainer.innerHTML="RÃ©sultats de la recherche",this._returnPictoContainer.className="",this._resultsContainer.className="GPpanel",this._fillGeocodedLocationListContainer(e),this._displayGeocodedLocationsOnMap(e)},t.prototype._fillGeocodedLocationListContainer=function(e){for(var t=0;t<e.length;t++){var o=e[t];ra.log(o);var n=this._fillGeocodedLocationDescription(o);0!==n.length&&this._createReverseGeocodingResultElement(n,t)}},t.prototype._fillGeocodedLocationDescription=function(e){if(e&&e.placeAttributes){var t=e.placeAttributes,o="";switch(e.type){case"StreetAddress":t.street&&(o+=t.housenumber?t.housenumber+" ":"",o+=t.street+", "),o+=t.postcode+" "+t.city;break;case"PositionOfInterest":o+=t.toponym,1===t.postcode.length&&(o+=", "+t.postcode[0]),o+=" ("+t.category.join(",")+")";break;case"CadastralParcel":o+=t.id,o+=t.city?" ("+t.city+")":"";break;default:o+=t.city?t.city:""}return o}},t.prototype._displayGeocodedLocationsOnMap=function(e){var t=this;if(0!==this._reverseGeocodingLocations.length){var o=this.getMap();this._createResultsLayer();for(var n=0;n<e.length;n++)this._addResultFeature(e[n],n);if(this._resultsFeatures.getLength()>1){if(this._resultsFeaturesSource&&this._resultsFeaturesSource.getExtent){var r=this._resultsFeaturesSource.getExtent();o.getView().fit(r,o.getSize())}}else{var i=this._resultsFeatures.item(0).getGeometry().getCoordinates();o.getView().setCenter(i),o.getView().setZoom(17)}this._resultsHoverInteraction=new g.b({condition:Ci.o,layers:[this._resultsFeaturesLayer]}),this._resultsHoverInteraction.on("select",(function(e){return t._onResultsFeatureMouseOver(e)})),o.addInteraction(this._resultsHoverInteraction),this._resultsSelectInteraction=new g.b({layers:[this._resultsFeaturesLayer]}),this._resultsSelectInteraction.on("select",(function(e){return t._onResultsFeatureSelect(e)})),o.addInteraction(this._resultsSelectInteraction);var a="";switch(this._currentGeocodingType){case"StreetAddress":a="adresses";break;case"PositionOfInterest":a="toponymes";break;case"CadastralParcel":a="parcelles cadastrales"}o.getControls().forEach((function(e){if(e instanceof Dr){var o=t._resultsFeaturesLayer.gpLayerId;e._layers[o].title===o&&(e.addLayer(t._resultsFeaturesLayer,{title:"RÃ©sultats de la recherche inverse",description:"RÃ©sultats de la recherche inverse sur les "+a}),e.setRemovable(t._resultsFeaturesLayer,!1))}}))}},t.prototype._createResultsLayer=function(){var e=this.getMap();this._resultsFeatures=new yi.b,this._resultsFeaturesSource=new d.b({features:this._resultsFeatures}),this._resultsFeaturesLayer=new vi.a({source:this._resultsFeaturesSource}),this._resultsFeaturesLayer.gpResultLayerId="reverseGeocodingResults",e.addLayer(this._resultsFeaturesLayer)},t.prototype._addResultFeature=function(e,t){var o=this.getMap(),n=[e.position.lon,e.position.lat];if(0!==n.length){var r=o.getView().getProjection().getCode();"EPSG:4326"!==r&&(n=Object(s.E)(n,"EPSG:4326",r));var i=new Tt.b({geometry:new _i.a(n)});i.setStyle(this._resultsDefaultStyle),i.setId(t),i.setProperties({location:e,popupContent:this._fillPopupContent(e)}),this._resultsFeatures.push(i)}},t.prototype._fillPopupContent=function(e){var t="<ul>",o=e.placeAttributes;for(var n in o)o.hasOwnProperty(n)&&"trueGeometry"!==n&&"extraFields"!==n&&"houseNumberInfos"!==n&&"_count"!==n&&(t+="<li>",t+='<span class="gp-attname-others-span">'+n.toUpperCase()+" : </span>",t+=o[n],t+=" </li>");return t+=" </ul>"},t.prototype._onResultsFeatureMouseOver=function(e){var t;if(0!==e.selected.length){if((t=e.selected[0]).setStyle(this._resultsSelectedStyle),null!=t.getId()){var o=document.getElementById("ReverseGeocodedLocation_"+t.getId()+"-"+this._uid);o&&o.classList&&o.classList.add("GPreverseGeocodedLocationHighlight")}document.getElementById("ReverseGeocodedLocation_"+t.getId()+"-"+this._uid)}if(0!==e.deselected.length){(t=e.deselected[0]).setStyle(this._resultsDefaultStyle);var n=document.getElementById("ReverseGeocodedLocation_"+t.getId()+"-"+this._uid);n&&n.classList&&n.classList.remove("GPreverseGeocodedLocationHighlight")}},t.prototype._onResultsFeatureSelect=function(e){var t=this.getMap();if(0!==e.selected.length){var o=e.selected[0];this._popupContent.innerHTML=o.getProperties().popupContent,this._popupOverlay?this._popupOverlay.setPosition(e.mapBrowserEvent.coordinate):(this._popupOverlay=new c.a({element:this._popupDiv,positioning:"bottom-center",position:e.mapBrowserEvent.coordinate}),t.addOverlay(this._popupOverlay)),this.dispatchEvent({type:"reversegeocode:onclickresult",location:o.getProperties().location})}else null!=this._popupOverlay&&this._popupOverlay.setPosition(void 0)},t.prototype.onShowReverseGeocodingClick=function(){var e=this.getMap();Wr.unset(e),this.collapsed=this._showReverseGeocodingInput.checked,this.dispatchEvent("change:collapsed"),this._waiting||this._reverseGeocodingLocations.length||(this.collapsed?(this._clearResults(),this._clearInputFeatures(),this._removeMapInteraction(e),null!=this._inputFeaturesLayer&&(e.removeLayer(this._inputFeaturesLayer),this._inputFeaturesLayer=null,this._inputFeaturesSources=null,this._inputFeatures=null)):this._activateMapInteraction(e))},t.prototype.onReverseGeocodingTypeChange=function(e){var t=e.target.selectedIndex,o=e.target.options[t].value;o&&(ra.log(o),this._currentGeocodingType=o)},t.prototype.onReverseGeocodingDelimitationChange=function(e){var t=e.target.selectedIndex,o=e.target.options[t].value;if(o){ra.log(o),this._currentGeocodingDelimitation=o;var n=this.getMap();this._clearInputFeatures(),this._removeMapInteraction(n),this._activateMapInteraction(n)}},t.prototype.onGPreverseGeocodingReturnPictoClick=function(){this._clearResults(),this._clearInputFeatures(),this._activateMapInteraction(this.getMap())},t.prototype.onReverseGeocodingSubmit=function(){this._requestPosition?this._reverseGeocodingRequest():ra.log("missing position")},t.prototype.onReverseGeocodingResultClick=function(e){var t=e.target.id,o=t.substring(t.indexOf("_")+1),n=this._resultsFeaturesSource.getFeatureById(parseInt(o,10));this.dispatchEvent({type:"reversegeocode:onclickresult",location:n.getProperties().location})},t.prototype.onReverseGeocodingResultMouseOver=function(e){var t=e.target.id,o=t.substring(t.indexOf("_")+1);(e.target.classList&&e.target.classList.add("GPreverseGeocodedLocationHighlight"),this._resultsFeaturesSource)&&this._resultsFeaturesSource.getFeatureById(parseInt(o,10)).setStyle(this._resultsSelectedStyle)},t.prototype.onReverseGeocodingResultMouseOut=function(e){var t=e.target.id,o=t.substring(t.indexOf("_")+1);(e.target.classList&&e.target.classList.remove("GPreverseGeocodedLocationHighlight"),this._resultsFeaturesSource)&&this._resultsFeaturesSource.getFeatureById(parseInt(o,10)).setStyle(this._resultsDefaultStyle)},t.prototype._clearResults=function(){var e=this.getMap();if(this._reverseGeocodingLocations=[],this._resultsListContainer)for(;this._resultsListContainer.firstChild;)this._resultsListContainer.removeChild(this._resultsListContainer.firstChild);this._resultsFeaturesLayer&&(e.removeLayer(this._resultsFeaturesLayer),this._resultsFeaturesLayer=null),null!=this._popupOverlay&&(e.removeOverlay(this._popupOverlay),this._popupOverlay=null),null!=this._resultsSelectInteraction&&(e.removeInteraction(this._resultsSelectInteraction),this._resultsSelectInteraction=null),null!=this._resultsHoverInteraction&&(e.removeInteraction(this._resultsHoverInteraction),this._resultsHoverInteraction=null)},t.prototype._clearInputFeatures=function(){this._inputFeatures&&this._inputFeatures.clear(),this._requestGeom=null},t.prototype._displayWaitingContainer=function(){this._waitingContainer.className="GProuteCalcWaitingContainerVisible",this._waiting=!0,this._timer&&(clearTimeout(this._timer),this._timer=null);var e=this;this._timer=setTimeout((function(){!0===e._waiting?e._hideWaitingContainer():e._timer&&clearTimeout(e._timer)}),16e3)},t.prototype._hideWaitingContainer=function(){this._waiting&&(this._waitingContainer.className="GProuteCalcWaitingContainerHidden",this._waiting=!1,clearTimeout(this._timer),this._timer=null)},t}(Oo.a),aa=ia;window.ol&&window.ol.control&&(window.ol.control.ReverseGeocode=ia);var sa=o("./node_modules/ol/format/WMSCapabilities.js"),la=o("./node_modules/ol/format/WMTSCapabilities.js"),ca=o("./node_modules/eventbusjs/lib/eventbus.min.js"),ua=o.n(ca),da={onloaded:"editor:onloaded",layer:{onclickvisibility:"editor:layer:onclickvisibility",onclickclone:"editor:layer:onclickclone",onclickremove:"editor:layer:onclickremove"},legend:{onclickedition:"editor:legend:onclickedition",onchangevalue:"editor:legend:onchangevalue"},group:{oncollapse:"editor:group:oncollapse"},style:{oneditjson:"editor:style:oneditjson",scale:{onchangemin:"editor:style:scale:onchangemin",onchangemax:"editor:style:scale:onchangemax"}},filter:{oneditjson:"editor:filter:oneditjson"},themes:{onclickimage:"editor:themes:onclickimage",onclicktitle:"editor:themes:onclicktitle"},search:{onsubmit:"editor:search:onsubmit",onautocomplete:"editor:search:onautocomplete"}};function ha(e){return(ha="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pa(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fa(n.key),n)}}function fa(e){var t=function(e,t){if("object"!=ha(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!=ha(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ha(t)?t:t+""}var ga=mt.getLogger("editor-style"),ma=function(){return function(e,t,o){return t&&pa(e.prototype,t),o&&pa(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ga.trace("[constructor] Style",t),this.options=t||{target:null,position:0,tools:null,title:null,obj:null},!(this instanceof e))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this._initialize(),this._initContainer()}),[{key:"_initialize",value:function(){this.id=this.options.id||null,this.options.target,this.options.position||(this.options.position=0);var e={scale:!0,edition:!1};this.options.tools||(this.options.tools=e),Bt.mergeParams(this.options.tools,e,!1),this.options.obj||(this.options.obj={paint:{},layout:{}}),this.options.title||(this.options.title="JSON Styles :"),this.container=null,this.name={target:"GPEditorMapBoxStyleTarget",container:"GPEditorMapBoxStyleContainer",containerjson:"GPEditorMapBoxStyleJsonContainer",jsonlabel:"GPEditorMapBoxStyleJsonTitle",jsondisplay:"GPEditorMapBoxStyleJsonDisplay",containertoolsscale:"GPEditorMapBoxStyleToolsScaleContainer",scaletitle:"GPEditorMapBoxStyleScaleTitle",containertoolsminscale:"GPEditorMapBoxStyleToolsScaleMinContainer",scalelabelmin:"GPEditorMapBoxStyleScaleLabelMin",scaleinputmin:"GPEditorMapBoxStyleScaleInputMin",containertoolsmaxscale:"GPEditorMapBoxStyleToolsScaleMaxContainer",scalelabelmax:"GPEditorMapBoxStyleScaleLabelMax",scaleinputmax:"GPEditorMapBoxStyleScaleInputMax",containertoolsedit:"GPEditorMapBoxStyleToolsEditionContainer"}}},{key:"_initContainer",value:function(){var e=this,t=!1,o=JSON.parse(JSON.stringify(this.options.obj)),n={};o.paint&&(t=!0,n.paint=o.paint,0===Object.keys(o.paint).length&&ga.info("tag 'paint' is empty !")),o.layout&&(t=!0,n.layout=o.layout,o.layout.visibility&&delete n.visibility,0===Object.keys(o.layout).length&&ga.info("tag 'layout' is empty !"));var r=document.createElement("div");r.className=this.name.container;var i=null;if(t){var a=JSON.stringify(n,null,4);i=this._syntaxHighlight(a)}var s=document.createElement("div");s.className=this.name.containerjson;var l=document.createElement("label");l.className=this.name.jsonlabel,l.innerHTML=this.options.title,s.appendChild(l);var c=document.createElement("pre");c.className=this.name.jsondisplay,c.innerHTML=i,c.addEventListener?c.addEventListener("click",(function(t){e.options.tools.edition&&e.onEditJsonStyleMapBox(t)})):c.attachEvent&&c.attachEvent("onclick",(function(t){e.options.tools.edition&&e.onEditJsonStyleMapBox(t)})),s.appendChild(c),r.appendChild(s),this.options.tools.scale&&r.appendChild(this._createElementToolsScale({min:n.layout?n.layout.minzoom:0,max:n.layout?n.layout.maxzoom:21})),this.options.tools.edition&&r.appendChild(this._createElementToolsEdition()),this.container=r}},{key:"_createElementToolsScale",value:function(e){ga.trace("_createElementToolsScale");var t=this,o=this.options.obj,n=document.createElement("div");n.className=this.name.containertoolsscale;var r=document.createElement("div");r.className=this.name.containertoolsminscale;var i=document.createElement("label");i.className=this.name.scalelabelmin,i.innerHTML="min :",r.appendChild(i);var a=document.createElement("input");a.className=this.name.scaleinputmin,a.type="range",a.value=e.min||0,a.title=e.min||0,a.disabled=!1,a.min=0,a.max=21,a.data=o,a.addEventListener?a.addEventListener("change",(function(e){t.onChangeStyleScaleMinMapBox(e)})):a.appendChild&&a.appendChild("onchange",(function(e){t.onChangeStyleScaleMinMapBox(e)})),r.appendChild(a),n.appendChild(r);var s=document.createElement("div");s.className=this.name.containertoolsmaxscale;var l=document.createElement("label");l.className=this.name.scalelabelmax,l.innerHTML="max :",s.appendChild(l);var c=document.createElement("input");return c.className=this.name.scaleinputmin,c.type="range",c.value=e.max||21,c.title=e.max||21,c.disabled=!1,c.min=0,c.max=21,c.data=o,c.addEventListener?c.addEventListener("change",(function(e){t.onChangeStyleScaleMaxMapBox(e)})):c.appendChild&&c.appendChild("onchange",(function(e){t.onChangeStyleScaleMaxMapBox(e)})),s.appendChild(c),n.appendChild(s),n}},{key:"_createElementToolsEdition",value:function(){ga.warn("_createElementToolsEdition, it's not yet implemented !");var e=document.createElement("div");return e.className=this.name.containertoolsedit,e}},{key:"_syntaxHighlight",value:function(e){return(e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")).replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+-]?\d+)?)/g,(function(e){var t="gp-json-number";return/^"/.test(e)?t=/:$/.test(e)?"gp-json-key":"gp-json-string":/true|false/.test(e)?t="gp-json-boolean":/null/.test(e)&&(t="gp-json-null"),"<span class='"+t+"'>"+e+"</span>"}))}},{key:"add",value:function(){if(!this.options.target){if(!document.getElementById(this.name.target)){var e=document.createElement("div");e.id=this.name.target,(document.documentElement||document.getElementsByTagName("body")[0]||document.getElementsByTagName("head")[0]).appendChild(e)}this.options.target=document.getElementById(this.name.target)}return this.container&&this.options.target.appendChild(this.container),this}},{key:"display",value:function(e){return ga.trace("display()",e),void 0!==e&&(this.container.style.display=e?"flex":"none"),"flex"===this.container.style.display}},{key:"getContainer",value:function(){return this.container}},{key:"onEditJsonStyleMapBox",value:function(e){ga.trace("onEditJsonStyleMapBox",e),e.editorID=this.id,e.data=this.options,ua.a.dispatch(da.style.oneditjson,e)}},{key:"onChangeStyleScaleMinMapBox",value:function(e){ga.trace("onChangeStyleScaleMinMapBox",e),e.editorID=this.id,e.data=this.options,ua.a.dispatch(da.style.scale.onchangemin,e)}},{key:"onChangeStyleScaleMaxMapBox",value:function(e){ga.trace("onChangeStyleScaleMaxMapBox",e),e.editorID=this.id,e.data=this.options,ua.a.dispatch(da.style.scale.onchangemax,e)}}])}();function ya(e){return(ya="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function va(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_a(n.key),n)}}function _a(e){var t=function(e,t){if("object"!=ya(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!=ya(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ya(t)?t:t+""}var ba=mt.getLogger("editor-themes"),Aa=function(){return function(e,t,o){return t&&va(e.prototype,t),o&&va(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ba.trace("[constructor] Themes",t),this.options=t||{},!(this instanceof e))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this._initialize(),this._initContainer()}),[{key:"_initialize",value:function(){this.id=this.options.id||null,this.options.target;var e={thumbnails:!0,button:{visible:!0,type:"radio"}};this.options.tools&&0!==Object.keys(this.options.tools).length||(this.options.tools=e),Bt.mergeParams(this.options.tools,e,!1),void 0!==this.options.obj&&null!==this.options.obj&&this.options.obj||(this.options.obj={themesSummary:"",themes:[]}),this.container=null,this.name={target:"GPEditorMapBoxThemeTarget",container:"GPEditorMapBoxThemesContainer",containertheme:"GPEditorMapBoxThemeContainer",containerthemeID:"GPEditorMapBoxThemeContainer_ID_",input:"GPEditorMapBoxThemeInput",inputID:"GPEditorMapBoxThemeInput_ID_",label:"GPEditorMapBoxThemeTitle",labelID:"GPEditorMapBoxThemeTitle_ID_",image:"GPEditorMapBoxThemeImage",imageID:"GPEditorMapBoxThemeImage_ID_",message:"GPEditorMapBoxThemeMessage"}}},{key:"_initContainer",value:function(){var e=this,t=this.options.obj,o=this.id||So.generate(),n=document.createElement("div");n.className=this.name.container,n.title=t.themesSummary||"";var r=t.themes;if(r)for(var i=0;i<r.length;i++){var a=r[i],s=document.createElement("div");s.id=this.name.containerthemeID+i+"_"+o,s.className=this.name.containertheme,s.tabIndex=i;var l=a.url,c=a.selected||!1;if(l){var u=this.options.tools.button;if(u.visible){var d="checkbox"===u.type?"checkbox":"radio",h=document.createElement("input");h.type=d,h.id=this.name.inputID+i+"_"+o,h.className=this.name.input,h.name=o,h.checked=c,h.data=l,h.addEventListener?h.addEventListener("click",(function(t){e.onClickThemeTitleMapBox(t)})):h.attachEvent&&h.attachEvent("onclick",(function(t){e.onClickThemeTitleMapBox(t)})),s.appendChild(h)}if(this.options.tools.thumbnails&&a.thumbnail){var p=document.createElement("img");p.id=this.name.imageID+i+"_"+o,p.className=this.name.image,p.src=a.thumbnail,p.alt=a.thumbnail,p.title=a.description||"",p.data=l,p.addEventListener?p.addEventListener("click",(function(t){e.onClickThemeImageMapBox(t);var o=t.target.parentElement.childNodes;if(o){var n=o[0];"input"===n.tagName.toLowerCase()&&(n.checked=!n.checked)}})):p.attachEvent&&p.attachEvent("onclick",(function(t){e.onClickThemeImageMapBox(t);var o=t.target.parentElement.childNodes;if(o){var n=o[0];"input"===n.tagName.toLowerCase()&&(n.checked=!n.checked)}})),s.appendChild(p)}if(a.name){var f=document.createElement("label");f.id=this.name.labelID+i+"_"+o,this.options.tools.button.visible&&(f.htmlFor=h.id),f.className=this.name.label,f.innerHTML=a.name,f.title=a.description||"",f.data=l,this.options.tools.button.visible||(f.addEventListener?f.addEventListener("click",(function(t){e.onClickThemeTitleMapBox(t)})):f.attachEvent&&f.attachEvent("onclick",(function(t){e.onClickThemeTitleMapBox(t)}))),s.appendChild(f)}}else{var g=document.createElement("label");g.className=this.name.message,g.innerHTML="ThÃ¨me non disponible...",s.appendChild(g)}n.appendChild(s)}this.container=n}},{key:"add",value:function(){if(!this.options.target){if(!document.getElementById(this.name.target)){var e=document.createElement("div");e.id=this.name.target,(document.documentElement||document.getElementsByTagName("body")[0]||document.getElementsByTagName("head")[0]).appendChild(e)}this.options.target=document.getElementById(this.name.target)}return this.container&&this.options.target.appendChild(this.container),this}},{key:"display",value:function(e){return ba.trace("display()",e),void 0!==e&&(this.container.style.display=e?"flex":"none"),"flex"===this.container.style.display}},{key:"getContainer",value:function(){return this.container}},{key:"onClickThemeImageMapBox",value:function(e){if(ba.trace("onClickThemeImageMapBox",e),e.editorID=this.id,e.data=this.options,"checkbox"===this.options.tools.button.type)for(var t=e.target.previousSibling.id.substring(e.target.previousSibling.id.lastIndexOf("_")+1),o=document.getElementsByClassName(this.name.input),n=0;n<o.length;n++){var r=o[n];if(r.id!==e.target.previousSibling.id)r.id.substring(r.id.lastIndexOf("_")+1)===t&&(r.checked=!1)}ua.a.dispatch(da.themes.onclickimage,e)}},{key:"onClickThemeTitleMapBox",value:function(e){if(ba.trace("onClickThemeTitleMapBox",e),e.editorID=this.id,e.data=this.options,"checkbox"===this.options.tools.button.type)for(var t=e.target.id.substring(e.target.id.lastIndexOf("_")+1),o=document.getElementsByClassName(this.name.input),n=0;n<o.length;n++){var r=o[n];if(r.id!==e.target.id)r.id.substring(r.id.lastIndexOf("_")+1)===t&&(r.checked=!1)}ua.a.dispatch(da.themes.onclicktitle,e)}}])}();function Ca(e){return(Ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wa(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ea(n.key),n)}}function Ea(e){var t=function(e,t){if("object"!=Ca(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!=Ca(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ca(t)?t:t+""}var Ia=mt.getLogger("editor-filter"),Oa=function(){return function(e,t,o){return t&&wa(e.prototype,t),o&&wa(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ia.trace("[constructor] Filter",t),this.options=t||{target:null,position:0,tools:null,title:null,obj:null},!(this instanceof e))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this._initialize(),this._initContainer()}),[{key:"_initialize",value:function(){this.id=this.options.id||null,this.options.target,this.options.position||(this.options.position=0);var e={edition:!1};this.options.tools||(this.options.tools=e),Bt.mergeParams(this.options.tools,e,!1),this.options.obj||(this.options.obj={filter:[]}),this.options.title||(this.options.title="JSON Filtres :"),this.container=null,this.name={target:"GPEditorMapBoxFilterTarget",container:"GPEditorMapBoxFilterContainer",containerjson:"GPEditorMapBoxFilterJsonContainer",jsonlabel:"GPEditorMapBoxFilterTitleJson",jsondisplay:"GPEditorMapBoxFilterDisplayJson",containertoolsedit:"GPEditorMapBoxFilterToolsEditionContainer"}}},{key:"_initContainer",value:function(){var e=this,t=!1,o=JSON.parse(JSON.stringify(this.options.obj));o.filter&&(t=!0,0===o.filter.length&&Ia.info("tag 'filter' is empty !"));var n=document.createElement("div");n.className=this.name.container;var r=null;t&&(r=JSON.stringify(o.filter,null,4));var i=document.createElement("div");i.className=this.name.containerjson;var a=document.createElement("label");a.className=this.name.jsonlabel,a.innerHTML=this.options.title,i.appendChild(a);var s=document.createElement("pre");if(s.className=this.name.jsondisplay,s.innerHTML=r,s.addEventListener?s.addEventListener("click",(function(t){e.options.tools.edition&&e.onEditJsonFilterMapBox(t)})):s.attachEvent&&s.attachEvent("onclick",(function(t){e.options.tools.edition&&e.onEditJsonFilterMapBox(t)})),i.appendChild(s),n.appendChild(i),this.options.tools.edition){var l=document.createElement("div");l.className=this.name.containertoolsedit,n.appendChild(l)}this.container=n}},{key:"add",value:function(){if(!this.options.target){if(!document.getElementById(this.name.target)){var e=document.createElement("div");e.id=this.name.target,(document.documentElement||document.getElementsByTagName("body")[0]||document.getElementsByTagName("head")[0]).appendChild(e)}this.options.target=document.getElementById(this.name.target)}return this.container&&this.options.target.appendChild(this.container),this}},{key:"display",value:function(e){return Ia.trace("display()",e),void 0!==e&&(this.container.style.display=e?"flex":"none"),"flex"===this.container.style.display}},{key:"getContainer",value:function(){return this.container}},{key:"onEditJsonFilterMapBox",value:function(e){Ia.trace("onEditJsonFilterMapBox",e),e.editorID=this.id,e.data=this.options,ua.a.dispatch(da.filter.oneditjson,e)}}])}();function Sa(e){return(Sa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xa(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ja(n.key),n)}}function ja(e){var t=function(e,t){if("object"!=Sa(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!=Sa(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Sa(t)?t:t+""}var Pa=mt.getLogger("editor-legend"),Ta=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Pa.trace("[constructor] Legend",t),this.options=t||{target:null,position:0,sprites:null,obj:null},!(this instanceof e))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this._initialize(),this._initContainer()}return function(e,t,o){return t&&xa(e.prototype,t),o&&xa(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}(e,[{key:"_initialize",value:function(){this.id=this.options.id||null,this.options.target,this.options.position||(this.options.position=0),this.options.obj||(this.options.obj={title:"vide...",editable:!0,paint:{"fill-color":"#FFFFFF"}});var e=this.options.obj.editable;this.editable=void 0!==e&&e,this.legendRender={type:"fill",values:{width:1,stroke:"#FFFFFF",color:"#000000",opacity:1}},this.container=null,this.rendercontainer=null,this.toolscontainer=null,this.name={target:"GPEditorMapBoxLegendTarget",container:"GPEditorMapBoxLegendContainer",containerlegendrender:"GPEditorMapBoxLegendRenderContainer",legendrender:"GPEditorMapBoxLegendRender",legendeditable:"GPEditorMapBoxLegendEditable",legendtitle:"GPEditorMapBoxLegendTitle",containerlegendtools:"GPEditorMapBoxLegendToolsContainer"},this.labels={"line-color":"Couleur du trait","line-width":"Epaisseur du trait","line-opacity":"OpacitÃ© du trait","fill-color":"Couleur de remplissage","fill-opacity":"OpacitÃ© du remplissage"}}},{key:"_initContainer",value:function(){var e=this.options.obj,t=document.createElement("div");t.className=this.name.container;var o=Object.assign({},e.paint,e.layout),n=Object.keys(o);if(0!==n.length){for(var r={},i=!1,a=0;a<n.length;a++){var s=n[a];if(/fill-/.test(s)||/line-/.test(s)||/circle-/.test(s)||/background-/.test(s)||/text-/.test(s)||/icon-/.test(s)){i=!0;var l=e.title||"",c=s.split("-")[0];"text"!==c&&"icon"!==c||(c="symbol"),this.legendRender=this._getProperties(c,o),r={edit:this.editable,title:l,type:this.legendRender.type,values:this.legendRender.values},t.appendChild(this._createElementIconLegend(r));break}}i||(r={edit:this.editable,title:"",type:this.legendRender.type,values:this.legendRender.values},t.appendChild(this._createElementIconLegend(r)),Pa.warn("legend type unknown, default legend used...")),this.toolscontainer=this._createElementEditionLegend(r),t.appendChild(this.toolscontainer),this.container=t}else Pa.info("tag 'paint' or 'layout' is empty !")}},{key:"_getProperties",value:function(t,o){if("symbol"===t){var n=o["text-field"],r=o["icon-image"];if("unknow"===(t=n&&r?"icon":n?"text":r?"icon":"unknow"))return void Pa.warn("type unknow !?")}var i={};for(var a in o)if(Object.hasOwnProperty.call(o,a)){var s=o[a];if(e.PROPERTIES[t].includes(a)){var l=a.replace(t,"").slice(1),c=this._getValue(s);if(c){if(!("pattern"!==l&&"image"!==l||this.options.sprites&&this.options.sprites.json&&this.options.sprites.json[c])){var u=t+":"+l;Pa.warn("sprites mandatory for key ",u);break}i[l]=c}}else Pa.warn("property not supported : ",a)}return{type:t,values:i}}},{key:"_renderThumbnail",value:function(e,t){var o=this.rendercontainer;if(!o)return!1;var n=null;switch(t.color||(t.color="#FFFFFF"),e){case"text":n="url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' version='1.1' preserveAspectRatio='none' viewBox='0 0 100 100'><text x='50' y='50' fill='%color%' fill-opacity='%opacity%'  text-anchor='middle' dominant-baseline='central' style='%style%'> T </text></svg>\")",o.style.background=n.replace("%color%",0===t.color.indexOf("rgb")?t.color:jt.hexToRgba(t.color,1)).replace("%opacity%",t.opacity||1).replace("%style%","font-size: 5em;font-weight: bold;");break;case"icon":if(t.image)n="<svg xmlns='http://www.w3.org/2000/svg' version='1.1' preserveAspectRatio='none' width='27px' height='27px' x='0' y='0' viewBox='%x% %y% %w% %h%'><image width='%W%px' height='%H%px' href='%URL%'/></svg>".replace("%x%",this.options.sprites.json[t.image].x).replace("%y%",this.options.sprites.json[t.image].y).replace(/%w%/g,this.options.sprites.json[t.image].width).replace(/%h%/g,this.options.sprites.json[t.image].height).replace("%W%",this.options.sprites.size.w).replace("%H%",this.options.sprites.size.h).replace("%URL%",this.options.sprites.url),o.innerHTML=n;else{n="url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' version='1.1' preserveAspectRatio='none' viewBox='0 0 100 100'><path d='M 50,20 80,82.5 20,82.5 z' stroke='%color%' style='%style%'/></svg>\")",o.style.background=n.replace("%color%",0===t.color.indexOf("rgb")?t.color:jt.hexToRgba(t.color,1)).replace("%style%","fill: transparent;stroke-width: 10;")}break;case"line":var r=Array.isArray(t.dasharray)?t.dasharray.join(" "):0;n="url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' version='1.1' preserveAspectRatio='none' viewBox='0 0 100 100'><line x1='0' y1='100' x2='100' y2='0' stroke='%color%' stroke-width='%stroke-width%' stroke-opacity='%stroke-opacity%' stroke-dasharray='%stroke-dasharray%' /></svg>\")",o.style.background=n.replace("%color%",0===t.color.indexOf("rgb")?t.color:jt.hexToRgba(t.color,1)).replace("%stroke-opacity%",t.opacity||1).replace("%stroke-dasharray%",r).replace("%stroke-width%",3*(t.width||0));break;case"circle":var i=t["stroke-color"]||"#FFFFFF";n="url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' version='1.1' preserveAspectRatio='none' viewBox='0 0 100 100'><circle cx='50' cy='50' r='40' stroke='%stroke-color%' stroke-width='%stroke-width%' stroke-opacity='%strock-opacity%' fill='%color%' fill-opacity='%opacity%' /></svg>\")",o.style.background=n.replace("%color%",0===t.color.indexOf("rgb")?t.color:jt.hexToRgba(t.color,1)).replace("%opacity%",t.opacity||1).replace("%stroke-color%",0===i.indexOf("rgb")?i:jt.hexToRgba(i,1)).replace("%stroke-opacity%",t["stroke-opacity"]||1).replace("%stroke-width%",3*(t["stroke-width"]||0));break;case"background":case"fill":if(t.pattern)n="<svg xmlns='http://www.w3.org/2000/svg' version='1.1' preserveAspectRatio='none' width='27px' height='27px' x='0' y='0' viewBox='%x% %y% %w% %h%'><image width='%W%px' height='%H%px' href='%URL%'/></svg>".replace("%x%",this.options.sprites.json[t.pattern].x).replace("%y%",this.options.sprites.json[t.pattern].y).replace(/%w%/g,this.options.sprites.json[t.pattern].width).replace(/%h%/g,this.options.sprites.json[t.pattern].height).replace("%W%",this.options.sprites.size.w).replace("%H%",this.options.sprites.size.h).replace("%URL%",this.options.sprites.url),o.innerHTML=n;else{var a=t["outline-color"]||"#FFFFFF";n="url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' version='1.1' preserveAspectRatio='none' viewBox='0 0 100 100'><rect x='0' y='0' width='100' height='100' rx='5' ry='5' stroke='%stroke-color%' stroke-width='3' fill='%color%' fill-opacity='%opacity%' /></svg>\")",o.style.background=n.replace("%color%",0===t.color.indexOf("rgb")?t.color:jt.hexToRgba(t.color,1)).replace("%opacity%",t.opacity||1).replace("%stroke-color%",0===a.indexOf("rgb")?a:jt.hexToRgba(a,1))}break;default:return Pa.warn("type not found, no thumbnail..."),!1}return!0}},{key:"_getValue",value:function(e){var t=null;if("string"==typeof e)t=e;else if("number"==typeof e)t=e;else if(Array.isArray(e)){var o=!0;e.forEach((function(e){"number"!=typeof e&&(o=!1)})),o&&(t=e)}else if("object"===Sa(e)){if(t=null,"stops"in e)e.stops.sort((function(e,t){var o=e[0],n=t[0];return o>n?-1:o<n?1:0})),t=e.stops.slice(-1)[0][1]}else Pa.warn("value not supported !");return t}},{key:"_createElementIconLegend",value:function(e){var t=this,o=document.createElement("div");o.className=this.name.containerlegendrender;var n=this.rendercontainer=document.createElement("div");n.className=this.name.legendrender,e.edit&&(n.className+=" ",n.className+=this.name.legendeditable,n.addEventListener?n.addEventListener("click",(function(e){t.onEditionLegendMapBox(e)})):n.attachEvent&&n.attachEvent("onclick",(function(e){t.onEditionLegendMapBox(e)})));var r=e.type;this._renderThumbnail(r,e.values)?n.className+=e.edit?" legend-"+r:" legend-"+r+"-not-editable":n.className+=" legend-unknow",o.appendChild(n);var i=document.createElement("span");return i.className=this.name.legendtitle,i.innerHTML=e.title||"",o.appendChild(i),o}},{key:"_createElementEditionLegend",value:function(e){var t=this,o=document.createElement("div");if(o.className=this.name.containerlegendtools,!e.edit)return o;switch(e.type){case"line":(function(){var n=document.createElement("div");n.className="legend-styling-div";var r=document.createElement("label");r.className="legend-line",r.htmlFor=this.id?"line-color-"+this.id:"line-color",r.innerHTML=this.labels["line-color"];var i=document.createElement("input");i.className="legend-styling",i.id=this.id?"line-color-"+this.id:"line-color",i.title="Selectionner une couleur de trait",i.type="color",i.value=e.values.color,i.setAttribute("data-id","line-color"),i.addEventListener?i.addEventListener("change",(function(o){t._renderThumbnail(e.type,Object.assign(e.values,{color:o.target.value})),t.onChangeValueLegendMapBox(o)})):i.attachEvent&&i.attachEvent("onchange",(function(o){t._renderThumbnail(e.type,Object.assign(e.values,{color:o.target.value})),t.onChangeValueLegendMapBox(o)}));n.appendChild(r),n.appendChild(i),o.appendChild(n)}).call(t),function(){var n=document.createElement("div");n.className="legend-styling-div";var r=document.createElement("label");r.className="legend-line",r.htmlFor=this.id?"line-width-"+this.id:"line-width",r.innerHTML=this.labels["line-width"];var i=document.createElement("input");i.className="legend-styling",i.id=this.id?"line-width-"+this.id:"line-width",i.title=e.values.width,i.type="range",i.min="0",i.max="10",i.step="1",i.defaultValue=e.values.width,i.setAttribute("data-id","line-width"),i.addEventListener?i.addEventListener("change",(function(o){Pa.trace(o),o.target.title=o.target.value,t._renderThumbnail(e.type,Object.assign(e.values,{width:o.target.value})),t.onChangeValueLegendMapBox(o)})):i.attachEvent&&i.attachEvent("onchange",(function(o){Pa.trace(o),o.target.title=o.target.value,t._renderThumbnail(e.type,Object.assign(e.values,{width:o.target.value})),t.onChangeValueLegendMapBox(o)}));n.appendChild(r),n.appendChild(i),o.appendChild(n)}.call(t),function(){var n=document.createElement("div");n.className="legend-styling-div";var r=document.createElement("label");r.className="legend-line",r.htmlFor=this.id?"line-opacity-"+this.id:"line-opacity",r.innerHTML=this.labels["line-opacity"];var i=document.createElement("input");i.className="legend-styling",i.id=this.id?"line-opacity-"+this.id:"line-opacity",i.title=e.values.opacity,i.type="range",i.min="0",i.max="1",i.step="0.1",i.defaultValue=e.values.opacity,i.setAttribute("data-id","line-opacity"),i.addEventListener?i.addEventListener("change",(function(o){Pa.trace(o),o.target.title=o.target.value,t._renderThumbnail(e.type,Object.assign(e.values,{opacity:o.target.value})),t.onChangeValueLegendMapBox(o)})):i.attachEvent&&i.attachEvent("onchange",(function(o){Pa.trace(o),o.target.title=o.target.value,t._renderThumbnail(e.type,Object.assign(e.values,{opacity:o.target.value})),t.onChangeValueLegendMapBox(o)}));n.appendChild(r),n.appendChild(i),o.appendChild(n)}.call(t);break;case"background":case"fill":(function(){var n=document.createElement("div");n.className="legend-styling-div";var r=document.createElement("label");r.className="legend-fill",r.htmlFor=this.id?"fill-color-"+this.id:"fill-color",r.innerHTML=this.labels["fill-color"];var i=document.createElement("input");i.className="legend-styling",i.id=this.id?"fill-color-"+this.id:"fill-color",i.title="Selectionner une couleur de remplissage",i.type="color",i.value=e.values.color,i.setAttribute("data-id","fill-color"),i.addEventListener?i.addEventListener("change",(function(o){t._renderThumbnail(e.type,Object.assign(e.values,{color:o.target.value})),t.onChangeValueLegendMapBox(o)})):i.attachEvent&&i.attachEvent("onchange",(function(o){t._renderThumbnail(e.type,Object.assign(e.values,{color:o.target.value})),t.onChangeValueLegendMapBox(o)}));n.appendChild(r),n.appendChild(i),o.appendChild(n)}).call(t),function(){var n=document.createElement("div");n.className="legend-styling-div";var r=document.createElement("label");r.className="legend-fill",r.htmlFor=this.id?"fill-opacity-"+this.id:"fill-opacity",r.innerHTML=this.labels["fill-opacity"];var i=document.createElement("input");i.className="legend-styling",i.id=this.id?"fill-opacity-"+this.id:"fill-opacity",i.title=e.values.opacity,i.type="range",i.min="0",i.max="1",i.step="0.1",i.defaultValue=e.values.opacity,i.setAttribute("data-id","fill-opacity"),i.addEventListener?i.addEventListener("change",(function(o){o.target.title=o.target.value,t._renderThumbnail(e.type,Object.assign(e.values,{opacity:o.target.value})),t.onChangeValueLegendMapBox(o)})):i.attachEvent&&i.attachEvent("onchange",(function(o){o.target.title=o.target.value,t._renderThumbnail(e.type,Object.assign(e.values,{opacity:o.target.value})),t.onChangeValueLegendMapBox(o)}));n.appendChild(r),n.appendChild(i),o.appendChild(n)}.call(t)}return o}},{key:"add",value:function(){if(!this.options.target){if(!document.getElementById(this.name.target)){var e=document.createElement("div");e.id=this.name.target,(document.documentElement||document.getElementsByTagName("body")[0]||document.getElementsByTagName("head")[0]).appendChild(e)}this.options.target=document.getElementById(this.name.target)}return this.container&&this.options.target.appendChild(this.container),this}},{key:"display",value:function(e){return Pa.trace("display()",e),void 0!==e&&(this.container.style.display=e?"flex":"none"),"flex"===this.container.style.display}},{key:"isEditable",value:function(){return this.editable}},{key:"getRenderContainer",value:function(){return this.rendercontainer}},{key:"getToolsContainer",value:function(){return this.toolscontainer}},{key:"getContainer",value:function(){return this.container}},{key:"onEditionLegendMapBox",value:function(e){Pa.trace("onEditionLegendMapBox",e),e.editorID=this.id,e.data=this.options,ua.a.dispatch(da.legend.onclickedition,e)}},{key:"onChangeValueLegendMapBox",value:function(e){Pa.trace("onChangeValueLegendMapBox",e),e.editorID=this.id,e.data=this.options,ua.a.dispatch(da.legend.onchangevalue,e)}}])}();Ta.PROPERTIES={line:["line-color","line-dasharray","line-opacity","line-width"],fill:["fill-color","fill-opacity","fill-outline-color","fill-pattern"],background:["background-color","background-opacity","background-pattern"],circle:["circle-color","circle-opacity","circle-stroke-color","circle-stroke-opacity","circle-stroke-width"],icon:["icon-color","icon-image","icon-opacity","__icon-size"],text:["__text-anchor","text-color","text-field","__text-font","__text-opacity","__text-size"]};var Ma=Ta;function Ra(e){return(Ra="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function La(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ka(n.key),n)}}function ka(e){var t=function(e,t){if("object"!=Ra(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!=Ra(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ra(t)?t:t+""}var Ga=mt.getLogger("editor-layer"),Da=function(){return function(e,t,o){return t&&La(e.prototype,t),o&&La(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ga.trace("[constructor] Layer",t),this.options=t||{},!(this instanceof e))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this._initialize(),this._initContainer()}),[{key:"_initialize",value:function(){this.id=this.options.id||null,this.options.target,this.options.position||(this.options.position=0);var e={visibility:!0,icon:{image:!0,anchor:"end"},type:!0,pin:!0,remove:!1,clone:!1};this.options.tools||(this.options.tools=e),Bt.mergeParams(this.options.tools,e,!1);var t={id:"",type:"",source:"","source-layer":""};this.options.obj||(this.options.obj=t),Bt.mergeParams(this.options.obj,t,!1),this.bSlotLegend=!1,this.oFilter=null,this.oStyle=null,this.oLegend=null,this.container=null,this.DomVisibility=null,this.DomToggle=null,this.name={target:"GPEditorMapBoxLayerTarget",container:"GPEditorMapBoxLayerContainer",containerlegend:"GPEditorMapBoxLayerLegendContainer",containertitle:"GPEditorMapBoxLayerTitleContainer",imagelabelinput:"GPEditorMapBoxLayerImageInput",imagelabel:"GPEditorMapBoxLayerImageLabel",typeimg:"GPEditorMapBoxLayerTypeImage",titleinput:"GPEditorMapBoxLayerTitleInput",titlelabel:"GPEditorMapBoxLayerTitleLabel",containertools:"GPEditorMapBoxToolsContainer",visibilityinput:"GPEditorMapBoxToolsVisibilityInput",visibilitylabel:"GPEditorMapBoxToolsVisibilityLabel",visibilityinputdisable:"GPEditorMapBoxToolsVisibilityInputDisable",visibilitylabeldisable:"GPEditorMapBoxToolsVisibilityLabelDisable"}}},{key:"_initContainer",value:function(){var e=this,t=this.options.obj,o=document.createElement("div");o.className=this.name.container;var n=document.createElement("div");if(n.id=this.name.containertitle+"-"+this.options.position,n.className=this.name.containertitle,this.options.tools.pin){var r=document.createElement("input");r.id=this.name.imagelabelinput+"-"+this.options.position,r.className=this.name.imagelabelinput,r.type="checkbox",n.appendChild(r);var i=document.createElement("label");i.className=this.name.imagelabel,i.htmlFor=r.id,i.addEventListener?i.addEventListener("click",(function(t){e.onClickLayerMapBox(t)})):i.attachEvent&&i.attachEvent("onclick",(function(t){e.onClickLayerMapBox(t)})),n.appendChild(i)}var a=function(){var t=document.createElement("div");if(t.id=this.name.containertools+"-"+this.options.position,t.className=this.name.containertools,this.options.tools.visibility){var n=document.createElement("input");n.id=this.name.visibilityinput+"-"+this.options.position,n.className=this.options.tools.icon.image?this.name.visibilityinput:this.name.visibilityinputdisable,n.type="checkbox",n.checked="checked",n.addEventListener?n.addEventListener("click",(function(t){e.onVisibilityLayerMapBox(t)})):n.attachEvent&&n.attachEvent("onclick",(function(t){e.onVisibilityLayerMapBox(t)})),t.appendChild(n),this.DomVisibility=n;var r=document.createElement("label");r.htmlFor=this.name.visibilityinput+"-"+this.options.position,r.id=this.name.visibilitylabel+"-"+this.options.position,r.className=this.options.tools.icon.image?this.name.visibilitylabel:this.name.visibilitylabeldisable,r.title="Afficher/masquer la couche",t.appendChild(r),o.appendChild(t)}this.options.tools.clone&&Ga.warn("Dom for tools clone, it's not yet implemented !"),this.options.tools.remove&&Ga.warn("Dom for tools remove, it's not yet implemented !")};if("start"===this.options.tools.icon.anchor&&a.apply(this),this.options.tools.type&&t.type){var s=document.createElement("img");switch(s.className=this.name.typeimg,t.type.toUpperCase()){case"SYMBOL-ICON":s.style["background-position"]="0px 0";break;case"SYMBOL-TEXT":s.style["background-position"]="-194px 0";break;case"SYMBOL":s.style["background-position"]="-84px 0";break;case"LINE":s.style["background-position"]="-28px 0";break;case"FILL":s.style["background-position"]="-56px 0";break;case"BACKGROUND":s.style["background-position"]="-140px 0";break;case"CIRCLE":s.style["background-position"]="-168px 0";break;default:s.style["background-position"]="-112px 0"}n.appendChild(s)}var l=document.createElement("div");l.id=this.name.containerlegend+"-"+this.options.position,l.className=this.name.containerlegend,n.appendChild(l);var c=document.createElement("input");c.id=this.name.titleinput+"-"+this.options.position,c.className=this.name.titleinput,c.type="checkbox",n.appendChild(c);var u=document.createElement("label");u.className=this.name.titlelabel,u.htmlFor=c.id,u.innerHTML=t.id||t["source-layer"]||t.source,u.title=t["source-layer"]||t.source||t.id,u.addEventListener?u.addEventListener("click",(function(t){e.onClickLayerMapBox(t)})):u.attachEvent&&u.attachEvent("onclick",(function(t){e.onClickLayerMapBox(t)})),n.appendChild(u),this.DomToggle=u,o.appendChild(n),"end"===this.options.tools.icon.anchor&&a.apply(this),this.container=o}},{key:"add",value:function(){if(Ga.trace("add()"),!this.options.target){if(!document.getElementById(this.name.target)){var e=document.createElement("div");e.id=this.name.target,(document.documentElement||document.getElementsByTagName("body")[0]||document.getElementsByTagName("head")[0]).appendChild(e)}this.options.target=document.getElementById(this.name.target)}return this.container&&this.options.target.appendChild(this.container),this}},{key:"addStyle",value:function(e){Ga.trace("addStyle()",e),e&&"object"===Ra(e)&&e instanceof ma&&(this.oStyle=e,this.oStyle.display(!1))}},{key:"addFilter",value:function(e){Ga.trace("addFilter()",e),e&&"object"===Ra(e)&&e instanceof Oa&&(this.oFilter=e,this.oFilter.display(!1))}},{key:"addLegend",value:function(e){Ga.trace("addLegend()",e),e&&"object"===Ra(e)&&e instanceof Ma&&(this.oLegend=e,this.oLegend.display(!1))}},{key:"slotLegend",value:function(){var e=this.oLegend;if(e){var t=null,o=this.container.childNodes;if(o.length)for(var n=o["start"===this.options.tools.icon.anchor?1:0].childNodes,r=0;r<n.length;r++){var i=n[r];-1!==i.id.indexOf(this.name.containerlegend)&&(t=i)}if(t){var a=e.getRenderContainer();a&&(t.appendChild(a),this.bSlotLegend=!0)}}}},{key:"visibility",value:function(e){if(Ga.trace("visibility()",e),this.options.tools.visibility)return void 0!==e&&(this.DomVisibility.checked=e?"checked":""),this.DomVisibility.checked}},{key:"collapse",value:function(){Ga.trace("collapse()"),this.DomToggle.click()}},{key:"visible",value:function(){Ga.trace("visible()"),this.options.tools.visibility&&this.DomVisibility.click()}},{key:"display",value:function(e){Ga.trace("display()",e);var t=document.getElementById(this.DomToggle.htmlFor).checked;return void 0!==e&&(this.container.style.display=e?"inline-flex":"none",this.oStyle&&this.oStyle.display(e&&t),this.oFilter&&this.oFilter.display(e&&t),this.oLegend&&this.oLegend.display(e&&t)),t}},{key:"active",value:function(e){return Ga.trace("active()",e),void 0!==e&&(this.container.className=e?this.name.container:this.name.container+" disabled"),this.container.className===this.name.container}},{key:"getContainer",value:function(){return this.container}},{key:"onClickLayerMapBox",value:function(e){Ga.trace("onClickLayerMapBox",e);var t=e.target.htmlFor.substring(e.target.htmlFor.indexOf("-")),o=document.getElementById(e.target.htmlFor).checked;e.target.htmlFor===this.name.imagelabelinput+t&&(document.getElementById(this.name.titleinput+t).checked=!o),e.target.htmlFor===this.name.titleinput+t&&document.getElementById(this.name.imagelabelinput+t)&&(document.getElementById(this.name.imagelabelinput+t).checked=!o),this.oStyle&&this.oStyle.display(!o),this.oFilter&&this.oFilter.display(!o),this.oLegend&&this.oLegend.isEditable()&&this.oLegend.display(!o)}},{key:"onVisibilityLayerMapBox",value:function(e){Ga.trace("onVisibilityLayerMapBox",e),e.editorID=this.id,e.data=this.options,ua.a.dispatch(da.layer.onclickvisibility,e)}},{key:"onCloneLayerMapBox",value:function(e){Ga.trace("onCloneLayerMapBox",e),e.editorID=this.id,e.data=this.options,ua.a.dispatch(da.layer.onclickclone,e)}},{key:"onRemoveLayerMapBox",value:function(e){Ga.trace("onRemoveLayerMapBox",e),e.editorID=this.id,e.data=this.options,ua.a.dispatch(da.layer.onclickremove,e)}}])}();function Na(e){return(Na="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fa(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ua(n.key),n)}}function Ua(e){var t=function(e,t){if("object"!=Na(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!=Na(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Na(t)?t:t+""}var Ba=mt.getLogger("editor-group"),za=function(){return function(e,t,o){return t&&Fa(e.prototype,t),o&&Fa(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ba.trace("[constructor] Group",t),this.options=t||{},!(this instanceof e))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this._initialize(),this._initContainer()}),[{key:"_initialize",value:function(){this.id=this.options.id||null,this.options.target,this.options.title||(this.options.title="DÃ©tails du groupe..."),void 0===this.options.collapse&&(this.options.collapse=!0),this.container=null,this.name={target:"GPEditorMapBoxGroupTarget",container:"GPEditorMapBoxGroupContainer",details:"GPEditorMapBoxGroupDetails",summary:"GPEditorMapBoxGroupSummary"}}},{key:"_initContainer",value:function(){var e=document.createElement("div");e.className=this.name.container;var t=document.createElement("details");t.className=this.name.details,t.open=!this.options.collapse,e.appendChild(t);var o=document.createElement("summary");o.className=this.name.summary,o.innerHTML=this.options.title,t.appendChild(o),this.container=e}},{key:"add",value:function(){if(!this.options.target){if(!document.getElementById(this.name.target)){var e=document.createElement("div");e.id=this.name.target,(document.documentElement||document.getElementsByTagName("body")[0]||document.getElementsByTagName("head")[0]).appendChild(e)}this.options.target=document.getElementById(this.name.target)}this.container&&this.options.target.appendChild(this.container)}},{key:"display",value:function(e){this.container.style.display=e?"flex":"none"}},{key:"getContainer",value:function(){var e=this.container.childNodes;return e.length?e[0]:this.container}},{key:"onCollapseGroupMapBox",value:function(e){Ba.trace("onCollapseGroupMapBox",e),e.editorID=this.id,e.data=this.options,ua.a.dispatch(da.group.oncollapse,e)}}])}();function Va(e){return(Va="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wa(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qa(n.key),n)}}function qa(e){var t=function(e,t){if("object"!=Va(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!=Va(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Va(t)?t:t+""}var Ya=mt.getLogger("editor-search"),Ha=function(){return function(e,t,o){return t&&Wa(e.prototype,t),o&&Wa(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ya.trace("[constructor] Search",t),this.options=t||{target:null,tools:null,title:null,obj:null},!(this instanceof e))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this._initialize(),this._initContainer()}),[{key:"_initialize",value:function(){this.id=this.options.id||null,this.options.target;var e={};this.options.tools||(this.options.tools=e),Bt.mergeParams(this.options.tools,e,!1),this.options.obj||(this.options.obj={}),this.options.title||(this.options.title="Recherche de couches :"),this.container=null,this.name={target:"GPEditorMapBoxSearchTarget",container:"GPEditorMapBoxSearchContainer"}}},{key:"_initContainer",value:function(){var e=JSON.parse(JSON.stringify(this.options.obj));e.layers&&0===e.layers.length&&Ya.info("tag 'layers' is empty !");var t=document.createElement("div");t.className=this.name.container,this.container=t}},{key:"add",value:function(){if(!this.options.target){if(!document.getElementById(this.name.target)){var e=document.createElement("div");e.id=this.name.target,(document.documentElement||document.getElementsByTagName("body")[0]||document.getElementsByTagName("head")[0]).appendChild(e)}this.options.target=document.getElementById(this.name.target)}return this.container&&this.options.target.appendChild(this.container),this}},{key:"display",value:function(e){return Ya.trace("display()",e),void 0!==e&&(this.container.style.display=e?"flex":"none"),"flex"===this.container.style.display}},{key:"getContainer",value:function(){return this.container}},{key:"onSubmitSearchLayersMapBox",value:function(e){Ya.trace("onSubmitSearchLayersMapBox",e),e.editorID=this.id,e.data=this.options,ua.a.dispatch(da.search.onsubmit,e)}},{key:"onAutocompleteSearchLayersMapBox",value:function(e){Ya.trace("onAutocompleteSearchLayersMapBox",e),e.editorID=this.id,e.data=this.options,ua.a.dispatch(da.search.onautocomplete,e)}}])}(),Xa={_addUID:function(e){return this._uid?e+"-"+this._uid:e}};function Za(e){return(Za="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ka(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ja(n.key),n)}}function Ja(e){var t=function(e,t){if("object"!=Za(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!=Za(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Za(t)?t:t+""}var Qa=mt.getLogger("editor"),$a=function(){return e=function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Qa.trace("[constructor] Editor",t),this.options=t||{},!(this instanceof e))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this._initialize()},(t=[{key:"_initialize",value:function(){if(this.options.target||Qa.info("La 'target' n'est pas renseignÃ©e (options.target)."),this.options.style){this.options.events?this._initEvents():Qa.warn("Les 'handlers' ne sont pas renseignÃ©s (options.events) !"),this.options.themes||Qa.info("Les 'themes' MapBox ne sont pas renseignÃ©s (options.themes).");var e={themes:!1,layers:!0,search:!1,style:!1,filter:!1,legend:!1,group:!1,groupAuto:!1,sort:!0,sortBy:"id",sortOrder:"asc",title:!0,collapse:void 0,type:!0,pin:!0,visibility:!0,icon:{image:!0,anchor:"end"},editable:!0};this.options.tools||(Qa.trace("Utilisation des outils MapBox par dÃ©faut (options.tools)."),this.options.tools=e),Bt.mergeParams(this.options.tools,e,!1),this.id=this.options.id||So.generate(),this.context={},this.layers=[],this.container=null,this.name={target:"GPEditorMapBoxTarget",container:"GPEditorMapBoxContainer",containerID:"GPEditorMapBoxContainer_ID_",containerLayers:"GPEditorMapBoxLayersContainer",titleLayers:"GPEditorMapBoxLayersTitle",titleLayersID:"GPEditorMapBoxLayersTitle_ID_",titleThemes:"GPEditorMapBoxThemesTitle",titleThemesID:"GPEditorMapBoxThemesTitle_ID_",sep:"GPEditorMapBoxSep"},this.mapbox={},this.sprites={}}else Qa.error("Le 'style' MapBox n'est pas renseignÃ© (options.style) !")}},{key:"_initEvents",value:function(){var e=this.options.scope||this,t=this.options.events;if(t)for(var o in t)if(t.hasOwnProperty(o)){var n=t[o];n&&(ua.a.hasEventListener(o,n,e)||ua.a.addEventListener(o,n,e))}}},{key:"_initContainer",value:function(){Qa.trace(this.mapbox);var e=document.createElement("div");e.id=this.name.containerID+this.id,e.className=this.name.container;var t=this.options.tools.themes;if(t&&this.options.themes){if(this.options.tools.title){var o=document.createElement("div");o.id=this.name.titleThemesID+this.id,o.className=this.name.titleThemes,o.innerHTML="Liste des 'thÃ¨mes'",e.appendChild(o)}new Aa({id:this.id,target:e,tools:"object"===Za(t)?t:{},obj:this.options.themes}).add()}for(var n in this.options.tools.search&&new Ha({id:this.id,target:e,tools:{},obj:this.mapbox.layers}).add(),this.mapbox.sources)if(this.mapbox.sources.hasOwnProperty(n)){if(this.options.tools.layers){var r=Object.keys(this.mapbox.sources).length>1?1:0;if(r){var i=document.createElement("hr");i.className=this.name.sep,e.appendChild(i)}if(this.options.tools.title){var a=document.createElement("div");a.id=this.name.titleLayersID+this.id,a.className=this.name.titleLayers,a.innerHTML=r?"Liste des 'couches' ("+n+")":"Liste des 'couches'",e.appendChild(a)}}var s=this.mapbox.layers.slice();if(s.forEach((function(e,t){var o=e.metadata;o?o["geoportail:order"]=t:e.metadata={"geoportail:order":t}})),this.options.tools.sort){var l=this.options.tools.sortBy,c=this.options.tools.sortOrder;s.sort((function(e,t){var o=0;if(e.metadata&&e.metadata["geoportail:group"]&&t.metadata&&t.metadata["geoportail:group"]){var n,r=null;r=e.metadata["geoportail:group"],n=t.metadata["geoportail:group"],o=r.localeCompare(n)}else switch(l){case"geom":o="asc"===c?e.type.localeCompare(t.type)||e.id.localeCompare(t.id):t.type.localeCompare(e.type)||t.id.localeCompare(e.id);break;case"class":o="asc"===c?e["source-layer"].localeCompare(t["source-layer"])||e.id.localeCompare(t.id):t["source-layer"].localeCompare(e["source-layer"])||t.id.localeCompare(e.id);break;case"id":default:o="asc"===c?e.id.localeCompare(t.id):t.id.localeCompare(e.id)}return o}))}Qa.trace("Layers : ",s);var u=this.options.tools.sortBy,d=this.options.tools.groupAuto,h={};s.forEach((function(e){var t=e.metadata;if(t&&t["geoportail:group"]){var o=t["geoportail:group"];h[o]=h[o]?h[o]+1:1}else{var n=null;switch(u){case"class":n=e["source-layer"];break;case"geom":n=e.type;break;case"id":default:n=e.id}var r=n;if(d){var i=n.search(/_|-|:|=/);r=-1!==i?n.substring(0,i).trim():n}h[r]=h[r]?h[r]+1:1,t?t["geoportail:group"]=r:e.metadata={"geoportail:group":r}}})),Qa.trace("Groups : ",h);var p,f=document.createElement("div");if(f.className=this.name.containerLayers,e.appendChild(f),void 0!==this.options.tools.collapse){(p=document.createElement("details")).className="",p.open=!this.options.tools.collapse,f.appendChild(p);var g=document.createElement("summary");g.className="",g.innerHTML="",p.appendChild(g)}for(var m=void 0!==this.options.tools.collapse?p:f,y=-1,v=0;v<s.length;v++){var _=s[v];if(y++,_.source===n){if(this.options.tools.group&&this.options.tools.sort)if(_.metadata){var b=_.metadata["geoportail:group"];if(b)if(h[b]>1){h[b]=-1;var A=new za({id:this.id,target:void 0!==this.options.tools.collapse?p:f,title:b,collapse:!0});A.add(),m=A.getContainer()}else 1===h[b]&&(m=void 0!==this.options.tools.collapse?p:f);else m=void 0!==this.options.tools.collapse?p:f}else m=void 0!==this.options.tools.collapse?p:f;if(this.options.tools.layers){var C=new Da({id:this.id,target:m,position:y+"_"+this.id,tools:{visibility:this.options.tools.visibility,icon:this.options.tools.icon,type:this.options.tools.type,pin:this.options.tools.pin},obj:{id:_.id,type:_.type,source:_.source,"source-layer":_["source-layer"]}});C.add(),_.layout&&_.layout.visibility&&"none"===_.layout.visibility&&C.visibility(!1),this.layers.push(C)}if(this.options.tools.legend){var w=this.options.tools.editable;void 0===w&&(w=_.editable);var E=new Ma({id:this.id,target:m,sprites:this.sprites,obj:{id:_.id,source:_.source,title:_.id,editable:void 0!==w&&w,paint:_.paint,layout:_.layout}});E.add(),E.display(!1),C&&(C.addLegend(E),C.slotLegend())}if(this.options.tools.style){var I=new ma({id:this.id,target:m,position:y+"_"+this.id,obj:{id:_.id,source:_.source,layout:_.layout,paint:_.paint}});I.add(),I.display(!1),C&&C.addStyle(I),_.layout&&_.layout.visibility&&"none"===_.layout.visibility&&C.visibility(!1)}if(this.options.tools.filter){var O=new Oa({id:this.id,target:m,position:y+"_"+this.id,obj:{id:_.id,source:_.source,filter:_.Filter}});O.add(),O.display(!1),C&&C.addFilter(O)}}else y>=0&&y--}}if(this.container=e,!this.options.target){if(!document.getElementById(this.name.target)){var S=document.createElement("div");S.id=this.name.target,(document.getElementsByTagName("body")[0]||document.getElementsByTagName("head")[0]||document.documentElement).appendChild(S)}this.options.target=document.getElementById(this.name.target)}this.container&&this.options.target.appendChild(this.container),ua.a.dispatch(da.onloaded,this)}},{key:"_getSprites",value:function(e){var t,o=this;return e&&e.startsWith("mapbox://")?new Promise((function(e,t){Qa.error("Protocole mapbox:// non gÃ©rÃ© !"),e(o)})):e?Promise.all([(t=e+".png",fetch(t,{credentials:"same-origin"}).then((function(e){if(e.ok)return e.blob().then((function(e){o.sprites.url=t;var n=new Image;return n.src=t,n.decode().then((function(){o.sprites.size={},o.sprites.size.h=n.height,o.sprites.size.w=n.width}))})).catch((function(e){Qa.warn("fetch image sprites exception :",e)}));throw new Error("HTTP status code: "+e.status)})).catch((function(e){return new Promise((function(t,o){Qa.error("fetch image sprites exception :",e),o(e)}))}))),fetch(e+".json",{credentials:"same-origin"}).then((function(e){if(e.ok)return e.json().then((function(e){o.sprites.json=e})).catch((function(e){Qa.warn("fetch json sprites exception :",e)}));throw new Error("HTTP status code: "+e.status)})).catch((function(e){return new Promise((function(t,o){Qa.error("fetch json sprites exception :",e),o(e)}))}))]):new Promise((function(e,t){Qa.error("Auncun sprites disponibles !"),e(o)}))}},{key:"createElement",value:function(){var e=this;return"object"===Za(this.options.style)?(this.mapbox=this.options.style,this.options.tools.legend?this._getSprites(this.mapbox.sprite).then((function(){return e._initContainer(),e})).catch((function(e){Qa.warn("fetch sprites exception :",e)})):new Promise((function(t,o){e._initContainer(),t(e)}))):"string"==typeof this.options.style?fetch(this.options.style,{credentials:"same-origin"}).then((function(t){return t.json().then((function(t){e.mapbox=t})).then((function(){return e.options.tools.legend?e._getSprites(e.mapbox.sprite).then((function(){return e._initContainer(),e})).catch((function(e){Qa.warn("fetch sprites exception :",e)})):new Promise((function(t,o){e._initContainer(),t(e)}))})).catch((function(e){Qa.error("json exception :",e)}))})).catch((function(e){Qa.error("fetch exception :",e)})):void 0}},{key:"display",value:function(e){this.container.style.display=e?"block":"none"}},{key:"setContext",value:function(e,t){this.context[e]=t}},{key:"getContext",value:function(e){return this.context[e]}},{key:"getID",value:function(){return this.id}},{key:"getContainer",value:function(){return this.container}},{key:"getStyle",value:function(){return this.mapbox}},{key:"getStyleLayer",value:function(e){for(var t=null,o=this.getLayer(e).options.obj.id,n=0;n<this.mapbox.layers.length;n++){var r=this.mapbox.layers[n];if(r.id===o){t=r;break}}return t}},{key:"getLayerFromStyle",value:function(e){for(var t=null,o=this.mapbox.layers[e],n=0;n<this.getLayers().length;n++){var r=this.getLayer(n);if(o.id===r.options.obj.id){t=r;break}}return t}},{key:"getLayers",value:function(){return this.layers}},{key:"getLayer",value:function(e){return this.layers[e]}}])&&Ka(e.prototype,t),o&&Ka(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,o}();Bt.assign($a.prototype,Xa);var es=$a;window.ol&&window.ol.style&&(window.ol.style.Editor=$a);var ts={_addUID:function(e){return this._uid?e+"-"+this._uid:e},_createLoadingElement:function(){var e=document.createElement("div");return e.id="GPmapLoading",e.className="",e},_createMainContainerElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPimport"),e.className="GPwidget",e},_createShowImportElement:function(){var e=document.createElement("input");return e.id=this._addUID("GPshowImport"),e.type="checkbox",e},_createShowImportPictoElement:function(){var e=this,t=document.createElement("label");t.id=this._addUID("GPshowImportPicto"),t.className="GPshowAdvancedToolPicto",t.htmlFor=this._addUID("GPshowImport"),t.title="Ouvrir l'import de couches",t.addEventListener?t.addEventListener("click",(function(){e._onShowImportClick()})):t.attachEvent&&t.attachEvent("onclick",(function(){e._onShowImportClick()}));var o=document.createElement("span");return o.id=this._addUID("GPshowImportOpen"),o.className="GPshowAdvancedToolOpen",t.appendChild(o),t},_createImportPanelElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPimportPanel"),e.className="GPpanel",e},_createImportPanelHeaderElement:function(){var e=document.createElement("div");e.className="GPpanelHeader";var t=this._createImportPanelTitleElement();e.appendChild(t);var o=this._createImportPanelCloseElement();return e.appendChild(o),e},_createImportPanelTitleElement:function(){var e=document.createElement("div");return e.className="GPpanelTitle",e.innerHTML="Import de donnÃ©es",e},_createImportPanelCloseElement:function(){var e=this,t=document.createElement("div");return t.id=this._addUID("GPimportPanelClose"),t.className="GPpanelClose",t.title="Fermer le panneau",t.addEventListener?t.addEventListener("click",(function(){document.getElementById(e._addUID("GPshowImportPicto")).click()}),!1):t.attachEvent&&t.attachEvent("onclick",(function(){document.getElementById(e._addUID("GPshowImportPicto")).click()})),t},_createImportPanelFormElement:function(){var e=this,t=document.createElement("form");return t.id=this._addUID("GPimportForm"),t.className="map-tool-box",t.addEventListener?t.addEventListener("submit",(function(t){t.preventDefault(),e._onImportSubmit()})):t.attachEvent&&t.attachEvent("onsubmit",(function(t){t.preventDefault(),e._onImportSubmit()})),t},_createImportTypeLineElement:function(e){var t=this,o=document.createElement("div");o.id=this._addUID("GPimportTypeLine"),o.className="GPimportInputLine";var n=document.createElement("label");n.htmlFor=this._addUID("GPimportType"),n.className="GPimportLabel",n.innerHTML="Type de donnÃ©e",n.title="Type de donnÃ©e",o.appendChild(n);var r,i=document.createElement("select");i.className="GPimportSelect",i.addEventListener?i.addEventListener("change",(function(e){"KML"===this.value||"GPX"===this.value||"GeoJSON"===this.value||"MAPBOX"===this.value?(document.getElementById(t._addUID("GPimportStaticParams")).className="GPimportVisibleParams",document.getElementById(t._addUID("GPimportServiceParams")).className="GPimportHiddenParams"):"WMS"!==this.value&&"WMTS"!==this.value&&"WFS"!==this.value||(document.getElementById(t._addUID("GPimportServiceParams")).className="GPimportVisibleParams",document.getElementById(t._addUID("GPimportStaticParams")).className="GPimportHiddenParams"),t._onImportTypeChange(e)})):i.attachEvent&&i.attachEvent("onchange",(function(){"KML"===this.value||"GPX"===this.value||"GeoJSON"===this.value||"MAPBOX"===this.value?(document.getElementById(t._addUID("GPimportStaticParams")).className="GPimportVisibleParams",document.getElementById(t._addUID("GPimportServiceParams")).className="GPimportHiddenParams"):"WMS"!==this.value&&"WMTS"!==this.value&&"WFS"!==this.value||(document.getElementById(t._addUID("GPimportServiceParams")).className="GPimportVisibleParams",document.getElementById(t._addUID("GPimportStaticParams")).className="GPimportHiddenParams"),t._onImportTypeChange()})),i.id=this._addUID("GPimportType"),e&&Array.isArray(e)||(e=["KML","GPX","GeoJSON","MAPBOX","WMS","WMTS","WFS"]);for(var a=0;a<e.length;a++)(r=document.createElement("option")).value=e[a],r.text="MAPBOX"===e[a]?"Tuiles vectorielles":e[a],i.appendChild(r);return o.appendChild(i),o},_createImportWaitingElement:function(){var e=document.createElement("div");e.id=this._addUID("GPimportWaitingContainer"),e.className="GPimportWaitingContainerHidden";var t=document.createElement("p");return t.className="GPimportWaiting",t.innerHTML="Recherche en cours...",e.appendChild(t),e},_createImportStaticParamsContainer:function(e){var t=document.createElement("div");return t.id=this._addUID("GPimportStaticParams"),t.className="KML"===e||"GPX"===e||"GeoJSON"===e||"MAPBOX"===e?"GPimportVisibleParams":"GPimportHiddenParams",t},_createStaticNameLabel:function(){var e=document.createElement("div");e.className="GPimportInputLine";var t=document.createElement("label");t.className="GPimportLabel",t.htmlFor=this._addUID("GPimportName"),t.innerHTML="Nom",t.title="Nom",e.appendChild(t);var o=document.createElement("input");return o.type="text",o.id=this._addUID("GPimportName"),o.className="GPimportInput",e.appendChild(o),e},_createStaticModeChoiceDiv:function(){var e=document.createElement("div");return e.id=this._addUID("GPimportChoice"),e},_createStaticLocalChoiceDiv:function(){var e=this,t=document.createElement("div");t.className="GPimportChoiceAlt";var o=document.createElement("input");o.type="radio",o.addEventListener?o.addEventListener("change",(function(t){document.getElementById(e._addUID("GPimportValueLocal")).className="GPimportInputLine",document.getElementById(e._addUID("GPimportValueUrl")).className="GPimportValueHidden",e._onStaticImportTypeChange(t)})):o.appendChild&&o.appendChild("onchange",(function(){document.getElementById(e._addUID("GPimportValueLocal")).className="GPimportInputLine",document.getElementById(e._addUID("GPimportValueUrl")).className="GPimportValueHidden",e._onStaticImportTypeChange()})),o.name="GPimportChoiceMode",o.value="local",o.checked=!0,o.id=this._addUID("GPimportChoiceAltLocal"),t.appendChild(o);var n=document.createElement("label");return n.className="GPimportChoiceAltTxt",n.htmlFor=this._addUID("GPimportChoiceAltLocal"),n.innerHTML="par fichier local",n.title="par fichier local",t.appendChild(n),t},_createStaticUrlChoiceDiv:function(){var e=this,t=document.createElement("div");t.className="GPimportChoiceAlt";var o=document.createElement("input");o.type="radio",o.addEventListener?o.addEventListener("change",(function(t){document.getElementById(e._addUID("GPimportValueUrl")).className="GPimportInputLine",document.getElementById(e._addUID("GPimportValueLocal")).className="GPimportValueHidden",e._onStaticImportTypeChange(t)})):o.appendChild&&o.appendChild("onchange",(function(){document.getElementById(e._addUID("GPimportValueUrl")).className="GPimportInputLine",document.getElementById(e._addUID("GPimportValueLocal")).className="GPimportValueHidden",e._onStaticImportTypeChange()})),o.id=this._addUID("GPimportChoiceAltUrl"),o.name="GPimportChoiceMode",o.value="url",o.checked=!1,t.appendChild(o);var n=document.createElement("label");return n.className="GPimportChoiceAltTxt",n.htmlFor=this._addUID("GPimportChoiceAltUrl"),n.innerHTML="par URL",n.title="par URL",t.appendChild(n),t},_createStaticLocalInputDiv:function(){var e=document.createElement("div");return e.id=this._addUID("GPimportValueLocal"),e.className="GPimportInputLine",e},_createStaticLocalInputLabel:function(){var e=document.createElement("label");return e.className="GPimportLabel",e.htmlFor=this._addUID("GPimportFile"),e.innerHTML="Fichier local",e.title="Fichier local",e},_createStaticLocalInput:function(){var e=document.createElement("input");return e.type="file",e.id=this._addUID("GPimportFile"),e.className="GPimportInputFile",e},_createStaticUrlInputDiv:function(){var e=document.createElement("div");return e.id=this._addUID("GPimportValueUrl"),e.className="GPimportValueHidden",e},_createStaticUrlInputLabel:function(){var e=document.createElement("label");return e.className="GPimportLabel",e.htmlFor=this._addUID("GPimportUrl"),e.innerHTML="URL",e.title="URL",e},_createStaticUrlInput:function(){var e=document.createElement("input");return e.type="text",e.id=this._addUID("GPimportUrl"),e.className="GPimportInput",e},_createServiceParamsContainer:function(e){var t=document.createElement("div");return t.id=this._addUID("GPimportServiceParams"),t.className="WMS"===e||"WMTS"===e||"WFS"===e?"GPimportVisibleParams":"GPimportHiddenParams",t},_createServiceUrlDiv:function(){var e=document.createElement("div");return e.className="GPimportInputLine",e},_createServiceUrlInputLabel:function(){var e=document.createElement("label");return e.className="GPimportLabel",e.htmlFor=this._addUID("GPimportServiceUrl"),e.innerHTML="URL du service",e.title="URL du service",e},_createServiceUrlInput:function(){var e=document.createElement("input");return e.type="text",e.id=this._addUID("GPimportServiceUrl"),e.className="GPimportInput",e},_createImportSubmitFormElement:function(){var e=document.createElement("input");return e.id=this._addUID("GPimportSubmit"),e.className="GPinputSubmit tool-form-submit",e.type="submit",e.value="Importer",e},_createImportGetCapPanelElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPimportGetCapPanel"),e.className="GPpanel",e},_createImportGetCapPanelHeaderElement:function(){var e=this,t=document.createElement("div");t.className="GPpanelHeader";var o=document.createElement("div");o.className="GPpanelTitle",o.innerHTML="Couches accessibles",o.title="Couches accessibles",t.appendChild(o);var n=document.createElement("div");return n.addEventListener?n.addEventListener("click",(function(){document.getElementById(e._addUID("GPimportGetCapPanel")).style.display="none",document.getElementById(e._addUID("GPimportPanel")).style.display="",e._onGetCapPanelClose()})):n.attachEvent&&n.attachEvent("click",(function(){document.getElementById(e._addUID("GPimportGetCapPanel")).style.display="none",document.getElementById(e._addUID("GPimportPanel")).style.display="",e._onGetCapPanelClose()})),n.className="GPpanelClose",n.title="Fermer le panneau",n.id=this._addUID("GPimportGetCapPanelClose"),t.appendChild(n),t},_createImportGetCapResultsContainer:function(){var e=document.createElement("div");return e.className="GPimportGetCapRoot",e.id=this._addUID("GPimportGetCapResults"),e},_addImportGetCapResultListRubrique:function(e,t){var o=document.createElement("ul");return o.className="GPimportGetCapListRubrique",o.title=e,t.appendChild(o),t},_addImportGetCapResultRubrique:function(e,t){var o=document.createElement("li");o.className="GPimportGetCapRubrique";var n=document.createElement("input");n.id="GPimportGetCapRubrique-"+So.generate(),n.className="GPimportGetCapRubrique",n.type="checkbox",o.appendChild(n);var r=document.createElement("label");return r.className="GPimportGetCapRubriqueTitle",r.htmlFor=n.id,r.innerHTML=e,r.title=e,o.appendChild(r),t.appendChild(o),t},_addImportGetCapResultListLayer:function(e){var t=document.createElement("ul");return t.className="GPimportGetCapListLayer",e.appendChild(t),e},_addImportGetCapResultLayer:function(e,t,o){var n=document.createElement("li");n.className="GPimportGetCapProposal",n.innerHTML=e.content,n.title=e.title,n.id="GPimportGetCapProposal_"+t;var r=this;return n.addEventListener?n.addEventListener("click",(function(e){r._onGetCapResponseLayerClick(e)})):n.attachEvent&&n.attachEvent("onclick",(function(){r._onGetCapResponseLayerClick()})),o.appendChild(n),o},_createImportMapBoxPanelElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPimportMapBoxPanel"),e.className="GPpanel",e},_createImportMapBoxPanelHeaderElement:function(){var e=this,t=document.createElement("div");t.className="GPpanelHeader";var o=document.createElement("div");o.id=this._addUID("GPimportMapBoxPanelReturnPicto"),o.title="Masquer le panneau",o.className="",o.addEventListener?o.addEventListener("click",(function(t){e._onMapBoxReturnPictoClick(t)})):o.attachEvent&&o.attachEvent("onclick",(function(t){e._onMapBoxReturnPictoClick(t)})),t.appendChild(o);var n=document.createElement("div");n.className="GPpanelTitle",n.innerHTML="Edition des styles",n.title="Edition des styles",t.appendChild(n);var r=document.createElement("div");return r.addEventListener?r.addEventListener("click",(function(){document.getElementById(e._addUID("GPimportMapBoxPanel")).style.display="none",document.getElementById(e._addUID("GPimportPanel")).style.display="",e._onMapBoxPanelClose()})):r.attachEvent&&r.attachEvent("click",(function(){document.getElementById(e._addUID("GPimportMapBoxPanel")).style.display="none",document.getElementById(e._addUID("GPimportPanel")).style.display="",e._onMapBoxPanelClose()})),r.className="GPpanelClose",r.title="Fermer le panneau",r.id=this._addUID("GPimportMapBoxPanelClose"),t.appendChild(r),t},_createImportMapBoxResultsContainer:function(){var e=document.createElement("div");return e.className="GPimportMapBoxpRoot",e.id=this._addUID("GPimportMapBoxResults"),e}},os=o("./node_modules/ol/style/Image.js"),ns={_toolboxId:"GPtoolbox-measure-main",_buttonId:"GPtoolbox-measure-button",_widgetId:"GPtoolbox-measure-widget",getToolBoxID:function(e){return e?this._toolboxId+"-"+e:this._toolboxId},getButtonID:function(e){return e?this._buttonId+"-"+e:this._buttonId},getWidgetID:function(e){return e?this._widgetId+"-"+e:this._widgetId},_createToolBoxContainerElement:function(e){var t=document.createElement("div");t.id=this.getToolBoxID(e),t.className="GPshowAdvancedToolPicto";var o=document.createElement("button");o.id=this.getButtonID(e);var n=this;o.addEventListener("click",(function(){this.blur();var t=document.getElementById(n.getWidgetID(e));"block"===t.style.display?t.style.display="none":t.style.display="block"})),t.appendChild(o);var r=document.createElement("div");return r.id=this.getWidgetID(e),r.addEventListener("click",(function(){}),!1),t.appendChild(r),t}},rs=mt.getLogger("toolbox"),is={_toolbox:{},add:function(e,t){if(rs.trace("ToolBox.add()",t),e){var o="undefined"!=typeof window?window:"undefined"!=typeof self?self:null;o&&(this._toolbox=o.gpShareMeasureToolBox||{});var n=e.getTargetElement(),r=n.ownerDocument,i=n.id;this._toolbox&&0!==Object.keys(this._toolbox).length?this._toolbox[i]||(this._toolbox[i]=So.generate()):(this._toolbox={},this._toolbox[i]=So.generate());var a=this._toolbox[i];if(!r.getElementById(this.getToolBoxID(a))){rs.trace("create toolbox !");var s=this._createToolBoxContainerElement(a);s.style.pointerEvents="auto",n.getElementsByClassName("ol-overlaycontainer-stopevent")[0].appendChild(s)}var l=r.getElementById(this.getWidgetID(a));t.setTarget(l),o&&(o.gpShareMeasureToolBox=this._toolbox),rs.trace("add control to toolbox !")}else rs.trace("map doesn't exist !?")}};Bt.assign(is,ns);var as=is,ss=mt.getLogger("measures"),ls={DEFAULT_POINTER_STYLE:new wt.a({radius:5,stroke:new Ot.a({color:"#002A50",width:2}),fill:new St.a({color:"rgba(255, 155, 0, 0.7)"})}),DEFAULT_DRAW_START_STYLE:new It.c({fill:new St.a({color:"rgba(0, 183, 152, 0.2)"}),stroke:new Ot.a({color:"#002A50",lineDash:[10,10],width:2})}),DEFAULT_DRAW_FINISH_STYLE:new It.c({fill:new St.a({color:"rgba(0, 183, 152, 0.3)"}),stroke:new Ot.a({color:"#002A50",width:3})}),tools:{MeasureLength:[],MeasureArea:[],MeasureAzimuth:[]},measureDraw:null,measureSource:null,measureVector:null,sketch:null,measureTooltipElement:null,measureTooltip:null,helpTooltipElement:null,helpTooltip:null,clean:function(){var e=this.CLASSNAME;ss.trace("["+e+"] deactived tool !"),this.clearMeasure(),this.clearMeasureToolTip(),this.removeMeasureEvents(),this._showContainer.checked=!1},onPointerMoveHandler:function(e){if(!e.dragging){var t=e.coordinate;if(this.sketch){var o,n=this.sketch.getGeometry();if(o=this.format(n),"LineString"===n.getType())t=n.getLastCoordinate();else{if("Polygon"!==n.getType())return;t=n.getInteriorPoint().getCoordinates()}this.measureTooltipElement.innerHTML=o,this.measureTooltip.setPosition(t)}}},onShowMeasureClick:function(e,t){var o=this.getMap(),n=o.getTargetElement().id,r="undefined"!=typeof window?window:"undefined"!=typeof self?self:null;r&&(this.tools=r.gpShareMeasures||{});var i=this.CLASSNAME;for(var a in this.tools)if(this.tools.hasOwnProperty(a))for(var s=this.tools[a],l=0;l<s.length;l++){var c=s[l];c&&c.active&&a!==i&&c.map===n&&(c.active=!1,null!==c.instance&&c.instance.clean())}if(Wr.unset(o,{current:"Measures"}),this._showContainer.checked){this.clearMeasure(),this.clearMeasureToolTip(),this.removeMeasureEvents();for(var u=0;u<this.tools[i].length;u++)this.tools[i][u].map===n&&(this.tools[i][u].active=!1)}else{this.addMeasureEvents(),this.initMeasureInteraction(),this.addMeasureInteraction(t);for(var d=0;d<this.tools[i].length;d++)this.tools[i][d].map===n&&(this.tools[i][d].active=!0)}},clearMeasureToolTip:function(){var e=this.getMap();if(e)for(var t=e.getTargetElement().getElementsByClassName("ol-overlaycontainer"),o=0;o<t.length;o++){for(var n=t[o],r=n.children.length,i=[],a=0;a<r;a++){var s=n.children[a];if(0!==s.children.length){var l=s.children[0];"GPmeasureTooltip GPmeasureTooltip-static"!==l.className&&"GPmeasureTooltip GPmeasureTooltip-measure"!==l.className||i.push(s)}}for(var c=0;c<i.length;c++)n.removeChild(i[c])}},clearMeasure:function(){var e=this.getMap();this.measureVector&&(e.removeLayer(this.measureVector),this.measureVector=null),this.measureDraw&&(e.removeInteraction(this.measureDraw),this.measureDraw=null)},createMeasureTooltip:function(e){this.measureTooltipElement&&this.measureTooltipElement.parentNode.removeChild(this.measureTooltipElement),this.measureTooltipElement=document.createElement("div"),this.measureTooltipElement.className="GPmeasureTooltip GPmeasureTooltip-measure",this.measureTooltip=new c.a({element:this.measureTooltipElement,stopEvent:!1,offset:[0,-15],positioning:"bottom-center"}),e.addOverlay(this.measureTooltip)},createHelpTooltip:function(e){this.helpTooltipElement&&this.helpTooltipElement.parentNode.removeChild(this.helpTooltipElement),this.helpTooltipElement=document.createElement("div"),this.helpTooltipElement.className="tooltip hidden",this.helpTooltip=new c.a({element:this.helpTooltipElement,stopEvent:!1,offset:[15,0],positioning:"center-left"}),e.addOverlay(this.helpTooltip)},createStylingMeasureInteraction:function(e){this.options.styles=e||{},ss.trace("style start",this.options.styles.start);var t={image:ls.DEFAULT_POINTER_STYLE,fill:ls.DEFAULT_DRAW_START_STYLE.getFill(),stroke:ls.DEFAULT_DRAW_START_STYLE.getStroke()};this.options.styles.hasOwnProperty("pointer")&&this.options.styles.pointer instanceof Image&&(t.image=this.options.styles.pointer),this.options.styles.hasOwnProperty("start")&&this.options.styles.start instanceof It.c&&(null!=this.options.styles.start.getFill()&&(t.fill=this.options.styles.start.getFill()),null!=this.options.styles.start.getStroke()&&(t.stroke=this.options.styles.start.getStroke())),this.options.styles.start=new It.c(t),ss.trace("style finish",this.options.styles.finish);var o={fill:ls.DEFAULT_DRAW_FINISH_STYLE.getFill(),stroke:ls.DEFAULT_DRAW_FINISH_STYLE.getStroke()};this.options.styles.hasOwnProperty("finish")&&this.options.styles.finish instanceof It.c&&(null!=this.options.styles.finish.getFill()&&(o.fill=this.options.styles.finish.getFill()),null!=this.options.styles.finish.getStroke()&&(o.stroke=this.options.styles.finish.getStroke())),this.options.styles.finish=new It.c(o)},addMeasureInteraction:function(e){var t=this.getMap(),o=this;this.measureDraw=new y.d({source:this.measureSource,condition:function(e){return!e.originalEvent.ctrlKey||(o.sketch&&this.removeLastPoint(),!1)},type:e,style:this.options.styles.start||ls.DEFAULT_DRAW_START_STYLE}),this.measureDraw.setProperties({name:"Measures",source:this}),t.addInteraction(this.measureDraw),this.createMeasureTooltip(t),this.measureDraw.on("drawstart",(function(e){o.sketch=e.feature})),this.measureDraw.on("drawend",(function(){if(o.sketch){var e,n,r=o.sketch.getGeometry();if(e=o.format(r),"LineString"===r.getType())n=r.getLastCoordinate();else{if("Polygon"!==r.getType())return;n=r.getInteriorPoint().getCoordinates()}o.measureTooltipElement.innerHTML=e,o.measureTooltip.setPosition(n)}o.measureTooltipElement.className="GPmeasureTooltip GPmeasureTooltip-static",o.measureTooltip.setOffset([0,-7]),o.sketch=null,o.measureTooltipElement=null,o.createMeasureTooltip(t)}))},initMeasureInteraction:function(){var e=this,t=this.getMap();this.measureSource=new d.b,this.measureVector=new vi.a({source:this.measureSource,style:this.options.styles.finish||ls.DEFAULT_DRAW_FINISH_STYLE}),this.measureVector.gpResultLayerId="measure",t.addLayer(this.measureVector),t.getControls().forEach((function(t){if(t instanceof Dr){var o=e.measureVector.gpLayerId;t._layers[o].title===o&&t.addLayer(e.measureVector,{title:e.options.layerDescription.title,description:e.options.layerDescription.description})}}))}},cs=ls,us={_addUID:function(e){return this._uid?e+"-"+this._uid:e},_createMainContainerElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPelevationPath"),e.className="GPwidget",e},_createShowElevationPathElement:function(){var e=document.createElement("input");return e.id=this._addUID("GPshowElevationPath"),e.type="checkbox",e},_createShowElevationPathPictoElement:function(){var e=this,t=document.createElement("label");t.id=this._addUID("GPshowElevationPathPicto"),t.className="GPshowAdvancedToolPicto",t.htmlFor=this._addUID("GPshowElevationPath"),t.title="Calculer un profil",t.addEventListener?t.addEventListener("click",(function(t){e.onShowElevationPathClick(t)})):t.attachEvent&&t.attachEvent("onclick",(function(t){e.onShowElevationPathClick(t)}));var o=document.createElement("span");return o.id=this._addUID("GPshowElevationPathOpen"),o.className="GPshowAdvancedToolOpen",t.appendChild(o),t},_createElevationPathPanelElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPelevationPathPanel"),e.className="GPpanel",e},_createElevationPathPanelHeaderElement:function(){var e=this,t=document.createElement("div");t.className="GPpanelHeader";var o=document.createElement("div");o.id=this._addUID("GPelevationPathPanelInfo"),o.className="GPpanelInfo",o.title="Informations",o.addEventListener?o.addEventListener("click",(function(){e.onOpenElevationPathInfoClick()})):o.attachEvent&&o.attachEvent("onclick",(function(){e.onOpenElevationPathInfoClick()})),t.appendChild(o);var n=document.createElement("div");n.className="GPpanelTitle",n.innerHTML="Profil AltimÃ©trique",t.appendChild(n);var r=document.createElement("div");r.id=this._addUID("GPelevationPathPanelReduce"),r.className="GPpanelReduce",r.title="Masquer le panneau",r.addEventListener?r.addEventListener("click",(function(){"function"==typeof e.onReduceElevationPathPanelClick&&(document.getElementById(e._addUID("GPshowElevationPath")).checked=!1,e.onReduceElevationPathPanelClick())}),!1):r.attachEvent&&r.attachEvent("onclick",(function(){"function"==typeof e.onReduceElevationPathPanelClick&&(document.getElementById(e._addUID("GPshowElevationPath")).checked=!1,e.onReduceElevationPathPanelClick())})),t.appendChild(r);var i=document.createElement("div");return i.id=this._addUID("GPelevationPathPanelClose"),i.className="GPpanelClose",i.title="Fermer le panneau",i.addEventListener?i.addEventListener("click",(function(){document.getElementById(e._addUID("GPshowElevationPathPicto")).click()}),!1):i.attachEvent&&i.attachEvent("onclick",(function(){document.getElementById(e._addUID("GPshowElevationPathPicto")).click()})),t.appendChild(i),t},_createElevationPathPanelProfilElement:function(){var e=document.createElement("div");return e.id="GPelevationPathProfil",e},_createElevationPathWaitingElement:function(){var e=document.createElement("div");e.id=this._addUID("GPelevationPathCalcWaitingContainer"),e.className="GPelevationPathCalcWaitingContainerHidden";var t=document.createElement("p");return t.className="GPelevationPathCalcWaiting",t.innerHTML="Calcul en cours...",e.appendChild(t),e},_createElevationPathInformationsElement:function(){var e=document.createElement("div");e.id=this._addUID("GPelevationPathInformationsContainer"),e.className="GPelevationPathInformationsContainerHidden";var t=document.createElement("p");return t.className="GPelevationPathInformations",t.innerHTML="Aucune information...",e.appendChild(t),e},_addElevationPathInformationsItem:function(e){var t=document.getElementById(this._addUID("GPelevationPathInformationsContainer"));if(t){var o=document.createElement("p");o.className="GPelevationPathInformations",o.innerHTML=e,t.appendChild(o)}return t}},ds={_getCssProperty:function(e,t){return window.getComputedStyle(e,null).getPropertyValue(t)},_getTextWidth:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=this.canvas||(this.canvas=document.createElement("canvas")),r=n.getContext("2d");r.font=null===o?"".concat(this._getCssProperty(t,"font-weight")," ").concat(this._getCssProperty(t,"font-size")," ").concat(this._getCssProperty(t,"font-family")):o;var i=r.measureText(e);return i.width},_dataZToSvgY:function(e,t,o,n){return t-(e-o)*n-.5},_dataDistToSvgX:function(e,t,o,n){return t-o+e*n},_svgXToDataDist:function(e,t,o,n){return(e+o-t)/n},_arrayBisect:function(e,t){var o;if(0===e.length)return 0;for(o=0;o<e.length;o++)if(t<e[o].dist)return o;return o-1},displayProfileByDefault:function(e,t,o,n){var r=o;if(t&&e){for(;t.firstChild;)t.removeChild(t.firstChild);var i=25,a=15,s=10,l=10,c=r.options.displayProfileOptions,u=e.points,d=JSON.parse(JSON.stringify(u));d.sort((function(e,t){return e.z-t.z}));var h=d[0].z,p=d[d.length-1].z,f=e.distance,g="m",m=document.createElement("div");m.id="profileElevationByDefault",t.appendChild(m);var y=window.getComputedStyle(t).getPropertyValue("width").replace(/px/,""),v=window.getComputedStyle(t).getPropertyValue("height").replace(/px/,""),_=v-i-s,b=y-l-a,A=this._getTextWidth(Math.round(p).toLocaleString()+",88",t,"400 10 Verdana"),C=this._getTextWidth(Math.round(f).toLocaleString()+",5",t),w=_-17-15,E=b-17-A,I=document.createElementNS("http://www.w3.org/2000/svg","svg");I.id="profileElevationByDefaultSvg",I.setAttribute("style","display: block; margin: auto; overflow: visible; position: absolute; left: 10px;"),I.setAttribute("viewBox","0 0 ".concat(y," ").concat(v)),I.setAttribute("width","100%"),I.setAttribute("height","100%");var O,S=Math.floor(w/15);O=p===h?.1:Math.pow(10,Math.ceil(Math.log((p-h)/S)/Math.log(10)))/2;var x=Math.floor(h/O)*O,j=Math.ceil(p/O)*O;j===p&&(j+=O),x=Math.round(100*x)/100,j=Math.round(100*j)/100;var P=Math.round((j-x)/O);P+1>S&&(O=Math.pow(10,Math.ceil(Math.log((p-h)/S)/Math.log(10))),x=Math.floor(h/O)*O,(j=Math.ceil(p/O)*O)===p&&(j+=O),x=Math.round(100*x)/100,j=Math.round(100*j)/100,P=Math.floor((j-x)/O)),P=Math.max(Math.round(P),1);var T=document.createElementNS("http://www.w3.org/2000/svg","g");T.setAttribute("class","profile-z-vertical");var M,R,L,k,G,D,N,F=document.createElementNS("http://www.w3.org/2000/svg","g"),U=w/P;M=p===h?w/.2:w/(j-x);for(var B=0;B<=P;B++)(R=document.createElementNS("http://www.w3.org/2000/svg","text")).setAttribute("class","profile-z-graduation"),R.setAttribute("font-family","Verdana"),R.setAttribute("font-size","10px"),R.setAttribute("fill","#5E5E5E"),R.textContent=(Math.round(100*(x+B*O))/100).toLocaleString(),L=w-B*U,R.setAttribute("transform","translate(".concat(17+A-8,", ").concat(L+5,")")),R.setAttribute("text-anchor","end"),T.appendChild(R),k=Math.round(L)-.5,G=document.createElementNS("http://www.w3.org/2000/svg","g"),(D=document.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("cs","100,100"),D.setAttribute("stroke-width","1"),0!==B?D.setAttribute("stroke-opacity","0.2"):D.setAttribute("stroke-opacity","1"),D.setAttribute("stroke","#000000"),D.setAttribute("fill","none"),D.setAttribute("d","M".concat(17+A,",").concat(k," L").concat(E+17+A,",").concat(k)),(N=document.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("cs","100,100"),N.setAttribute("stroke-width","1"),N.setAttribute("stroke-opacity","1"),N.setAttribute("stroke","#000000"),N.setAttribute("fill","none"),N.setAttribute("d","M".concat(17+A,",").concat(k," L").concat(17+A+5,",").concat(k)),N.setAttribute("transform","translate(-5, 0)"),G.appendChild(N),G.appendChild(D),F.appendChild(G);var z=document.createElementNS("http://www.w3.org/2000/svg","text");z.setAttribute("class","profile-z-legend"),z.setAttribute("font-family","Verdana"),z.setAttribute("font-size","11px"),z.setAttribute("fill","#5E5E5E"),z.textContent="Altitude (m)",z.setAttribute("transform","translate(".concat(9,", ").concat(Math.round(w/2),") rotate(-90)")),z.setAttribute("text-anchor","middle"),T.appendChild(z),I.appendChild(T),I.appendChild(F),f>2e3&&(f/=1e3,g="km");var V=Math.floor(E/C),W=Math.pow(10,Math.ceil(Math.log(f/V)/Math.log(10)))/2,q=f,Y=Math.floor(q/W);Y>V?(W=Math.pow(10,Math.ceil(Math.log(f/V)/Math.log(10))),Y=Math.floor(q/W)):Y<1&&(W=Math.pow(10,Math.ceil(Math.log(f/V)/Math.log(10))-1),Y=Math.floor(q/W));var H=W*(Y=Math.max(Y,1)),X=document.createElementNS("http://www.w3.org/2000/svg","g");X.setAttribute("class","profile-x-vertical");for(var Z,K,J,Q,$,ee,te=document.createElementNS("http://www.w3.org/2000/svg","g"),oe=E/q,ne=(q-H)*oe,re=Math.round((E-ne)/Y),ie=0;ie<=Y+1;ie++)(Z=document.createElementNS("http://www.w3.org/2000/svg","text")).setAttribute("class","profile-x-graduation"),Z.setAttribute("font-family","Verdana"),Z.setAttribute("font-size","10px"),Z.setAttribute("fill","#5E5E5E"),ie!==Y+1&&(Z.textContent=(Math.round(100*ie*W)/100).toLocaleString()),K=17+A+ie*re,ie===Y+1&&(K=17+A+E),Z.setAttribute("transform","translate(".concat(K,", ").concat(w+15+5,")")),Z.setAttribute("text-anchor","middle"),X.appendChild(Z),J=K-.5,Q=document.createElementNS("http://www.w3.org/2000/svg","g"),($=document.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("cs","100,100"),$.setAttribute("stroke-width","1"),0!==ie?$.setAttribute("stroke-opacity","0.2"):$.setAttribute("stroke-opacity","1"),$.setAttribute("stroke","#000000"),$.setAttribute("fill","none"),$.setAttribute("d","M".concat(J,",").concat(w," L").concat(J,",0")),(ee=document.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("cs","100,100"),ee.setAttribute("stroke-width","1"),ee.setAttribute("stroke-opacity","1"),ee.setAttribute("stroke","#000000"),ee.setAttribute("fill","none"),ee.setAttribute("d","M".concat(J,",").concat(w," L").concat(J,",").concat(w-5)),ee.setAttribute("transform","translate(0, 5)"),Q.appendChild(ee),Q.appendChild($),te.appendChild(Q);var ae=document.createElementNS("http://www.w3.org/2000/svg","text");ae.setAttribute("class","profile-x-legend"),ae.setAttribute("font-family","Verdana"),ae.setAttribute("font-size","11px"),ae.setAttribute("fill","#5E5E5E"),ae.textContent="Distance (".concat(g,")"),ae.setAttribute("transform","translate(".concat(17+A+E/2,", ").concat(w+15+17+3,")")),ae.setAttribute("text-anchor","middle"),X.appendChild(ae),I.appendChild(X),I.appendChild(te);var se=document.createElementNS("http://www.w3.org/2000/svg","g"),le=1;"km"===g&&(le=1e3);for(var ce=this._dataDistToSvgX(u[0].dist/le,b,E,oe),ue=this._dataZToSvgY(u[0].z,w,x,M),de="M".concat(ce,",").concat(ue),he=1;he<u.length;he++)ce=this._dataDistToSvgX(u[he].dist/le,b,E,oe),ue=this._dataZToSvgY(u[he].z,w,x,M),de+=" L".concat(ce,",").concat(ue);var pe=document.createElementNS("http://www.w3.org/2000/svg","path");pe.setAttribute("cs","100,100"),pe.setAttribute("stroke-width","1"),pe.setAttribute("stroke-opacity","1"),pe.setAttribute("stroke","#0B6BA7"),pe.setAttribute("fill","none"),pe.setAttribute("d",de),de+=" L".concat(ce,",").concat(w),de+=" L".concat(b-E,",").concat(w);var fe=document.createElementNS("http://www.w3.org/2000/svg","path");fe.setAttribute("cs","100,100"),fe.setAttribute("stroke-width","1"),fe.setAttribute("stroke-opacity","0"),fe.setAttribute("stroke","#000000"),fe.setAttribute("fill","#00B798"),fe.setAttribute("fill-opacity","0.4"),fe.setAttribute("d",de),se.appendChild(pe),se.appendChild(fe),I.appendChild(se);var ge=document.createElementNS("http://www.w3.org/2000/svg","g"),me=document.createElementNS("http://www.w3.org/2000/svg","rect");me.setAttribute("width",E),me.setAttribute("height",w),me.setAttribute("transform","translate(".concat(b-E,",0)")),me.setAttribute("visibility","hidden"),me.setAttribute("pointer-events","all");var ye=JSON.parse(JSON.stringify(u));ye.sort((function(e,t){return e.dist-t.dist}));var ve=document.createElementNS("http://www.w3.org/2000/svg","line");ve.setAttribute("id","focusLineX"),ve.setAttribute("class","focusLine-default"),ve.setAttribute("fill","none"),ve.setAttribute("stroke","#F90"),ve.setAttribute("stroke-width","0.5px"),ve.setAttribute("visibility","hidden");var _e=document.createElementNS("http://www.w3.org/2000/svg","line");_e.setAttribute("id","focusLineY"),_e.setAttribute("class","focusLine-default"),_e.setAttribute("fill","none"),_e.setAttribute("stroke","#F90"),_e.setAttribute("stroke-width","0.5px"),_e.setAttribute("visibility","hidden");var be=document.createElementNS("http://www.w3.org/2000/svg","circle");be.setAttribute("id","focusCircle"),be.setAttribute("r",4),be.setAttribute("class","circle-default focusCircle-default"),be.setAttribute("fill","#F90"),be.setAttribute("visibility","hidden"),ge.appendChild(be),ge.appendChild(ve),ge.appendChild(_e);var Ae=document.createElementNS("http://www.w3.org/2000/svg","text"),Ce=document.createElementNS("http://www.w3.org/2000/svg","tspan"),we=document.createElementNS("http://www.w3.org/2000/svg","tspan"),Ee=document.createElementNS("http://www.w3.org/2000/svg","tspan");Ae.setAttribute("style","text-align:center; max-width:220px; font-size:10px; color:#000000; font-family:Verdana; z-index:50;"),Ae.style.pointerEvents="none",Ae.style.position="fixed",Ae.setAttribute("class","tooltipInit"),Ae.setAttribute("text-anchor","middle"),m.appendChild(Ae),Ce.setAttribute("class","altiPathValue"),Ce.setAttribute("x","0"),Ce.setAttribute("dy","-.7em"),we.setAttribute("class","altiPathValue"),we.setAttribute("x","0"),we.setAttribute("dy","1em"),Ee.setAttribute("class","altiPathCoords"),Ee.setAttribute("x","0"),Ee.setAttribute("dy","1em"),Ae.appendChild(Ce),c.currentSlope&&Ae.appendChild(we),Ae.appendChild(Ee);var Ie=document.createElementNS("http://www.w3.org/2000/svg","g");ge.appendChild(Ie);var Oe=document.createElementNS("http://www.w3.org/2000/svg","path");Oe.setAttribute("cs","100,100"),Oe.setAttribute("fill","#FFFFFF"),Oe.setAttribute("stroke","#CCCCCC"),Oe.setAttribute("fill-opacity","0.8"),Oe.setAttribute("stroke-width","1"),Oe.setAttribute("stroke-opacity","1");var Se=document.createElementNS("http://www.w3.org/2000/svg","path");return Se.setAttribute("cs","100,100"),Se.setAttribute("fill","#FFFFFF"),Se.setAttribute("stroke","#000000"),Se.setAttribute("fill-opacity","0"),Se.setAttribute("stroke-width","1"),Se.setAttribute("stroke-opacity","0.4"),Se.setAttribute("transform","translate(1,1)"),Ie.appendChild(Se),Ie.appendChild(Oe),Ie.appendChild(Ae),Ie.setAttribute("class","tooltipInit"),Ie.style.pointerEvents="none",me.addEventListener("pointerover",(function(){ve.setAttribute("visibility","visible"),_e.setAttribute("visibility","visible"),be.setAttribute("visibility","visible"),n.__createProfileMarker(r,u[0]),Ae.setAttribute("class","tooltipFadeIn"),Ie.setAttribute("class","tooltipFadeIn")})),me.addEventListener("pointerout",(function(){ve.setAttribute("visibility","hidden"),_e.setAttribute("visibility","hidden"),be.setAttribute("visibility","hidden"),n.__removeProfileMarker(r),Ae.setAttribute("class","tooltipFadeOut"),Ie.setAttribute("class","tooltipFadeOut")})),me.addEventListener("pointermove",function(e){var t=I.createSVGPoint();t.x=e.clientX,t.y=e.clientY;var o=t.matrixTransform(I.getScreenCTM().inverse()),i=this._svgXToDataDist(o.x,b,E,oe)*le,a=Math.max(1,this._arrayBisect(ye,i)),s=u[a-1],l=u[a],c=s;i-s.dist>l.dist-i&&(c=l);var d=this._dataDistToSvgX(c.dist/le,b,E,oe),h=this._dataZToSvgY(c.z,w,x,M);be.setAttribute("cx",d),be.setAttribute("cy",h),ve.setAttribute("x1",d),ve.setAttribute("y1",w),ve.setAttribute("x2",d),ve.setAttribute("y2",0),_e.setAttribute("x1",17+A),_e.setAttribute("y1",h),_e.setAttribute("x2",E+17+A),_e.setAttribute("y2",h),n.__updateProfileMarker(r,c);var p="Altitude : ".concat(c.z.toLocaleString()," m"),g="Pente : ".concat(c.slope," %"),m="(lat : ".concat(c.lat.toLocaleString()," / lon : ").concat(c.lon.toLocaleString(),")");Ce.innerHTML=p,we.innerHTML=g,Ee.innerHTML=m;var y,v=Math.max(this._getTextWidth(m,Ee),this._getTextWidth(p,Ce));c.dist>f*le/2?(y="M -0.5 -0.5 l -6 6 l 0 16 l -".concat(v+10," 0 l 0 -44 l ").concat(v+10," 0 l 0 16 l 6 6"),Ae.setAttribute("transform","translate(".concat(-(v/2+12),",0)"))):c.dist<=f*le/2&&(y="M -0.5 -0.5 l 6 6 l 0 16 l ".concat(v+10," 0 l 0 -44 l -").concat(v+10," 0 l 0 16 l -6 6"),Ae.setAttribute("transform","translate(".concat(v/2+12,",0)"))),Oe.setAttribute("d",y),Se.setAttribute("d",y),Ie.setAttribute("transform","translate(".concat(d,",").concat(h,")")),Ie.style.transform="translate(".concat(d,"px,").concat(h,"px)")}.bind(this)),ge.appendChild(me),I.appendChild(ge),m.appendChild(I),t}},displayProfileRaw:function(e,t,o,n){if(t){for(;t.firstChild;)t.removeChild(t.firstChild);var r=e&&e.points?e.points:{},i=document.createElement("textarea");return i.id="profilElevationResults",i.rows=10,i.cols=50,i.style.width="100%",i.innerHTML=JSON.stringify(r,void 0,4),i.addEventListener("mouseover",(function(e){n.__customRawProfileMouseOverEvent(o,e)})),t.appendChild(i),t}},displayProfileLibD3:function(e,t,o,n){var r=o;if(t&&e){for(;t.firstChild;)t.removeChild(t.firstChild);var i=e.points;if(e.distance>2e3){e.unit="km";for(var a=0;a<i.length;a++)i[a].dist/=1e3}var s=r.options.displayProfileOptions,l=20,c=20,u=30,d=40,h=window.getComputedStyle(t).getPropertyValue("width"),p=window.getComputedStyle(t).getPropertyValue("height"),f=h.replace(/px/,"")-d-c,g=p.replace(/px/,"")-l-u,m=d3.scale.linear().range([0,f]),y=d3.scale.linear().range([g,0]),v=d3.svg.axis().scale(m).orient("bottom").ticks(5),_=d3.svg.axis().scale(y).orient("left").ticks(5),b=d3.svg.line().interpolate("basis").x((function(e){return m(e.dist)})).y((function(e){return y(e.z)})),A=d3.svg.area().interpolate("basis").x((function(e){return m(e.dist)})).y0(g).y1((function(e){return y(e.z)})),C=d3.select(t).append("svg").attr("width",f+d+c).attr("height",g+l+u).append("g").attr("transform","translate("+d+","+l+")"),w=d3.extent(i,(function(e){return e.dist}));m.domain(w);var E=[0,d3.max(i,(function(e){return e.z}))];y.domain(E),C.append("path").datum(i).attr("class","area-d3").attr("d",A),C.append("g").attr("class","x axis-d3").attr("transform","translate(0,"+g+")").call(v).append("text").attr("y",-15).attr("dy",".71em").attr("x",f).text("Distance ("+e.unit+")"),C.append("g").attr("class","y axis-d3").call(_).append("text").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").text("Altitude (m)"),C.append("g").attr("class","grid-d3 vertical").attr("transform","translate(0,"+g+")").call(v.orient("bottom").tickSize(-g,0,0).tickFormat("")),C.append("g").attr("class","grid-d3 horizontal").call(_.orient("left").tickSize(-f,0,0).tickFormat("")),C.append("path").datum(i).attr("class","line-d3").attr("d",b),C.selectAll("circle").data(i).enter().append("circle").attr("cx",(function(e){return m(e.dist)})).attr("cy",(function(e){return y(e.z)})).attr("r",0).attr("class","circle-d3");var I=C.append("g").style("display","none");I.append("line").attr("id","focusLineX").attr("class","focusLine-d3"),I.append("line").attr("id","focusLineY").attr("class","focusLine-d3"),I.append("circle").attr("id","focusCircle").attr("r",4).attr("class","circle-d3 focusCircle-d3");var O=d3.select(t).append("div").attr("class","tooltip-d3").style("opacity",0),S=d3.bisector((function(e){return e.dist})).left;return C.append("rect").attr("class","overlay-d3").attr("width",f).attr("height",g).on("mouseover",(function(){I.style("display",null),n.__createProfileMarker(r,i[0])})).on("mouseout",(function(){I.style("display","none"),n.__removeProfileMarker(r),O.transition().duration(500).style("opacity",0)})).on("mousemove",(function(){var e=d3.mouse(this),t=m.invert(e[0]),o=Math.max(1,S(i,t)),a=i[o-1],l=i[o],c=t-a[0]>l[0]-t?l:a,u=m(c.dist),d=y(c.z);I.select("#focusCircle").attr("cx",u).attr("cy",d),I.select("#focusLineX").attr("x1",u).attr("y1",y(E[0])).attr("x2",u).attr("y2",y(E[1])),I.select("#focusLineY").attr("x1",m(w[0])).attr("y1",d).attr("x2",m(w[1])).attr("y2",d),n.__updateProfileMarker(r,c),O.transition().duration(200).style("opacity",.9);var h="";h+=" Altitude : "+c.z+" m",s.currentSlope&&(h+="<br/> Pente : "+c.slope+" %"),h+="<br/> (Lat : "+c.lat+"/ Lon : "+c.lon+")",O.html(h).style("left",d3.event.pageX+"px").style("top",d3.event.pageY-28+"px")})),C}},displayProfileLibAmCharts:function(e,t,o,n){var r=o;if(t&&e){var i=e.points,a="<span class='altiPathValue'>[[title]] : [[value]]m</span><br/>";if(r.options.displayProfileOptions.currentSlope&&(a+="<span class='altiPathValue'>Pente : [[slope]] %</span><br/>"),a+="<span class='altiPathCoords'>(Lat: [[lat]] / Lon:[[lon]])</span>",AmCharts.addInitHandler((function(){})),e.distance>2e3){e.unit="km";for(var s=0;s<i.length;s++)i[s].dist/=1e3}for(var l=0;l<i.length;l++){var c=i[l].dist,u=100;c>100?u=1:c>10&&(u=10),c=Math.round(c*u)/u,i[l].dist=c}var d={type:"serial",pathToImages:"http://cdn.amcharts.com/lib/3/images/",categoryField:"dist",autoMarginOffset:0,marginRight:10,marginTop:10,startDuration:0,color:"#5E5E5E",fontSize:8,theme:"light",thousandsSeparator:"",numberFormatter:{precision:-1,decimalSeparator:",",thousandsSeparator:" "},categoryAxis:{color:"#5E5E5E",gridPosition:"start",minHorizontalGap:40,tickPosition:"start",title:"Distance ("+e.unit+")",titleColor:"#5E5E5E",labelOffset:0,startOnAxis:!0},chartCursor:{animationDuration:0,bulletsEnabled:!0,bulletSize:10,categoryBalloonEnabled:!1,cursorColor:"#F90",graphBulletAlpha:1,graphBulletSize:1,zoomable:!1},trendLines:[],graphs:[{balloonColor:"#CCCCCC",balloonText:a,bullet:"round",bulletAlpha:0,bulletBorderColor:"#FFF",bulletBorderThickness:2,bulletColor:"#F90",bulletSize:6,hidden:!1,id:"AmGraph-1",fillAlphas:.4,fillColors:"#C77A04",lineAlpha:1,lineColor:"#C77A04",lineThickness:1,title:"Altitude",valueField:"z"}],guides:[],valueAxes:[{id:"ValueAxis-1",minVerticalGap:20,title:"Altitude (m)"}],balloon:{borderColor:"#CCCCCC",borderThickness:1,fillColor:"#FFFFFF",showBullet:!0},titles:[],allLabels:[],dataProvider:i},h=AmCharts.makeChart(t,d);return h.addListener("changed",(function(e){var t=e.chart.dataProvider[e.index];n.__updateProfileMarker(r,t)})),h}}};function hs(e){return(hs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ps=mt.getLogger("elevationpath"),fs=function(e){function t(o){if(ps.trace("ElevationPath()"),o=o||{},!(this instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this.CLASSNAME="ElevationPath",this._uid=So.generate(),this._showContainer=null,this._pictoContainer=null,this._panelContainer=null,this._profileContainer=null,this._waitingContainer=null,this._infoContainer=null,this._timerHdlr=null,this._drawStyleStart=null,this._drawStyleFinish=null,this._markerStyle=null,this._profile=null,this._data={},this._measureSource=null,this._measureVector=null,this._measureDraw=null,this._lastSketch=null,this._currentSketch=null,this._marker=null,this._initialize(o),this._container=o.element?o.element:this._initializeContainer(),e.call(this,{element:this._container,target:o.target,render:o.render})}return e&&(t.__proto__=e),t.prototype=Object.create(e.prototype,{}),Bt.assign(t.prototype,us),t.__removeProfileMarker=function(e){var t=e;t._marker&&(t._measureSource.removeFeature(t._marker),t._marker=null)},t.__createProfileMarker=function(e,t){var o=e;o._marker&&(o._measureSource.removeFeature(o._marker),o._marker=null);var n=o.getMap().getView().getProjection(),r=Object(s.E)([t.lon,t.lat],"EPSG:4326",n),i=o._measureSource.getFeatures()[0].getGeometry().getClosestPoint(r),a=new _i.a(i);o._marker=new Tt.b({geometry:a}),ps.trace(a),o._marker.setStyle(o._markerStyle),o._measureSource.addFeature(o._marker)},t.__updateProfileMarker=function(e,o){var n=e;t.__removeProfileMarker(n),t.__createProfileMarker(n,o)},t.__customRawProfileOperation=function(e,o){ps.log("__customRawProfileOperation");for(var n=e,r=o.points,i=n.getMap().getView().getProjection(),a=0;a<r.length;a++){var l=r[a],c=Object(s.E)([l.lon,l.lat],"EPSG:4326",i),u=new _i.a(c);n._marker=new Tt.b({geometry:u}),ps.trace(u);var d=t.DEFAULT_STYLES.RESULTS,h=new wt.a({radius:d.imageRadius,stroke:new Ot.a({color:d.imageStrokeColor,width:d.imageStrokeWidth}),fill:new St.a({color:d.imageFillColor})});n._marker.setStyle(new It.c({image:h})),n._measureSource.addFeature(n._marker)}},t.__customRawProfileMouseOverEvent=function(e,t){ps.log("__customRawProfileMouseOverEvent",e,t)},t.DISPLAY_PROFILE_LIB_AMCHARTS=function(e,o,n){if(ps.trace("ElevationPath.DISPLAY_PROFILE_LIB_AMCHARTS"),"undefined"!=typeof AmCharts){var r=ds.displayProfileLibAmCharts(e,o,n,t);r&&(this._profile=r)}else ps.log("Lib. AmCharts is not loaded !")},t.DISPLAY_PROFILE_LIB_D3=function(e,o,n){if(ps.trace("ElevationPath.DISPLAY_PROFILE_LIB_D3"),"undefined"!=typeof d3){var r=ds.displayProfileLibD3(e,o,n,t);r&&(this._profile=r)}else ps.log("Lib. D3 is not loaded !")},t.DISPLAY_PROFILE_RAW=function(e,o,n){ps.trace("ElevationPath.DISPLAY_PROFILE_RAW");var r=ds.displayProfileRaw(e,o,n,t);r&&(this._profile=r)},t.DISPLAY_PROFILE_BY_DEFAULT=function(e,o,n){ps.trace("ElevationPath.DISPLAY_PROFILE_BY_DEFAULT");var r=ds.displayProfileByDefault(e,o,n,t);r&&(this._profile=r)},t.DEFAULT_STYLES={MARKER:new Et.a({src:Pt.lightOrange,anchor:[.5,1],snapToPixel:!0}),RESULTS:{imageRadius:5,imageFillColor:"rgba(128, 128, 128, 0.2)",imageStrokeColor:"rgba(0, 0, 0, 0.7)",imageStrokeWidth:2}},t.prototype.constructor=t,t.prototype.setMap=function(t){if(ps.trace("ElevationPath::setMap"),t&&(this.options.active&&(null===this._profile&&(this._panelContainer.style.display="none"),this._initMeasureInteraction(t),this._addMeasureInteraction(t)),this.options.target||as.add(t,this),this.options.export)){var o=Bt.assign({control:this},this.options.export);this.export=new Wi(o),this.export.render();var n=this;this.export.on("export:compute",(function(e){n.dispatchEvent({type:"export:compute",content:e.content})}))}e.prototype.setMap.call(this,t)},t.prototype.getActive=function(){return ps.trace("ElevationPath::getActive"),this.options.active},t.prototype.setActive=function(e){ps.trace("ElevationPath::setActive"),this.options.active=e},t.prototype.getData=function(){return Bt.assign({type:"elevationpath"},this._data)},t.prototype.setData=function(e){this._data=e},t.prototype.getContainer=function(){return this._container},t.prototype.getLayer=function(){return this._measureVector},t.prototype.setLayer=function(e){e?e instanceof vi.a?(e.setStyle(this._drawStyleFinish),this._measureVector=e,this._measureSource=e.getSource()):ps.log("no valid layer given for hosting drawn features."):this._measureVector=null},t.prototype.getGeoJSON=function(){var e=this._measureVector.getSource().getFeatures();return new Qt({defaultStyle:this._drawStyleFinish}).writeFeatures(e,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"})},t.prototype.getStyle=function(){return this._drawStyleFinish},t.prototype.clean=function(e){ps.trace("ElevationPath::clean");var t=this.getMap();this._panelContainer.style.display="none",this._showContainer.checked=!1,this._removeProfile(),this._removeMeasureInteraction(t,void 0!==e&&e),this.setLayer()},t.prototype.init=function(){this._showContainer.checked=!0,this._panelContainer.style.display="block",this._displayProfile(this._data),this._waitingContainer.className="GPelevationPathCalcWaitingContainerHidden"},t.prototype._initialize=function(e){ps.trace("ElevationPath::_initialize : ",e),this.options={target:null,render:null,active:!1,apiKey:null,export:!1,elevationOptions:{outputFormat:"json"},layerDescription:{title:"Profil altimÃ©trique",description:"Mon profil altimÃ©trique"},displayProfileOptions:{totalDistance:!0,greaterSlope:!0,meanSlope:!0,ascendingElevation:!0,descendingElevation:!0,currentSlope:!0,apply:null,target:null},stylesOptions:{profile:null,draw:null,marker:null}},Bt.mergeParams(this.options,e),this.options.target=e.target||null,this.options.apiKey=e.apiKey;var o=e.displayProfileOptions||{};this.export=null;var n=o.apply;this.options.displayProfileOptions.apply="function"==typeof n?n:t.DISPLAY_PROFILE_BY_DEFAULT;var r=o.target;this.options.displayProfileOptions.target=void 0!==r?r:null;var i=e.stylesOptions||{};this.options.stylesOptions.draw=i.draw||{},this._createStylingDraw(),this.options.stylesOptions.marker=i.marker||{},this._createStylingMarker()},t.prototype._initializeContainer=function(){ps.trace("ElevationPath::_initializeContainer : ",this._uid);var e=this._createMainContainerElement(),t=this._showContainer=this._createShowElevationPathElement();e.appendChild(t);var o=this._pictoContainer=this._createShowElevationPathPictoElement();e.appendChild(o),this.options.active&&(this._showContainer.checked=!0);var n=this._panelContainer=this._createElevationPathPanelElement(),r=this._createElevationPathPanelHeaderElement();n.appendChild(r);var i=this._profileContainer=this._createElevationPathPanelProfilElement();n.appendChild(i);var a=this._waitingContainer=this._createElevationPathWaitingElement();n.appendChild(a);var s=this._infoContainer=this._createElevationPathInformationsElement();return n.appendChild(s),null===this.options.displayProfileOptions.target&&e.appendChild(n),e},t.prototype._createStylingMarker=function(){ps.trace("ElevationPath::_createStylingMarker ");var e=t.DEFAULT_STYLES.MARKER;ps.trace("style marker",e),this.options.stylesOptions.marker instanceof os.a&&(e=this.options.stylesOptions.marker),this._markerStyle=new It.c({image:e})},t.prototype._createStylingDraw=function(){ps.trace("ElevationPath::_createStylingDraw");var e=this.options.stylesOptions.draw;ps.trace("style start",e.start);var t={image:cs.DEFAULT_POINTER_STYLE,stroke:cs.DEFAULT_DRAW_START_STYLE.getStroke()};e.hasOwnProperty("pointer")&&e.pointer instanceof os.a&&(t.image=e.pointer),e.hasOwnProperty("start")&&e.start instanceof Ot.a&&(t.stroke=e.start),this._drawStyleStart=new It.c(t),ps.trace("style finish",e.finish);var o={stroke:cs.DEFAULT_DRAW_FINISH_STYLE.getStroke()};e.hasOwnProperty("finish")&&e.finish instanceof Ot.a&&(o.stroke=e.finish),this._drawStyleFinish=new It.c(o)},t.prototype._createStylingProfile=function(){ps.trace("ElevationPath::_createStylingProfile");var e=this.options.stylesOptions.profile;ps.trace("style profile",e);var o=t.DEFAULT_STYLES.PROFILE;Object.keys(o).forEach((function(t){if(e.hasOwnProperty(t)){var n=o[t];"object"===hs(n)&&(Bt.mergeParams(n,e[t]),e[t]=n)}else e[t]=o[t]}))},t.prototype._initMeasureInteraction=function(e){var t=this;ps.trace("ElevationPath::_initMeasureInteraction()"),e&&(this._measureSource=new d.b,this._measureVector=new vi.a({source:this._measureSource,style:this._drawStyleFinish}),this._measureVector.gpResultLayerId="measure:profil",e.addLayer(this._measureVector),e.getControls().forEach((function(e){if(e instanceof Dr){var o=t._measureVector.gpLayerId;e._layers[o].title===o&&e.addLayer(t._measureVector,{title:t.options.layerDescription.title,description:t.options.layerDescription.description})}})))},t.prototype._addMeasureInteraction=function(e){var t=this;ps.trace("ElevationPath::_addMeasureInteraction()"),e&&(this._measureDraw=new y.d({source:this._measureSource,type:"LineString",style:this._drawStyleStart,stopClick:!0}),this._measureDraw.setProperties({name:"ElevationPath",source:this}),e.addInteraction(this._measureDraw),this._measureDraw.on("drawstart",(function(e){ps.trace("drawstart",e),null!==t._marker&&(t._measureSource.removeFeature(t._marker),t._marker=null),null!==t._lastSketch&&(t._measureSource.removeFeature(t._lastSketch),t._lastSketch=null),t._currentSketch=e.feature;for(var o=t._measureSource.getFeatures(),n=0;n<o.length;n++)t._measureSource.removeFeature(o[n]);t.dispatchEvent("elevationpath:drawstart")})),this._measureDraw.on("drawend",(function(e){ps.trace("drawend",e),t.dispatchEvent("elevationpath:drawend"),t._lastSketch=t._currentSketch,void 0===t.options.elevationOptions.onSuccess&&null===t.options.displayProfileOptions.target&&(t._panelContainer.style.display="block"),t._measureDraw.setActive(!1),t._requestService()})))},t.prototype._removeMeasureInteraction=function(e,t){ps.trace("ElevationPath::_removeMeasureInteraction()"),e&&(t&&this._measureVector&&(e.removeLayer(this._measureVector),this._measureVector=null),this._measureDraw&&(e.removeInteraction(this._measureDraw),this._measureDraw=null))},t.prototype._getGeometry=function(){if(null!==this._currentSketch){for(var e=[],t=this.getMap().getView().getProjection(),o=this._currentSketch.getGeometry().getCoordinates(),n=0;n<o.length;n++){var r=o[n],i=r;"EPSG:4326"!==t&&(i=Object(s.E)(r,t,"EPSG:4326")),e.push({lon:Math.round(1e8*i[0])/1e8,lat:Math.round(1e8*i[1])/1e8})}return e}ps.warn("Current Feature undefined !?")},t.prototype._getLength=function(){if(null!==this._currentSketch){for(var e=0,t=this.getMap().getView().getProjection(),o=this._currentSketch.getGeometry().getCoordinates(),n=0,r=o.length-1;n<r;++n){var i=Object(s.E)(o[n],t,"EPSG:4326"),a=Object(s.E)(o[n+1],t,"EPSG:4326");i[0]=Math.round(1e8*i[0])/1e8,i[1]=Math.round(1e8*i[1])/1e8,a[0]=Math.round(1e8*a[0])/1e8,a[1]=Math.round(1e8*a[1])/1e8,e+=Object(wi.c)(i,a)}return e}ps.warn("Current Feature undefined !?")},t.prototype._getSketchCoords=function(){if(null!==this._currentSketch){for(var e=this.getMap().getView().getProjection(),t=[],o=this._currentSketch.getGeometry().getCoordinates(),n=0;n<o.length;n++){var r=Object(s.E)(o[n],e,"EPSG:4326");r[0]=Math.round(1e8*r[0])/1e8,r[1]=Math.round(1e8*r[1])/1e8,t.push(r)}return t}ps.warn("Current Feature undefined !?")},t.prototype._requestService=function(){ps.trace("ElevationPath::_requestService");var e=this._getGeometry();if(ps.trace("geometry",e),e){var t={};Bt.mergeParams(t,this.options.elevationOptions),Bt.mergeParams(t,{apiKey:t.apiKey||this.options.apiKey}),"boolean"!=typeof t.ssl&&("boolean"==typeof this.options.ssl?t.ssl=this.options.ssl:t.ssl=!0),Bt.mergeParams(t,{ssl:t.ssl});var o=this,n=!(null===this.options.elevationOptions.onFailure||"function"!=typeof this.options.elevationOptions.onFailure),r=!(null===this.options.elevationOptions.onSuccess||"function"!=typeof this.options.elevationOptions.onSuccess);if(Bt.mergeParams(t,{onSuccess:function(e){ps.trace(e),e&&(o._panelContainer.style.display="block",o._data&&(o._data={}),o._data=o._computeElevationMeasure(e.elevations),o._displayProfile(o._data),o._waitingContainer.className="GPelevationPathCalcWaitingContainerHidden",o._waiting=!1,o._measureDraw.setActive(!0)),r&&o.options.elevationOptions.onSuccess.call(o,o.getData())},onFailure:function(e){o._panelContainer.style.display="none",ps.error(e.message),o._waitingContainer.className="GPelevationPathCalcWaitingContainerHidden",o._waiting=!1,o._measureDraw.setActive(!0),n&&o.options.elevationOptions.onFailure.call(o,e)}}),!t.sampling){var i,a=this._getLength();ps.trace("length",a);var s=Math.max(50,Math.floor(a)/5);i=s>200?200:Math.floor(s),this._getSketchCoords().length>100&&(i=0)}i>0&&Bt.mergeParams(t,{sampling:i}),Bt.mergeParams(t,{positions:e}),ps.trace("options du service",t),this._waitingContainer.className="GPelevationPathCalcWaitingContainerVisible",gt.Services.getAltitude(t)}else ps.warn("missing geometry !?")},t.prototype._computeElevationMeasure=function(e){ps.trace("ElevationPath::_computeElevationMeasure",e);var t=e,o=this._getSketchCoords();if(o){var n=0,r=0,i=o[1];t[0].dist=0,t[0].slope=0,t[0].lat=Math.round(1e4*t[0].lat)/1e4,t[0].lon=Math.round(1e4*t[0].lon)/1e4;for(var a=0,s=0,l=0,c=0,u=0,d=0,h=[],p=1;p<t.length;p++){var f=[t[p].lon,t[p].lat],g=r+Object(wi.c)(f,o[n]),m=g-u;f[0]===i[0]&&f[1]===i[1]&&(n++,r=g,p!==t.length-1&&(i=o[n+1]));var y=t[p].z,v=t[p-1].z;y<0&&(y=0),v<0&&(v=0);var _=y-v;_<0?(a+=m,c+=_):_>0&&(s+=m,l+=_),u=g,t[p].dist=g,h.push(g),d+=_?Math.abs(Math.round(_/m*100)):0,t[p].slope=_?Math.abs(Math.round(_/m*100)):0;var b=t[p].slope;t[p].color=b>15&&b<30?"#005b4c":b>30&&b<45?"#00362d":b>45?"#00120f":"#00B798",t[p].lat=Math.round(1e4*t[p].lat)/1e4,t[p].lon=Math.round(1e4*t[p].lon)/1e4}ps.trace("List Distances",h);for(var A=t[0].z,C=t[0].z,w=t[0].slope,E=0;E<t.length;E++){var I=t[E];I.z<-100&&(I.z=0),I.z>C&&(C=I.z),I.z<A&&(A=I.z),I.slope>w&&(w=I.slope)}return{greaterSlope:w,meanSlope:Math.round(d/t.length),distancePlus:s,distanceMinus:a,ascendingElevation:l,descendingElevation:c,altMin:A.toLocaleString(),altMax:C.toLocaleString(),distance:this._getLength(),unit:"m",points:t}}},t.prototype._displayProfile=function(e){ps.trace("ElevationPath::_displayProfile",e),this._updateInfoContainer();var t=this.options.displayProfileOptions.target;t&&t.appendChild(this._panelContainer),t=this._profileContainer;this.options.displayProfileOptions.apply.call(this,e,t,this);var o=this.options.displayProfileOptions,n=document.getElementById("GPelevationPathPanelInfo-"+this._uid);n&&(o.totalDistance||o.greaterSlope||o.meanSlope||o.ascendingElevation||o.descendingElevation)&&(n.style.display="block"),this.dispatchEvent({type:"elevationpath:compute"})},t.prototype._updateInfoContainer=function(){ps.trace("ElevationPath::_updateInfoContainer");var e=this.options.displayProfileOptions.totalDistance,t=this.options.displayProfileOptions.meanSlope,o=this.options.displayProfileOptions.greaterSlope,n=this.options.displayProfileOptions.ascendingElevation,r=this.options.displayProfileOptions.descendingElevation,i=this._infoContainer;if(i.childElementCount)for(;i.firstChild;)i.removeChild(i.firstChild);e&&this._addElevationPathInformationsItem("Distance totale : "+Math.round(this._data.distance).toLocaleString()+" m"),n&&this._addElevationPathInformationsItem("DÃ©nivelÃ© positif : "+this._data.ascendingElevation.toLocaleString()+" m"),r&&this._addElevationPathInformationsItem("DÃ©nivelÃ© nÃ©gatif : "+this._data.descendingElevation.toLocaleString()+" m"),t&&this._addElevationPathInformationsItem("Pente moyenne : "+this._data.meanSlope.toLocaleString()+" %"),o&&this._addElevationPathInformationsItem("Plus forte pente : "+this._data.greaterSlope.toLocaleString()+" %")},t.prototype._removeMeasure=function(){if(this._lastSketch=null,this._currentSketch=null,this._measureSource){this._marker&&(this._measureSource.removeFeature(this._marker),this._marker=null);for(var e=this._measureSource.getFeatures(),t=0;t<e.length;t++)this._measureSource.removeFeature(e[t])}},t.prototype._removeProfile=function(){if(this._profile=null,this._profileContainer)for(;this._profileContainer.firstChild;)this._profileContainer.removeChild(this._profileContainer.firstChild)},t.prototype.onShowElevationPathClick=function(e){var t=this.getMap();Wr.unset(t,{current:"ElevationPath"}),this._showContainer.checked?(this._panelContainer.style.display="none",e&&e.target.dataset&&e.target.dataset.removeMeasure?"true"===e.target.dataset.removeMeasure?this._removeMeasure():(this._lastSketch=null,this._currentSketch=null):this._removeMeasure(),this._removeProfile(),e&&e.target.dataset&&e.target.dataset.removeLayer?this._removeMeasureInteraction(t,"true"===e.target.dataset.removeLayer):this._removeMeasureInteraction(t,!0)):(null===this._profile&&(this._panelContainer.style.display="none"),this._initMeasureInteraction(t),this._addMeasureInteraction(t))},t.prototype.onOpenElevationPathInfoClick=function(){var e=this._infoContainer;"GPelevationPathInformationsContainerVisible"===e.className?(clearTimeout(this._timerHdlr),e.className="GPelevationPathInformationsContainerHidden"):e.className="GPelevationPathInformationsContainerVisible",this._timerHdlr=setTimeout((function(){e.className="GPelevationPathInformationsContainerHidden"}),4e3)},t}(Oo.a),gs=fs;function ms(e){return(ms="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}window.ol&&window.ol.control&&(window.ol.control.ElevationPath=fs);var ys=mt.getLogger("layerimport"),vs=function(e){function t(o){if(o=o||{},!(this instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this._initialize(o);var n=this._container=this._initContainer(o);e.call(this,{element:n,target:o.target,render:o.render})}return e&&(t.__proto__=e),t.DefaultStyles={image:new Et.a({src:Pt.lightOrange,anchor:[25.5,38],anchorOrigin:"top-left",anchorXUnits:"pixels",anchorYUnits:"pixels"}),stroke:new Ot.a({color:"rgba(0,42,80,0.8)",width:4}),fill:new St.a({color:"rgba(0, 183, 152, 0.5)"}),text:new xt.a({font:"16px Sans",textAlign:"left",fill:new St.a({color:"rgba(255, 255, 255, 1)"}),stroke:new Ot.a({color:"rgba(0, 0, 0, 1)",width:2})})},t.prototype=Object.create(e.prototype,{}),Bt.assign(t.prototype,ts),t.prototype.constructor=t,t.prototype.setMap=function(t){if(t){var o=this;t.getLayers().on("remove",(function(e){"layerimport:MAPBOX"===e.element.gpResultLayerId&&e.element.gpEditorId&&o._mapBoxPanel&&o._importPanel&&(o.cleanMapBoxResults(e.element.gpEditorId),o._mapBoxPanel.style.display="none",o._importPanel.style.display="")}),o),this.draggable&&(ei.dragElement(this._importPanel,this._importPanelHeader,t.getTargetElement()),ei.dragElement(this._getCapPanel,this._getCapPanelHeader,t.getTargetElement()),ei.dragElement(this._mapBoxPanel,this._mapBoxPanelHeader,t.getTargetElement()))}e.prototype.setMap.call(this,t)},t.prototype.getCollapsed=function(){return this.collapsed},t.prototype.setCollapsed=function(e){void 0!==e?e&&this.collapsed||!e&&!this.collapsed||(e?document.getElementById("GPimportPanelClose-"+this._uid).click():document.getElementById("GPshowImport-"+this._uid).click(),this.collapsed=e):ys.error("[ERROR] LayerImport:setCollapsed - missing collapsed parameter")},t.prototype.getStaticImportContent=function(){return this.contentStatic},t.prototype.getServiceImportContent=function(){return this.contentService},t.prototype.getName=function(){return this._name},t.prototype._initialize=function(e){if(this._checkInputOptions(e),this.options={collapsed:!0,draggable:!1,layerTypes:["KML","GPX","GeoJSON","WMS","WMTS","MAPBOX"],webServicesOptions:{},vectorStyleOptions:{KML:{extractStyles:!0,showPointNames:!0,defaultStyle:{}},GPX:{defaultStyle:{}},GeoJSON:{defaultStyle:{}},MapBox:{defaultStyle:{},editor:{}}}},e.vectorStyleOptions&&e.vectorStyleOptions.KML&&e.vectorStyleOptions.KML.extractStyles&&(this.options.vectorStyleOptions.KML.extractStyles=e.vectorStyleOptions.KML.extractStyles),e.vectorStyleOptions&&e.vectorStyleOptions.KML&&e.vectorStyleOptions.KML.showPointNames&&(this.options.vectorStyleOptions.KML.showPointNames=e.vectorStyleOptions.KML.showPointNames),e.vectorStyleOptions&&e.vectorStyleOptions.KML&&e.vectorStyleOptions.KML.defaultStyle?this.options.vectorStyleOptions.KML.defaultStyle=e.vectorStyleOptions.KML.defaultStyle:this.options.vectorStyleOptions.KML.defaultStyle=new It.c({image:t.DefaultStyles.image,stroke:t.DefaultStyles.stroke,fill:t.DefaultStyles.fill,text:t.DefaultStyles.text}),e.vectorStyleOptions&&e.vectorStyleOptions.GPX&&e.vectorStyleOptions.GPX.defaultStyle?this.options.vectorStyleOptions.GPX.defaultStyle=e.vectorStyleOptions.GPX.defaultStyle:this.options.vectorStyleOptions.GPX.defaultStyle=new It.c({image:t.DefaultStyles.image,stroke:t.DefaultStyles.stroke,fill:t.DefaultStyles.fill,text:t.DefaultStyles.text}),e.vectorStyleOptions&&e.vectorStyleOptions.GeoJSON&&e.vectorStyleOptions.GeoJSON.defaultStyle?this.options.vectorStyleOptions.GeoJSON.defaultStyle=e.vectorStyleOptions.GeoJSON.defaultStyle:this.options.vectorStyleOptions.GeoJSON.defaultStyle=new It.c({image:t.DefaultStyles.image,stroke:t.DefaultStyles.stroke,fill:t.DefaultStyles.fill,text:t.DefaultStyles.text}),e.vectorStyleOptions&&e.vectorStyleOptions.MapBox&&e.vectorStyleOptions.MapBox.defaultStyle?this.options.vectorStyleOptions.MapBox.defaultStyle=e.vectorStyleOptions.MapBox.defaultStyle:this.options.vectorStyleOptions.MapBox.defaultStyle=new It.c({image:t.DefaultStyles.image,stroke:t.DefaultStyles.stroke,fill:t.DefaultStyles.fill,text:t.DefaultStyles.text}),e.vectorStyleOptions&&e.vectorStyleOptions.MapBox&&e.vectorStyleOptions.MapBox.editor?this.options.vectorStyleOptions.MapBox.editor=e.vectorStyleOptions.MapBox.editor:this.options.vectorStyleOptions.MapBox.editor={title:!0,collapse:!1,themes:!1,layers:!0,style:!0,filter:!1,legend:!0,group:!1},e.vectorStyleOptions&&e.vectorStyleOptions.MapBox&&e.vectorStyleOptions.MapBox.hasOwnProperty("display")?this.options.vectorStyleOptions.MapBox.display=e.vectorStyleOptions.MapBox.display:this.options.vectorStyleOptions.MapBox.display=!0,Array.isArray(e.layerTypes)){for(var o=[],n=0;n<e.layerTypes.length;n++)o.push(e.layerTypes[n]);this.options.layerTypes=o}Bt.mergeParams(this.options,e),this.collapsed=this.options.collapsed,this.draggable=this.options.draggable,this._uid=So.generate(),this._waiting=!1,this._timer=null,this._initImportTypes(),this._initDefaultStyles(),this._showImportInput=null,this._importPanel=null,this._importPanelHeader=null,this._formContainer=null,this._staticLocalImportInput=null,this._staticUrlImportInput=null,this._serviceUrlImportInput=null,this._getCapPanel=null,this._getCapPanelHeader=null,this._getCapResultsListContainer=null,this._mapBoxPanel=null,this._mapBoxPanelHeader=null,this._mapBoxResultsListContainer=null,this._waitingContainer=null,this._loadingContainer=null,this._getCapRequestUrl=null,this._getCapResponseWMS=null,this._getCapResponseWMSLayers=[],this._getCapResponseWMTS=null,this._getCapResponseWMTSLayers=[],this._hasMapBoxResults=!1,this.contentStatic=null,this._url=null,this._file=null,this._name=null},t.prototype._checkInputOptions=function(e){if(e.layerTypes){var t=e.layerTypes;if(Array.isArray(t)){for(var o=["KML","GPX","GEOJSON","WMS","WMTS","WFS","MAPBOX"],n=[],r=0;r<t.length;r++)"string"!=typeof t[r]?(n.push(r),ys.warn("[ol.control.LayerImport] 'options.layerTypes' elements should be of type string ("+t[r]+")")):(t[r]=t[r].toUpperCase(),-1===o.indexOf(t[r])&&(n.push(r),ys.log("[ol.control.LayerImport] options.layerTypes : "+t[r]+" is not a supported type")),"GEOJSON"===t[r]&&(t[r]="GeoJSON"),"MAPBOX"===t[r]&&(t[r]="MAPBOX"));if(0!==n.length)for(var i=n.length-1;i>=0;i--)t.splice(n[i],1)}else ys.warn('[ol.control.LayerImport] \'options.layerTypes\' parameter should be an array. Set default values ["KML", "GPX", "GeoJSON", "WMS", "WMTS"]'),e.layerTypes=["KML","GPX","GeoJSON","WMS","WMTS","MAPBOX"]}},t.prototype._initDefaultStyles=function(){var e=this.options.vectorStyleOptions.KML.defaultStyle;this._defaultKMLStyle=new It.c({image:e.image,stroke:e.stroke,fill:e.fill,text:e.text});var t=this.options.vectorStyleOptions.GPX.defaultStyle;this._defaultGPXStyle=new It.c({image:t.image,stroke:t.stroke,fill:t.fill,text:t.text});var o=this.options.vectorStyleOptions.GeoJSON.defaultStyle;this._defaultGeoJSONStyle=new It.c({image:o.image,stroke:o.stroke,fill:o.fill,text:o.text});var n=this.options.vectorStyleOptions.MapBox.defaultStyle;this._defaultMapBoxStyle=new It.c({image:n.image,stroke:n.stroke,fill:n.fill,text:n.text})},t.prototype._initImportTypes=function(){this._currentImportType=this.options.layerTypes[0]||"KML","KML"===this._currentImportType||"GPX"===this._currentImportType||"GeoJSON"===this._currentImportType||"MAPBOX"===this._currentImportType?this._isCurrentImportTypeStatic=!0:"WMS"!==this._currentImportType&&"WMTS"!==this._currentImportType&&"WFS"!==this._currentImportType||(this._isCurrentImportTypeStatic=!1),this._currentStaticImportType="local"},t.prototype._initContainer=function(){var e=this._createMainContainerElement(),t=this._showImportInput=this._createShowImportElement();e.appendChild(t),this.collapsed||(t.checked=!0);var o=this._createShowImportPictoElement();e.appendChild(o);var n=this._importPanel=this._createImportPanelElement(),r=this._importPanelHeader=this._createImportPanelHeaderElement();n.appendChild(r);var i=this._formContainer=this._initInputFormElement();n.appendChild(i),e.appendChild(n);var a=this._getCapPanel=this._createImportGetCapPanelElement(),s=this._getCapPanelHeader=this._createImportGetCapPanelHeaderElement();a.appendChild(s);var l=this._getCapResultsListContainer=this._createImportGetCapResultsContainer();a.appendChild(l),e.appendChild(a);var c=this._mapBoxPanel=this._createImportMapBoxPanelElement(),u=this._mapBoxPanelHeader=this._createImportMapBoxPanelHeaderElement();c.appendChild(u);var d=this._mapBoxResultsListContainer=this._createImportMapBoxResultsContainer();c.appendChild(d);var h=this._loadingContainer=this._createLoadingElement();c.appendChild(h),e.appendChild(c);var p=this._waitingContainer=this._createImportWaitingElement();return e.appendChild(p),e},t.prototype._initInputFormElement=function(){var e=this._createImportPanelFormElement(),t=this._createImportTypeLineElement(this.options.layerTypes);e.appendChild(t);var o=this._createImportStaticParamsContainer(this.options.layerTypes[0]),n=this._createStaticNameLabel();o.appendChild(n);var r=this._createStaticModeChoiceDiv(),i=this._createStaticLocalChoiceDiv();r.appendChild(i);var a=this._createStaticUrlChoiceDiv();r.appendChild(a),o.appendChild(r);var s=this._createStaticLocalInputDiv();s.appendChild(this._createStaticLocalInputLabel()),this._staticLocalImportInput=this._createStaticLocalInput(),s.appendChild(this._staticLocalImportInput),o.appendChild(s);var l=this._createStaticUrlInputDiv();l.appendChild(this._createStaticUrlInputLabel()),this._staticUrlImportInput=this._createStaticUrlInput(),l.appendChild(this._staticUrlImportInput),o.appendChild(l),e.appendChild(o);var c=this._createServiceParamsContainer(this.options.layerTypes[0]),u=this._createServiceUrlDiv();u.appendChild(this._createServiceUrlInputLabel()),this._serviceUrlImportInput=this._createServiceUrlInput(),u.appendChild(this._serviceUrlImportInput),c.appendChild(u),e.appendChild(c);var d=this._createImportSubmitFormElement();return e.appendChild(d),e},t.prototype._onShowImportClick=function(){var e=this.getMap();Wr.unset(e),this._hasMapBoxResults&&(this._mapBoxPanel.style.display="block"),this.collapsed=this._showImportInput.checked,this.dispatchEvent("change:collapsed")},t.prototype._onImportTypeChange=function(e){this._currentImportType=e.target.value,"KML"===this._currentImportType||"GPX"===this._currentImportType||"GeoJSON"===this._currentImportType||"MAPBOX"===this._currentImportType?this._isCurrentImportTypeStatic=!0:"WMS"!==this._currentImportType&&"WMTS"!==this._currentImportType&&"WFS"!==this._currentImportType||(this._isCurrentImportTypeStatic=!1)},t.prototype._onStaticImportTypeChange=function(e){this._currentStaticImportType=e.target.value},t.prototype._onGetCapPanelClose=function(){"WMS"!==this._currentImportType&&"WMTS"!==this._currentImportType&&"WFS"!==this._currentImportType||this.cleanGetCapResultsList()},t.prototype._onMapBoxPanelClose=function(){this.cleanMapBoxResultsList(),this._loadingContainer.className=""},t.prototype._onMapBoxReturnPictoClick=function(e){this._mapBoxPanel.style.display="none",this._showImportInput.checked=!1,this._loadingContainer.className=""},t.prototype._onImportSubmit=function(){ys.log("import d'une couche de type : "+this._currentImportType),this.contentStatic=null,this.contentService=null,this._isCurrentImportTypeStatic?this._importStaticLayer():this._importServiceLayers()},t.prototype._importStaticLayer=function(){var e,t=document.getElementById(this._addUID("GPimportName"));t&&(e=t.value||"",ys.log("import layer name : "+e)),"local"===this._currentStaticImportType?(ys.log("import static layer from local file"),this._importStaticLayerFromLocalFile(e)):"url"===this._currentStaticImportType&&(ys.log("import static layer from url"),this._importStaticLayerFromUrl(e))},t.prototype._importStaticLayerFromUrl=function(e){var t=this._staticUrlImportInput.value;if(ys.log("url : ",t),0!==t.length){t.trim&&(t=t.trim()),this._url=t,e||(e=this._url.substring(this._url.lastIndexOf("/")+1,this._url.lastIndexOf("."))),this._name=e,this.options.webServicesOptions&&this.options.webServicesOptions.proxyUrl&&(t=yt.proxifyUrl(t,this.options.webServicesOptions));var o=this;gt.Protocols.XHR.call({url:t,method:"GET",timeOut:15e3,onResponse:function(t){o._hideWaitingContainer(),o._addFeaturesFromImportStaticLayer(t,e)},onFailure:function(e){o._hideWaitingContainer(),ys.error("[ol.control.LayerImport] KML/GPX/GeoJSON/MapBox request failed : ",e)}})}else ys.error("[ol.control.LayerImport] url parameter is mandatory")},t.prototype._importStaticLayerFromLocalFile=function(e){var t=this._staticLocalImportInput.files[0];if(t){this._file=t,e||(e=this._file.name.substring(this._file.name.lastIndexOf("/")+1,this._file.name.lastIndexOf("."))),this._name=e;var o=new FileReader,n=this;o.onerror=function(e){n._hideWaitingContainer(),ys.error("error fileReader : ",e)},o.onprogress=function(){ys.log("onprogress")},o.onloadstart=function(){n._displayWaitingContainer(),ys.log("onloadstart")},o.onabort=function(){n._hideWaitingContainer(),ys.log("onabort")},o.onloadend=function(e){ys.log("onloadend : ",e)},o.onload=function(t){ys.log("fileReader onload - file content : ",t.target.result),n._hideWaitingContainer(),n._addFeaturesFromImportStaticLayer(t.target.result,e)},o.readAsText(t)}else ys.warn("[ol.control.LayerImport] missing file")},t.prototype._addFeaturesFromImportStaticLayer=function(e,t){var o=this.getMap();if(o&&e){var n=null,r=null,i=null,a=null;if(this.contentStatic=e,"MAPBOX"===this._currentImportType){this._hasMapBoxResults=!0;var l=this,c=JSON.parse(e),h=c.sources,p=Object.keys(h).length>1?1:0;for(var f in h)if(h.hasOwnProperty(f)){var g="",m="",y=null,v=null,_=null,b=null;if(c.metadata)for(var A in c.metadata)if(c.metadata.hasOwnProperty(A)){var C=A.split(":");if("geoportail"===C[0]){var w=C[1];if("title"===w){g=c.metadata[A];continue}if("description"===w){m=c.metadata[A];continue}if("quicklookUrl"===w){y=c.metadata[A];continue}if("legends"===w){v=c.metadata[A];continue}if("metadata"===w){_=c.metadata[A];continue}if("originators"===w){b=c.metadata[A];continue}}}g||(g="Couche MapBox"),m||(m="Couche MapBox"),g=p?g+"("+f+")":g;var E=h[f],I=E.type;if("vector"===I){var O=E.url,S=E.tiles,x=c.sprite;if(O&&0===O.indexOf("mapbox://")){var j=this._url;if(j){if(S=["a","b","c","d"].map((function(e){return"https://"+e+".tiles.mapbox.com/v4/"+O.replace("mapbox://","")+"/{z}/{x}/{y}.vector.pbf?"+j.split("?")[1]})),0===x.indexOf("mapbox://")){var P=j.split("?");c.sprite=P[0]+"/sprite?"+P[1]}}else ys.warn("Not yet implemented, can't use the local import scheme with a 'mapbox://' in the file.!")}if(S)i=new bo.a({featureClass:Tt.b}),(r=new u.a({attributions:E.attribution,format:i,urls:S}))._title=g,r._description=m,r._quicklookUrl=y,r._metadata=_,r._legends=v,r._originators=b,r.on("tileloadstart",(function(e){l._loadingContainer.className="GPmapLoadingVisible"})),r.on("tileloadend",(function(e){l._loadingContainer.className=""})),r.on("tileloaderror",(function(e){l._loadingContainer.className=""})),(n=new vo.a({source:r,visible:!1,declutter:!0})).id=f,n.gpResultLayerId="layerimport:"+this._currentImportType;else if(O){i=new bo.a({featureClass:Tt.b}),(n=new vo.a({visible:!1,declutter:!0})).id=f,n.gpResultLayerId="layerimport:"+this._currentImportType;var T=new _o.a({url:O}),M=T.on("change",(function(){if("ready"===T.getState()){for(var e=T.getTileJSON(),t=Array.isArray(e.tiles)?e.tiles:[e.tiles],o=0;o<t.length;o++){var a=t[o];0!==a.indexOf("http")&&(t[o]=O+a)}(r=new u.a({attributions:T.getAttributions()||e.attribution,format:i,urls:t}))._title=g,r._description=m,r._quicklookUrl=y,r._metadata=_,r._legends=v,r._originators=b,r.on("tileloadstart",(function(e){l._loadingContainer.className="GPmapLoadingVisible"})),r.on("tileloadend",(function(e){l._loadingContainer.className=""})),n.setSource(r),n.set("mapbox-extension",e.vector_layers),Object(Ao.b)(M)}}))}}else{if("geojson"!==I)return void ys.warn("Type MapBox format unknown !");var R=E.data;i=new Qt,(r=new u.a({attributions:E.attribution,format:i,url:R}))._title=g,r._description=m,r._quicklookUrl=y,r._metadata=_,r._legends=v,r._originators=b,(n=new vo.a({source:r,visible:!1,declutter:!0})).id=f,n.gpResultLayerId="layerimport:"+this._currentImportType}var L=JSON.parse(JSON.stringify(c));if(p){for(var k=L.layers,G=0;G<k.length;G++){k[G].source===f||k.splice(G,1)}for(var D in L.sources)L.sources.hasOwnProperty(D)&&D!==f&&delete L.sources[D]}!function(e){var t=function(){Object(Co.a)(e.layer,e.styles,e.id).then((function(){e.layer.setVisible(!0);e.layer.setOpacity(1)})).then((function(){var t=o.getView().getProjection().getCode();o.getView()&&e.styles.center&&e.styles.center.length&&o.getView().setCenter(Object(s.E)(e.styles.center,"EPSG:4326",t)),o.getView()&&(e.styles.zoom||0===e.styles.zoom)&&o.getView().setZoom(e.styles.zoom);var n=e.layer.getSource();if(o.getView()&&o.getSize()&&n.getExtent){var r=n.getExtent();r&&r[0]!==1/0&&o.getView().fit(n.getExtent(),o.getSize())}})).then((function(){l._importPanel.style.display="none";var t=new es({target:l._mapBoxResultsListContainer,style:JSON.parse(JSON.stringify(e.styles)),scope:this,events:{"editor:onloaded":l._onLoadedMapBox,"editor:layer:onclickvisibility":l._onChangeVisibilitySourceMapBox,"editor:style:scale:onchangemin":l._onChangeScaleMinSourceMapBox,"editor:style:scale:onchangemax":l._onChangeScaleMaxSourceMapBox,"editor:legend:onchangevalue":l._onChangeLegendValueSourceMapBox,"editor:legend:onclickedition":l._onDisplayLayerSourceMapBox},tools:l.options.vectorStyleOptions.MapBox.editor});return t.setContext("map",o),t.setContext("layer",e.layer),t.createElement().then((function(){if(0===t.getLayers().length)throw new Error("Il n'existe pas de styles pour la source demandÃ©e !?")})).then((function(){l.options.vectorStyleOptions.MapBox.display&&(l._mapBoxPanel.style.display="block")})).then((function(){for(var e=l._mapBoxResultsListContainer.getElementsByClassName("GPEditorMapBoxLayerTitleLabel"),t=0;t<e.length;t++){var o=e[t];"bckgrd"===o.textContent&&(o.textContent="Couleur de remplissage")}})).then((function(){e.layer.set("mapbox-editor",t.getID()),setTimeout((function(){o.dispatchEvent({id:t.getID(),type:"editor:loaded",style:e.styles,layer:e.layer})}),100)})).catch((function(e){throw e}))})).then((function(){o.dispatchEvent({id:e.id,type:"render:success",style:e.styles})})).catch((function(t){ys.error(t),o.dispatchEvent({id:e.id,type:"render:failure",error:t})}))};ys.warn(e.layer);var n=o.get("mapbox-styles")||{};n[e.id]=e.styles,o.set("mapbox-styles",n),e.layer.set("mapbox-styles",e.styles),o.addLayer(e.layer),e.layer.getSource()?t():e.layer.once("change:source",t),o.getControls().forEach((function(t){t instanceof Dr&&t.addLayer(e.layer,e.options)}))}({id:f,styles:L,layer:n,options:{title:t||g,description:m,quicklookUrl:y,metadata:_,legends:v,originators:b}})}}else{"KML"===this._currentImportType?(a=this.options.vectorStyleOptions.KML.defaultStyle,i=new Wt({showPointNames:this.options.vectorStyleOptions.KML.showPointNames,extractStyles:this.options.vectorStyleOptions.KML.extractStyles,defaultStyle:[a]})):"GPX"===this._currentImportType?(a=this.options.vectorStyleOptions.GPX.defaultStyle,i=new Zt({defaultStyle:a})):"GeoJSON"===this._currentImportType&&(a=this.options.vectorStyleOptions.GeoJSON.defaultStyle,i=new Qt({defaultStyle:a}));var N,F=i.readProjection(e),U=this._getMapProjectionCode();N=i.readFeatures(e,{dataProjection:F,featureProjection:U}),ys.log("loaded features : ",N),(r=new d.b({features:new yi.b})).addFeatures(N),ys.trace(r),r._title=r._description=t,(n=new vi.a({source:r,style:a})).gpResultLayerId="layerimport:"+this._currentImportType;var B=i.readRootExtensions("geoportail:compute");if(B&&0!==Object.keys(B).length){var z={route:{class:Ki,name:"itineraire"},isocurve:{class:ta,name:"isocurve"},elevationpath:{class:gs,name:"profil altimetrique"}},V=B.type,W=B.transport;if(V){var q=z[V].name,Y=W?q+" ("+W+")":q,H=z[V].class;if(H){n.gpResultLayerId="layerimport:COMPUTE",n.set("control",V),n.set("name",q),n.set("graph",W),n.set("data",B),n.set("title",Y);var X=new Qt({defaultStyle:a}).writeFeatures(N,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"});n.set("geojson",X),this.getMap().getControls().forEach((function(e){e instanceof H&&(e.setData(B),e.setLayer(n),e.init())}))}}}if(o.addLayer(n),o.getView()&&o.getSize()&&r.getExtent){var Z=r.getExtent();Z&&Z[0]!==1/0&&o.getView().fit(r.getExtent(),o.getSize())}}}},t.prototype._addFeaturesFromImportStaticLayerUrl=function(e,t){var o,n,r,i=this.getMap();if(i&&e&&("MAPBOX"===this._currentImportType?ys.trace("Not yet implemented !"):("KML"===this._currentImportType?r=new Wt({showPointNames:!0,extractStyles:this.options.vectorStyleOptions.KML.extractStyles,defaultStyle:[this.options.vectorStyleOptions.KML.defaultStyle]}):"GPX"===this._currentImportType?r=new Zt({defaultStyle:this.options.vectorStyleOptions.GPX.defaultStyle}):"GeoJSON"===this._currentImportType&&(r=new Qt({defaultStyle:this.options.vectorStyleOptions.GeoJSON.defaultStyle})),o=new d.b({url:e,format:r}),"GPX"===this._currentImportType&&o.forEachFeature((function(e){null==e.getStyle()&&(ys.log("[ol.control.LayerImport] set default style for GPX feature"),e.setStyle(this.options.vectorStyleOptions.GPX.defaultStyle))})),"GeoJSON"===this._currentImportType&&o.forEachFeature((function(e){null==e.getStyle()&&(ys.log("[ol.control.LayerImport] set default style for GeoJSON feature"),e.setStyle(this.options.vectorStyleOptions.GeoJSON.defaultStyle))})),o._title=o._description=t,n=new vi.a({source:o})),n.gpResultLayerId="layerimport:"+this._currentImportType,i.addLayer(n),i.getView()&&i.getSize()&&o.getExtent)){var a=o.getExtent();a&&a[0]!==1/0&&i.getView().fit(o.getExtent(),i.getSize())}},t.prototype._onLoadedMapBox=function(e){var t=e.target.data.obj,o=this.getContext("layer");o.get("mapbox-source")===t.source&&(o.get("mapbox-editor"),e.target.editorID)},t.prototype._onChangeVisibilitySourceMapBox=function(e){var t=e.target.data.obj,o=e.target.srcElement,n=this.getContext("layer");if(n.get("mapbox-source")===t.source&&n.get("mapbox-editor")===e.target.editorID){for(var r=n.get("mapbox-styles"),i=r.layers,a=0;a<i.length;a++)if(i[a].id===t.id){var s=i[a].layout;s?s.visibility=o.checked?"visible":"none":i[a].layout={visibility:o.checked?"visible":"none"};break}Object(Co.a)(n,r,t.source).then((function(){})).catch((function(e){ys.error(e)}))}},t.prototype._onChangeScaleMinSourceMapBox=function(e){var t=e.target.data.obj,o=e.target.srcElement,n=this.getContext("layer");if(n.get("mapbox-source")===t.source&&n.get("mapbox-editor")===e.target.editorID){for(var r=n.get("mapbox-styles"),i=r.layers,a=0;a<i.length;a++)if(i[a].id===t.id){i[a].minzoom=o.value,o.title=o.value;break}Object(Co.a)(n,r,t.source).then((function(){})).catch((function(e){ys.error(e)}))}},t.prototype._onChangeScaleMaxSourceMapBox=function(e){var t=e.target.data.obj,o=e.target.srcElement,n=this.getContext("layer");if(n.get("mapbox-source")===t.source&&n.get("mapbox-editor")===e.target.editorID){for(var r=n.get("mapbox-styles"),i=r.layers,a=0;a<i.length;a++)if(i[a].id===t.id){i[a].maxzoom=o.value,o.title=o.value;break}Object(Co.a)(n,r,t.source).then((function(){})).catch((function(e){ys.error(e)}))}},t.prototype._onChangeLegendValueSourceMapBox=function(e){var t=e.target.data.obj,o=e.target.srcElement,n=this.getContext("layer");if(n.get("mapbox-source")===t.source&&n.get("mapbox-editor")===e.target.editorID){for(var r=n.get("mapbox-styles"),i=r.layers,a=0;a<i.length;a++)if(i[a].id===t.id){var s=i[a].paint;s&&(s[o.dataset.id]=o.value);break}Object(Co.a)(n,r,t.source).then((function(){})).catch((function(e){ys.error(e)}))}},t.prototype._onDisplayLayerSourceMapBox=function(e){var t=e.target.data.obj,o=this.getContext("layer");if(o.get("mapbox-source")===t.source&&o.get("mapbox-editor")===e.target.editorID){var n=e.target.currentTarget.parentNode.id,r=n.substring(n.indexOf("-")+1,n.indexOf("_"));this.getLayer(r).collapse()}},t.prototype._importServiceLayers=function(){if("WFS"!==this._currentImportType){this.cleanGetCapResultsList();var e=this._getCapRequestUrl=this._serviceUrlImportInput.value;if(e){ys.log("url : ",e),e.trim&&(e=e.trim());var t=e.indexOf("?");t<0?e+="?SERVICE="+this._currentImportType+"&REQUEST=GetCapabilities":t===e.length-1&&(e+="SERVICE="+this._currentImportType+"&REQUEST=GetCapabilities"),this.options.webServicesOptions&&this.options.webServicesOptions.proxyUrl&&(e=yt.proxifyUrl(e,this.options.webServicesOptions)),this._displayWaitingContainer();var o=this;gt.Protocols.XHR.call({url:e,method:"GET",timeOut:15e3,onResponse:function(e){o._hideWaitingContainer(),o._displayGetCapResponseLayers(e)},onFailure:function(e){o._hideWaitingContainer(),ys.error("[ol.control.LayerImport] getCapabilities request failed : ",e)}})}else ys.error("[ol.control.LayerImport] url parameter is mandatory")}else ys.warn("[ol.control.LayerImport] WFS layer import is not implemented yet")},t.prototype._displayGetCapResponseLayers=function(e){var t,o,n,r={content:null,title:null};if(this._getCapResponseWMSLayers=[],this.contentService=e,this._importPanel.style.display="none",this._getCapPanel.style.display="block","WMS"===this._currentImportType){t=new sa.a;var i=this._getCapResponseWMS=t.read(e);if(ys.log("getCapabilities response : ",i),i&&i.Capability&&i.Capability.Layer){var a=i.Capability.Layer;if(Array.isArray(a))for(var l=0;l<a.length;l++)this._displayGetCapResponseWMSLayer(a[l]);else this._displayGetCapResponseWMSLayer(a)}}else if("WMTS"===this._currentImportType){t=new la.a;var c=this._getCapResponseWMTS=t.read(e);if(ys.log("getCapabilities response : ",c),c&&c.Contents&&c.Contents.Layer&&(o=c.Contents.Layer,Array.isArray(o))){this._getCapResponseWMTSLayers=o;for(var u=0;u<o.length;u++)if((n=this._getWMTSLayerProjection(o[u],c))&&"string"==typeof n){if(!Object(s.t)(n)&&!Object(s.t)(n.toUpperCase())){ys.warn("[ol.control.LayerImport] wmts layer cannot be added to map : unknown projection",o[u]);continue}r={content:o[u].Title,title:o[u].Abstract||o[u].Title},this._getCapResultsListContainer&&this._addImportGetCapResultLayer(r,u,this._getCapResultsListContainer)}}}},t.prototype._displayGetCapResponseWMSLayer=function(e,t){if(e){ys.log("[ol.control.LayerImport] _displayGetCapResponseWMSLayer - layerObj : ",e);var o,n=this._getMapProjectionCode(),r={content:null,title:null};if(t){var i,a,s=["CRS","Style"];for(a=0;a<s.length;a++)if(i=s[a],Array.isArray(t[i])&&0!==t[i].length)if(Array.isArray(e[i])&&0!==e[i].length)for(var l=0;l<t[i].length;l++)-1===e[i].indexOf(t[i][l])&&e[i].push(t[i][l]);else e[i]=t[i];var c=["BoundingBox","EX_GeographicBoundingBox","MaxScaleDenominator","MinScaleDenominator","Attribution","Dimension","queryable","cascaded","opaque","noSubsets","fixedWidth","fixedHeight"];for(a=0;a<c.length;a++)t[i=c[a]]&&!e[i]&&(e[i]=t[i])}else e._isRootLayer=!0,e._container=this._getCapResultsListContainer,e.Title||(e.Title="Liste des couches");if(e.Layer){if(Array.isArray(e.Layer)){var u=e?e._container:t._container,d=e?e.Title:t.Title;e._container=this._addImportGetCapResultListRubrique(d,u).lastChild;for(var h=0;h<e.Layer.length;h++){for(var p=!1,f=e._container.getElementsByClassName("GPimportGetCapRubriqueTitle"),g=0;g<f.length;g++)f[g].title===e.Title&&(p=!0,e.Layer[h]._container=f[g].parentElement);p||(e.Layer[h]._container=this._addImportGetCapResultRubrique(e.Title,e._container).lastChild),this._displayGetCapResponseWMSLayer(e.Layer[h],e)}}}else{var m=this._getCapResponseWMSLayers.length;if(o=this._getWMSLayerProjection(e,n)){e._projection=o,r={content:e.Title,title:e.Abstract||e.Title};var y=e._container;"ul"===y.localName&&(y=y.lastChild),this._addImportGetCapResultLayer(r,m,y),this._getCapResponseWMSLayers[m]=e}else ys.warn("[ol.control.LayerImport] wms layer cannot be added to map : unknown projection",e)}}else ys.warn("[ol.control.LayerImport] _displayGetCapResponseWMSLayer : getCapabilities layer object not found")},t.prototype._onGetCapResponseLayerClick=function(e){if(e.target&&e.target.id){var t,o=parseInt(e.target.id.substr(23),10);if(isNaN(o))return;"WMS"===this._currentImportType?(t=this._getCapResponseWMSLayers[o],this._addGetCapWMSLayer(t)):"WMTS"===this._currentImportType&&(t=this._getCapResponseWMTSLayers[o],this._addGetCapWMTSLayer(t))}},t.prototype._addGetCapWMSLayer=function(e){var t=this.getMap();if(t)if(e){var o=this._getMapProjectionCode(),n={},r=this._getWMSLayerGetMapUrl();if(r)n.url=r;else{var i=this._getCapRequestUrl.indexOf("?");n.url=-1!==i?this._getCapRequestUrl.substring(0,i):this._getCapRequestUrl}if(n.params={},e.Name){n.params.LAYERS=e.Name,n.params.SERVICE="WMS",this._getCapResponseWMS.version&&(n.params.VERSION=this._getCapResponseWMS.version);var a=e._projection;if(a){var s;if(a!==o&&(n.projection=a),e.Style&&Array.isArray(e.Style)){var l=e.Style[0];n.params.STYLES=l.Name,l.LegendURL&&Array.isArray(l.LegendURL)&&0!==l.LegendURL.length&&(s=l.LegendURL[0].OnlineResource)}var c=new h.a(n);this._getWMSLayerInfoForLayerSwitcher(e,s,c);var u={};u.source=c,this._getWMSLayerMinMaxResolution(e,o,u),this._getWMSLayerExtent(e,o,u);var d=new ho.a(u);d.gpResultLayerId="layerimport:WMS",e.queryable&&(d.gpGFIparams={queryable:!0},this._getCapResponseWMS&&this._getCapResponseWMS.Capability&&this._getCapResponseWMS.Capability.Request&&this._getCapResponseWMS.Capability.Request.GetFeatureInfo&&this._getCapResponseWMS.Capability.Request.GetFeatureInfo.Format&&Array.isArray(this._getCapResponseWMS.Capability.Request.GetFeatureInfo.Format)&&(d.gpGFIparams.formats=this._getCapResponseWMS.Capability.Request.GetFeatureInfo.Format)),t.addLayer(d)}else ys.warn("[ol.control.LayerImport] wms layer cannot be added to map : unknown projection")}else ys.warn("[ol.control.LayerImport] unable to add wms layer : mandatory layer 'name' parameter cannot be found",e)}else ys.warn("[ol.control.LayerImport] _addGetCapWMSLayer error : layerInfo is not defined");else ys.warn("[ol.control.LayerImport] _addGetCapWMSLayer error : map is not defined")},t.prototype._getWMSLayerGetMapUrl=function(){var e;if(this._getCapResponseWMS&&this._getCapResponseWMS.Capability&&this._getCapResponseWMS.Capability.Request&&this._getCapResponseWMS.Capability.Request.GetMap){var t=this._getCapResponseWMS.Capability.Request.GetMap;if(t.DCPType&&Array.isArray(t.DCPType)&&0!==t.DCPType.length){var o=t.DCPType[0];o&&o.HTTP&&o.HTTP.Get&&(e=o.HTTP.Get.OnlineResource)}}return e},t.prototype._getWMSLayerProjection=function(e,t){var o;if(e&&"object"===ms(e)){var n=e.CRS;if(Array.isArray(n)){if(n.includes(t))return o=t;var r,i;for(i=0;i<n.length;i++)if((r=n[i])&&"string"==typeof r&&(Object(s.t)(r)||Object(s.t)(r.toUpperCase())))return o=r}return o}ys.warn("missing layer information (from getCapabilities)")},t.prototype._getWMSLayerMinMaxResolution=function(e,t,o){var n=Object(s.t)(t).getUnits();if("m"===n)e.MinScaleDenominator&&(o.minResolution=28e-5*e.MinScaleDenominator),e.MaxScaleDenominator&&(o.maxResolution=28e-5*e.MaxScaleDenominator);else if("degrees"===n){var r=28e-5*180/(6378137*Math.PI);e.MinScaleDenominator&&(o.minResolution=e.MinScaleDenominator*r),e.MaxScaleDenominator&&(o.maxResolution=e.MaxScaleDenominator*r)}},t.prototype._getWMSLayerExtent=function(e,t,o){if(e){var n=e.EX_GeographicBoundingBox,r=e.BoundingBox;if(n&&Array.isArray(n))o.extent="EPSG:4326"===t?n:Object(s.F)(n,"EPSG:4326",t);else if(r&&Array.isArray(r))for(var i,a,l=0;l<r.length;l++)if(i=r[l].crs,a=r[l].extent,i){if(i===t){o.extent=a;break}if("string"==typeof i){var c=Object(s.t)(i)?Object(s.t)(i):Object(s.t)(i.toUpperCase());if(c){if("degrees"===c.getUnits()&&0===i.toUpperCase().indexOf("EPSG")){var u=[a[1],a[0],a[3],a[2]];o.extent=Object(s.F)(u,c,t)}else o.extent=Object(s.F)(a,c,t);break}}}}else ys.warn("[ol.control.LayerImport] _getWMSLayerExtent error : layerInfo is not defined")},t.prototype._getWMSLayerInfoForLayerSwitcher=function(e,t,o){if(e.Title?(o._title=e.Title,o._description=e.Abstract?e.Abstract:e.Title):(o._title=e.Name,o._description=e.Abstract?e.Abstract:e.Name),t&&(o._legends=[{url:t}]),e.MetadataURL&&Array.isArray(e.MetadataURL)){o._metadata=[];for(var n=0;n<e.MetadataURL.length;n++){var r=e.MetadataURL[n].OnlineResource;r&&o._metadata.push({url:r})}}if(e.Attribution){var i=e.Attribution;o._originators={},i.OnlineResource&&(o._originators.url=i.OnlineResource),i.Title&&(o._originators.name=o._originators.attribution=i.Title),i.LogoURL&&i.LogoURL.OnlineResource&&(o._originators.logo=i.LogoURL.OnlineResource)}},t.prototype._addGetCapWMTSLayer=function(e){if(e&&e.Identifier){var t=this.getMap();if(t){var o={};o.layer=e.Identifier,this._getCapResponseWMTS.version&&(o.version=this._getCapResponseWMTS.version);var n=this._getWMTSLayerGetTileUrl();if(n)o.url=n;else{var r=this._getCapRequestUrl.indexOf("?");o.url=-1!==r?this._getCapRequestUrl.substring(0,r):this._getCapRequestUrl}var i,a,s,l=this._getTMSParams(e);if(o.matrixSet=l.tms,o.projection=l.projCode,o.tileGrid=new oo.b({resolutions:l.resolutions,matrixIds:l.matrixIds,origin:l.origin}),e.Style&&Array.isArray(e.Style))for(var c,u=0;u<e.Style.length&&(i=(c=e.Style[u]).Identifier,!c.isDefault);u++)c.LegendURL&&Array.isArray(c.LegendURL)&&0!==c.LegendURL.length&&(a=c.LegendURL[0].href);null==i&&ys.warn("[ol.control.LayerImport] style information not found in getCapabilities response for layer "+e.Identifier),o.style=i,e.Format&&Array.isArray(e.Format)&&(s=e.Format[0]),null==s&&ys.warn("[ol.control.LayerImport] format information not found in getCapabilities response for layer "+e.Identifier),o.format=s;var d=new p.a(o);e.Title?(d._title=e.Title,d._description=e.Abstract?e.Abstract:e.Title):(d._title=e.Identifier,d._description=e.Abstract?e.Abstract:e.Identifier),a&&(d._legends=[{url:a}]);var h,f={};f.source=d,f.extent=this._getWMTSLayerExtent(e);try{h=new ho.a(f)}catch(e){return void ys.warn("[ol.control.LayerImport] an error occured while trying to create ol.layer.Tile from getCapabilities information. error : ",e)}h.gpResultLayerId="layerimport:WMTS",t.addLayer(h)}}else ys.warn("[ol.control.LayerImport] layer information not found in getCapabilities response for layer ")},t.prototype._getWMTSLayerGetTileUrl=function(){var e;if(this._getCapResponseWMTS&&this._getCapResponseWMTS.OperationsMetadata&&this._getCapResponseWMTS.OperationsMetadata.GetTile){var t=this._getCapResponseWMTS.OperationsMetadata.GetTile;t.DCP&&t.DCP.HTTP&&t.DCP.HTTP.Get&&Array.isArray(t.DCP.HTTP.Get)&&0!==t.DCP.HTTP.Get.length&&(e=t.DCP.HTTP.Get[0].href)}return e},t.prototype._getWMTSLayerProjection=function(e,t){var o;if(e&&"object"===ms(e)){if(t&&"object"===ms(t)){if(e.TileMatrixSetLink&&Array.isArray(e.TileMatrixSetLink)){var n,r=e.TileMatrixSetLink[0].TileMatrixSet;if(t.Contents&&Array.isArray(t.Contents.TileMatrixSet))for(var i=t.Contents.TileMatrixSet,a=0;a<i.length;a++)if(i[a].Identifier===r&&i[a].TileMatrix){(n=i[a].SupportedCRS)&&"string"==typeof n&&(Object(s.t)(n)||Object(s.t)(n.toUpperCase()))&&(o=n);break}}return o}ys.warn("missing getCapabilities response")}else ys.warn("missing layer information (from getCapabilities)")},t.prototype._getTMSParams=function(e){var t,o,n,r={},i=[],a=[],l=[];if(this.getMap()&&e.TileMatrixSetLink&&Array.isArray(e.TileMatrixSetLink)){if(t=e.TileMatrixSetLink[0].TileMatrixSet,this._getCapResponseWMTS.Contents&&Array.isArray(this._getCapResponseWMTS.Contents.TileMatrixSet)){for(var c=this._getCapResponseWMTS.Contents.TileMatrixSet,u=0;u<c.length;u++)if(c[u].Identifier===t&&c[u].TileMatrix){var d,h,p,f,g,m=c[u];if(m.SupportedCRS&&(o=m.SupportedCRS,n=Object(s.t)(o)),n&&n.getUnits&&(g=n.getUnits()),Array.isArray(m.TileMatrix))for(var y=0;y<m.TileMatrix.length;y++)null!=(d=m.TileMatrix[y]).Identifier&&(h=parseInt(d.Identifier,10),i.push(h)),p=d.ScaleDenominator,f="degrees"===g?28e-5*p*180/(6378137*Math.PI):28e-5*p,a.push(f),l=d.TopLeftCorner;void 0!==a.sort&&a.sort((function(e,t){return t-e})),void 0!==i.sort&&i.sort((function(e,t){return e-t}))}}else ys.warn("[ol.control.LayerImport] TileMatrixSet data not found in getCapabilities response for layer "+e.Identifier);return r.tms=t,r.projCode=o,r.matrixIds=i,r.resolutions=a,r.origin=l,r}},t.prototype._getWMTSLayerExtent=function(e){var t,o=this._getMapProjectionCode();return e.WGS84BoundingBox&&Array.isArray(e.WGS84BoundingBox)&&(t=Object(s.F)(e.WGS84BoundingBox,"EPSG:4326",o)),t},t.prototype._getMapProjectionCode=function(){var e=this.getMap();if(e&&e.getView&&e.getView().getProjection)return e.getView().getProjection().getCode();ys.warn("unable to get layerimport's map")},t.prototype._displayWaitingContainer=function(){this._waitingContainer.className="GPimportWaitingContainerVisible",this._waiting=!0,this._timer&&(clearTimeout(this._timer),this._timer=null);var e=this;this._timer=setTimeout((function(){!0===e._waiting?e._hideWaitingContainer():e._timer&&clearTimeout(e._timer)}),16e3)},t.prototype._hideWaitingContainer=function(){this._waiting&&(this._waitingContainer.className="GPimportWaitingContainerHidden",this._waiting=!1,clearTimeout(this._timer),this._timer=null)},t.prototype.cleanGetCapResultsList=function(){if(this._getCapRequestUrl=null,this._getCapResponseWMS=null,this._getCapResponseWMTS=null,this._getCapResponseWMSLayers=null,this._getCapResponseWMTSLayers=null,this._getCapResultsListContainer)for(;this._getCapResultsListContainer.firstChild;)this._getCapResultsListContainer.removeChild(this._getCapResultsListContainer.firstChild)},t.prototype.cleanMapBoxResultsList=function(){if(this._hasMapBoxResults=!1,this._mapBoxResultsListContainer)for(;this._mapBoxResultsListContainer.firstChild;)this._mapBoxResultsListContainer.removeChild(this._mapBoxResultsListContainer.firstChild)},t.prototype.cleanMapBoxResults=function(e){if(this._hasMapBoxResults=!1,this._mapBoxResultsListContainer)for(var t=this._mapBoxResultsListContainer.childNodes,o=0;o<t.length;o++){var n=t[o];n.id==="GPEditorMapBoxContainer_ID_"+e&&n.remove()}},t}(Oo.a),_s=vs;window.ol&&window.ol.control&&(window.ol.control.LayerImport=vs);var bs=o("./node_modules/ol/control/Attribution.js"),As=mt.getLogger("geoportalattribution"),Cs=function(e){function t(o){if(o=o||{},!(this instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");o.collapsible=!0,e.call(this,o)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype,{}),t.prototype.constructor=t,t.prototype.setMap=function(o){var n=this;if(null!=o){var r=o.getControls();r.forEach((function(e){if(!(e instanceof t)&&e)for(var o=e.element.classList,n=0;n<o.length;n++)if("ol-attribution"===o[n]){r.remove(e);break}})),this._updateAttributions(o),o.on("moveend",(function(){n._updateAttributions(o)})),o.getLayers().on("add",(function(){n._updateAttributions(o)})),o.getLayers().on("remove",(function(){n._updateAttributions(o)}))}e.prototype.setMap.call(this,o)},t.prototype._updateAttributions=function(e){for(var t=this,o={},n=e.getView(),r=n.calculateExtent(e.getSize()),i=n.getProjection().getCode(),a=Object(s.F)(r,i,"EPSG:4326"),l=[a[3],a[0],a[1],a[2]],c=n.getZoom(),u=e.getLayers().getArray(),d=0;d<u.length;d++)if(u[d].getSource)this._updateLayerAttributions(u[d],o,l,i,c);else if(u[d].getLayers){u[d].getLayers().forEach((function(e){e.getSource?t._updateLayerAttributions(e,o,l,i,c):As.log("cannot find layer source in layergroup ",u[d])}))}},t.prototype._updateLayerAttributions=function(e,t,o,n,r){if(e){var i=e.getSource();if(i){t||(t={});var a=[],s=e.getVisible(),l=i._originators;if(void 0!==l&&i.setAttributions(),l&&s){for(var c=no.getAttributions({extent:o,crs:n,zoom:r,visibility:s,originators:l}),u=0;u<c.length;u++){var d=c[u];t.hasOwnProperty(d)||(a.push(d),t[d]=!0)}0!==a.length&&(i.setAttributions(a),this.dispatchEvent({type:"attributions:update",attributions:a}))}}else As.trace("source is not yet loaded !")}else As.trace("layer is null !?")},t}(bs.a),ws=Cs;window.ol&&window.ol.control&&(window.ol.control.GeoportalAttribution=Cs);var Es={_addUID:function(e){return this._uid?e+"-"+this._uid:e},_createMainContainerElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPmeasureLength"),e.className="GPwidget",e},_createShowMeasureLengthElement:function(){var e=document.createElement("input");return e.id=this._addUID("GPshowMeasureLength"),e.type="checkbox",e},_createShowMeasureLengthPictoElement:function(){var e=this,t=document.createElement("label");t.id=this._addUID("GPshowMeasureLengthPicto"),t.className="GPshowAdvancedToolPicto",t.htmlFor=this._addUID("GPshowMeasureLength"),t.title="Mesurer une distance",t.addEventListener?t.addEventListener("click",(function(t){e.onShowMeasureLengthClick(t)})):t.attachEvent&&t.attachEvent("onclick",(function(t){e.onShowMeasureLengthClick(t)}));var o=document.createElement("span");return o.id=this._addUID("GPshowMeasureLengthOpen"),o.className="GPshowAdvancedToolOpen",t.appendChild(o),t}},Is=mt.getLogger("measurelength"),Os=function(e){function t(o){if(o=o||{},!(this instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this.CLASSNAME="MeasureLength",this._uid=So.generate(),this._showContainer=null,this._pictoContainer=null,this._initialize(o);var n=o.element?o.element:this._initializeContainer();e.call(this,{element:n,target:o.target,render:o.render})}return e&&(t.__proto__=e),t.prototype=Object.create(e.prototype,{}),Bt.assign(t.prototype,cs),Bt.assign(t.prototype,Es),t.prototype.constructor=t,t.prototype.setMap=function(t){Is.trace("setMap()");var o=this.CLASSNAME;t?this.options.target||as.add(t,this):this.clean(),this.tools[o].push({instance:t?this:null,active:!1,map:t?t.getTargetElement().id:null});var n="undefined"!=typeof window?window:"undefined"!=typeof self?self:null;n&&(n.gpShareMeasures||(n.gpShareMeasures={}),n.gpShareMeasures[o]=this.tools[o]),e.prototype.setMap.call(this,t)},t.prototype._initialize=function(e){Is.trace("call MeasureLength::_initialize() : ",e),this.options={},this.options.geodesic=void 0===e.geodesic||e.geodesic,this.options.target=void 0!==e.target?e.target:null,this.options.render=void 0!==e.render?e.render:null,this.options.layerDescription=void 0!==e.layerDescription?e.layerDescription:{title:"Mesures de distance",description:"Mes mesures"},this.createStylingMeasureInteraction(e.styles)},t.prototype._initializeContainer=function(){Is.trace("call MeasureLength::_initializeContainer() : ",this._uid);var e=this._createMainContainerElement(),t=this._showContainer=this._createShowMeasureLengthElement();e.appendChild(t),this._showContainer.checked=!1;var o=this._pictoContainer=this._createShowMeasureLengthPictoElement();return e.appendChild(o),e},t.prototype.addMeasureEvents=function(){var e=this;Is.trace("call MeasureLength::addMeasureEvents()");var t=this.getMap();t.on("singleclick",(function(t){return e.onPointerMoveHandler(t)})),t.on("pointermove",(function(t){return e.onPointerMoveHandler(t)}))},t.prototype.removeMeasureEvents=function(){var e=this;Is.trace("call MeasureLength::removeMeasureEvents()");var t=this.getMap();t.un("singleclick",(function(t){return e.onPointerMoveHandle(t)})),t.un("pointermove",(function(t){return e.onPointerMoveHandler(t)}))},t.prototype.format=function(e){Is.trace("call MeasureLength::format()");var t,o=this.getMap();if(this.options.geodesic){var n=e.getCoordinates();t=0;for(var r=o.getView().getProjection(),i=0,a=n.length-1;i<a;++i){var l=Object(s.E)(n[i],r,"EPSG:4326"),c=Object(s.E)(n[i+1],r,"EPSG:4326");t+=Object(wi.c)(l,c)}}else t=Math.round(100*e.getLength())/100;return t>1e3?Math.round(t/1e3*100)/100+" km":Math.round(100*t)/100+" m"},t.prototype.onShowMeasureLengthClick=function(e){Is.trace("call MeasureLength::onShowMeasureLengthClick()",e),this.onShowMeasureClick(e,"LineString")},t}(Oo.a),Ss=Os;window.ol&&window.ol.control&&(window.ol.control.MeasureLength=Os);var xs={_addUID:function(e){return this._uid?e+"-"+this._uid:e},_createMainContainerElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPmeasureArea"),e.className="GPwidget",e},_createShowMeasureAreaElement:function(){var e=document.createElement("input");return e.id=this._addUID("GPshowMeasureArea"),e.type="checkbox",e},_createShowMeasureAreaPictoElement:function(){var e=this,t=document.createElement("label");t.id=this._addUID("GPshowMeasureAreaPicto"),t.className="GPshowAdvancedToolPicto",t.htmlFor=this._addUID("GPshowMeasureArea"),t.title="Mesurer une surface",t.addEventListener?t.addEventListener("click",(function(t){e.onShowMeasureAreaClick(t)})):t.attachEvent&&t.attachEvent("onclick",(function(t){e.onShowMeasureAreaClick(t)}));var o=document.createElement("span");return o.id=this._addUID("GPshowMeasureAreaOpen"),o.className="GPshowAdvancedToolOpen",t.appendChild(o),t}},js=mt.getLogger("measurearea"),Ps=function(e){function t(o){if(o=o||{},!(this instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this.CLASSNAME="MeasureArea",this._uid=So.generate(),this._showContainer=null,this._pictoContainer=null,this._initialize(o);var n=o.element?o.element:this._initializeContainer();e.call(this,{element:n,target:o.target,render:o.render})}return e&&(t.__proto__=e),t.prototype=Object.create(e.prototype,{}),Bt.assign(t.prototype,cs),Bt.assign(t.prototype,xs),t.prototype.constructor=t,t.prototype.setMap=function(t){js.trace("setMap()");var o=this.CLASSNAME;t?this.options.target||as.add(t,this):this.clean(),this.tools[o].push({instance:t?this:null,active:!1,map:t?t.getTargetElement().id:null});var n="undefined"!=typeof window?window:"undefined"!=typeof self?self:null;n&&(n.gpShareMeasures||(n.gpShareMeasures={}),n.gpShareMeasures[o]=this.tools[o]),e.prototype.setMap.call(this,t)},t.prototype._initialize=function(e){js.trace("call MeasureArea::_initialize() : ",e),this.options={},this.options.geodesic=void 0===e.geodesic||e.geodesic,this.options.target=void 0!==e.target?e.target:null,this.options.render=void 0!==e.render?e.render:null,this.options.layerDescription=void 0!==e.layerDescription?e.layerDescription:{title:"Mesures de surface",description:"Mes mesures"},this.createStylingMeasureInteraction(e.styles)},t.prototype._initializeContainer=function(){js.trace("call MeasureArea::_initializeContainer() : ",this._uid);var e=this._createMainContainerElement(),t=this._showContainer=this._createShowMeasureAreaElement();e.appendChild(t),this._showContainer.checked=!1;var o=this._pictoContainer=this._createShowMeasureAreaPictoElement();return e.appendChild(o),e},t.prototype.addMeasureEvents=function(){var e=this;js.trace("call MeasureArea::addMeasureEvents()");var t=this.getMap();t.on("singleclick",(function(t){return e.onPointerMoveHandler(t)})),t.on("pointermove",(function(t){return e.onPointerMoveHandler(t)}))},t.prototype.removeMeasureEvents=function(){var e=this;js.trace("call MeasureArea::removeMeasureEvents()");var t=this.getMap();t.un("singleclick",(function(t){return e.onPointerMoveHandler(t)})),t.un("pointermove",(function(t){return e.onPointerMoveHandler(t)}))},t.prototype.format=function(e){var t;if(js.trace("call MeasureArea::format()"),this.options.geodesic){var o=e.clone().getLinearRing(0).getCoordinates();t=Math.abs(Object(wi.b)(new Mt.b([o])))}else t=e.getArea();return t>1e6?Math.round(t/1e6*100)/100+" km<sup>2</sup>":t>1e5?Math.round(t/1e6*1e3)/1e3+" km<sup>2</sup>":t>1e3?10*Math.round(t/10)+" m<sup>2</sup>":Math.round(100*t)/100+" m<sup>2</sup>"},t.prototype.onShowMeasureAreaClick=function(e){js.trace("call MeasureArea::onShowMeasureAreaClick()",e),this.onShowMeasureClick(e,"Polygon")},t}(Oo.a),Ts=Ps;window.ol&&window.ol.control&&(window.ol.control.MeasureArea=Ps);var Ms={_addUID:function(e){return this._uid?e+"-"+this._uid:e},_createMainContainerElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPmeasureAzimuth"),e.className="GPwidget",e},_createShowMeasureAzimuthElement:function(){var e=document.createElement("input");return e.id=this._addUID("GPshowMeasureAzimuth"),e.type="checkbox",e},_createShowMeasureAzimuthPictoElement:function(){var e=this,t=document.createElement("label");t.id=this._addUID("GPshowMeasureAzimuthPicto"),t.className="GPshowAdvancedToolPicto",t.htmlFor=this._addUID("GPshowMeasureAzimuth"),t.title="Mesurer un azimut",t.addEventListener?t.addEventListener("click",(function(t){e.onShowMeasureAzimuthClick(t)})):t.attachEvent&&t.attachEvent("onclick",(function(t){e.onShowMeasureAzimuthClick(t)}));var o=document.createElement("span");return o.id=this._addUID("GPshowMeasureAzimuthOpen"),o.className="GPshowAdvancedToolOpen",t.appendChild(o),t}},Rs=mt.getLogger("measureazimut"),Ls=function(e){function t(o){if(o=o||{},!(this instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this.CLASSNAME="MeasureAzimuth",this._uid=So.generate(),this._showContainer=null,this._pictoContainer=null,this._initialize(o);var n=o.element?o.element:this._initializeContainer();e.call(this,{element:n,target:o.target,render:o.render})}return e&&(t.__proto__=e),t.prototype=Object.create(e.prototype,{}),Bt.assign(t.prototype,cs),Bt.assign(t.prototype,Ms),t.prototype.constructor=t,t.prototype.setMap=function(t){Rs.trace("setMap()");var o=this.CLASSNAME;t?this.options.target||as.add(t,this):this.clean(),this.tools[o].push({instance:t?this:null,active:!1,map:t?t.getTargetElement().id:null});var n="undefined"!=typeof window?window:"undefined"!=typeof self?self:null;n&&(n.gpShareMeasures||(n.gpShareMeasures={}),n.gpShareMeasures[o]=this.tools[o]),e.prototype.setMap.call(this,t)},t.prototype.setGeodesic=function(e){this.options.geodesic=void 0!==e&&e},t.prototype.isGeodesic=function(){return this.options.geodesic},t.prototype._initialize=function(e){Rs.trace("call MeasureAzimuth::_initialize() : ",e),this.options={},this.options.geodesic=void 0!==e.geodesic&&e.geodesic,this.options.target=void 0!==e.target?e.target:null,this.options.render=void 0!==e.render?e.render:null,this.options.layerDescription=void 0!==e.layerDescription?e.layerDescription:{title:"Mesures d'azimuth",description:"Mes mesures"},this.createStylingMeasureInteraction(e.styles)},t.prototype._initializeContainer=function(){Rs.trace("call MeasureAzimuth::_initializeContainer() : ",this._uid);var e=this._createMainContainerElement(),t=this._showContainer=this._createShowMeasureAzimuthElement();e.appendChild(t),this._showContainer.checked=!1;var o=this._pictoContainer=this._createShowMeasureAzimuthPictoElement();return e.appendChild(o),e},t.prototype.addMeasureEvents=function(){var e=this;Rs.trace("call MeasureAzimuth::addMeasureEvents()");var t=this.getMap();t.on("singleclick",(function(t){return e.onPointerMoveAzimutHandler(t)})),t.on("pointermove",(function(t){return e.onPointerMoveAzimutHandler(t)}))},t.prototype.removeMeasureEvents=function(){var e=this;Rs.trace("call MeasureAzimuth::removeMeasureEvents()");var t=this.getMap();t.un("singleclick",(function(t){return e.onPointerMoveAzimutHandler(t)})),t.un("pointermove",(function(t){return e.onPointerMoveAzimutHandler(t)}))},t.prototype.format=function(e){Rs.trace("call MeasureAzimuth::format()");var t=this.getMap().getView().getProjection(),o=Object(s.E)(e.getFirstCoordinate(),t,"EPSG:4326"),n=Object(s.E)(e.getLastCoordinate(),t,"EPSG:4326");if(!this.options.geodesic){var r=Object(wi.c)(o,n);if(Rs.trace("measure between 2 points with geodesic method",r),r>500){var i=500/r;Rs.trace("%",i),n=Object(s.E)(e.getCoordinateAt(i),t,"EPSG:4326")}}var a=Math.PI/180,l=180/Math.PI,c=a*o[0],u=a*n[0],d=a*o[1],h=a*n[1],p=Math.sin(u-c)*Math.cos(h),f=Math.cos(d)*Math.sin(h)-Math.sin(d)*Math.cos(h)*Math.cos(u-c),g=l*Math.atan2(p,f);return Rs.trace("azimut",g),g<0&&(g+=360),Math.round(100*g)/100+" Â°"},t.prototype.onShowMeasureAzimuthClick=function(e){Rs.trace("call MeasureAzimuth::onShowMeasureAzimuthClick()",e),this.onShowMeasureClick(e,"LineString")},t.prototype.onPointerMoveAzimutHandler=function(e){(this.onPointerMoveHandler(e),this.sketch)&&(this.sketch.getGeometry().getCoordinates().length>2&&this.measureDraw.finishDrawing())},t}(Oo.a),ks=Ls;function Gs(e){return(Gs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}window.ol&&window.ol.control&&(window.ol.control.MeasureAzimuth=Ls),function(){var e=document.getElementsByTagName("script"),t=e[e.length-1].getAttribute("data-key"),o=e[e.length-1].getAttribute("data-url"),n=e[e.length-1].getAttribute("data-timeout");if(t||o){var r={apiKey:t,sync:!0,onSuccess:function(){},onFailure:function(e){throw new Error("Configuration load failed : "+e.message)}};o&&(r.customConfigFile=o,r.callbackSuffix=""),n&&(r.timeOut=n),window.Gp||gt.Services.getConfig(r)}}(),ui.loadByDefault(),ui.overload();var Ds=gt.Services,Ns=gt.Error,Fs=gt.Helper,Us=gt.Protocols,Bs=gt.servicesDate,zs=gt.servicesVersion,Vs=(window.Gp&&window.Gp.Config,l.olExtVersion||l.version),Ws=l.date;function qs(e,t){return function e(t,o){for(var n in t)t.hasOwnProperty(n)&&(o.hasOwnProperty(n)?"object"===Gs(t[n])&&e(t[n],o[n]):o[n]=t[n])}(e,t)}var Ys={};Ys.gp={},Ys.gp.GfiUtils=At,Ys.includeProjections=ui.load,Ys.style=Ys.style||{},Ys.style.Editor=es,Ys.style.editor=Ys.style.editor||{},Ys.style.editor.Style=ma,Ys.style.editor.Filter=Oa,Ys.style.editor.Layer=Da,Ys.style.editor.Legend=Ma,Ys.style.editor.Group=za,Ys.style.editor.Themes=Aa,Ys.style.editor.Search=Ha,Ys.format=Ys.format||{},Ys.format.KMLExtended=Wt,Ys.format.GPXExtended=Zt,Ys.format.GeoJSONExtended=Qt,Ys.source=Ys.source||{},Ys.source.WMTSExtended=to,Ys.source.GeoportalWMTS=so,Ys.source.GeoportalWMS=uo,Ys.layer=Ys.layer||{},Ys.layer.GeoportalWMTS=fo,Ys.layer.GeoportalWMS=yo,Ys.layer.GeoportalMapBox=Eo,Ys.control=Ys.control||{},Ys.control.LayerSwitcher=Dr,Ys.control.GeoportalAttribution=ws,Ys.control.GetFeatureInfo=zr,Ys.control.SearchEngine=Jr,Ys.control.Route=Ki,Ys.control.Isocurve=ta,Ys.control.GeoportalMousePosition=mi,Ys.control.Drawing=ji,Ys.control.ReverseGeocode=aa,Ys.control.LayerImport=_s,Ys.control.MeasureLength=Ss,Ys.control.MeasureArea=Ts,Ys.control.MeasureAzimuth=ks,Ys.control.DefaultMarkers=Pt,Ys.control.ElevationPath=gs,Ys.control.LocationSelector=Li,Ys.control.Export=Wi,window.ol&&(qs(Ys,window.ol),qs(window.ol,Ys));function Hs(e){if(!(this instanceof Hs))throw new TypeError("IMap constructor cannot be called as a function.");for(var t in this._opts=e,this.logger=i.getLogger("IMap"),this.logger.trace("[Constructeur IMap (options)]"),this._layers=[],this._layersRemoved=[],this._controls=[],this._events={},this._markers=[],this._isConfLoaded=!1,this._opts.mapOptions&&(this.apiKey=this._opts.mapOptions.apiKey),this.div=this._opts.div,this.mapOptions=Object.create(Hs.DEFAULTOPTIONS),this._opts.mapOptions)this._opts.mapOptions.hasOwnProperty(t)&&(this.mapOptions[t]=this._opts.mapOptions[t],this.logger.trace("option "+t+" rÃ©cupÃ©rÃ©e"));this._initMap()}Hs.DEFAULTOPTIONS={projection:"EPSG:3857",center:{x:0,y:0,projection:"EPSG:4326",geolocate:!1,location:null,locationType:"location"},azimuth:0,enableRotation:!0,tilt:90,zoom:10,minZoom:0,maxZoom:21,reloadConfig:!0,controlsOptions:{draggable:!0,keyboard:!0,selectable:!1},mapEventsOptions:{},noProxyDomains:["wxs.ign.fr"]},Hs.DEFAULTLAYER=function(e){return{"ORTHOIMAGERY.ORTHOPHOTOS::GEOPORTAIL:OGC:WMTS":{minZoom:0,maxZoom:19,queryable:!0,opacity:1,format:"wmts",position:0,title:"Photographies aÃ©riennes",description:"Photographies aÃ©riennes",url:"https://data.geopf.fr/wmts",layer:"ORTHOIMAGERY.ORTHOPHOTOS",projection:"EPSG:3857",tileMatrixSet:"PM",topLeftCorner:{x:-20037508,y:20037508},resolutions:[156543.033928041,78271.51696402048,39135.758482010235,19567.87924100512,9783.93962050256,4891.96981025128,2445.98490512564,1222.99245256282,611.49622628141,305.7481131407048,152.8740565703525,76.43702828517624,38.21851414258813,19.10925707129406,9.554628535647032,4.777314267823516,2.388657133911758,1.194328566955879,.5971642834779395,.2985821417389697,.1492910708694849,.0746455354347424],matrixIds:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21"],styleName:"normal",outputFormat:"image/jpeg",originators:[{name:"IGN",attribution:"Institut National de l'Information GÃ©ographique et ForestiÃ¨re",url:"https://www.ign.fr"}],quicklookUrl:"https://wxs.ign.fr/static/pictures/ign_ortho.jpg",metadata:[{url:""},{format:"xml",url:"https://wxs.ign.fr/geoportail/csw?service=CSW&version=2.0.2&request=GetRecordById&Id=IGNF_BDORTHOr_2-0.xml"},{format:"xml",url:"https://wxs.ign.fr/geoportail/csw?service=CSW&version=2.0.2&request=GetRecordById&Id=SPOT5.xml"},{format:"xml",url:"https://wxs.ign.fr/geoportail/csw?service=CSW&version=2.0.2&request=GetRecordById&Id=NCL-DITTT-ORTHO.xml"},{format:"xml",url:"https://wxs.ign.fr/geoportail/csw?service=CSW&version=2.0.2&request=GetRecordById&Id=IGNF_BDORTHOr_2-0.xml"},{format:"xml",url:"https://wxs.ign.fr/geoportail/csw?service=CSW&version=2.0.2&request=GetRecordById&Id=IGNF_ORTHOHR_1-0.xml"}],legends:[{format:"application/pdf",url:"https://www.geoportail.gouv.fr/depot/fiches/photographiesaeriennes/geoportail_dates_des_prises_de_vues_aeriennes.pdf",minScaleDenominator:null}]}}},Hs.prototype={constructor:Hs,_afterInitMap:function(){var e=this.mapOptions.mapEventsOptions;if(e)for(var t in e)this.listen(t,e[t],this);this.listen("layerChanged",this._onLayerChanged,this),"2d"===this.getViewMode()&&this.setXYCenter(this.mapOptions.center);var o="undefined"!=typeof window?window:{},n=o.Gp?o.Gp.Config:void 0,r=!1;this.apiKey&&!this.mapOptions.reloadConfig?r=!1:this.apiKey||this.mapOptions.customConfigFile?r=this.mapOptions.reloadConfig||!n||!n.isKeyConfLoaded(Array.isArray(this.apiKey)?this.apiKey[0]:this.apiKey):n?this.apiKey=Object.keys(n.generalOptions.apiKeys):(this.apiKey="full",r=!0);var i=this;if(r){var a=this.mapOptions.callbackSuffix;this.mapOptions.customConfigFile&&(a=a||""),Ds.getConfig({apiKey:this.apiKey,customConfigFile:this.mapOptions.customConfigFile,callbackSuffix:a,onSuccess:function(e){i._afterGetConfig(e)},onFailure:function(e){this.logger.error(e),i._afterGetConfig(null)}})}else setTimeout((function(){i._afterGetConfig(n)}))},_afterGetConfig:function(e){this.logger.trace("[IMap] : Configuration chargÃ©e ... ou pas"),this._isConfLoaded=!(void 0===e);var t=Hs.CustomEvent("configured",{detail:{config:e}});this.div.dispatchEvent(t),this.mapOptions.hasOwnProperty("layersOptions")||(this._isConfLoaded?this.mapOptions.layersOptions={"ORTHOIMAGERY.ORTHOPHOTOS":{}}:this.mapOptions.layersOptions=Hs.DEFAULTLAYER(this.apiKey)),!this._isConfLoaded||this.mapOptions.center.hasOwnProperty("x")&&0!==this.mapOptions.center.x||this.mapOptions.center.hasOwnProperty("y")&&0!==this.mapOptions.center.y||(this.logger.trace("[IMap] : _afterGetConfig : setting default map center to (2.345274398, 48.860832558)"),this.mapOptions.center.x="2.345274398",this.mapOptions.center.y="48.860832558",this.mapOptions.center.projection="EPSG:4326"),(this.mapOptions.center.location||this.mapOptions.center.geolocate)&&this.setCenter(this.mapOptions.center),this.mapOptions.hasOwnProperty("markersOptions")&&this.setMarkersOptions(this.mapOptions.markersOptions),this.addLayers(this.mapOptions.layersOptions),this.addControls(this._getDefaultControls()),this.addControls(this.mapOptions.controlsOptions);var o=Hs.CustomEvent("mapLoaded",{detail:{map:this}});this.div.dispatchEvent(o)},_initMap:function(){this.logger.trace("[IMap] : _initMap")},setProxy:function(e){return yt.proxifyUrl(e,this.mapOptions)},getViewMode:function(){return this.mapOptions.viewMode},getLibMap:function(){return{}},destroyMap:function(){}},Hs.DEFAULT_VECTORLAYERS_STYLES={markerSrc:"data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAADMAAAAmCAYAAABpuqMCAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAARDSURBVFiF3ZndaxxVGMZ/Z/YjX00Nadpo1qrFBgu56D9QbAtiLoRC7ywSNK1NURRREBKRFlSwFBW0gnSrJXY1CmISgyjFiyYSFC9ajE3MmpjdjWlMUtNos9lN9mteLzbRuCbZmTMTBB+Yi51znvd5n3nPnjnnjBIR/i/wuh4xpCpI0ojiENAA1AE1wCzwKzCE0EM5l2iShJvSyrXKnFVb8dOK4hmg3AIjifAmaU7ztMy7kYI7Zs6rQwjvka+AXcyiOMZx6XGahuE0AEHVitCFnhGAGoQugqrVaSrOKpNP4FWnSaxCGy1yWpesbyY/tLpwo7p/w0RxWHfI6Zk5q7ZSwhj6Q2sjzJLiXp1JQe+p+mllc4wA1CzHtw37lQmpCha5gbXpVxdJythh9z1kvzJJGrFixPBmOXixl+Z4mONmguZ4mIMXezG8WQsq5cs6tmDfTP7NXiSqN0vTzBD1TQfwbdmDUhX4tuyhvukATTNDlgxZ0SmUtUsgv0TZGPsv9FNSvXfNtpLqvey/0O+KTgF0zNQV7XHP4dsdtVvVKYCOmeqiPbwVOx21W9UpgI6ZWNEe2cSEo3arOgWwb0YYLp5G17Sjdqs6BdCZzYqL9B3dR2puYM221NwAfUf3uaJTAB0zaye5GmbWS6i2gdFQL5mFMCIJMgthRkO9hGobMLPFN4VWdAoptlcAQeUDRoG77YrZwDhQT4tk7JDsV6ZFMggv2+bZwyt2jYDuQnOa94GIFrc4IkzRrkPUM3NKsijatLjF0copsbJ++xec7TTPqw6EI/oB/glT+PC+13Y/aSQNv/Is+tNer09lMn7DMHwAYppp8fvTIpISkVQsFrslqww4M9OuqkgzANzl1MhCyrjZGAycm573pK1yFCyi5FoWvo/FYlPOT2fOqftRXMbB9lkEs+3zbe2f/FD5i3YMj2p3vn8/IV8DZ5yE+Gqkot+JEQCPada5dRhxEriiQ5ya90w+272916F+KpnJDLhjpkUy5HgESNqhZU2Vfr5ne+dSFtOBeso06J6cnEy6d0z0hPwEPGeH8sGVykvfjpfe1NZUci2+mHg7Go2G8z/d/goQVJ9B8S1veMYffujduo/thl+ZwUzDuBqJRGZWt7n/FcDH46lFNVLilar1uiTTxsJTnTssH/QpJVlMNQa5wbGJiWERya3Vz30zzfLb3OveY3dU5j5dp4e80Xdbd3TOu/H/yyAtpjnqgeGS8crRQRks+v5xf5gtY/KM/6NAVebhwvv90bLvHu2o/XId2pJSMmIaxo/RaHRMxN6yZtPM0K5K/7hl/FxVZgZWbs0mPDceeKcuGE95/kpSKUmaImHDNIfHrl+PiIj2zOb+MFvBY7IUOVl2ZG9g6bJH4ckJuRe/2NYZT3myKIkrGM4pNRyLjY+LW09URDb1+uaF0pfm3zJ+7zhRGdq1c9eDuwOBOzdLa/OG2X+APwE8DU64Y/5gfAAAAABJRU5ErkJggg==",markerXAnchor:25.5,markerYAnchor:38,pointColor:"#002A50",pointOpacity:.9,pointRadius:6,strokeColor:"#002A50",strokeWidth:4,strokeOpacity:.8,polyFillColor:"#00B798",polyFillOpacity:.5,textStrokeColor:"#000000",textColor:"#FFFFFF"},Hs.WMTSDEFAULTS={"EPSG:3857":{resolutions:[156543.033928041,78271.51696402048,39135.758482010235,19567.87924100512,9783.93962050256,4891.96981025128,2445.98490512564,1222.99245256282,611.49622628141,305.7481131407048,152.8740565703525,76.43702828517624,38.21851414258813,19.10925707129406,9.554628535647032,4.777314267823516,2.388657133911758,1.194328566955879,.5971642834779395,.2985821417389697,.1492910708694849,.0746455354347424],scales:{0:559082264,1:279541132,2:139770566,3:69885283,4:34942642,5:17471321,6:8735660,7:4367830,8:2183915,9:1091958,10:545979,11:272989,12:136495,13:68247,14:34124,15:17062,16:8531,17:4265,18:2133,19:1066,20:533,21:267},threshold:1e-7,topLeftCorner:{x:-20037508,y:20037508}},"EPSG:4326":{resolutions:[1.40625,.703125,.3515625,.17578125,.087890625,.0439453125,.02197265625,.010986328125,.0054931640625,.00274658203125,.001373291015625,.0006866455078125,.00034332275390625,.000171661376953126,858306884765628e-19,429153442382813e-19,214576721191407e-19,107288360595703e-19,536441802978517e-20,268220901489259e-20,13411045074463e-19,6.70552253723145e-7,3.3527612686157e-7],threshold:1e-10,topLeftCorner:{x:90,y:-180}},"EPSG:2154":{resolutions:[104579.22454989408,52277.53235379051,26135.487078595408,13066.891381800004,6533.228604113456,3266.5595244626675,1633.2660045974187,816.6295549860224,408.31391467683596,204.15674151090204,102.07831678324082,51.0391448966112,25.519569074269395,12.759783693647506,6.379891635966491,3.18994576530532,1.5949728694977277,.7974864315474559,.398743214900604,.19937160727567999,.099685803696052,.049842901818919996],threshold:1e-8,topLeftCorner:{x:0,y:12e6}}},Hs.prototype.getLayersOptions=function(e){(!e||Array.isArray(e)&&0===e.length)&&(e=[],this._layers.forEach((function(t){e.push(t.id)}),this));var t={};return this._layers.sort((function(e,t){return e.options.position-t.options.position})),Array.isArray(e)||(e=[e]),this._layers.forEach((function(o){e.indexOf(o.id)<0||(t[o.id]=o.options)}),this),t},Hs.prototype.addLayers=function(e){if(e){this.listen("layerChanged",this._onLayerChanged,this);var t=null,o=null;for(t in e)if(this._getLayersObj([t]).length>0)this.logger.info("Layer ["+t+"] already added to map.");else{this.logger.trace("[IMap] addLayers : adding : ["+t+"]");var n=e[t],r={};r[t]=n;var i="undefined"!=typeof window?window:{},a=i.Gp?i.Gp.Config:void 0;if(!n.hasOwnProperty("url")&&a){var s=null;n.format&&(s=n.format);var l=null;switch(null!=s&&"WMTS"!==s.toUpperCase()||(o=t+"$GEOPORTAIL:OGC:WMTS",(l=a.getLayerConf(o))&&(s="WMTS")),null!=s&&"WMS"!==s.toUpperCase()||(o=t+"$GEOPORTAIL:OGC:WMS",(l=a.getLayerConf(o))?s="WMS":(o=t+"$INSPIRE:OGC:WMS",(l=a.getLayerConf(o))&&(s="WMS"))),null!=s&&"MAPBOX"!==s.toUpperCase()||(o=t+"$GEOPORTAIL:GPP:TMS",(l=a.getLayerConf(o))&&(s="MAPBOX")),l&&(l.gpLayerId=o,l.apiKeys=a.getLayerKey(l.gpLayerId),this.logger.trace("[IMap] addLayers : ["+t+"] is a geoportalLayer. Adding inner properties."),r[t].format=s,r[t].originators=[],r[t]=this._layerOptions2layerConf(l,r[t])),s){case"MAPBOX":case"WMTS":case"WMS":this._addGeoportalLayer(r,l);continue;default:this.logger.trace("[IMap] addLayers : ["+t+"] is not a Geoportal Layer")}}if(n.hasOwnProperty("format")&&"string"==typeof n.format)if(n.hasOwnProperty("url")&&"string"==typeof n.url||n.hasOwnProperty("data")&&"string"==typeof n.data)if(this._checkLayerParams(n))switch(n.format.toUpperCase()){case"GEORSS":break;case"COMPUTE":case"KML":case"GPX":case"GEOJSON":case"WFS":case"DRAWING":this._addVectorLayer(r);break;case"MAPBOX":this._addMapBoxLayer(r);break;case"WMS":case"WMTS":case"OSM":this._addRasterLayer(r);break;default:this.logger.info("Impossible to add layer ["+t+"] : unhandled format ["+n.format+"]")}else this.logger.info("Impossible to add layer ["+t+"] : unsufficient or inadapted parameters given");else this.logger.info("Impossible to add layer ["+t+"] : no url given");else this.logger.info("Impossible to add layer ["+t+"] : no format given")}this._resetLayerChangedEvent()}else this.logger.trace("[IMap] addLayers : no layers to add")},Hs.prototype.removeLayers=function(e){return!e||Array.isArray(e)&&0===e.length?(this.logger.info("removeLayers : nothing to remove !"),!1):(Array.isArray(e)||(e=[e]),!0)},Hs.prototype.modifyLayers=function(e){return e?0!==Object.keys(e).length||(this.logger.info("modifyLayers : wrong format for layersOptions !"),!1):(this.logger.info("modifyLayers : nothing to modify !"),!1)},Hs.prototype._getWMTSDefaultOpts=function(){this.logger.trace("[IMap] : _getWMTSDefaultOpts");for(var e={version:"1.0.0",outputFormat:"image/jpeg"},t=[],o=0;o<=20;o++)t.push(""+o);e.matrixIds=t;var n=null,r=null,i=this.getProjection();return"string"!=typeof i||["EPSG:3857"].indexOf(i.toUpperCase())>=0?(n=Hs.WMTSDEFAULTS["EPSG:3857"].resolutions,r=Hs.WMTSDEFAULTS["EPSG:3857"].topLeftCorner):["EPSG:4326","CRS:84"].indexOf(i.toUpperCase())>=0?(n=Hs.WMTSDEFAULTS["EPSG:4326"].resolution7s,r=Hs.WMTSDEFAULTS["EPSG:4326"].topLeftCorner):["EPSG:2154"].indexOf(i.toUpperCase())>=0&&(n=Hs.WMTSDEFAULTS["EPSG:2154"].resolution7s,r=Hs.WMTSDEFAULTS["EPSG:2154"].topLeftCorner),n&&(e.resolutions=n,e.topLeftCorner=r),e},Hs.prototype._getLayersObj=function(e){var t=[];return this._layers.forEach((function(o,n,r){e.indexOf(o.id)<0?this.logger.trace("[IMap] _getLayersObj : "+o.id+" not found."):(this.logger.trace("[IMap] _getLayersObj : found obj for : "+o.id),t.push(o))}),this),t},Hs.prototype._addMarkers=function(e){this.logger.trace("[IMap] _addMarkers : generic function")},Hs.prototype._removeMarkers=function(){this.logger.trace("[IMap] _removeMarkers : generic function")},Hs.prototype.getMarkersOptions=function(){this.logger.trace("[IMap] getMarkersOptions : generic function")},Hs.prototype.setMarkersOptions=function(e){this.logger.trace("[IMap] setMarkersOptions : generic function")},Hs.prototype._checkLayerParams=function(e){var t=[];switch(e.format.toUpperCase()){case"WMS":e.hasOwnProperty("layers")&&e.layers instanceof Array||t.push("layers");break;case"WMTS":e.hasOwnProperty("layer")&&"string"==typeof e.layer||t.push("layer"),e.hasOwnProperty("tileMatrixSet")&&"string"==typeof e.tileMatrixSet||t.push("tileMatrixSet"),e.hasOwnProperty("styleName")&&"string"==typeof e.styleName||t.push("styleName");break;case"WFS":e.hasOwnProperty("typeNames")&&"string"==typeof e.typeNames||t.push("typeNames")}return!(t.length>0)||(this.logger.info("Impossible to add "+e.format+" layer : missing mandatory parameter(s) : "+t.toString()),!1)},Hs.prototype._addRasterLayer=function(e){},Hs.prototype._addVectorLayer=function(e){},Hs.prototype._addMapBoxLayer=function(e){},Hs.prototype._addGeoportalLayer=function(e,t){},Hs.prototype._applyCommonLayerParams=function(e){return{}},Hs.prototype._getLayerIndexByLayerOpts=function(e){if(!e)return-1;for(var t=0;t<this._layers.length;t++){var o=this._layers[t];if(e.hasOwnProperty(o.id))return t}return-1},Hs.prototype._getLayerIndexByLayerId=function(e){for(var t=0;t<this._layers.length;t++){if(e===this._layers[t].id)return t}return-1},Hs.prototype._filterEmptyMetadata=function(e){if(!e||!Array.isArray(e))return e;for(var t=[],o=0;o<e.length;o++)e[o].url&&e[o].url.trim().length>0&&t.push(e[o]);return t},Hs.prototype._layerOptions2layerConf=function(e,t){var o=t||{};return o.title=o.title||e.title,o.description=o.description||e.description,o.quicklookUrl=o.quicklookUrl||e.quicklookUrl,o.legends=o.legends||e.legends,o.metadata=o.metadata||e.metadata,o.metadata=this._filterEmptyMetadata(o.metadata),o},Hs.prototype._setSelectedMapboxStyle=function(e,t){for(var o=0;o<e.length;o++)e[o].selected=!1,o===t&&(e[o].selected=!0);return e},Hs.prototype._changeLayerColor=function(e,t){},Hs.DEFAULT_AUTOPAN_OPTIONS={autoPan:!0,duration:250,margin:5},Hs.DEFAULT_MEAS_STYLES={pointer:{strokeColor:"#002A50",strokeWidth:2,radius:5,fillColor:"rgba(255, 155, 0, 0.7)"},start:{strokeColor:"#002A50",strokeWidth:2,strokeLineDash:"[10, 10]",fillColor:"rgba(0, 183, 152, 0.2)"},finish:{strokeColor:"#002A50",strokeWidth:3,fillColor:"rgba(0, 183, 152, 0.3)"}},Hs.prototype._hexToRgba=function(e,t){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,o,n){return t+t+o+o+n+n}));var o=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return(o=o?{r:parseInt(o[1],16),g:parseInt(o[2],16),b:parseInt(o[3],16)}:null)?"rgba("+o.r+", "+o.g+", "+o.b+", "+t+")":null},Hs.prototype.getControlsOptions=function(e){(!e||Array.isArray(e)&&0===e.length)&&(e=[],this._controls.forEach((function(t){e.push(t.id)}),this));var t={};return Array.isArray(e)||(e=[e]),this._controls.forEach((function(o){e.indexOf(o.id)<0||(t[o.id]=o.options)}),this),t},Hs.prototype.getLibMapControl=function(e){return null},Hs.prototype.addControls=function(e){this.logger.trace("[IMap] addControls");var t=null;for(t in e){var o=null,n=e[t],r=this.getLibMapControl(t);if(!(this._findRegisteredControl(t)>=0||r)||(this.logger.info("[IMap] addControls : ["+t+"] dÃ©jÃ  prÃ©sent."),this.removeControls([t]),null!=n)){switch(this.logger.trace("[IMap] addControls : adding : ["+t+"]"),t.toLowerCase()){case"draggable":o=this.setDraggable(n);break;case"keyboard":o=this.setKeyboard(n);break;case"selectable":o=this.setSelectable(n);break;case"zoom":o=this.addZoomControl(n);break;case"zoombox":o=this._addZoomBoxControl(n);break;case"overview":o=this.addOverviewControl(n);break;case"orientation":o=this.addOrientationControl(n);break;case"graphicscale":o=this.addGraphicScaleControl(n);break;case"boostrelief":o=this.addBoostReliefControl(n);break;case"buildings":o=this.addBuildingsControl(n);break;case"mouseposition":o=this.addMousePositionControl(n);break;case"route":o=this.addRouteControl(n);break;case"isocurve":o=this.addIsocurveControl(n);break;case"graticule":o=this.addGraticuleControl(n);break;case"layerswitcher":o=this.addLayerSwitcherControl(n);break;case"layerimport":o=this.addLayerImportControl(n);break;case"length":o=this.addLengthControl(n);break;case"area":o=this.addAreaControl(n);break;case"azimuth":o=this.addAzimuthControl(n);break;case"elevationpath":o=this.addElevationPathControl(n);break;case"search":o=this.addSearchControl(n);break;case"reversesearch":o=this.addReverseSearchControl(n);break;case"drawing":o=this.addDrawingControl(n);break;case"attributions":o=this.addAttributionsControl(n);break;case"camera":o=this.addCameraControl(n);break;case"getfeatureinfo":o=this.addGetFeatureInfoControl(n);break;default:this.logger.info("Controle "+t+"inconnu.");continue}this.logger.trace("[IMap] addControls : registering : ["+t+"]"),this._controls.push({obj:o||"2D-only-control",id:t.toLowerCase(),options:n})}}},Hs.prototype.removeControls=function(e){},Hs.prototype.modifyControls=function(e){this.logger.trace("[IMap] : modifyControls ... ");var t=Object.keys(e);if(0!==t.length){for(var o=null,n=0;n<t.length;n++){o=t[n];var r=this.getLibMapControl(o),i=this._findRegisteredControl(o);if(i>=0){if(!r){this.logger.trace("[IMap] : modifyControls : removing control : "+o),this.removeControls([o]),delete e[o];continue}var a=this._controls[i].options;for(var s in e[o])a[s]=e[o][s];e[o]=a}else if(!r){delete e[o];continue}}this.addControls(e)}else this.logger.info("No control to modify.")},Hs.prototype.addZoomControl=function(e){},Hs.prototype.addZoomBoxControl=function(e){},Hs.prototype.addOverviewControl=function(e){},Hs.prototype.addOrientationControl=function(e){},Hs.prototype.addGraphicScaleControl=function(e){},Hs.prototype.addMousePositionControl=function(e){},Hs.prototype.addRouteControl=function(e){},Hs.prototype.addIsocurveControl=function(e){},Hs.prototype.addGraticuleControl=function(e){},Hs.prototype.addLayerSwitcherControl=function(e){},Hs.prototype.addLayerImportControl=function(e){},Hs.prototype.addLengthControl=function(e){},Hs.prototype.addAreaControl=function(e){},Hs.prototype.addAzimuthControl=function(e){},Hs.prototype.addElevationPathControl=function(e){},Hs.prototype.addSearchControl=function(e){},Hs.prototype.addReverseSearchControl=function(e){},Hs.prototype.addDrawingControl=function(e){},Hs.prototype.addAttributionsControl=function(e){},Hs.prototype.addBoostReliefControl=function(e){},Hs.prototype.addBuildingsControl=function(e){},Hs.prototype.addCameraControl=function(e){},Hs.prototype.addGetFeatureInfoControl=function(e){},Hs.prototype.getLSLayerContainerDivId=function(e){return null},Hs.prototype._getDefaultControls=function(){return{draggable:!0,keyboard:!0,selectable:!1,zoom:{},attributions:{maximised:!1}}},Hs.prototype._findRegisteredControl=function(e){if(!e||"string"!=typeof e)return this.logger.warn("[IMap] _findRegisteredControl : controlId is not a straight string"),-1;for(var t=0;t<this._controls.length;t++)if(this._controls[t].id.toLowerCase()===e.toLowerCase())return this.logger.trace("[IMap] _findRegisteredControl : found control "+e+" at index : "+t),t;return this.logger.trace("[IMap] _findRegisteredControl : control "+e+" not found."),-1},Hs.prototype._addLayerConfToLayerSwitcher=function(e,t){},Hs.CustomEvent=function(e,t){if("function"==typeof CustomEvent)return t.bubbles=!1,t.cancelable=!0,new CustomEvent(e,t);var o=document.createEvent("CustomEvent");return o.initCustomEvent(e,!1,!0,t.detail),o},Hs.prototype.setDraggable=function(e){},Hs.prototype.setKeyboard=function(e){},Hs.prototype.setSelectable=function(e){},Hs.prototype.listen=function(e,t,o){if("function"!=typeof t)return this.logger.error("no action provided for the event : "+e),!1;t.name&&"anomynous"!==t.name||this.logger.warn("the action provided for the event : "+e+" should be named so that it can be remove later"),o=o||this;switch(e){case"mapFailure":break;case"mapLoaded":case"geolocated":case"located":case"configured":this.logger.trace("[IMap] listening event : ["+e+"]");var n=function(e){t.call(o,e.detail)},r=this._registerEvent(n,e,t,o);r.eventOrigin=this.div,r.eventType=e,r.eventOrigin.addEventListener(r.eventType,n,this);break;case"centerChanged":case"zoomChanged":case"azimuthChanged":case"tiltChanged":case"layerChanged":break;case"projectionChanged":case"controlChanged":break;default:return this.logger.info("unhandled event : "+e),!1}return!0},Hs.prototype.forget=function(e,t){if("function"!=typeof t)return this.logger.info("no action provided for event : "+e),!1;switch(e){case"mapLoaded":case"geolocated":case"located":case"configured":case"pickFeature":var o=this._events[e];if(!o)return this.logger.info("nothing to forget for  : "+e),!1;for(var n=null,r=o.length-1;r>=0;r--)if(o[r].action===t){if(!o[r].eventOrigin)continue;n=o[r].key;var i=o[r].eventOrigin,a=o[r].eventType;if(!n)return this.logger.info("action to forget not found for  : "+e),!1;o.splice(r,1),this.logger.trace("[IT]  : forgetting  : "+e+" ("+n+")"),i.removeEventListener(a,n)}if(!n)return this.logger.info("action to forget not found for  : "+e),!1;break;case"mapFailure":case"centerChanged":case"zoomChanged":case"azimuthChanged":case"tiltChanged":case"projectionChanged":case"layerChanged":case"controlChanged":break;default:return this.logger.info("unhandled event : "+e),!1}return!0},Hs.prototype.forgetAllListeners=function(){for(var e in this._events)for(;this._events[e].length>0;)this.forget(e,this._events[e][0].action)},Hs.prototype._onLayerChanged=function(e){var t=null,o=-1,n=null;if(e.hasOwnProperty("layerAdded"))t=e.layerAdded,o=this._getLayerIndexByLayerOpts(t),this.logger.trace("[IMap] _onLayerChanged : layerAdded : "+o),o>=0&&o<this._layers.length?(n=this._layers[o].id,this._layers[o].options.position=e.position,this.logger.trace("[IMap] _onLayerChanged : setting position value to "+e.position+" for layer : "+n)):this.logger.warn("[IMap] _onLayerChanged : layerOpts ("+Object.keys(t)[0]+") not found for layerAdded Event");else if(e.hasOwnProperty("layerRemoved"))if(t=e.layerRemoved,(o=this._getLayerIndexByLayerOpts(t))>=0&&o<this._layers.length){this.logger.trace("[IMap] _onLayerChanged : removing layer at index "+o);var r={};r.id=this._layers[o].id,r.options=this._layers[o].options,r.obj=this._layers[o].obj,this._layersRemoved.push(r),this._layers.splice(o,1),this.logger.trace("[IMap] _onLayerChanged : #(layers) == "+this._layers.length)}else this.logger.warn("[IMap] _onLayerChanged : layerOpts not found for layerRemoved Event");else if(e.hasOwnProperty("layerChanged")){t=e.layerChanged;var i=this._getLayerIndexByLayerOpts(t);i>=0&&i<this._layers.length?(n=this._layers[i].id,"mapbox-status"===e.property?(this._layers[i].options.styles=this._setSelectedMapboxStyle(this._layers[i].options.styles,parseInt(e.newValue.theme.index)),this.logger.trace("[IMap] _onLayerChanged : setting selected style key to "+e.newValue.theme.key+" for layer : "+n)):(this._layers[i].options[e.property]=e.newValue,this.logger.trace("[IMap] _onLayerChanged : setting "+e.property+" value to "+e.newValue+" for layer : "+n))):this.logger.warn("[IMap] _onLayerChanged : layerOpts ("+Object.keys(t)[0]+") not found for layerChanged Event")}},Hs.prototype._registerEvent=function(e,t,o,n){return this.logger.trace("[IMap] : listen registering : "+e),e&&(this._events.hasOwnProperty(t)||(this._events[t]=[]),this._events[t].push({action:o,key:e,context:n})),this._events[t][this._events[t].length-1]},Hs.prototype._resetLayerChangedEvent=function(){if(this._events.hasOwnProperty("layerChanged")){var e=[],t=[];this._events.layerChanged.forEach((function(o){e.indexOf(o.action)<0&&(e.push(o.action),t.push(o.context))}),this);for(var o=0;o<e.length;++o)this.forget("layerChanged",e[o]),this.listen("layerChanged",e[o],t[o])}},Hs.prototype._setSelectedMapboxStyle=function(e,t){for(var o=0;o<e.length;o++)e[o].selected=!1,o===t&&(e[o].selected=!0);return e},Hs.prototype.centerGeocode=function(e){var t=this;Ds.geocode({apiKey:"calcul",query:e.location,index:"StreetAddress",onSuccess:function(e){t.logger.trace("[IMap] found center by geocoding ("+e.locations[0].position.lon+", "+e.locations[0].position.lat+")");var o={x:e.locations[0].position.lon,y:e.locations[0].position.lat,projection:"EPSG:4326"};t.setAutoCenter(o);var n=Hs.CustomEvent("located",{detail:{position:o}});t.div.dispatchEvent(n)},onFailure:function(){this.logger.info("Erreur du service de gÃ©ocodage !!!")}})},Hs.prototype.centerGeolocate=function(){var e=this;navigator.geolocation?navigator.geolocation.getCurrentPosition((function(t){e.logger.trace("[IMap] found center by geolocation ("+t.coords.longitude+", "+t.coords.latitude+")");var o={x:t.coords.longitude,y:t.coords.latitude,projection:"EPSG:4326"};e.setAutoCenter(o,17);var n=Hs.CustomEvent("geolocated",{detail:{position:o}});e.div.dispatchEvent(n)}),(function(t){var o="Erreur lors de la gÃ©olocalisation : ";switch(t.code){case t.TIMEOUT:o+="Timeout !";break;case t.PERMISSION_DENIED:o+="Vous nâavez pas donnÃ© la permission";break;case t.POSITION_UNAVAILABLE:o+="La position nâa pu Ãªtre dÃ©terminÃ©e";break;case t.UNKNOWN_ERROR:o+="Erreur inconnue"}e.logger.info(o)})):this.logger.info("Geolocate impossible")},Hs.prototype.getCenter=function(){return{}},Hs.prototype.setCenter=function(e){this.logger.trace("[IMap] : setCenter"),e&&(e.hasOwnProperty("x")&&e.hasOwnProperty("y")&&(this.logger.trace("[IMap] : setCenter - x, y"),this.setXYCenter(e)),e.geolocate&&(this.logger.trace("[IMap] : setCenter - geolocate"),this.centerGeolocate()),e.location&&e.location.trim().length>0&&(this.logger.trace("[IMap] : setCenter - geocode"),this.centerGeocode(e)))},Hs.prototype.setXYCenter=function(e){},Hs.prototype.setAutoCenter=function(e){},Hs.prototype.getViewExtent=function(){return{}},Hs.prototype.getProjection=function(){return""},Hs.prototype.setProjection=function(e){},Hs.prototype.getTilt=function(){return 90},Hs.prototype.setTilt=function(e){},Hs.prototype.getAzimuth=function(){return 0},Hs.prototype.setAzimuth=function(e){},Hs.prototype.getZoom=function(){return 0},Hs.prototype.setZoom=function(e){},Hs.prototype.zoomIn=function(){},Hs.prototype.zoomOut=function(){},Hs.prototype.getResolution=function(){return 0},Hs.prototype.setResolution=function(e){},Hs.prototype._getZoomFromResolution=function(e,t){this.logger.trace("[IMap] : _getZoomFromResolution");for(var o=this.getProjection(),n=Hs.WMTSDEFAULTS[t]||Hs.WMTSDEFAULTS[o]||Hs.WMTSDEFAULTS["EPSG:3857"],r=0,i=Math.abs(n.resolutions[0]-e),a=1;a<n.resolutions.length;a++){var s=Math.abs(n.resolutions[a]-e);if(s>=i)break;r=a,i=s}return r},Hs.prototype._getResolutionFromZoomLevel=function(e,t){this.logger.trace("[IMap] : _getResolutionFromZoomLevel");var o=this.getProjection(),n=Hs.WMTSDEFAULTS[t]||Hs.WMTSDEFAULTS[o]||Hs.WMTSDEFAULTS["EPSG:3857"],r=-1;return e>=0&&e<n.resolutions.length?r=n.resolutions[e]:this.logger.info("unhandled zoom level : "+e),r};var Xs=o("./node_modules/ol/View.js"),Zs=o("./node_modules/ol/Map.js"),Ks=o("./node_modules/ol/interaction.js"),Js=o("./node_modules/ol/interaction/MouseWheelZoom.js");function Qs(e){if(!(this instanceof Qs))throw new TypeError("OlMap constructor cannot be called as a function.");this.CLASSNAME="OlMap",e.mapOptions||(e.mapOptions={}),e.mapOptions.viewMode||(e.mapOptions.viewMode="2d"),Hs.apply(this,arguments),this.logger=i.getLogger("OlMap"),this.logger.trace("[Constructeur OlMap (options)]")}Qs.prototype=Object.create(Hs.prototype,{}),Qs.prototype.constructor=Qs,Qs.prototype._initMap=function(){this.logger.trace("[OlMap] : _initMap");var e={enableRotation:this.mapOptions.enableRotation,zoom:this.mapOptions.zoom,minZoom:this.mapOptions.minZoom,maxZoom:this.mapOptions.maxZoom,projection:this.mapOptions.projection,rotation:this.mapOptions.azimuth*Math.PI/180};this.mapOptions.extent&&(e.extent=this.mapOptions.extent);var t=new Xs.d(e);this.libMap=new Zs.a({interactions:Object(Ks.a)().extend([new Js.a({constrainResolution:!0,condition:Ci.q})]),target:this.div,view:t}),this._afterInitMap()},Qs.prototype.getLibMap=function(){return this.libMap},Qs.prototype.destroyMap=function(){this.forgetAllListeners(),this.libMap.setTarget(null)};var $s=o("./node_modules/ol/layer/Image.js"),el=o("./node_modules/ol/source/OSM.js"),tl=o("./node_modules/ol/format/GML2.js"),ol=o("./node_modules/ol/format/GML3.js"),nl=o("./node_modules/ol/loadingstrategy.js");Qs.LAYERPROPERTIES={visible:"visibility",opacity:"opacity",zIndex:"position",grayScaled:"grayScaled",minResolution:"maxZoom",maxResolution:"minZoom"},Qs.LAYERPROPERTIES["mapbox-status"]="mapbox-status",Qs.prototype.removeLayers=function(e){if(Hs.prototype.removeLayers.apply(this,arguments)){var t=this._getLayersObj(e);t.forEach((function(e,t,o){this.libMap.removeLayer(e.obj)}),this)}},Qs.prototype.modifyLayers=function(e){if(Hs.prototype.modifyLayers.apply(this,arguments)){var t=Object.keys(e),o=this._getLayersObj(t);o.forEach((function(t){this.logger.trace("[modifyLayers] : modifying : ["+t.id+"]");var o=this._applyCommonLayerParams(e[t.id]);o.hasOwnProperty("opacity")&&(this.logger.trace("[modifyLayers] : setting opacity of : ["+t.id+"] to : "+o.opacity),t.obj.setOpacity(o.opacity)),o.hasOwnProperty("visible")&&(this.logger.trace("[modifyLayers] : setting visible of : ["+t.id+"] to : "+o.visible),t.obj.setVisible(o.visible)),o.hasOwnProperty("zIndex")&&(this.logger.trace("[modifyLayers] : setting zIndex of : ["+t.id+"] to : "+o.zIndex),t.obj.setZIndex(o.zIndex),0===o.zIndex&&(t.obj._forceNullzIndex=!0),0!==o.zIndex&&t.obj._forceNullzIndex&&(t.obj._forceNullzIndex=!1)),o.hasOwnProperty("minResolution")&&(this.logger.trace("[modifyLayers] : setting minResolution of : ["+t.id+"] to : "+o.minResolution),t.obj.setMinResolution(o.minResolution)),o.hasOwnProperty("maxResolution")&&(this.logger.trace("[modifyLayers] : setting maxResolution of : ["+t.id+"] to : "+o.maxResolution),t.obj.setMaxResolution(o.maxResolution)),o.hasOwnProperty("grayScaled")&&(this.logger.trace("[modifyLayers] : setting grayScaled of : ["+t.id+"] to : "+o.grayScaled),this._changeLayerColor(t.id,o.grayScaled))}),this)}},Qs.prototype._addRasterLayer=function(e){var t=Object.keys(e)[0],o=e[t];if("elevation"!==o.type){var n=this._applyCommonLayerParams(o);switch(o.format.toUpperCase()){case"WMS":this.logger.trace("[_addRasterLayer] : ajout d'une couche WMS");var r={};r.LAYERS=o.layers.join(","),o.version&&(r.VERSION=o.version),o.stylesNames=o.stylesNames||o.stylesName,o.stylesNames&&(Array.isArray(o.stylesNames)?r.STYLES=o.stylesNames.join():this.logger.info("[_addRasterLayer] : 'stylesNames' parameter should be an array of style names (string)")),o.outputFormat&&(r.FORMAT=o.outputFormat),o.backgroundColor?(r.BGCOLOR=o.backgroundColor,r.TRANSPARENT="FALSE"):r.TRANSPARENT="TRUE";var i={url:o.url,params:r};o.hasOwnProperty("projection")&&(i.projection=o.projection),o.hasOwnProperty("tiled")&&!0===o.tiled?n.source=new h.a(i):n.source=new f.a(i);break;case"WMTS":this.logger.trace("[_addRasterLayer] : ajout d'une couche WMTS");var a=this._getWMTSDefaultOpts();for(var s in o)a[s]=o[s];var l={url:(o=a).url,layer:o.layer,matrixSet:o.tileMatrixSet,format:o.outputFormat,version:o.version,style:o.styleName,projection:o.projection,tileGrid:new oo.b({origin:[o.topLeftCorner.x,o.topLeftCorner.y],resolutions:o.resolutions,matrixIds:o.matrixIds})};o.url.indexOf("{TileMatrixSet}")>0||o.url.indexOf("{TileRow}")>0||o.url.indexOf("{TileCol}")>0?l.requestEncoding="REST":l.requestEncoding="KVP",n.source=new Ys.source.WMTSExtended(l);break;case"OSM":this.logger.trace("[_addRasterLayer] : ajout d'une couche OSM"),n.source=new el.b({url:o.url})}if(n.hasOwnProperty("source")){o.hasOwnProperty("originators")&&(n.source._originators=o.originators);var c=null;c="WMS"!==o.format.toUpperCase()||o.hasOwnProperty("tiled")&&!0===o.tiled?new ho.a(n):new $s.a(n),n.hasOwnProperty("zIndex")&&0===n.zIndex&&(c._forceNullzIndex=!0);var u={id:t,obj:c,options:o};o.hasOwnProperty("grayScaled")&&o.grayScaled&&this._colorGrayscaleLayerSwitch(u,!0),this._layers.push(u),this.libMap.addLayer(u.obj),this._addLayerConfToLayerSwitcher(u.obj,o)}}else{var d={id:t,obj:"3D-only-layer",options:o};this._3Dlayers||(this._3Dlayers=[]),this._3Dlayers.push(d)}},Qs.prototype._addVectorLayer=function(e){var t=Object.keys(e)[0],o=e[t],n=this._applyCommonLayerParams(o),r=o.styleOptions||{},i=this.mapOptions.defaultFeaturesStyle||{},a=Hs.DEFAULT_VECTORLAYERS_STYLES,s={};s.image=new Et.a({src:r.markerSrc||i.markerSrc||a.markerSrc,anchor:[r.markerXAnchor||i.markerXAnchor||a.markerXAnchor,r.markerYAnchor||i.markerYAnchor||a.markerYAnchor],anchorOrigin:"top-left",anchorXUnits:"pixels",anchorYUnits:"pixels"}),s.stroke=new Ot.a({color:Hs.prototype._hexToRgba.call(this,r.strokeColor||i.strokeColor||a.strokeColor,r.strokeOpacity||i.strokeOpacity||a.strokeOpacity),width:r.strokeWidth||i.strokeWidth||a.strokeWidth}),s.fill=new St.a({color:Hs.prototype._hexToRgba.call(this,r.polyFillColor||i.polyFillColor||a.polyFillColor,r.polyFillOpacity||i.polyFillOpacity||a.polyFillOpacity)}),s.text=new xt.a({font:"16px Sans",textAlign:"left",fill:new St.a({color:Hs.prototype._hexToRgba.call(this,r.textColor||i.textColor||a.textColor,1)})}),r.textStrokeColor&&(s.text.stroke=new Ot.a({color:Hs.prototype._hexToRgba.call(this,r.textStrokeColor||i.textStrokeColor||a.textStrokeColor,1),width:1}));var l=new It.c(s);switch(o.format.toUpperCase()){case"KML":if(this.logger.trace("[_addVectorLayer] : ajout d'une couche KML"),o.url)n.source=new d.b({url:this.setProxy(o.url),format:new Ys.format.KMLExtended({extractStyles:o.extractStyles,showPointNames:o.showPointNames})});else if(o.data){var c=new Ys.format.KMLExtended({extractStyles:o.extractStyles,showPointNames:o.showPointNames,defaultStyle:[l]});n.source=new d.b({features:new yi.b,loader:function(e,t,r){var i=c.readProjection(o.data),a=c.readFeatures(o.data,{dataProjection:i,featureProjection:r});a.length>0&&n.source.addFeatures(a)}})}n.style=l;break;case"GPX":if(this.logger.trace("[_addVectorLayer] : ajout d'une couche GPX"),o.url)n.source=new d.b({url:this.setProxy(o.url),format:new Ys.format.GPXExtended({defaultStyle:l})});else if(o.data){var u=new Ys.format.GPXExtended({defaultStyle:l});n.source=new d.b({features:new yi.b,loader:function(e,t,r){var i=u.readProjection(o.data),a=u.readFeatures(o.data,{dataProjection:i,featureProjection:r});a.length>0&&n.source.addFeatures(a)}})}n.style=l;break;case"GEORSS":break;case"COMPUTE":case"GEOJSON":if(this.logger.trace("[_addVectorLayer] : ajout d'une couche GeoJSON"),o.url)n.source=new d.b({url:this.setProxy(o.url),format:new Ys.format.GeoJSONExtended({defaultStyle:l})});else if(o.data){var h=new Ys.format.GeoJSONExtended({defaultStyle:l});n.source=new d.b({features:new yi.b,loader:function(e,t,r){var i=h.readProjection(o.data),a=h.readFeatures(o.data,{dataProjection:i,featureProjection:r});a.length>0&&n.source.addFeatures(a)}})}n.style=l;break;case"WFS":this.logger.trace("[_addVectorLayer] : ajout d'une couche WFS");var p="",f="";o.version||(o.version="2.0.0"),o.outputFormat||(o.outputFormat="application/json"),o.maxFeatures&&(p=parseInt(o.version.charAt(0))<2?"&maxFeatures="+o.maxFeatures:"&count="+o.maxFeatures),o.sld&&(f="&sld="+o.sld);var g=this.setProxy(o.url),m=o.outputFormat.toLowerCase(),y=null,v={};o.projection&&(v.defaultDataProjection=o.projection,v.srsName=o.projection),y=m.indexOf("gml")>0||m.indexOf("xml")>0?m.indexOf("2.1")>0||m.indexOf("gml2")>0?new tl.a(v):new ol.a(v):new Ys.format.GeoJSONExtended(v),n.source=new d.b({format:y,url:function(e,t,n){return g+"?service=WFS&request=GetFeature&version="+o.version+"&typename="+o.typeNames+"&outputFormat="+o.outputFormat+"&srsname="+n.getCode()+"&bbox="+e.join(",")+","+n.getCode()+p+f},strategy:nl.b});break;case"DRAWING":this.logger.trace("[_addVectorLayer] : ajout d'une couche de dessin"),n.source=new d.b({})}if(n.hasOwnProperty("source")){o.hasOwnProperty("originators")&&(n.source._originators=o.originators);var _=new vi.a(n);this._layers.push({id:t,obj:_,options:o}),this.libMap.addLayer(_),this._addLayerConfToLayerSwitcher(_,o);var b=this.libMap,A=n.source;if(b.getView()&&b.getSize()&&A.getExtent)if(o.zoomToExtent||!1){var C=A.on("change",(function(){var e=A.getExtent();"ready"===A.getState()&&e[0]!==1/0&&(Object(Ao.b)(C),b.getView().fit(e,{maxZoom:18}))}));setTimeout((function(){A.dispatchEvent("change")}),100)}}},Qs.prototype._addGeoportalLayer=function(e,t){var o=Object.keys(e)[0],n=e[o],r={};n.hasOwnProperty("opacity")&&(r.opacity=n.opacity),n.hasOwnProperty("visibility")&&(r.visible=n.visibility),n.hasOwnProperty("position")&&(r.zIndex=n.position),n.hasOwnProperty("styleName")&&(r.sourceParams={},r.sourceParams.style=n.styleName),n.hasOwnProperty("styleNames")&&(r.sourceParams={},r.sourceParams.params={},r.sourceParams.params.STYLES=n.styleNames[0]),n.hasOwnProperty("minZoom")&&n.minZoom>=0&&n.minZoom<=28&&(r.maxResolution=this._getResolutionFromZoomLevel(n.minZoom),this.logger.trace("[_addGeoportalLayer] : apply MaxResolution : "+r.maxResolution)),n.hasOwnProperty("maxZoom")&&n.maxZoom>=0&&n.maxZoom<=28&&(r.minResolution=this._getResolutionFromZoomLevel(n.maxZoom),this.logger.trace("[_addGeoportalLayer] : apply minResolution : "+r.minResolution));var i,a,s=null;switch(n.format.toUpperCase()){case"MAPBOX":if(this.logger.info("[_addGeoportalLayer] --\x3e [_addMapBoxLayer]..."),t)for(var l=!0,c=0;c<t.styles.length;c++){var u=t.styles[c];u.current?(n.hasOwnProperty("url")||(e[o].url=u.url),n.hasOwnProperty("defaultStyleName")||(e[o].defaultStyleName=u.name),n.hasOwnProperty("defaultStyleDescription")||(e[o].defaultStyleDescription=u.title),n.hasOwnProperty("defaultStyleThumbnail")||(e[o].defaultStyleThumbnail=u.thumbnail)):(i=n.hasOwnProperty("styles"),a=l,!i&&!a||i&&a||(l=!1,e[o].styles||(e[o].styles=[]),e[o].styles.push({thumbnail:u.thumbnail,name:u.name,description:u.title,url:u.url})))}this._addMapBoxLayer(e);break;case"WMTS":s=Ys.layer.GeoportalWMTS;break;case"WMS":s=Ys.layer.GeoportalWMS;break;default:this.logger.info("[_addGeoportalLayer] : no class found for "+n.format)}if(null!==s){var d={layer:o,olParams:r};this._isConfLoaded||(d.apiKey=this.apiKey);var h=new s(d);n.hasOwnProperty("originators")&&(h.getSource()._originators=n.originators),r.hasOwnProperty("zIndex")&&0===r.zIndex&&(h._forceNullzIndex=!0),this._layers.push({id:o,obj:h,options:n}),this.libMap.addLayer(h),this._addLayerConfToLayerSwitcher(h,n)}},Qs.prototype._getLayerOpts=function(e,t){var o=null;t=t||this._layers;for(var n=0;n<t.length;n++){var r=t[n];if(r.obj===e){(o={})[r.id]=r.options;break}}return o},Qs.prototype._registerUnknownLayer=function(e){var t="unknownLayer";e.hasOwnProperty("gpResultLayerId")&&(t=e.gpResultLayerId);var o={};switch(t.toLowerCase()){case"measure:profil":o.format="COMPUTE",o.graph=null,o.control="elevationpath",o.title="Profil altimÃ©trique",o.name="profil altimetrique",o.description="Profil altimÃ©trique",o.controlOptions=this.getLibMapControl(o.control.toLowerCase()).getData(),o.data=this.getLibMapControl(o.control.toLowerCase()).getGeoJSON();break;case"drawing":o.format="drawing";break;case"layerimport:kml":o.format="KML";break;case"layerimport:gpx":o.format="GPX";break;case"layerimport:geojson":o.format="GeoJSON";break;case"layerimport:wms":if(o.format="WMS",e.gpGFIparams&&(e.gpGFIparams.queryable&&(o.queryable=!0),Array.isArray(e.gpGFIparams.formats))){o.gfiFormat=e.gpGFIparams.formats[0];for(var n=0;n<e.gpGFIparams.formats.length;n++)if("text/html"===e.gpGFIparams.formats[n]){o.gfiFormat="text/html";break}}break;case"layerimport:wmts":o.format="WMTS";break;case"layerimport:mapbox":o.format="MAPBOX";break;case"layerimport:compute":o.format="COMPUTE";var r=e.getProperties();o.graph=r.graph,o.name=r.name,o.control=r.control,o.title=r.title,o.controlOptions=r.data||{},o.data=r.geojson||{},"isocurve"===o.name&&(o.description="Isochrone basÃ© sur un graphe"),"itineraire"===o.name&&(o.description="ItinÃ©raire basÃ© sur un graphe"),"profil altimetrique"===o.name&&(o.description="Profil altimÃ©trique");break;case"voiture$ogc:openls;isocurve":case"voiture$geoportail:gpp:isocurve":case"voiture$ogc:openls;itineraire":case"voiture$geoportail:gpp:itineraire":case"pieton$ogc:openls;isocurve":case"pieton$geoportail:gpp:isocurve":case"pieton$ogc:openls;itineraire":case"pieton$geoportail:gpp:itineraire":var i=t.toLowerCase();o.format="COMPUTE",o.graph=i.split(/[$:;]/)[0],o.name=i.split(/[$:;]/).slice(-1)[0],o.control=o.name,"isocurve"===o.name&&(o.description="Isochrone basÃ© sur un graphe"),"itineraire"===o.name&&(o.control="route",o.description="ItinÃ©raire basÃ© sur un graphe"),o.title=o.name+" ("+o.graph+")",o.controlOptions=this.getLibMapControl(o.control.toLowerCase()).getData(),o.data=this.getLibMapControl(o.control.toLowerCase()).getGeoJSON();break;default:o.format=""}"unknownLayer"===t?e.getProperties&&(t=e.getProperties().id):t+="-"+Date.now(),this._layers.push({id:t,obj:e,options:o});var a={};return a[t]=o,a},Qs.prototype._checkLayerParams=function(e){return!!Hs.prototype._checkLayerParams.apply(this,arguments)},Qs.prototype._changeLayerColor=function(e,t){var o=this._getLayerIndexByLayerId(e),n=this._layers[o];switch(n.options.format.toUpperCase()){case"MAPBOX":case"KML":case"GPX":case"WFS":case"COMPUTE":case"DRAWING":return void this.logger.warn("[_changeLayerColor] : _changeLayerColor not allowed on vector layers (layer id: "+e+")")}this._colorGrayscaleLayerSwitch(n,t);var r=Hs.CustomEvent("change:grayScaled",{detail:{oldValue:!t,newValue:t}});Object.defineProperty(r,"target",{writable:!0}),n.obj.dispatchEvent(r)},Qs.prototype._colorGrayscaleLayerSwitch=function(e,t){function o(e,t){var o=function(e){e.crossOrigin="anonymous";var t=document.createElement("canvas"),o=t.getContext("2d");e.width=e.width||256,e.height=e.height||256,t.width=e.width,t.height=e.height,o.drawImage(e,0,0);for(var n=o.getImageData(0,0,e.width,e.height),r=n.data,i=0;i<r.length;i+=4){var a=(r[i]+r[i+1]+r[i+2])/3;r[i]=a,r[i+1]=a,r[i+2]=a}return o.putImageData(n,0,0),t.toDataURL()}(e);e.src="",e.onload=function(){t.changed()},e.src=o}var n=e.obj.getSource();t?n instanceof f.a?(n.loadstartListenerKey=n.on("imageloadstart",(function(e){e.image.getImage().crossOrigin="Anonymous"})),n.loadendListenerKey=n.on("imageloadend",(function(e){o(e.image.getImage(),e.target)}))):(n.loadstartListenerKey=n.on("tileloadstart",(function(e){e.tile.getImage().crossOrigin="Anonymous"})),n.loadendListenerKey=n.on("tileloadend",(function(e){o(e.tile.getImage(),e.target)}))):(Object(Ao.b)(n.loadstartListenerKey),Object(Ao.b)(n.loadendListenerKey),n.loadstartListenerKey=null,n.loadendListenerKey=null),n.refresh()},Qs.prototype._applyCommonLayerParams=function(e){var t={};if(this.logger.trace("[_applyCommonLayerParams] : _applyCommonLayerParams "),e.hasOwnProperty("opacity")&&(this.logger.trace("[_applyCommonLayerParams] : _applyCommonLayerParams - opacity : "+e.opacity),t.opacity=e.opacity),e.hasOwnProperty("visibility")&&(this.logger.trace("[_applyCommonLayerParams] : _applyCommonLayerParams - visibility : "+e.visibility),t.visible=e.visibility),e.hasOwnProperty("position")&&(this.logger.trace("[_applyCommonLayerParams] : _applyCommonLayerParams - position : "+e.position),t.zIndex=e.position),e.hasOwnProperty("maxZoom")&&e.maxZoom>=0&&e.maxZoom<=20){var o=this._getResolutionFromZoomLevel(e.maxZoom);this.logger.trace("[_applyCommonLayerParams] : _applyCommonLayerParams - minRes : "+o),t.minResolution=o}if(e.hasOwnProperty("minZoom")&&e.minZoom>=0&&e.minZoom<=20){var n=this._getResolutionFromZoomLevel(e.minZoom);this.logger.trace("[_applyCommonLayerParams] : _applyCommonLayerParams - maxRes : "+n),t.maxResolution=n}return e.hasOwnProperty("grayScaled")&&(this.logger.trace("[_applyCommonLayerParams] : _applyCommonLayerParams - grayScaled : "+e.grayScaled),t.grayScaled=e.grayScaled),t},Qs.prototype._addMarkers=function(e){if(this.logger.trace("[OlMap] : _addMarkers"),Array.isArray(e)){var t=null,o=this,n=0,r=function(e){var n=o.getLibMap().getEventPixel(e);o.logger.trace("[OlMap] : _addMarkers : display content : "+t.content),Ys.gp.GfiUtils.displayInfo(o.getLibMap(),o.getLibMap().getCoordinateFromPixel([n[0]+this.mo.ppoffset[0],n[1]+this.mo.ppoffset[1]]),this.mo.content,this.mo.contentType,this.mo.autoPanOptions)};for(n=0;n<e.length;n++){(t=e[n]).hasOwnProperty("content")||(t.content=""),t.hasOwnProperty("url")||(t.url=Ys.control.DefaultMarkers.lightOrange),t.hasOwnProperty("offset")||(t.offset=Ys.control.DefaultMarkers.defaultOffset),this.logger.trace("[OlMap] : _addMarkers : offset ["+t.offset[0]+","+t.offset[1]+"]"),t.hasOwnProperty("ppoffset")||(t.ppoffset=[0,-15]);var i=!1;t.hasOwnProperty("position")||(t.position={x:this.libMap.getView().getCenter()[0],y:this.libMap.getView().getCenter()[1]},i=!0),t.hasOwnProperty("contentType")||(t.contentType="text/html"),t.hasOwnProperty("autoPanOptions")||(t.autoPanOptions={autoPan:Hs.DEFAULT_AUTOPAN_OPTIONS.autoPan,autoPanAnimation:{duration:Hs.DEFAULT_AUTOPAN_OPTIONS.duration},autoPanMargin:Hs.DEFAULT_AUTOPAN_OPTIONS.margin});var a=[t.position.x,t.position.y];t.position.hasOwnProperty("projection")&&(a=Object(s.E)(a,t.position.projection,this.getProjection())),this.logger.trace("[OlMap] : _addMarkers : coords ["+a[0]+", "+a[1]+"]");var l=document.createElement("img");l.src=t.url,l.mo=t;var u=new c.a({position:a,offset:t.offset,element:l});if(this.libMap.addOverlay(u),this._markers.push(t),!0===i){var d=this,h=function(e){var t=[e.position.x,e.position.y];e.position.hasOwnProperty("projection")&&(t=Object(s.E)(t,e.position.projection,d.getProjection())),this.setPosition(t)};this.listen("located",h,u),this.listen("geolocated",h,u)}l.addEventListener("click",r,!0),l.addEventListener("touchend",r,!0)}}else this.logger.info("Can not process markersOptions. It is not an Array.")},Qs.prototype._removeMarkers=function(){for(var e=this.libMap.getOverlays().getArray();e.length>0;)this.libMap.removeOverlay(e[0]);this._markers=[]},Qs.prototype.getMarkersOptions=function(){return this._markers},Qs.prototype.setMarkersOptions=function(e){this._removeMarkers(),this._addMarkers(e)};var rl=function(e){function t(e){if(e>255)throw new Error("'"+e+"'' is greater than 255(0xff);");return("0"+Number(e).toString(16)).slice(-2)}var o=JSON.stringify(e).replace(/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(0?.?\d+)\s*)?\)/gm,(function(e,o,n,r,i){return"#"+(t(o)+t(n)+t(r))})).replace(/"#([a-f\d])([a-f\d])([a-f\d])"/gim,(function(e,t,o,n,r){return'"#'+(t+t+o+o+n+n)+'"'})).replace(/#([a-f\d]{2}[a-f\d]{2}[a-f\d]{2})/gim,(function(e,t,o){var n,r;return"#"+(n=parseInt(t,16),((r=.2126*(n>>16)+.7152*(n>>8&255)+.0722*(255&n)&255)<<16|r<<8|r).toString(16))}));try{return JSON.parse(o)}catch(e){return null}},il=function(e,t,o,n,r){var i=function(e,t,o,n,r){for(var i=RegExp("__"+t+"__"),a=0;a<n.length;a++){var s=e.layers[n[a]];if(s&&s.id===o[a]&&s.filter)for(var l=0;l<s.filter.length;l++)if(Array.isArray(s.filter[l]))for(var c=0;c<s.filter[l].length;c++){var u=s.filter[l][c];-1!==u.indexOf(t)&&(!0,r?i.test(u)&&(s.filter[l][c]=t):s.filter[l][c]="__"+t+"__")}else{var d=s.filter[l];-1!==d.indexOf(t)&&(!0,r?i.test(d)&&(s.filter[l]=t):s.filter[l]="__"+t+"__")}}},a=function(e,t,o,n){var r=null,i=e.toLowerCase();switch(i){case"string":case"text":case(i.match(/^character/)||{}).input:r=[n||"in",t,o];break;case"numeric":case"integer":r=[n||"<=",t,parseInt(o,10)];break;default:r=[]}return r},s=function(e){var t=null,o=("#"+Math.floor(16777215*Math.random()).toString(16)).padEnd(7,"f");switch(e.toUpperCase()){case"MULTIPOLYGON":case"POLYGON":t={"fill-color":o,"fill-opacity":.5,"fill-width":1};break;case"MULTILINE":case"LINE":case"LINESTRING":t={"line-color":o,"line-width":1};break;case"MULTIPOINT":case"POINT":t={"circle-color":o,"circle-radius":5,"circle-stroke-color":"#FFFFFF","circle-stroke-width":2};break;default:t={}}return t},l=function(e){var t=null;switch(e.toUpperCase()){case"MULTIPOLYGON":case"POLYGON":t="fill";break;case"MULTILINE":case"LINE":case"LINESTRING":t="line";break;case"MULTIPOINT":case"POINT":t="circle";break;default:t="symbol"}return t},c={version:8};c.name=o.filterName,c.center=n.center||[],c.bounds=n.bounds||[],c.layers=[],c.sources={},c.sources[e]={type:"vector",tiles:[t]};var u=n.vector_layers;if(u)for(var d=!1,h=0;h<u.length&&!d;h++){var p=u[h];for(var f in p.fields)if(p.fields.hasOwnProperty(f)&&f===o.propertyName){var g=p.id,m=p.geometry,y=p.fields[f].type,v=p.fields[f].values;if(v&&v.sort(),o.tableName&&g!==o.tableName)continue;for(var _=[],b=[],A=r.layers.length,C=0;C<A;C++){var w=r.layers[C];if(w["source-layer"]&&w["source-layer"]===g){if(w.metadata&&w.metadata["geoportail:entry"]&&w.metadata["geoportail:index"])continue;if(1===A&&0===o.type){w.filter||(w.filter=[],w.filter.push("in"),w.filter.push(o.propertyName));for(var E=0;E<v.length;E++){var I=v[E];-1===w.filter.indexOf(I)&&w.filter.push(I)}}_.push(w.id),b.push(C)}}if(!_){console.warn("Filtres utilisateurs : auncune association possible ("+o.filterName+") !?");break}if(d=!0,!v){console.warn("Filtres utilisateurs : auncune valeurs ("+o.filterName+") !?");continue}for(var O=0;O<v.length;O++){var S=v[O],x=null,j=a(y,f,S),P="visible",T=0,M=o.filterName;0===o.type?o.selected&&o.selected.length&&i(r,S,_,b,o.selected[O]):1===o.type?(P="none",x=s(m),T=1):2===o.type&&(P="none",T=2,o.selected&&o.selected.length),o.selected&&o.selected.length&&(P=o.selected[O]?"visible":"none"),c.layers.push({id:S,type:l(m),source:e,"source-layer":g,metadata:{"geoportail:category":M,"geoportail:filter":T,"geoportail:group":null,"geoportail:entry":_,"geoportail:index":b,"geoportail:order":null},layout:{visibility:P},paint:x,filter:j})}if(d)break}}return 0===c.layers.length&&console.warn("Filtres utilisateurs : aucun 'layers' ("+o.filterName+") !?"),c};Qs.MAPBOXPROPERTIES={filters:"mapbox-filters",status:"mapbox-status",themes:"mapbox-themes",styles:"mapbox-styles",layers:"mapbox-layers",source:"mapbox-source",extensions:"mapbox-extensions",loaded:"mapbox-loaded"},Qs.prototype._callbackMapBoxObservableFilters=function(e){this.logger.warn("DEBUG:ObservableFilters",e,e.target.get(Qs.MAPBOXPROPERTIES.filters))},Qs.prototype._callbackMapBoxObservableStatus=function(e){this.logger.warn("DEBUG:ObservableStatus",e,e.target.get(Qs.MAPBOXPROPERTIES.status))},Qs.prototype._callbackMapBoxObservableThemes=function(e){this.logger.warn("DEBUG:ObservableThemes",e,e.target.get(Qs.MAPBOXPROPERTIES.themes))},Qs.prototype._callbackMapBoxObservableStyles=function(e){this.logger.warn("DEBUG:ObservableStyles",e,e.target.get(Qs.MAPBOXPROPERTIES.styles))},Qs.prototype._callbackMapBoxObservableMapStyles=function(e){this.logger.warn("DEBUG:ObservableMapStyles",e,e.target.get(Qs.MAPBOXPROPERTIES.styles))},Qs.prototype._callbackMapBoxObservableExtensions=function(e){this.logger.warn("DEBUG:ObservableExtensions",e,e.target.get(Qs.MAPBOXPROPERTIES.extensions))},Qs.prototype._callbackMapBoxObservableLoaded=function(e){this.logger.warn("DEBUG:ObservableLoaded",e,e.target.get(Qs.MAPBOXPROPERTIES.loaded))},Qs.prototype._addMapBoxLayer=function(e){var t=this.libMap,o=this;return function(e){var n=Object.keys(e)[0],r=e[n],i=o.setProxy(r.url);if(Array.isArray(r.styles)){for(var a=!1,l=!1,c=0;c<r.styles.length;c++){var d=r.styles[c];d.url===r.url&&(a=!0),d.selected&&(i=d.url,l=!0)}if(!a){var h=r.url,p=r.defaultStyleThumbnail||null,f=r.defaultStyleName||"Style par dÃ©faut",g=r.defaultStyleDescription||"Style par dÃ©faut";r.styles.unshift({thumbnail:p,name:f,url:h,description:g,selected:!l})}}return Array.isArray(r.filters),fetch(i,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw new Error("HTTP error ("+e.url+") = "+e.status+" ("+e.statusText+")");e.json().then((function(e){var a=r.mapboxOptions;if(a&&Object.keys(a).length){var l=a.layers;if(l)for(var c=e.layers.reduce((function(e,t){return e[t.id]=t,e}),{}),d=0;d<l.length;d++)c[l[d].id]&&Bt.mergeParams(c[l[d].id],l[d])}var h=e.sources,p=Object.keys(h).length>1?1:0;for(var f in h){var g=null,m=null,y=null,v=null;if(h.hasOwnProperty(f)){var _,b,A="",C="",w=null,E=null,I=null,O=null,S=null,x=null;if(e.metadata)for(var j in e.metadata)if(e.metadata.hasOwnProperty(j)){var P=j.split(":");if("geoportail"===P[0]){var T=P[1];if("title"===T&&!r.title){A=r.title=e.metadata[j];continue}if("description"===T&&!r.description){C=r.description=e.metadata[j];continue}if("quicklookUrl"===T&&!r.quicklookUrl){w=r.quicklookUrl=e.metadata[j];continue}if("legends"===T&&!r.legends){E=r.legends=e.metadata[j];continue}if("metadata"===T&&!r.metadata){I=r.metadata=e.metadata[j];continue}if("originators"===T&&!r.originators){O=r.originators=e.metadata[j];continue}if("styles"===T&&!r.styles){S=r.styles=e.metadata[j];continue}if("filters"===T&&!r.filters){x=r.filters=e.metadata[j];continue}}}r.title||(r.title="Couche MapBox"),r.description||(r.description="Couche MapBox"),A=p?r.title+"("+f+")":r.title,C=r.description,w=r.quicklookUrl,I=r.metadata,E=r.legends,O=r.originators,_=r.position,b=void 0===r.queryable||r.queryable;var M={};if(Array.isArray(r.styles)){S=r.styles;for(var R=null,L=null,k=0;k<r.styles.length;k++){var G=r.styles[k];G.selected&&(R=k,L=G.url.match(/([^/]+)(?=\.\w+$)/)[1],M={index:R,key:L})}}var D=[];if(Array.isArray(r.filters)){x=r.filters;for(var N=0;N<r.filters.length;N++){var F=r.filters[N],U=[];F.configuration&&F.configuration.selected&&Array.isArray(F.configuration.selected)&&F.configuration.selected.length&&(U=F.configuration.selected),D.push({k:F.filterName,v:U})}}var B=[],z=h[f],V=z.type;if("vector"===V){var W=z.url,q=z.tiles,Y=e.sprite;if(W&&0===W.indexOf("mapbox://")&&(q=["a","b","c","d"].map((function(e){return"https://"+e+".tiles.mapbox.com/v4/"+W.replace("mapbox://","")+"/{z}/{x}/{y}.vector.pbf?"+i.split("?")[1]})),0===Y.indexOf("mapbox://"))){var H=i.split("?");e.sprite=H[0]+"/sprite?"+H[1]}if(q)g=new bo.a({featureClass:Tt.b}),(m=new u.a({attributions:z.attribution,format:g,urls:q}))._title=A,m._description=C,m._quicklookUrl=w,m._metadata=I,m._legends=E,m._originators=O,(y=new vo.a({className:A,source:m,visible:!1,zIndex:_,declutter:!0})).id=f;else if(W){g=new bo.a({featureClass:Tt.b}),(y=new vo.a({className:A,visible:!1,zIndex:_,declutter:!0})).id=f,v=new _o.a({url:W}),y.set(Qs.MAPBOXPROPERTIES.loaded,!1),y.dispatchEvent("change:"+Qs.MAPBOXPROPERTIES.loaded),y.on("change:"+Qs.MAPBOXPROPERTIES.loaded,o._callbackMapBoxObservableLoaded.bind(o));var X=v.on("change",(function(t){if("error"===v.getState()&&(console.error("HTTP TileJSON error (metadata.json)"),y.set(Qs.MAPBOXPROPERTIES.loaded,!0)),"ready"===v.getState()){var n=v.getTileJSON();y.set(Qs.MAPBOXPROPERTIES.extensions,n),y.on("change:"+Qs.MAPBOXPROPERTIES.extensions,o._callbackMapBoxObservableExtensions.bind(o)),y.dispatchEvent("change:"+Qs.MAPBOXPROPERTIES.extensions);for(var i=Array.isArray(n.tiles)?n.tiles:[n.tiles],a=0;a<i.length;a++){var s=i[a];0!==s.indexOf("http")&&(i[a]=W+s)}if((m=new u.a({attributions:v.getAttributions()||n.attribution,format:g,urls:i}))._title=A,m._description=C,m._quicklookUrl=w,m._metadata=I,m._legends=E,m._originators=O,y.setSource(m),Array.isArray(r.filters)){for(var l=0;l<r.filters.length;l++){var c=r.filters[l],d=c.configuration||{},h=d.selected?d.selected:[],p=d.type?d.type:0,_={tableName:null,propertyName:c.propertyName,filterName:c.filterName,selected:h,type:p};if(-1!==_.propertyName.indexOf(".")){var b=_.propertyName.split(".");_.tableName=b[0],_.propertyName=b[1]}var S=null;y.getSource()&&(S=y.getSource().urls);var x=il(f,S,_,n,e);if(!x.layers)break;for(var j=JSON.parse(JSON.stringify(e)),P=j.layers,T=0;T<P.length;T++){var M=P[T];M.source===f?M.metadata&&M.metadata.hasOwnProperty("geoportail:category")&&M.metadata.hasOwnProperty("geoportail:filter")&&(P.splice(T,1),T--):(P.splice(T,1),T--)}y.set(Qs.MAPBOXPROPERTIES.styles,j);for(var R=0;R<x.layers.length;R++)e.layers.push(x.layers[R]);c.style=x}y.set(Qs.MAPBOXPROPERTIES.filters,{filtersSummary:r.filtersSummary,filters:r.filters})}y.set(Qs.MAPBOXPROPERTIES.loaded,!0),Object(Ao.b)(X)}}))}}else{if("geojson"!==V)return;var Z=z.data;g=new Kt.a,(m=new u.a({attributions:z.attribution,format:g,url:Z}))._title=A,m._description=C,m._quicklookUrl=w,m._metadata=I,m._legends=E,m._originators=O,(y=new vo.a({className:A,source:m,visible:!1,zIndex:_,declutter:!0})).id=f}y.set(Qs.MAPBOXPROPERTIES.themes,{}),y.on("change:"+Qs.MAPBOXPROPERTIES.themes,o._callbackMapBoxObservableThemes.bind(o)),y.dispatchEvent("change:"+Qs.MAPBOXPROPERTIES.themes),y.set(Qs.MAPBOXPROPERTIES.styles,{}),y.on("change:"+Qs.MAPBOXPROPERTIES.styles,o._callbackMapBoxObservableStyles.bind(o)),y.dispatchEvent("change:"+Qs.MAPBOXPROPERTIES.styles),y.set(Qs.MAPBOXPROPERTIES.filters,{}),y.on("change:"+Qs.MAPBOXPROPERTIES.filters,o._callbackMapBoxObservableFilters.bind(o)),y.dispatchEvent("change:"+Qs.MAPBOXPROPERTIES.filters),y.set(Qs.MAPBOXPROPERTIES.status,{}),y.on("change:"+Qs.MAPBOXPROPERTIES.status,o._callbackMapBoxObservableStatus.bind(o)),y.dispatchEvent("change:"+Qs.MAPBOXPROPERTIES.status);var K=function(){var i={visibility:r.visibility,queryable:b,opacity:r.opacity,grayScaled:r.grayScaled,position:_,zoomToExtent:r.zoomToExtent,url:r.url,defaultStyleName:r.defaultStyleName,defaultStyleThumbnail:r.defaultStyleThumbnail,defaultStyleDescription:r.defaultStyleDescription,format:r.format,mapboxOptions:r.mapboxOptions,stylesSummary:r.stylesSummary,styles:S,filtersSummary:r.filtersSummary,filters:x,title:A,description:C,quicklookUrl:w,metadata:I,legends:E,originators:O};Bt.mergeParams(i,r,!1),function(e){var i=function(){Object(Co.a)(e.layer,e.styles,e.id).then((function(){var t=void 0===r.visibility||r.visibility;e.layer.setVisible(t),e.layer.setOpacity(r.opacity||1)})).then((function(){if(e.options.zoomToExtent||!1){var o=e.layer.getSource();if(t.getView()&&o&&o.getExtent){var n=o.on("change",(function(){var e=o.getExtent();"ready"===o.getState()&&e[0]!==1/0&&(Object(Ao.b)(n),t.getView().fit(e,{maxZoom:18}))}));setTimeout((function(){o.dispatchEvent("change")}),100)}else{var r=t.getView().getProjection().getCode();t.getView()&&e.styles.center&&e.styles.center.length&&t.getView().setCenter(Object(s.E)(e.styles.center,"EPSG:4326",r)),t.getView()&&(e.styles.zoom||0===e.styles.zoom)&&t.getView().setZoom(e.styles.zoom)}}})).then((function(){var t=o.getLibMapControl("GetFeatureInfo");if(t&&t.isActive()){var n=t.getLayers();if(!0===e.options.queryable){for(var r=!1,i=0;i<n.length;i++)n[i].obj===e.layer&&(r=!0);r||n.push({obj:e.layer,event:"singleclick",infoFormat:""})}if(!1===e.options.queryable){for(var a=[],s=0;s<n.length;s++)n[s].obj!==e.layer&&a.push(n[s]);t.setLayers(a)}}})).then((function(){var o=Hs.CustomEvent("render:success",{detail:{id:e.id,style:e.styles}});Object.defineProperty(o,"target",{writable:!0}),t.dispatchEvent(o)})).catch((function(n){o.logger.warn("DEBUG:Apply Style error = "+n.message);var r=Hs.CustomEvent("render:failure",{detail:{id:e.id,error:n}});Object.defineProperty(r,"target",{writable:!0}),t.dispatchEvent(r)}))},a=p?n+"-"+e.id:n;if(a===n&&o._getLayersObj([n]).length>0)o.logger.info("Layer ["+n+"] already added to map.");else{o._layers.push({id:a,obj:e.layer,options:e.options}),t.addLayer(e.layer);var l=t.get(Qs.MAPBOXPROPERTIES.styles)||{};l[a]=e.styles,t.set(Qs.MAPBOXPROPERTIES.styles,l),t.on("change:"+Qs.MAPBOXPROPERTIES.styles,o._callbackMapBoxObservableMapStyles.bind(o)),t.dispatchEvent("change:"+Qs.MAPBOXPROPERTIES.styles);for(var c=JSON.parse(JSON.stringify(e.styles)),u=c.layers,d=0;d<u.length;d++){var h=u[d];h.source===e.id?h.metadata&&h.metadata.hasOwnProperty("geoportail:category")&&h.metadata.hasOwnProperty("geoportail:filter")&&(u.splice(d,1),d--):(u.splice(d,1),d--)}e.layer.set(Qs.MAPBOXPROPERTIES.styles,c),e.layer.set(Qs.MAPBOXPROPERTIES.themes,{stylesSummary:e.options.stylesSummary,styles:e.options.styles}),e.layer.set(Qs.MAPBOXPROPERTIES.filters,{filtersSummary:e.options.filtersSummary,filters:e.options.filters}),e.layer.set(Qs.MAPBOXPROPERTIES.status,{theme:e.selectedTheme,layers:e.selectedLayers,filters:e.selectedFilters}),e.options.grayScaled&&(e.styles=rl(c),e.styles||console.error("Erreur de transformation en N/B !?")),e.layer.getSource()?i():e.layer.once("change:source",i);for(var f=0;f<o._layers.length&&o._layers.length===Object.keys(o.mapOptions.layersOptions).length;f++){var g=o._layers[f].id;o.mapOptions.layersOptions&&o.mapOptions.layersOptions[g]&&void 0!==o.mapOptions.layersOptions[g].position&&(o._layers[f].options.position=o.mapOptions.layersOptions[g].position,o._layers[f].obj.setZIndex(o._layers[f].options.position))}o._addLayerConfToLayerSwitcher(e.layer,e.options),o._resetLayerChangedEvent()}}({id:f,styles:e,layer:y,selectedTheme:M,selectedFilters:D,selectedLayers:B,options:i})};v?(o.logger.warn("tilejson loading!"),y.once("change:"+Qs.MAPBOXPROPERTIES.loaded,K)):(o.logger.warn("loaded!"),K())}}})).catch((function(e){throw new Error("Parsing JSON error = "+e.message)}))})).catch((function(e){}))}(e)},Qs.prototype._updateStyleMapBoxLayer=function(e,t,o){var n=this;return fetch(o.url,{credentials:"same-origin"}).then((function(r){if(r.ok)return r.json().then((function(r){var i=e.get(Qs.MAPBOXPROPERTIES.source);return Object(Co.a)(e,r,i).then((function(){for(var t=JSON.parse(JSON.stringify(r)),o=t.layers,n=0;n<o.length;n++){var i=o[n];i.source===e.id?i.metadata&&i.metadata.hasOwnProperty("geoportail:category")&&i.metadata.hasOwnProperty("geoportail:filter")&&(o.splice(n,1),n--):(o.splice(n,1),n--)}e.set(Qs.MAPBOXPROPERTIES.styles,t)})).then((function(){var o=n.getLibMap(),a=e.get(Qs.MAPBOXPROPERTIES.extensions),s=e.getSource().urls,l=e.get(Qs.MAPBOXPROPERTIES.filters),c=JSON.parse(JSON.stringify(o.get(Qs.MAPBOXPROPERTIES.styles)))||{},u=Object.assign({},r);c[t]=function(e,t,o,n,r){if(Array.isArray(o))for(var i=0;i<o.length;i++){var a=o[i],s=a.configuration||{},l={tableName:null,propertyName:a.propertyName,filterName:a.filterName,selected:s.selected?s.selected:[],type:s.type?s.type:0};if(-1!==l.propertyName.indexOf(".")){var c=l.propertyName.split(".");l.tableName=c[0],l.propertyName=c[1]}var u=il(e,t,l,n,r);if(!u.layers)break;for(var d=0;d<u.layers.length;d++)r.layers.push(u.layers[d]);a.style=u}return r}(i,s,l.filters,a,u),o.set(Qs.MAPBOXPROPERTIES.styles,c)})).then((function(){var t=JSON.parse(JSON.stringify(e.get(Qs.MAPBOXPROPERTIES.filters)));t&&e.set(Qs.MAPBOXPROPERTIES.filters,t)})).then((function(){var t=JSON.parse(JSON.stringify(e.get(Qs.MAPBOXPROPERTIES.themes)));if(t){for(var n=0;n<t.styles.length;n++){var r=t.styles[n];r.selected&&delete r.selected,parseInt(o.index,10)===n&&(r.selected=!0)}e.set(Qs.MAPBOXPROPERTIES.themes,t)}})).then((function(){var t=JSON.parse(JSON.stringify(e.get(Qs.MAPBOXPROPERTIES.filters))),n=JSON.parse(JSON.stringify(e.get(Qs.MAPBOXPROPERTIES.status)));if(n){var r=[];if(t.filters)for(var i=0;i<t.filters.length;i++){var a=t.filters[i];r.push({k:a.filterName,v:a.configuration&&a.configuration.selected?a.configuration.selected:[]})}var s={theme:{index:o.index,key:o.url.match(/([^/]+)(?=\.\w+$)/)[1]},layers:n.layers,filters:r};e.set(Qs.MAPBOXPROPERTIES.status,s)}})).catch((function(e){n.logger.error(e)}))}))})).catch((function(e){}))},Qs.prototype._updateFilterMapBoxLayer=function(e,t,o){var n=this,r=this.getLibMap(),i=e.get(Qs.MAPBOXPROPERTIES.source),a=r.get(Qs.MAPBOXPROPERTIES.styles)[t];if(i!==o.data.source)return new Promise((function(e,t){t()}));for(var s=a.layers,l=0;l<s.length;l++)if(s[l].id===o.data.id){var c=s[l].metadata;if(c&&c.hasOwnProperty("geoportail:category")&&o.category===c["geoportail:category"]){var u=s[l],d=u.id,h=RegExp("__"+d+"__");if(c.hasOwnProperty("geoportail:filter")&&0===c["geoportail:filter"]){for(var p=c.hasOwnProperty("geoportail:entry")?c["geoportail:entry"]:[],f=c.hasOwnProperty("geoportail:index")?c["geoportail:index"]:[],g=[],m=0;m<p.length;m++){var y=s[f[m]];if(y&&y.id===p[m]&&y.filter)for(var v=0;v<y.filter.length;v++)if(Array.isArray(y.filter[v]))for(var _=null,b=0;b<y.filter[v].length;b++)-1!==(_=y.filter[v][b]).indexOf(d)&&(!0,g.push(y.id),o.active?h.test(_)&&(y.filter[v][b]=d):y.filter[v][b]="__"+d+"__");else-1!==(_=y.filter[v]).indexOf(d)&&(!0,g.push(y.id),o.active?h.test(_)&&(y.filter[v]=d):y.filter[v]="__"+d+"__")}var A=u.layout;A&&A.visibility?A.visibility=o.active?"visible":"none":u.layout={visibility:o.active?"visible":"none"}}if(c.hasOwnProperty("geoportail:filter")&&1===c["geoportail:filter"]){var C=u.layout;C&&C.visibility?C.visibility=o.active?"visible":"none":u.layout={visibility:o.active?"visible":"none"}}c.hasOwnProperty("geoportail:filter")&&c["geoportail:filter"];break}}return Object(Co.a)(e,a,i).then((function(){var t=JSON.parse(JSON.stringify(e.get(Qs.MAPBOXPROPERTIES.filters)));if(t){if(t.filters)for(var n=0;n<t.filters.length;n++){var r=t.filters[n];if(r.filterName===o.category){r.configuration&&r.configuration.selected?r.configuration.selected=o.status:r.configuration={selected:o.status,type:0};break}}e.set(Qs.MAPBOXPROPERTIES.filters,t)}})).then((function(){for(var t=JSON.parse(JSON.stringify(a)),o=t.layers,n=0;n<o.length;n++){var r=o[n];r.source===i?r.metadata&&r.metadata.hasOwnProperty("geoportail:category")&&r.metadata.hasOwnProperty("geoportail:filter")&&(o.splice(n,1),n--):(o.splice(n,1),n--)}e.set(Qs.MAPBOXPROPERTIES.styles,t)})).then((function(){var e=JSON.parse(JSON.stringify(r.get(Qs.MAPBOXPROPERTIES.styles)||{}));e[t]=a,r.set(Qs.MAPBOXPROPERTIES.styles,e)})).then((function(){var t=JSON.parse(JSON.stringify(e.get(Qs.MAPBOXPROPERTIES.status)));if(t){for(var n=0;n<t.filters.length;n++)t.filters[n].k===o.category&&(t.filters[n].v=[],t.filters[n].v=o.status);var r={theme:t.theme,layers:t.layers,filters:t.filters};e.set(Qs.MAPBOXPROPERTIES.status,r)}})).catch((function(e){n.logger.error(e)}))},Qs.prototype._updateGrayScaledMapBoxLayer=function(e,t,o){var n=this,r=this.getLibMap(),i=e.get(Qs.MAPBOXPROPERTIES.source),a=r.get(Qs.MAPBOXPROPERTIES.styles)[t];this._layers.forEach((function(e){e.id===t&&(e.options.grayScaled=o.active)}));var s=null;if(o.active){if(!(s=rl(a)))return new Promise((function(e,t){t()}))}else s=a;return Object(Co.a)(e,s,i).then((function(){})).catch((function(e){n.logger.error(e)}))};var al=o("./node_modules/ol/interaction/Pointer.js"),sl=o("./node_modules/ol/interaction/DoubleClickZoom.js"),ll=o("./node_modules/ol/interaction/KeyboardPan.js"),cl=o("./node_modules/ol/interaction/KeyboardZoom.js"),ul=o("./node_modules/ol/control/Zoom.js"),dl=o("./node_modules/ol/control/OverviewMap.js"),hl=o("./node_modules/ol/control/Rotate.js"),pl=o("./node_modules/ol/control/ScaleLine.js"),fl=o("./node_modules/ol/layer/Graticule.js");function gl(e){return(gl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Qs.CONTROLPROPERTIES={maximised:"collapsed"},Qs.CONTROLSCLASSES={draggable:[al.b,Js.a,sl.a],keyboard:[ll.a,cl.a],scrollwheel:null,selectable:[g.b],zoom:ul.a,zoombox:null,overview:dl.a,orientation:hl.a,graphicscale:pl.a,getfeatureinfo:Ys.control.GetFeatureInfo,mouseposition:Ys.control.GeoportalMousePosition,route:Ys.control.Route,layerswitcher:Ys.control.LayerSwitcher,layerimport:Ys.control.LayerImport,isocurve:Ys.control.Isocurve,length:Ys.control.MeasureLength,area:Ys.control.MeasureArea,azimuth:Ys.control.MeasureAzimuth,elevationpath:Ys.control.ElevationPath,graticule:fl.a,search:Ys.control.SearchEngine,reversesearch:Ys.control.ReverseGeocode,drawing:Ys.control.Drawing,attributions:Ys.control.GeoportalAttribution,camera:null},Qs.prototype.addZoomControl=function(e){var t=new ul.a({target:e.div});return this.libMap.addControl(t),t},Qs.prototype.addZoomBoxControl=function(e){return null},Qs.prototype.addOverviewControl=function(e){var t=this;this.logger.trace("[OlMap] addOverviewControl : ... ");var o={};if(e.div&&(o.target=e.div),o.collapsed=!e.maximised,e.layers&&Array.isArray(e.layers)){var n=this._getLayersObj(e.layers),r=[];if(n.forEach((function(e){t.logger.trace("[OlMap] addOverviewControl : adding "+e.id+" to map"),r.push(e.obj)}),this),0===r.length&&e.layers.length>0)for(var i=0;i<e.layers.length;i++){this.logger.trace("[OlMap] addOverviewControl : adding geoportal layer : "+e.layers[i]+" to map");var a=!1;"object"===gl(e.layers[i])?0===Object.keys(e.layers[i]).length&&(a=!0):a=!0;var s={};if(this._isConfLoaded||(s.apiKey=this.apiKey),a){s.layer=e.layers[i];var l=new Ys.layer.GeoportalWMTS(s);r.push(l)}else{var c=e.layers[i],u=this._applyCommonLayerParams(c),d=this._getWMTSDefaultOpts();Object.assign(s,u,d,c);var h={url:s.url,layer:s.layer,matrixSet:s.tileMatrixSet,format:s.outputFormat,version:s.version,style:s.styleName,tileGrid:new oo.b({origin:[s.topLeftCorner.x,s.topLeftCorner.y],resolutions:s.resolutions,matrixIds:s.matrixIds})};s.source=new Ys.source.WMTSExtended(h);var p=new ho.a(s);r.push(p)}}r.length>0&&(o.layers=r)}var f={},g=!1;e.hasOwnProperty("minZoom")&&(f.minZoom=e.minZoom,g=!0),e.hasOwnProperty("maxZoom")&&(f.maxZoom=e.maxZoom,g=!0),e.hasOwnProperty("projection")&&(f.projection=e.projection,g=!0),g&&(o.view=new Xs.d(f));var m=new dl.a(o);return this.libMap.addControl(m),m},Qs.prototype.addOrientationControl=function(e){var t=new hl.a({target:e.div,autoHide:e.autoHide||!1});return this.libMap.addControl(t),t},Qs.prototype.addGraphicScaleControl=function(e){var t=e.units;t&&"deg"===e.units.toLowerCase()?t="degrees":t&&"m"===e.units.toLowerCase()&&(t="metric"),this.logger.trace("[OlMap] addGraphicScaleControl : setting graphicscale units to "+t);var o=new pl.a({target:e.div,units:t,minWidth:e.minWidth});return this.libMap.addControl(o),o},Qs.prototype.addGraticuleControl=function(e){var t=e||{};if(!t.strokeStyle){t.strokeColor=t.strokeColor||"#000000",t.strokeOpacity=t.strokeOpacity||.2,t.strokeWidth=t.strokeWidth||1;var o=Hs.prototype._hexToRgba.call(this,t.strokeColor,t.strokeOpacity);t.strokeStyle=new Ot.a({color:o,width:t.strokeWidth})}var n=new fl.a(t);return n.setMap(this.libMap),this.libMap.graticule=n,n},Qs.prototype.addMousePositionControl=function(e){var t={};if(e.div&&(t.target=e.div),t.collapsed=!e.maximised,this._isConfLoaded||(t.apiKey=this.apiKey),e.systems&&Array.isArray(e.systems)&&e.systems.length>0)for(var o=0;o<e.systems.length;o++)t.systems||(t.systems=[]),t.systems.push(e.systems[o]);if(e.units&&Array.isArray(e.units)&&e.units.length>0){t.units=[];for(var n=0;n<e.units.length;n++)"string"==typeof e.units[n]&&(this.logger.trace("[OlMap] addMousePositionControl : adding unit   ["+e.units[n].toUpperCase()),t.units.push(e.units[n]))}t.displayAltitude=e.displayAltitude,t.displayCoordinates=e.displayCoordinates,e.altitude&&(t.altitude=e.altitude),t.editCoordinates=e.editCoordinates,t.positionMarker=e.positionMarker;var r=new Ys.control.GeoportalMousePosition(t);return this.libMap.addControl(r),r},Qs.prototype.addRouteControl=function(e){var t={};e.div&&(t.target=e.div),t.collapsed=!e.maximised,this._isConfLoaded||(t.apiKey=this.apiKey),e.export&&(t.export=e.export),e.graphs&&(t.graphs=e.graphs),e.exclusions&&(t.exclusions=e.exclusions),e.markersOpts&&(t.markersOpts={},e.markersOpts.departure&&(t.markersOpts.departure=e.markersOpts.departure),e.markersOpts.stages&&(t.markersOpts.stages=e.markersOpts.stages),e.markersOpts.arrival&&(t.markersOpts.arrival=e.markersOpts.arrival)),e.routeOptions&&(t.routeOptions=e.routeOptions),e.autocompleteOptions&&(t.autocompleteOptions=e.autocompleteOptions);var o=new Ys.control.Route(t);return this.libMap.addControl(o),o},Qs.prototype.addIsocurveControl=function(e){var t={};e.div&&(t.target=e.div),t.collapsed=!e.maximised,this._isConfLoaded||(t.apiKey=this.apiKey),e.export&&(t.export=e.export),e.graphs&&(t.graphs=e.graphs),e.exclusions&&(t.exclusions=e.exclusions),e.methods&&(t.methods=e.methods),e.directions&&(t.directions=e.directions),e.markerOpts&&(t.markerOpts=e.markerOpts),e.isocurveOptions&&(t.isocurveOptions=e.isocurveOptions),e.autocompleteOptions&&(t.autocompleteOptions=e.autocompleteOptions);var o=new Ys.control.Isocurve(t);return this.libMap.addControl(o),o},Qs.prototype.addLayerImportControl=function(e){var t={};if(e.div&&(t.target=e.div),t.collapsed=!e.maximised,e.layerTypes&&(t.layerTypes=e.layerTypes),t.webServicesOptions={},e.webServicesOptions?t.webServicesOptions=e.webServicesOptions:(this.mapOptions&&this.mapOptions.proxyUrl&&(t.webServicesOptions.proxyUrl=this.mapOptions.proxyUrl),this.mapOptions&&this.mapOptions.noProxyDomains&&(t.webServicesOptions.noProxyDomains=this.mapOptions.noProxyDomains)),e.defaultStyles){t.vectorStyleOptions={};var o,n,r,i,a,s,l="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAADMAAAAmCAYAAABpuqMCAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAARDSURBVFiF3ZndaxxVGMZ/Z/YjX00Nadpo1qrFBgu56D9QbAtiLoRC7ywSNK1NURRREBKRFlSwFBW0gnSrJXY1CmISgyjFiyYSFC9ajE3MmpjdjWlMUtNos9lN9mteLzbRuCbZmTMTBB+Yi51znvd5n3nPnjnnjBIR/i/wuh4xpCpI0ojiENAA1AE1wCzwKzCE0EM5l2iShJvSyrXKnFVb8dOK4hmg3AIjifAmaU7ztMy7kYI7Zs6rQwjvka+AXcyiOMZx6XGahuE0AEHVitCFnhGAGoQugqrVaSrOKpNP4FWnSaxCGy1yWpesbyY/tLpwo7p/w0RxWHfI6Zk5q7ZSwhj6Q2sjzJLiXp1JQe+p+mllc4wA1CzHtw37lQmpCha5gbXpVxdJythh9z1kvzJJGrFixPBmOXixl+Z4mONmguZ4mIMXezG8WQsq5cs6tmDfTP7NXiSqN0vTzBD1TQfwbdmDUhX4tuyhvukATTNDlgxZ0SmUtUsgv0TZGPsv9FNSvXfNtpLqvey/0O+KTgF0zNQV7XHP4dsdtVvVKYCOmeqiPbwVOx21W9UpgI6ZWNEe2cSEo3arOgWwb0YYLp5G17Sjdqs6BdCZzYqL9B3dR2puYM221NwAfUf3uaJTAB0zaye5GmbWS6i2gdFQL5mFMCIJMgthRkO9hGobMLPFN4VWdAoptlcAQeUDRoG77YrZwDhQT4tk7JDsV6ZFMggv2+bZwyt2jYDuQnOa94GIFrc4IkzRrkPUM3NKsijatLjF0copsbJ++xec7TTPqw6EI/oB/glT+PC+13Y/aSQNv/Is+tNer09lMn7DMHwAYppp8fvTIpISkVQsFrslqww4M9OuqkgzANzl1MhCyrjZGAycm573pK1yFCyi5FoWvo/FYlPOT2fOqftRXMbB9lkEs+3zbe2f/FD5i3YMj2p3vn8/IV8DZ5yE+Gqkot+JEQCPada5dRhxEriiQ5ya90w+272916F+KpnJDLhjpkUy5HgESNqhZU2Vfr5ne+dSFtOBeso06J6cnEy6d0z0hPwEPGeH8sGVykvfjpfe1NZUci2+mHg7Go2G8z/d/goQVJ9B8S1veMYffujduo/thl+ZwUzDuBqJRGZWt7n/FcDH46lFNVLilar1uiTTxsJTnTssH/QpJVlMNQa5wbGJiWERya3Vz30zzfLb3OveY3dU5j5dp4e80Xdbd3TOu/H/yyAtpjnqgeGS8crRQRks+v5xf5gtY/KM/6NAVebhwvv90bLvHu2o/XId2pJSMmIaxo/RaHRMxN6yZtPM0K5K/7hl/FxVZgZWbs0mPDceeKcuGE95/kpSKUmaImHDNIfHrl+PiIj2zOb+MFvBY7IUOVl2ZG9g6bJH4ckJuRe/2NYZT3myKIkrGM4pNRyLjY+LW09URDb1+uaF0pfm3zJ+7zhRGdq1c9eDuwOBOzdLa/OG2X+APwE8DU64Y/5gfAAAAABJRU5ErkJggg==";if(e.defaultStyles.KML){var c=e.defaultStyles.KML,u={};u.image=new Et.a({src:c.markerSrc||l,anchor:[c.markerXAnchor||25.5,c.markerYAnchor||38],anchorOrigin:"top-left",anchorXUnits:"pixels",anchorYUnits:"pixels"}),o=c.strokeOpacity||.8,n=c.strokeColor||"#002A50",u.stroke=new Ot.a({color:Hs.prototype._hexToRgba.call(this,n,o),width:c.strokeWidth||4}),r=c.polyFillOpacity||.5,i=c.polyFillColor||"#00B798",u.fill=new St.a({color:Hs.prototype._hexToRgba.call(this,i,r)}),a=c.textColor||"#FFFFFF",s=c.textStrokeColor||"#000000",u.text=new xt.a({font:"16px Sans",textAlign:"left",fill:new St.a({color:Hs.prototype._hexToRgba.call(this,a,1)}),stroke:new Ot.a({color:Hs.prototype._hexToRgba.call(this,s,1),width:c.textStrokeWidth||4})});var d=new It.c(u);t.vectorStyleOptions.KML={defaultStyle:d}}if(e.defaultStyles.GPX){var h=e.defaultStyles.GPX,p={};p.image=new Et.a({src:h.markerSrc||l,anchor:[h.markerXAnchor||25.5,h.markerYAnchor||38],anchorOrigin:"top-left",anchorXUnits:"pixels",anchorYUnits:"pixels"}),o=h.strokeOpacity||.8,n=h.strokeColor||"#002A50",p.stroke=new Ot.a({color:Hs.prototype._hexToRgba.call(this,n,o),width:h.strokeWidth||4}),a=h.textColor||"#FFFFFF",s=h.textStrokeColor||"#000000",p.text=new xt.a({font:"16px Sans",textAlign:"left",fill:new St.a({color:Hs.prototype._hexToRgba.call(this,a,1)}),stroke:new Ot.a({color:Hs.prototype._hexToRgba.call(this,s,1),width:h.textStrokeWidth||4})});var f=new It.c(p);t.vectorStyleOptions.GPX={defaultStyle:f}}if(e.defaultStyles.GeoJSON){var g=e.defaultStyles.GeoJSON,m={};m.image=new Et.a({src:g.markerSrc||l,anchor:[g.markerXAnchor||25.5,g.markerYAnchor||38],anchorOrigin:"top-left",anchorXUnits:"pixels",anchorYUnits:"pixels"}),o=g.strokeOpacity||.8,n=g.strokeColor||"#002A50",m.stroke=new Ot.a({color:Hs.prototype._hexToRgba.call(this,n,o),width:g.strokeWidth||4}),r=g.polyFillOpacity||.5,i=g.polyFillColor||"#00B798",m.fill=new St.a({color:Hs.prototype._hexToRgba.call(this,n,o)}),a=g.textColor||"#FFFFFF",s=g.textStrokeColor||"#000000",m.text=new xt.a({font:"16px Sans",textAlign:"left",fill:new St.a({color:Hs.prototype._hexToRgba.call(this,a,1)}),stroke:new Ot.a({color:Hs.prototype._hexToRgba.call(this,s,1),width:g.textStrokeWidth||4})});var y=new It.c(m);t.vectorStyleOptions.GeoJSON={defaultStyle:y}}if(e.defaultStyles.MapBox){var v=e.defaultStyles.MapBox,_={};_.image=new Et.a({src:v.markerSrc||l,anchor:[v.markerXAnchor||25.5,v.markerYAnchor||38],anchorOrigin:"top-left",anchorXUnits:"pixels",anchorYUnits:"pixels"}),o=v.strokeOpacity||.8,n=v.strokeColor||"#002A50",_.stroke=new Ot.a({color:Hs.prototype._hexToRgba.call(this,n,o),width:v.strokeWidth||4}),r=v.polyFillOpacity||.5,i=v.polyFillColor||"#00B798",_.fill=new St.a({color:Hs.prototype._hexToRgba.call(this,n,o)});var b=new It.c(m);t.vectorStyleOptions.MapBox={defaultStyle:b,editor:v.editor,display:v.display}}}var A=new Ys.control.LayerImport(t);return this.libMap.addControl(A),A},Qs.prototype.addLayerSwitcherControl=function(e){this.logger.trace("[OlMap] : addLayerSwitcherControl ... ");var t={layers:[],options:{collapsed:!(e&&e.maximised)}};e&&e.div&&(t.options.target=e.div);for(var o=0;o<this._layers.length;o++){var n=this._layers[o];this.logger.trace("[OlMap] : layerSwitcher : configuring layer : "+n.id);var r={layer:n.obj,config:{id:n.id}};n.options.title&&(this.logger.trace("[OlMap] : layerSwitcher : setting title to ["+n.options.title+"] for layer "+n.id),r.config.title=n.options.title),n.options.description&&(this.logger.trace("[OlMap] : layerSwitcher : setting description to ["+n.options.description+"] for layer "+n.id),r.config.description=n.options.description),n.options.quicklookUrl&&(this.logger.trace("[OlMap] : layerSwitcher : setting quicklookUrl to ["+n.options.quicklookUrl+"] for layer "+n.id),r.config.quicklookUrl=n.options.quicklookUrl),n.options.legends&&(this.logger.trace("[OlMap] : layerSwitcher : setting legends to ["+n.options.legends+"] for layer "+n.id),r.config.legends=n.options.legends),n.options.metadata&&(this.logger.trace("[OlMap] : layerSwitcher : setting metadata to ["+n.options.metadata+"] for layer "+n.id),r.config.metadata=this._filterEmptyMetadata(n.options.metadata)),t.layers.push(r)}this.logger.trace("[OlMap] : layerSwitcher Opts : ... ");var i=new Ys.control.LayerSwitcher(t);return this.libMap.addControl(i),i},Qs.prototype.addLengthControl=function(e){var t={};if(e.div&&(t.target=e.div),e.hasOwnProperty("styles")){if(t.styles={},e.styles.hasOwnProperty("pointer")&&(t.styles.pointer=this._fillPointerStyles(e.styles.pointer)),e.styles.hasOwnProperty("start")){var o={};o.stroke=this._fillStrokeStyles(e.styles.start),e.styles.start.hasOwnProperty("fillColor")&&(o.fill=new St.a({color:e.styles.start.fillColor})),t.styles.start=new It.c(o)}if(e.styles.hasOwnProperty("finish")){var n={};n.stroke=this._fillStrokeStyles(e.styles.finish),e.styles.finish.hasOwnProperty("fillColor")&&(n.fill=new St.a({color:e.styles.finish.fillColor})),t.styles.finish=new It.c(n)}}e.hasOwnProperty("geodesic")&&(t.geodesic=e.geodesic);var r=new Ys.control.MeasureLength(t);return this.libMap.addControl(r),r},Qs.prototype.addAreaControl=function(e){this.logger.trace("[OlMap] addAreaControl : ... ");var t={};if(e.div&&(t.target=e.div),e.hasOwnProperty("styles")){if(t.styles={},e.styles.hasOwnProperty("pointer")&&(t.styles.pointer=this._fillPointerStyles(e.styles.pointer)),e.styles.hasOwnProperty("start")){var o={};o.stroke=this._fillStrokeStyles(e.styles.start),e.styles.start.hasOwnProperty("fillColor")&&(o.fill=new St.a({color:e.styles.start.fillColor})),t.styles.start=new It.c(o)}if(e.styles.hasOwnProperty("finish")){var n={};n.stroke=this._fillStrokeStyles(e.styles.finish),e.styles.finish.hasOwnProperty("fillColor")&&(n.fill=new St.a({color:e.styles.finish.fillColor})),t.styles.finish=new It.c(n)}}e.hasOwnProperty("geodesic")&&(t.geodesic=e.geodesic);var r=new Ys.control.MeasureArea(t);return this.libMap.addControl(r),r},Qs.prototype.addAzimuthControl=function(e){var t={};if(e.div&&(t.target=e.div),e.hasOwnProperty("styles")){if(t.styles={},e.styles.hasOwnProperty("pointer")&&(t.styles.pointer=this._fillPointerStyles(e.styles.pointer)),e.styles.hasOwnProperty("start")){var o={};o.stroke=this._fillStrokeStyles(e.styles.start),e.styles.start.hasOwnProperty("fillColor")&&(o.fill=new St.a({color:e.styles.start.fillColor})),t.styles.start=new It.c(o)}if(e.styles.hasOwnProperty("finish")){var n={};n.stroke=this._fillStrokeStyles(e.styles.finish),e.styles.finish.hasOwnProperty("fillColor")&&(n.fill=new St.a({color:e.styles.finish.fillColor})),t.styles.finish=new It.c(n)}}e.hasOwnProperty("geodesic")&&(t.geodesic=e.geodesic);var r=new Ys.control.MeasureAzimuth(t);return this.libMap.addControl(r),r},Qs.prototype.addElevationPathControl=function(e){var t={};if(this.logger.trace("[OlMap] addElevationPathControl : ... "),e.div&&(t.target=e.div),this._isConfLoaded||(t.apiKey=this.apiKey),e.styles&&(t.stylesOptions={},e.styles.hasOwnProperty("pointer")&&(t.stylesOptions.draw={},t.stylesOptions.draw.pointer=this._fillPointerStyles(e.styles.pointer)),e.styles.hasOwnProperty("start")&&(t.stylesOptions.draw||(t.stylesOptions.draw={}),t.stylesOptions.draw.start=this._fillStrokeStyles(e.styles.start)),e.styles.hasOwnProperty("finish")&&(t.stylesOptions.draw||(t.stylesOptions.draw={}),t.stylesOptions.draw.finish=this._fillStrokeStyles(e.styles.finish)),e.styles.hasOwnProperty("marker"))){var o={};e.styles.marker.src&&(o.src=e.styles.marker.src,o.anchor=[e.styles.marker.xAnchor?e.styles.marker.xAnchor:0,e.styles.marker.yAnchor?e.styles.marker.yAnchor:0]),Object.keys(o).length>0&&(t.stylesOptions.marker=new Et.a(o))}e.elevationOptions&&(t.elevationOptions=e.elevationOptions),e.displayProfileOptions&&(t.displayProfileOptions=e.displayProfileOptions),e.export&&(t.export=e.export);var n=new Ys.control.ElevationPath(t);return this.libMap.addControl(n),n},Qs.prototype.addSearchControl=function(e){var t={};e.div&&(t.target=e.div),t.collapsed=!e.maximised,this._isConfLoaded||(t.apiKey=this.apiKey),t.zoomTo=e.zoomTo||null,e.hasOwnProperty("resources")&&(t.resources={},e.resources.hasOwnProperty("geocode")&&(t.resources.geocode=e.resources.geocode),e.resources.hasOwnProperty("autocomplete")&&(t.resources.autocomplete=e.resources.autocomplete)),t.displayAdvancedSearch=e.hasOwnProperty("displayAdvancedSearch")&&e.displayAdvancedSearch,e.hasOwnProperty("advancedSearch")&&(t.advancedSearch=e.advancedSearch),e.hasOwnProperty("geocodeOptions")&&(t.geocodeOptions=e.geocodeOptions),e.hasOwnProperty("autocompleteOptions")&&(t.autocompleteOptions=e.autocompleteOptions);var o=new Ys.control.SearchEngine(t);return this.libMap.addControl(o),o},Qs.prototype.addReverseSearchControl=function(e){var t={};e.div&&(t.target=e.div),t.collapsed=!e.maximised,this._isConfLoaded||(t.apiKey=this.apiKey),e.hasOwnProperty("resources")&&(t.resources=e.resources),e.hasOwnProperty("reverseGeocodeOptions")&&(t.reverseGeocodeOptions=e.reverseGeocodeOptions),e.hasOwnProperty("delimitations")&&(t.delimitations=e.delimitations);var o=new Ys.control.ReverseGeocode(t);return this.libMap.addControl(o),o},Qs.prototype.addDrawingControl=function(e){var t={};if(e.div&&(t.target=e.div),t.collapsed=!e.maximised,e.hasOwnProperty("tools")&&(t.tools=e.tools),e.hasOwnProperty("labels")&&(t.labels=e.labels),e.hasOwnProperty("defaultStyles")&&(t.defaultStyles=e.defaultStyles),e.hasOwnProperty("cursorStyle")&&(t.cursorStyle=e.cursorStyle),e.hasOwnProperty("markersList")&&Array.isArray(e.markersList)&&e.markersList.length>0){t.markersList=[];for(var o=0;o<e.markersList.length;o++){var n=e.markersList[o];if(n.src){var r={src:n.src};n.xAnchor&&n.yAnchor&&(r.anchor=[n.xAnchor,n.yAnchor]),t.markersList.push(r)}}}if(e.layer){var i=this._getLayersObj([e.layer]);i&&i.length>0&&(t.layer=i[0])}var a=new Ys.control.Drawing(t);return this.libMap.addControl(a),a},Qs.prototype.addAttributionsControl=function(e){var t={};e.div&&(t.target=e.div),t.collapsed=!e.maximised;var o=new Ys.control.GeoportalAttribution(t);return this.libMap.addControl(o),o},Qs.prototype.addCameraControl=function(e){return null},Qs.prototype.addGetFeatureInfoControl=function(e){var t={options:{}};for(var o in e.hasOwnProperty("options")&&(e.options.hasOwnProperty("auto")&&(t.options.auto=e.options.auto),e.options.hasOwnProperty("active")&&(t.options.active=e.options.active),e.options.hasOwnProperty("hidden")&&(t.options.hidden=e.options.hidden),e.options.hasOwnProperty("defaultEvent")&&(t.options.defaultEvent=e.options.defaultEvent),e.options.hasOwnProperty("defaultInfoFormat")&&(t.options.defaultInfoFormat=e.options.defaultInfoFormat),e.options.hasOwnProperty("cursorStyle")&&(t.options.cursorStyle=e.options.cursorStyle),e.options.hasOwnProperty("autoPanOptions")||(e.options.autoPanOptions=Hs.DEFAULT_AUTOPAN_OPTIONS),t.options.autoPan=e.options.autoPanOptions.autoPan,t.options.autoPanAnimation={duration:e.options.autoPanOptions.duration},t.options.autoPanMargin=e.options.autoPanOptions.margin),this.mapOptions&&this.mapOptions.proxyUrl&&(t.options.proxyUrl=this.mapOptions.proxyUrl),this.mapOptions&&this.mapOptions.noProxyDomains&&(t.options.noProxyDomains=this.mapOptions.noProxyDomains),t.layers=[],e.layers)for(var n=e.layers[o],r=0;r<this._layers.length;++r){var i=this._layers[r];if(o===i.id){var a=i.options.format.toLowerCase();if(i.options.queryable||"kml"===a||"geojson"===a||"gpx"===a||"georss"===a||"wfs"===a||"drawing"===a){var s={obj:i.obj};n.event&&(s.event=n.event),i.options.gfiFormat&&(s.infoFormat=i.options.gfiFormat),t.layers.push(s);break}this.logger.info("GetFeatureInfo layer '"+o+"' has not been added to control because this layer is not queryable.");break}}var l=new Ys.control.GetFeatureInfo(t);return this.libMap.addControl(l),l},Qs.prototype.removeControls=function(e){if(this.logger.trace("[OlMap] : removeControls ... "),!e||Array.isArray(e)&&0===e.length)this.logger.info("No control to remove.");else{Array.isArray(e)||(e=[e]);for(var t=null,o=0;o<e.length;o++){t=e[o];var n=this._findRegisteredControl(t);n>=0&&(this.logger.trace("[OlMap] : removeControls : removing ["+t+"] from register."),this._controls.splice(n,1));var r=this.getLibMapControl(t);if(r)if("graticule"!==t.toLowerCase()){if(Array.isArray(r))return;this.logger.trace("[OlMap] : removeControls : removing ["+t+"] from Map."),this.libMap.removeControl(r)}else r.setMap(null),delete this.getLibMap().graticule;else this.logger.info("Impossible to remove control ["+t+"] : not found or unhandled")}}},Qs.prototype.getLibMapControl=function(e){var t=this,o=null;if(!Qs.CONTROLSCLASSES.hasOwnProperty(e.toLowerCase())||!Qs.CONTROLSCLASSES[e.toLowerCase()])return this.logger.trace("[OlMap] getLibMapControl : control "+e+" non implÃ©mentÃ©."),o;var n=Qs.CONTROLSCLASSES[e.toLowerCase()];if(Array.isArray(n)){this.logger.trace("[OlMap] getLibMapControl : searching interactions.");var r=[];return this.getLibMap().getInteractions().forEach((function(e){for(var o=0;o<n.length;o++)if(e instanceof n[o]){t.logger.trace("[OlMap] getLibMapControl : found interaction : "+n[o].name),r.push(e);break}})),r.length>0?r:null}if("graticule"===e.toLowerCase())return this.getLibMap().hasOwnProperty("graticule")?this.getLibMap().graticule:null;this.logger.trace("[OlMap] getLibMapControl : controlClass : "+n.name);var i=this.getLibMap().getControls().getArray();if(0===i.length)return this.logger.trace("[OlMap] getLibMapControl : no control found on map"),o;for(var a=0;a<i.length;a++){var s=i[a];if(this.logger.trace("[OlMap] getLibMapControl : analyzing : "+gl(s)),s instanceof n){o=s,this.logger.trace("[OlMap] getLibMapControl : found ! ");break}}return o},Qs.prototype._fillStrokeStyles=function(e){var t={},o=null;return e.hasOwnProperty("strokeLineDash")&&(t.lineDash=e.strokeLineDash),e.hasOwnProperty("strokeColor")&&(t.color=e.strokeColor),e.hasOwnProperty("strokeWidth")&&(t.width=e.strokeWidth),Object.keys(t).length>0&&(o=new Ot.a(t)),o},Qs.prototype._fillPointerStyles=function(e){var t={};return e.hasOwnProperty("radius")&&(t.radius=e.radius),t.stroke=this._fillStrokeStyles(e),e.hasOwnProperty("fillColor")&&(t.fill=new St.a({color:e.fillColor})),new wt.a(t)},Qs.prototype._addLayerConfToLayerSwitcher=function(e,t){this.logger.trace("[OlMap] : _addLayerConfToLayerSwitcher ... ");var o=this.getLibMapControl("layerswitcher");o&&o.addLayer(e,this._layerOptions2layerConf(t))},Qs.prototype.getLSLayerContainerDivId=function(e){var t=this._findRegisteredControl("layerswitcher");if(t<0)return this.logger.trace("[OlMap] : getLSLayerContainerDivId : no layerswitcher on map !"),null;var o=this._getLayersObj([e]);return o.length>0?this._controls[t].obj.getLayerDOMId(o[0].obj):(this.logger.trace("[OlMap] : getLSLayerContainerDivId : layer ["+e+"] not found on map !"),null)},Qs.prototype.listen=function(e,t,o){var n=this;if(this.logger.trace("[OlMap] : listen..."),Hs.prototype.listen.apply(this,arguments)){o=o||this;var r=this,i=null;switch(e){case"mapLoaded":case"mapFailure":case"located":case"geolocated":case"configured":break;case"centerChanged":var a=function(e){var n={};e.oldValue&&(n.oldCenter={x:e.oldValue[0],y:e.oldValue[1]}),n.newCenter={x:this.libMap.getView().getCenter()[0],y:this.libMap.getView().getCenter()[1]},t.call(o,n)}.bind(this);i=this.libMap.getView().on("change:center",a);break;case"zoomChanged":var s=function(e){t.call(o,{oldZoom:this._getZoomFromResolution(e.oldValue),newZoom:this._getZoomFromResolution(this.libMap.getView().getResolution())})}.bind(this);i=this.libMap.getView().on("change:resolution",s);break;case"azimuthChanged":var l=function(e){t.call(o,{oldAzimuth:180*e.oldValue/Math.PI,newAzimuth:180*this.libMap.getView().getRotation()/Math.PI})}.bind(this);i=this.libMap.getView().on("change:rotation",l);break;case"tiltChanged":case"projectionChanged":break;case"layerChanged":var c=function(e){var n=e.element,i=this._getLayerOpts(n);i||(r.logger.trace("[OlMap] listen : enregistrement d'une couche 'inconnue'."),i=this._registerUnknownLayer(n)),t.call(o,{layerAdded:i,position:n.getZIndex()})}.bind(this);i=this.libMap.getLayers().on("add",c),this._registerEvent(i,e,t,o);var u=function(e){var n=e.element,r=this._getLayerOpts(n)||this._getLayerOpts(n,this._layersRemoved),i=o.getLibMap();i.featuresOverlay&&r[i.featuresOverlay.getId()]&&(i.removeOverlay(i.featuresOverlay),i.featuresOverlay=null),t.call(o,{layerRemoved:r}),setTimeout((function(){o._resetLayerChangedEvent()}),0)}.bind(this);for(var d in i=this.libMap.getLayers().on("remove",u),this._registerEvent(i,e,t,o),Qs.LAYERPROPERTIES)r.logger.trace("[OlMap] listen : abonnement layerProperty : "+d),this.libMap.getLayers().forEach((function(a,s,l){var c=n._getLayerOpts(a);if("grayScaled"===d){var u=function(e){t.call(o,{property:"grayScaled",oldValue:e.detail.oldValue,newValue:e.detail.newValue,layerChanged:c})},h=r._registerEvent(u,e,t,o);h.eventOrigin=a,h.eventType="change:"+d,h.eventOrigin.addEventListener(h.eventType,u,n)}else{i=a.on("change:"+d,(function(e){var n={};n[e.key]=e.oldValue;var i=r._getCommonLayerParams(n),s={};s[e.key]=a.get(e.key);var l=r._getCommonLayerParams(s);t.call(o,{property:Qs.LAYERPROPERTIES[e.key],oldValue:i[Qs.LAYERPROPERTIES[e.key]],newValue:l[Qs.LAYERPROPERTIES[e.key]],layerChanged:c})})),n._registerEvent(i,e,t,o)}}),r);i=null;break;case"controlChanged":break;default:this.logger.info("unhandled event : "+e)}i&&this._registerEvent(i,e,t,o)}},Qs.prototype.forget=function(e,t){if(this.logger.trace("[OlMap] : forget..."),Hs.prototype.forget.apply(this,arguments)){var o=this._events[e];if(o)for(var n=null,r=o.length-1;r>=0;r--)o[r].action===t&&(n=o[r].key,o.splice(r,1),this.logger.trace("[OlMap] : forgetting : "+e+" ("+n+")"),Object(Ao.b)(n));else this.logger.info("nothing to forget for : "+e)}},Qs.prototype.setDraggable=function(e){return this._toggleInteractions("draggable",e)},Qs.prototype.setKeyboard=function(e){return this._toggleInteractions("keyboard",e)},Qs.prototype.setSelectable=function(e){return this._toggleInteractions("selectable",e)},Qs.prototype._toggleInteractions=function(e,t){var o=this.getLibMapControl(e);if(null==o){o=[];for(var n=0;n<Qs.CONTROLSCLASSES[e].length;n++){this.logger.trace("[OlMap] : adding interaction "+Qs.CONTROLSCLASSES[e][n].name+" to the map.");var r=new Qs.CONTROLSCLASSES[e][n];this.libMap.addInteraction(r),o.push(r)}}for(var i=0;i<o.length;i++){var a=o[i];this.logger.trace("[OlMap] : setting interaction to "+t+" for control : "+e),a.setActive(t)}return o},Qs.prototype._getCommonLayerParams=function(e){var t={};if(this.logger.trace("[OlMap] : _getCommonLayerParams "),e.hasOwnProperty("opacity")&&(this.logger.trace("[OlMap] : _getCommonLayerParams - opacity : "+e.opacity),t.opacity=e.opacity),e.hasOwnProperty("visible")&&(this.logger.trace("[OlMap] : _getCommonLayerParams - visibility : "+e.visible),t.visibility=e.visible),e.hasOwnProperty("zIndex")&&(this.logger.trace("[OlMap] : _getCommonLayerParams - position : "+e.zIndex),t.position=e.zIndex),e.hasOwnProperty("mapbox-status")&&(this.logger.trace("[OlMap] : _getCommonLayerParams - mapbox-status : "+e["mapbox-status"]),t["mapbox-status"]=e["mapbox-status"]),e.hasOwnProperty("maxResolution")){var o=this._getZoomFromResolution(e.maxResolution);this.logger.trace("[OlMap] : _getCommonLayerParams - minZoom : "+o),t.minZoom=o}if(e.hasOwnProperty("minResolution")){var n=this._getZoomFromResolution(e.minResolution);this.logger.trace("[OlMap] : _getCommonLayerParams - maxZoom : "+n),t.maxZoom=n}return t},Qs.prototype.getProjection=function(){return this.libMap.getView().getProjection().getCode()},Qs.prototype.getCenter=function(){return{x:this.libMap.getView().getCenter()[0],y:this.libMap.getView().getCenter()[1]}},Qs.prototype.getViewExtent=function(e){var t={};if(this.libMap&&this.libMap.getView()){var o=this.libMap.getView().calculateExtent(this.libMap.getSize()),n=this.libMap.getView().getProjection().getCode();e&&e!==n&&(o=Object(s.F)(o,n,e)),t.left=o[0],t.right=o[2],t.bottom=o[1],t.top=o[3]}return t},Qs.prototype.getAzimuth=function(){return 180*this.libMap.getView().getRotation()/Math.PI},Qs.prototype.getZoom=function(){return this._getZoomFromResolution(this.getResolution())},Qs.prototype.getResolution=function(){return this.libMap.getView().getResolution()},Qs.prototype.setProjection=function(e){var t=new Xs.d({center:this.libMap.getView().getCenter(),projection:e,rotation:this.libMap.getView().getRotation(),zoom:this.getZoom()});this.libMap.setView(t)},Qs.prototype.setXYCenter=function(e){if(this.logger.trace("[OlMap] - setXYCenter"),e.hasOwnProperty("x")&&e.hasOwnProperty("y")){var t=[e.x,e.y],o=this.libMap.getView().getProjection().getCode();e.projection&&e.projection!==o&&(t=Object(s.E)(t,e.projection,o)),this.libMap.getView().setCenter(t),this.logger.trace("[OlMap] - setXYCenter("+e.x+","+e.y+"), projection Map : "+o)}else this.logger.info("no valid coordinates for map center")},Qs.prototype.setAutoCenter=function(e,t){this.logger.trace("[IT] - setAutoCenter"),this.setXYCenter(e,t)},Qs.prototype.setAzimuth=function(e){this.libMap.getView().setRotation(e*Math.PI/180)},Qs.prototype.setZoom=function(e){this.libMap.getView().setZoom(e)},Qs.prototype.setResolution=function(e){this.libMap.getView().setResolution(e)},Qs.prototype.zoomIn=function(){this.libMap.getView().setZoom(this.getZoom()+1)},Qs.prototype.zoomOut=function(){this.libMap.getView().setZoom(this.getZoom()-1)};o("./src/OpenLayers/CSS/OlMap.css");var ml=o("./src/Utils/dist-openlayers/index.js-exposed"),yl=o.n(ml);function vl(e){return(vl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _l(e,t){return function e(t,o){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(Object.prototype.hasOwnProperty.call(o,n)?"object"===vl(t[n])&&e(t[n],o[n]):o[n]=t[n])}(e,t)}i.getLogger("SDK2D").log("Chargement SDK 2D..."),_l(Ys,yl.a),_l(yl.a,Ys),a.__class2d=Qs;var bl=n.SDK2DVersion,Al=n.date,Cl=Ys.style.Editor;window&&window.ol&&(window.ol=yl.a)},"./src/Utils/dist-openlayers/index.js-exposed":function(e,t,o){(function(t){e.exports=t.ol=o("./node_modules/eslint-loader/dist/cjs.js?!./src/Utils/dist-openlayers/index.js")}).call(this,o("./node_modules/webpack/buildin/global.js"))},0:function(e,t,o){o("./node_modules/whatwg-fetch/fetch.js"),o("./node_modules/ol/ol.css"),o("./node_modules/geoportal-extensions-openlayers/dist/GpPluginOpenLayers-src.css"),e.exports=o("./src/SDK2D.js")},1:function(e,t){},2:function(e,t){},3:function(e,t){},4:function(e,t){},"node-fetch":function(t,o){t.exports=e},xmldom:function(e,o){e.exports=t}})}));