{{#extend "sample-bundle-layout-2d"}}

{{#content "head"}}
    <title>Sample SDK 2D WMTS RESTful</title>
{{/content}}

{{#content "style"}}
    <style>
        body {
            width : 100% !important;
        }
        #geoportalMap {
            height: 500px;
            width: 100%;
        }
    </style>
{{/content}}

{{#content "body"}}
    <h1>WMTS Restful</h1>
    <p>Chargement d'une couche WMTS Restful (Cartes Topographiques du Luxembourg) via Gp.Map.load()</p>
    <div id="geoportalMap"></div>
{{/content}}

{{#content "js"}}
    <script>
        Gp.Map.load('geoportalMap',{
            apiKey : "{{apikey}}",
            center : {
                x : 6.12,
                y : 49.59,
                projection : "EPSG:4326"
            },
            zoom : 9,
            controlsOptions : {
                "layerSwitcher" : {},
                "mousePosition" : {}
            },
            layersOptions : {
                "ORTHOIMAGERY.ORTHOPHOTOS" : {},
                // WMTS Luxembourg
                "GEOGRAPHICALGRIDSYSTEMS.MAPS.LUX$GEOPORTAIL:OGC:WMS" : {
                    format : "wmts",
                    title : "Grand-Duché de Luxembourg - cartes topographiques",
                    description : "Cartes topographiques automatiques du Grand-Duché de Luxembourg.",
                    url : "http://wmts1.geoportail.lu/opendata/wmts/topo/{TileMatrixSet}/{TileMatrix}/{TileCol}/{TileRow}.png",
                    layer : "topo",
                    tileMatrixSet : "GLOBAL_WEBMERCATOR_4_V3",
                    topLeftCorner : {
                        x:-20037508,
                        y:20037508
                    },
                    resolutions : [156543.033928041,78271.51696402048,39135.758482010235,19567.87924100512,9783.93962050256,4891.96981025128,2445.98490512564,1222.99245256282,611.49622628141,305.7481131407048,152.8740565703525,76.43702828517624,38.21851414258813,19.10925707129406,9.554628535647032,4.777314267823516,2.388657133911758,1.194328566955879,0.5971642834779395,0.2985821417389697,0.1492910708694849/*,0.0746455354347424*/],
                    matrixIds : ["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20"/*,"21"*/],
                    styleName : "default",
                    outputFormat : "image/png",
                    minZoom : 5,
                    maxZoom : 19,
                    opacity : 0.8
                }
            }
        });
    </script>
{{/content}}
{{/extend}}
