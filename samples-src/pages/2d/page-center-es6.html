{{#extend "sample-es6-layout-2d"}}

{{#content "head"}}
    <title>Sample SDK 2D Center</title>
{{/content}}

{{#content "style"}}
    <style>
        #geoportalMap1 {
            height: 400px;
            width: 600px;
        }
        #geoportalMap2 {
            height: 400px;
            width: 600px;
        }
        #geoportalMap3 {
            height: 400px;
            width: 600px;
        }
    </style>
{{/content}}

{{#content "body"}}
    <h1>Centrage de la carte par coordonnées</h1>
    <h2>Centrage par défaut</h2>
    <p>La carte est centrée sur Paris.</p>
    <div id="geoportalMap1"></div>
    <h2>Centrage par coordonnées dans le système de la carte.</h2>
    <p>La carte est centrée sur le Finistère.</p>
    <div id="geoportalMap2"></div>
    <h2>Centrage dans une projection différente de celle de la carte.</h2>
    <p>La carte est centrée sur le Finistère.</p>
    <div id="geoportalMap3"></div>
{{/content}}

{{#content "js"}}
    <script type="module">
        import * as Gp from "{{ baseurl }}/dist/2d/GpSDK2D{{ mode }}.js";
        
        self.Gp.Map.load('geoportalMap1',{
            apiKey : "{{apikey}}",
            mapEventsOptions : {
                "mapLoaded" : function () {
                    loadMap2()
                }
            }
        });

        function loadMap2() {
            Gp.Map.load('geoportalMap2', {
                // apiKey : "{{apikey}}",
                customConfigFile : "{{resources}}/ConfigFile/fullConfig.json",
                center : {
                    x : -511270,
                    y : 6151620
                },
                mapEventsOptions : {
                    "mapLoaded" : function () {
                        loadMap3()
                    }
                }
            });
        }

        function loadMap3() {
            Gp.Map.load('geoportalMap3', {
                // apiKey : "{{apikey}}",
                customConfigFile : "{{resources}}/ConfigFile/fullConfig.json",
                center : {
                    x : -4.620391,
                    y : 48.268698,
                    projection : "CRS:84"
                }
            });
        }
    </script>
{{/content}}
{{/extend}}
