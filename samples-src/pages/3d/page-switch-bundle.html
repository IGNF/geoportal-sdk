{{#extend "sample-bundle-layout-3d"}}

{{#content "head"}}
    <title>Sample SDK 3D Switch</title>
{{/content}}

{{#content "style"}}
    <style>
        #geoportalMap1 {
            height: 600px;
            width: 600px;
            position:relative;
            display:"inline";
        }
    </style>
{{/content}}

{{#content "body"}}
    <h1>Test de la bascule 3D / 2D</h1>
    <div id="BoutonSwitchToIt">
        <input type="button" name="switch" onclick="switchTo3D();" value="Switch from 2D to 3D"/><br/>
    </div>
    <div id="BoutonSwitchToOl" hidden>
        <input type="button" name="switch" onclick="switchTo2D();" value="Switch from 3D to 2D"/><br/>
    </div>
    <div id="geoportalMap1"></div>
{{/content}}

{{#content "js"}}
    <script>
            var map = Gp.Map.load("geoportalMap1",{
                configUrl : "{{resources}}/autoconf.js", // apiKey : "{{apikey}}",
                /*layersOptions : {
                    "ORTHOIMAGERY.ORTHOPHOTOS" : {
                    },
                    "GEOGRAPHICALGRIDSYSTEMS.PLANIGNV2" : {
                    }
                },*/
                layersOptions : {
                    "ORTHOIMAGERY.ORTHOPHOTOS" : {
                    },
                    "KML_1" : {
                        title : "Paris 1",
                        description : "KML de Paris numéro 1",
                        format : "KML",
                        url : "../resources/KML/paris_1.kml",
                        opacity : 0.7,
                        minZoom : 8,
                        maxZoom : 15,
                        visibility : true,
                        opacity : 1,
                        styleOptions : {
                            polyFillColor : "blue",
                            polyFillOpacity : 1,
                            strokeColor : "white",
                            strokeOpacity : 0.8,
                            strokeWidth : 2
                        },
                        extractStyles : true
                    },
                    "KML_2" : {
                        title : "Paris 2",
                        description : "KML de Paris numéro 2",
                        format : "KML",
                        url : "../resources/KML/paris_2.kml",
                        opacity : 0.7,
                        minZoom : 8,
                        maxZoom : 15,
                        visibility : true,
                        opacity : 1,
                        styleOptions : {
                            polyFillColor : "red",
                            polyFillOpacity : 0.8,
                            strokeColor : "green",
                            strokeOpacity : 0.5,
                            strokeWidth : 5
                        },
                        extractStyles : false
                    }
                    /*,
                    "HY.PhysicalWaters" : {
                    },
                    "TN.RoadTransportNetwork" : {
                    }*/
                },
                center : {
                    locationType : "PositionOfInterest",
                    location : "Saint Mandé, 94160"
                },
                controlsOptions : {
                    layerSwitcher : {
                        maximised : true
                    },
                    route : {},
                    isocurve : {},
                    layerimport : {},
                    mousePosition : {
                        // div : "extControlDiv",
                        maximised : false,
                        systems : [
                        {
                            crs : "EPSG:4326",
                            label : "Coordonnées géographiques",
                            type : "Geographical"
                        },
                        {
                            crs : "EPSG:3857",
                            label : "Coordonnées métriques",
                            type : "Metric"
                        },
                        {
                            crs : "EPSG:32630",
                            label : "UTM 30N (France m\u00e9tropolitaine)",
                            type : "Metric",
                            geoBBox : { left: -6.00, bottom : 0.00, right : 0.00, top : 84.00 }
                        },
                        {
                            crs : "EPSG:32631",
                            label : "UTM 31N (France m\u00e9tropolitaine)",
                            type : "Metric",
                            geoBBox : { left: 0.00, bottom : 0.00, right : 6.00, top : 84.00 }
                        }
                        ]
                    },
                }
            });

            function switchTo3D() {
                map = map.switch2D3D("3d");
                document.getElementById("BoutonSwitchToOl").style.display = "inline";
                document.getElementById("BoutonSwitchToIt").style.display = "none";
            };

            function switchTo2D() {
                map = map.switch2D3D("2d");
                document.getElementById("BoutonSwitchToIt").style.display = "inline";
                document.getElementById("BoutonSwitchToOl").style.display = "none";
            };

    </script>
{{/content}}
{{/extend}}
